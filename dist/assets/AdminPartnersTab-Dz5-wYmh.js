import{c as v,r as l,j as e,o as f,a4 as u}from"./index-BygeAlJs.js";import{T as b,B as y}from"./UIComponents-B3VxjCBW.js";import{C as j}from"./circle-check-CT3jX_Zj.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=v("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]),N=a=>{switch(a){case"active":return{text:"Aktif",variant:"success"};case"pending":return{text:"Beklemede",variant:"warning"};case"suspended":return{text:"Askıda",variant:"error"};default:return{text:"Bilinmiyor",variant:"neutral"}}},B=()=>{const[a,m]=l.useState("pending"),[h,d]=l.useState(!0),[o,g]=l.useState([]),[c,n]=l.useState(""),x=async()=>{d(!0),n("");try{const t=await u.getAll(),r=a?t.filter(s=>s.status===a):t;g(r)}catch(t){console.error("Partner load error:",t),n((t==null?void 0:t.message)||"Partnerler yüklenemedi")}finally{d(!1)}};l.useEffect(()=>{x()},[a]);const i=async(t,r)=>{try{await u.update(t,{status:r}),await x()}catch(s){console.error("Status update error:",s),n((s==null?void 0:s.message)||"Durum güncellenemedi")}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-bold",children:"Partner Başvuruları"}),e.jsxs("select",{className:"border rounded-lg px-3 py-2 text-sm",value:a,onChange:t=>m(t.target.value),children:[e.jsx("option",{value:"pending",children:"Beklemede"}),e.jsx("option",{value:"active",children:"Aktif"}),e.jsx("option",{value:"suspended",children:"Askıda"}),e.jsx("option",{value:"",children:"Tümü"})]})]}),h?e.jsx(b,{rows:6}):c?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-red-700 text-sm",children:c}):e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-slate-50 p-4 border-b border-slate-200 text-sm font-bold",children:["Toplam: ",o.length]}),e.jsx("div",{className:"divide-y divide-slate-100",children:o.map(t=>{const r=N(t.status),s=t.company_name||t.name||"Partner",p=t.profile_photo_url||t.logo_url||`https://ui-avatars.com/api/?name=${encodeURIComponent(s)}&background=6366f1&color=fff&size=64`;return e.jsxs("div",{className:"p-4 flex items-center gap-4",children:[e.jsx("img",{src:p,alt:s,className:"w-12 h-12 rounded-full object-cover border-2 border-slate-200 shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-slate-900 text-sm",children:s}),e.jsxs("div",{className:"text-xs text-slate-500",children:[t.email," • ",t.phone]}),e.jsxs("div",{className:"text-xs text-slate-500",children:[t.city||"-"," / ",t.district||"-"]})]}),e.jsx(y,{variant:r.variant,children:r.text}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{className:"px-3 py-2 bg-green-600 text-white rounded-lg text-xs font-bold hover:bg-green-700 flex items-center gap-1",onClick:()=>i(t.id,"active"),title:"Onayla",children:[e.jsx(j,{size:16})," Onayla"]}),e.jsxs("button",{className:"px-3 py-2 bg-yellow-500 text-white rounded-lg text-xs font-bold hover:bg-yellow-600 flex items-center gap-1",onClick:()=>i(t.id,"pending"),title:"Beklemeye Al",children:[e.jsx(k,{size:16})," Beklemede"]}),e.jsxs("button",{className:"px-3 py-2 bg-red-600 text-white rounded-lg text-xs font-bold hover:bg-red-700 flex items-center gap-1",onClick:()=>i(t.id,"suspended"),title:"Askıya Al",children:[e.jsx(f,{size:16})," Askıya Al"]})]})]},t.id)})})]})]})};export{B as default};
