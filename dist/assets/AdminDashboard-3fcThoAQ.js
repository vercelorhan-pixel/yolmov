const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminOffersTab-BR4p4gMv.js","assets/index-IsB0DZIC.js","assets/StatusBadge-ByRekIte.js","assets/eye-BMA1RCON.js","assets/activity-DzKKuo7Z.js","assets/tag-BsQgAGPJ.js","assets/wallet-zr5OqcRk.js","assets/credit-card-BuD-LL9x.js","assets/star-Ch8imMJm.js","assets/log-out-BTvVZ02q.js","assets/file-text-bbjo8QFJ.js","assets/calendar-C9j0HFfb.js","assets/dollar-sign-D7ZxqznG.js","assets/circle-check-big-BVNJpkHf.js","assets/shield-CgWsR5x6.js","assets/user-plus-Vu0AXerp.js","assets/square-pen-3TdZ6-z2.js","assets/trash-2-DFtXRdzw.js","assets/mail-BJcCj4b8.js","assets/AdminReportsTab-D-rgWc6J.js","assets/download-CsPk11ta.js","assets/AdminPricingTab-CZsiBP3V.js","assets/priceCalculator-Bv36E9gB.js","assets/refresh-cw-B4Zmwi9p.js","assets/circle-alert-Dj6Dqu_P.js","assets/save-DMA3RJJe.js","assets/circle-check-C53YPnbT.js","assets/trending-up-Czv5DYYb.js","assets/AdminDocumentsTab-COypbFQq.js","assets/filter-CUVtqY4H.js","assets/AdminFleetTab-Cwva6nfK.js","assets/ban-BLzpXR30.js","assets/building-1aacSXHK.js","assets/AdminReviewsTab-DNnZM18d.js","assets/AdminFinancialTab-DsLUJhIe.js","assets/AdminCreditsTab-DbJiRA_q.js","assets/plus-D64aJb8I.js","assets/AdminJobHistoryTab-B1r0_Twr.js","assets/AdminUsersTab-ltJv8kB7.js","assets/eye-off-Q-9lIdC9.js","assets/AdminRequestsTab-B7ocZBjN.js","assets/AdminCustomerRequestsTab-CP8g-bJ4.js","assets/AdminPartnersTab-BxiuXtlB.js","assets/UIComponents-xokFyRYa.js","assets/arrow-left-cO6eCG7T.js","assets/image-9PDSIqRz.js","assets/external-link-BlMe3SP6.js","assets/AdminPartnerApprovalTab-BWhrOyUF.js","assets/AdminServiceAreasTab-DzH1onKo.js","assets/route-DNAyVtB0.js","assets/AdminPartnerShowcaseTab-BzP4_82b.js","assets/showcaseSanitizer-CU8VnsaU.js","assets/zap-DL89YCIL.js","assets/award-0Cizl16M.js","assets/AdminCampaignsTab-HwKQAAVT.js","assets/gift-DZw4meA3.js","assets/pen-DotNJTie.js","assets/percent-BIhLjzCK.js","assets/AdminCallCenterTab-CZ2Cwdpk.js","assets/AdminActiveCallsTab-lk4wFfCt.js","assets/AdminCallLogsTab-DKfmSlg8.js","assets/phone-missed-D4wRZTsT.js","assets/AdminActivityLogsTabV2-tdjuTIeb.js","assets/globe-D_JWij8h.js","assets/chevron-up-56wQhidv.js","assets/circle-help-C4QsvIUq.js"])))=>i.map(i=>d[i]);
import{c as R,H as ke,E as we,U as me,n as _e,M as K,T as W,j as e,J as Ae,G as Se,X as ue,d as E,r as i,W as De,u as Te,i as ze,g as Ce,s as w,S as ne,R as j,P as se,_ as y,C as M,p as te,o as Pe}from"./index-IsB0DZIC.js";import{A as Re}from"./activity-DzKKuo7Z.js";import{T as Ee}from"./tag-BsQgAGPJ.js";import{H as Ie,W as Oe,S as $e,F as Me}from"./wallet-zr5OqcRk.js";import{C as pe}from"./credit-card-BuD-LL9x.js";import{E as B}from"./eye-BMA1RCON.js";import{S as X}from"./star-Ch8imMJm.js";import{L as Le}from"./log-out-BTvVZ02q.js";import{F as T}from"./file-text-bbjo8QFJ.js";import{C as le}from"./calendar-C9j0HFfb.js";import{D as z}from"./dollar-sign-D7ZxqznG.js";import{C as I}from"./circle-check-big-BVNJpkHf.js";import{S as ee}from"./StatusBadge-ByRekIte.js";import{S as H}from"./shield-CgWsR5x6.js";import{U as Ue}from"./user-plus-Vu0AXerp.js";import{S as ie}from"./square-pen-3TdZ6-z2.js";import{T as de}from"./trash-2-DFtXRdzw.js";import{M as he}from"./mail-BJcCj4b8.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=R("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=R("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=R("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=R("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=R("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=R("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=R("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);var p=(a=>(a.SUPER_ADMIN="super_admin",a.SUPPORT="support",a.FINANCE="finance",a.OPERATIONS="operations",a))(p||{});const He=[{id:"overview",label:"Genel Bakƒ±≈ü",icon:Ke,category:"dashboard"},{id:"reports",label:"Detaylƒ± Raporlar",icon:Be,category:"dashboard",allowedRoles:[p.SUPER_ADMIN,p.FINANCE]},{id:"call-center",label:"√áaƒürƒ± Merkezi",icon:ke,category:"call-center",allowedRoles:[p.SUPER_ADMIN,p.SUPPORT]},{id:"active-calls",label:"Canlƒ± G√∂r√º≈ümeler",icon:Re,category:"call-center",allowedRoles:[p.SUPER_ADMIN,p.SUPPORT]},{id:"call-logs",label:"√áaƒürƒ± Kayƒ±tlarƒ±",icon:we,category:"call-center",allowedRoles:[p.SUPER_ADMIN,p.SUPPORT]},{id:"partner-approval",label:"Partner Onay",icon:Ye,category:"management",allowedRoles:[p.SUPER_ADMIN,p.OPERATIONS]},{id:"partners",label:"Partnerler",icon:me,category:"management"},{id:"users",label:"M√º≈üteriler",icon:Ve,category:"management"},{id:"admin-users",label:"Adminler",icon:_e,category:"management",allowedRoles:[p.SUPER_ADMIN]},{id:"customer-requests",label:"ƒ∞≈ü Talepleri",icon:K,category:"operations"},{id:"offers",label:"Verilen Teklifler",icon:Ee,category:"operations",allowedRoles:[p.SUPER_ADMIN,p.FINANCE]},{id:"job-history",label:"ƒ∞≈ü Ge√ßmi≈üi",icon:Ie,category:"operations"},{id:"fleet",label:"T√ºm Filo",icon:W,category:"operations",allowedRoles:[p.SUPER_ADMIN,p.OPERATIONS]},{id:"financial",label:"Kasa / Finans",icon:Oe,category:"finance",allowedRoles:[p.SUPER_ADMIN,p.FINANCE]},{id:"credits",label:"Kredi ƒ∞≈ülemleri",icon:pe,category:"finance",allowedRoles:[p.SUPER_ADMIN,p.FINANCE]},{id:"campaigns",label:"Kampanyalar",icon:Ge,category:"finance",allowedRoles:[p.SUPER_ADMIN,p.OPERATIONS]},{id:"pricing",label:"Fiyat Listesi",icon:Fe,category:"finance",allowedRoles:[p.SUPER_ADMIN,p.FINANCE]},{id:"activity-logs",label:"Aktivite Takibi",icon:B,category:"system",allowedRoles:[p.SUPER_ADMIN]},{id:"partner-showcase",label:"Vitrin D√ºzeni",icon:$e,category:"system",allowedRoles:[p.SUPER_ADMIN,p.OPERATIONS]},{id:"service-areas",label:"Hizmet B√∂lgeleri",icon:K,category:"system",allowedRoles:[p.SUPER_ADMIN,p.OPERATIONS]},{id:"documents",label:"Belge Y√∂netimi",icon:Me,category:"system",allowedRoles:[p.SUPER_ADMIN,p.OPERATIONS]},{id:"reviews",label:"Yorumlar",icon:X,category:"system",allowedRoles:[p.SUPER_ADMIN,p.SUPPORT]}],ce=({activeTab:a,onSelectTab:d,onLogout:c,role:r,mobile:s,onCloseMobile:b})=>{const n=[{id:"dashboard",label:"Kokpit",color:"text-slate-500"},{id:"call-center",label:"√áaƒürƒ± Merkezi",color:"text-green-500",badge:"CANLI"},{id:"management",label:"Y√∂netim",color:"text-slate-500"},{id:"operations",label:"Operasyon",color:"text-slate-500"},{id:"finance",label:"Finans & B√ºy√ºme",color:"text-slate-500"},{id:"system",label:"Sistem",color:"text-slate-500"}],g=t=>{switch(t){case"call-center":return"group-hover:text-green-500";case"finance":return"group-hover:text-green-500";case"operations":return"group-hover:text-blue-500";case"management":return"group-hover:text-purple-500";default:return"group-hover:text-orange-500"}};return e.jsxs("div",{className:`flex flex-col h-full bg-slate-900 text-white w-64 ${s?"shadow-2xl":""}`,children:[e.jsx("div",{className:"p-6 border-b border-slate-800 flex-shrink-0",children:e.jsxs("div",{className:"cursor-pointer",onClick:()=>d("overview"),children:[e.jsx("span",{className:"yolmov-logo text-3xl font-bold text-white block text-center mb-2",children:"yolmov"}),e.jsx("p",{className:"text-xs text-slate-400 text-center",children:"Admin Panel"})]})}),e.jsx("nav",{className:"flex-1 px-3 py-4 space-y-6 overflow-y-auto scrollbar-hide",children:n.map(t=>{const x=He.filter(o=>o.category===t.id&&(!o.allowedRoles||o.allowedRoles.includes(r)));return x.length===0?null:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between px-3 mb-2",children:[e.jsx("p",{className:`text-[10px] font-black ${t.color} uppercase tracking-wider opacity-80`,children:t.label}),t.badge&&e.jsx("span",{className:"bg-green-500/20 text-green-400 text-[9px] px-1.5 py-0.5 rounded font-bold animate-pulse",children:t.badge})]}),e.jsx("div",{className:"space-y-1",children:x.map(o=>e.jsxs("button",{role:"tab","aria-selected":a===o.id,"aria-controls":`panel-${o.id}`,onClick:()=>{d(o.id),s&&b&&b()},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all group ${a===o.id?"bg-orange-500 text-white shadow-lg":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[e.jsx(o.icon,{size:18,className:a===o.id?"":`transition-colors ${g(t.id)}`}),e.jsx("span",{className:"font-medium text-sm",children:o.label})]},o.id))})]},t.id)})}),e.jsxs("div",{className:"p-4 border-t border-slate-800 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-700 overflow-hidden",children:e.jsx("img",{src:"https://i.pravatar.cc/150?img=60",alt:"Admin"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold",children:"Admin User"}),e.jsx("p",{className:"text-xs text-slate-400",children:"admin@platform"})]})]}),e.jsxs("button",{onClick:c,className:"w-full flex items-center justify-center gap-2 p-2 text-slate-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:[e.jsx(Le,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"√áƒ±kƒ±≈ü Yap"})]})]})]})},We={overview:"Genel Bakƒ±≈ü",users:"Kullanƒ±cƒ± Y√∂netimi",partners:"Partner Y√∂netimi",requests:"Talep Y√∂netimi",offers:"Teklif Y√∂netimi",reports:"Raporlar"},Xe=({activeTab:a,notificationsCount:d=0,onOpenMobileSidebar:c})=>e.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-4 md:px-10 sticky top-0 z-20",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{className:"md:hidden p-2 rounded-lg bg-slate-100 text-slate-600 focus:outline-none focus:ring-2 focus:ring-orange-500","aria-label":"Men√ºy√º A√ß",onClick:c,children:e.jsx(Ae,{size:22})}),e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-800",id:"page-title",children:We[a]||"Panel"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("button",{className:"relative p-2 text-slate-400 hover:text-slate-600 focus:outline-none focus:ring-2 focus:ring-orange-500","aria-label":"Bildirimler",children:[e.jsx(Se,{size:22}),d>0&&e.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]})})]}),Je=({request:a,onClose:d})=>{if(!a)return null;const r={open:{bg:"bg-yellow-100",text:"text-yellow-700",label:"A√ßƒ±k"},matched:{bg:"bg-blue-100",text:"text-blue-700",label:"E≈üle≈üti"},completed:{bg:"bg-green-100",text:"text-green-700",label:"Tamamlandƒ±"},cancelled:{bg:"bg-red-100",text:"text-red-700",label:"ƒ∞ptal"}}[a.status];return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:d,children:e.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Talep Detaylarƒ±"}),e.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["#",a.id]})]}),e.jsx("button",{onClick:d,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"Kapat",children:e.jsx(ue,{size:24,className:"text-slate-400"})})]}),e.jsx("div",{className:"mb-6",children:e.jsx("span",{className:`inline-block px-4 py-2 rounded-full text-sm font-bold ${r.bg} ${r.text}`,children:r.label})}),e.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-xl",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-600 mb-3",children:"M√º≈üteri Bilgileri"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(E,{size:18,className:"text-slate-400"}),e.jsx("p",{className:"text-sm font-medium text-slate-900",children:a.customerName})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl",children:[e.jsx(T,{size:20,className:"text-blue-600 mb-2"}),e.jsx("p",{className:"text-xs text-blue-600 mb-1",children:"Hizmet T√ºr√º"}),e.jsx("p",{className:"text-lg font-bold text-blue-900",children:a.serviceType})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-xl",children:[e.jsx(le,{size:20,className:"text-green-600 mb-2"}),e.jsx("p",{className:"text-xs text-green-600 mb-1",children:"Olu≈üturma Tarihi"}),e.jsx("p",{className:"text-lg font-bold text-green-900",children:a.createdAt})]}),a.amount&&e.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl col-span-2",children:[e.jsx(z,{size:20,className:"text-orange-600 mb-2"}),e.jsx("p",{className:"text-xs text-orange-600 mb-1",children:"Tutar"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-900",children:["‚Ç∫",a.amount]})]})]}),e.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-xl",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-600 mb-2",children:"A√ßƒ±klama"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Kadƒ±k√∂y - Be≈üikta≈ü arasƒ± ara√ß √ßekme hizmeti talep edilmi≈ütir. Ara√ß ba≈ülatƒ±lamƒ±yor."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"flex-1 py-3 bg-blue-500 text-white rounded-xl font-bold hover:bg-blue-600 transition-colors",children:"M√º≈üteri Profiline Git"}),a.status==="open"&&e.jsx("button",{className:"flex-1 py-3 bg-red-50 text-red-600 rounded-xl font-bold hover:bg-red-100 transition-colors",children:"Talebi ƒ∞ptal Et"})]})]})})},Qe=({vehicle:a,onClose:d})=>{const[c,r]=i.useState((a==null?void 0:a.status)||"active");if(!a)return null;const b={active:{bg:"bg-green-100",text:"text-green-700",label:"Aktif"},maintenance:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Bakƒ±mda"},disabled:{bg:"bg-red-100",text:"text-red-700",label:"Devre Dƒ±≈üƒ±"}}[c];return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:d,children:e.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:n=>n.stopPropagation(),children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:a.plate}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:a.model}),e.jsx("span",{className:`inline-block mt-2 px-3 py-1 rounded-full text-xs font-bold ${b.bg} ${b.text}`,children:b.label})]}),e.jsx("button",{onClick:d,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"Kapat",children:e.jsx(ue,{size:24,className:"text-slate-400"})})]}),e.jsx("div",{className:"mb-6 rounded-2xl overflow-hidden h-64 bg-slate-100",children:e.jsx("img",{src:a.image,alt:a.plate,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Ara√ß Detaylarƒ±"}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[e.jsx(W,{size:18,className:"text-slate-400 mb-2"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Ara√ß Tipi"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:a.type})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[e.jsx(E,{size:18,className:"text-slate-400 mb-2"}),e.jsx("p",{className:"text-xs text-slate-500",children:"S√ºr√ºc√º"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:a.driver})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[e.jsx(le,{size:18,className:"text-slate-400 mb-2"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Kayƒ±t Tarihi"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:a.registrationDate})]}),a.lastService&&e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[e.jsx(De,{size:18,className:"text-slate-400 mb-2"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Son Bakƒ±m"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:a.lastService})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl",children:[e.jsx("p",{className:"text-xs text-blue-600 mb-1",children:"Partner"}),e.jsx("p",{className:"text-sm font-bold text-blue-900",children:a.partnerName}),e.jsx("button",{className:"mt-2 text-xs text-blue-600 hover:text-blue-700 font-medium",children:"Partner Profiline Git ‚Üí"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"ƒ∞statistikler & Y√∂netim"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 rounded-xl",children:[e.jsx(I,{size:18,className:"text-green-600 mb-2"}),e.jsx("p",{className:"text-xs text-green-600",children:"Tamamlanan"}),e.jsx("p",{className:"text-xl font-bold text-green-900",children:a.totalJobs})]}),e.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl",children:[e.jsx(z,{size:18,className:"text-orange-600 mb-2"}),e.jsx("p",{className:"text-xs text-orange-600",children:"Kazan√ß"}),e.jsxs("p",{className:"text-xl font-bold text-orange-900",children:["‚Ç∫",a.totalEarnings.toLocaleString()]})]})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[e.jsx("p",{className:"text-xs font-bold text-slate-600 mb-3",children:"Durum Y√∂netimi"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>r("active"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-colors ${c==="active"?"bg-green-500 text-white":"bg-slate-200 text-slate-600 hover:bg-slate-300"}`,children:"Aktif"}),e.jsx("button",{onClick:()=>r("maintenance"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-colors ${c==="maintenance"?"bg-yellow-500 text-white":"bg-slate-200 text-slate-600 hover:bg-slate-300"}`,children:"Bakƒ±mda"}),e.jsx("button",{onClick:()=>r("disabled"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-colors ${c==="disabled"?"bg-red-500 text-white":"bg-slate-200 text-slate-600 hover:bg-slate-300"}`,children:"Devre Dƒ±≈üƒ±"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{className:"w-full py-2.5 bg-blue-500 text-white rounded-xl text-sm font-bold hover:bg-blue-600 transition-colors",children:"Bakƒ±m Kaydƒ± Ekle"}),e.jsx("button",{className:"w-full py-2.5 bg-slate-500 text-white rounded-xl text-sm font-bold hover:bg-slate-600 transition-colors",children:"S√ºr√ºc√º Deƒüi≈ütir"}),e.jsx("button",{className:"w-full py-2.5 bg-orange-500 text-white rounded-xl text-sm font-bold hover:bg-orange-600 transition-colors",children:"Belgeleri G√∂r√ºnt√ºle"})]})]})]})]})})};function oe(a,d){const{searchKeys:c,statusKey:r}=d,[s,b]=i.useState(""),[n,g]=i.useState("all");return{filtered:i.useMemo(()=>a.filter(x=>{if(r&&n!=="all"&&String(x[r])!==n)return!1;if(s.trim()==="")return!0;const o=s.toLowerCase();return c.some(_=>String(x[_]).toLowerCase().includes(o))}),[a,s,n,r,c]),searchTerm:s,setSearchTerm:b,filterType:n,setFilterType:g}}const xe=({title:a="Kayƒ±t Yok",description:d="G√∂sterilecek veri bulunamadƒ±."})=>e.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-slate-500",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-100 flex items-center justify-center mb-4",children:e.jsx(qe,{size:28,className:"text-slate-400"})}),e.jsx("p",{className:"font-bold mb-1",children:a}),e.jsx("p",{className:"text-sm text-slate-400",children:d})]}),v=({rows:a=5})=>e.jsx("div",{className:"animate-pulse",children:Array.from({length:a}).map((d,c)=>e.jsx("div",{className:"h-12 bg-slate-100 rounded-xl mb-3"},c))}),Ze=i.lazy(()=>y(()=>import("./AdminOffersTab-BR4p4gMv.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]))),es=i.lazy(()=>y(()=>import("./AdminReportsTab-D-rgWc6J.js"),__vite__mapDeps([19,1,11,20,4,5,6,7,3,8,9,10,12,13,2,14,15,16,17,18]))),ss=i.lazy(()=>y(()=>import("./AdminPricingTab-CZsiBP3V.js"),__vite__mapDeps([21,1,22,23,24,12,25,26,27]))),ts=i.lazy(()=>y(()=>import("./AdminDocumentsTab-COypbFQq.js"),__vite__mapDeps([28,1,2,10,13,29,3,20,4,5,6,7,8,9,11,12,14,15,16,17,18]))),ls=i.lazy(()=>y(()=>import("./AdminFleetTab-Cwva6nfK.js"),__vite__mapDeps([30,1,2,26,31,29,32,11,3,4,5,6,7,8,9,10,12,13,14,15,16,17,18]))),as=i.lazy(()=>y(()=>import("./AdminReviewsTab-DNnZM18d.js"),__vite__mapDeps([33,1,8,3,4,5,6,7,9,10,11,12,13,2,14,15,16,17,18]))),rs=i.lazy(()=>y(()=>import("./AdminFinancialTab-DsLUJhIe.js"),__vite__mapDeps([34,1,2,24,27,13,32,20,3,4,5,6,7,8,9,10,11,12,14,15,16,17,18]))),ns=i.lazy(()=>y(()=>import("./AdminCreditsTab-DbJiRA_q.js"),__vite__mapDeps([35,1,24,6,11,36,32,29,4,5,7,3,8,9,10,12,13,2,14,15,16,17,18]))),is=i.lazy(()=>y(()=>import("./AdminJobHistoryTab-B1r0_Twr.js"),__vite__mapDeps([37,1,13,12,27,20,3,4,5,6,7,8,9,10,11,2,14,15,16,17,18]))),ds=i.lazy(()=>y(()=>import("./AdminUsersTab-ltJv8kB7.js"),__vite__mapDeps([38,1,15,18,14,11,16,17,39,3,4,5,6,7,8,9,10,12,13,2]))),cs=i.lazy(()=>y(()=>import("./AdminRequestsTab-B7ocZBjN.js"),__vite__mapDeps([40,1,2,13,3,27,4,5,6,7,8,9,10,11,12,14,15,16,17,18]))),os=i.lazy(()=>y(()=>import("./AdminCustomerRequestsTab-CP8g-bJ4.js"),__vite__mapDeps([41,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18])));i.lazy(()=>y(()=>import("./AdminPartnersTab-BxiuXtlB.js"),__vite__mapDeps([42,1,43,44,14,18,11,8,26,12,32,10,45,3,46])));const xs=i.lazy(()=>y(()=>import("./AdminPartnerApprovalTab-BWhrOyUF.js"),__vite__mapDeps([47,1,32,18,11,3,13,10,45,24,46,4,5,6,7,8,9,12,2,14,15,16,17]))),ms=i.lazy(()=>y(()=>import("./AdminServiceAreasTab-DzH1onKo.js"),__vite__mapDeps([48,1,23,49,3,11,26]))),us=i.lazy(()=>y(()=>import("./AdminPartnerShowcaseTab-BzP4_82b.js"),__vite__mapDeps([50,1,51,6,14,8,44,24,13,32,7,52,25,10,53]))),ps=i.lazy(()=>y(()=>import("./AdminCampaignsTab-HwKQAAVT.js"),__vite__mapDeps([54,1,43,36,55,39,3,56,17,5,57,11,25]))),hs=i.lazy(()=>y(()=>import("./AdminCallCenterTab-CZ2Cwdpk.js"),__vite__mapDeps([58,1,23,26,4,5,6,7,3,8,9,10,11,12,13,2,14,15,16,17,18]))),bs=i.lazy(()=>y(()=>import("./AdminActiveCallsTab-lk4wFfCt.js"),__vite__mapDeps([59,1]))),gs=i.lazy(()=>y(()=>import("./AdminCallLogsTab-DKfmSlg8.js"),__vite__mapDeps([60,1,20,61,13]))),js=i.lazy(()=>y(()=>import("./AdminActivityLogsTabV2-tdjuTIeb.js"),__vite__mapDeps([62,1,23,3,4,57,27,63,64,52,46,65,14,32]))),fs=()=>{const a=Te(),d=ze(),c=Ce(),[r,s]=i.useState("overview"),[b,n]=i.useState(!1),[g,t]=i.useState("all"),[x,o]=i.useState(null),[_,u]=i.useState(null),[f,S]=i.useState(!1),q=p.SUPER_ADMIN,[C,J]=i.useState([]),[G,V]=i.useState([]),[h,N]=i.useState([]),[k,A]=i.useState([]),[O,Q]=i.useState([]),[L,be]=i.useState([]),[U,ge]=i.useState([]);i.useEffect(()=>{ae()},[]),i.useEffect(()=>{ae()},[r]);const ae=async()=>{try{const l=localStorage.getItem("yolmov_admin");if(l){const D=JSON.parse(l);if(D!=null&&D.role){await je();return}}console.warn("Not an admin user, skipping data load")}catch(l){console.warn("Admin check failed, skipping data load:",l)}},je=async()=>{try{const D=(await w.requests.getAll()).map(m=>({id:m.id,customerId:m.customer_id,customerName:"M√º≈üteri",serviceType:m.service_type,location:`${m.from_district}, ${m.from_city}`,from:`${m.from_district}, ${m.from_city}`,to:m.to_city?`${m.to_district}, ${m.to_city}`:"",status:m.status,createdAt:m.created_at,estimatedPrice:m.estimated_price}));ge(D);const Z=await w.customers.getAll(),P=await w.partners.getAll(),Ne=[...Z.map(m=>({id:m.id,name:m.full_name||`${m.first_name||""} ${m.last_name||""}`.trim()||m.name||m.email,email:m.email,phone:m.phone,role:"customer",type:"customer",createdAt:m.created_at,status:"active",joinDate:new Date(m.created_at).toLocaleDateString("tr-TR"),totalSpent:0,totalEarned:0})),...P.map(m=>({id:m.id,name:m.company_name||m.name||`${m.first_name||""} ${m.last_name||""}`.trim()||m.email,email:m.email,phone:m.phone,role:"partner",type:"partner",createdAt:m.created_at,status:m.status||"pending",joinDate:new Date(m.created_at).toLocaleDateString("tr-TR"),totalSpent:0,totalEarned:0}))];J(Ne),V(P);const ve=await w.offers.getAll();be(ve);const ye=await w.supportTickets.getAll();Q(ye),console.log("‚úÖ [AdminDashboard] T√ºm veriler y√ºklendi"),console.log("üìä Partners loaded:",P.length,"items"),console.log("üìä Partners status breakdown:",{total:P.length,active:P.filter(m=>m.status==="active").length,pending:P.filter(m=>m.status==="pending").length,suspended:P.filter(m=>m.status==="suspended").length})}catch(l){console.error("‚ùå Admin verileri y√ºklenemedi:",l)}};i.useEffect(()=>{const l={"/admin":"overview","/admin/kullanicilar":"users","/admin/partnerler":"partners","/admin/partner-onay":"partner-approval","/admin/partner-vitrin":"partner-showcase","/admin/canli-gorusmeler":"active-calls","/admin/cagri-kayitlari":"call-logs","/admin/talepler":"requests","/admin/musteri-talepleri":"customer-requests","/admin/teklifler":"offers","/admin/raporlar":"reports","/admin/belgeler":"documents","/admin/filo":"fleet","/admin/degerlendirmeler":"reviews","/admin/finansal":"financial","/admin/krediler":"credits","/admin/is-gecmisi":"job-history","/admin/admin-kullanicilari":"admin-users","/admin/hizmet-bolgeleri":"service-areas","/admin/kampanyalar":"campaigns","/admin/aktivite":"activity-logs"};if(d.pathname.startsWith("/admin/kullanicilar/")){s("users");return}if(d.pathname.startsWith("/admin/partnerler/")){s("partners");return}if(d.pathname.startsWith("/admin/talepler/")){s("requests");return}if(d.pathname.startsWith("/admin/teklifler/")){s("offers");return}if(d.pathname.startsWith("/admin/filo/")){s("fleet");return}if(d.pathname.startsWith("/admin/degerlendirmeler/")){s("reviews");return}const D=l[d.pathname];D&&s(D)},[d.pathname]);const re=l=>{const Z={overview:"/admin",users:"/admin/kullanicilar",partners:"/admin/partnerler","partner-approval":"/admin/partner-onay","partner-showcase":"/admin/partner-vitrin","active-calls":"/admin/canli-gorusmeler","call-logs":"/admin/cagri-kayitlari",requests:"/admin/talepler","customer-requests":"/admin/musteri-talepleri",offers:"/admin/teklifler",reports:"/admin/raporlar",documents:"/admin/belgeler",fleet:"/admin/filo",reviews:"/admin/degerlendirmeler",financial:"/admin/finansal",credits:"/admin/krediler","job-history":"/admin/is-gecmisi","admin-users":"/admin/admin-kullanicilari","service-areas":"/admin/hizmet-bolgeleri",campaigns:"/admin/kampanyalar","activity-logs":"/admin/aktivite"}[l]||"/admin";a(Z)},fe=g==="all"?C:C.filter(l=>l.role===g),F=oe(fe,{searchKeys:["name","email"]}),$=oe(G,{searchKeys:["name","email","company_name"],statusKey:"status"}),Y={totalUsers:C.filter(l=>l.role==="customer").length,totalPartners:G.length,pendingLeadRequests:h.filter(l=>l.status==="pending").length,pendingAreaRequests:k.filter(l=>l.status==="pending").length,openSupportRequests:O.filter(l=>l.status==="open"||l.status==="in_progress").length,activeCustomerRequests:U.filter(l=>l.status==="open").length,completedCustomerRequests:U.filter(l=>l.status==="completed").length,totalRevenue:U.filter(l=>l.amount).reduce((l,D)=>l+(D.amount||0),0),b2cUsers:C.filter(l=>l.role==="customer").length,b2bUsers:C.filter(l=>l.role==="partner").length};return e.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden",children:[b&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>n(!1)}),e.jsx("div",{className:"hidden md:block",children:e.jsx(ce,{activeTab:r,onSelectTab:re,onLogout:()=>a("/"),role:q})}),e.jsx("div",{className:`fixed inset-y-0 left-0 z-40 transform md:hidden transition-transform duration-300 ${b?"translate-x-0":"-translate-x-full"}`,children:e.jsx(ce,{activeTab:r,onSelectTab:re,onLogout:()=>a("/"),role:q,mobile:!0,onCloseMobile:()=>n(!1)})}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(Xe,{activeTab:r,notificationsCount:3,onOpenMobileSidebar:()=>n(!0)}),e.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:[r==="overview"&&e.jsxs("div",{className:"space-y-6",id:"panel-overview",role:"tabpanel","aria-labelledby":"overview",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:e.jsx(me,{size:24,className:"text-blue-600"})}),e.jsx("span",{className:"text-xs font-bold text-green-600",children:"+12%"})]}),e.jsx("h3",{className:"text-3xl font-black text-slate-900 mb-1",children:Y.totalUsers}),e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Toplam Kullanƒ±cƒ±"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center",children:e.jsx(H,{size:24,className:"text-orange-600"})}),e.jsx("span",{className:"text-xs font-bold text-green-600",children:"+8%"})]}),e.jsx("h3",{className:"text-3xl font-black text-slate-900 mb-1",children:Y.totalPartners}),e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Aktif Partner"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:e.jsx(I,{size:24,className:"text-green-600"})}),e.jsx("span",{className:"text-xs font-bold text-green-600",children:"+23%"})]}),e.jsx("h3",{className:"text-3xl font-black text-slate-900 mb-1",children:Y.completedCustomerRequests}),e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Tamamlanan ƒ∞≈ü"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:e.jsx(z,{size:24,className:"text-purple-600"})}),e.jsx("span",{className:"text-xs font-bold text-green-600",children:"+31%"})]}),e.jsxs("h3",{className:"text-3xl font-black text-slate-900 mb-1",children:["‚Ç∫",Y.totalRevenue.toLocaleString()]}),e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Toplam Ciro"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",role:"region","aria-label":"Son Aktiviteler",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Son M√º≈üteri Talepleri"}),e.jsx("div",{className:"space-y-3",children:U.slice(0,5).map(l=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl hover:bg-slate-100 cursor-pointer transition-colors",onClick:()=>{s("customer-requests"),a("/admin/musteri-talepleri")},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(T,{size:20,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-slate-900",children:l.customerName}),e.jsxs("p",{className:"text-xs text-slate-500",children:[l.serviceType," - ",l.id]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(ee,{type:"request",status:l.status}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:l.createdAt})]})]},l.id))})]})]}),r==="users"&&e.jsx("div",{className:"space-y-6",id:"panel-users",role:"tabpanel","aria-labelledby":"users",children:c.id?e.jsx(Ss,{userId:c.id,onBack:()=>a("/admin/kullanicilar")}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(ne,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Kullanƒ±cƒ± ara...",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",value:F.searchTerm,onChange:l=>F.setSearchTerm(l.target.value),"aria-label":"Kullanƒ±cƒ± arama"})]}),e.jsxs("select",{className:"px-4 py-3 bg-white border border-slate-200 rounded-xl font-medium text-slate-700 focus:ring-2 focus:ring-blue-500 outline-none",value:g,onChange:l=>t(l.target.value),"aria-label":"Kullanƒ±cƒ± tipi filtresi",children:[e.jsx("option",{value:"all",children:"T√ºm Kullanƒ±cƒ±lar"}),e.jsx("option",{value:"customer",children:"Sadece M√º≈üteriler (B2C)"}),e.jsx("option",{value:"partner",children:"Sadece Partnerler (B2B)"})]}),e.jsxs("button",{onClick:()=>S(!0),className:"px-6 py-3 bg-orange-500 text-white rounded-xl font-bold hover:bg-orange-600 flex items-center gap-2","aria-label":"Yeni kullanƒ±cƒ± olu≈ütur",children:[e.jsx(Ue,{size:20})," Yeni Kullanƒ±cƒ±"]})]}),e.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 overflow-hidden",role:"region","aria-label":"Kullanƒ±cƒ± listesi",children:F.filtered.length===0?e.jsx(xe,{title:"Kullanƒ±cƒ± Yok",description:"Arama kriterine uygun kullanƒ±cƒ± bulunamadƒ±."}):e.jsxs("table",{className:"w-full",role:"table",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",role:"rowgroup",children:e.jsxs("tr",{role:"row",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"Kullanƒ±cƒ±"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"Tip"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"Durum"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"Kayƒ±t Tarihi"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"Toplam"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"ƒ∞≈ülemler"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",role:"rowgroup",children:F.filtered.map(l=>e.jsxs("tr",{className:"hover:bg-slate-50",role:"row",children:[e.jsx("td",{className:"px-6 py-4",role:"cell",children:e.jsxs("div",{className:"cursor-pointer hover:text-orange-600 transition-colors",onClick:()=>a(`/admin/kullanicilar/${l.id}`),children:[e.jsx("p",{className:"font-bold text-slate-900",children:l.name}),e.jsx("p",{className:"text-xs text-slate-500",children:l.email})]})}),e.jsx("td",{className:"px-6 py-4",role:"cell",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${l.type==="customer"?"bg-blue-100 text-blue-700":"bg-orange-100 text-orange-700"}`,children:l.type==="customer"?"M√º≈üteri":"Partner"})}),e.jsx("td",{className:"px-6 py-4",role:"cell",children:e.jsx(ee,{type:"user",status:l.status||"active"})}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",role:"cell",children:l.joinDate}),e.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",role:"cell",children:["‚Ç∫",(l.totalSpent||l.totalEarned||0).toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 text-right",role:"cell",children:[e.jsx("button",{onClick:()=>a(`/admin/kullanicilar/${l.id}`),className:"p-2 text-slate-400 hover:text-blue-600","aria-label":`Kullanƒ±cƒ± ${l.id} g√∂r√ºnt√ºle`,children:e.jsx(B,{size:18})}),e.jsx("button",{className:"p-2 text-slate-400 hover:text-orange-600","aria-label":`Kullanƒ±cƒ± ${l.id} d√ºzenle`,children:e.jsx(ie,{size:18})}),e.jsx("button",{className:"p-2 text-slate-400 hover:text-red-600","aria-label":`Kullanƒ±cƒ± ${l.id} sil`,children:e.jsx(de,{size:18})})]})]},l.id))})]})})]})}),r==="partners"&&e.jsx("div",{className:"space-y-6",id:"panel-partners",role:"tabpanel","aria-labelledby":"partners",children:c.id?e.jsx(Ds,{partnerId:c.id,onBack:()=>a("/admin/partnerler")}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(ne,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Partner ara...",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",value:$.searchTerm,onChange:l=>$.setSearchTerm(l.target.value),"aria-label":"Partner arama"})]}),e.jsxs("select",{className:"px-4 py-3 bg-white border border-slate-200 rounded-xl font-medium text-slate-700 focus:ring-2 focus:ring-blue-500 outline-none",value:$.filterType,onChange:l=>$.setFilterType(l.target.value),"aria-label":"Partner durum filtresi",children:[e.jsx("option",{value:"all",children:"T√ºm Durumlar"}),e.jsx("option",{value:"active",children:"Aktif"}),e.jsx("option",{value:"pending",children:"Onay Bekliyor"}),e.jsx("option",{value:"suspended",children:"Askƒ±da"})]})]}),e.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 overflow-hidden",role:"region","aria-label":"Partner listesi",children:$.filtered.length===0?e.jsx(xe,{title:"Partner Yok",description:"Arama kriterine uygun partner yok."}):e.jsxs("table",{className:"w-full",role:"table",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",role:"rowgroup",children:e.jsxs("tr",{role:"row",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"Partner"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"ƒ∞leti≈üim"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"Puan"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"ƒ∞≈ü Sayƒ±sƒ±"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"Kredi"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"Durum"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"ƒ∞≈ülemler"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",role:"rowgroup",children:$.filtered.map(l=>e.jsxs("tr",{className:"hover:bg-slate-50",role:"row",children:[e.jsx("td",{className:"px-6 py-4",role:"cell",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(H,{size:20,className:"text-orange-600"})}),e.jsxs("div",{className:"cursor-pointer hover:text-orange-600 transition-colors",onClick:()=>a(`/admin/partnerler/${l.id}`),children:[e.jsx("p",{className:"font-bold text-slate-900",children:l.company_name||l.name||`${l.first_name||""} ${l.last_name||""}`.trim()||l.email}),e.jsx("p",{className:"text-xs text-slate-500",children:l.company_name?l.first_name&&l.last_name?`${l.first_name} ${l.last_name}`:l.email:l.id})]})]})}),e.jsx("td",{className:"px-6 py-4",role:"cell",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"text-slate-900",children:l.email}),e.jsx("p",{className:"text-slate-500",children:l.phone})]})}),e.jsx("td",{className:"px-6 py-4",role:"cell",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(X,{size:16,className:"text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"font-bold text-slate-900",children:l.rating||0})]})}),e.jsx("td",{className:"px-6 py-4 font-bold text-slate-900",role:"cell",children:l.completed_jobs||l.completedJobs||0}),e.jsx("td",{className:"px-6 py-4",role:"cell",children:e.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-sm font-bold",children:l.credits})}),e.jsx("td",{className:"px-6 py-4",role:"cell",children:e.jsx(ee,{type:"partner",status:l.status||"active"})}),e.jsxs("td",{className:"px-6 py-4 text-right",role:"cell",children:[e.jsx("button",{onClick:()=>a(`/admin/partnerler/${l.id}`),className:"p-2 text-slate-400 hover:text-blue-600","aria-label":`Partner ${l.id} g√∂r√ºnt√ºle`,children:e.jsx(B,{size:18})}),e.jsx("button",{className:"p-2 text-slate-400 hover:text-orange-600","aria-label":`Partner ${l.id} d√ºzenle`,children:e.jsx(ie,{size:18})}),e.jsx("button",{className:"p-2 text-slate-400 hover:text-red-600","aria-label":`Partner ${l.id} sil`,children:e.jsx(de,{size:18})})]})]},l.id))})]})})]})}),r==="partner-approval"&&e.jsx("div",{className:"space-y-6",id:"panel-partner-approval",role:"tabpanel","aria-labelledby":"partner-approval",children:e.jsx(i.Suspense,{fallback:e.jsx(v,{}),children:e.jsx(xs,{})})}),r==="partner-showcase"&&e.jsx("div",{className:"space-y-6",id:"panel-partner-showcase",role:"tabpanel","aria-labelledby":"partner-showcase",children:e.jsx(i.Suspense,{fallback:e.jsx(v,{}),children:e.jsx(us,{})})}),r==="call-center"&&e.jsx("div",{className:"space-y-6",id:"panel-call-center",role:"tabpanel","aria-labelledby":"call-center",children:e.jsx(i.Suspense,{fallback:e.jsx(v,{}),children:e.jsx(hs,{})})}),r==="active-calls"&&e.jsx("div",{className:"space-y-6",id:"panel-active-calls",role:"tabpanel","aria-labelledby":"active-calls",children:e.jsx(i.Suspense,{fallback:e.jsx(v,{}),children:e.jsx(bs,{})})}),r==="call-logs"&&e.jsx("div",{className:"space-y-6",id:"panel-call-logs",role:"tabpanel","aria-labelledby":"call-logs",children:e.jsx(i.Suspense,{fallback:e.jsx(v,{}),children:e.jsx(gs,{})})}),r==="requests"&&e.jsx("div",{children:d.pathname.startsWith("/admin/talepler/lead/")&&c.id?e.jsx(Ns,{requestId:c.id,onBack:()=>a("/admin/talepler")}):d.pathname.startsWith("/admin/talepler/alan/")&&c.id?e.jsx(vs,{requestId:c.id,onBack:()=>a("/admin/talepler")}):d.pathname.startsWith("/admin/talepler/destek/")&&c.id?e.jsx(ys,{requestId:c.id,onBack:()=>a("/admin/talepler")}):e.jsx(i.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(cs,{leadRequests:h,areaRequests:k,supportRequests:O})})}),r==="customer-requests"&&e.jsx("div",{children:c.id?e.jsx(As,{requestId:c.id,onBack:()=>a("/admin/musteri-talepleri")}):e.jsx(i.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(os,{requests:U})})}),r==="offers"&&e.jsx("div",{children:c.id?e.jsx(ks,{offerId:c.id,onBack:()=>a("/admin/teklifler")}):e.jsx(i.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(Ze,{data:L,onViewOffer:l=>a(`/admin/teklifler/${l.id}`)})})}),r==="reports"&&e.jsx(i.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(es,{})}),r==="pricing"&&e.jsx(i.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(ss,{})}),r==="documents"&&e.jsx(i.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(ts,{})}),r==="fleet"&&e.jsx("div",{children:c.vehicleId?e.jsx(ws,{vehicleId:c.vehicleId,onBack:()=>a("/admin/filo")}):e.jsx(i.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(ls,{onViewVehicle:l=>a(`/admin/filo/${l.id}`)})})}),r==="reviews"&&e.jsx("div",{children:c.id?e.jsx(_s,{reviewId:c.id,onBack:()=>a("/admin/degerlendirmeler")}):e.jsx(i.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(as,{})})}),r==="financial"&&e.jsx(i.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(rs,{})}),r==="credits"&&e.jsx(i.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(ns,{})}),r==="job-history"&&e.jsx(i.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(is,{})}),r==="admin-users"&&e.jsx(i.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(ds,{})}),r==="service-areas"&&e.jsx(i.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(ms,{})}),r==="campaigns"&&e.jsx(i.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(ps,{})}),r==="activity-logs"&&e.jsx(i.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(js,{})})]})]}),e.jsx(Je,{request:x,onClose:()=>o(null)}),e.jsx(Qe,{vehicle:_,onClose:()=>u(null)}),f&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>S(!1),children:e.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-md w-full",onClick:l=>l.stopPropagation(),children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Yeni Kullanƒ±cƒ± Ekle"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ad Soyad"}),e.jsx("input",{type:"text",placeholder:"√ñrn: Ahmet Yƒ±lmaz",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",placeholder:"ornek@email.com",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Telefon"}),e.jsx("input",{type:"tel",placeholder:"05XX XXX XX XX",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Kullanƒ±cƒ± Tipi"}),e.jsxs("select",{className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none",children:[e.jsx("option",{value:"customer",children:"M√º≈üteri (B2C)"}),e.jsx("option",{value:"partner",children:"Partner (B2B)"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>S(!1),className:"flex-1 px-4 py-3 bg-slate-200 text-slate-700 rounded-xl font-bold hover:bg-slate-300",children:"ƒ∞ptal"}),e.jsx("button",{onClick:()=>{alert("Kullanƒ±cƒ± eklendi!"),S(!1)},className:"flex-1 px-4 py-3 bg-orange-600 text-white rounded-xl font-bold hover:bg-orange-700",children:"Ekle"})]})]})]})})]})},Ns=({requestId:a,onBack:d})=>{const[c,r]=j.useState(null);j.useEffect(()=>{r(null)},[a]);const s=c,b=()=>{s&&confirm(`${s.partnerName} i√ßin lead talebi onaylanacak. Devam edilsin mi?`)&&(r({...s,status:"approved",resolvedAt:new Date().toISOString(),resolvedBy:"Admin"}),alert("Lead talebi onaylandƒ±."))},n=()=>{if(!s)return;const g=prompt("Red nedeni (opsiyonel):");confirm(`${s.partnerName} i√ßin lead talebi reddedilecek. Devam edilsin mi?`)&&(r({...s,status:"rejected",resolvedAt:new Date().toISOString(),resolvedBy:"Admin",adminNotes:g||void 0}),alert("Lead talebi reddedildi."))};return s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:d,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:"‚Üê Geri"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Lead Talebi Detayƒ±"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:s.partnerName}),e.jsx("p",{className:"text-slate-500",children:s.id})]}),e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold ${s.status==="approved"?"bg-green-100 text-green-700":s.status==="rejected"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:s.status==="approved"?"Onaylandƒ±":s.status==="rejected"?"Reddedildi":"Bekliyor"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(K,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"B√∂lge"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.serviceArea})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(se,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Hizmet Tipi"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.serviceType})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsx(pe,{size:20,className:"text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-700 font-bold",children:"Maliyet"}),e.jsxs("p",{className:"font-black text-2xl text-blue-900",children:[s.creditCost," Kredi"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(M,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Olu≈üturulma"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.createdAt})]})]})]}),s.status==="pending"&&e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsxs("button",{onClick:b,className:"px-6 py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(I,{size:20}),"Onayla"]}),e.jsxs("button",{onClick:n,className:"px-6 py-3 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-colors flex items-center gap-2",children:[e.jsx(te,{size:20}),"Reddet"]})]}),s.status!=="pending"&&s.resolvedAt&&e.jsxs("div",{className:"mt-6 p-4 bg-slate-50 rounded-xl",children:[e.jsxs("p",{className:"text-sm text-slate-600",children:[e.jsx("strong",{children:"√á√∂z√ºld√º:"})," ",s.resolvedAt," - ",s.resolvedBy]}),s.adminNotes&&e.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:[e.jsx("strong",{children:"Not:"})," ",s.adminNotes]})]})]})]}):e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8",children:[e.jsx("button",{onClick:d,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4",children:"‚Üê Geri D√∂n"}),e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl",children:"Lead talebi bulunamadƒ±."})]})},vs=({requestId:a,onBack:d})=>{var g,t;const[c,r]=j.useState(null);j.useEffect(()=>{r(null)},[a]);const s=c,b=()=>{s&&confirm(`${s.partnerName} i√ßin alan geni≈ületme talebi onaylanacak. Devam edilsin mi?`)&&(r({...s,status:"approved",resolvedAt:new Date().toISOString(),resolvedBy:"Admin"}),alert("Alan geni≈ületme talebi onaylandƒ±."))},n=()=>{if(!s)return;const x=prompt("Red nedeni:");x&&confirm(`${s.partnerName} i√ßin alan geni≈ületme talebi reddedilecek. Devam edilsin mi?`)&&(r({...s,status:"rejected",resolvedAt:new Date().toISOString(),resolvedBy:"Admin",adminNotes:x}),alert("Alan geni≈ületme talebi reddedildi."))};return s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:d,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:"‚Üê Geri"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Alan Geni≈ületme Talebi"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:s.partnerName}),e.jsx("p",{className:"text-slate-500",children:s.id})]}),e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold ${s.status==="approved"?"bg-green-100 text-green-700":s.status==="rejected"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:s.status==="approved"?"Onaylandƒ±":s.status==="rejected"?"Reddedildi":"Bekliyor"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Mevcut B√∂lgeler"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(g=s.currentAreas)==null?void 0:g.map((x,o)=>e.jsx("span",{className:"px-3 py-1 bg-slate-200 text-slate-700 rounded-lg text-sm font-medium",children:x},o))})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-xl border border-green-200",children:[e.jsx("p",{className:"text-xs text-green-700 font-bold mb-2",children:"ƒ∞stenen Yeni B√∂lgeler"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(t=s.requestedAreas)==null?void 0:t.map((x,o)=>e.jsx("span",{className:"px-3 py-1 bg-green-200 text-green-800 rounded-lg text-sm font-bold",children:x},o))})]}),s.reason&&e.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsx("p",{className:"text-xs text-blue-700 font-bold mb-1",children:"Gerek√ße"}),e.jsx("p",{className:"text-sm text-blue-900",children:s.reason})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(M,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Olu≈üturulma"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.createdAt})]})]})]}),s.status==="pending"&&e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsxs("button",{onClick:b,className:"px-6 py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(I,{size:20}),"Onayla"]}),e.jsxs("button",{onClick:n,className:"px-6 py-3 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-colors flex items-center gap-2",children:[e.jsx(te,{size:20}),"Reddet"]})]}),s.status!=="pending"&&s.resolvedAt&&e.jsxs("div",{className:"mt-6 p-4 bg-slate-50 rounded-xl",children:[e.jsxs("p",{className:"text-sm text-slate-600",children:[e.jsx("strong",{children:"√á√∂z√ºld√º:"})," ",s.resolvedAt," - ",s.resolvedBy]}),s.adminNotes&&e.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:[e.jsx("strong",{children:"Not:"})," ",s.adminNotes]})]})]})]}):e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8",children:[e.jsx("button",{onClick:d,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4",children:"‚Üê Geri D√∂n"}),e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl",children:"Alan geni≈ületme talebi bulunamadƒ±."})]})},ys=({requestId:a,onBack:d})=>{const[c,r]=j.useState(null);j.useEffect(()=>{r(null)},[a]);const s=c,b=()=>{if(!s)return;const t=prompt("√á√∂z√ºm a√ßƒ±klamasƒ±:");t&&confirm("Destek talebi √ß√∂z√ºld√º olarak i≈üaretlenecek. Devam edilsin mi?")&&(r({...s,status:"resolved",updatedAt:new Date().toISOString(),resolution:t}),alert("Destek talebi √ß√∂z√ºld√º olarak i≈üaretlendi."))},n=()=>{s&&confirm("Destek talebi kapatƒ±lacak. Devam edilsin mi?")&&(r({...s,status:"closed",updatedAt:new Date().toISOString()}),alert("Destek talebi kapatƒ±ldƒ±."))};if(!s)return e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8",children:[e.jsx("button",{onClick:d,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4",children:"‚Üê Geri D√∂n"}),e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl",children:"Destek talebi bulunamadƒ±."})]});const g=t=>{switch(t){case"urgent":return"bg-red-100 text-red-700 border-red-200";case"high":return"bg-orange-100 text-orange-700 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"low":return"bg-blue-100 text-blue-700 border-blue-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:d,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:"‚Üê Geri"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Destek Talebi Detayƒ±"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:s.partnerName}),e.jsx("p",{className:"text-slate-500",children:s.id})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${g(s.priority)}`,children:s.priority.toUpperCase()}),e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold ${s.status==="resolved"?"bg-green-100 text-green-700":s.status==="closed"?"bg-slate-100 text-slate-700":s.status==="in_progress"?"bg-blue-100 text-blue-700":"bg-orange-100 text-orange-700"}`,children:s.status==="resolved"?"√á√∂z√ºld√º":s.status==="closed"?"Kapatƒ±ldƒ±":s.status==="in_progress"?"ƒ∞≈ülemde":"A√ßƒ±k"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Konu"}),e.jsx("p",{className:"font-bold text-lg text-slate-900",children:s.subject})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsx("p",{className:"text-xs text-blue-700 font-bold mb-2",children:"A√ßƒ±klama"}),e.jsx("p",{className:"text-sm text-blue-900 whitespace-pre-wrap",children:s.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(M,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Olu≈üturulma"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.createdAt})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(E,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Atanan"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.assignedTo||"Hen√ºz atanmadƒ±"})]})]})]}),s.resolution&&e.jsxs("div",{className:"p-4 bg-green-50 rounded-xl border border-green-200",children:[e.jsx("p",{className:"text-xs text-green-700 font-bold mb-1",children:"√á√∂z√ºm"}),e.jsx("p",{className:"text-sm text-green-900",children:s.resolution})]})]}),(s.status==="open"||s.status==="in_progress")&&e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsxs("button",{onClick:b,className:"px-6 py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(I,{size:20}),"√á√∂z√ºld√º ƒ∞≈üaretle"]}),e.jsxs("button",{onClick:n,className:"px-6 py-3 bg-slate-600 text-white rounded-xl font-bold hover:bg-slate-700 transition-colors flex items-center gap-2",children:[e.jsx(te,{size:20}),"Kapat"]})]})]})]})},ks=({offerId:a,onBack:d})=>{const[c,r]=j.useState(null);j.useEffect(()=>{r(null)},[a]);const s=c,b=n=>{s&&confirm(`Teklif durumu "${n}" olarak g√ºncellenecek. Onaylƒ±yor musunuz?`)&&(r({...s,status:n}),alert("Teklif durumu g√ºncellendi."))};return s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:d,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:"‚Üê Geri"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Teklif Detayƒ±"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:s.partnerName}),e.jsx("p",{className:"text-slate-500 font-mono text-sm",children:s.id})]}),e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold ${s.status==="accepted"?"bg-green-100 text-green-700":s.status==="rejected"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:s.status==="accepted"?"Kabul Edildi":s.status==="rejected"?"Reddedildi":"G√∂nderildi"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(E,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Partner ID"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.partnerId})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(T,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Talep ID"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.requestId})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-xl border border-green-200",children:[e.jsx(z,{size:20,className:"text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-green-700 font-bold",children:"Fiyat"}),e.jsxs("p",{className:"font-black text-2xl text-green-900",children:["‚Ç∫",s.price.toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(M,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Olu≈üturulma"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.createdAt})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("p",{className:"text-sm font-bold text-slate-700 mb-3",children:"Durum Deƒüi≈ütir:"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:["sent","accepted","rejected"].map(n=>e.jsx("button",{onClick:()=>b(n),disabled:s.status===n,className:`px-4 py-2 rounded-lg font-bold text-sm transition-colors ${s.status===n?"bg-slate-200 text-slate-500 cursor-not-allowed":n==="accepted"?"bg-green-100 text-green-700 hover:bg-green-200":n==="rejected"?"bg-red-100 text-red-700 hover:bg-red-200":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:n==="accepted"?"Kabul Et":n==="rejected"?"Reddet":"G√∂nderildi"},n))})]})]})]}):e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8",children:[e.jsx("button",{onClick:d,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4",children:"‚Üê Geri D√∂n"}),e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl",children:"Teklif bulunamadƒ±."})]})},ws=({vehicleId:a,onBack:d})=>{const[c,r]=j.useState(null);j.useEffect(()=>{r(null)},[a]);const s=c,b=n=>{s&&confirm(`Ara√ß durumu "${n}" olarak g√ºncellenecek. Onaylƒ±yor musunuz?`)&&(r({...s,status:n}),alert("Ara√ß durumu g√ºncellendi."))};return s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:d,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:"‚Üê Geri"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Ara√ß Detayƒ±"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:s.plate}),e.jsx("p",{className:"text-slate-500",children:s.model})]}),e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold ${s.status==="active"?"bg-green-100 text-green-700":s.status==="maintenance"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:s.status==="active"?"Aktif":s.status==="maintenance"?"Bakƒ±mda":"Devre Dƒ±≈üƒ±"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(H,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Partner"}),e.jsx("p",{className:"font-bold text-slate-900",children:s.partnerName})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(W,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Ara√ß Tipi"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.type})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(E,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"S√ºr√ºc√º"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.driver})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(le,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Kayƒ±t Tarihi"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.registrationDate})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsx(I,{size:20,className:"text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-700 font-bold",children:"Toplam ƒ∞≈ü"}),e.jsx("p",{className:"font-black text-2xl text-blue-900",children:s.totalJobs})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-xl border border-green-200",children:[e.jsx(z,{size:20,className:"text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-green-700 font-bold",children:"Toplam Kazan√ß"}),e.jsxs("p",{className:"font-black text-2xl text-green-900",children:["‚Ç∫",s.totalEarnings.toLocaleString()]})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("p",{className:"text-sm font-bold text-slate-700 mb-3",children:"Durum Deƒüi≈ütir:"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:["active","maintenance","disabled"].map(n=>e.jsx("button",{onClick:()=>b(n),disabled:s.status===n,className:`px-4 py-2 rounded-lg font-bold text-sm transition-colors ${s.status===n?"bg-slate-200 text-slate-500 cursor-not-allowed":n==="active"?"bg-green-100 text-green-700 hover:bg-green-200":n==="maintenance"?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:n==="active"?"Aktif Et":n==="maintenance"?"Bakƒ±ma Al":"Devre Dƒ±≈üƒ± Bƒ±rak"},n))})]})]})]}):e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8",children:[e.jsx("button",{onClick:d,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4",children:"‚Üê Geri D√∂n"}),e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl",children:"Ara√ß bulunamadƒ±."})]})},_s=({reviewId:a,onBack:d})=>{const[c,r]=j.useState(null),[s,b]=j.useState(!0),[n,g]=j.useState(null);if(j.useEffect(()=>{(async()=>{b(!0),g(null);try{const o=await w.partnerReviews.getById(a);r(o)}catch(o){console.error("Review load error:",o),g("Deƒüerlendirme y√ºklenirken hata olu≈ütu.")}finally{b(!1)}})()},[a]),s)return e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8",children:[e.jsx("button",{onClick:d,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4",children:"‚Üê Geri D√∂n"}),e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]});const t=c;return t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:d,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:"‚Üê Geri"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Deƒüerlendirme Detayƒ±"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:t.partnerName}),e.jsx("p",{className:"text-slate-500",children:t.id})]}),e.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(x=>e.jsx(X,{size:24,className:x<=t.rating?"text-yellow-500 fill-yellow-500":"text-slate-300"},x))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(E,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"M√º≈üteri"}),e.jsx("p",{className:"font-bold text-slate-900",children:t.customerName})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(T,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"ƒ∞≈ü ID"}),e.jsx("p",{className:"font-medium text-slate-900",children:t.jobId})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(W,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Hizmet"}),e.jsx("p",{className:"font-medium text-slate-900",children:t.service})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(M,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Tarih"}),e.jsx("p",{className:"font-medium text-slate-900",children:t.createdAt?new Date(t.createdAt).toLocaleDateString("tr-TR"):"-"})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsx("p",{className:"text-xs text-blue-700 font-bold mb-2",children:"Yorum"}),e.jsx("p",{className:"text-sm text-blue-900",children:t.comment})]}),t.tags&&t.tags.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-xs text-slate-500 font-bold mb-2",children:"Etiketler"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((x,o)=>e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:x},o))})]})]})]}):e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8",children:[e.jsx("button",{onClick:d,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4",children:"‚Üê Geri D√∂n"}),e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl",children:"Deƒüerlendirme bulunamadƒ±."})]})},As=({requestId:a,onBack:d})=>{const[c,r]=j.useState(null),[s,b]=j.useState(!0);j.useEffect(()=>{(async()=>{b(!0);try{const o=await w.requests.getById(a);if(o){let _="M√º≈üteri";if(o.customerId)try{const u=await w.customers.getById(o.customerId);u&&(_=`${u.firstName||""} ${u.lastName||""}`.trim()||u.email||"M√º≈üteri")}catch{console.log("Customer info not found")}r({id:o.id,customerId:o.customerId,customerName:_,serviceType:o.serviceType,location:o.fromLocation,status:o.status,createdAt:new Date(o.createdAt).toLocaleString("tr-TR"),amount:o.amount,description:o.description,vehicleInfo:o.vehicleInfo,toLocation:o.toLocation})}}catch(o){console.error("‚ùå Request y√ºklenemedi:",o)}finally{b(!1)}})()},[a]);const n=c,g=x=>{n&&confirm(`Talep durumu "${x}" olarak g√ºncellenecek. Onaylƒ±yor musunuz?`)&&(r({...n,status:x}),alert("Talep durumu g√ºncellendi."))};if(s)return e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8",children:[e.jsx("button",{onClick:d,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4",children:"‚Üê Geri D√∂n"}),e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600"}),e.jsx("span",{className:"ml-3 text-slate-600",children:"Talep y√ºkleniyor..."})]})]});if(!n)return e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8",children:[e.jsx("button",{onClick:d,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4",children:"‚Üê Geri D√∂n"}),e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl",children:"M√º≈üteri talebi bulunamadƒ±."})]});const t=x=>({towing:"√áekici",battery:"Ak√º Takviye",fuel:"Yakƒ±t",locksmith:"Anahtar",tire:"Lastik",winch:"Vin√ß"})[x]||x;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:d,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:"‚Üê Geri"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"M√º≈üteri Talebi Detayƒ±"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:n.customerName}),e.jsx("p",{className:"text-slate-500 font-mono text-sm",children:n.id})]}),e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold ${n.status==="completed"?"bg-green-100 text-green-700":n.status==="matched"?"bg-blue-100 text-blue-700":n.status==="cancelled"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:n.status==="completed"?"Tamamlandƒ±":n.status==="matched"?"E≈üle≈üti":n.status==="cancelled"?"ƒ∞ptal":"A√ßƒ±k"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(E,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"M√º≈üteri ID"}),e.jsx("p",{className:"font-medium text-slate-900",children:n.customerId})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(se,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Hizmet Tipi"}),e.jsx("p",{className:"font-bold text-slate-900",children:t(n.serviceType)})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(K,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Konum"}),e.jsx("p",{className:"font-medium text-slate-900",children:n.location})]})]}),n.amount&&e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-xl border border-green-200",children:[e.jsx(z,{size:20,className:"text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-green-700 font-bold",children:"Tutar"}),e.jsxs("p",{className:"font-black text-2xl text-green-900",children:["‚Ç∫",n.amount.toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(M,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Olu≈üturulma"}),e.jsx("p",{className:"font-medium text-slate-900",children:n.createdAt})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("p",{className:"text-sm font-bold text-slate-700 mb-3",children:"Durum Deƒüi≈ütir:"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:["open","matched","completed","cancelled"].map(x=>e.jsx("button",{onClick:()=>g(x),disabled:n.status===x,className:`px-4 py-2 rounded-lg font-bold text-sm transition-colors ${n.status===x?"bg-slate-200 text-slate-500 cursor-not-allowed":x==="completed"?"bg-green-100 text-green-700 hover:bg-green-200":x==="matched"?"bg-blue-100 text-blue-700 hover:bg-blue-200":x==="cancelled"?"bg-red-100 text-red-700 hover:bg-red-200":"bg-yellow-100 text-yellow-700 hover:bg-yellow-200"}`,children:x==="completed"?"Tamamlandƒ±":x==="matched"?"E≈üle≈üti":x==="cancelled"?"ƒ∞ptal Et":"A√ßƒ±k"},x))})]})]})]})},Ss=({userId:a,onBack:d})=>{const[c,r]=j.useState(null);j.useEffect(()=>{(async()=>{try{const t=await w.customers.getAll(),x=await w.partners.getAll(),_=[...t.map(u=>({id:u.id,name:u.full_name||`${u.first_name||""} ${u.last_name||""}`.trim()||u.name||u.email,email:u.email,phone:u.phone,role:"customer",type:"customer",createdAt:u.created_at,status:"active",joinDate:new Date(u.created_at).toLocaleDateString("tr-TR"),totalSpent:0,totalEarned:0})),...x.map(u=>({id:u.id,name:u.company_name||u.name||`${u.first_name||""} ${u.last_name||""}`.trim()||u.email,email:u.email,phone:u.phone,role:"partner",type:"partner",createdAt:u.created_at,status:u.status||"pending",joinDate:new Date(u.created_at).toLocaleDateString("tr-TR"),totalSpent:0,totalEarned:0}))].find(u=>u.id===a);r(_||null)}catch(t){console.error("Kullanƒ±cƒ± detayƒ± y√ºklenirken hata:",t),r(null)}})()},[a]);const s=c,b=()=>{alert(`${s==null?void 0:s.name} kullanƒ±cƒ±sƒ± d√ºzenleme √∂zelliƒüi yakƒ±nda eklenecek.`)},n=()=>{if(!s)return;const g=s.status==="active"?"suspended":"active",t=g==="active"?"aktif edildi":"askƒ±ya alƒ±ndƒ±";confirm(`${s.name} kullanƒ±cƒ±sƒ± ${t}. Onaylƒ±yor musunuz?`)&&(r({...s,status:g}),alert(`Kullanƒ±cƒ± ba≈üarƒ±yla ${t}.`))};return s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:d,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:"‚Üê Geri"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Kullanƒ±cƒ± Detayƒ±"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center text-white text-2xl font-bold",children:s.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:s.name}),e.jsx("p",{className:"text-slate-500",children:s.id})]})]}),e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold ${s.status==="active"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:s.status==="active"?"Aktif":"Askƒ±da"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(he,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Email"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.email})]})]}),e.jsx("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${s.type==="customer"?"bg-blue-100 text-blue-700":"bg-orange-100 text-orange-700"}`,children:s.type==="customer"?"M√º≈üteri (B2C)":"Partner (B2B)"})}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(z,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Harcama"}),e.jsxs("p",{className:"font-bold text-slate-900",children:["‚Ç∫",(s.totalSpent||0).toLocaleString()]})]})]}),e.jsx("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:e.jsxs("span",{className:"text-xs text-slate-500",children:["Kayƒ±t Tarihi: ",s.joinDate]})})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:b,className:"px-6 py-3 bg-orange-600 text-white rounded-xl font-bold hover:bg-orange-700 transition-colors",children:"D√ºzenle"}),e.jsx("button",{onClick:n,className:"px-6 py-3 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-colors",children:s.status==="active"?"Askƒ±ya Al":"Aktif Et"})]})]})]}):e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8",children:[e.jsx("button",{onClick:d,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4",children:"‚Üê Geri D√∂n"}),e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl",children:"Kullanƒ±cƒ± bulunamadƒ±."})]})},Ds=({partnerId:a,onBack:d})=>{var V;const[c,r]=j.useState(null),[s,b]=j.useState(!0),[n,g]=j.useState(null);j.useEffect(()=>{(async()=>{try{b(!0);const k=(await w.partners.getAll()).find(A=>A.id===a);if(k){const A=await w.partnerCredits.getByPartnerId(k.id);A?(k.credits=A.balance,console.log("üí∞ [Admin] Partner credits loaded from partner_credits:",A.balance)):console.log("‚ö†Ô∏è [Admin] No credit record found for partner:",k.id)}r(k||null)}catch(N){console.error("Partner detaylarƒ± y√ºklenemedi:",N)}finally{b(!1)}})()},[a]);const t=c,[x,o]=j.useState(!1),[_,u]=j.useState(!1),[f,S]=j.useState({name:"",email:"",phone:"",city:"",district:""});j.useEffect(()=>{t&&S({name:t.company_name||t.name||"",email:t.email||"",phone:t.phone||"",city:t.city||"",district:t.district||""})},[t]);const q=()=>{o(!0)},C=async()=>{if(t)try{await w.partners.update(t.id,{name:f.name,company_name:f.name,email:f.email,phone:f.phone,city:f.city,district:f.district}),r({...t,name:f.name,company_name:f.name,email:f.email,phone:f.phone,city:f.city,district:f.district}),o(!1),alert("‚úÖ Partner bilgileri g√ºncellendi.")}catch(h){console.error("Partner g√ºncelleme hatasƒ±:",h),alert("‚ùå Partner g√ºncellenirken hata olu≈ütu.")}},J=async()=>{const h=prompt(`${t==null?void 0:t.name} i√ßin eklenecek kredi miktarƒ±nƒ± girin:`);if(h&&t){const N=parseInt(h);if(!isNaN(N)&&N>0)try{if(console.log("üí∞ [Admin] Adding credits to partner:",t.id,N),!await w.partnerCredits.getByPartnerId(t.id)){console.log("üìù [Admin] Creating partner_credits record for:",t.id);const{data:Q,error:L}=await Pe.from("partner_credits").insert({partner_id:t.id,partner_name:t.name,balance:0,total_purchased:0,total_used:0}).select().single();if(L)throw console.error("‚ùå [Admin] Error creating partner_credits:",L),L;console.log("‚úÖ [Admin] Partner_credits record created:",Q)}await w.partnerCredits.addCredits(t.id,t.name,N,"Admin tarafƒ±ndan eklendi");const A=await w.partnerCredits.getByPartnerId(t.id),O=(A==null?void 0:A.balance)||t.credits+N;r({...t,credits:O}),alert(`‚úÖ ${N} kredi ba≈üarƒ±yla eklendi. Yeni bakiye: ${O}`),console.log("‚úÖ [Admin] Credits added successfully. New balance:",O)}catch(k){console.error("‚ùå [Admin] Error adding credits:",k),alert("‚ùå Kredi eklenirken hata olu≈ütu. L√ºtfen tekrar deneyin.")}else alert("Ge√ßerli bir kredi miktarƒ± girin.")}},G=async()=>{if(!t||_)return;let h,N;if(t.status==="pending"?(h="active",N="onaylandƒ±"):t.status==="active"?(h="suspended",N="askƒ±ya alƒ±ndƒ±"):(h="active",N="aktif edildi"),confirm(`${t.name||t.company_name} partner ${N}. Onaylƒ±yor musunuz?`)){u(!0);try{console.log("üîÑ [PartnerDetail] Updating status to:",h);const k=await w.partners.update(t.id,{status:h});console.log("‚úÖ [PartnerDetail] Status updated, result:",k),r(A=>A?{...A,status:h}:null),alert(`‚úÖ Partner ba≈üarƒ±yla ${N}.`)}catch(k){console.error("‚ùå [PartnerDetail] Status g√ºncelleme hatasƒ±:",k),alert("‚ùå Partner durumu g√ºncellenirken hata olu≈ütu.")}finally{u(!1)}}};return s?e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8",children:[e.jsx("button",{onClick:d,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4",children:"‚Üê Geri D√∂n"}),e.jsx(v,{rows:8})]}):t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:d,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:"‚Üê Geri"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Partner Detayƒ±"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center text-white text-2xl font-bold",children:e.jsx(H,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:t.company_name||t.name}),e.jsxs("p",{className:"text-sm text-slate-600",children:[t.first_name," ",t.last_name]}),e.jsx("p",{className:"text-xs text-slate-500",children:t.id})]})]}),e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold ${t.status==="active"?"bg-green-100 text-green-700":t.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:t.status==="active"?"Aktif":t.status==="pending"?"Onay Bekliyor":"Askƒ±da"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(he,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Email"}),e.jsx("p",{className:"font-medium text-slate-900",children:t.email})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(se,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Telefon"}),e.jsx("p",{className:"font-medium text-slate-900",children:t.phone})]})]}),t.tax_number&&e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(T,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Vergi Numarasƒ±"}),e.jsx("p",{className:"font-medium text-slate-900",children:t.tax_number})]})]}),t.city&&e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(K,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Konum"}),e.jsxs("p",{className:"font-medium text-slate-900",children:[t.district,", ",t.city]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(X,{size:20,className:"text-yellow-500 fill-yellow-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Puan"}),e.jsx("p",{className:"font-bold text-slate-900",children:((V=t.rating)==null?void 0:V.toFixed(2))||"0.00"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(I,{size:20,className:"text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Tamamlanan ƒ∞≈üler"}),e.jsx("p",{className:"font-bold text-slate-900",children:t.completed_jobs||0})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-orange-50 rounded-xl border border-orange-200",children:[e.jsx(z,{size:20,className:"text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-orange-700 font-bold",children:"Kredi Bakiyesi"}),e.jsx("p",{className:"font-black text-2xl text-orange-900",children:t.credits||0})]})]})]}),t.service_types&&t.service_types.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"text-sm font-bold text-slate-900 mb-2",children:"Hizmet Tipleri"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.service_types.map((h,N)=>e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg text-sm font-medium",children:h},N))})]}),(t.commercial_registry_url||t.vehicle_license_url)&&e.jsxs("div",{className:"mt-6 p-4 bg-slate-50 rounded-xl",children:[e.jsx("h4",{className:"text-sm font-bold text-slate-900 mb-3",children:"Y√ºklenen Belgeler"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.commercial_registry_url&&e.jsxs("button",{onClick:()=>g({url:t.commercial_registry_url,title:"Ticari Sicil Belgesi"}),className:"flex items-center gap-2 p-3 bg-white border border-slate-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors text-left",children:[e.jsx(T,{size:18,className:"text-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-sm font-medium text-slate-900 block",children:"Ticari Sicil"}),e.jsx("span",{className:"text-xs text-slate-500",children:"Tƒ±klayarak √∂nizleyin"})]}),e.jsx(B,{size:16,className:"text-slate-400"})]}),t.vehicle_license_url&&e.jsxs("button",{onClick:()=>g({url:t.vehicle_license_url,title:"Ara√ß Ruhsatƒ±"}),className:"flex items-center gap-2 p-3 bg-white border border-slate-200 rounded-lg hover:bg-green-50 hover:border-green-300 transition-colors text-left",children:[e.jsx(T,{size:18,className:"text-green-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-sm font-medium text-slate-900 block",children:"Ara√ß Ruhsatƒ±"}),e.jsx("span",{className:"text-xs text-slate-500",children:"Tƒ±klayarak √∂nizleyin"})]}),e.jsx(B,{size:16,className:"text-slate-400"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:q,className:"px-6 py-3 bg-orange-600 text-white rounded-xl font-bold hover:bg-orange-700 transition-colors",children:"D√ºzenle"}),e.jsx("button",{onClick:J,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition-colors",children:"Kredi Ekle"}),e.jsx("button",{onClick:G,disabled:_,className:`px-6 py-3 rounded-xl font-bold transition-colors ${_?"bg-gray-400 cursor-not-allowed":t.status==="active"?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"}`,children:_?"ƒ∞≈üleniyor...":t.status==="active"?"Askƒ±ya Al":"Onayla"})]})]}),x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>o(!1),children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full",onClick:h=>h.stopPropagation(),children:[e.jsx("div",{className:"p-4 border-b border-slate-200",children:e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Partner D√ºzenle"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Firma Adƒ±"}),e.jsx("input",{type:"text",value:f.name,onChange:h=>S({...f,name:h.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:f.email,onChange:h=>S({...f,email:h.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Telefon"}),e.jsx("input",{type:"tel",value:f.phone,onChange:h=>S({...f,phone:h.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"ƒ∞l"}),e.jsx("input",{type:"text",value:f.city,onChange:h=>S({...f,city:h.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"ƒ∞l√ße"}),e.jsx("input",{type:"text",value:f.district,onChange:h=>S({...f,district:h.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]})]}),e.jsxs("div",{className:"p-4 border-t border-slate-200 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-slate-700 hover:bg-slate-100 rounded-lg transition-colors",children:"ƒ∞ptal"}),e.jsx("button",{onClick:C,className:"px-6 py-2 bg-orange-600 text-white rounded-lg font-bold hover:bg-orange-700 transition-colors",children:"Kaydet"})]})]})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",onClick:()=>g(null),children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between bg-slate-50",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:n.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(T,{size:16}),"Yeni Sekmede A√ß"]}),e.jsx("button",{onClick:()=>g(null),className:"p-2 text-slate-400 hover:text-slate-600 rounded-lg hover:bg-slate-100 transition-colors",children:"‚úï"})]})]}),e.jsx("div",{className:"p-4 bg-slate-100 flex items-center justify-center",style:{minHeight:"500px"},children:e.jsx("img",{src:n.url,alt:n.title,className:"max-w-full max-h-[70vh] object-contain rounded-lg shadow-lg",onError:h=>{const N=h.target;N.style.display="none";const k=N.parentElement;k&&(k.innerHTML=`
                      <div class="text-center p-8">
                        <p class="text-slate-600 mb-4">√ñnizleme yapƒ±lamƒ±yor. Belgeyi yeni sekmede a√ßƒ±n.</p>
                        <a href="${n.url}" target="_blank" class="px-6 py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 inline-block">
                          Belgeyi A√ß
                        </a>
                      </div>
                    `)}})})]})})]}):e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8",children:[e.jsx("button",{onClick:d,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4",children:"‚Üê Geri D√∂n"}),e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl",children:"Partner bulunamadƒ±."})]})},Ys=Object.freeze(Object.defineProperty({__proto__:null,default:fs},Symbol.toStringTag,{value:"Module"}));export{p as A,Ke as C,xe as E,v as L,Ye as U,Ys as a,oe as u};
