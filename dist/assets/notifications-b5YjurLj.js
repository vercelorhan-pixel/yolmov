import{s as t}from"./index-D7DAox1V.js";async function i(e,a){try{if(a==="system")return!0;const r=await t.notificationPreferences.getByCustomerId(e);if(!r.pushEnabled)return console.log(`ğŸ“µ Push notifications disabled for user ${e}`),!1;switch(a){case"orderUpdates":return r.orderUpdates;case"promotions":return r.promotions;case"newsletter":return r.newsletter;default:return!0}}catch(r){return console.error("Bildirim tercihleri kontrol edilemedi:",r),!1}}async function o(e,a){try{if(!await i(e,"orderUpdates")){console.log("âš ï¸ User has disabled order updates notifications");return}await t.notifications.create({customerId:e,type:"request_cancelled",title:"Talep Ä°ptal Edildi",message:"Talebiniz baÅŸarÄ±yla iptal edildi.",read:!1,relatedId:a,relatedType:"request"})}catch(r){console.error("Ä°ptal bildirimi oluÅŸturulamadÄ±:",r)}}async function l(e){try{if(!await i(e,"orderUpdates")){console.log("âš ï¸ User has disabled order updates notifications");return}await t.notifications.create({customerId:e,type:"profile_updated",title:"Profil GÃ¼ncellendi",message:"Profil bilgileriniz baÅŸarÄ±yla gÃ¼ncellendi.",read:!1,actionUrl:"/profil"})}catch(a){console.error("Profil gÃ¼ncelleme bildirimi oluÅŸturulamadÄ±:",a)}}async function s(e){try{if(!await i(e,"system"))return;await t.notifications.create({customerId:e,type:"system",title:"HoÅŸ Geldiniz! ğŸ‰",message:"YOLMOV platformuna hoÅŸ geldiniz! Yolda kaldÄ±ÄŸÄ±nÄ±z her an yanÄ±nÄ±zdayÄ±z.",read:!1}),console.log("âœ… Welcome notification sent to user:",e)}catch(a){console.error("HoÅŸ geldin bildirimi oluÅŸturulamadÄ±:",a)}}export{l as a,o as b,s as n};
