const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AboutPage-DgWNPtoE.js","assets/target-B_UsxU2Q.js","assets/award-DCkSzO41.js","assets/heart-JLko3NA3.js","assets/shield-DfXaMxE1.js","assets/trending-up-y9vmxh6I.js","assets/ServicesPage-jkDUpBIf.js","assets/battery-6duav91J.js","assets/dollar-sign-CjdBunC9.js","assets/FAQPage-_L8bt56E.js","assets/chevron-up-CzV_mKWM.js","assets/ContactPage-DP0-gNhB.js","assets/message-circle-CVB4PIxm.js","assets/send-DNyjlUUE.js","assets/CareerPage-CThdZY6v.js","assets/globe-y1oYAWl9.js","assets/BlogPage-CbSUBAXx.js","assets/calendar-CVL4rNfj.js","assets/tag-CkvmrcRz.js","assets/CampaignsPage-C41Af59W.js","assets/arrow-left-0A0-RQMv.js","assets/gift-xLy7FvMF.js","assets/percent-BIKff8zy.js","assets/CampaignDetailPage-BQGgxhpG.js","assets/circle-check-big-C88dWr1n.js","assets/LoginPage-Op7_hpr-.js","assets/notifications-C8BJ37k2.js","assets/star-BF5kNNVF.js","assets/lock-7AvNM_zv.js","assets/eye-off-Vb8IRoj_.js","assets/eye-CpCo308m.js","assets/AuthRequiredPage-BUIWd-ay.js","assets/user-plus-BQI-Z41O.js","assets/PartnerRegisterPage-CiKmip6a.js","assets/imageCompression-Bm6Dowu7.js","assets/UIComponents-DwQZkzYq.js","assets/mail-9TnQBTKF.js","assets/circle-check-D2Bt3Nn5.js","assets/zap-BCI8nHuV.js","assets/PartnerDashboard-By6jSuGC.js","assets/file-text-iQGV_z-v.js","assets/filter-DxyCEOEd.js","assets/credit-card-Cu1ygXj1.js","assets/download-BUnAryAw.js","assets/useToast-ZASYit2r.js","assets/image-B-YT31ob.js","assets/info-CGVtJGFV.js","assets/circle-alert-sSTdTZGp.js","assets/trash-2-CtaSEx04.js","assets/plus-CLyzR9NC.js","assets/pen-DTEj_F3D.js","assets/showcaseSanitizer-CU8VnsaU.js","assets/wallet-Bh6VyjbN.js","assets/save-Ca70reou.js","assets/message-square-CvXgdq5C.js","assets/phone-missed-BU64d0bh.js","assets/camera-CsuMw7K9.js","assets/circle-help-DnDsEz8r.js","assets/building-DjshYJrm.js","assets/map-Ce9-u3RK.js","assets/route-DFsUFWtC.js","assets/log-out-A3A5wrZa.js","assets/CustomerProfilePage-CY7fhEzW.js","assets/package-DI162LiI.js","assets/OffersPanel-VVsCbkpL.js","assets/ban-DmYXch44.js","assets/QuotePage-fm8UteyV.js","assets/bus-DYzNIrnw.js","assets/activity-CxvZxIJr.js","assets/ListingPage-BHQfveQ-.js","assets/ProviderDetailPage-DZf6wwEI.js","assets/AdminLoginPage-TUYvxTad.js","assets/AdminSignupPage-CyOgfTTX.js","assets/AdminDashboard-BoChJM1F.js","assets/StatusBadge-BX5fkNWT.js","assets/square-pen-DHaczDbA.js","assets/AdminSystemLogs-B9T7tC0R.js","assets/AdminUserDetailPage-r2wMTmCg.js","assets/AdminPartnerDetailPage-8C8WZcX0.js","assets/AdminRequestDetailPage-fuIJzNNC.js","assets/AdminOfferDetailPage-DEtUcWm9.js","assets/AdminFleetDetailPage-CevMl2b9.js","assets/AdminReviewDetailPage-DZii6jFJ.js","assets/AdminLeadRequestDetailPage-DojsWUP8.js","assets/AdminAreaRequestDetailPage-C_0Vy7gE.js","assets/AdminSupportRequestDetailPage-Y1q3TUM8.js","assets/NotificationTestPage-BGS57YEQ.js","assets/EmailConfirmationPage-CRZaunhN.js","assets/PrivacyPolicyPage-aMVgIS4-.js","assets/TermsOfServicePage-DNdLqoVo.js","assets/NotFoundPage-R-U_6R51.js","assets/SEOServicePage-vuHFYzub.js","assets/EmergencyFloatingButton-BRB4bGOB.js","assets/seoData-Cla_bQXw.js","assets/calculator-6oWniIqb.js","assets/SEOStatsPage-CpIf5-D8.js","assets/external-link-CQJ3KRhc.js","assets/SEOBrandPage-DJ5-RT9d.js","assets/PartnerSEOPage-CR8MDOuJ.js","assets/PriceCalculatorWizard-C-NtZtan.js","assets/priceCalculator-Bv36E9gB.js","assets/PasswordSetupPage--Qx-mOFo.js","assets/PartnerReviewPendingPage-BxzHe8Nh.js","assets/SpecialVehiclePage-By3mro-b.js","assets/OnDutyPage-KAI9qSEd.js","assets/IntercityPage-Br2Bd3Cf.js","assets/SpecialLocationPage-DCvO1Hlt.js","assets/PricingPage-DT5YixKY.js"])))=>i.map(i=>d[i]);
var Dx=Object.defineProperty;var Lx=(t,e,r)=>e in t?Dx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ht=(t,e,r)=>Lx(t,typeof e!="symbol"?e+"":e,r);function ov(t,e){for(var r=0;r<e.length;r++){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(i,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var jr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ga(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var a=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:function(){return t[i]}})}),r}var Ec={exports:{}},Bs={},Cc={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function Mx(){if(Im)return He;Im=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),m=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=m&&q[m]||q["@@iterator"],typeof q=="function"?q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function C(q,re,ye){this.props=q,this.context=re,this.refs=E,this.updater=ye||b}C.prototype.isReactComponent={},C.prototype.setState=function(q,re){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,re,"setState")},C.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function R(){}R.prototype=C.prototype;function I(q,re,ye){this.props=q,this.context=re,this.refs=E,this.updater=ye||b}var k=I.prototype=new R;k.constructor=I,x(k,C.prototype),k.isPureReactComponent=!0;var P=Array.isArray,j=Object.prototype.hasOwnProperty,D={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function L(q,re,ye){var _e,ie={},Ce=null,Ve=null;if(re!=null)for(_e in re.ref!==void 0&&(Ve=re.ref),re.key!==void 0&&(Ce=""+re.key),re)j.call(re,_e)&&!O.hasOwnProperty(_e)&&(ie[_e]=re[_e]);var Fe=arguments.length-2;if(Fe===1)ie.children=ye;else if(1<Fe){for(var Ke=Array(Fe),Ye=0;Ye<Fe;Ye++)Ke[Ye]=arguments[Ye+2];ie.children=Ke}if(q&&q.defaultProps)for(_e in Fe=q.defaultProps,Fe)ie[_e]===void 0&&(ie[_e]=Fe[_e]);return{$$typeof:t,type:q,key:Ce,ref:Ve,props:ie,_owner:D.current}}function J(q,re){return{$$typeof:t,type:q.type,key:re,ref:q.ref,props:q.props,_owner:q._owner}}function z(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function W(q){var re={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ye){return re[ye]})}var te=/\/+/g;function ce(q,re){return typeof q=="object"&&q!==null&&q.key!=null?W(""+q.key):re.toString(36)}function ke(q,re,ye,_e,ie){var Ce=typeof q;(Ce==="undefined"||Ce==="boolean")&&(q=null);var Ve=!1;if(q===null)Ve=!0;else switch(Ce){case"string":case"number":Ve=!0;break;case"object":switch(q.$$typeof){case t:case e:Ve=!0}}if(Ve)return Ve=q,ie=ie(Ve),q=_e===""?"."+ce(Ve,0):_e,P(ie)?(ye="",q!=null&&(ye=q.replace(te,"$&/")+"/"),ke(ie,re,ye,"",function(Ye){return Ye})):ie!=null&&(z(ie)&&(ie=J(ie,ye+(!ie.key||Ve&&Ve.key===ie.key?"":(""+ie.key).replace(te,"$&/")+"/")+q)),re.push(ie)),1;if(Ve=0,_e=_e===""?".":_e+":",P(q))for(var Fe=0;Fe<q.length;Fe++){Ce=q[Fe];var Ke=_e+ce(Ce,Fe);Ve+=ke(Ce,re,ye,Ke,ie)}else if(Ke=v(q),typeof Ke=="function")for(q=Ke.call(q),Fe=0;!(Ce=q.next()).done;)Ce=Ce.value,Ke=_e+ce(Ce,Fe++),Ve+=ke(Ce,re,ye,Ke,ie);else if(Ce==="object")throw re=String(q),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return Ve}function je(q,re,ye){if(q==null)return q;var _e=[],ie=0;return ke(q,_e,"","",function(Ce){return re.call(ye,Ce,ie++)}),_e}function Oe(q){if(q._status===-1){var re=q._result;re=re(),re.then(function(ye){(q._status===0||q._status===-1)&&(q._status=1,q._result=ye)},function(ye){(q._status===0||q._status===-1)&&(q._status=2,q._result=ye)}),q._status===-1&&(q._status=0,q._result=re)}if(q._status===1)return q._result.default;throw q._result}var Ee={current:null},ae={transition:null},se={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:ae,ReactCurrentOwner:D};function me(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:je,forEach:function(q,re,ye){je(q,function(){re.apply(this,arguments)},ye)},count:function(q){var re=0;return je(q,function(){re++}),re},toArray:function(q){return je(q,function(re){return re})||[]},only:function(q){if(!z(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},He.Component=C,He.Fragment=r,He.Profiler=a,He.PureComponent=I,He.StrictMode=i,He.Suspense=d,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,He.act=me,He.cloneElement=function(q,re,ye){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var _e=x({},q.props),ie=q.key,Ce=q.ref,Ve=q._owner;if(re!=null){if(re.ref!==void 0&&(Ce=re.ref,Ve=D.current),re.key!==void 0&&(ie=""+re.key),q.type&&q.type.defaultProps)var Fe=q.type.defaultProps;for(Ke in re)j.call(re,Ke)&&!O.hasOwnProperty(Ke)&&(_e[Ke]=re[Ke]===void 0&&Fe!==void 0?Fe[Ke]:re[Ke])}var Ke=arguments.length-2;if(Ke===1)_e.children=ye;else if(1<Ke){Fe=Array(Ke);for(var Ye=0;Ye<Ke;Ye++)Fe[Ye]=arguments[Ye+2];_e.children=Fe}return{$$typeof:t,type:q.type,key:ie,ref:Ce,props:_e,_owner:Ve}},He.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:o,_context:q},q.Consumer=q},He.createElement=L,He.createFactory=function(q){var re=L.bind(null,q);return re.type=q,re},He.createRef=function(){return{current:null}},He.forwardRef=function(q){return{$$typeof:c,render:q}},He.isValidElement=z,He.lazy=function(q){return{$$typeof:y,_payload:{_status:-1,_result:q},_init:Oe}},He.memo=function(q,re){return{$$typeof:p,type:q,compare:re===void 0?null:re}},He.startTransition=function(q){var re=ae.transition;ae.transition={};try{q()}finally{ae.transition=re}},He.unstable_act=me,He.useCallback=function(q,re){return Ee.current.useCallback(q,re)},He.useContext=function(q){return Ee.current.useContext(q)},He.useDebugValue=function(){},He.useDeferredValue=function(q){return Ee.current.useDeferredValue(q)},He.useEffect=function(q,re){return Ee.current.useEffect(q,re)},He.useId=function(){return Ee.current.useId()},He.useImperativeHandle=function(q,re,ye){return Ee.current.useImperativeHandle(q,re,ye)},He.useInsertionEffect=function(q,re){return Ee.current.useInsertionEffect(q,re)},He.useLayoutEffect=function(q,re){return Ee.current.useLayoutEffect(q,re)},He.useMemo=function(q,re){return Ee.current.useMemo(q,re)},He.useReducer=function(q,re,ye){return Ee.current.useReducer(q,re,ye)},He.useRef=function(q){return Ee.current.useRef(q)},He.useState=function(q){return Ee.current.useState(q)},He.useSyncExternalStore=function(q,re,ye){return Ee.current.useSyncExternalStore(q,re,ye)},He.useTransition=function(){return Ee.current.useTransition()},He.version="18.3.1",He}var Dm;function Kd(){return Dm||(Dm=1,Cc.exports=Mx()),Cc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function zx(){if(Lm)return Bs;Lm=1;var t=Kd(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function u(c,d,p){var y,m={},v=null,b=null;p!==void 0&&(v=""+p),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(b=d.ref);for(y in d)i.call(d,y)&&!o.hasOwnProperty(y)&&(m[y]=d[y]);if(c&&c.defaultProps)for(y in d=c.defaultProps,d)m[y]===void 0&&(m[y]=d[y]);return{$$typeof:e,type:c,key:v,ref:b,props:m,_owner:a.current}}return Bs.Fragment=r,Bs.jsx=u,Bs.jsxs=u,Bs}var Mm;function Ux(){return Mm||(Mm=1,Ec.exports=zx()),Ec.exports}var w=Ux(),U=Kd();const ze=kl(U),Bx=ov({__proto__:null,default:ze},[U]);var jo={},Tc={exports:{}},Yt={},Ac={exports:{}},Pc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function Fx(){return zm||(zm=1,(function(t){function e(ae,se){var me=ae.length;ae.push(se);e:for(;0<me;){var q=me-1>>>1,re=ae[q];if(0<a(re,se))ae[q]=se,ae[me]=re,me=q;else break e}}function r(ae){return ae.length===0?null:ae[0]}function i(ae){if(ae.length===0)return null;var se=ae[0],me=ae.pop();if(me!==se){ae[0]=me;e:for(var q=0,re=ae.length,ye=re>>>1;q<ye;){var _e=2*(q+1)-1,ie=ae[_e],Ce=_e+1,Ve=ae[Ce];if(0>a(ie,me))Ce<re&&0>a(Ve,ie)?(ae[q]=Ve,ae[Ce]=me,q=Ce):(ae[q]=ie,ae[_e]=me,q=_e);else if(Ce<re&&0>a(Ve,me))ae[q]=Ve,ae[Ce]=me,q=Ce;else break e}}return se}function a(ae,se){var me=ae.sortIndex-se.sortIndex;return me!==0?me:ae.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var d=[],p=[],y=1,m=null,v=3,b=!1,x=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(ae){for(var se=r(p);se!==null;){if(se.callback===null)i(p);else if(se.startTime<=ae)i(p),se.sortIndex=se.expirationTime,e(d,se);else break;se=r(p)}}function P(ae){if(E=!1,k(ae),!x)if(r(d)!==null)x=!0,Oe(j);else{var se=r(p);se!==null&&Ee(P,se.startTime-ae)}}function j(ae,se){x=!1,E&&(E=!1,R(L),L=-1),b=!0;var me=v;try{for(k(se),m=r(d);m!==null&&(!(m.expirationTime>se)||ae&&!W());){var q=m.callback;if(typeof q=="function"){m.callback=null,v=m.priorityLevel;var re=q(m.expirationTime<=se);se=t.unstable_now(),typeof re=="function"?m.callback=re:m===r(d)&&i(d),k(se)}else i(d);m=r(d)}if(m!==null)var ye=!0;else{var _e=r(p);_e!==null&&Ee(P,_e.startTime-se),ye=!1}return ye}finally{m=null,v=me,b=!1}}var D=!1,O=null,L=-1,J=5,z=-1;function W(){return!(t.unstable_now()-z<J)}function te(){if(O!==null){var ae=t.unstable_now();z=ae;var se=!0;try{se=O(!0,ae)}finally{se?ce():(D=!1,O=null)}}else D=!1}var ce;if(typeof I=="function")ce=function(){I(te)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,je=ke.port2;ke.port1.onmessage=te,ce=function(){je.postMessage(null)}}else ce=function(){C(te,0)};function Oe(ae){O=ae,D||(D=!0,ce())}function Ee(ae,se){L=C(function(){ae(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_continueExecution=function(){x||b||(x=!0,Oe(j))},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(ae){switch(v){case 1:case 2:case 3:var se=3;break;default:se=v}var me=v;v=se;try{return ae()}finally{v=me}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ae,se){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var me=v;v=ae;try{return se()}finally{v=me}},t.unstable_scheduleCallback=function(ae,se,me){var q=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?q+me:q):me=q,ae){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=me+re,ae={id:y++,callback:se,priorityLevel:ae,startTime:me,expirationTime:re,sortIndex:-1},me>q?(ae.sortIndex=me,e(p,ae),r(d)===null&&ae===r(p)&&(E?(R(L),L=-1):E=!0,Ee(P,me-q))):(ae.sortIndex=re,e(d,ae),x||b||(x=!0,Oe(j))),ae},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(ae){var se=v;return function(){var me=v;v=se;try{return ae.apply(this,arguments)}finally{v=me}}}})(Pc)),Pc}var Um;function $x(){return Um||(Um=1,Ac.exports=Fx()),Ac.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function Vx(){if(Bm)return Yt;Bm=1;var t=Kd(),e=$x();function r(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function o(n,s){u(n,s),u(n+"Capture",s)}function u(n,s){for(a[n]=s,n=0;n<s.length;n++)i.add(s[n])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},m={};function v(n){return d.call(m,n)?!0:d.call(y,n)?!1:p.test(n)?m[n]=!0:(y[n]=!0,!1)}function b(n,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function x(n,s,l,h){if(s===null||typeof s>"u"||b(n,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function E(n,s,l,h,g,_,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=l,this.propertyName=n,this.type=s,this.sanitizeURL=_,this.removeEmptyString=T}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){C[n]=new E(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];C[s]=new E(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){C[n]=new E(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){C[n]=new E(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){C[n]=new E(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){C[n]=new E(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){C[n]=new E(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){C[n]=new E(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){C[n]=new E(n,5,!1,n.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function I(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(R,I);C[s]=new E(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(R,I);C[s]=new E(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(R,I);C[s]=new E(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){C[n]=new E(n,1,!1,n.toLowerCase(),null,!1,!1)}),C.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){C[n]=new E(n,1,!1,n.toLowerCase(),null,!0,!0)});function k(n,s,l,h){var g=C.hasOwnProperty(s)?C[s]:null;(g!==null?g.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(x(s,l,g,h)&&(l=null),h||g===null?v(s)&&(l===null?n.removeAttribute(s):n.setAttribute(s,""+l)):g.mustUseProperty?n[g.propertyName]=l===null?g.type===3?!1:"":l:(s=g.attributeName,h=g.attributeNamespace,l===null?n.removeAttribute(s):(g=g.type,l=g===3||g===4&&l===!0?"":""+l,h?n.setAttributeNS(h,s,l):n.setAttribute(s,l))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),D=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),W=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),Oe=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),ae=Symbol.iterator;function se(n){return n===null||typeof n!="object"?null:(n=ae&&n[ae]||n["@@iterator"],typeof n=="function"?n:null)}var me=Object.assign,q;function re(n){if(q===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);q=s&&s[1]||""}return`
`+q+n}var ye=!1;function _e(n,s){if(!n||ye)return"";ye=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(X){var h=X}Reflect.construct(n,[],s)}else{try{s.call()}catch(X){h=X}n.call(s.prototype)}else{try{throw Error()}catch(X){h=X}n()}}catch(X){if(X&&h&&typeof X.stack=="string"){for(var g=X.stack.split(`
`),_=h.stack.split(`
`),T=g.length-1,M=_.length-1;1<=T&&0<=M&&g[T]!==_[M];)M--;for(;1<=T&&0<=M;T--,M--)if(g[T]!==_[M]){if(T!==1||M!==1)do if(T--,M--,0>M||g[T]!==_[M]){var B=`
`+g[T].replace(" at new "," at ");return n.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",n.displayName)),B}while(1<=T&&0<=M);break}}}finally{ye=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?re(n):""}function ie(n){switch(n.tag){case 5:return re(n.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return n=_e(n.type,!1),n;case 11:return n=_e(n.type.render,!1),n;case 1:return n=_e(n.type,!0),n;default:return""}}function Ce(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case O:return"Fragment";case D:return"Portal";case J:return"Profiler";case L:return"StrictMode";case ce:return"Suspense";case ke:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case W:return(n.displayName||"Context")+".Consumer";case z:return(n._context.displayName||"Context")+".Provider";case te:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case je:return s=n.displayName||null,s!==null?s:Ce(n.type)||"Memo";case Oe:s=n._payload,n=n._init;try{return Ce(n(s))}catch{}}return null}function Ve(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(s);case 8:return s===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Fe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ke(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ye(n){var s=Ke(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),h=""+n[s];if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,_=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return g.call(this)},set:function(T){h=""+T,_.call(this,T)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function wt(n){n._valueTracker||(n._valueTracker=Ye(n))}function ue(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return n&&(h=Ke(n)?n.checked?"true":"false":n.value),n=h,n!==l?(s.setValue(n),!0):!1}function pe(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function fe(n,s){var l=s.checked;return me({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function $(n,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Fe(s.value!=null?s.value:l),n._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function G(n,s){s=s.checked,s!=null&&k(n,"checked",s,!1)}function ee(n,s){G(n,s);var l=Fe(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(h==="submit"||h==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?N(n,s.type,l):s.hasOwnProperty("defaultValue")&&N(n,s.type,Fe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function ge(n,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,l||s===n.value||(n.value=s),n.defaultValue=s}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function N(n,s,l){(s!=="number"||pe(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var f=Array.isArray;function S(n,s,l,h){if(n=n.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<n.length;l++)g=s.hasOwnProperty("$"+n[l].value),n[l].selected!==g&&(n[l].selected=g),g&&h&&(n[l].defaultSelected=!0)}else{for(l=""+Fe(l),s=null,g=0;g<n.length;g++){if(n[g].value===l){n[g].selected=!0,h&&(n[g].defaultSelected=!0);return}s!==null||n[g].disabled||(s=n[g])}s!==null&&(s.selected=!0)}}function A(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return me({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function F(n,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(r(92));if(f(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),l=s}n._wrapperState={initialValue:Fe(l)}}function H(n,s){var l=Fe(s.value),h=Fe(s.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),s.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),h!=null&&(n.defaultValue=""+h)}function Z(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Ae(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qe(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Ae(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var et,We=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,g){MSApp.execUnsafeLocalFunction(function(){return n(s,l,h,g)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(et=et||document.createElement("div"),et.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=et.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function $e(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var ut={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zr=["Webkit","ms","Moz","O"];Object.keys(ut).forEach(function(n){zr.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),ut[s]=ut[n]})});function Ur(n,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||ut.hasOwnProperty(n)&&ut[n]?(""+s).trim():s+"px"}function rn(n,s){n=n.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,g=Ur(l,s[l],h);l==="float"&&(l="cssFloat"),h?n.setProperty(l,g):n[l]=g}}var nn=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Er(n,s){if(s){if(nn[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function zl(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ul=null;function Bl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Fl=null,ui=null,ci=null;function Jh(n){if(n=Es(n)){if(typeof Fl!="function")throw Error(r(280));var s=n.stateNode;s&&(s=Ka(s),Fl(n.stateNode,n.type,s))}}function Qh(n){ui?ci?ci.push(n):ci=[n]:ui=n}function Xh(){if(ui){var n=ui,s=ci;if(ci=ui=null,Jh(n),s)for(n=0;n<s.length;n++)Jh(s[n])}}function Zh(n,s){return n(s)}function ef(){}var $l=!1;function tf(n,s,l){if($l)return n(s,l);$l=!0;try{return Zh(n,s,l)}finally{$l=!1,(ui!==null||ci!==null)&&(ef(),Xh())}}function is(n,s){var l=n.stateNode;if(l===null)return null;var h=Ka(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Vl=!1;if(c)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){Vl=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{Vl=!1}function F_(n,s,l,h,g,_,T,M,B){var X=Array.prototype.slice.call(arguments,3);try{s.apply(l,X)}catch(le){this.onError(le)}}var as=!1,Sa=null,ka=!1,ql=null,$_={onError:function(n){as=!0,Sa=n}};function V_(n,s,l,h,g,_,T,M,B){as=!1,Sa=null,F_.apply($_,arguments)}function q_(n,s,l,h,g,_,T,M,B){if(V_.apply(this,arguments),as){if(as){var X=Sa;as=!1,Sa=null}else throw Error(r(198));ka||(ka=!0,ql=X)}}function In(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function rf(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function nf(n){if(In(n)!==n)throw Error(r(188))}function K_(n){var s=n.alternate;if(!s){if(s=In(n),s===null)throw Error(r(188));return s!==n?null:n}for(var l=n,h=s;;){var g=l.return;if(g===null)break;var _=g.alternate;if(_===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===l)return nf(g),n;if(_===h)return nf(g),s;_=_.sibling}throw Error(r(188))}if(l.return!==h.return)l=g,h=_;else{for(var T=!1,M=g.child;M;){if(M===l){T=!0,l=g,h=_;break}if(M===h){T=!0,h=g,l=_;break}M=M.sibling}if(!T){for(M=_.child;M;){if(M===l){T=!0,l=_,h=g;break}if(M===h){T=!0,h=_,l=g;break}M=M.sibling}if(!T)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:s}function sf(n){return n=K_(n),n!==null?af(n):null}function af(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=af(n);if(s!==null)return s;n=n.sibling}return null}var of=e.unstable_scheduleCallback,lf=e.unstable_cancelCallback,W_=e.unstable_shouldYield,G_=e.unstable_requestPaint,mt=e.unstable_now,H_=e.unstable_getCurrentPriorityLevel,Kl=e.unstable_ImmediatePriority,uf=e.unstable_UserBlockingPriority,Ea=e.unstable_NormalPriority,Y_=e.unstable_LowPriority,cf=e.unstable_IdlePriority,Ca=null,Cr=null;function J_(n){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(Ca,n,void 0,(n.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:Z_,Q_=Math.log,X_=Math.LN2;function Z_(n){return n>>>=0,n===0?32:31-(Q_(n)/X_|0)|0}var Ta=64,Aa=4194304;function os(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Pa(n,s){var l=n.pendingLanes;if(l===0)return 0;var h=0,g=n.suspendedLanes,_=n.pingedLanes,T=l&268435455;if(T!==0){var M=T&~g;M!==0?h=os(M):(_&=T,_!==0&&(h=os(_)))}else T=l&~g,T!==0?h=os(T):_!==0&&(h=os(_));if(h===0)return 0;if(s!==0&&s!==h&&(s&g)===0&&(g=h&-h,_=s&-s,g>=_||g===16&&(_&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=h;0<s;)l=31-fr(s),g=1<<l,h|=n[l],s&=~g;return h}function eb(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tb(n,s){for(var l=n.suspendedLanes,h=n.pingedLanes,g=n.expirationTimes,_=n.pendingLanes;0<_;){var T=31-fr(_),M=1<<T,B=g[T];B===-1?((M&l)===0||(M&h)!==0)&&(g[T]=eb(M,s)):B<=s&&(n.expiredLanes|=M),_&=~M}}function Wl(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function df(){var n=Ta;return Ta<<=1,(Ta&4194240)===0&&(Ta=64),n}function Gl(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function ls(n,s,l){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-fr(s),n[s]=l}function rb(n,s){var l=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var h=n.eventTimes;for(n=n.expirationTimes;0<l;){var g=31-fr(l),_=1<<g;s[g]=0,h[g]=-1,n[g]=-1,l&=~_}}function Hl(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var h=31-fr(l),g=1<<h;g&s|n[h]&s&&(n[h]|=s),l&=~g}}var tt=0;function hf(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var ff,Yl,pf,mf,gf,Jl=!1,Ra=[],sn=null,an=null,on=null,us=new Map,cs=new Map,ln=[],nb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yf(n,s){switch(n){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":an=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":us.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":cs.delete(s.pointerId)}}function ds(n,s,l,h,g,_){return n===null||n.nativeEvent!==_?(n={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[g]},s!==null&&(s=Es(s),s!==null&&Yl(s)),n):(n.eventSystemFlags|=h,s=n.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),n)}function ib(n,s,l,h,g){switch(s){case"focusin":return sn=ds(sn,n,s,l,h,g),!0;case"dragenter":return an=ds(an,n,s,l,h,g),!0;case"mouseover":return on=ds(on,n,s,l,h,g),!0;case"pointerover":var _=g.pointerId;return us.set(_,ds(us.get(_)||null,n,s,l,h,g)),!0;case"gotpointercapture":return _=g.pointerId,cs.set(_,ds(cs.get(_)||null,n,s,l,h,g)),!0}return!1}function vf(n){var s=Dn(n.target);if(s!==null){var l=In(s);if(l!==null){if(s=l.tag,s===13){if(s=rf(l),s!==null){n.blockedOn=s,gf(n.priority,function(){pf(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ja(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=Xl(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var h=new l.constructor(l.type,l);Ul=h,l.target.dispatchEvent(h),Ul=null}else return s=Es(l),s!==null&&Yl(s),n.blockedOn=l,!1;s.shift()}return!0}function wf(n,s,l){ja(n)&&l.delete(s)}function sb(){Jl=!1,sn!==null&&ja(sn)&&(sn=null),an!==null&&ja(an)&&(an=null),on!==null&&ja(on)&&(on=null),us.forEach(wf),cs.forEach(wf)}function hs(n,s){n.blockedOn===s&&(n.blockedOn=null,Jl||(Jl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sb)))}function fs(n){function s(g){return hs(g,n)}if(0<Ra.length){hs(Ra[0],n);for(var l=1;l<Ra.length;l++){var h=Ra[l];h.blockedOn===n&&(h.blockedOn=null)}}for(sn!==null&&hs(sn,n),an!==null&&hs(an,n),on!==null&&hs(on,n),us.forEach(s),cs.forEach(s),l=0;l<ln.length;l++)h=ln[l],h.blockedOn===n&&(h.blockedOn=null);for(;0<ln.length&&(l=ln[0],l.blockedOn===null);)vf(l),l.blockedOn===null&&ln.shift()}var di=P.ReactCurrentBatchConfig,Oa=!0;function ab(n,s,l,h){var g=tt,_=di.transition;di.transition=null;try{tt=1,Ql(n,s,l,h)}finally{tt=g,di.transition=_}}function ob(n,s,l,h){var g=tt,_=di.transition;di.transition=null;try{tt=4,Ql(n,s,l,h)}finally{tt=g,di.transition=_}}function Ql(n,s,l,h){if(Oa){var g=Xl(n,s,l,h);if(g===null)mu(n,s,h,Na,l),yf(n,h);else if(ib(g,n,s,l,h))h.stopPropagation();else if(yf(n,h),s&4&&-1<nb.indexOf(n)){for(;g!==null;){var _=Es(g);if(_!==null&&ff(_),_=Xl(n,s,l,h),_===null&&mu(n,s,h,Na,l),_===g)break;g=_}g!==null&&h.stopPropagation()}else mu(n,s,h,null,l)}}var Na=null;function Xl(n,s,l,h){if(Na=null,n=Bl(h),n=Dn(n),n!==null)if(s=In(n),s===null)n=null;else if(l=s.tag,l===13){if(n=rf(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Na=n,null}function _f(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(H_()){case Kl:return 1;case uf:return 4;case Ea:case Y_:return 16;case cf:return 536870912;default:return 16}default:return 16}}var un=null,Zl=null,Ia=null;function bf(){if(Ia)return Ia;var n,s=Zl,l=s.length,h,g="value"in un?un.value:un.textContent,_=g.length;for(n=0;n<l&&s[n]===g[n];n++);var T=l-n;for(h=1;h<=T&&s[l-h]===g[_-h];h++);return Ia=g.slice(n,1<h?1-h:void 0)}function Da(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function La(){return!0}function xf(){return!1}function Xt(n){function s(l,h,g,_,T){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var M in n)n.hasOwnProperty(M)&&(l=n[M],this[M]=l?l(_):_[M]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?La:xf,this.isPropagationStopped=xf,this}return me(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=La)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=La)},persist:function(){},isPersistent:La}),s}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eu=Xt(hi),ps=me({},hi,{view:0,detail:0}),lb=Xt(ps),tu,ru,ms,Ma=me({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ms&&(ms&&n.type==="mousemove"?(tu=n.screenX-ms.screenX,ru=n.screenY-ms.screenY):ru=tu=0,ms=n),tu)},movementY:function(n){return"movementY"in n?n.movementY:ru}}),Sf=Xt(Ma),ub=me({},Ma,{dataTransfer:0}),cb=Xt(ub),db=me({},ps,{relatedTarget:0}),nu=Xt(db),hb=me({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),fb=Xt(hb),pb=me({},hi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),mb=Xt(pb),gb=me({},hi,{data:0}),kf=Xt(gb),yb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _b(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=wb[n])?!!s[n]:!1}function iu(){return _b}var bb=me({},ps,{key:function(n){if(n.key){var s=yb[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Da(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?vb[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iu,charCode:function(n){return n.type==="keypress"?Da(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Da(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),xb=Xt(bb),Sb=me({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ef=Xt(Sb),kb=me({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iu}),Eb=Xt(kb),Cb=me({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tb=Xt(Cb),Ab=me({},Ma,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Pb=Xt(Ab),Rb=[9,13,27,32],su=c&&"CompositionEvent"in window,gs=null;c&&"documentMode"in document&&(gs=document.documentMode);var jb=c&&"TextEvent"in window&&!gs,Cf=c&&(!su||gs&&8<gs&&11>=gs),Tf=" ",Af=!1;function Pf(n,s){switch(n){case"keyup":return Rb.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var fi=!1;function Ob(n,s){switch(n){case"compositionend":return Rf(s);case"keypress":return s.which!==32?null:(Af=!0,Tf);case"textInput":return n=s.data,n===Tf&&Af?null:n;default:return null}}function Nb(n,s){if(fi)return n==="compositionend"||!su&&Pf(n,s)?(n=bf(),Ia=Zl=un=null,fi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Cf&&s.locale!=="ko"?null:s.data;default:return null}}var Ib={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Ib[n.type]:s==="textarea"}function Of(n,s,l,h){Qh(h),s=$a(s,"onChange"),0<s.length&&(l=new eu("onChange","change",null,l,h),n.push({event:l,listeners:s}))}var ys=null,vs=null;function Db(n){Jf(n,0)}function za(n){var s=vi(n);if(ue(s))return n}function Lb(n,s){if(n==="change")return s}var Nf=!1;if(c){var au;if(c){var ou="oninput"in document;if(!ou){var If=document.createElement("div");If.setAttribute("oninput","return;"),ou=typeof If.oninput=="function"}au=ou}else au=!1;Nf=au&&(!document.documentMode||9<document.documentMode)}function Df(){ys&&(ys.detachEvent("onpropertychange",Lf),vs=ys=null)}function Lf(n){if(n.propertyName==="value"&&za(vs)){var s=[];Of(s,vs,n,Bl(n)),tf(Db,s)}}function Mb(n,s,l){n==="focusin"?(Df(),ys=s,vs=l,ys.attachEvent("onpropertychange",Lf)):n==="focusout"&&Df()}function zb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return za(vs)}function Ub(n,s){if(n==="click")return za(s)}function Bb(n,s){if(n==="input"||n==="change")return za(s)}function Fb(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var pr=typeof Object.is=="function"?Object.is:Fb;function ws(n,s){if(pr(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!d.call(s,g)||!pr(n[g],s[g]))return!1}return!0}function Mf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function zf(n,s){var l=Mf(n);n=0;for(var h;l;){if(l.nodeType===3){if(h=n+l.textContent.length,n<=s&&h>=s)return{node:l,offset:s-n};n=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Mf(l)}}function Uf(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Uf(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Bf(){for(var n=window,s=pe();s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=pe(n.document)}return s}function lu(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function $b(n){var s=Bf(),l=n.focusedElem,h=n.selectionRange;if(s!==l&&l&&l.ownerDocument&&Uf(l.ownerDocument.documentElement,l)){if(h!==null&&lu(l)){if(s=h.start,n=h.end,n===void 0&&(n=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(n,l.value.length);else if(n=(s=l.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var g=l.textContent.length,_=Math.min(h.start,g);h=h.end===void 0?_:Math.min(h.end,g),!n.extend&&_>h&&(g=h,h=_,_=g),g=zf(l,_);var T=zf(l,h);g&&T&&(n.rangeCount!==1||n.anchorNode!==g.node||n.anchorOffset!==g.offset||n.focusNode!==T.node||n.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(g.node,g.offset),n.removeAllRanges(),_>h?(n.addRange(s),n.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),n.addRange(s)))}}for(s=[],n=l;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)n=s[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Vb=c&&"documentMode"in document&&11>=document.documentMode,pi=null,uu=null,_s=null,cu=!1;function Ff(n,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;cu||pi==null||pi!==pe(h)||(h=pi,"selectionStart"in h&&lu(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),_s&&ws(_s,h)||(_s=h,h=$a(uu,"onSelect"),0<h.length&&(s=new eu("onSelect","select",null,s,l),n.push({event:s,listeners:h}),s.target=pi)))}function Ua(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var mi={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionend:Ua("Transition","TransitionEnd")},du={},$f={};c&&($f=document.createElement("div").style,"AnimationEvent"in window||(delete mi.animationend.animation,delete mi.animationiteration.animation,delete mi.animationstart.animation),"TransitionEvent"in window||delete mi.transitionend.transition);function Ba(n){if(du[n])return du[n];if(!mi[n])return n;var s=mi[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in $f)return du[n]=s[l];return n}var Vf=Ba("animationend"),qf=Ba("animationiteration"),Kf=Ba("animationstart"),Wf=Ba("transitionend"),Gf=new Map,Hf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cn(n,s){Gf.set(n,s),o(s,[n])}for(var hu=0;hu<Hf.length;hu++){var fu=Hf[hu],qb=fu.toLowerCase(),Kb=fu[0].toUpperCase()+fu.slice(1);cn(qb,"on"+Kb)}cn(Vf,"onAnimationEnd"),cn(qf,"onAnimationIteration"),cn(Kf,"onAnimationStart"),cn("dblclick","onDoubleClick"),cn("focusin","onFocus"),cn("focusout","onBlur"),cn(Wf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wb=new Set("cancel close invalid load scroll toggle".split(" ").concat(bs));function Yf(n,s,l){var h=n.type||"unknown-event";n.currentTarget=l,q_(h,s,void 0,n),n.currentTarget=null}function Jf(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var h=n[l],g=h.event;h=h.listeners;e:{var _=void 0;if(s)for(var T=h.length-1;0<=T;T--){var M=h[T],B=M.instance,X=M.currentTarget;if(M=M.listener,B!==_&&g.isPropagationStopped())break e;Yf(g,M,X),_=B}else for(T=0;T<h.length;T++){if(M=h[T],B=M.instance,X=M.currentTarget,M=M.listener,B!==_&&g.isPropagationStopped())break e;Yf(g,M,X),_=B}}}if(ka)throw n=ql,ka=!1,ql=null,n}function it(n,s){var l=s[bu];l===void 0&&(l=s[bu]=new Set);var h=n+"__bubble";l.has(h)||(Qf(s,n,2,!1),l.add(h))}function pu(n,s,l){var h=0;s&&(h|=4),Qf(l,n,h,s)}var Fa="_reactListening"+Math.random().toString(36).slice(2);function xs(n){if(!n[Fa]){n[Fa]=!0,i.forEach(function(l){l!=="selectionchange"&&(Wb.has(l)||pu(l,!1,n),pu(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Fa]||(s[Fa]=!0,pu("selectionchange",!1,s))}}function Qf(n,s,l,h){switch(_f(s)){case 1:var g=ab;break;case 4:g=ob;break;default:g=Ql}l=g.bind(null,s,l,n),g=void 0,!Vl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),h?g!==void 0?n.addEventListener(s,l,{capture:!0,passive:g}):n.addEventListener(s,l,!0):g!==void 0?n.addEventListener(s,l,{passive:g}):n.addEventListener(s,l,!1)}function mu(n,s,l,h,g){var _=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var M=h.stateNode.containerInfo;if(M===g||M.nodeType===8&&M.parentNode===g)break;if(T===4)for(T=h.return;T!==null;){var B=T.tag;if((B===3||B===4)&&(B=T.stateNode.containerInfo,B===g||B.nodeType===8&&B.parentNode===g))return;T=T.return}for(;M!==null;){if(T=Dn(M),T===null)return;if(B=T.tag,B===5||B===6){h=_=T;continue e}M=M.parentNode}}h=h.return}tf(function(){var X=_,le=Bl(l),de=[];e:{var oe=Gf.get(n);if(oe!==void 0){var we=eu,Se=n;switch(n){case"keypress":if(Da(l)===0)break e;case"keydown":case"keyup":we=xb;break;case"focusin":Se="focus",we=nu;break;case"focusout":Se="blur",we=nu;break;case"beforeblur":case"afterblur":we=nu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Sf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=cb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=Eb;break;case Vf:case qf:case Kf:we=fb;break;case Wf:we=Tb;break;case"scroll":we=lb;break;case"wheel":we=Pb;break;case"copy":case"cut":case"paste":we=mb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=Ef}var Te=(s&4)!==0,gt=!Te&&n==="scroll",Y=Te?oe!==null?oe+"Capture":null:oe;Te=[];for(var V=X,Q;V!==null;){Q=V;var he=Q.stateNode;if(Q.tag===5&&he!==null&&(Q=he,Y!==null&&(he=is(V,Y),he!=null&&Te.push(Ss(V,he,Q)))),gt)break;V=V.return}0<Te.length&&(oe=new we(oe,Se,null,l,le),de.push({event:oe,listeners:Te}))}}if((s&7)===0){e:{if(oe=n==="mouseover"||n==="pointerover",we=n==="mouseout"||n==="pointerout",oe&&l!==Ul&&(Se=l.relatedTarget||l.fromElement)&&(Dn(Se)||Se[Br]))break e;if((we||oe)&&(oe=le.window===le?le:(oe=le.ownerDocument)?oe.defaultView||oe.parentWindow:window,we?(Se=l.relatedTarget||l.toElement,we=X,Se=Se?Dn(Se):null,Se!==null&&(gt=In(Se),Se!==gt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(we=null,Se=X),we!==Se)){if(Te=Sf,he="onMouseLeave",Y="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(Te=Ef,he="onPointerLeave",Y="onPointerEnter",V="pointer"),gt=we==null?oe:vi(we),Q=Se==null?oe:vi(Se),oe=new Te(he,V+"leave",we,l,le),oe.target=gt,oe.relatedTarget=Q,he=null,Dn(le)===X&&(Te=new Te(Y,V+"enter",Se,l,le),Te.target=Q,Te.relatedTarget=gt,he=Te),gt=he,we&&Se)t:{for(Te=we,Y=Se,V=0,Q=Te;Q;Q=gi(Q))V++;for(Q=0,he=Y;he;he=gi(he))Q++;for(;0<V-Q;)Te=gi(Te),V--;for(;0<Q-V;)Y=gi(Y),Q--;for(;V--;){if(Te===Y||Y!==null&&Te===Y.alternate)break t;Te=gi(Te),Y=gi(Y)}Te=null}else Te=null;we!==null&&Xf(de,oe,we,Te,!1),Se!==null&&gt!==null&&Xf(de,gt,Se,Te,!0)}}e:{if(oe=X?vi(X):window,we=oe.nodeName&&oe.nodeName.toLowerCase(),we==="select"||we==="input"&&oe.type==="file")var Pe=Lb;else if(jf(oe))if(Nf)Pe=Bb;else{Pe=zb;var Ne=Mb}else(we=oe.nodeName)&&we.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Pe=Ub);if(Pe&&(Pe=Pe(n,X))){Of(de,Pe,l,le);break e}Ne&&Ne(n,oe,X),n==="focusout"&&(Ne=oe._wrapperState)&&Ne.controlled&&oe.type==="number"&&N(oe,"number",oe.value)}switch(Ne=X?vi(X):window,n){case"focusin":(jf(Ne)||Ne.contentEditable==="true")&&(pi=Ne,uu=X,_s=null);break;case"focusout":_s=uu=pi=null;break;case"mousedown":cu=!0;break;case"contextmenu":case"mouseup":case"dragend":cu=!1,Ff(de,l,le);break;case"selectionchange":if(Vb)break;case"keydown":case"keyup":Ff(de,l,le)}var Ie;if(su)e:{switch(n){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else fi?Pf(n,l)&&(Ue="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Ue="onCompositionStart");Ue&&(Cf&&l.locale!=="ko"&&(fi||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&fi&&(Ie=bf()):(un=le,Zl="value"in un?un.value:un.textContent,fi=!0)),Ne=$a(X,Ue),0<Ne.length&&(Ue=new kf(Ue,n,null,l,le),de.push({event:Ue,listeners:Ne}),Ie?Ue.data=Ie:(Ie=Rf(l),Ie!==null&&(Ue.data=Ie)))),(Ie=jb?Ob(n,l):Nb(n,l))&&(X=$a(X,"onBeforeInput"),0<X.length&&(le=new kf("onBeforeInput","beforeinput",null,l,le),de.push({event:le,listeners:X}),le.data=Ie))}Jf(de,s)})}function Ss(n,s,l){return{instance:n,listener:s,currentTarget:l}}function $a(n,s){for(var l=s+"Capture",h=[];n!==null;){var g=n,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=is(n,l),_!=null&&h.unshift(Ss(n,_,g)),_=is(n,s),_!=null&&h.push(Ss(n,_,g))),n=n.return}return h}function gi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Xf(n,s,l,h,g){for(var _=s._reactName,T=[];l!==null&&l!==h;){var M=l,B=M.alternate,X=M.stateNode;if(B!==null&&B===h)break;M.tag===5&&X!==null&&(M=X,g?(B=is(l,_),B!=null&&T.unshift(Ss(l,B,M))):g||(B=is(l,_),B!=null&&T.push(Ss(l,B,M)))),l=l.return}T.length!==0&&n.push({event:s,listeners:T})}var Gb=/\r\n?/g,Hb=/\u0000|\uFFFD/g;function Zf(n){return(typeof n=="string"?n:""+n).replace(Gb,`
`).replace(Hb,"")}function Va(n,s,l){if(s=Zf(s),Zf(n)!==s&&l)throw Error(r(425))}function qa(){}var gu=null,yu=null;function vu(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var wu=typeof setTimeout=="function"?setTimeout:void 0,Yb=typeof clearTimeout=="function"?clearTimeout:void 0,ep=typeof Promise=="function"?Promise:void 0,Jb=typeof queueMicrotask=="function"?queueMicrotask:typeof ep<"u"?function(n){return ep.resolve(null).then(n).catch(Qb)}:wu;function Qb(n){setTimeout(function(){throw n})}function _u(n,s){var l=s,h=0;do{var g=l.nextSibling;if(n.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(h===0){n.removeChild(g),fs(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=g}while(l);fs(s)}function dn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function tp(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return n;s--}else l==="/$"&&s++}n=n.previousSibling}return null}var yi=Math.random().toString(36).slice(2),Tr="__reactFiber$"+yi,ks="__reactProps$"+yi,Br="__reactContainer$"+yi,bu="__reactEvents$"+yi,Xb="__reactListeners$"+yi,Zb="__reactHandles$"+yi;function Dn(n){var s=n[Tr];if(s)return s;for(var l=n.parentNode;l;){if(s=l[Br]||l[Tr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=tp(n);n!==null;){if(l=n[Tr])return l;n=tp(n)}return s}n=l,l=n.parentNode}return null}function Es(n){return n=n[Tr]||n[Br],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function vi(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Ka(n){return n[ks]||null}var xu=[],wi=-1;function hn(n){return{current:n}}function st(n){0>wi||(n.current=xu[wi],xu[wi]=null,wi--)}function rt(n,s){wi++,xu[wi]=n.current,n.current=s}var fn={},Nt=hn(fn),Vt=hn(!1),Ln=fn;function _i(n,s){var l=n.type.contextTypes;if(!l)return fn;var h=n.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in l)g[_]=s[_];return h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=g),g}function qt(n){return n=n.childContextTypes,n!=null}function Wa(){st(Vt),st(Nt)}function rp(n,s,l){if(Nt.current!==fn)throw Error(r(168));rt(Nt,s),rt(Vt,l)}function np(n,s,l){var h=n.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var g in h)if(!(g in s))throw Error(r(108,Ve(n)||"Unknown",g));return me({},l,h)}function Ga(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||fn,Ln=Nt.current,rt(Nt,n),rt(Vt,Vt.current),!0}function ip(n,s,l){var h=n.stateNode;if(!h)throw Error(r(169));l?(n=np(n,s,Ln),h.__reactInternalMemoizedMergedChildContext=n,st(Vt),st(Nt),rt(Nt,n)):st(Vt),rt(Vt,l)}var Fr=null,Ha=!1,Su=!1;function sp(n){Fr===null?Fr=[n]:Fr.push(n)}function ex(n){Ha=!0,sp(n)}function pn(){if(!Su&&Fr!==null){Su=!0;var n=0,s=tt;try{var l=Fr;for(tt=1;n<l.length;n++){var h=l[n];do h=h(!0);while(h!==null)}Fr=null,Ha=!1}catch(g){throw Fr!==null&&(Fr=Fr.slice(n+1)),of(Kl,pn),g}finally{tt=s,Su=!1}}return null}var bi=[],xi=0,Ya=null,Ja=0,sr=[],ar=0,Mn=null,$r=1,Vr="";function zn(n,s){bi[xi++]=Ja,bi[xi++]=Ya,Ya=n,Ja=s}function ap(n,s,l){sr[ar++]=$r,sr[ar++]=Vr,sr[ar++]=Mn,Mn=n;var h=$r;n=Vr;var g=32-fr(h)-1;h&=~(1<<g),l+=1;var _=32-fr(s)+g;if(30<_){var T=g-g%5;_=(h&(1<<T)-1).toString(32),h>>=T,g-=T,$r=1<<32-fr(s)+g|l<<g|h,Vr=_+n}else $r=1<<_|l<<g|h,Vr=n}function ku(n){n.return!==null&&(zn(n,1),ap(n,1,0))}function Eu(n){for(;n===Ya;)Ya=bi[--xi],bi[xi]=null,Ja=bi[--xi],bi[xi]=null;for(;n===Mn;)Mn=sr[--ar],sr[ar]=null,Vr=sr[--ar],sr[ar]=null,$r=sr[--ar],sr[ar]=null}var Zt=null,er=null,ot=!1,mr=null;function op(n,s){var l=cr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=n,s=n.deletions,s===null?(n.deletions=[l],n.flags|=16):s.push(l)}function lp(n,s){switch(n.tag){case 5:var l=n.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,Zt=n,er=dn(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,Zt=n,er=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Mn!==null?{id:$r,overflow:Vr}:null,n.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=cr(18,null,null,0),l.stateNode=s,l.return=n,n.child=l,Zt=n,er=null,!0):!1;default:return!1}}function Cu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Tu(n){if(ot){var s=er;if(s){var l=s;if(!lp(n,s)){if(Cu(n))throw Error(r(418));s=dn(l.nextSibling);var h=Zt;s&&lp(n,s)?op(h,l):(n.flags=n.flags&-4097|2,ot=!1,Zt=n)}}else{if(Cu(n))throw Error(r(418));n.flags=n.flags&-4097|2,ot=!1,Zt=n}}}function up(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Zt=n}function Qa(n){if(n!==Zt)return!1;if(!ot)return up(n),ot=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!vu(n.type,n.memoizedProps)),s&&(s=er)){if(Cu(n))throw cp(),Error(r(418));for(;s;)op(n,s),s=dn(s.nextSibling)}if(up(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(s===0){er=dn(n.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}n=n.nextSibling}er=null}}else er=Zt?dn(n.stateNode.nextSibling):null;return!0}function cp(){for(var n=er;n;)n=dn(n.nextSibling)}function Si(){er=Zt=null,ot=!1}function Au(n){mr===null?mr=[n]:mr.push(n)}var tx=P.ReactCurrentBatchConfig;function Cs(n,s,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var h=l.stateNode}if(!h)throw Error(r(147,n));var g=h,_=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===_?s.ref:(s=function(T){var M=g.refs;T===null?delete M[_]:M[_]=T},s._stringRef=_,s)}if(typeof n!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,n))}return n}function Xa(n,s){throw n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function dp(n){var s=n._init;return s(n._payload)}function hp(n){function s(Y,V){if(n){var Q=Y.deletions;Q===null?(Y.deletions=[V],Y.flags|=16):Q.push(V)}}function l(Y,V){if(!n)return null;for(;V!==null;)s(Y,V),V=V.sibling;return null}function h(Y,V){for(Y=new Map;V!==null;)V.key!==null?Y.set(V.key,V):Y.set(V.index,V),V=V.sibling;return Y}function g(Y,V){return Y=xn(Y,V),Y.index=0,Y.sibling=null,Y}function _(Y,V,Q){return Y.index=Q,n?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<V?(Y.flags|=2,V):Q):(Y.flags|=2,V)):(Y.flags|=1048576,V)}function T(Y){return n&&Y.alternate===null&&(Y.flags|=2),Y}function M(Y,V,Q,he){return V===null||V.tag!==6?(V=wc(Q,Y.mode,he),V.return=Y,V):(V=g(V,Q),V.return=Y,V)}function B(Y,V,Q,he){var Pe=Q.type;return Pe===O?le(Y,V,Q.props.children,he,Q.key):V!==null&&(V.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===Oe&&dp(Pe)===V.type)?(he=g(V,Q.props),he.ref=Cs(Y,V,Q),he.return=Y,he):(he=So(Q.type,Q.key,Q.props,null,Y.mode,he),he.ref=Cs(Y,V,Q),he.return=Y,he)}function X(Y,V,Q,he){return V===null||V.tag!==4||V.stateNode.containerInfo!==Q.containerInfo||V.stateNode.implementation!==Q.implementation?(V=_c(Q,Y.mode,he),V.return=Y,V):(V=g(V,Q.children||[]),V.return=Y,V)}function le(Y,V,Q,he,Pe){return V===null||V.tag!==7?(V=Wn(Q,Y.mode,he,Pe),V.return=Y,V):(V=g(V,Q),V.return=Y,V)}function de(Y,V,Q){if(typeof V=="string"&&V!==""||typeof V=="number")return V=wc(""+V,Y.mode,Q),V.return=Y,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case j:return Q=So(V.type,V.key,V.props,null,Y.mode,Q),Q.ref=Cs(Y,null,V),Q.return=Y,Q;case D:return V=_c(V,Y.mode,Q),V.return=Y,V;case Oe:var he=V._init;return de(Y,he(V._payload),Q)}if(f(V)||se(V))return V=Wn(V,Y.mode,Q,null),V.return=Y,V;Xa(Y,V)}return null}function oe(Y,V,Q,he){var Pe=V!==null?V.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Pe!==null?null:M(Y,V,""+Q,he);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case j:return Q.key===Pe?B(Y,V,Q,he):null;case D:return Q.key===Pe?X(Y,V,Q,he):null;case Oe:return Pe=Q._init,oe(Y,V,Pe(Q._payload),he)}if(f(Q)||se(Q))return Pe!==null?null:le(Y,V,Q,he,null);Xa(Y,Q)}return null}function we(Y,V,Q,he,Pe){if(typeof he=="string"&&he!==""||typeof he=="number")return Y=Y.get(Q)||null,M(V,Y,""+he,Pe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case j:return Y=Y.get(he.key===null?Q:he.key)||null,B(V,Y,he,Pe);case D:return Y=Y.get(he.key===null?Q:he.key)||null,X(V,Y,he,Pe);case Oe:var Ne=he._init;return we(Y,V,Q,Ne(he._payload),Pe)}if(f(he)||se(he))return Y=Y.get(Q)||null,le(V,Y,he,Pe,null);Xa(V,he)}return null}function Se(Y,V,Q,he){for(var Pe=null,Ne=null,Ie=V,Ue=V=0,Tt=null;Ie!==null&&Ue<Q.length;Ue++){Ie.index>Ue?(Tt=Ie,Ie=null):Tt=Ie.sibling;var Qe=oe(Y,Ie,Q[Ue],he);if(Qe===null){Ie===null&&(Ie=Tt);break}n&&Ie&&Qe.alternate===null&&s(Y,Ie),V=_(Qe,V,Ue),Ne===null?Pe=Qe:Ne.sibling=Qe,Ne=Qe,Ie=Tt}if(Ue===Q.length)return l(Y,Ie),ot&&zn(Y,Ue),Pe;if(Ie===null){for(;Ue<Q.length;Ue++)Ie=de(Y,Q[Ue],he),Ie!==null&&(V=_(Ie,V,Ue),Ne===null?Pe=Ie:Ne.sibling=Ie,Ne=Ie);return ot&&zn(Y,Ue),Pe}for(Ie=h(Y,Ie);Ue<Q.length;Ue++)Tt=we(Ie,Y,Ue,Q[Ue],he),Tt!==null&&(n&&Tt.alternate!==null&&Ie.delete(Tt.key===null?Ue:Tt.key),V=_(Tt,V,Ue),Ne===null?Pe=Tt:Ne.sibling=Tt,Ne=Tt);return n&&Ie.forEach(function(Sn){return s(Y,Sn)}),ot&&zn(Y,Ue),Pe}function Te(Y,V,Q,he){var Pe=se(Q);if(typeof Pe!="function")throw Error(r(150));if(Q=Pe.call(Q),Q==null)throw Error(r(151));for(var Ne=Pe=null,Ie=V,Ue=V=0,Tt=null,Qe=Q.next();Ie!==null&&!Qe.done;Ue++,Qe=Q.next()){Ie.index>Ue?(Tt=Ie,Ie=null):Tt=Ie.sibling;var Sn=oe(Y,Ie,Qe.value,he);if(Sn===null){Ie===null&&(Ie=Tt);break}n&&Ie&&Sn.alternate===null&&s(Y,Ie),V=_(Sn,V,Ue),Ne===null?Pe=Sn:Ne.sibling=Sn,Ne=Sn,Ie=Tt}if(Qe.done)return l(Y,Ie),ot&&zn(Y,Ue),Pe;if(Ie===null){for(;!Qe.done;Ue++,Qe=Q.next())Qe=de(Y,Qe.value,he),Qe!==null&&(V=_(Qe,V,Ue),Ne===null?Pe=Qe:Ne.sibling=Qe,Ne=Qe);return ot&&zn(Y,Ue),Pe}for(Ie=h(Y,Ie);!Qe.done;Ue++,Qe=Q.next())Qe=we(Ie,Y,Ue,Qe.value,he),Qe!==null&&(n&&Qe.alternate!==null&&Ie.delete(Qe.key===null?Ue:Qe.key),V=_(Qe,V,Ue),Ne===null?Pe=Qe:Ne.sibling=Qe,Ne=Qe);return n&&Ie.forEach(function(Ix){return s(Y,Ix)}),ot&&zn(Y,Ue),Pe}function gt(Y,V,Q,he){if(typeof Q=="object"&&Q!==null&&Q.type===O&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case j:e:{for(var Pe=Q.key,Ne=V;Ne!==null;){if(Ne.key===Pe){if(Pe=Q.type,Pe===O){if(Ne.tag===7){l(Y,Ne.sibling),V=g(Ne,Q.props.children),V.return=Y,Y=V;break e}}else if(Ne.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===Oe&&dp(Pe)===Ne.type){l(Y,Ne.sibling),V=g(Ne,Q.props),V.ref=Cs(Y,Ne,Q),V.return=Y,Y=V;break e}l(Y,Ne);break}else s(Y,Ne);Ne=Ne.sibling}Q.type===O?(V=Wn(Q.props.children,Y.mode,he,Q.key),V.return=Y,Y=V):(he=So(Q.type,Q.key,Q.props,null,Y.mode,he),he.ref=Cs(Y,V,Q),he.return=Y,Y=he)}return T(Y);case D:e:{for(Ne=Q.key;V!==null;){if(V.key===Ne)if(V.tag===4&&V.stateNode.containerInfo===Q.containerInfo&&V.stateNode.implementation===Q.implementation){l(Y,V.sibling),V=g(V,Q.children||[]),V.return=Y,Y=V;break e}else{l(Y,V);break}else s(Y,V);V=V.sibling}V=_c(Q,Y.mode,he),V.return=Y,Y=V}return T(Y);case Oe:return Ne=Q._init,gt(Y,V,Ne(Q._payload),he)}if(f(Q))return Se(Y,V,Q,he);if(se(Q))return Te(Y,V,Q,he);Xa(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,V!==null&&V.tag===6?(l(Y,V.sibling),V=g(V,Q),V.return=Y,Y=V):(l(Y,V),V=wc(Q,Y.mode,he),V.return=Y,Y=V),T(Y)):l(Y,V)}return gt}var ki=hp(!0),fp=hp(!1),Za=hn(null),eo=null,Ei=null,Pu=null;function Ru(){Pu=Ei=eo=null}function ju(n){var s=Za.current;st(Za),n._currentValue=s}function Ou(n,s,l){for(;n!==null;){var h=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),n===l)break;n=n.return}}function Ci(n,s){eo=n,Pu=Ei=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Kt=!0),n.firstContext=null)}function or(n){var s=n._currentValue;if(Pu!==n)if(n={context:n,memoizedValue:s,next:null},Ei===null){if(eo===null)throw Error(r(308));Ei=n,eo.dependencies={lanes:0,firstContext:n}}else Ei=Ei.next=n;return s}var Un=null;function Nu(n){Un===null?Un=[n]:Un.push(n)}function pp(n,s,l,h){var g=s.interleaved;return g===null?(l.next=l,Nu(s)):(l.next=g.next,g.next=l),s.interleaved=l,qr(n,h)}function qr(n,s){n.lanes|=s;var l=n.alternate;for(l!==null&&(l.lanes|=s),l=n,n=n.return;n!==null;)n.childLanes|=s,l=n.alternate,l!==null&&(l.childLanes|=s),l=n,n=n.return;return l.tag===3?l.stateNode:null}var mn=!1;function Iu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mp(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Kr(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function gn(n,s,l){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(Je&2)!==0){var g=h.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),h.pending=s,qr(n,l)}return g=h.interleaved,g===null?(s.next=s,Nu(h)):(s.next=g.next,g.next=s),h.interleaved=s,qr(n,l)}function to(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=n.pendingLanes,l|=h,s.lanes=l,Hl(n,l)}}function gp(n,s){var l=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};_===null?g=_=T:_=_.next=T,l=l.next}while(l!==null);_===null?g=_=s:_=_.next=s}else g=_=s;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:h.shared,effects:h.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}function ro(n,s,l,h){var g=n.updateQueue;mn=!1;var _=g.firstBaseUpdate,T=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var B=M,X=B.next;B.next=null,T===null?_=X:T.next=X,T=B;var le=n.alternate;le!==null&&(le=le.updateQueue,M=le.lastBaseUpdate,M!==T&&(M===null?le.firstBaseUpdate=X:M.next=X,le.lastBaseUpdate=B))}if(_!==null){var de=g.baseState;T=0,le=X=B=null,M=_;do{var oe=M.lane,we=M.eventTime;if((h&oe)===oe){le!==null&&(le=le.next={eventTime:we,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Se=n,Te=M;switch(oe=s,we=l,Te.tag){case 1:if(Se=Te.payload,typeof Se=="function"){de=Se.call(we,de,oe);break e}de=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Te.payload,oe=typeof Se=="function"?Se.call(we,de,oe):Se,oe==null)break e;de=me({},de,oe);break e;case 2:mn=!0}}M.callback!==null&&M.lane!==0&&(n.flags|=64,oe=g.effects,oe===null?g.effects=[M]:oe.push(M))}else we={eventTime:we,lane:oe,tag:M.tag,payload:M.payload,callback:M.callback,next:null},le===null?(X=le=we,B=de):le=le.next=we,T|=oe;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;oe=M,M=oe.next,oe.next=null,g.lastBaseUpdate=oe,g.shared.pending=null}}while(!0);if(le===null&&(B=de),g.baseState=B,g.firstBaseUpdate=X,g.lastBaseUpdate=le,s=g.shared.interleaved,s!==null){g=s;do T|=g.lane,g=g.next;while(g!==s)}else _===null&&(g.shared.lanes=0);$n|=T,n.lanes=T,n.memoizedState=de}}function yp(n,s,l){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var h=n[s],g=h.callback;if(g!==null){if(h.callback=null,h=l,typeof g!="function")throw Error(r(191,g));g.call(h)}}}var Ts={},Ar=hn(Ts),As=hn(Ts),Ps=hn(Ts);function Bn(n){if(n===Ts)throw Error(r(174));return n}function Du(n,s){switch(rt(Ps,s),rt(As,n),rt(Ar,Ts),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:qe(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=qe(s,n)}st(Ar),rt(Ar,s)}function Ti(){st(Ar),st(As),st(Ps)}function vp(n){Bn(Ps.current);var s=Bn(Ar.current),l=qe(s,n.type);s!==l&&(rt(As,n),rt(Ar,l))}function Lu(n){As.current===n&&(st(Ar),st(As))}var ct=hn(0);function no(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Mu=[];function zu(){for(var n=0;n<Mu.length;n++)Mu[n]._workInProgressVersionPrimary=null;Mu.length=0}var io=P.ReactCurrentDispatcher,Uu=P.ReactCurrentBatchConfig,Fn=0,dt=null,St=null,Et=null,so=!1,Rs=!1,js=0,rx=0;function It(){throw Error(r(321))}function Bu(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!pr(n[l],s[l]))return!1;return!0}function Fu(n,s,l,h,g,_){if(Fn=_,dt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,io.current=n===null||n.memoizedState===null?ax:ox,n=l(h,g),Rs){_=0;do{if(Rs=!1,js=0,25<=_)throw Error(r(301));_+=1,Et=St=null,s.updateQueue=null,io.current=lx,n=l(h,g)}while(Rs)}if(io.current=lo,s=St!==null&&St.next!==null,Fn=0,Et=St=dt=null,so=!1,s)throw Error(r(300));return n}function $u(){var n=js!==0;return js=0,n}function Pr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?dt.memoizedState=Et=n:Et=Et.next=n,Et}function lr(){if(St===null){var n=dt.alternate;n=n!==null?n.memoizedState:null}else n=St.next;var s=Et===null?dt.memoizedState:Et.next;if(s!==null)Et=s,St=n;else{if(n===null)throw Error(r(310));St=n,n={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Et===null?dt.memoizedState=Et=n:Et=Et.next=n}return Et}function Os(n,s){return typeof s=="function"?s(n):s}function Vu(n){var s=lr(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var h=St,g=h.baseQueue,_=l.pending;if(_!==null){if(g!==null){var T=g.next;g.next=_.next,_.next=T}h.baseQueue=g=_,l.pending=null}if(g!==null){_=g.next,h=h.baseState;var M=T=null,B=null,X=_;do{var le=X.lane;if((Fn&le)===le)B!==null&&(B=B.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),h=X.hasEagerState?X.eagerState:n(h,X.action);else{var de={lane:le,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};B===null?(M=B=de,T=h):B=B.next=de,dt.lanes|=le,$n|=le}X=X.next}while(X!==null&&X!==_);B===null?T=h:B.next=M,pr(h,s.memoizedState)||(Kt=!0),s.memoizedState=h,s.baseState=T,s.baseQueue=B,l.lastRenderedState=h}if(n=l.interleaved,n!==null){g=n;do _=g.lane,dt.lanes|=_,$n|=_,g=g.next;while(g!==n)}else g===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function qu(n){var s=lr(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var h=l.dispatch,g=l.pending,_=s.memoizedState;if(g!==null){l.pending=null;var T=g=g.next;do _=n(_,T.action),T=T.next;while(T!==g);pr(_,s.memoizedState)||(Kt=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,h]}function wp(){}function _p(n,s){var l=dt,h=lr(),g=s(),_=!pr(h.memoizedState,g);if(_&&(h.memoizedState=g,Kt=!0),h=h.queue,Ku(Sp.bind(null,l,h,n),[n]),h.getSnapshot!==s||_||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,Ns(9,xp.bind(null,l,h,g,s),void 0,null),Ct===null)throw Error(r(349));(Fn&30)!==0||bp(l,s,g)}return g}function bp(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=dt.updateQueue,s===null?(s={lastEffect:null,stores:null},dt.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function xp(n,s,l,h){s.value=l,s.getSnapshot=h,kp(s)&&Ep(n)}function Sp(n,s,l){return l(function(){kp(s)&&Ep(n)})}function kp(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!pr(n,l)}catch{return!0}}function Ep(n){var s=qr(n,1);s!==null&&wr(s,n,1,-1)}function Cp(n){var s=Pr();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:n},s.queue=n,n=n.dispatch=sx.bind(null,dt,n),[s.memoizedState,n]}function Ns(n,s,l,h){return n={tag:n,create:s,destroy:l,deps:h,next:null},s=dt.updateQueue,s===null?(s={lastEffect:null,stores:null},dt.updateQueue=s,s.lastEffect=n.next=n):(l=s.lastEffect,l===null?s.lastEffect=n.next=n:(h=l.next,l.next=n,n.next=h,s.lastEffect=n)),n}function Tp(){return lr().memoizedState}function ao(n,s,l,h){var g=Pr();dt.flags|=n,g.memoizedState=Ns(1|s,l,void 0,h===void 0?null:h)}function oo(n,s,l,h){var g=lr();h=h===void 0?null:h;var _=void 0;if(St!==null){var T=St.memoizedState;if(_=T.destroy,h!==null&&Bu(h,T.deps)){g.memoizedState=Ns(s,l,_,h);return}}dt.flags|=n,g.memoizedState=Ns(1|s,l,_,h)}function Ap(n,s){return ao(8390656,8,n,s)}function Ku(n,s){return oo(2048,8,n,s)}function Pp(n,s){return oo(4,2,n,s)}function Rp(n,s){return oo(4,4,n,s)}function jp(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Op(n,s,l){return l=l!=null?l.concat([n]):null,oo(4,4,jp.bind(null,s,n),l)}function Wu(){}function Np(n,s){var l=lr();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Bu(s,h[1])?h[0]:(l.memoizedState=[n,s],n)}function Ip(n,s){var l=lr();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Bu(s,h[1])?h[0]:(n=n(),l.memoizedState=[n,s],n)}function Dp(n,s,l){return(Fn&21)===0?(n.baseState&&(n.baseState=!1,Kt=!0),n.memoizedState=l):(pr(l,s)||(l=df(),dt.lanes|=l,$n|=l,n.baseState=!0),s)}function nx(n,s){var l=tt;tt=l!==0&&4>l?l:4,n(!0);var h=Uu.transition;Uu.transition={};try{n(!1),s()}finally{tt=l,Uu.transition=h}}function Lp(){return lr().memoizedState}function ix(n,s,l){var h=_n(n);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Mp(n))zp(s,l);else if(l=pp(n,s,l,h),l!==null){var g=Ft();wr(l,n,h,g),Up(l,s,h)}}function sx(n,s,l){var h=_n(n),g={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Mp(n))zp(s,g);else{var _=n.alternate;if(n.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var T=s.lastRenderedState,M=_(T,l);if(g.hasEagerState=!0,g.eagerState=M,pr(M,T)){var B=s.interleaved;B===null?(g.next=g,Nu(s)):(g.next=B.next,B.next=g),s.interleaved=g;return}}catch{}finally{}l=pp(n,s,g,h),l!==null&&(g=Ft(),wr(l,n,h,g),Up(l,s,h))}}function Mp(n){var s=n.alternate;return n===dt||s!==null&&s===dt}function zp(n,s){Rs=so=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function Up(n,s,l){if((l&4194240)!==0){var h=s.lanes;h&=n.pendingLanes,l|=h,s.lanes=l,Hl(n,l)}}var lo={readContext:or,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},ax={readContext:or,useCallback:function(n,s){return Pr().memoizedState=[n,s===void 0?null:s],n},useContext:or,useEffect:Ap,useImperativeHandle:function(n,s,l){return l=l!=null?l.concat([n]):null,ao(4194308,4,jp.bind(null,s,n),l)},useLayoutEffect:function(n,s){return ao(4194308,4,n,s)},useInsertionEffect:function(n,s){return ao(4,2,n,s)},useMemo:function(n,s){var l=Pr();return s=s===void 0?null:s,n=n(),l.memoizedState=[n,s],n},useReducer:function(n,s,l){var h=Pr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},h.queue=n,n=n.dispatch=ix.bind(null,dt,n),[h.memoizedState,n]},useRef:function(n){var s=Pr();return n={current:n},s.memoizedState=n},useState:Cp,useDebugValue:Wu,useDeferredValue:function(n){return Pr().memoizedState=n},useTransition:function(){var n=Cp(!1),s=n[0];return n=nx.bind(null,n[1]),Pr().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,l){var h=dt,g=Pr();if(ot){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Ct===null)throw Error(r(349));(Fn&30)!==0||bp(h,s,l)}g.memoizedState=l;var _={value:l,getSnapshot:s};return g.queue=_,Ap(Sp.bind(null,h,_,n),[n]),h.flags|=2048,Ns(9,xp.bind(null,h,_,l,s),void 0,null),l},useId:function(){var n=Pr(),s=Ct.identifierPrefix;if(ot){var l=Vr,h=$r;l=(h&~(1<<32-fr(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=js++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=rx++,s=":"+s+"r"+l.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},ox={readContext:or,useCallback:Np,useContext:or,useEffect:Ku,useImperativeHandle:Op,useInsertionEffect:Pp,useLayoutEffect:Rp,useMemo:Ip,useReducer:Vu,useRef:Tp,useState:function(){return Vu(Os)},useDebugValue:Wu,useDeferredValue:function(n){var s=lr();return Dp(s,St.memoizedState,n)},useTransition:function(){var n=Vu(Os)[0],s=lr().memoizedState;return[n,s]},useMutableSource:wp,useSyncExternalStore:_p,useId:Lp,unstable_isNewReconciler:!1},lx={readContext:or,useCallback:Np,useContext:or,useEffect:Ku,useImperativeHandle:Op,useInsertionEffect:Pp,useLayoutEffect:Rp,useMemo:Ip,useReducer:qu,useRef:Tp,useState:function(){return qu(Os)},useDebugValue:Wu,useDeferredValue:function(n){var s=lr();return St===null?s.memoizedState=n:Dp(s,St.memoizedState,n)},useTransition:function(){var n=qu(Os)[0],s=lr().memoizedState;return[n,s]},useMutableSource:wp,useSyncExternalStore:_p,useId:Lp,unstable_isNewReconciler:!1};function gr(n,s){if(n&&n.defaultProps){s=me({},s),n=n.defaultProps;for(var l in n)s[l]===void 0&&(s[l]=n[l]);return s}return s}function Gu(n,s,l,h){s=n.memoizedState,l=l(h,s),l=l==null?s:me({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var uo={isMounted:function(n){return(n=n._reactInternals)?In(n)===n:!1},enqueueSetState:function(n,s,l){n=n._reactInternals;var h=Ft(),g=_n(n),_=Kr(h,g);_.payload=s,l!=null&&(_.callback=l),s=gn(n,_,g),s!==null&&(wr(s,n,g,h),to(s,n,g))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var h=Ft(),g=_n(n),_=Kr(h,g);_.tag=1,_.payload=s,l!=null&&(_.callback=l),s=gn(n,_,g),s!==null&&(wr(s,n,g,h),to(s,n,g))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=Ft(),h=_n(n),g=Kr(l,h);g.tag=2,s!=null&&(g.callback=s),s=gn(n,g,h),s!==null&&(wr(s,n,h,l),to(s,n,h))}};function Bp(n,s,l,h,g,_,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,_,T):s.prototype&&s.prototype.isPureReactComponent?!ws(l,h)||!ws(g,_):!0}function Fp(n,s,l){var h=!1,g=fn,_=s.contextType;return typeof _=="object"&&_!==null?_=or(_):(g=qt(s)?Ln:Nt.current,h=s.contextTypes,_=(h=h!=null)?_i(n,g):fn),s=new s(l,_),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=uo,n.stateNode=s,s._reactInternals=n,h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=g,n.__reactInternalMemoizedMaskedChildContext=_),s}function $p(n,s,l,h){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==n&&uo.enqueueReplaceState(s,s.state,null)}function Hu(n,s,l,h){var g=n.stateNode;g.props=l,g.state=n.memoizedState,g.refs={},Iu(n);var _=s.contextType;typeof _=="object"&&_!==null?g.context=or(_):(_=qt(s)?Ln:Nt.current,g.context=_i(n,_)),g.state=n.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Gu(n,s,_,l),g.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(s=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),s!==g.state&&uo.enqueueReplaceState(g,g.state,null),ro(n,l,g,h),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308)}function Ai(n,s){try{var l="",h=s;do l+=ie(h),h=h.return;while(h);var g=l}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:n,source:s,stack:g,digest:null}}function Yu(n,s,l){return{value:n,source:null,stack:l??null,digest:s??null}}function Ju(n,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var ux=typeof WeakMap=="function"?WeakMap:Map;function Vp(n,s,l){l=Kr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){yo||(yo=!0,dc=h),Ju(n,s)},l}function qp(n,s,l){l=Kr(-1,l),l.tag=3;var h=n.type.getDerivedStateFromError;if(typeof h=="function"){var g=s.value;l.payload=function(){return h(g)},l.callback=function(){Ju(n,s)}}var _=n.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(l.callback=function(){Ju(n,s),typeof h!="function"&&(vn===null?vn=new Set([this]):vn.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function Kp(n,s,l){var h=n.pingCache;if(h===null){h=n.pingCache=new ux;var g=new Set;h.set(s,g)}else g=h.get(s),g===void 0&&(g=new Set,h.set(s,g));g.has(l)||(g.add(l),n=Sx.bind(null,n,s,l),s.then(n,n))}function Wp(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Gp(n,s,l,h,g){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Kr(-1,1),s.tag=2,gn(l,s,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=g,n)}var cx=P.ReactCurrentOwner,Kt=!1;function Bt(n,s,l,h){s.child=n===null?fp(s,null,l,h):ki(s,n.child,l,h)}function Hp(n,s,l,h,g){l=l.render;var _=s.ref;return Ci(s,g),h=Fu(n,s,l,h,_,g),l=$u(),n!==null&&!Kt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~g,Wr(n,s,g)):(ot&&l&&ku(s),s.flags|=1,Bt(n,s,h,g),s.child)}function Yp(n,s,l,h,g){if(n===null){var _=l.type;return typeof _=="function"&&!vc(_)&&_.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=_,Jp(n,s,_,h,g)):(n=So(l.type,null,h,s,s.mode,g),n.ref=s.ref,n.return=s,s.child=n)}if(_=n.child,(n.lanes&g)===0){var T=_.memoizedProps;if(l=l.compare,l=l!==null?l:ws,l(T,h)&&n.ref===s.ref)return Wr(n,s,g)}return s.flags|=1,n=xn(_,h),n.ref=s.ref,n.return=s,s.child=n}function Jp(n,s,l,h,g){if(n!==null){var _=n.memoizedProps;if(ws(_,h)&&n.ref===s.ref)if(Kt=!1,s.pendingProps=h=_,(n.lanes&g)!==0)(n.flags&131072)!==0&&(Kt=!0);else return s.lanes=n.lanes,Wr(n,s,g)}return Qu(n,s,l,h,g)}function Qp(n,s,l){var h=s.pendingProps,g=h.children,_=n!==null?n.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Ri,tr),tr|=l;else{if((l&1073741824)===0)return n=_!==null?_.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,rt(Ri,tr),tr|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=_!==null?_.baseLanes:l,rt(Ri,tr),tr|=h}else _!==null?(h=_.baseLanes|l,s.memoizedState=null):h=l,rt(Ri,tr),tr|=h;return Bt(n,s,g,l),s.child}function Xp(n,s){var l=s.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Qu(n,s,l,h,g){var _=qt(l)?Ln:Nt.current;return _=_i(s,_),Ci(s,g),l=Fu(n,s,l,h,_,g),h=$u(),n!==null&&!Kt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~g,Wr(n,s,g)):(ot&&h&&ku(s),s.flags|=1,Bt(n,s,l,g),s.child)}function Zp(n,s,l,h,g){if(qt(l)){var _=!0;Ga(s)}else _=!1;if(Ci(s,g),s.stateNode===null)ho(n,s),Fp(s,l,h),Hu(s,l,h,g),h=!0;else if(n===null){var T=s.stateNode,M=s.memoizedProps;T.props=M;var B=T.context,X=l.contextType;typeof X=="object"&&X!==null?X=or(X):(X=qt(l)?Ln:Nt.current,X=_i(s,X));var le=l.getDerivedStateFromProps,de=typeof le=="function"||typeof T.getSnapshotBeforeUpdate=="function";de||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(M!==h||B!==X)&&$p(s,T,h,X),mn=!1;var oe=s.memoizedState;T.state=oe,ro(s,h,T,g),B=s.memoizedState,M!==h||oe!==B||Vt.current||mn?(typeof le=="function"&&(Gu(s,l,le,h),B=s.memoizedState),(M=mn||Bp(s,l,M,h,oe,B,X))?(de||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=B),T.props=h,T.state=B,T.context=X,h=M):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{T=s.stateNode,mp(n,s),M=s.memoizedProps,X=s.type===s.elementType?M:gr(s.type,M),T.props=X,de=s.pendingProps,oe=T.context,B=l.contextType,typeof B=="object"&&B!==null?B=or(B):(B=qt(l)?Ln:Nt.current,B=_i(s,B));var we=l.getDerivedStateFromProps;(le=typeof we=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(M!==de||oe!==B)&&$p(s,T,h,B),mn=!1,oe=s.memoizedState,T.state=oe,ro(s,h,T,g);var Se=s.memoizedState;M!==de||oe!==Se||Vt.current||mn?(typeof we=="function"&&(Gu(s,l,we,h),Se=s.memoizedState),(X=mn||Bp(s,l,X,h,oe,Se,B)||!1)?(le||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,Se,B),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,Se,B)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||M===n.memoizedProps&&oe===n.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&oe===n.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Se),T.props=h,T.state=Se,T.context=B,h=X):(typeof T.componentDidUpdate!="function"||M===n.memoizedProps&&oe===n.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&oe===n.memoizedState||(s.flags|=1024),h=!1)}return Xu(n,s,l,h,_,g)}function Xu(n,s,l,h,g,_){Xp(n,s);var T=(s.flags&128)!==0;if(!h&&!T)return g&&ip(s,l,!1),Wr(n,s,_);h=s.stateNode,cx.current=s;var M=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,n!==null&&T?(s.child=ki(s,n.child,null,_),s.child=ki(s,null,M,_)):Bt(n,s,M,_),s.memoizedState=h.state,g&&ip(s,l,!0),s.child}function em(n){var s=n.stateNode;s.pendingContext?rp(n,s.pendingContext,s.pendingContext!==s.context):s.context&&rp(n,s.context,!1),Du(n,s.containerInfo)}function tm(n,s,l,h,g){return Si(),Au(g),s.flags|=256,Bt(n,s,l,h),s.child}var Zu={dehydrated:null,treeContext:null,retryLane:0};function ec(n){return{baseLanes:n,cachePool:null,transitions:null}}function rm(n,s,l){var h=s.pendingProps,g=ct.current,_=!1,T=(s.flags&128)!==0,M;if((M=T)||(M=n!==null&&n.memoizedState===null?!1:(g&2)!==0),M?(_=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(g|=1),rt(ct,g&1),n===null)return Tu(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=h.children,n=h.fallback,_?(h=s.mode,_=s.child,T={mode:"hidden",children:T},(h&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=T):_=ko(T,h,0,null),n=Wn(n,h,l,null),_.return=s,n.return=s,_.sibling=n,s.child=_,s.child.memoizedState=ec(l),s.memoizedState=Zu,n):tc(s,T));if(g=n.memoizedState,g!==null&&(M=g.dehydrated,M!==null))return dx(n,s,T,h,M,g,l);if(_){_=h.fallback,T=s.mode,g=n.child,M=g.sibling;var B={mode:"hidden",children:h.children};return(T&1)===0&&s.child!==g?(h=s.child,h.childLanes=0,h.pendingProps=B,s.deletions=null):(h=xn(g,B),h.subtreeFlags=g.subtreeFlags&14680064),M!==null?_=xn(M,_):(_=Wn(_,T,l,null),_.flags|=2),_.return=s,h.return=s,h.sibling=_,s.child=h,h=_,_=s.child,T=n.child.memoizedState,T=T===null?ec(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},_.memoizedState=T,_.childLanes=n.childLanes&~l,s.memoizedState=Zu,h}return _=n.child,n=_.sibling,h=xn(_,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,n!==null&&(l=s.deletions,l===null?(s.deletions=[n],s.flags|=16):l.push(n)),s.child=h,s.memoizedState=null,h}function tc(n,s){return s=ko({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function co(n,s,l,h){return h!==null&&Au(h),ki(s,n.child,null,l),n=tc(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function dx(n,s,l,h,g,_,T){if(l)return s.flags&256?(s.flags&=-257,h=Yu(Error(r(422))),co(n,s,T,h)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(_=h.fallback,g=s.mode,h=ko({mode:"visible",children:h.children},g,0,null),_=Wn(_,g,T,null),_.flags|=2,h.return=s,_.return=s,h.sibling=_,s.child=h,(s.mode&1)!==0&&ki(s,n.child,null,T),s.child.memoizedState=ec(T),s.memoizedState=Zu,_);if((s.mode&1)===0)return co(n,s,T,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var M=h.dgst;return h=M,_=Error(r(419)),h=Yu(_,h,void 0),co(n,s,T,h)}if(M=(T&n.childLanes)!==0,Kt||M){if(h=Ct,h!==null){switch(T&-T){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|T))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,qr(n,g),wr(h,n,g,-1))}return yc(),h=Yu(Error(r(421))),co(n,s,T,h)}return g.data==="$?"?(s.flags|=128,s.child=n.child,s=kx.bind(null,n),g._reactRetry=s,null):(n=_.treeContext,er=dn(g.nextSibling),Zt=s,ot=!0,mr=null,n!==null&&(sr[ar++]=$r,sr[ar++]=Vr,sr[ar++]=Mn,$r=n.id,Vr=n.overflow,Mn=s),s=tc(s,h.children),s.flags|=4096,s)}function nm(n,s,l){n.lanes|=s;var h=n.alternate;h!==null&&(h.lanes|=s),Ou(n.return,s,l)}function rc(n,s,l,h,g){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=l,_.tailMode=g)}function im(n,s,l){var h=s.pendingProps,g=h.revealOrder,_=h.tail;if(Bt(n,s,h.children,l),h=ct.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&nm(n,l,s);else if(n.tag===19)nm(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}if(rt(ct,h),(s.mode&1)===0)s.memoizedState=null;else switch(g){case"forwards":for(l=s.child,g=null;l!==null;)n=l.alternate,n!==null&&no(n)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),rc(s,!1,g,l,_);break;case"backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(n=g.alternate,n!==null&&no(n)===null){s.child=g;break}n=g.sibling,g.sibling=l,l=g,g=n}rc(s,!0,l,null,_);break;case"together":rc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ho(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Wr(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),$n|=s.lanes,(l&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,l=xn(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=xn(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function hx(n,s,l){switch(s.tag){case 3:em(s),Si();break;case 5:vp(s);break;case 1:qt(s.type)&&Ga(s);break;case 4:Du(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,g=s.memoizedProps.value;rt(Za,h._currentValue),h._currentValue=g;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(rt(ct,ct.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?rm(n,s,l):(rt(ct,ct.current&1),n=Wr(n,s,l),n!==null?n.sibling:null);rt(ct,ct.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(n.flags&128)!==0){if(h)return im(n,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),rt(ct,ct.current),h)break;return null;case 22:case 23:return s.lanes=0,Qp(n,s,l)}return Wr(n,s,l)}var sm,nc,am,om;sm=function(n,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},nc=function(){},am=function(n,s,l,h){var g=n.memoizedProps;if(g!==h){n=s.stateNode,Bn(Ar.current);var _=null;switch(l){case"input":g=fe(n,g),h=fe(n,h),_=[];break;case"select":g=me({},g,{value:void 0}),h=me({},h,{value:void 0}),_=[];break;case"textarea":g=A(n,g),h=A(n,h),_=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(n.onclick=qa)}Er(l,h);var T;l=null;for(X in g)if(!h.hasOwnProperty(X)&&g.hasOwnProperty(X)&&g[X]!=null)if(X==="style"){var M=g[X];for(T in M)M.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(a.hasOwnProperty(X)?_||(_=[]):(_=_||[]).push(X,null));for(X in h){var B=h[X];if(M=g!=null?g[X]:void 0,h.hasOwnProperty(X)&&B!==M&&(B!=null||M!=null))if(X==="style")if(M){for(T in M)!M.hasOwnProperty(T)||B&&B.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in B)B.hasOwnProperty(T)&&M[T]!==B[T]&&(l||(l={}),l[T]=B[T])}else l||(_||(_=[]),_.push(X,l)),l=B;else X==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,M=M?M.__html:void 0,B!=null&&M!==B&&(_=_||[]).push(X,B)):X==="children"?typeof B!="string"&&typeof B!="number"||(_=_||[]).push(X,""+B):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(a.hasOwnProperty(X)?(B!=null&&X==="onScroll"&&it("scroll",n),_||M===B||(_=[])):(_=_||[]).push(X,B))}l&&(_=_||[]).push("style",l);var X=_;(s.updateQueue=X)&&(s.flags|=4)}},om=function(n,s,l,h){l!==h&&(s.flags|=4)};function Is(n,s){if(!ot)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function Dt(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,h=0;if(s)for(var g=n.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=h,n.childLanes=l,s}function fx(n,s,l){var h=s.pendingProps;switch(Eu(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(s),null;case 1:return qt(s.type)&&Wa(),Dt(s),null;case 3:return h=s.stateNode,Ti(),st(Vt),st(Nt),zu(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(n===null||n.child===null)&&(Qa(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,mr!==null&&(pc(mr),mr=null))),nc(n,s),Dt(s),null;case 5:Lu(s);var g=Bn(Ps.current);if(l=s.type,n!==null&&s.stateNode!=null)am(n,s,l,h,g),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Dt(s),null}if(n=Bn(Ar.current),Qa(s)){h=s.stateNode,l=s.type;var _=s.memoizedProps;switch(h[Tr]=s,h[ks]=_,n=(s.mode&1)!==0,l){case"dialog":it("cancel",h),it("close",h);break;case"iframe":case"object":case"embed":it("load",h);break;case"video":case"audio":for(g=0;g<bs.length;g++)it(bs[g],h);break;case"source":it("error",h);break;case"img":case"image":case"link":it("error",h),it("load",h);break;case"details":it("toggle",h);break;case"input":$(h,_),it("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!_.multiple},it("invalid",h);break;case"textarea":F(h,_),it("invalid",h)}Er(l,_),g=null;for(var T in _)if(_.hasOwnProperty(T)){var M=_[T];T==="children"?typeof M=="string"?h.textContent!==M&&(_.suppressHydrationWarning!==!0&&Va(h.textContent,M,n),g=["children",M]):typeof M=="number"&&h.textContent!==""+M&&(_.suppressHydrationWarning!==!0&&Va(h.textContent,M,n),g=["children",""+M]):a.hasOwnProperty(T)&&M!=null&&T==="onScroll"&&it("scroll",h)}switch(l){case"input":wt(h),ge(h,_,!0);break;case"textarea":wt(h),Z(h);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(h.onclick=qa)}h=g,s.updateQueue=h,h!==null&&(s.flags|=4)}else{T=g.nodeType===9?g:g.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ae(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=T.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof h.is=="string"?n=T.createElement(l,{is:h.is}):(n=T.createElement(l),l==="select"&&(T=n,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):n=T.createElementNS(n,l),n[Tr]=s,n[ks]=h,sm(n,s,!1,!1),s.stateNode=n;e:{switch(T=zl(l,h),l){case"dialog":it("cancel",n),it("close",n),g=h;break;case"iframe":case"object":case"embed":it("load",n),g=h;break;case"video":case"audio":for(g=0;g<bs.length;g++)it(bs[g],n);g=h;break;case"source":it("error",n),g=h;break;case"img":case"image":case"link":it("error",n),it("load",n),g=h;break;case"details":it("toggle",n),g=h;break;case"input":$(n,h),g=fe(n,h),it("invalid",n);break;case"option":g=h;break;case"select":n._wrapperState={wasMultiple:!!h.multiple},g=me({},h,{value:void 0}),it("invalid",n);break;case"textarea":F(n,h),g=A(n,h),it("invalid",n);break;default:g=h}Er(l,g),M=g;for(_ in M)if(M.hasOwnProperty(_)){var B=M[_];_==="style"?rn(n,B):_==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&We(n,B)):_==="children"?typeof B=="string"?(l!=="textarea"||B!=="")&&$e(n,B):typeof B=="number"&&$e(n,""+B):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(a.hasOwnProperty(_)?B!=null&&_==="onScroll"&&it("scroll",n):B!=null&&k(n,_,B,T))}switch(l){case"input":wt(n),ge(n,h,!1);break;case"textarea":wt(n),Z(n);break;case"option":h.value!=null&&n.setAttribute("value",""+Fe(h.value));break;case"select":n.multiple=!!h.multiple,_=h.value,_!=null?S(n,!!h.multiple,_,!1):h.defaultValue!=null&&S(n,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(n.onclick=qa)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Dt(s),null;case 6:if(n&&s.stateNode!=null)om(n,s,n.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(l=Bn(Ps.current),Bn(Ar.current),Qa(s)){if(h=s.stateNode,l=s.memoizedProps,h[Tr]=s,(_=h.nodeValue!==l)&&(n=Zt,n!==null))switch(n.tag){case 3:Va(h.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Va(h.nodeValue,l,(n.mode&1)!==0)}_&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Tr]=s,s.stateNode=h}return Dt(s),null;case 13:if(st(ct),h=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ot&&er!==null&&(s.mode&1)!==0&&(s.flags&128)===0)cp(),Si(),s.flags|=98560,_=!1;else if(_=Qa(s),h!==null&&h.dehydrated!==null){if(n===null){if(!_)throw Error(r(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Tr]=s}else Si(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Dt(s),_=!1}else mr!==null&&(pc(mr),mr=null),_=!0;if(!_)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(n!==null&&n.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(ct.current&1)!==0?kt===0&&(kt=3):yc())),s.updateQueue!==null&&(s.flags|=4),Dt(s),null);case 4:return Ti(),nc(n,s),n===null&&xs(s.stateNode.containerInfo),Dt(s),null;case 10:return ju(s.type._context),Dt(s),null;case 17:return qt(s.type)&&Wa(),Dt(s),null;case 19:if(st(ct),_=s.memoizedState,_===null)return Dt(s),null;if(h=(s.flags&128)!==0,T=_.rendering,T===null)if(h)Is(_,!1);else{if(kt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(T=no(n),T!==null){for(s.flags|=128,Is(_,!1),h=T.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)_=l,n=h,_.flags&=14680066,T=_.alternate,T===null?(_.childLanes=0,_.lanes=n,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=T.childLanes,_.lanes=T.lanes,_.child=T.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=T.memoizedProps,_.memoizedState=T.memoizedState,_.updateQueue=T.updateQueue,_.type=T.type,n=T.dependencies,_.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return rt(ct,ct.current&1|2),s.child}n=n.sibling}_.tail!==null&&mt()>ji&&(s.flags|=128,h=!0,Is(_,!1),s.lanes=4194304)}else{if(!h)if(n=no(T),n!==null){if(s.flags|=128,h=!0,l=n.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Is(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!ot)return Dt(s),null}else 2*mt()-_.renderingStartTime>ji&&l!==1073741824&&(s.flags|=128,h=!0,Is(_,!1),s.lanes=4194304);_.isBackwards?(T.sibling=s.child,s.child=T):(l=_.last,l!==null?l.sibling=T:s.child=T,_.last=T)}return _.tail!==null?(s=_.tail,_.rendering=s,_.tail=s.sibling,_.renderingStartTime=mt(),s.sibling=null,l=ct.current,rt(ct,h?l&1|2:l&1),s):(Dt(s),null);case 22:case 23:return gc(),h=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(tr&1073741824)!==0&&(Dt(s),s.subtreeFlags&6&&(s.flags|=8192)):Dt(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function px(n,s){switch(Eu(s),s.tag){case 1:return qt(s.type)&&Wa(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Ti(),st(Vt),st(Nt),zu(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return Lu(s),null;case 13:if(st(ct),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Si()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return st(ct),null;case 4:return Ti(),null;case 10:return ju(s.type._context),null;case 22:case 23:return gc(),null;case 24:return null;default:return null}}var fo=!1,Lt=!1,mx=typeof WeakSet=="function"?WeakSet:Set,be=null;function Pi(n,s){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){ft(n,s,h)}else l.current=null}function ic(n,s,l){try{l()}catch(h){ft(n,s,h)}}var lm=!1;function gx(n,s){if(gu=Oa,n=Bf(),lu(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var T=0,M=-1,B=-1,X=0,le=0,de=n,oe=null;t:for(;;){for(var we;de!==l||g!==0&&de.nodeType!==3||(M=T+g),de!==_||h!==0&&de.nodeType!==3||(B=T+h),de.nodeType===3&&(T+=de.nodeValue.length),(we=de.firstChild)!==null;)oe=de,de=we;for(;;){if(de===n)break t;if(oe===l&&++X===g&&(M=T),oe===_&&++le===h&&(B=T),(we=de.nextSibling)!==null)break;de=oe,oe=de.parentNode}de=we}l=M===-1||B===-1?null:{start:M,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(yu={focusedElem:n,selectionRange:l},Oa=!1,be=s;be!==null;)if(s=be,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,be=n;else for(;be!==null;){s=be;try{var Se=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Te=Se.memoizedProps,gt=Se.memoizedState,Y=s.stateNode,V=Y.getSnapshotBeforeUpdate(s.elementType===s.type?Te:gr(s.type,Te),gt);Y.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var Q=s.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(he){ft(s,s.return,he)}if(n=s.sibling,n!==null){n.return=s.return,be=n;break}be=s.return}return Se=lm,lm=!1,Se}function Ds(n,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&n)===n){var _=g.destroy;g.destroy=void 0,_!==void 0&&ic(s,l,_)}g=g.next}while(g!==h)}}function po(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&n)===n){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function sc(n){var s=n.ref;if(s!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof s=="function"?s(n):s.current=n}}function um(n){var s=n.alternate;s!==null&&(n.alternate=null,um(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Tr],delete s[ks],delete s[bu],delete s[Xb],delete s[Zb])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function cm(n){return n.tag===5||n.tag===3||n.tag===4}function dm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||cm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ac(n,s,l){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(n,s):l.insertBefore(n,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(n,l)):(s=l,s.appendChild(n)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=qa));else if(h!==4&&(n=n.child,n!==null))for(ac(n,s,l),n=n.sibling;n!==null;)ac(n,s,l),n=n.sibling}function oc(n,s,l){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(h!==4&&(n=n.child,n!==null))for(oc(n,s,l),n=n.sibling;n!==null;)oc(n,s,l),n=n.sibling}var At=null,yr=!1;function yn(n,s,l){for(l=l.child;l!==null;)hm(n,s,l),l=l.sibling}function hm(n,s,l){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(Ca,l)}catch{}switch(l.tag){case 5:Lt||Pi(l,s);case 6:var h=At,g=yr;At=null,yn(n,s,l),At=h,yr=g,At!==null&&(yr?(n=At,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):At.removeChild(l.stateNode));break;case 18:At!==null&&(yr?(n=At,l=l.stateNode,n.nodeType===8?_u(n.parentNode,l):n.nodeType===1&&_u(n,l),fs(n)):_u(At,l.stateNode));break;case 4:h=At,g=yr,At=l.stateNode.containerInfo,yr=!0,yn(n,s,l),At=h,yr=g;break;case 0:case 11:case 14:case 15:if(!Lt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var _=g,T=_.destroy;_=_.tag,T!==void 0&&((_&2)!==0||(_&4)!==0)&&ic(l,s,T),g=g.next}while(g!==h)}yn(n,s,l);break;case 1:if(!Lt&&(Pi(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(M){ft(l,s,M)}yn(n,s,l);break;case 21:yn(n,s,l);break;case 22:l.mode&1?(Lt=(h=Lt)||l.memoizedState!==null,yn(n,s,l),Lt=h):yn(n,s,l);break;default:yn(n,s,l)}}function fm(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new mx),s.forEach(function(h){var g=Ex.bind(null,n,h);l.has(h)||(l.add(h),h.then(g,g))})}}function vr(n,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h];try{var _=n,T=s,M=T;e:for(;M!==null;){switch(M.tag){case 5:At=M.stateNode,yr=!1;break e;case 3:At=M.stateNode.containerInfo,yr=!0;break e;case 4:At=M.stateNode.containerInfo,yr=!0;break e}M=M.return}if(At===null)throw Error(r(160));hm(_,T,g),At=null,yr=!1;var B=g.alternate;B!==null&&(B.return=null),g.return=null}catch(X){ft(g,s,X)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)pm(s,n),s=s.sibling}function pm(n,s){var l=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(vr(s,n),Rr(n),h&4){try{Ds(3,n,n.return),po(3,n)}catch(Te){ft(n,n.return,Te)}try{Ds(5,n,n.return)}catch(Te){ft(n,n.return,Te)}}break;case 1:vr(s,n),Rr(n),h&512&&l!==null&&Pi(l,l.return);break;case 5:if(vr(s,n),Rr(n),h&512&&l!==null&&Pi(l,l.return),n.flags&32){var g=n.stateNode;try{$e(g,"")}catch(Te){ft(n,n.return,Te)}}if(h&4&&(g=n.stateNode,g!=null)){var _=n.memoizedProps,T=l!==null?l.memoizedProps:_,M=n.type,B=n.updateQueue;if(n.updateQueue=null,B!==null)try{M==="input"&&_.type==="radio"&&_.name!=null&&G(g,_),zl(M,T);var X=zl(M,_);for(T=0;T<B.length;T+=2){var le=B[T],de=B[T+1];le==="style"?rn(g,de):le==="dangerouslySetInnerHTML"?We(g,de):le==="children"?$e(g,de):k(g,le,de,X)}switch(M){case"input":ee(g,_);break;case"textarea":H(g,_);break;case"select":var oe=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var we=_.value;we!=null?S(g,!!_.multiple,we,!1):oe!==!!_.multiple&&(_.defaultValue!=null?S(g,!!_.multiple,_.defaultValue,!0):S(g,!!_.multiple,_.multiple?[]:"",!1))}g[ks]=_}catch(Te){ft(n,n.return,Te)}}break;case 6:if(vr(s,n),Rr(n),h&4){if(n.stateNode===null)throw Error(r(162));g=n.stateNode,_=n.memoizedProps;try{g.nodeValue=_}catch(Te){ft(n,n.return,Te)}}break;case 3:if(vr(s,n),Rr(n),h&4&&l!==null&&l.memoizedState.isDehydrated)try{fs(s.containerInfo)}catch(Te){ft(n,n.return,Te)}break;case 4:vr(s,n),Rr(n);break;case 13:vr(s,n),Rr(n),g=n.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(cc=mt())),h&4&&fm(n);break;case 22:if(le=l!==null&&l.memoizedState!==null,n.mode&1?(Lt=(X=Lt)||le,vr(s,n),Lt=X):vr(s,n),Rr(n),h&8192){if(X=n.memoizedState!==null,(n.stateNode.isHidden=X)&&!le&&(n.mode&1)!==0)for(be=n,le=n.child;le!==null;){for(de=be=le;be!==null;){switch(oe=be,we=oe.child,oe.tag){case 0:case 11:case 14:case 15:Ds(4,oe,oe.return);break;case 1:Pi(oe,oe.return);var Se=oe.stateNode;if(typeof Se.componentWillUnmount=="function"){h=oe,l=oe.return;try{s=h,Se.props=s.memoizedProps,Se.state=s.memoizedState,Se.componentWillUnmount()}catch(Te){ft(h,l,Te)}}break;case 5:Pi(oe,oe.return);break;case 22:if(oe.memoizedState!==null){ym(de);continue}}we!==null?(we.return=oe,be=we):ym(de)}le=le.sibling}e:for(le=null,de=n;;){if(de.tag===5){if(le===null){le=de;try{g=de.stateNode,X?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(M=de.stateNode,B=de.memoizedProps.style,T=B!=null&&B.hasOwnProperty("display")?B.display:null,M.style.display=Ur("display",T))}catch(Te){ft(n,n.return,Te)}}}else if(de.tag===6){if(le===null)try{de.stateNode.nodeValue=X?"":de.memoizedProps}catch(Te){ft(n,n.return,Te)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===n)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===n)break e;for(;de.sibling===null;){if(de.return===null||de.return===n)break e;le===de&&(le=null),de=de.return}le===de&&(le=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:vr(s,n),Rr(n),h&4&&fm(n);break;case 21:break;default:vr(s,n),Rr(n)}}function Rr(n){var s=n.flags;if(s&2){try{e:{for(var l=n.return;l!==null;){if(cm(l)){var h=l;break e}l=l.return}throw Error(r(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&($e(g,""),h.flags&=-33);var _=dm(n);oc(n,_,g);break;case 3:case 4:var T=h.stateNode.containerInfo,M=dm(n);ac(n,M,T);break;default:throw Error(r(161))}}catch(B){ft(n,n.return,B)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function yx(n,s,l){be=n,mm(n)}function mm(n,s,l){for(var h=(n.mode&1)!==0;be!==null;){var g=be,_=g.child;if(g.tag===22&&h){var T=g.memoizedState!==null||fo;if(!T){var M=g.alternate,B=M!==null&&M.memoizedState!==null||Lt;M=fo;var X=Lt;if(fo=T,(Lt=B)&&!X)for(be=g;be!==null;)T=be,B=T.child,T.tag===22&&T.memoizedState!==null?vm(g):B!==null?(B.return=T,be=B):vm(g);for(;_!==null;)be=_,mm(_),_=_.sibling;be=g,fo=M,Lt=X}gm(n)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,be=_):gm(n)}}function gm(n){for(;be!==null;){var s=be;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Lt||po(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Lt)if(l===null)h.componentDidMount();else{var g=s.elementType===s.type?l.memoizedProps:gr(s.type,l.memoizedProps);h.componentDidUpdate(g,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var _=s.updateQueue;_!==null&&yp(s,_,h);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}yp(s,T,l)}break;case 5:var M=s.stateNode;if(l===null&&s.flags&4){l=M;var B=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&l.focus();break;case"img":B.src&&(l.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var X=s.alternate;if(X!==null){var le=X.memoizedState;if(le!==null){var de=le.dehydrated;de!==null&&fs(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Lt||s.flags&512&&sc(s)}catch(oe){ft(s,s.return,oe)}}if(s===n){be=null;break}if(l=s.sibling,l!==null){l.return=s.return,be=l;break}be=s.return}}function ym(n){for(;be!==null;){var s=be;if(s===n){be=null;break}var l=s.sibling;if(l!==null){l.return=s.return,be=l;break}be=s.return}}function vm(n){for(;be!==null;){var s=be;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{po(4,s)}catch(B){ft(s,l,B)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var g=s.return;try{h.componentDidMount()}catch(B){ft(s,g,B)}}var _=s.return;try{sc(s)}catch(B){ft(s,_,B)}break;case 5:var T=s.return;try{sc(s)}catch(B){ft(s,T,B)}}}catch(B){ft(s,s.return,B)}if(s===n){be=null;break}var M=s.sibling;if(M!==null){M.return=s.return,be=M;break}be=s.return}}var vx=Math.ceil,mo=P.ReactCurrentDispatcher,lc=P.ReactCurrentOwner,ur=P.ReactCurrentBatchConfig,Je=0,Ct=null,_t=null,Pt=0,tr=0,Ri=hn(0),kt=0,Ls=null,$n=0,go=0,uc=0,Ms=null,Wt=null,cc=0,ji=1/0,Gr=null,yo=!1,dc=null,vn=null,vo=!1,wn=null,wo=0,zs=0,hc=null,_o=-1,bo=0;function Ft(){return(Je&6)!==0?mt():_o!==-1?_o:_o=mt()}function _n(n){return(n.mode&1)===0?1:(Je&2)!==0&&Pt!==0?Pt&-Pt:tx.transition!==null?(bo===0&&(bo=df()),bo):(n=tt,n!==0||(n=window.event,n=n===void 0?16:_f(n.type)),n)}function wr(n,s,l,h){if(50<zs)throw zs=0,hc=null,Error(r(185));ls(n,l,h),((Je&2)===0||n!==Ct)&&(n===Ct&&((Je&2)===0&&(go|=l),kt===4&&bn(n,Pt)),Gt(n,h),l===1&&Je===0&&(s.mode&1)===0&&(ji=mt()+500,Ha&&pn()))}function Gt(n,s){var l=n.callbackNode;tb(n,s);var h=Pa(n,n===Ct?Pt:0);if(h===0)l!==null&&lf(l),n.callbackNode=null,n.callbackPriority=0;else if(s=h&-h,n.callbackPriority!==s){if(l!=null&&lf(l),s===1)n.tag===0?ex(_m.bind(null,n)):sp(_m.bind(null,n)),Jb(function(){(Je&6)===0&&pn()}),l=null;else{switch(hf(h)){case 1:l=Kl;break;case 4:l=uf;break;case 16:l=Ea;break;case 536870912:l=cf;break;default:l=Ea}l=Am(l,wm.bind(null,n))}n.callbackPriority=s,n.callbackNode=l}}function wm(n,s){if(_o=-1,bo=0,(Je&6)!==0)throw Error(r(327));var l=n.callbackNode;if(Oi()&&n.callbackNode!==l)return null;var h=Pa(n,n===Ct?Pt:0);if(h===0)return null;if((h&30)!==0||(h&n.expiredLanes)!==0||s)s=xo(n,h);else{s=h;var g=Je;Je|=2;var _=xm();(Ct!==n||Pt!==s)&&(Gr=null,ji=mt()+500,qn(n,s));do try{bx();break}catch(M){bm(n,M)}while(!0);Ru(),mo.current=_,Je=g,_t!==null?s=0:(Ct=null,Pt=0,s=kt)}if(s!==0){if(s===2&&(g=Wl(n),g!==0&&(h=g,s=fc(n,g))),s===1)throw l=Ls,qn(n,0),bn(n,h),Gt(n,mt()),l;if(s===6)bn(n,h);else{if(g=n.current.alternate,(h&30)===0&&!wx(g)&&(s=xo(n,h),s===2&&(_=Wl(n),_!==0&&(h=_,s=fc(n,_))),s===1))throw l=Ls,qn(n,0),bn(n,h),Gt(n,mt()),l;switch(n.finishedWork=g,n.finishedLanes=h,s){case 0:case 1:throw Error(r(345));case 2:Kn(n,Wt,Gr);break;case 3:if(bn(n,h),(h&130023424)===h&&(s=cc+500-mt(),10<s)){if(Pa(n,0)!==0)break;if(g=n.suspendedLanes,(g&h)!==h){Ft(),n.pingedLanes|=n.suspendedLanes&g;break}n.timeoutHandle=wu(Kn.bind(null,n,Wt,Gr),s);break}Kn(n,Wt,Gr);break;case 4:if(bn(n,h),(h&4194240)===h)break;for(s=n.eventTimes,g=-1;0<h;){var T=31-fr(h);_=1<<T,T=s[T],T>g&&(g=T),h&=~_}if(h=g,h=mt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*vx(h/1960))-h,10<h){n.timeoutHandle=wu(Kn.bind(null,n,Wt,Gr),h);break}Kn(n,Wt,Gr);break;case 5:Kn(n,Wt,Gr);break;default:throw Error(r(329))}}}return Gt(n,mt()),n.callbackNode===l?wm.bind(null,n):null}function fc(n,s){var l=Ms;return n.current.memoizedState.isDehydrated&&(qn(n,s).flags|=256),n=xo(n,s),n!==2&&(s=Wt,Wt=l,s!==null&&pc(s)),n}function pc(n){Wt===null?Wt=n:Wt.push.apply(Wt,n)}function wx(n){for(var s=n;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var g=l[h],_=g.getSnapshot;g=g.value;try{if(!pr(_(),g))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function bn(n,s){for(s&=~uc,s&=~go,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var l=31-fr(s),h=1<<l;n[l]=-1,s&=~h}}function _m(n){if((Je&6)!==0)throw Error(r(327));Oi();var s=Pa(n,0);if((s&1)===0)return Gt(n,mt()),null;var l=xo(n,s);if(n.tag!==0&&l===2){var h=Wl(n);h!==0&&(s=h,l=fc(n,h))}if(l===1)throw l=Ls,qn(n,0),bn(n,s),Gt(n,mt()),l;if(l===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Kn(n,Wt,Gr),Gt(n,mt()),null}function mc(n,s){var l=Je;Je|=1;try{return n(s)}finally{Je=l,Je===0&&(ji=mt()+500,Ha&&pn())}}function Vn(n){wn!==null&&wn.tag===0&&(Je&6)===0&&Oi();var s=Je;Je|=1;var l=ur.transition,h=tt;try{if(ur.transition=null,tt=1,n)return n()}finally{tt=h,ur.transition=l,Je=s,(Je&6)===0&&pn()}}function gc(){tr=Ri.current,st(Ri)}function qn(n,s){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,Yb(l)),_t!==null)for(l=_t.return;l!==null;){var h=l;switch(Eu(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Wa();break;case 3:Ti(),st(Vt),st(Nt),zu();break;case 5:Lu(h);break;case 4:Ti();break;case 13:st(ct);break;case 19:st(ct);break;case 10:ju(h.type._context);break;case 22:case 23:gc()}l=l.return}if(Ct=n,_t=n=xn(n.current,null),Pt=tr=s,kt=0,Ls=null,uc=go=$n=0,Wt=Ms=null,Un!==null){for(s=0;s<Un.length;s++)if(l=Un[s],h=l.interleaved,h!==null){l.interleaved=null;var g=h.next,_=l.pending;if(_!==null){var T=_.next;_.next=g,h.next=T}l.pending=h}Un=null}return n}function bm(n,s){do{var l=_t;try{if(Ru(),io.current=lo,so){for(var h=dt.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}so=!1}if(Fn=0,Et=St=dt=null,Rs=!1,js=0,lc.current=null,l===null||l.return===null){kt=1,Ls=s,_t=null;break}e:{var _=n,T=l.return,M=l,B=s;if(s=Pt,M.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var X=B,le=M,de=le.tag;if((le.mode&1)===0&&(de===0||de===11||de===15)){var oe=le.alternate;oe?(le.updateQueue=oe.updateQueue,le.memoizedState=oe.memoizedState,le.lanes=oe.lanes):(le.updateQueue=null,le.memoizedState=null)}var we=Wp(T);if(we!==null){we.flags&=-257,Gp(we,T,M,_,s),we.mode&1&&Kp(_,X,s),s=we,B=X;var Se=s.updateQueue;if(Se===null){var Te=new Set;Te.add(B),s.updateQueue=Te}else Se.add(B);break e}else{if((s&1)===0){Kp(_,X,s),yc();break e}B=Error(r(426))}}else if(ot&&M.mode&1){var gt=Wp(T);if(gt!==null){(gt.flags&65536)===0&&(gt.flags|=256),Gp(gt,T,M,_,s),Au(Ai(B,M));break e}}_=B=Ai(B,M),kt!==4&&(kt=2),Ms===null?Ms=[_]:Ms.push(_),_=T;do{switch(_.tag){case 3:_.flags|=65536,s&=-s,_.lanes|=s;var Y=Vp(_,B,s);gp(_,Y);break e;case 1:M=B;var V=_.type,Q=_.stateNode;if((_.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(vn===null||!vn.has(Q)))){_.flags|=65536,s&=-s,_.lanes|=s;var he=qp(_,M,s);gp(_,he);break e}}_=_.return}while(_!==null)}km(l)}catch(Pe){s=Pe,_t===l&&l!==null&&(_t=l=l.return);continue}break}while(!0)}function xm(){var n=mo.current;return mo.current=lo,n===null?lo:n}function yc(){(kt===0||kt===3||kt===2)&&(kt=4),Ct===null||($n&268435455)===0&&(go&268435455)===0||bn(Ct,Pt)}function xo(n,s){var l=Je;Je|=2;var h=xm();(Ct!==n||Pt!==s)&&(Gr=null,qn(n,s));do try{_x();break}catch(g){bm(n,g)}while(!0);if(Ru(),Je=l,mo.current=h,_t!==null)throw Error(r(261));return Ct=null,Pt=0,kt}function _x(){for(;_t!==null;)Sm(_t)}function bx(){for(;_t!==null&&!W_();)Sm(_t)}function Sm(n){var s=Tm(n.alternate,n,tr);n.memoizedProps=n.pendingProps,s===null?km(n):_t=s,lc.current=null}function km(n){var s=n;do{var l=s.alternate;if(n=s.return,(s.flags&32768)===0){if(l=fx(l,s,tr),l!==null){_t=l;return}}else{if(l=px(l,s),l!==null){l.flags&=32767,_t=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{kt=6,_t=null;return}}if(s=s.sibling,s!==null){_t=s;return}_t=s=n}while(s!==null);kt===0&&(kt=5)}function Kn(n,s,l){var h=tt,g=ur.transition;try{ur.transition=null,tt=1,xx(n,s,l,h)}finally{ur.transition=g,tt=h}return null}function xx(n,s,l,h){do Oi();while(wn!==null);if((Je&6)!==0)throw Error(r(327));l=n.finishedWork;var g=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var _=l.lanes|l.childLanes;if(rb(n,_),n===Ct&&(_t=Ct=null,Pt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||vo||(vo=!0,Am(Ea,function(){return Oi(),null})),_=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||_){_=ur.transition,ur.transition=null;var T=tt;tt=1;var M=Je;Je|=4,lc.current=null,gx(n,l),pm(l,n),$b(yu),Oa=!!gu,yu=gu=null,n.current=l,yx(l),G_(),Je=M,tt=T,ur.transition=_}else n.current=l;if(vo&&(vo=!1,wn=n,wo=g),_=n.pendingLanes,_===0&&(vn=null),J_(l.stateNode),Gt(n,mt()),s!==null)for(h=n.onRecoverableError,l=0;l<s.length;l++)g=s[l],h(g.value,{componentStack:g.stack,digest:g.digest});if(yo)throw yo=!1,n=dc,dc=null,n;return(wo&1)!==0&&n.tag!==0&&Oi(),_=n.pendingLanes,(_&1)!==0?n===hc?zs++:(zs=0,hc=n):zs=0,pn(),null}function Oi(){if(wn!==null){var n=hf(wo),s=ur.transition,l=tt;try{if(ur.transition=null,tt=16>n?16:n,wn===null)var h=!1;else{if(n=wn,wn=null,wo=0,(Je&6)!==0)throw Error(r(331));var g=Je;for(Je|=4,be=n.current;be!==null;){var _=be,T=_.child;if((be.flags&16)!==0){var M=_.deletions;if(M!==null){for(var B=0;B<M.length;B++){var X=M[B];for(be=X;be!==null;){var le=be;switch(le.tag){case 0:case 11:case 15:Ds(8,le,_)}var de=le.child;if(de!==null)de.return=le,be=de;else for(;be!==null;){le=be;var oe=le.sibling,we=le.return;if(um(le),le===X){be=null;break}if(oe!==null){oe.return=we,be=oe;break}be=we}}}var Se=_.alternate;if(Se!==null){var Te=Se.child;if(Te!==null){Se.child=null;do{var gt=Te.sibling;Te.sibling=null,Te=gt}while(Te!==null)}}be=_}}if((_.subtreeFlags&2064)!==0&&T!==null)T.return=_,be=T;else e:for(;be!==null;){if(_=be,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Ds(9,_,_.return)}var Y=_.sibling;if(Y!==null){Y.return=_.return,be=Y;break e}be=_.return}}var V=n.current;for(be=V;be!==null;){T=be;var Q=T.child;if((T.subtreeFlags&2064)!==0&&Q!==null)Q.return=T,be=Q;else e:for(T=V;be!==null;){if(M=be,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:po(9,M)}}catch(Pe){ft(M,M.return,Pe)}if(M===T){be=null;break e}var he=M.sibling;if(he!==null){he.return=M.return,be=he;break e}be=M.return}}if(Je=g,pn(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(Ca,n)}catch{}h=!0}return h}finally{tt=l,ur.transition=s}}return!1}function Em(n,s,l){s=Ai(l,s),s=Vp(n,s,1),n=gn(n,s,1),s=Ft(),n!==null&&(ls(n,1,s),Gt(n,s))}function ft(n,s,l){if(n.tag===3)Em(n,n,l);else for(;s!==null;){if(s.tag===3){Em(s,n,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(vn===null||!vn.has(h))){n=Ai(l,n),n=qp(s,n,1),s=gn(s,n,1),n=Ft(),s!==null&&(ls(s,1,n),Gt(s,n));break}}s=s.return}}function Sx(n,s,l){var h=n.pingCache;h!==null&&h.delete(s),s=Ft(),n.pingedLanes|=n.suspendedLanes&l,Ct===n&&(Pt&l)===l&&(kt===4||kt===3&&(Pt&130023424)===Pt&&500>mt()-cc?qn(n,0):uc|=l),Gt(n,s)}function Cm(n,s){s===0&&((n.mode&1)===0?s=1:(s=Aa,Aa<<=1,(Aa&130023424)===0&&(Aa=4194304)));var l=Ft();n=qr(n,s),n!==null&&(ls(n,s,l),Gt(n,l))}function kx(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),Cm(n,l)}function Ex(n,s){var l=0;switch(n.tag){case 13:var h=n.stateNode,g=n.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=n.stateNode;break;default:throw Error(r(314))}h!==null&&h.delete(s),Cm(n,l)}var Tm;Tm=function(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps||Vt.current)Kt=!0;else{if((n.lanes&l)===0&&(s.flags&128)===0)return Kt=!1,hx(n,s,l);Kt=(n.flags&131072)!==0}else Kt=!1,ot&&(s.flags&1048576)!==0&&ap(s,Ja,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;ho(n,s),n=s.pendingProps;var g=_i(s,Nt.current);Ci(s,l),g=Fu(null,s,h,n,g,l);var _=$u();return s.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,qt(h)?(_=!0,Ga(s)):_=!1,s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Iu(s),g.updater=uo,s.stateNode=g,g._reactInternals=s,Hu(s,h,n,l),s=Xu(null,s,h,!0,_,l)):(s.tag=0,ot&&_&&ku(s),Bt(null,s,g,l),s=s.child),s;case 16:h=s.elementType;e:{switch(ho(n,s),n=s.pendingProps,g=h._init,h=g(h._payload),s.type=h,g=s.tag=Tx(h),n=gr(h,n),g){case 0:s=Qu(null,s,h,n,l);break e;case 1:s=Zp(null,s,h,n,l);break e;case 11:s=Hp(null,s,h,n,l);break e;case 14:s=Yp(null,s,h,gr(h.type,n),l);break e}throw Error(r(306,h,""))}return s;case 0:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:gr(h,g),Qu(n,s,h,g,l);case 1:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:gr(h,g),Zp(n,s,h,g,l);case 3:e:{if(em(s),n===null)throw Error(r(387));h=s.pendingProps,_=s.memoizedState,g=_.element,mp(n,s),ro(s,h,null,l);var T=s.memoizedState;if(h=T.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){g=Ai(Error(r(423)),s),s=tm(n,s,h,l,g);break e}else if(h!==g){g=Ai(Error(r(424)),s),s=tm(n,s,h,l,g);break e}else for(er=dn(s.stateNode.containerInfo.firstChild),Zt=s,ot=!0,mr=null,l=fp(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Si(),h===g){s=Wr(n,s,l);break e}Bt(n,s,h,l)}s=s.child}return s;case 5:return vp(s),n===null&&Tu(s),h=s.type,g=s.pendingProps,_=n!==null?n.memoizedProps:null,T=g.children,vu(h,g)?T=null:_!==null&&vu(h,_)&&(s.flags|=32),Xp(n,s),Bt(n,s,T,l),s.child;case 6:return n===null&&Tu(s),null;case 13:return rm(n,s,l);case 4:return Du(s,s.stateNode.containerInfo),h=s.pendingProps,n===null?s.child=ki(s,null,h,l):Bt(n,s,h,l),s.child;case 11:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:gr(h,g),Hp(n,s,h,g,l);case 7:return Bt(n,s,s.pendingProps,l),s.child;case 8:return Bt(n,s,s.pendingProps.children,l),s.child;case 12:return Bt(n,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,g=s.pendingProps,_=s.memoizedProps,T=g.value,rt(Za,h._currentValue),h._currentValue=T,_!==null)if(pr(_.value,T)){if(_.children===g.children&&!Vt.current){s=Wr(n,s,l);break e}}else for(_=s.child,_!==null&&(_.return=s);_!==null;){var M=_.dependencies;if(M!==null){T=_.child;for(var B=M.firstContext;B!==null;){if(B.context===h){if(_.tag===1){B=Kr(-1,l&-l),B.tag=2;var X=_.updateQueue;if(X!==null){X=X.shared;var le=X.pending;le===null?B.next=B:(B.next=le.next,le.next=B),X.pending=B}}_.lanes|=l,B=_.alternate,B!==null&&(B.lanes|=l),Ou(_.return,l,s),M.lanes|=l;break}B=B.next}}else if(_.tag===10)T=_.type===s.type?null:_.child;else if(_.tag===18){if(T=_.return,T===null)throw Error(r(341));T.lanes|=l,M=T.alternate,M!==null&&(M.lanes|=l),Ou(T,l,s),T=_.sibling}else T=_.child;if(T!==null)T.return=_;else for(T=_;T!==null;){if(T===s){T=null;break}if(_=T.sibling,_!==null){_.return=T.return,T=_;break}T=T.return}_=T}Bt(n,s,g.children,l),s=s.child}return s;case 9:return g=s.type,h=s.pendingProps.children,Ci(s,l),g=or(g),h=h(g),s.flags|=1,Bt(n,s,h,l),s.child;case 14:return h=s.type,g=gr(h,s.pendingProps),g=gr(h.type,g),Yp(n,s,h,g,l);case 15:return Jp(n,s,s.type,s.pendingProps,l);case 17:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:gr(h,g),ho(n,s),s.tag=1,qt(h)?(n=!0,Ga(s)):n=!1,Ci(s,l),Fp(s,h,g),Hu(s,h,g,l),Xu(null,s,h,!0,n,l);case 19:return im(n,s,l);case 22:return Qp(n,s,l)}throw Error(r(156,s.tag))};function Am(n,s){return of(n,s)}function Cx(n,s,l,h){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(n,s,l,h){return new Cx(n,s,l,h)}function vc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Tx(n){if(typeof n=="function")return vc(n)?1:0;if(n!=null){if(n=n.$$typeof,n===te)return 11;if(n===je)return 14}return 2}function xn(n,s){var l=n.alternate;return l===null?(l=cr(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function So(n,s,l,h,g,_){var T=2;if(h=n,typeof n=="function")vc(n)&&(T=1);else if(typeof n=="string")T=5;else e:switch(n){case O:return Wn(l.children,g,_,s);case L:T=8,g|=8;break;case J:return n=cr(12,l,s,g|2),n.elementType=J,n.lanes=_,n;case ce:return n=cr(13,l,s,g),n.elementType=ce,n.lanes=_,n;case ke:return n=cr(19,l,s,g),n.elementType=ke,n.lanes=_,n;case Ee:return ko(l,g,_,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case z:T=10;break e;case W:T=9;break e;case te:T=11;break e;case je:T=14;break e;case Oe:T=16,h=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return s=cr(T,l,s,g),s.elementType=n,s.type=h,s.lanes=_,s}function Wn(n,s,l,h){return n=cr(7,n,h,s),n.lanes=l,n}function ko(n,s,l,h){return n=cr(22,n,h,s),n.elementType=Ee,n.lanes=l,n.stateNode={isHidden:!1},n}function wc(n,s,l){return n=cr(6,n,null,s),n.lanes=l,n}function _c(n,s,l){return s=cr(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function Ax(n,s,l,h,g){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gl(0),this.expirationTimes=Gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gl(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function bc(n,s,l,h,g,_,T,M,B){return n=new Ax(n,s,l,M,B),s===1?(s=1,_===!0&&(s|=8)):s=0,_=cr(3,null,null,s),n.current=_,_.stateNode=n,_.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Iu(_),n}function Px(n,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:h==null?null:""+h,children:n,containerInfo:s,implementation:l}}function Pm(n){if(!n)return fn;n=n._reactInternals;e:{if(In(n)!==n||n.tag!==1)throw Error(r(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(qt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(n.tag===1){var l=n.type;if(qt(l))return np(n,l,s)}return s}function Rm(n,s,l,h,g,_,T,M,B){return n=bc(l,h,!0,n,g,_,T,M,B),n.context=Pm(null),l=n.current,h=Ft(),g=_n(l),_=Kr(h,g),_.callback=s??null,gn(l,_,g),n.current.lanes=g,ls(n,g,h),Gt(n,h),n}function Eo(n,s,l,h){var g=s.current,_=Ft(),T=_n(g);return l=Pm(l),s.context===null?s.context=l:s.pendingContext=l,s=Kr(_,T),s.payload={element:n},h=h===void 0?null:h,h!==null&&(s.callback=h),n=gn(g,s,T),n!==null&&(wr(n,g,T,_),to(n,g,T)),T}function Co(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function jm(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function xc(n,s){jm(n,s),(n=n.alternate)&&jm(n,s)}function Rx(){return null}var Om=typeof reportError=="function"?reportError:function(n){console.error(n)};function Sc(n){this._internalRoot=n}To.prototype.render=Sc.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));Eo(n,s,null,null)},To.prototype.unmount=Sc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Vn(function(){Eo(null,n,null,null)}),s[Br]=null}};function To(n){this._internalRoot=n}To.prototype.unstable_scheduleHydration=function(n){if(n){var s=mf();n={blockedOn:null,target:n,priority:s};for(var l=0;l<ln.length&&s!==0&&s<ln[l].priority;l++);ln.splice(l,0,n),l===0&&vf(n)}};function kc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ao(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Nm(){}function jx(n,s,l,h,g){if(g){if(typeof h=="function"){var _=h;h=function(){var X=Co(T);_.call(X)}}var T=Rm(s,h,n,0,null,!1,!1,"",Nm);return n._reactRootContainer=T,n[Br]=T.current,xs(n.nodeType===8?n.parentNode:n),Vn(),T}for(;g=n.lastChild;)n.removeChild(g);if(typeof h=="function"){var M=h;h=function(){var X=Co(B);M.call(X)}}var B=bc(n,0,!1,null,null,!1,!1,"",Nm);return n._reactRootContainer=B,n[Br]=B.current,xs(n.nodeType===8?n.parentNode:n),Vn(function(){Eo(s,B,l,h)}),B}function Po(n,s,l,h,g){var _=l._reactRootContainer;if(_){var T=_;if(typeof g=="function"){var M=g;g=function(){var B=Co(T);M.call(B)}}Eo(s,T,n,g)}else T=jx(l,s,n,g,h);return Co(T)}ff=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var l=os(s.pendingLanes);l!==0&&(Hl(s,l|1),Gt(s,mt()),(Je&6)===0&&(ji=mt()+500,pn()))}break;case 13:Vn(function(){var h=qr(n,1);if(h!==null){var g=Ft();wr(h,n,1,g)}}),xc(n,1)}},Yl=function(n){if(n.tag===13){var s=qr(n,134217728);if(s!==null){var l=Ft();wr(s,n,134217728,l)}xc(n,134217728)}},pf=function(n){if(n.tag===13){var s=_n(n),l=qr(n,s);if(l!==null){var h=Ft();wr(l,n,s,h)}xc(n,s)}},mf=function(){return tt},gf=function(n,s){var l=tt;try{return tt=n,s()}finally{tt=l}},Fl=function(n,s,l){switch(s){case"input":if(ee(n,l),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==n&&h.form===n.form){var g=Ka(h);if(!g)throw Error(r(90));ue(h),ee(h,g)}}}break;case"textarea":H(n,l);break;case"select":s=l.value,s!=null&&S(n,!!l.multiple,s,!1)}},Zh=mc,ef=Vn;var Ox={usingClientEntryPoint:!1,Events:[Es,vi,Ka,Qh,Xh,mc]},Us={findFiberByHostInstance:Dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nx={bundleType:Us.bundleType,version:Us.version,rendererPackageName:Us.rendererPackageName,rendererConfig:Us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=sf(n),n===null?null:n.stateNode},findFiberByHostInstance:Us.findFiberByHostInstance||Rx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ro.isDisabled&&Ro.supportsFiber)try{Ca=Ro.inject(Nx),Cr=Ro}catch{}}return Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ox,Yt.createPortal=function(n,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kc(s))throw Error(r(200));return Px(n,s,null,l)},Yt.createRoot=function(n,s){if(!kc(n))throw Error(r(299));var l=!1,h="",g=Om;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(g=s.onRecoverableError)),s=bc(n,1,!1,null,null,l,!1,h,g),n[Br]=s.current,xs(n.nodeType===8?n.parentNode:n),new Sc(s)},Yt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=sf(s),n=n===null?null:n.stateNode,n},Yt.flushSync=function(n){return Vn(n)},Yt.hydrate=function(n,s,l){if(!Ao(s))throw Error(r(200));return Po(null,n,s,!0,l)},Yt.hydrateRoot=function(n,s,l){if(!kc(n))throw Error(r(405));var h=l!=null&&l.hydratedSources||null,g=!1,_="",T=Om;if(l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(_=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=Rm(s,null,n,1,l??null,g,!1,_,T),n[Br]=s.current,xs(n),h)for(n=0;n<h.length;n++)l=h[n],g=l._getVersion,g=g(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,g]:s.mutableSourceEagerHydrationData.push(l,g);return new To(s)},Yt.render=function(n,s,l){if(!Ao(s))throw Error(r(200));return Po(null,n,s,!1,l)},Yt.unmountComponentAtNode=function(n){if(!Ao(n))throw Error(r(40));return n._reactRootContainer?(Vn(function(){Po(null,null,n,!1,function(){n._reactRootContainer=null,n[Br]=null})}),!0):!1},Yt.unstable_batchedUpdates=mc,Yt.unstable_renderSubtreeIntoContainer=function(n,s,l,h){if(!Ao(l))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return Po(n,s,l,!1,h)},Yt.version="18.3.1-next-f1338f8080-20240426",Yt}var Fm;function lv(){if(Fm)return Tc.exports;Fm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Tc.exports=Vx(),Tc.exports}var $m;function qx(){if($m)return jo;$m=1;var t=lv();return jo.createRoot=t.createRoot,jo.hydrateRoot=t.hydrateRoot,jo}var Kx=qx();const Wx=kl(Kx),Gx="modulepreload",Hx=function(t){return"/"+t},Vm={},Be=function(e,r,i){let a=Promise.resolve();if(r&&r.length>0){let u=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=u(r.map(p=>{if(p=Hx(p),p in Vm)return;Vm[p]=!0;const y=p.endsWith(".css"),m=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${m}`))return;const v=document.createElement("link");if(v.rel=y?"stylesheet":Gx,y||(v.as="script"),v.crossOrigin="",v.href=p,d&&v.setAttribute("nonce",d),document.head.appendChild(v),y)return new Promise((b,x)=>{v.addEventListener("load",b),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return a.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};lv();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ia(){return ia=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ia.apply(this,arguments)}var An;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(An||(An={}));const qm="popstate";function Yx(t){t===void 0&&(t={});function e(i,a){let{pathname:o,search:u,hash:c}=i.location;return rd("",{pathname:o,search:u,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){return typeof a=="string"?a:il(a)}return Qx(e,r,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jx(){return Math.random().toString(36).substr(2,8)}function Km(t,e){return{usr:t.state,key:t.key,idx:e}}function rd(t,e,r,i){return r===void 0&&(r=null),ia({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xi(e):e,{state:r,key:e&&e.key||i||Jx()})}function il(t){let{pathname:e="/",search:r="",hash:i=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Xi(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function Qx(t,e,r,i){i===void 0&&(i={});let{window:a=document.defaultView,v5Compat:o=!1}=i,u=a.history,c=An.Pop,d=null,p=y();p==null&&(p=0,u.replaceState(ia({},u.state,{idx:p}),""));function y(){return(u.state||{idx:null}).idx}function m(){c=An.Pop;let C=y(),R=C==null?null:C-p;p=C,d&&d({action:c,location:E.location,delta:R})}function v(C,R){c=An.Push;let I=rd(E.location,C,R);p=y()+1;let k=Km(I,p),P=E.createHref(I);try{u.pushState(k,"",P)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(P)}o&&d&&d({action:c,location:E.location,delta:1})}function b(C,R){c=An.Replace;let I=rd(E.location,C,R);p=y();let k=Km(I,p),P=E.createHref(I);u.replaceState(k,"",P),o&&d&&d({action:c,location:E.location,delta:0})}function x(C){let R=a.location.origin!=="null"?a.location.origin:a.location.href,I=typeof C=="string"?C:il(C);return I=I.replace(/ $/,"%20"),vt(R,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,R)}let E={get action(){return c},get location(){return t(a,u)},listen(C){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(qm,m),d=C,()=>{a.removeEventListener(qm,m),d=null}},createHref(C){return e(a,C)},createURL:x,encodeLocation(C){let R=x(C);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:v,replace:b,go(C){return u.go(C)}};return E}var Wm;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Wm||(Wm={}));function Xx(t,e,r){return r===void 0&&(r="/"),Zx(t,e,r)}function Zx(t,e,r,i){let a=typeof e=="string"?Xi(e):e,o=Gd(a.pathname||"/",r);if(o==null)return null;let u=uv(t);e1(u);let c=null;for(let d=0;c==null&&d<u.length;++d){let p=h1(o);c=u1(u[d],p)}return c}function uv(t,e,r,i){e===void 0&&(e=[]),r===void 0&&(r=[]),i===void 0&&(i="");let a=(o,u,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(vt(d.relativePath.startsWith(i),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(i.length));let p=Pn([i,d.relativePath]),y=r.concat(d);o.children&&o.children.length>0&&(vt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),uv(o.children,e,y,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:o1(p,o.index),routesMeta:y})};return t.forEach((o,u)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))a(o,u);else for(let d of cv(o.path))a(o,u,d)}),e}function cv(t){let e=t.split("/");if(e.length===0)return[];let[r,...i]=e,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let u=cv(i.join("/")),c=[];return c.push(...u.map(d=>d===""?o:[o,d].join("/"))),a&&c.push(...u),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function e1(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:l1(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const t1=/^:[\w-]+$/,r1=3,n1=2,i1=1,s1=10,a1=-2,Gm=t=>t==="*";function o1(t,e){let r=t.split("/"),i=r.length;return r.some(Gm)&&(i+=a1),e&&(i+=n1),r.filter(a=>!Gm(a)).reduce((a,o)=>a+(t1.test(o)?r1:o===""?i1:s1),i)}function l1(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function u1(t,e,r){let{routesMeta:i}=t,a={},o="/",u=[];for(let c=0;c<i.length;++c){let d=i[c],p=c===i.length-1,y=o==="/"?e:e.slice(o.length)||"/",m=c1({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),v=d.route;if(!m)return null;Object.assign(a,m.params),u.push({params:a,pathname:Pn([o,m.pathname]),pathnameBase:y1(Pn([o,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(o=Pn([o,m.pathnameBase]))}return u}function c1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,i]=d1(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:i.reduce((p,y,m)=>{let{paramName:v,isOptional:b}=y;if(v==="*"){let E=c[m]||"";u=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const x=c[m];return b&&!x?p[v]=void 0:p[v]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:t}}function d1(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Wd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,d)=>(i.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function h1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Gd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=t.charAt(r);return i&&i!=="/"?null:t.slice(r)||"/"}const f1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p1=t=>f1.test(t);function m1(t,e){e===void 0&&(e="/");let{pathname:r,search:i="",hash:a=""}=typeof t=="string"?Xi(t):t,o;if(r)if(p1(r))o=r;else{if(r.includes("//")){let u=r;r=r.replace(/\/\/+/g,"/"),Wd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+r))}r.startsWith("/")?o=Hm(r.substring(1),"/"):o=Hm(r,e)}else o=e;return{pathname:o,search:v1(i),hash:w1(a)}}function Hm(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Rc(t,e,r,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function g1(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Hd(t,e){let r=g1(t);return e?r.map((i,a)=>a===r.length-1?i.pathname:i.pathnameBase):r.map(i=>i.pathnameBase)}function Yd(t,e,r,i){i===void 0&&(i=!1);let a;typeof t=="string"?a=Xi(t):(a=ia({},t),vt(!a.pathname||!a.pathname.includes("?"),Rc("?","pathname","search",a)),vt(!a.pathname||!a.pathname.includes("#"),Rc("#","pathname","hash",a)),vt(!a.search||!a.search.includes("#"),Rc("#","search","hash",a)));let o=t===""||a.pathname==="",u=o?"/":a.pathname,c;if(u==null)c=r;else{let m=e.length-1;if(!i&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),m-=1;a.pathname=v.join("/")}c=m>=0?e[m]:"/"}let d=m1(a,c),p=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}const Pn=t=>t.join("/").replace(/\/\/+/g,"/"),y1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),v1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,w1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dv=["post","put","patch","delete"];new Set(dv);const b1=["get",...dv];new Set(b1);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sa(){return sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},sa.apply(this,arguments)}const Jd=U.createContext(null),x1=U.createContext(null),On=U.createContext(null),El=U.createContext(null),en=U.createContext({outlet:null,matches:[],isDataRoute:!1}),hv=U.createContext(null);function S1(t,e){let{relative:r}=e===void 0?{}:e;Zi()||vt(!1);let{basename:i,navigator:a}=U.useContext(On),{hash:o,pathname:u,search:c}=pv(t,{relative:r}),d=u;return i!=="/"&&(d=u==="/"?i:Pn([i,u])),a.createHref({pathname:d,search:c,hash:o})}function Zi(){return U.useContext(El)!=null}function Mr(){return Zi()||vt(!1),U.useContext(El).location}function fv(t){U.useContext(On).static||U.useLayoutEffect(t)}function oi(){let{isDataRoute:t}=U.useContext(en);return t?L1():k1()}function k1(){Zi()||vt(!1);let t=U.useContext(Jd),{basename:e,future:r,navigator:i}=U.useContext(On),{matches:a}=U.useContext(en),{pathname:o}=Mr(),u=JSON.stringify(Hd(a,r.v7_relativeSplatPath)),c=U.useRef(!1);return fv(()=>{c.current=!0}),U.useCallback(function(p,y){if(y===void 0&&(y={}),!c.current)return;if(typeof p=="number"){i.go(p);return}let m=Yd(p,JSON.parse(u),o,y.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Pn([e,m.pathname])),(y.replace?i.replace:i.push)(m,y.state,y)},[e,i,u,o,t])}function Uj(){let{matches:t}=U.useContext(en),e=t[t.length-1];return e?e.params:{}}function pv(t,e){let{relative:r}=e===void 0?{}:e,{future:i}=U.useContext(On),{matches:a}=U.useContext(en),{pathname:o}=Mr(),u=JSON.stringify(Hd(a,i.v7_relativeSplatPath));return U.useMemo(()=>Yd(t,JSON.parse(u),o,r==="path"),[t,u,o,r])}function E1(t,e){return C1(t,e)}function C1(t,e,r,i){Zi()||vt(!1);let{navigator:a}=U.useContext(On),{matches:o}=U.useContext(en),u=o[o.length-1],c=u?u.params:{};u&&u.pathname;let d=u?u.pathnameBase:"/";u&&u.route;let p=Mr(),y;if(e){var m;let C=typeof e=="string"?Xi(e):e;d==="/"||(m=C.pathname)!=null&&m.startsWith(d)||vt(!1),y=C}else y=p;let v=y.pathname||"/",b=v;if(d!=="/"){let C=d.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(C.length).join("/")}let x=Xx(t,{pathname:b}),E=j1(x&&x.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:Pn([d,a.encodeLocation?a.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:Pn([d,a.encodeLocation?a.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,r,i);return e&&E?U.createElement(El.Provider,{value:{location:sa({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:An.Pop}},E):E}function T1(){let t=D1(),e=_1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),r?U.createElement("pre",{style:a},r):null,null)}const A1=U.createElement(T1,null);class P1 extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?U.createElement(en.Provider,{value:this.props.routeContext},U.createElement(hv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function R1(t){let{routeContext:e,match:r,children:i}=t,a=U.useContext(Jd);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),U.createElement(en.Provider,{value:e},i)}function j1(t,e,r,i){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),i===void 0&&(i=null),t==null){var o;if(!r)return null;if(r.errors)t=r.matches;else if((o=i)!=null&&o.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let u=t,c=(a=r)==null?void 0:a.errors;if(c!=null){let y=u.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);y>=0||vt(!1),u=u.slice(0,Math.min(u.length,y+1))}let d=!1,p=-1;if(r&&i&&i.v7_partialHydration)for(let y=0;y<u.length;y++){let m=u[y];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=y),m.route.id){let{loaderData:v,errors:b}=r,x=m.route.loader&&v[m.route.id]===void 0&&(!b||b[m.route.id]===void 0);if(m.route.lazy||x){d=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,m,v)=>{let b,x=!1,E=null,C=null;r&&(b=c&&m.route.id?c[m.route.id]:void 0,E=m.route.errorElement||A1,d&&(p<0&&v===0?(M1("route-fallback"),x=!0,C=null):p===v&&(x=!0,C=m.route.hydrateFallbackElement||null)));let R=e.concat(u.slice(0,v+1)),I=()=>{let k;return b?k=E:x?k=C:m.route.Component?k=U.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=y,U.createElement(R1,{match:m,routeContext:{outlet:y,matches:R,isDataRoute:r!=null},children:k})};return r&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?U.createElement(P1,{location:r.location,revalidation:r.revalidation,component:E,error:b,children:I(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):I()},null)}var mv=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(mv||{}),gv=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(gv||{});function O1(t){let e=U.useContext(Jd);return e||vt(!1),e}function N1(t){let e=U.useContext(x1);return e||vt(!1),e}function I1(t){let e=U.useContext(en);return e||vt(!1),e}function yv(t){let e=I1(),r=e.matches[e.matches.length-1];return r.route.id||vt(!1),r.route.id}function D1(){var t;let e=U.useContext(hv),r=N1(),i=yv();return e!==void 0?e:(t=r.errors)==null?void 0:t[i]}function L1(){let{router:t}=O1(mv.UseNavigateStable),e=yv(gv.UseNavigateStable),r=U.useRef(!1);return fv(()=>{r.current=!0}),U.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,sa({fromRouteId:e},o)))},[t,e])}const Ym={};function M1(t,e,r){Ym[t]||(Ym[t]=!0)}function z1(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function U1(t){let{to:e,replace:r,state:i,relative:a}=t;Zi()||vt(!1);let{future:o,static:u}=U.useContext(On),{matches:c}=U.useContext(en),{pathname:d}=Mr(),p=oi(),y=Yd(e,Hd(c,o.v7_relativeSplatPath),d,a==="path"),m=JSON.stringify(y);return U.useEffect(()=>p(JSON.parse(m),{replace:r,state:i,relative:a}),[p,m,a,r,i]),null}function ve(t){vt(!1)}function B1(t){let{basename:e="/",children:r=null,location:i,navigationType:a=An.Pop,navigator:o,static:u=!1,future:c}=t;Zi()&&vt(!1);let d=e.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:d,navigator:o,static:u,future:sa({v7_relativeSplatPath:!1},c)}),[d,c,o,u]);typeof i=="string"&&(i=Xi(i));let{pathname:y="/",search:m="",hash:v="",state:b=null,key:x="default"}=i,E=U.useMemo(()=>{let C=Gd(y,d);return C==null?null:{location:{pathname:C,search:m,hash:v,state:b,key:x},navigationType:a}},[d,y,m,v,b,x,a]);return E==null?null:U.createElement(On.Provider,{value:p},U.createElement(El.Provider,{children:r,value:E}))}function F1(t){let{children:e,location:r}=t;return E1(nd(e),r)}new Promise(()=>{});function nd(t,e){e===void 0&&(e=[]);let r=[];return U.Children.forEach(t,(i,a)=>{if(!U.isValidElement(i))return;let o=[...e,a];if(i.type===U.Fragment){r.push.apply(r,nd(i.props.children,o));return}i.type!==ve&&vt(!1),!i.props.index||!i.props.children||vt(!1);let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=nd(i.props.children,o)),r.push(u)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function id(){return id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},id.apply(this,arguments)}function $1(t,e){if(t==null)return{};var r={},i=Object.keys(t),a,o;for(o=0;o<i.length;o++)a=i[o],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function V1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function q1(t,e){return t.button===0&&(!e||e==="_self")&&!V1(t)}function sd(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let i=t[r];return e.concat(Array.isArray(i)?i.map(a=>[r,a]):[[r,i]])},[]))}function K1(t,e){let r=sd(t);return e&&e.forEach((i,a)=>{r.has(a)||e.getAll(a).forEach(o=>{r.append(a,o)})}),r}const W1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],G1="6";try{window.__reactRouterVersion=G1}catch{}const H1="startTransition",Jm=Bx[H1];function Y1(t){let{basename:e,children:r,future:i,window:a}=t,o=U.useRef();o.current==null&&(o.current=Yx({window:a,v5Compat:!0}));let u=o.current,[c,d]=U.useState({action:u.action,location:u.location}),{v7_startTransition:p}=i||{},y=U.useCallback(m=>{p&&Jm?Jm(()=>d(m)):d(m)},[d,p]);return U.useLayoutEffect(()=>u.listen(y),[u,y]),U.useEffect(()=>z1(i),[i]),U.createElement(B1,{basename:e,children:r,location:c.location,navigationType:c.action,navigator:u,future:i})}const J1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Q1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bj=U.forwardRef(function(e,r){let{onClick:i,relative:a,reloadDocument:o,replace:u,state:c,target:d,to:p,preventScrollReset:y,viewTransition:m}=e,v=$1(e,W1),{basename:b}=U.useContext(On),x,E=!1;if(typeof p=="string"&&Q1.test(p)&&(x=p,J1))try{let k=new URL(window.location.href),P=p.startsWith("//")?new URL(k.protocol+p):new URL(p),j=Gd(P.pathname,b);P.origin===k.origin&&j!=null?p=j+P.search+P.hash:E=!0}catch{}let C=S1(p,{relative:a}),R=X1(p,{replace:u,state:c,target:d,preventScrollReset:y,relative:a,viewTransition:m});function I(k){i&&i(k),k.defaultPrevented||R(k)}return U.createElement("a",id({},v,{href:x||C,onClick:E||o?i:I,ref:r,target:d}))});var Qm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Qm||(Qm={}));var Xm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Xm||(Xm={}));function X1(t,e){let{target:r,replace:i,state:a,preventScrollReset:o,relative:u,viewTransition:c}=e===void 0?{}:e,d=oi(),p=Mr(),y=pv(t,{relative:u});return U.useCallback(m=>{if(q1(m,r)){m.preventDefault();let v=i!==void 0?i:il(p)===il(y);d(t,{replace:v,state:a,preventScrollReset:o,relative:u,viewTransition:c})}},[p,d,y,i,a,r,t,o,u,c])}function Fj(t){let e=U.useRef(sd(t)),r=U.useRef(!1),i=Mr(),a=U.useMemo(()=>K1(i.search,r.current?null:e.current),[i.search]),o=oi(),u=U.useCallback((c,d)=>{const p=sd(typeof c=="function"?c(a):c);r.current=!0,o("?"+p,d)},[o,a]);return[a,u]}var Zm={},Z1="@vercel/analytics",eS="1.6.1",tS=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function vv(){return typeof window<"u"}function wv(){try{const t="production"}catch{}return"production"}function rS(t="auto"){if(t==="auto"){window.vam=wv();return}window.vam=t}function nS(){return(vv()?window.vam:wv())||"production"}function ad(){return nS()==="development"}function iS(t){return t.scriptSrc?t.scriptSrc:ad()?"https://va.vercel-scripts.com/v1/script.debug.js":t.basePath?`${t.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function sS(t={debug:!0}){var e;if(!vv())return;rS(t.mode),tS(),t.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",t.beforeSend));const r=iS(t);if(document.head.querySelector(`script[src*="${r}"]`))return;const i=document.createElement("script");i.src=r,i.defer=!0,i.dataset.sdkn=Z1+(t.framework?`/${t.framework}`:""),i.dataset.sdkv=eS,t.disableAutoTrack&&(i.dataset.disableAutoTrack="1"),t.endpoint?i.dataset.endpoint=t.endpoint:t.basePath&&(i.dataset.endpoint=`${t.basePath}/insights`),t.dsn&&(i.dataset.dsn=t.dsn),i.onerror=()=>{const a=ad()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${r}. ${a}`)},ad()&&t.debug===!1&&(i.dataset.debug="false"),document.head.appendChild(i)}function aS({route:t,path:e}){var r;(r=window.va)==null||r.call(window,"pageview",{route:t,path:e})}function oS(){if(!(typeof process>"u"||typeof Zm>"u"))return Zm.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function lS(t){return U.useEffect(()=>{var e;t.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",t.beforeSend))},[t.beforeSend]),U.useEffect(()=>{sS({framework:t.framework||"react",basePath:t.basePath??oS(),...t.route!==void 0&&{disableAutoTrack:!0},...t})},[]),U.useEffect(()=>{t.route&&t.path&&aS({route:t.route,path:t.path})},[t.route,t.path]),null}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_v=(...t)=>t.filter((e,r,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=U.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:u,...c},d)=>U.createElement("svg",{ref:d,...cS,width:e,height:e,stroke:t,strokeWidth:i?Number(r)*24/Number(e):r,className:_v("lucide",a),...c},[...u.map(([p,y])=>U.createElement(p,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(t,e)=>{const r=U.forwardRef(({className:i,...a},o)=>U.createElement(dS,{ref:o,iconNode:e,className:_v(`lucide-${uS(t)}`,i),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=Ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=Ge("BatteryCharging",[["path",{d:"M15 7h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2",key:"1sdynx"}],["path",{d:"M6 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h1",key:"1gkd3k"}],["path",{d:"m11 7-3 5h4l-3 5",key:"b4a64w"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=Ge("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=Ge("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=Ge("CarFront",[["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Ge("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=Ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=Ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=Ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=Ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=Ge("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=Ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=Ge("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=Ge("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=Ge("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=Ge("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=Ge("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=Ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=Ge("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=Ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=Ge("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=Ge("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=Ge("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=Ge("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=Ge("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=Ge("PhoneIncoming",[["polyline",{points:"16 2 16 8 22 8",key:"1ygljm"}],["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=Ge("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=Ge("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=Ge("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=Ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=Ge("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=Ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=Ge("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=Ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=Ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=Ge("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=Ge("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=Ge("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Zd=U.createContext({});function eh(t){const e=U.useRef(null);return e.current===null&&(e.current=t()),e.current}const Tl=U.createContext(null),th=U.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class jS extends U.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function OS({children:t,isPresent:e}){const r=U.useId(),i=U.useRef(null),a=U.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=U.useContext(th);return U.useInsertionEffect(()=>{const{width:u,height:c,top:d,left:p}=a.current;if(e||!i.current||!u||!c)return;i.current.dataset.motionPopId=r;const y=document.createElement("style");return o&&(y.nonce=o),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${c}px !important;
            top: ${d}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(y)}},[e]),w.jsx(jS,{isPresent:e,childRef:i,sizeRef:a,children:U.cloneElement(t,{ref:i})})}const NS=({children:t,initial:e,isPresent:r,onExitComplete:i,custom:a,presenceAffectsLayout:o,mode:u})=>{const c=eh(IS),d=U.useId(),p=U.useCallback(m=>{c.set(m,!0);for(const v of c.values())if(!v)return;i&&i()},[c,i]),y=U.useMemo(()=>({id:d,initial:e,isPresent:r,custom:a,onExitComplete:p,register:m=>(c.set(m,!1),()=>c.delete(m))}),o?[Math.random(),p]:[r,p]);return U.useMemo(()=>{c.forEach((m,v)=>c.set(v,!1))},[r]),U.useEffect(()=>{!r&&!c.size&&i&&i()},[r]),u==="popLayout"&&(t=w.jsx(OS,{isPresent:r,children:t})),w.jsx(Tl.Provider,{value:y,children:t})};function IS(){return new Map}function Tv(t=!0){const e=U.useContext(Tl);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:i,register:a}=e,o=U.useId();U.useEffect(()=>{t&&a(o)},[t]);const u=U.useCallback(()=>t&&i&&i(o),[o,i,t]);return!r&&i?[!1,u]:[!0]}const Oo=t=>t.key||"";function ng(t){const e=[];return U.Children.forEach(t,r=>{U.isValidElement(r)&&e.push(r)}),e}const rh=typeof window<"u",Av=rh?U.useLayoutEffect:U.useEffect,Ir=({children:t,custom:e,initial:r=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:o="sync",propagate:u=!1})=>{const[c,d]=Tv(u),p=U.useMemo(()=>ng(t),[t]),y=u&&!c?[]:p.map(Oo),m=U.useRef(!0),v=U.useRef(p),b=eh(()=>new Map),[x,E]=U.useState(p),[C,R]=U.useState(p);Av(()=>{m.current=!1,v.current=p;for(let P=0;P<C.length;P++){const j=Oo(C[P]);y.includes(j)?b.delete(j):b.get(j)!==!0&&b.set(j,!1)}},[C,y.length,y.join("-")]);const I=[];if(p!==x){let P=[...p];for(let j=0;j<C.length;j++){const D=C[j],O=Oo(D);y.includes(O)||(P.splice(j,0,D),I.push(D))}o==="wait"&&I.length&&(P=I),R(ng(P)),E(p);return}const{forceRender:k}=U.useContext(Zd);return w.jsx(w.Fragment,{children:C.map(P=>{const j=Oo(P),D=u&&!c?!1:p===C||y.includes(j),O=()=>{if(b.has(j))b.set(j,!0);else return;let L=!0;b.forEach(J=>{J||(L=!1)}),L&&(k==null||k(),R(v.current),u&&(d==null||d()),i&&i())};return w.jsx(NS,{isPresent:D,initial:!m.current||r?void 0:!1,custom:D?void 0:e,presenceAffectsLayout:a,mode:o,onExitComplete:D?void 0:O,children:P},j)})})},nr=t=>t;let Pv=nr;function nh(t){let e;return()=>(e===void 0&&(e=t()),e)}const Gi=(t,e,r)=>{const i=e-t;return i===0?1:(r-t)/i},Qr=t=>t*1e3,Xr=t=>t/1e3,DS={useManualTiming:!1};function LS(t){let e=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function c(p){o.has(p)&&(d.schedule(p),t()),p(u)}const d={schedule:(p,y=!1,m=!1)=>{const b=m&&i?e:r;return y&&o.add(p),b.has(p)||b.add(p),p},cancel:p=>{r.delete(p),o.delete(p)},process:p=>{if(u=p,i){a=!0;return}i=!0,[e,r]=[r,e],e.forEach(c),e.clear(),i=!1,a&&(a=!1,d.process(p))}};return d}const No=["read","resolveKeyframes","update","preRender","render","postRender"],MS=40;function Rv(t,e){let r=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>r=!0,u=No.reduce((R,I)=>(R[I]=LS(o),R),{}),{read:c,resolveKeyframes:d,update:p,preRender:y,render:m,postRender:v}=u,b=()=>{const R=performance.now();r=!1,a.delta=i?1e3/60:Math.max(Math.min(R-a.timestamp,MS),1),a.timestamp=R,a.isProcessing=!0,c.process(a),d.process(a),p.process(a),y.process(a),m.process(a),v.process(a),a.isProcessing=!1,r&&e&&(i=!1,t(b))},x=()=>{r=!0,i=!0,a.isProcessing||t(b)};return{schedule:No.reduce((R,I)=>{const k=u[I];return R[I]=(P,j=!1,D=!1)=>(r||x(),k.schedule(P,j,D)),R},{}),cancel:R=>{for(let I=0;I<No.length;I++)u[No[I]].cancel(R)},state:a,steps:u}}const{schedule:at,cancel:Rn,state:Ot,steps:Oc}=Rv(typeof requestAnimationFrame<"u"?requestAnimationFrame:nr,!0),jv=U.createContext({strict:!1}),ig={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hi={};for(const t in ig)Hi[t]={isEnabled:e=>ig[t].some(r=>!!e[r])};function zS(t){for(const e in t)Hi[e]={...Hi[e],...t[e]}}const US=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function al(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||US.has(t)}let Ov=t=>!al(t);function BS(t){t&&(Ov=e=>e.startsWith("on")?!al(e):t(e))}try{BS(require("@emotion/is-prop-valid").default)}catch{}function FS(t,e,r){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(Ov(a)||r===!0&&al(a)||!e&&!al(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}function $S(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...i)=>t(...i);return new Proxy(r,{get:(i,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const Al=U.createContext({});function la(t){return typeof t=="string"||Array.isArray(t)}function Pl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const ih=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sh=["initial",...ih];function Rl(t){return Pl(t.animate)||sh.some(e=>la(t[e]))}function Nv(t){return!!(Rl(t)||t.variants)}function VS(t,e){if(Rl(t)){const{initial:r,animate:i}=t;return{initial:r===!1||la(r)?r:void 0,animate:la(i)?i:void 0}}return t.inherit!==!1?e:{}}function qS(t){const{initial:e,animate:r}=VS(t,U.useContext(Al));return U.useMemo(()=>({initial:e,animate:r}),[sg(e),sg(r)])}function sg(t){return Array.isArray(t)?t.join(" "):t}const KS=Symbol.for("motionComponentSymbol");function Ui(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function WS(t,e,r){return U.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),r&&(typeof r=="function"?r(i):Ui(r)&&(r.current=i))},[e])}const ah=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),GS="framerAppearId",Iv="data-"+ah(GS),{schedule:oh}=Rv(queueMicrotask,!1),Dv=U.createContext({});function HS(t,e,r,i,a){var o,u;const{visualElement:c}=U.useContext(Al),d=U.useContext(jv),p=U.useContext(Tl),y=U.useContext(th).reducedMotion,m=U.useRef(null);i=i||d.renderer,!m.current&&i&&(m.current=i(t,{visualState:e,parent:c,props:r,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:y}));const v=m.current,b=U.useContext(Dv);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&YS(m.current,r,a,b);const x=U.useRef(!1);U.useInsertionEffect(()=>{v&&x.current&&v.update(r,p)});const E=r[Iv],C=U.useRef(!!E&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,E))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,E)));return Av(()=>{v&&(x.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),oh.render(v.render),C.current&&v.animationState&&v.animationState.animateChanges())}),U.useEffect(()=>{v&&(!C.current&&v.animationState&&v.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)===null||R===void 0||R.call(window,E)}),C.current=!1))}),v}function YS(t,e,r,i){const{layoutId:a,layout:o,drag:u,dragConstraints:c,layoutScroll:d,layoutRoot:p}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:Lv(t.parent)),t.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!u||c&&Ui(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,layoutScroll:d,layoutRoot:p})}function Lv(t){if(t)return t.options.allowProjection!==!1?t.projection:Lv(t.parent)}function JS({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:i,Component:a}){var o,u;t&&zS(t);function c(p,y){let m;const v={...U.useContext(th),...p,layoutId:QS(p)},{isStatic:b}=v,x=qS(p),E=i(p,b);if(!b&&rh){XS();const C=ZS(v);m=C.MeasureLayout,x.visualElement=HS(a,E,v,e,C.ProjectionNode)}return w.jsxs(Al.Provider,{value:x,children:[m&&x.visualElement?w.jsx(m,{visualElement:x.visualElement,...v}):null,r(a,p,WS(E,x.visualElement,y),E,b,x.visualElement)]})}c.displayName=`motion.${typeof a=="string"?a:`create(${(u=(o=a.displayName)!==null&&o!==void 0?o:a.name)!==null&&u!==void 0?u:""})`}`;const d=U.forwardRef(c);return d[KS]=a,d}function QS({layoutId:t}){const e=U.useContext(Zd).id;return e&&t!==void 0?e+"-"+t:t}function XS(t,e){U.useContext(jv).strict}function ZS(t){const{drag:e,layout:r}=Hi;if(!e&&!r)return{};const i={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const ek=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lh(t){return typeof t!="string"||t.includes("-")?!1:!!(ek.indexOf(t)>-1||/[A-Z]/u.test(t))}function ag(t){const e=[{},{}];return t==null||t.values.forEach((r,i)=>{e[0][i]=r.get(),e[1][i]=r.getVelocity()}),e}function uh(t,e,r,i){if(typeof e=="function"){const[a,o]=ag(i);e=e(r!==void 0?r:t.custom,a,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,o]=ag(i);e=e(r!==void 0?r:t.custom,a,o)}return e}const dd=t=>Array.isArray(t),tk=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),rk=t=>dd(t)?t[t.length-1]||0:t,Ut=t=>!!(t&&t.getVelocity);function Yo(t){const e=Ut(t)?t.get():t;return tk(e)?e.toValue():e}function nk({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:r},i,a,o){const u={latestValues:ik(i,a,o,t),renderState:e()};return r&&(u.onMount=c=>r({props:i,current:c,...u}),u.onUpdate=c=>r(c)),u}const Mv=t=>(e,r)=>{const i=U.useContext(Al),a=U.useContext(Tl),o=()=>nk(t,e,i,a);return r?o():eh(o)};function ik(t,e,r,i){const a={},o=i(t,{});for(const v in o)a[v]=Yo(o[v]);let{initial:u,animate:c}=t;const d=Rl(t),p=Nv(t);e&&p&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),c===void 0&&(c=e.animate));let y=r?r.initial===!1:!1;y=y||u===!1;const m=y?c:u;if(m&&typeof m!="boolean"&&!Pl(m)){const v=Array.isArray(m)?m:[m];for(let b=0;b<v.length;b++){const x=uh(t,v[b]);if(x){const{transitionEnd:E,transition:C,...R}=x;for(const I in R){let k=R[I];if(Array.isArray(k)){const P=y?k.length-1:0;k=k[P]}k!==null&&(a[I]=k)}for(const I in E)a[I]=E[I]}}}return a}const es=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],li=new Set(es),zv=t=>e=>typeof e=="string"&&e.startsWith(t),Uv=zv("--"),sk=zv("var(--"),ch=t=>sk(t)?ak.test(t.split("/*")[0].trim()):!1,ak=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Bv=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Zr=(t,e,r)=>r>e?e:r<t?t:r,ts={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ua={...ts,transform:t=>Zr(0,1,t)},Io={...ts,default:1},ya=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),En=ya("deg"),Dr=ya("%"),Le=ya("px"),ok=ya("vh"),lk=ya("vw"),og={...Dr,parse:t=>Dr.parse(t)/100,transform:t=>Dr.transform(t*100)},uk={borderWidth:Le,borderTopWidth:Le,borderRightWidth:Le,borderBottomWidth:Le,borderLeftWidth:Le,borderRadius:Le,radius:Le,borderTopLeftRadius:Le,borderTopRightRadius:Le,borderBottomRightRadius:Le,borderBottomLeftRadius:Le,width:Le,maxWidth:Le,height:Le,maxHeight:Le,top:Le,right:Le,bottom:Le,left:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,backgroundPositionX:Le,backgroundPositionY:Le},ck={rotate:En,rotateX:En,rotateY:En,rotateZ:En,scale:Io,scaleX:Io,scaleY:Io,scaleZ:Io,skew:En,skewX:En,skewY:En,distance:Le,translateX:Le,translateY:Le,translateZ:Le,x:Le,y:Le,z:Le,perspective:Le,transformPerspective:Le,opacity:ua,originX:og,originY:og,originZ:Le},lg={...ts,transform:Math.round},dh={...uk,...ck,zIndex:lg,size:Le,fillOpacity:ua,strokeOpacity:ua,numOctaves:lg},dk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hk=es.length;function fk(t,e,r){let i="",a=!0;for(let o=0;o<hk;o++){const u=es[o],c=t[u];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(u.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||r){const p=Bv(c,dh[u]);if(!d){a=!1;const y=dk[u]||u;i+=`${y}(${p}) `}r&&(e[u]=p)}}return i=i.trim(),r?i=r(e,a?"":i):a&&(i="none"),i}function hh(t,e,r){const{style:i,vars:a,transformOrigin:o}=t;let u=!1,c=!1;for(const d in e){const p=e[d];if(li.has(d)){u=!0;continue}else if(Uv(d)){a[d]=p;continue}else{const y=Bv(p,dh[d]);d.startsWith("origin")?(c=!0,o[d]=y):i[d]=y}}if(e.transform||(u||r?i.transform=fk(e,t.transform,r):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:y=0}=o;i.transformOrigin=`${d} ${p} ${y}`}}const pk={offset:"stroke-dashoffset",array:"stroke-dasharray"},mk={offset:"strokeDashoffset",array:"strokeDasharray"};function gk(t,e,r=1,i=0,a=!0){t.pathLength=1;const o=a?pk:mk;t[o.offset]=Le.transform(-i);const u=Le.transform(e),c=Le.transform(r);t[o.array]=`${u} ${c}`}function ug(t,e,r){return typeof t=="string"?t:Le.transform(e+r*t)}function yk(t,e,r){const i=ug(e,t.x,t.width),a=ug(r,t.y,t.height);return`${i} ${a}`}function fh(t,{attrX:e,attrY:r,attrScale:i,originX:a,originY:o,pathLength:u,pathSpacing:c=1,pathOffset:d=0,...p},y,m){if(hh(t,p,m),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:b,dimensions:x}=t;v.transform&&(x&&(b.transform=v.transform),delete v.transform),x&&(a!==void 0||o!==void 0||b.transform)&&(b.transformOrigin=yk(x,a!==void 0?a:.5,o!==void 0?o:.5)),e!==void 0&&(v.x=e),r!==void 0&&(v.y=r),i!==void 0&&(v.scale=i),u!==void 0&&gk(v,u,c,d,!1)}const ph=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Fv=()=>({...ph(),attrs:{}}),mh=t=>typeof t=="string"&&t.toLowerCase()==="svg";function $v(t,{style:e,vars:r},i,a){Object.assign(t.style,e,a&&a.getProjectionStyles(i));for(const o in r)t.style.setProperty(o,r[o])}const Vv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qv(t,e,r,i){$v(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(Vv.has(a)?a:ah(a),e.attrs[a])}const ol={};function vk(t){Object.assign(ol,t)}function Kv(t,{layout:e,layoutId:r}){return li.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!ol[t]||t==="opacity")}function gh(t,e,r){var i;const{style:a}=t,o={};for(const u in a)(Ut(a[u])||e.style&&Ut(e.style[u])||Kv(u,t)||((i=r==null?void 0:r.getValue(u))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(o[u]=a[u]);return o}function Wv(t,e,r){const i=gh(t,e,r);for(const a in t)if(Ut(t[a])||Ut(e[a])){const o=es.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[o]=t[a]}return i}function wk(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const cg=["x","y","width","height","cx","cy","r"],_k={useVisualState:Mv({scrapeMotionValuesFromProps:Wv,createRenderState:Fv,onUpdate:({props:t,prevProps:e,current:r,renderState:i,latestValues:a})=>{if(!r)return;let o=!!t.drag;if(!o){for(const c in a)if(li.has(c)){o=!0;break}}if(!o)return;let u=!e;if(e)for(let c=0;c<cg.length;c++){const d=cg[c];t[d]!==e[d]&&(u=!0)}u&&at.read(()=>{wk(r,i),at.render(()=>{fh(i,a,mh(r.tagName),t.transformTemplate),qv(r,i)})})}})},bk={useVisualState:Mv({scrapeMotionValuesFromProps:gh,createRenderState:ph})};function Gv(t,e,r){for(const i in e)!Ut(e[i])&&!Kv(i,r)&&(t[i]=e[i])}function xk({transformTemplate:t},e){return U.useMemo(()=>{const r=ph();return hh(r,e,t),Object.assign({},r.vars,r.style)},[e])}function Sk(t,e){const r=t.style||{},i={};return Gv(i,r,t),Object.assign(i,xk(t,e)),i}function kk(t,e){const r={},i=Sk(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}function Ek(t,e,r,i){const a=U.useMemo(()=>{const o=Fv();return fh(o,e,mh(i),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Gv(o,t.style,t),a.style={...o,...a.style}}return a}function Ck(t=!1){return(r,i,a,{latestValues:o},u)=>{const d=(lh(r)?Ek:kk)(i,o,u,r),p=FS(i,typeof r=="string",t),y=r!==U.Fragment?{...p,...d,ref:a}:{},{children:m}=i,v=U.useMemo(()=>Ut(m)?m.get():m,[m]);return U.createElement(r,{...y,children:v})}}function Tk(t,e){return function(i,{forwardMotionProps:a}={forwardMotionProps:!1}){const u={...lh(i)?_k:bk,preloadedFeatures:t,useRender:Ck(a),createVisualElement:e,Component:i};return JS(u)}}function Hv(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}function jl(t,e,r){const i=t.getProps();return uh(i,e,r!==void 0?r:i.custom,t)}const Ak=nh(()=>window.ScrollTimeline!==void 0);class Pk{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,r){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=r}attachTimeline(e,r){const i=this.animations.map(a=>{if(Ak()&&a.attachTimeline)return a.attachTimeline(e);if(typeof r=="function")return r(a)});return()=>{i.forEach((a,o)=>{a&&a(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Rk extends Pk{then(e,r){return Promise.all(this.animations).then(e).catch(r)}}function yh(t,e){return t?t[e]||t.default||t:void 0}const hd=2e4;function Yv(t){let e=0;const r=50;let i=t.next(e);for(;!i.done&&e<hd;)e+=r,i=t.next(e);return e>=hd?1/0:e}function vh(t){return typeof t=="function"}function dg(t,e){t.timeline=e,t.onfinish=null}const wh=t=>Array.isArray(t)&&typeof t[0]=="number",jk={linearEasing:void 0};function Ok(t,e){const r=nh(t);return()=>{var i;return(i=jk[e])!==null&&i!==void 0?i:r()}}const ll=Ok(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Jv=(t,e,r=10)=>{let i="";const a=Math.max(Math.round(e/r),2);for(let o=0;o<a;o++)i+=t(Gi(0,a-1,o))+", ";return`linear(${i.substring(0,i.length-2)})`};function Qv(t){return!!(typeof t=="function"&&ll()||!t||typeof t=="string"&&(t in fd||ll())||wh(t)||Array.isArray(t)&&t.every(Qv))}const Gs=([t,e,r,i])=>`cubic-bezier(${t}, ${e}, ${r}, ${i})`,fd={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gs([0,.65,.55,1]),circOut:Gs([.55,0,1,.45]),backIn:Gs([.31,.01,.66,-.59]),backOut:Gs([.33,1.53,.69,.99])};function Xv(t,e){if(t)return typeof t=="function"&&ll()?Jv(t,e):wh(t)?Gs(t):Array.isArray(t)?t.map(r=>Xv(r,e)||fd.easeOut):fd[t]}const br={x:!1,y:!1};function Zv(){return br.x||br.y}function Nk(t,e,r){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let a=document;const o=(i=void 0)!==null&&i!==void 0?i:a.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function e0(t,e){const r=Nk(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[r,a,()=>i.abort()]}function hg(t){return e=>{e.pointerType==="touch"||Zv()||t(e)}}function Ik(t,e,r={}){const[i,a,o]=e0(t,r),u=hg(c=>{const{target:d}=c,p=e(c);if(typeof p!="function"||!d)return;const y=hg(m=>{p(m),d.removeEventListener("pointerleave",y)});d.addEventListener("pointerleave",y,a)});return i.forEach(c=>{c.addEventListener("pointerenter",u,a)}),o}const t0=(t,e)=>e?t===e?!0:t0(t,e.parentElement):!1,_h=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Dk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Lk(t){return Dk.has(t.tagName)||t.tabIndex!==-1}const Hs=new WeakSet;function fg(t){return e=>{e.key==="Enter"&&t(e)}}function Nc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Mk=(t,e)=>{const r=t.currentTarget;if(!r)return;const i=fg(()=>{if(Hs.has(r))return;Nc(r,"down");const a=fg(()=>{Nc(r,"up")}),o=()=>Nc(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",o,e)});r.addEventListener("keydown",i,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),e)};function pg(t){return _h(t)&&!Zv()}function zk(t,e,r={}){const[i,a,o]=e0(t,r),u=c=>{const d=c.currentTarget;if(!pg(c)||Hs.has(d))return;Hs.add(d);const p=e(c),y=(b,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",v),!(!pg(b)||!Hs.has(d))&&(Hs.delete(d),typeof p=="function"&&p(b,{success:x}))},m=b=>{y(b,r.useGlobalTarget||t0(d,b.target))},v=b=>{y(b,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",v,a)};return i.forEach(c=>{!Lk(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(r.useGlobalTarget?window:c).addEventListener("pointerdown",u,a),c.addEventListener("focus",p=>Mk(p,a),a)}),o}function Uk(t){return t==="x"||t==="y"?br[t]?null:(br[t]=!0,()=>{br[t]=!1}):br.x||br.y?null:(br.x=br.y=!0,()=>{br.x=br.y=!1})}const r0=new Set(["width","height","top","left","right","bottom",...es]);let Jo;function Bk(){Jo=void 0}const Lr={now:()=>(Jo===void 0&&Lr.set(Ot.isProcessing||DS.useManualTiming?Ot.timestamp:performance.now()),Jo),set:t=>{Jo=t,queueMicrotask(Bk)}};function bh(t,e){t.indexOf(e)===-1&&t.push(e)}function xh(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class Sh{constructor(){this.subscriptions=[]}add(e){return bh(this.subscriptions,e),()=>xh(this.subscriptions,e)}notify(e,r,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,i);else for(let o=0;o<a;o++){const u=this.subscriptions[o];u&&u(e,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function n0(t,e){return e?t*(1e3/e):0}const mg=30,Fk=t=>!isNaN(parseFloat(t));class $k{constructor(e,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,a=!0)=>{const o=Lr.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Lr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Fk(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Sh);const i=this.events[e].add(r);return e==="change"?()=>{i(),at.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,i){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Lr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>mg)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,mg);return n0(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ca(t,e){return new $k(t,e)}function Vk(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,ca(r))}function qk(t,e){const r=jl(t,e);let{transitionEnd:i={},transition:a={},...o}=r||{};o={...o,...i};for(const u in o){const c=rk(o[u]);Vk(t,u,c)}}function Kk(t){return!!(Ut(t)&&t.add)}function pd(t,e){const r=t.getValue("willChange");if(Kk(r))return r.add(e)}function i0(t){return t.props[Iv]}const s0=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Wk=1e-7,Gk=12;function Hk(t,e,r,i,a){let o,u,c=0;do u=e+(r-e)/2,o=s0(u,i,a)-t,o>0?r=u:e=u;while(Math.abs(o)>Wk&&++c<Gk);return u}function va(t,e,r,i){if(t===e&&r===i)return nr;const a=o=>Hk(o,0,1,t,r);return o=>o===0||o===1?o:s0(a(o),e,i)}const a0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,o0=t=>e=>1-t(1-e),l0=va(.33,1.53,.69,.99),kh=o0(l0),u0=a0(kh),c0=t=>(t*=2)<1?.5*kh(t):.5*(2-Math.pow(2,-10*(t-1))),Eh=t=>1-Math.sin(Math.acos(t)),d0=o0(Eh),h0=a0(Eh),f0=t=>/^0[^.\s]+$/u.test(t);function Yk(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||f0(t):!0}const Zs=t=>Math.round(t*1e5)/1e5,Ch=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Jk(t){return t==null}const Qk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Th=(t,e)=>r=>!!(typeof r=="string"&&Qk.test(r)&&r.startsWith(t)||e&&!Jk(r)&&Object.prototype.hasOwnProperty.call(r,e)),p0=(t,e,r)=>i=>{if(typeof i!="string")return i;const[a,o,u,c]=i.match(Ch);return{[t]:parseFloat(a),[e]:parseFloat(o),[r]:parseFloat(u),alpha:c!==void 0?parseFloat(c):1}},Xk=t=>Zr(0,255,t),Ic={...ts,transform:t=>Math.round(Xk(t))},ii={test:Th("rgb","red"),parse:p0("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:i=1})=>"rgba("+Ic.transform(t)+", "+Ic.transform(e)+", "+Ic.transform(r)+", "+Zs(ua.transform(i))+")"};function Zk(t){let e="",r="",i="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const md={test:Th("#"),parse:Zk,transform:ii.transform},Bi={test:Th("hsl","hue"),parse:p0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:i=1})=>"hsla("+Math.round(t)+", "+Dr.transform(Zs(e))+", "+Dr.transform(Zs(r))+", "+Zs(ua.transform(i))+")"},zt={test:t=>ii.test(t)||md.test(t)||Bi.test(t),parse:t=>ii.test(t)?ii.parse(t):Bi.test(t)?Bi.parse(t):md.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ii.transform(t):Bi.transform(t)},eE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function tE(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Ch))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(eE))===null||r===void 0?void 0:r.length)||0)>0}const m0="number",g0="color",rE="var",nE="var(",gg="${}",iE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function da(t){const e=t.toString(),r=[],i={color:[],number:[],var:[]},a=[];let o=0;const c=e.replace(iE,d=>(zt.test(d)?(i.color.push(o),a.push(g0),r.push(zt.parse(d))):d.startsWith(nE)?(i.var.push(o),a.push(rE),r.push(d)):(i.number.push(o),a.push(m0),r.push(parseFloat(d))),++o,gg)).split(gg);return{values:r,split:c,indexes:i,types:a}}function y0(t){return da(t).values}function v0(t){const{split:e,types:r}=da(t),i=e.length;return a=>{let o="";for(let u=0;u<i;u++)if(o+=e[u],a[u]!==void 0){const c=r[u];c===m0?o+=Zs(a[u]):c===g0?o+=zt.transform(a[u]):o+=a[u]}return o}}const sE=t=>typeof t=="number"?0:t;function aE(t){const e=y0(t);return v0(t)(e.map(sE))}const jn={test:tE,parse:y0,createTransformer:v0,getAnimatableNone:aE},oE=new Set(["brightness","contrast","saturate","opacity"]);function lE(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=r.match(Ch)||[];if(!i)return t;const a=r.replace(i,"");let o=oE.has(e)?1:0;return i!==r&&(o*=100),e+"("+o+a+")"}const uE=/\b([a-z-]*)\(.*?\)/gu,gd={...jn,getAnimatableNone:t=>{const e=t.match(uE);return e?e.map(lE).join(" "):t}},cE={...dh,color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,filter:gd,WebkitFilter:gd},Ah=t=>cE[t];function w0(t,e){let r=Ah(t);return r!==gd&&(r=jn),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const dE=new Set(["auto","none","0"]);function hE(t,e,r){let i=0,a;for(;i<t.length&&!a;){const o=t[i];typeof o=="string"&&!dE.has(o)&&da(o).values.length&&(a=t[i]),i++}if(a&&r)for(const o of e)t[o]=w0(r,a)}const yg=t=>t===ts||t===Le,vg=(t,e)=>parseFloat(t.split(", ")[e]),wg=(t,e)=>(r,{transform:i})=>{if(i==="none"||!i)return 0;const a=i.match(/^matrix3d\((.+)\)$/u);if(a)return vg(a[1],e);{const o=i.match(/^matrix\((.+)\)$/u);return o?vg(o[1],t):0}},fE=new Set(["x","y","z"]),pE=es.filter(t=>!fE.has(t));function mE(t){const e=[];return pE.forEach(r=>{const i=t.getValue(r);i!==void 0&&(e.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),e}const Yi={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:wg(4,13),y:wg(5,14)};Yi.translateX=Yi.x;Yi.translateY=Yi.y;const ai=new Set;let yd=!1,vd=!1;function _0(){if(vd){const t=Array.from(ai).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),r=new Map;e.forEach(i=>{const a=mE(i);a.length&&(r.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=r.get(i);a&&a.forEach(([o,u])=>{var c;(c=i.getValue(o))===null||c===void 0||c.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}vd=!1,yd=!1,ai.forEach(t=>t.complete()),ai.clear()}function b0(){ai.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(vd=!0)})}function gE(){b0(),_0()}class Ph{constructor(e,r,i,a,o,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=i,this.motionValue=a,this.element=o,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ai.add(this),yd||(yd=!0,at.read(b0),at.resolveKeyframes(_0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:i,motionValue:a}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const u=a==null?void 0:a.get(),c=e[e.length-1];if(u!==void 0)e[0]=u;else if(i&&r){const d=i.readValue(r,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&u===void 0&&a.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ai.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ai.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const x0=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),yE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vE(t){const e=yE.exec(t);if(!e)return[,];const[,r,i,a]=e;return[`--${r??i}`,a]}function S0(t,e,r=1){const[i,a]=vE(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const u=o.trim();return x0(u)?parseFloat(u):u}return ch(a)?S0(a,e,r+1):a}const k0=t=>e=>e.test(t),wE={test:t=>t==="auto",parse:t=>t},E0=[ts,Le,Dr,En,lk,ok,wE],_g=t=>E0.find(k0(t));class C0 extends Ph{constructor(e,r,i,a,o){super(e,r,i,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:i}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),ch(p))){const y=S0(p,r.current);y!==void 0&&(e[d]=y),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!r0.has(i)||e.length!==2)return;const[a,o]=e,u=_g(a),c=_g(o);if(u!==c)if(yg(u)&&yg(c))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,i=[];for(let a=0;a<e.length;a++)Yk(e[a])&&i.push(a);i.length&&hE(e,i,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yi[i](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var e;const{element:r,name:i,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const o=r.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=a.length-1,c=a[u];a[u]=Yi[i](r.measureViewportBox(),window.getComputedStyle(r.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,p])=>{r.getValue(d).set(p)}),this.resolveNoneKeyframes()}}const bg=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(jn.test(t)||t==="0")&&!t.startsWith("url("));function _E(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function bE(t,e,r,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],u=bg(a,e),c=bg(o,e);return!u||!c?!1:_E(t)||(r==="spring"||vh(r))&&i}const xE=t=>t!==null;function Ol(t,{repeat:e,repeatType:r="loop"},i){const a=t.filter(xE),o=e&&r!=="loop"&&e%2===1?0:a.length-1;return!o||i===void 0?a[o]:i}const SE=40;class T0{constructor({autoplay:e=!0,delay:r=0,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:u="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Lr.now(),this.options={autoplay:e,delay:r,type:i,repeat:a,repeatDelay:o,repeatType:u,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>SE?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&gE(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=Lr.now(),this.hasAttemptedResolve=!0;const{name:i,type:a,velocity:o,delay:u,onComplete:c,onUpdate:d,isGenerator:p}=this.options;if(!p&&!bE(e,i,a,o))if(u)this.options.duration=0;else{d&&d(Ol(e,this.options,r)),c&&c(),this.resolveFinishedPromise();return}const y=this.initPlayback(e,r);y!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...y},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ht=(t,e,r)=>t+(e-t)*r;function Dc(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function kE({hue:t,saturation:e,lightness:r,alpha:i}){t/=360,e/=100,r/=100;let a=0,o=0,u=0;if(!e)a=o=u=r;else{const c=r<.5?r*(1+e):r+e-r*e,d=2*r-c;a=Dc(d,c,t+1/3),o=Dc(d,c,t),u=Dc(d,c,t-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:i}}function ul(t,e){return r=>r>0?e:t}const Lc=(t,e,r)=>{const i=t*t,a=r*(e*e-i)+i;return a<0?0:Math.sqrt(a)},EE=[md,ii,Bi],CE=t=>EE.find(e=>e.test(t));function xg(t){const e=CE(t);if(!e)return!1;let r=e.parse(t);return e===Bi&&(r=kE(r)),r}const Sg=(t,e)=>{const r=xg(t),i=xg(e);if(!r||!i)return ul(t,e);const a={...r};return o=>(a.red=Lc(r.red,i.red,o),a.green=Lc(r.green,i.green,o),a.blue=Lc(r.blue,i.blue,o),a.alpha=ht(r.alpha,i.alpha,o),ii.transform(a))},TE=(t,e)=>r=>e(t(r)),wa=(...t)=>t.reduce(TE),wd=new Set(["none","hidden"]);function AE(t,e){return wd.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function PE(t,e){return r=>ht(t,e,r)}function Rh(t){return typeof t=="number"?PE:typeof t=="string"?ch(t)?ul:zt.test(t)?Sg:OE:Array.isArray(t)?A0:typeof t=="object"?zt.test(t)?Sg:RE:ul}function A0(t,e){const r=[...t],i=r.length,a=t.map((o,u)=>Rh(o)(o,e[u]));return o=>{for(let u=0;u<i;u++)r[u]=a[u](o);return r}}function RE(t,e){const r={...t,...e},i={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Rh(t[a])(t[a],e[a]));return a=>{for(const o in i)r[o]=i[o](a);return r}}function jE(t,e){var r;const i=[],a={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const u=e.types[o],c=t.indexes[u][a[u]],d=(r=t.values[c])!==null&&r!==void 0?r:0;i[o]=d,a[u]++}return i}const OE=(t,e)=>{const r=jn.createTransformer(e),i=da(t),a=da(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?wd.has(t)&&!a.values.length||wd.has(e)&&!i.values.length?AE(t,e):wa(A0(jE(i,a),a.values),r):ul(t,e)};function P0(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?ht(t,e,r):Rh(t)(t,e)}const NE=5;function R0(t,e,r){const i=Math.max(e-NE,0);return n0(r-t(i),e-i)}const pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mc=.001;function IE({duration:t=pt.duration,bounce:e=pt.bounce,velocity:r=pt.velocity,mass:i=pt.mass}){let a,o,u=1-e;u=Zr(pt.minDamping,pt.maxDamping,u),t=Zr(pt.minDuration,pt.maxDuration,Xr(t)),u<1?(a=p=>{const y=p*u,m=y*t,v=y-r,b=_d(p,u),x=Math.exp(-m);return Mc-v/b*x},o=p=>{const m=p*u*t,v=m*r+r,b=Math.pow(u,2)*Math.pow(p,2)*t,x=Math.exp(-m),E=_d(Math.pow(p,2),u);return(-a(p)+Mc>0?-1:1)*((v-b)*x)/E}):(a=p=>{const y=Math.exp(-p*t),m=(p-r)*t+1;return-Mc+y*m},o=p=>{const y=Math.exp(-p*t),m=(r-p)*(t*t);return y*m});const c=5/t,d=LE(a,o,c);if(t=Qr(t),isNaN(d))return{stiffness:pt.stiffness,damping:pt.damping,duration:t};{const p=Math.pow(d,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const DE=12;function LE(t,e,r){let i=r;for(let a=1;a<DE;a++)i=i-t(i)/e(i);return i}function _d(t,e){return t*Math.sqrt(1-e*e)}const ME=["duration","bounce"],zE=["stiffness","damping","mass"];function kg(t,e){return e.some(r=>t[r]!==void 0)}function UE(t){let e={velocity:pt.velocity,stiffness:pt.stiffness,damping:pt.damping,mass:pt.mass,isResolvedFromDuration:!1,...t};if(!kg(t,zE)&&kg(t,ME))if(t.visualDuration){const r=t.visualDuration,i=2*Math.PI/(r*1.2),a=i*i,o=2*Zr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:pt.mass,stiffness:a,damping:o}}else{const r=IE(t);e={...e,...r,mass:pt.mass},e.isResolvedFromDuration=!0}return e}function j0(t=pt.visualDuration,e=pt.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=r;const o=r.keyframes[0],u=r.keyframes[r.keyframes.length-1],c={done:!1,value:o},{stiffness:d,damping:p,mass:y,duration:m,velocity:v,isResolvedFromDuration:b}=UE({...r,velocity:-Xr(r.velocity||0)}),x=v||0,E=p/(2*Math.sqrt(d*y)),C=u-o,R=Xr(Math.sqrt(d/y)),I=Math.abs(C)<5;i||(i=I?pt.restSpeed.granular:pt.restSpeed.default),a||(a=I?pt.restDelta.granular:pt.restDelta.default);let k;if(E<1){const j=_d(R,E);k=D=>{const O=Math.exp(-E*R*D);return u-O*((x+E*R*C)/j*Math.sin(j*D)+C*Math.cos(j*D))}}else if(E===1)k=j=>u-Math.exp(-R*j)*(C+(x+R*C)*j);else{const j=R*Math.sqrt(E*E-1);k=D=>{const O=Math.exp(-E*R*D),L=Math.min(j*D,300);return u-O*((x+E*R*C)*Math.sinh(L)+j*C*Math.cosh(L))/j}}const P={calculatedDuration:b&&m||null,next:j=>{const D=k(j);if(b)c.done=j>=m;else{let O=0;E<1&&(O=j===0?Qr(x):R0(k,j,D));const L=Math.abs(O)<=i,J=Math.abs(u-D)<=a;c.done=L&&J}return c.value=c.done?u:D,c},toString:()=>{const j=Math.min(Yv(P),hd),D=Jv(O=>P.next(j*O).value,j,30);return j+"ms "+D}};return P}function Eg({keyframes:t,velocity:e=0,power:r=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:u,min:c,max:d,restDelta:p=.5,restSpeed:y}){const m=t[0],v={done:!1,value:m},b=L=>c!==void 0&&L<c||d!==void 0&&L>d,x=L=>c===void 0?d:d===void 0||Math.abs(c-L)<Math.abs(d-L)?c:d;let E=r*e;const C=m+E,R=u===void 0?C:u(C);R!==C&&(E=R-m);const I=L=>-E*Math.exp(-L/i),k=L=>R+I(L),P=L=>{const J=I(L),z=k(L);v.done=Math.abs(J)<=p,v.value=v.done?R:z};let j,D;const O=L=>{b(v.value)&&(j=L,D=j0({keyframes:[v.value,x(v.value)],velocity:R0(k,L,v.value),damping:a,stiffness:o,restDelta:p,restSpeed:y}))};return O(0),{calculatedDuration:null,next:L=>{let J=!1;return!D&&j===void 0&&(J=!0,P(L),O(L)),j!==void 0&&L>=j?D.next(L-j):(!J&&P(L),v)}}}const BE=va(.42,0,1,1),FE=va(0,0,.58,1),O0=va(.42,0,.58,1),$E=t=>Array.isArray(t)&&typeof t[0]!="number",VE={linear:nr,easeIn:BE,easeInOut:O0,easeOut:FE,circIn:Eh,circInOut:h0,circOut:d0,backIn:kh,backInOut:u0,backOut:l0,anticipate:c0},Cg=t=>{if(wh(t)){Pv(t.length===4);const[e,r,i,a]=t;return va(e,r,i,a)}else if(typeof t=="string")return VE[t];return t};function qE(t,e,r){const i=[],a=r||P0,o=t.length-1;for(let u=0;u<o;u++){let c=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||nr:e;c=wa(d,c)}i.push(c)}return i}function KE(t,e,{clamp:r=!0,ease:i,mixer:a}={}){const o=t.length;if(Pv(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=qE(e,i,a),d=c.length,p=y=>{if(u&&y<t[0])return e[0];let m=0;if(d>1)for(;m<t.length-2&&!(y<t[m+1]);m++);const v=Gi(t[m],t[m+1],y);return c[m](v)};return r?y=>p(Zr(t[0],t[o-1],y)):p}function WE(t,e){const r=t[t.length-1];for(let i=1;i<=e;i++){const a=Gi(0,e,i);t.push(ht(r,1,a))}}function GE(t){const e=[0];return WE(e,t.length-1),e}function HE(t,e){return t.map(r=>r*e)}function YE(t,e){return t.map(()=>e||O0).splice(0,t.length-1)}function cl({duration:t=300,keyframes:e,times:r,ease:i="easeInOut"}){const a=$E(i)?i.map(Cg):Cg(i),o={done:!1,value:e[0]},u=HE(r&&r.length===e.length?r:GE(e),t),c=KE(u,e,{ease:Array.isArray(a)?a:YE(e,a)});return{calculatedDuration:t,next:d=>(o.value=c(d),o.done=d>=t,o)}}const JE=t=>{const e=({timestamp:r})=>t(r);return{start:()=>at.update(e,!0),stop:()=>Rn(e),now:()=>Ot.isProcessing?Ot.timestamp:Lr.now()}},QE={decay:Eg,inertia:Eg,tween:cl,keyframes:cl,spring:j0},XE=t=>t/100;class jh extends T0{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:r,motionValue:i,element:a,keyframes:o}=this.options,u=(a==null?void 0:a.KeyframeResolver)||Ph,c=(d,p)=>this.onKeyframesResolved(d,p);this.resolver=new u(o,c,r,i,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o,velocity:u=0}=this.options,c=vh(r)?r:QE[r]||cl;let d,p;c!==cl&&typeof e[0]!="number"&&(d=wa(XE,P0(e[0],e[1])),e=[0,100]);const y=c({...this.options,keyframes:e});o==="mirror"&&(p=c({...this.options,keyframes:[...e].reverse(),velocity:-u})),y.calculatedDuration===null&&(y.calculatedDuration=Yv(y));const{calculatedDuration:m}=y,v=m+a,b=v*(i+1)-a;return{generator:y,mirroredGenerator:p,mapPercentToKeyframes:d,calculatedDuration:m,resolvedDuration:v,totalDuration:b}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:i}=this;if(!i){const{keyframes:L}=this.options;return{done:!0,value:L[L.length-1]}}const{finalKeyframe:a,generator:o,mirroredGenerator:u,mapPercentToKeyframes:c,keyframes:d,calculatedDuration:p,totalDuration:y,resolvedDuration:m}=i;if(this.startTime===null)return o.next(0);const{delay:v,repeat:b,repeatType:x,repeatDelay:E,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-y/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const R=this.currentTime-v*(this.speed>=0?1:-1),I=this.speed>=0?R<0:R>y;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let k=this.currentTime,P=o;if(b){const L=Math.min(this.currentTime,y)/m;let J=Math.floor(L),z=L%1;!z&&L>=1&&(z=1),z===1&&J--,J=Math.min(J,b+1),!!(J%2)&&(x==="reverse"?(z=1-z,E&&(z-=E/m)):x==="mirror"&&(P=u)),k=Zr(0,1,z)*m}const j=I?{done:!1,value:d[0]}:P.next(k);c&&(j.value=c(j.value));let{done:D}=j;!I&&p!==null&&(D=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return O&&a!==void 0&&(j.value=Ol(d,this.options,a)),C&&C(j.value),O&&this.finish(),j}get duration(){const{resolved:e}=this;return e?Xr(e.calculatedDuration):0}get time(){return Xr(this.currentTime)}set time(e){e=Qr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Xr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=JE,onPlay:r,startTime:i}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),r&&r();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const ZE=new Set(["opacity","clipPath","filter","transform"]);function eC(t,e,r,{delay:i=0,duration:a=300,repeat:o=0,repeatType:u="loop",ease:c="easeInOut",times:d}={}){const p={[e]:r};d&&(p.offset=d);const y=Xv(c,a);return Array.isArray(y)&&(p.easing=y),t.animate(p,{delay:i,duration:a,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"})}const tC=nh(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),dl=10,rC=2e4;function nC(t){return vh(t.type)||t.type==="spring"||!Qv(t.ease)}function iC(t,e){const r=new jh({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const a=[];let o=0;for(;!i.done&&o<rC;)i=r.sample(o),a.push(i.value),o+=dl;return{times:void 0,keyframes:a,duration:o-dl,ease:"linear"}}const N0={anticipate:c0,backInOut:u0,circInOut:h0};function sC(t){return t in N0}class Tg extends T0{constructor(e){super(e);const{name:r,motionValue:i,element:a,keyframes:o}=this.options;this.resolver=new C0(o,(u,c)=>this.onKeyframesResolved(u,c),r,i,a),this.resolver.scheduleResolve()}initPlayback(e,r){let{duration:i=300,times:a,ease:o,type:u,motionValue:c,name:d,startTime:p}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof o=="string"&&ll()&&sC(o)&&(o=N0[o]),nC(this.options)){const{onComplete:m,onUpdate:v,motionValue:b,element:x,...E}=this.options,C=iC(e,E);e=C.keyframes,e.length===1&&(e[1]=e[0]),i=C.duration,a=C.times,o=C.ease,u="keyframes"}const y=eC(c.owner.current,d,e,{...this.options,duration:i,times:a,ease:o});return y.startTime=p??this.calcStartTime(),this.pendingTimeline?(dg(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:m}=this.options;c.set(Ol(e,this.options,r)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:i,times:a,type:u,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return Xr(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return Xr(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:i}=r;i.currentTime=Qr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:i}=r;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return nr;const{animation:i}=r;dg(i,e)}return nr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:i,duration:a,type:o,ease:u,times:c}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:y,onComplete:m,element:v,...b}=this.options,x=new jh({...b,keyframes:i,duration:a,type:o,ease:u,times:c,isGenerator:!0}),E=Qr(this.time);p.setWithVelocity(x.sample(E-dl).value,x.sample(E).value,dl)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:i,repeatDelay:a,repeatType:o,damping:u,type:c}=e;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=r.owner.getProps();return tC()&&i&&ZE.has(i)&&!d&&!p&&!a&&o!=="mirror"&&u!==0&&c!=="inertia"}}const aC={type:"spring",stiffness:500,damping:25,restSpeed:10},oC=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),lC={type:"keyframes",duration:.8},uC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cC=(t,{keyframes:e})=>e.length>2?lC:li.has(t)?t.startsWith("scale")?oC(e[1]):aC:uC;function dC({when:t,delay:e,delayChildren:r,staggerChildren:i,staggerDirection:a,repeat:o,repeatType:u,repeatDelay:c,from:d,elapsed:p,...y}){return!!Object.keys(y).length}const Oh=(t,e,r,i={},a,o)=>u=>{const c=yh(i,t)||{},d=c.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Qr(d);let y={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:v=>{e.set(v),c.onUpdate&&c.onUpdate(v)},onComplete:()=>{u(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:a};dC(c)||(y={...y,...cC(t,y)}),y.duration&&(y.duration=Qr(y.duration)),y.repeatDelay&&(y.repeatDelay=Qr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let m=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(m=!0)),m&&!o&&e.get()!==void 0){const v=Ol(y.keyframes,c);if(v!==void 0)return at.update(()=>{y.onUpdate(v),y.onComplete()}),new Rk([])}return!o&&Tg.supports(y)?new Tg(y):new jh(y)};function hC({protectedKeys:t,needsAnimating:e},r){const i=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,i}function I0(t,e,{delay:r=0,transitionOverride:i,type:a}={}){var o;let{transition:u=t.getDefaultTransition(),transitionEnd:c,...d}=e;i&&(u=i);const p=[],y=a&&t.animationState&&t.animationState.getState()[a];for(const m in d){const v=t.getValue(m,(o=t.latestValues[m])!==null&&o!==void 0?o:null),b=d[m];if(b===void 0||y&&hC(y,m))continue;const x={delay:r,...yh(u||{},m)};let E=!1;if(window.MotionHandoffAnimation){const R=i0(t);if(R){const I=window.MotionHandoffAnimation(R,m,at);I!==null&&(x.startTime=I,E=!0)}}pd(t,m),v.start(Oh(m,v,b,t.shouldReduceMotion&&r0.has(m)?{type:!1}:x,t,E));const C=v.animation;C&&p.push(C)}return c&&Promise.all(p).then(()=>{at.update(()=>{c&&qk(t,c)})}),p}function bd(t,e,r={}){var i;const a=jl(t,e,r.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(o=r.transitionOverride);const u=a?()=>Promise.all(I0(t,a,r)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:m,staggerDirection:v}=o;return fC(t,e,y+p,m,v,r)}:()=>Promise.resolve(),{when:d}=o;if(d){const[p,y]=d==="beforeChildren"?[u,c]:[c,u];return p().then(()=>y())}else return Promise.all([u(),c(r.delay)])}function fC(t,e,r=0,i=0,a=1,o){const u=[],c=(t.variantChildren.size-1)*i,d=a===1?(p=0)=>p*i:(p=0)=>c-p*i;return Array.from(t.variantChildren).sort(pC).forEach((p,y)=>{p.notify("AnimationStart",e),u.push(bd(p,e,{...o,delay:r+d(y)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function pC(t,e){return t.sortNodePosition(e)}function mC(t,e,r={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(o=>bd(t,o,r));i=Promise.all(a)}else if(typeof e=="string")i=bd(t,e,r);else{const a=typeof e=="function"?jl(t,e,r.custom):e;i=Promise.all(I0(t,a,r))}return i.then(()=>{t.notify("AnimationComplete",e)})}const gC=sh.length;function D0(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?D0(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<gC;r++){const i=sh[r],a=t.props[i];(la(a)||a===!1)&&(e[i]=a)}return e}const yC=[...ih].reverse(),vC=ih.length;function wC(t){return e=>Promise.all(e.map(({animation:r,options:i})=>mC(t,r,i)))}function _C(t){let e=wC(t),r=Ag(),i=!0;const a=d=>(p,y)=>{var m;const v=jl(t,y,d==="exit"?(m=t.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(v){const{transition:b,transitionEnd:x,...E}=v;p={...p,...E,...x}}return p};function o(d){e=d(t)}function u(d){const{props:p}=t,y=D0(t.parent)||{},m=[],v=new Set;let b={},x=1/0;for(let C=0;C<vC;C++){const R=yC[C],I=r[R],k=p[R]!==void 0?p[R]:y[R],P=la(k),j=R===d?I.isActive:null;j===!1&&(x=C);let D=k===y[R]&&k!==p[R]&&P;if(D&&i&&t.manuallyAnimateOnMount&&(D=!1),I.protectedKeys={...b},!I.isActive&&j===null||!k&&!I.prevProp||Pl(k)||typeof k=="boolean")continue;const O=bC(I.prevProp,k);let L=O||R===d&&I.isActive&&!D&&P||C>x&&P,J=!1;const z=Array.isArray(k)?k:[k];let W=z.reduce(a(R),{});j===!1&&(W={});const{prevResolvedValues:te={}}=I,ce={...te,...W},ke=Ee=>{L=!0,v.has(Ee)&&(J=!0,v.delete(Ee)),I.needsAnimating[Ee]=!0;const ae=t.getValue(Ee);ae&&(ae.liveStyle=!1)};for(const Ee in ce){const ae=W[Ee],se=te[Ee];if(b.hasOwnProperty(Ee))continue;let me=!1;dd(ae)&&dd(se)?me=!Hv(ae,se):me=ae!==se,me?ae!=null?ke(Ee):v.add(Ee):ae!==void 0&&v.has(Ee)?ke(Ee):I.protectedKeys[Ee]=!0}I.prevProp=k,I.prevResolvedValues=W,I.isActive&&(b={...b,...W}),i&&t.blockInitialAnimation&&(L=!1),L&&(!(D&&O)||J)&&m.push(...z.map(Ee=>({animation:Ee,options:{type:R}})))}if(v.size){const C={};v.forEach(R=>{const I=t.getBaseTarget(R),k=t.getValue(R);k&&(k.liveStyle=!0),C[R]=I??null}),m.push({animation:C})}let E=!!m.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(E=!1),i=!1,E?e(m):Promise.resolve()}function c(d,p){var y;if(r[d].isActive===p)return Promise.resolve();(y=t.variantChildren)===null||y===void 0||y.forEach(v=>{var b;return(b=v.animationState)===null||b===void 0?void 0:b.setActive(d,p)}),r[d].isActive=p;const m=u(d);for(const v in r)r[v].protectedKeys={};return m}return{animateChanges:u,setActive:c,setAnimateFunction:o,getState:()=>r,reset:()=>{r=Ag(),i=!0}}}function bC(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Hv(e,t):!1}function Gn(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ag(){return{animate:Gn(!0),whileInView:Gn(),whileHover:Gn(),whileTap:Gn(),whileDrag:Gn(),whileFocus:Gn(),exit:Gn()}}class Nn{constructor(e){this.isMounted=!1,this.node=e}update(){}}class xC extends Nn{constructor(e){super(e),e.animationState||(e.animationState=_C(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Pl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let SC=0;class kC extends Nn{constructor(){super(...arguments),this.id=SC++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const EC={animation:{Feature:xC},exit:{Feature:kC}};function ha(t,e,r,i={passive:!0}){return t.addEventListener(e,r,i),()=>t.removeEventListener(e,r)}function _a(t){return{point:{x:t.pageX,y:t.pageY}}}const CC=t=>e=>_h(e)&&t(e,_a(e));function ea(t,e,r,i){return ha(t,e,CC(r),i)}const Pg=(t,e)=>Math.abs(t-e);function TC(t,e){const r=Pg(t.x,e.x),i=Pg(t.y,e.y);return Math.sqrt(r**2+i**2)}class L0{constructor(e,r,{transformPagePoint:i,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Uc(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,b=TC(m.offset,{x:0,y:0})>=3;if(!v&&!b)return;const{point:x}=m,{timestamp:E}=Ot;this.history.push({...x,timestamp:E});const{onStart:C,onMove:R}=this.handlers;v||(C&&C(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,m)},this.handlePointerMove=(m,v)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=zc(v,this.transformPagePoint),at.update(this.updatePoint,!0)},this.handlePointerUp=(m,v)=>{this.end();const{onEnd:b,onSessionEnd:x,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Uc(m.type==="pointercancel"?this.lastMoveEventInfo:zc(v,this.transformPagePoint),this.history);this.startEvent&&b&&b(m,C),x&&x(m,C)},!_h(e))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=i,this.contextWindow=a||window;const u=_a(e),c=zc(u,this.transformPagePoint),{point:d}=c,{timestamp:p}=Ot;this.history=[{...d,timestamp:p}];const{onSessionStart:y}=r;y&&y(e,Uc(c,this.history)),this.removeListeners=wa(ea(this.contextWindow,"pointermove",this.handlePointerMove),ea(this.contextWindow,"pointerup",this.handlePointerUp),ea(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Rn(this.updatePoint)}}function zc(t,e){return e?{point:e(t.point)}:t}function Rg(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Uc({point:t},e){return{point:t,delta:Rg(t,M0(e)),offset:Rg(t,AC(e)),velocity:PC(e,.1)}}function AC(t){return t[0]}function M0(t){return t[t.length-1]}function PC(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,i=null;const a=M0(t);for(;r>=0&&(i=t[r],!(a.timestamp-i.timestamp>Qr(e)));)r--;if(!i)return{x:0,y:0};const o=Xr(a.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const u={x:(a.x-i.x)/o,y:(a.y-i.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const z0=1e-4,RC=1-z0,jC=1+z0,U0=.01,OC=0-U0,NC=0+U0;function ir(t){return t.max-t.min}function IC(t,e,r){return Math.abs(t-e)<=r}function jg(t,e,r,i=.5){t.origin=i,t.originPoint=ht(e.min,e.max,t.origin),t.scale=ir(r)/ir(e),t.translate=ht(r.min,r.max,t.origin)-t.originPoint,(t.scale>=RC&&t.scale<=jC||isNaN(t.scale))&&(t.scale=1),(t.translate>=OC&&t.translate<=NC||isNaN(t.translate))&&(t.translate=0)}function ta(t,e,r,i){jg(t.x,e.x,r.x,i?i.originX:void 0),jg(t.y,e.y,r.y,i?i.originY:void 0)}function Og(t,e,r){t.min=r.min+e.min,t.max=t.min+ir(e)}function DC(t,e,r){Og(t.x,e.x,r.x),Og(t.y,e.y,r.y)}function Ng(t,e,r){t.min=e.min-r.min,t.max=t.min+ir(e)}function ra(t,e,r){Ng(t.x,e.x,r.x),Ng(t.y,e.y,r.y)}function LC(t,{min:e,max:r},i){return e!==void 0&&t<e?t=i?ht(e,t,i.min):Math.max(t,e):r!==void 0&&t>r&&(t=i?ht(r,t,i.max):Math.min(t,r)),t}function Ig(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function MC(t,{top:e,left:r,bottom:i,right:a}){return{x:Ig(t.x,r,a),y:Ig(t.y,e,i)}}function Dg(t,e){let r=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,i]=[i,r]),{min:r,max:i}}function zC(t,e){return{x:Dg(t.x,e.x),y:Dg(t.y,e.y)}}function UC(t,e){let r=.5;const i=ir(t),a=ir(e);return a>i?r=Gi(e.min,e.max-i,t.min):i>a&&(r=Gi(t.min,t.max-a,e.min)),Zr(0,1,r)}function BC(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const xd=.35;function FC(t=xd){return t===!1?t=0:t===!0&&(t=xd),{x:Lg(t,"left","right"),y:Lg(t,"top","bottom")}}function Lg(t,e,r){return{min:Mg(t,e),max:Mg(t,r)}}function Mg(t,e){return typeof t=="number"?t:t[e]||0}const zg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fi=()=>({x:zg(),y:zg()}),Ug=()=>({min:0,max:0}),yt=()=>({x:Ug(),y:Ug()});function hr(t){return[t("x"),t("y")]}function B0({top:t,left:e,right:r,bottom:i}){return{x:{min:e,max:r},y:{min:t,max:i}}}function $C({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function VC(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function Bc(t){return t===void 0||t===1}function Sd({scale:t,scaleX:e,scaleY:r}){return!Bc(t)||!Bc(e)||!Bc(r)}function Jn(t){return Sd(t)||F0(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function F0(t){return Bg(t.x)||Bg(t.y)}function Bg(t){return t&&t!=="0%"}function hl(t,e,r){const i=t-r,a=e*i;return r+a}function Fg(t,e,r,i,a){return a!==void 0&&(t=hl(t,a,i)),hl(t,r,i)+e}function kd(t,e=0,r=1,i,a){t.min=Fg(t.min,e,r,i,a),t.max=Fg(t.max,e,r,i,a)}function $0(t,{x:e,y:r}){kd(t.x,e.translate,e.scale,e.originPoint),kd(t.y,r.translate,r.scale,r.originPoint)}const $g=.999999999999,Vg=1.0000000000001;function qC(t,e,r,i=!1){const a=r.length;if(!a)return;e.x=e.y=1;let o,u;for(let c=0;c<a;c++){o=r[c],u=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Vi(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,$0(t,u)),i&&Jn(o.latestValues)&&Vi(t,o.latestValues))}e.x<Vg&&e.x>$g&&(e.x=1),e.y<Vg&&e.y>$g&&(e.y=1)}function $i(t,e){t.min=t.min+e,t.max=t.max+e}function qg(t,e,r,i,a=.5){const o=ht(t.min,t.max,a);kd(t,e,r,o,i)}function Vi(t,e){qg(t.x,e.x,e.scaleX,e.scale,e.originX),qg(t.y,e.y,e.scaleY,e.scale,e.originY)}function V0(t,e){return B0(VC(t.getBoundingClientRect(),e))}function KC(t,e,r){const i=V0(t,r),{scroll:a}=e;return a&&($i(i.x,a.offset.x),$i(i.y,a.offset.y)),i}const q0=({current:t})=>t?t.ownerDocument.defaultView:null,WC=new WeakMap;class GC{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yt(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(_a(y).point)},o=(y,m)=>{const{drag:v,dragPropagation:b,onDragStart:x}=this.getProps();if(v&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Uk(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hr(C=>{let R=this.getAxisMotionValue(C).get()||0;if(Dr.test(R)){const{projection:I}=this.visualElement;if(I&&I.layout){const k=I.layout.layoutBox[C];k&&(R=ir(k)*(parseFloat(R)/100))}}this.originPoint[C]=R}),x&&at.postRender(()=>x(y,m)),pd(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},u=(y,m)=>{const{dragPropagation:v,dragDirectionLock:b,onDirectionLock:x,onDrag:E}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:C}=m;if(b&&this.currentDirection===null){this.currentDirection=HC(C),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,C),this.updateAxis("y",m.point,C),this.visualElement.render(),E&&E(y,m)},c=(y,m)=>this.stop(y,m),d=()=>hr(y=>{var m;return this.getAnimationState(y)==="paused"&&((m=this.getAxisMotionValue(y).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new L0(e,{onSessionStart:a,onStart:o,onMove:u,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:q0(this.visualElement)})}stop(e,r){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&at.postRender(()=>o(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,i){const{drag:a}=this.getProps();if(!i||!Do(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=LC(u,this.constraints[e],this.elastic[e])),o.set(u)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:i}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;r&&Ui(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=MC(a.layoutBox,r):this.constraints=!1,this.elastic=FC(i),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&hr(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=BC(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Ui(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=KC(i,a.root,this.visualElement.getTransformPagePoint());let u=zC(a.layout.layoutBox,o);if(r){const c=r($C(u));this.hasMutatedConstraints=!!c,c&&(u=B0(c))}return u}startAnimation(e){const{drag:r,dragMomentum:i,dragElastic:a,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},p=hr(y=>{if(!Do(y,r,this.currentDirection))return;let m=d&&d[y]||{};u&&(m={min:0,max:0});const v=a?200:1e6,b=a?40:1e7,x={type:"inertia",velocity:i?e[y]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(y,x)});return Promise.all(p).then(c)}startAxisValueAnimation(e,r){const i=this.getAxisMotionValue(e);return pd(this.visualElement,e),i.start(Oh(e,i,0,r,this.visualElement,!1))}stopAnimation(){hr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){hr(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[r];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){hr(r=>{const{drag:i}=this.getProps();if(!Do(r,i,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(r);if(a&&a.layout){const{min:u,max:c}=a.layout.layoutBox[r];o.set(e[r]-ht(u,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!Ui(r)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};hr(u=>{const c=this.getAxisMotionValue(u);if(c&&this.constraints!==!1){const d=c.get();a[u]=UC({min:d,max:d},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),hr(u=>{if(!Do(u,e,null))return;const c=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];c.set(ht(d,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;WC.set(this.visualElement,this);const e=this.visualElement.current,r=ea(e,"pointerdown",d=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();Ui(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),at.read(i);const u=ha(window,"resize",()=>this.scalePositionWithinConstraints()),c=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(hr(y=>{const m=this.getAxisMotionValue(y);m&&(this.originPoint[y]+=d[y].translate,m.set(m.get()+d[y].translate))}),this.visualElement.render())}));return()=>{u(),r(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:u=xd,dragMomentum:c=!0}=e;return{...e,drag:r,dragDirectionLock:i,dragPropagation:a,dragConstraints:o,dragElastic:u,dragMomentum:c}}}function Do(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function HC(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class YC extends Nn{constructor(e){super(e),this.removeGroupControls=nr,this.removeListeners=nr,this.controls=new GC(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Kg=t=>(e,r)=>{t&&at.postRender(()=>t(e,r))};class JC extends Nn{constructor(){super(...arguments),this.removePointerDownListener=nr}onPointerDown(e){this.session=new L0(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:q0(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Kg(e),onStart:Kg(r),onMove:i,onEnd:(o,u)=>{delete this.session,a&&at.postRender(()=>a(o,u))}}}mount(){this.removePointerDownListener=ea(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Qo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Wg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Fs={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Le.test(t))t=parseFloat(t);else return t;const r=Wg(t,e.target.x),i=Wg(t,e.target.y);return`${r}% ${i}%`}},QC={correct:(t,{treeScale:e,projectionDelta:r})=>{const i=t,a=jn.parse(t);if(a.length>5)return i;const o=jn.createTransformer(t),u=typeof a[0]!="number"?1:0,c=r.x.scale*e.x,d=r.y.scale*e.y;a[0+u]/=c,a[1+u]/=d;const p=ht(c,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),o(a)}};class XC extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i,layoutId:a}=this.props,{projection:o}=e;vk(ZC),o&&(r.group&&r.group.add(o),i&&i.register&&a&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Qo.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:i,drag:a,isPresent:o}=this.props,u=i.projection;return u&&(u.isPresent=o,a||e.layoutDependency!==r||r===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||at.postRender(()=>{const c=u.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),oh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function K0(t){const[e,r]=Tv(),i=U.useContext(Zd);return w.jsx(XC,{...t,layoutGroup:i,switchLayoutGroup:U.useContext(Dv),isPresent:e,safeToRemove:r})}const ZC={borderRadius:{...Fs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fs,borderTopRightRadius:Fs,borderBottomLeftRadius:Fs,borderBottomRightRadius:Fs,boxShadow:QC};function eT(t,e,r){const i=Ut(t)?t:ca(t);return i.start(Oh("",i,e,r)),i.animation}function tT(t){return t instanceof SVGElement&&t.tagName!=="svg"}const rT=(t,e)=>t.depth-e.depth;class nT{constructor(){this.children=[],this.isDirty=!1}add(e){bh(this.children,e),this.isDirty=!0}remove(e){xh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(rT),this.isDirty=!1,this.children.forEach(e)}}function iT(t,e){const r=Lr.now(),i=({timestamp:a})=>{const o=a-r;o>=e&&(Rn(i),t(o-e))};return at.read(i,!0),()=>Rn(i)}const W0=["TopLeft","TopRight","BottomLeft","BottomRight"],sT=W0.length,Gg=t=>typeof t=="string"?parseFloat(t):t,Hg=t=>typeof t=="number"||Le.test(t);function aT(t,e,r,i,a,o){a?(t.opacity=ht(0,r.opacity!==void 0?r.opacity:1,oT(i)),t.opacityExit=ht(e.opacity!==void 0?e.opacity:1,0,lT(i))):o&&(t.opacity=ht(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,i));for(let u=0;u<sT;u++){const c=`border${W0[u]}Radius`;let d=Yg(e,c),p=Yg(r,c);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||Hg(d)===Hg(p)?(t[c]=Math.max(ht(Gg(d),Gg(p),i),0),(Dr.test(p)||Dr.test(d))&&(t[c]+="%")):t[c]=p}(e.rotate||r.rotate)&&(t.rotate=ht(e.rotate||0,r.rotate||0,i))}function Yg(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const oT=G0(0,.5,d0),lT=G0(.5,.95,nr);function G0(t,e,r){return i=>i<t?0:i>e?1:r(Gi(t,e,i))}function Jg(t,e){t.min=e.min,t.max=e.max}function dr(t,e){Jg(t.x,e.x),Jg(t.y,e.y)}function Qg(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Xg(t,e,r,i,a){return t-=e,t=hl(t,1/r,i),a!==void 0&&(t=hl(t,1/a,i)),t}function uT(t,e=0,r=1,i=.5,a,o=t,u=t){if(Dr.test(e)&&(e=parseFloat(e),e=ht(u.min,u.max,e/100)-u.min),typeof e!="number")return;let c=ht(o.min,o.max,i);t===o&&(c-=e),t.min=Xg(t.min,e,r,c,a),t.max=Xg(t.max,e,r,c,a)}function Zg(t,e,[r,i,a],o,u){uT(t,e[r],e[i],e[a],e.scale,o,u)}const cT=["x","scaleX","originX"],dT=["y","scaleY","originY"];function ey(t,e,r,i){Zg(t.x,e,cT,r?r.x:void 0,i?i.x:void 0),Zg(t.y,e,dT,r?r.y:void 0,i?i.y:void 0)}function ty(t){return t.translate===0&&t.scale===1}function H0(t){return ty(t.x)&&ty(t.y)}function ry(t,e){return t.min===e.min&&t.max===e.max}function hT(t,e){return ry(t.x,e.x)&&ry(t.y,e.y)}function ny(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Y0(t,e){return ny(t.x,e.x)&&ny(t.y,e.y)}function iy(t){return ir(t.x)/ir(t.y)}function sy(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class fT{constructor(){this.members=[]}add(e){bh(this.members,e),e.scheduleRender()}remove(e){if(xh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let i;for(let a=r;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,r){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,r&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:i}=e;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pT(t,e,r){let i="";const a=t.x.translate/e.x,o=t.y.translate/e.y,u=(r==null?void 0:r.z)||0;if((a||o||u)&&(i=`translate3d(${a}px, ${o}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:p,rotate:y,rotateX:m,rotateY:v,skewX:b,skewY:x}=r;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),m&&(i+=`rotateX(${m}deg) `),v&&(i+=`rotateY(${v}deg) `),b&&(i+=`skewX(${b}deg) `),x&&(i+=`skewY(${x}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(i+=`scale(${c}, ${d})`),i||"none"}const Qn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ys=typeof window<"u"&&window.MotionDebug!==void 0,Fc=["","X","Y","Z"],mT={visibility:"hidden"},ay=1e3;let gT=0;function $c(t,e,r,i){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function J0(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=i0(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",at,!(a||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&J0(i)}function Q0({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},c=e==null?void 0:e()){this.id=gT++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ys&&(Qn.totalNodes=Qn.resolvedTargetDeltas=Qn.recalculatedProjection=0),this.nodes.forEach(wT),this.nodes.forEach(kT),this.nodes.forEach(ET),this.nodes.forEach(_T),Ys&&window.MotionDebug.record(Qn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new nT)}addEventListener(u,c){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Sh),this.eventHandlers.get(u).add(c)}notifyListeners(u,...c){const d=this.eventHandlers.get(u);d&&d.notify(...c)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=tT(u),this.instance=u;const{layoutId:d,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||d)&&(this.isLayoutDirty=!0),t){let m;const v=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=iT(v,250),Qo.hasAnimatedSinceResize&&(Qo.hasAnimatedSinceResize=!1,this.nodes.forEach(ly))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&y&&(d||p)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeTargetChanged:b,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||y.getDefaultTransition()||RT,{onLayoutAnimationStart:C,onLayoutAnimationComplete:R}=y.getProps(),I=!this.targetLayout||!Y0(this.targetLayout,x)||b,k=!v&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||v&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,k);const P={...yh(E,"layout"),onPlay:C,onComplete:R};(y.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else v||ly(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Rn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CT),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&J0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const m=this.path[y];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oy);return}this.isUpdating||this.nodes.forEach(xT),this.isUpdating=!1,this.nodes.forEach(ST),this.nodes.forEach(yT),this.nodes.forEach(vT),this.clearAllSnapshots();const c=Lr.now();Ot.delta=Zr(0,1e3/60,c-Ot.timestamp),Ot.timestamp=c,Ot.isProcessing=!0,Oc.update.process(Ot),Oc.preRender.process(Ot),Oc.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,oh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bT),this.sharedNodes.forEach(TT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,at.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){at.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(c=!1),c){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!H0(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&(c||Jn(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return u&&(d=this.removeTransform(d)),jT(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:c}=this.options;if(!c)return yt();const d=c.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(OT))){const{scroll:y}=this.root;y&&($i(d.x,y.offset.x),$i(d.y,y.offset.y))}return d}removeElementScroll(u){var c;const d=yt();if(dr(d,u),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return d;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:m,options:v}=y;y!==this.root&&m&&v.layoutScroll&&(m.wasRoot&&dr(d,u),$i(d.x,m.offset.x),$i(d.y,m.offset.y))}return d}applyTransform(u,c=!1){const d=yt();dr(d,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!c&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Vi(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Jn(y.latestValues)&&Vi(d,y.latestValues)}return Jn(this.latestValues)&&Vi(d,this.latestValues),d}removeTransform(u){const c=yt();dr(c,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Jn(p.latestValues))continue;Sd(p.latestValues)&&p.updateSnapshot();const y=yt(),m=p.measurePageBox();dr(y,m),ey(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Jn(this.latestValues)&&ey(c,this.latestValues),c}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var c;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!(!this.layout||!(m||v))){if(this.resolvedRelativeTargetAt=Ot.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),ra(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),dr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=yt(),this.targetWithTransforms=yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dr(this.target,this.layout.layoutBox),$0(this.target,this.targetDelta)):dr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),ra(this.relativeTargetOrigin,this.target,b.target),dr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ys&&Qn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Sd(this.parent.latestValues)||F0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(p=!1),p)return;const{layout:y,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||m))return;dr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;qC(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=yt());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Qg(this.prevProjectionDelta.x,this.projectionDelta.x),Qg(this.prevProjectionDelta.y,this.projectionDelta.y)),ta(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!sy(this.projectionDelta.x,this.prevProjectionDelta.x)||!sy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Ys&&Qn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fi(),this.projectionDelta=Fi(),this.projectionDeltaWithTransform=Fi()}setAnimationOrigin(u,c=!1){const d=this.snapshot,p=d?d.latestValues:{},y={...this.latestValues},m=Fi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const v=yt(),b=d?d.source:void 0,x=this.layout?this.layout.source:void 0,E=b!==x,C=this.getStack(),R=!C||C.members.length<=1,I=!!(E&&!R&&this.options.crossfade===!0&&!this.path.some(PT));this.animationProgress=0;let k;this.mixTargetDelta=P=>{const j=P/1e3;uy(m.x,u.x,j),uy(m.y,u.y,j),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ra(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),AT(this.relativeTarget,this.relativeTargetOrigin,v,j),k&&hT(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=yt()),dr(k,this.relativeTarget)),E&&(this.animationValues=y,aT(y,p,this.latestValues,j,I,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Rn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=at.update(()=>{Qo.hasAnimatedSinceResize=!0,this.currentAnimation=eT(0,ay,{...u,onUpdate:c=>{this.mixTargetDelta(c),u.onUpdate&&u.onUpdate(c)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ay),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:c,target:d,layout:p,latestValues:y}=u;if(!(!c||!d||!p)){if(this!==u&&this.layout&&p&&X0(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||yt();const m=ir(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+m;const v=ir(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+v}dr(c,d),Vi(c,y),ta(this.projectionDeltaWithTransform,this.layoutCorrected,c,y)}}registerSharedNode(u,c){this.sharedNodes.has(u)||this.sharedNodes.set(u,new fT),this.sharedNodes.get(u).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:c,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let c=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const p={};d.z&&$c("z",u,p,this.animationValues);for(let y=0;y<Fc.length;y++)$c(`rotate${Fc[y]}`,u,p,this.animationValues),$c(`skew${Fc[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}getProjectionStyles(u){var c,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return mT;const p={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Yo(u==null?void 0:u.pointerEvents)||"",p.transform=y?y(this.latestValues,""):"none",p;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=Yo(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Jn(this.latestValues)&&(E.transform=y?y({},""):"none",this.hasProjected=!1),E}const v=m.animationValues||m.latestValues;this.applyTransformsToTarget(),p.transform=pT(this.projectionDeltaWithTransform,this.treeScale,v),y&&(p.transform=y(v,p.transform));const{x:b,y:x}=this.projectionDelta;p.transformOrigin=`${b.origin*100}% ${x.origin*100}% 0`,m.animationValues?p.opacity=m===this?(d=(c=v.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:p.opacity=m===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const E in ol){if(v[E]===void 0)continue;const{correct:C,applyTo:R}=ol[E],I=p.transform==="none"?v[E]:C(v[E],m);if(R){const k=R.length;for(let P=0;P<k;P++)p[R[P]]=I}else p[E]=I}return this.options.layoutId&&(p.pointerEvents=m===this?Yo(u==null?void 0:u.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var c;return(c=u.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(oy),this.root.sharedNodes.clear()}}}function yT(t){t.updateLayout()}function vT(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=t.layout,{animationType:o}=t.options,u=r.source!==t.layout.source;o==="size"?hr(m=>{const v=u?r.measuredBox[m]:r.layoutBox[m],b=ir(v);v.min=i[m].min,v.max=v.min+b}):X0(o,r.layoutBox,i)&&hr(m=>{const v=u?r.measuredBox[m]:r.layoutBox[m],b=ir(i[m]);v.max=v.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+b)});const c=Fi();ta(c,i,r.layoutBox);const d=Fi();u?ta(d,t.applyTransform(a,!0),r.measuredBox):ta(d,i,r.layoutBox);const p=!H0(c);let y=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:v,layout:b}=m;if(v&&b){const x=yt();ra(x,r.layoutBox,v.layoutBox);const E=yt();ra(E,i,b.layoutBox),Y0(x,E)||(y=!0),m.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=x,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:r,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeTargetChanged:y})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function wT(t){Ys&&Qn.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _T(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function bT(t){t.clearSnapshot()}function oy(t){t.clearMeasurements()}function xT(t){t.isLayoutDirty=!1}function ST(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ly(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function kT(t){t.resolveTargetDelta()}function ET(t){t.calcProjection()}function CT(t){t.resetSkewAndRotation()}function TT(t){t.removeLeadSnapshot()}function uy(t,e,r){t.translate=ht(e.translate,0,r),t.scale=ht(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function cy(t,e,r,i){t.min=ht(e.min,r.min,i),t.max=ht(e.max,r.max,i)}function AT(t,e,r,i){cy(t.x,e.x,r.x,i),cy(t.y,e.y,r.y,i)}function PT(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const RT={duration:.45,ease:[.4,0,.1,1]},dy=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),hy=dy("applewebkit/")&&!dy("chrome/")?Math.round:nr;function fy(t){t.min=hy(t.min),t.max=hy(t.max)}function jT(t){fy(t.x),fy(t.y)}function X0(t,e,r){return t==="position"||t==="preserve-aspect"&&!IC(iy(e),iy(r),.2)}function OT(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const NT=Q0({attachResizeListener:(t,e)=>ha(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vc={current:void 0},Z0=Q0({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Vc.current){const t=new NT({});t.mount(window),t.setOptions({layoutScroll:!0}),Vc.current=t}return Vc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),IT={pan:{Feature:JC},drag:{Feature:YC,ProjectionNode:Z0,MeasureLayout:K0}};function py(t,e,r){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,o=i[a];o&&at.postRender(()=>o(e,_a(e)))}class DT extends Nn{mount(){const{current:e}=this.node;e&&(this.unmount=Ik(e,r=>(py(this.node,r,"Start"),i=>py(this.node,i,"End"))))}unmount(){}}class LT extends Nn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wa(ha(this.node.current,"focus",()=>this.onFocus()),ha(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function my(t,e,r){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),o=i[a];o&&at.postRender(()=>o(e,_a(e)))}class MT extends Nn{mount(){const{current:e}=this.node;e&&(this.unmount=zk(e,r=>(my(this.node,r,"Start"),(i,{success:a})=>my(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ed=new WeakMap,qc=new WeakMap,zT=t=>{const e=Ed.get(t.target);e&&e(t)},UT=t=>{t.forEach(zT)};function BT({root:t,...e}){const r=t||document;qc.has(r)||qc.set(r,{});const i=qc.get(r),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(UT,{root:t,...e})),i[a]}function FT(t,e,r){const i=BT(e);return Ed.set(t,r),i.observe(t),()=>{Ed.delete(t),i.unobserve(t)}}const $T={some:0,all:1};class VT extends Nn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:i,amount:a="some",once:o}=e,u={root:r?r.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:$T[a]},c=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,o&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:m}=this.node.getProps(),v=p?y:m;v&&v(d)};return FT(this.node.current,u,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(qT(e,r))&&this.startObserver()}unmount(){}}function qT({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const KT={inView:{Feature:VT},tap:{Feature:MT},focus:{Feature:LT},hover:{Feature:DT}},WT={layout:{ProjectionNode:Z0,MeasureLayout:K0}},Cd={current:null},ew={current:!1};function GT(){if(ew.current=!0,!!rh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Cd.current=t.matches;t.addListener(e),e()}else Cd.current=!1}const HT=[...E0,zt,jn],YT=t=>HT.find(k0(t)),gy=new WeakMap;function JT(t,e,r){for(const i in e){const a=e[i],o=r[i];if(Ut(a))t.addValue(i,a);else if(Ut(o))t.addValue(i,ca(a,{owner:t}));else if(o!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,ca(u!==void 0?u:a,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const yy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class QT{scrapeMotionValuesFromProps(e,r,i){return{}}constructor({parent:e,props:r,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:o,visualState:u},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ph,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Lr.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,at.render(this.render,!1,!0))};const{latestValues:d,renderState:p,onUpdate:y}=u;this.onUpdate=y,this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=r,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=Rl(r),this.isVariantNode=Nv(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(r,{},this);for(const b in v){const x=v[b];d[b]!==void 0&&Ut(x)&&x.set(d[b],!1)}}mount(e){this.current=e,gy.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),ew.current||GT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Cd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){gy.delete(this.current),this.projection&&this.projection.unmount(),Rn(this.notifyUpdate),Rn(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=li.has(e),a=r.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&at.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=r.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),o(),u&&u(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Hi){const r=Hi[e];if(!r)continue;const{isEnabled:i,Feature:a}=r;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<yy.length;i++){const a=yy[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,u=e[o];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=JT(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const i=this.values.get(e);r!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&r!==void 0&&(i=ca(r===null?void 0:r,{owner:this}),this.addValue(e,i)),i}readValue(e,r){var i;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(x0(a)||f0(a))?a=parseFloat(a):!YT(a)&&jn.test(r)&&(a=w0(e,r)),this.setBaseTarget(e,Ut(a)?a.get():a)),Ut(a)?a.get():a}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:i}=this.props;let a;if(typeof i=="string"||typeof i=="object"){const u=uh(this.props,i,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);u&&(a=u[e])}if(i&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Ut(o)?o:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Sh),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class tw extends QT{constructor(){super(...arguments),this.KeyframeResolver=C0}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:i}){delete r[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ut(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function XT(t){return window.getComputedStyle(t)}class ZT extends tw{constructor(){super(...arguments),this.type="html",this.renderInstance=$v}readValueFromInstance(e,r){if(li.has(r)){const i=Ah(r);return i&&i.default||0}else{const i=XT(e),a=(Uv(r)?i.getPropertyValue(r):i[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return V0(e,r)}build(e,r,i){hh(e,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,r,i){return gh(e,r,i)}}class eA extends tw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yt}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(li.has(r)){const i=Ah(r);return i&&i.default||0}return r=Vv.has(r)?r:ah(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,i){return Wv(e,r,i)}build(e,r,i){fh(e,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,r,i,a){qv(e,r,i,a)}mount(e){this.isSVGTag=mh(e.tagName),super.mount(e)}}const tA=(t,e)=>lh(t)?new eA(e):new ZT(e,{allowProjection:t!==U.Fragment}),rA=Tk({...EC,...KT,...IT,...WT},tA),Me=$S(rA);var Hr={},Lo={},Td=function(t,e){return Td=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},Td(t,e)};function rw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Td(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var fl=function(){return fl=Object.assign||function(e){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},fl.apply(this,arguments)};function rs(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(r[i[a]]=t[i[a]]);return r}function nw(t,e,r,i){var a=arguments.length,o=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,i);else for(var c=t.length-1;c>=0;c--)(u=t[c])&&(o=(a<3?u(o):a>3?u(e,r,o):u(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o}function iw(t,e){return function(r,i){e(r,i,t)}}function sw(t,e,r,i,a,o){function u(R){if(R!==void 0&&typeof R!="function")throw new TypeError("Function expected");return R}for(var c=i.kind,d=c==="getter"?"get":c==="setter"?"set":"value",p=!e&&t?i.static?t:t.prototype:null,y=e||(p?Object.getOwnPropertyDescriptor(p,i.name):{}),m,v=!1,b=r.length-1;b>=0;b--){var x={};for(var E in i)x[E]=E==="access"?{}:i[E];for(var E in i.access)x.access[E]=i.access[E];x.addInitializer=function(R){if(v)throw new TypeError("Cannot add initializers after decoration has completed");o.push(u(R||null))};var C=(0,r[b])(c==="accessor"?{get:y.get,set:y.set}:y[d],x);if(c==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(m=u(C.get))&&(y.get=m),(m=u(C.set))&&(y.set=m),(m=u(C.init))&&a.unshift(m)}else(m=u(C))&&(c==="field"?a.unshift(m):y[d]=m)}p&&Object.defineProperty(p,i.name,y),v=!0}function aw(t,e,r){for(var i=arguments.length>2,a=0;a<e.length;a++)r=i?e[a].call(t,r):e[a].call(t);return i?r:void 0}function ow(t){return typeof t=="symbol"?t:"".concat(t)}function lw(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function uw(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function xe(t,e,r,i){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function c(y){try{p(i.next(y))}catch(m){u(m)}}function d(y){try{p(i.throw(y))}catch(m){u(m)}}function p(y){y.done?o(y.value):a(y.value).then(c,d)}p((i=i.apply(t,e||[])).next())})}function cw(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,a,o,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=c(0),u.throw=c(1),u.return=c(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(p){return function(y){return d([p,y])}}function d(p){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(r=0)),r;)try{if(i=1,a&&(o=p[0]&2?a.return:p[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,p[1])).done)return o;switch(a=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,a=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){r.label=p[1];break}if(p[0]===6&&r.label<o[1]){r.label=o[1],o=p;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(p);break}o[2]&&r.ops.pop(),r.trys.pop();continue}p=e.call(t,r)}catch(y){p=[6,y],a=0}finally{i=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var Nl=Object.create?(function(t,e,r,i){i===void 0&&(i=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,a)}):(function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]});function dw(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Nl(e,t,r)}function pl(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nh(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),a,o=[],u;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(c){u={error:c}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(u)throw u.error}}return o}function hw(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Nh(arguments[e]));return t}function fw(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var i=Array(t),a=0,e=0;e<r;e++)for(var o=arguments[e],u=0,c=o.length;u<c;u++,a++)i[a]=o[u];return i}function pw(t,e,r){if(r||arguments.length===2)for(var i=0,a=e.length,o;i<a;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))}function Ji(t){return this instanceof Ji?(this.v=t,this):new Ji(t)}function mw(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(t,e||[]),a,o=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",u),a[Symbol.asyncIterator]=function(){return this},a;function u(b){return function(x){return Promise.resolve(x).then(b,m)}}function c(b,x){i[b]&&(a[b]=function(E){return new Promise(function(C,R){o.push([b,E,C,R])>1||d(b,E)})},x&&(a[b]=x(a[b])))}function d(b,x){try{p(i[b](x))}catch(E){v(o[0][3],E)}}function p(b){b.value instanceof Ji?Promise.resolve(b.value.v).then(y,m):v(o[0][2],b)}function y(b){d("next",b)}function m(b){d("throw",b)}function v(b,x){b(x),o.shift(),o.length&&d(o[0][0],o[0][1])}}function gw(t){var e,r;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,o){e[a]=t[a]?function(u){return(r=!r)?{value:Ji(t[a](u)),done:!1}:o?o(u):u}:o}}function yw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof pl=="function"?pl(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(o){r[o]=t[o]&&function(u){return new Promise(function(c,d){u=t[o](u),a(c,d,u.done,u.value)})}}function a(o,u,c,d){Promise.resolve(d).then(function(p){o({value:p,done:c})},u)}}function vw(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var nA=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Ad=function(t){return Ad=Object.getOwnPropertyNames||function(e){var r=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[r.length]=i);return r},Ad(t)};function ww(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Ad(t),i=0;i<r.length;i++)r[i]!=="default"&&Nl(e,t,r[i]);return nA(e,t),e}function _w(t){return t&&t.__esModule?t:{default:t}}function bw(t,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(t):i?i.value:e.get(t)}function xw(t,e,r,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(t,r):a?a.value=r:e.set(t,r),r}function Sw(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function kw(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],r&&(a=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");a&&(i=function(){try{a.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:i,async:r})}else r&&t.stack.push({async:!0});return e}var iA=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var i=new Error(r);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};function Ew(t){function e(o){t.error=t.hasError?new iA(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var r,i=0;function a(){for(;r=t.stack.pop();)try{if(!r.async&&i===1)return i=0,t.stack.push(r),Promise.resolve().then(a);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(o).then(a,function(u){return e(u),a()})}else i|=1}catch(u){e(u)}if(i===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return a()}function Cw(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,i,a,o,u){return i?e?".jsx":".js":a&&(!o||!u)?r:a+o+"."+u.toLowerCase()+"js"}):t}const sA={__extends:rw,__assign:fl,__rest:rs,__decorate:nw,__param:iw,__esDecorate:sw,__runInitializers:aw,__propKey:ow,__setFunctionName:lw,__metadata:uw,__awaiter:xe,__generator:cw,__createBinding:Nl,__exportStar:dw,__values:pl,__read:Nh,__spread:hw,__spreadArrays:fw,__spreadArray:pw,__await:Ji,__asyncGenerator:mw,__asyncDelegator:gw,__asyncValues:yw,__makeTemplateObject:vw,__importStar:ww,__importDefault:_w,__classPrivateFieldGet:bw,__classPrivateFieldSet:xw,__classPrivateFieldIn:Sw,__addDisposableResource:kw,__disposeResources:Ew,__rewriteRelativeImportExtension:Cw},aA=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:kw,get __assign(){return fl},__asyncDelegator:gw,__asyncGenerator:mw,__asyncValues:yw,__await:Ji,__awaiter:xe,__classPrivateFieldGet:bw,__classPrivateFieldIn:Sw,__classPrivateFieldSet:xw,__createBinding:Nl,__decorate:nw,__disposeResources:Ew,__esDecorate:sw,__exportStar:dw,__extends:rw,__generator:cw,__importDefault:_w,__importStar:ww,__makeTemplateObject:vw,__metadata:uw,__param:iw,__propKey:ow,__read:Nh,__rest:rs,__rewriteRelativeImportExtension:Cw,__runInitializers:aw,__setFunctionName:lw,__spread:hw,__spreadArray:pw,__spreadArrays:fw,__values:pl,default:sA},Symbol.toStringTag,{value:"Module"})),oA=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let Il=class extends Error{constructor(e,r="FunctionsError",i){super(e),this.name=r,this.context=i}},Tw=class extends Il{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Pd=class extends Il{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Rd=class extends Il{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var ml;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ml||(ml={}));class lA{constructor(e,{headers:r={},customFetch:i,region:a=ml.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=oA(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return xe(this,arguments,void 0,function*(r,i={}){var a;let o,u;try{const{headers:c,method:d,body:p,signal:y,timeout:m}=i;let v={},{region:b}=i;b||(b=this.region);const x=new URL(`${this.url}/${r}`);b&&b!=="any"&&(v["x-region"]=b,x.searchParams.set("forceFunctionRegion",b));let E;p&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",E=p):typeof p=="string"?(v["Content-Type"]="text/plain",E=p):typeof FormData<"u"&&p instanceof FormData?E=p:(v["Content-Type"]="application/json",E=JSON.stringify(p)):E=p;let C=y;m&&(u=new AbortController,o=setTimeout(()=>u.abort(),m),y?(C=u.signal,y.addEventListener("abort",()=>u.abort())):C=u.signal);const R=yield this.fetch(x.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),c),body:E,signal:C}).catch(j=>{throw new Tw(j)}),I=R.headers.get("x-relay-error");if(I&&I==="true")throw new Pd(R);if(!R.ok)throw new Rd(R);let k=((a=R.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),P;return k==="application/json"?P=yield R.json():k==="application/octet-stream"||k==="application/pdf"?P=yield R.blob():k==="text/event-stream"?P=R:k==="multipart/form-data"?P=yield R.formData():P=yield R.text(),{data:P,error:null,response:R}}catch(c){return{data:null,error:c,response:c instanceof Rd||c instanceof Pd?c.context:void 0}}finally{o&&clearTimeout(o)}})}}const uA=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return ml},FunctionsClient:lA,FunctionsError:Il,FunctionsFetchError:Tw,FunctionsHttpError:Rd,FunctionsRelayError:Pd},Symbol.toStringTag,{value:"Module"})),Aw=ga(uA);var Mt={};const ns=ga(aA);var Mo={},zo={},Uo={},Bo={},Fo={},$o={},vy;function Pw(){if(vy)return $o;vy=1,Object.defineProperty($o,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return $o.default=t,$o}var wy;function Rw(){if(wy)return Fo;wy=1,Object.defineProperty(Fo,"__esModule",{value:!0});const e=ns.__importDefault(Pw());let r=class{constructor(a){var o,u;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(o=a.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=a.signal,this.isMaybeSingle=(u=a.isMaybeSingle)!==null&&u!==void 0?u:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=new Headers(this.headers),this.headers.set(a,o),this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let c=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var p,y,m,v;let b=null,x=null,E=null,C=d.status,R=d.statusText;if(d.ok){if(this.method!=="HEAD"){const j=await d.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?x=j:x=JSON.parse(j))}const k=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),P=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");k&&P&&P.length>1&&(E=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(b={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,E=null,C=406,R="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const k=await d.text();try{b=JSON.parse(k),Array.isArray(b)&&d.status===404&&(x=[],b=null,C=200,R="OK")}catch{d.status===404&&k===""?(C=204,R="No Content"):b={message:k}}if(b&&this.isMaybeSingle&&(!((v=b==null?void 0:b.details)===null||v===void 0)&&v.includes("0 rows"))&&(b=null,C=200,R="OK"),b&&this.shouldThrowOnError)throw new e.default(b)}return{error:b,data:x,count:E,status:C,statusText:R}});return this.shouldThrowOnError||(c=c.catch(d=>{var p,y,m,v,b,x;let E="";const C=d==null?void 0:d.cause;if(C){const R=(p=C==null?void 0:C.message)!==null&&p!==void 0?p:"",I=(y=C==null?void 0:C.code)!==null&&y!==void 0?y:"";E=`${(m=d==null?void 0:d.name)!==null&&m!==void 0?m:"FetchError"}: ${d==null?void 0:d.message}`,E+=`

Caused by: ${(v=C==null?void 0:C.name)!==null&&v!==void 0?v:"Error"}: ${R}`,I&&(E+=` (${I})`),C!=null&&C.stack&&(E+=`
${C.stack}`)}else E=(b=d==null?void 0:d.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(x=d==null?void 0:d.name)!==null&&x!==void 0?x:"FetchError"}: ${d==null?void 0:d.message}`,details:E,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(a,o)}returns(){return this}overrideTypes(){return this}};return Fo.default=r,Fo}var _y;function jw(){if(_y)return Bo;_y=1,Object.defineProperty(Bo,"__esModule",{value:!0});const e=ns.__importDefault(Rw());let r=class extends e.default{select(a){let o=!1;const u=(a??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:o=!0,nullsFirst:u,foreignTable:c,referencedTable:d=c}={}){const p=d?`${d}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${a}.${o?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:o,referencedTable:u=o}={}){const c=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(c,`${a}`),this}range(a,o,{foreignTable:u,referencedTable:c=u}={}){const d=typeof c>"u"?"offset":`${c}.offset`,p=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(p,`${o-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:o=!1,settings:u=!1,buffers:c=!1,wal:d=!1,format:p="text"}={}){var y;const m=[a?"analyze":null,o?"verbose":null,u?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${v}"; options=${m};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};return Bo.default=r,Bo}var by;function Ih(){if(by)return Uo;by=1,Object.defineProperty(Uo,"__esModule",{value:!0});const e=ns.__importDefault(jw()),r=new RegExp("[,()]");let i=class extends e.default{eq(o,u){return this.url.searchParams.append(o,`eq.${u}`),this}neq(o,u){return this.url.searchParams.append(o,`neq.${u}`),this}gt(o,u){return this.url.searchParams.append(o,`gt.${u}`),this}gte(o,u){return this.url.searchParams.append(o,`gte.${u}`),this}lt(o,u){return this.url.searchParams.append(o,`lt.${u}`),this}lte(o,u){return this.url.searchParams.append(o,`lte.${u}`),this}like(o,u){return this.url.searchParams.append(o,`like.${u}`),this}likeAllOf(o,u){return this.url.searchParams.append(o,`like(all).{${u.join(",")}}`),this}likeAnyOf(o,u){return this.url.searchParams.append(o,`like(any).{${u.join(",")}}`),this}ilike(o,u){return this.url.searchParams.append(o,`ilike.${u}`),this}ilikeAllOf(o,u){return this.url.searchParams.append(o,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(o,u){return this.url.searchParams.append(o,`ilike(any).{${u.join(",")}}`),this}regexMatch(o,u){return this.url.searchParams.append(o,`match.${u}`),this}regexIMatch(o,u){return this.url.searchParams.append(o,`imatch.${u}`),this}is(o,u){return this.url.searchParams.append(o,`is.${u}`),this}isDistinct(o,u){return this.url.searchParams.append(o,`isdistinct.${u}`),this}in(o,u){const c=Array.from(new Set(u)).map(d=>typeof d=="string"&&r.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cs.{${u.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(u)}`),this}containedBy(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cd.{${u.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(u)}`),this}rangeGt(o,u){return this.url.searchParams.append(o,`sr.${u}`),this}rangeGte(o,u){return this.url.searchParams.append(o,`nxl.${u}`),this}rangeLt(o,u){return this.url.searchParams.append(o,`sl.${u}`),this}rangeLte(o,u){return this.url.searchParams.append(o,`nxr.${u}`),this}rangeAdjacent(o,u){return this.url.searchParams.append(o,`adj.${u}`),this}overlaps(o,u){return typeof u=="string"?this.url.searchParams.append(o,`ov.${u}`):this.url.searchParams.append(o,`ov.{${u.join(",")}}`),this}textSearch(o,u,{config:c,type:d}={}){let p="";d==="plain"?p="pl":d==="phrase"?p="ph":d==="websearch"&&(p="w");const y=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${p}fts${y}.${u}`),this}match(o){return Object.entries(o).forEach(([u,c])=>{this.url.searchParams.append(u,`eq.${c}`)}),this}not(o,u,c){return this.url.searchParams.append(o,`not.${u}.${c}`),this}or(o,{foreignTable:u,referencedTable:c=u}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${o})`),this}filter(o,u,c){return this.url.searchParams.append(o,`${u}.${c}`),this}};return Uo.default=i,Uo}var xy;function Ow(){if(xy)return zo;xy=1,Object.defineProperty(zo,"__esModule",{value:!0});const e=ns.__importDefault(Ih());let r=class{constructor(a,{headers:o={},schema:u,fetch:c}){this.url=a,this.headers=new Headers(o),this.schema=u,this.fetch=c}select(a,o){const{head:u=!1,count:c}=o??{},d=u?"HEAD":"GET";let p=!1;const y=(a??"*").split("").map(m=>/\s/.test(m)&&!p?"":(m==='"'&&(p=!p),m)).join("");return this.url.searchParams.set("select",y),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:o,defaultToNull:u=!0}={}){var c;const d="POST";if(o&&this.headers.append("Prefer",`count=${o}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const p=a.reduce((y,m)=>y.concat(Object.keys(m)),[]);if(p.length>0){const y=[...new Set(p)].map(m=>`"${m}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(a,{onConflict:o,ignoreDuplicates:u=!1,count:c,defaultToNull:d=!0}={}){var p;const y="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(m.length>0){const v=[...new Set(m)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(a,{count:o}={}){var u;const c="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:a}={}){var o;const u="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};return zo.default=r,zo}var Sy;function cA(){if(Sy)return Mo;Sy=1,Object.defineProperty(Mo,"__esModule",{value:!0});const t=ns,e=t.__importDefault(Ow()),r=t.__importDefault(Ih());let i=class Nw{constructor(o,{headers:u={},schema:c,fetch:d}={}){this.url=o,this.headers=new Headers(u),this.schemaName=c,this.fetch=d}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const u=new URL(`${this.url}/${o}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new Nw(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,u={},{head:c=!1,get:d=!1,count:p}={}){var y;let m;const v=new URL(`${this.url}/rpc/${o}`);let b;c||d?(m=c?"HEAD":"GET",Object.entries(u).filter(([E,C])=>C!==void 0).map(([E,C])=>[E,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([E,C])=>{v.searchParams.append(E,C)})):(m="POST",b=u);const x=new Headers(this.headers);return p&&x.set("Prefer",`count=${p}`),new r.default({method:m,url:v,headers:x,schema:this.schemaName,body:b,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}};return Mo.default=i,Mo}var ky;function Iw(){if(ky)return Mt;ky=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.PostgrestError=Mt.PostgrestBuilder=Mt.PostgrestTransformBuilder=Mt.PostgrestFilterBuilder=Mt.PostgrestQueryBuilder=Mt.PostgrestClient=void 0;const t=ns,e=t.__importDefault(cA());Mt.PostgrestClient=e.default;const r=t.__importDefault(Ow());Mt.PostgrestQueryBuilder=r.default;const i=t.__importDefault(Ih());Mt.PostgrestFilterBuilder=i.default;const a=t.__importDefault(jw());Mt.PostgrestTransformBuilder=a.default;const o=t.__importDefault(Rw());Mt.PostgrestBuilder=o.default;const u=t.__importDefault(Pw());return Mt.PostgrestError=u.default,Mt.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:o.default,PostgrestError:u.default},Mt}class Dw{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const i=this.getWebSocketConstructor();return new i(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const dA="2.86.2",hA=`realtime-js/${dA}`,Lw="1.0.0",fA="2.0.0",Ey=Lw,jd=1e4,pA=1e3,mA=100;var ri;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ri||(ri={}));var bt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(bt||(bt={}));var Sr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Sr||(Sr={}));var Od;(function(t){t.websocket="websocket"})(Od||(Od={}));var ni;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ni||(ni={}));class gA{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,i;const a=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var r,i;const a=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},u=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,r,i){var a,o;const u=e.topic,c=(a=e.ref)!==null&&a!==void 0?a:"",d=(o=e.join_ref)!==null&&o!==void 0?o:"",p=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(y).length===0?"":JSON.stringify(y);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+u.length+p.length+m.length,b=new ArrayBuffer(this.HEADER_LENGTH+v);let x=new DataView(b),E=0;x.setUint8(E++,this.KINDS.userBroadcastPush),x.setUint8(E++,d.length),x.setUint8(E++,c.length),x.setUint8(E++,u.length),x.setUint8(E++,p.length),x.setUint8(E++,m.length),x.setUint8(E++,r),Array.from(d,R=>x.setUint8(E++,R.charCodeAt(0))),Array.from(c,R=>x.setUint8(E++,R.charCodeAt(0))),Array.from(u,R=>x.setUint8(E++,R.charCodeAt(0))),Array.from(p,R=>x.setUint8(E++,R.charCodeAt(0))),Array.from(m,R=>x.setUint8(E++,R.charCodeAt(0)));var C=new Uint8Array(b.byteLength+i.byteLength);return C.set(new Uint8Array(b),0),C.set(new Uint8Array(i),b.byteLength),C.buffer}decode(e,r){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return r(i)}if(typeof e=="string"){const i=JSON.parse(e),[a,o,u,c,d]=i;return r({join_ref:a,ref:o,topic:u,event:c,payload:d})}return r({})}_binaryDecode(e){const r=new DataView(e),i=r.getUint8(0),a=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,a)}}_decodeUserBroadcast(e,r,i){const a=r.getUint8(1),o=r.getUint8(2),u=r.getUint8(3),c=r.getUint8(4);let d=this.HEADER_LENGTH+4;const p=i.decode(e.slice(d,d+a));d=d+a;const y=i.decode(e.slice(d,d+o));d=d+o;const m=i.decode(e.slice(d,d+u));d=d+u;const v=e.slice(d,e.byteLength),b=c===this.JSON_ENCODING?JSON.parse(i.decode(v)):v,x={type:this.BROADCAST_EVENT,event:y,payload:b};return u>0&&(x.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>r.includes(i)))}}class Mw{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(nt||(nt={}));const Cy=(t,e,r={})=>{var i;const a=(i=r.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((o,u)=>(o[u]=yA(u,t,e,a),o),{}):{}},yA=(t,e,r,i)=>{const a=e.find(c=>c.name===t),o=a==null?void 0:a.type,u=r[t];return o&&!i.includes(o)?zw(o,u):Nd(u)},zw=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return bA(e,r)}switch(t){case nt.bool:return vA(e);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return wA(e);case nt.json:case nt.jsonb:return _A(e);case nt.timestamp:return xA(e);case nt.abstime:case nt.date:case nt.daterange:case nt.int4range:case nt.int8range:case nt.money:case nt.reltime:case nt.text:case nt.time:case nt.timestamptz:case nt.timetz:case nt.tsrange:case nt.tstzrange:return Nd(e);default:return Nd(e)}},Nd=t=>t,vA=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},wA=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},_A=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},bA=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,i=t[r];if(t[0]==="{"&&i==="}"){let o;const u=t.slice(1,r);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(c=>zw(e,c))}return t},xA=t=>typeof t=="string"?t.replace(" ","T"):t,Uw=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Kc{constructor(e,r,i={},a=jd){this.channel=e,this.event=r,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var i;return this._hasReceived(e)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Id;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Id||(Id={}));let Bw=class Xo{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:o,onLeave:u,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xo.syncState(this.state,a,o,u),this.pendingDiffs.forEach(d=>{this.state=Xo.syncDiff(this.state,d,o,u)}),this.pendingDiffs=[],c()}),this.channel._on(i.diff,{},a=>{const{onJoin:o,onLeave:u,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Xo.syncDiff(this.state,a,o,u),c())}),this.onJoin((a,o,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:u})}),this.onLeave((a,o,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,i,a){const o=this.cloneDeep(e),u=this.transformState(r),c={},d={};return this.map(o,(p,y)=>{u[p]||(d[p]=y)}),this.map(u,(p,y)=>{const m=o[p];if(m){const v=y.map(C=>C.presence_ref),b=m.map(C=>C.presence_ref),x=y.filter(C=>b.indexOf(C.presence_ref)<0),E=m.filter(C=>v.indexOf(C.presence_ref)<0);x.length>0&&(c[p]=x),E.length>0&&(d[p]=E)}else c[p]=y}),this.syncDiff(o,{joins:c,leaves:d},i,a)}static syncDiff(e,r,i,a){const{joins:o,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(o,(c,d)=>{var p;const y=(p=e[c])!==null&&p!==void 0?p:[];if(e[c]=this.cloneDeep(d),y.length>0){const m=e[c].map(b=>b.presence_ref),v=y.filter(b=>m.indexOf(b.presence_ref)<0);e[c].unshift(...v)}i(c,y,d)}),this.map(u,(c,d)=>{let p=e[c];if(!p)return;const y=d.map(m=>m.presence_ref);p=p.filter(m=>y.indexOf(m.presence_ref)<0),e[c]=p,a(c,p,d),p.length===0&&delete e[c]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(i=>r(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,i)=>{const a=e[i];return"metas"in a?r[i]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[i]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Dd;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Dd||(Dd={}));var qi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(qi||(qi={}));var Or;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Or||(Or={}));const SA=bt;let Fw=class $w{constructor(e,r={config:{}},i){var a,o;if(this.topic=e,this.params=r,this.socket=i,this.bindings={},this.state=bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Kc(this,Sr.join,this.params,this.timeout),this.rejoinTimer=new Mw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=bt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sr.reply,{},(u,c)=>{this._trigger(this._replyEventName(c),u)}),this.presence=new Bw(this),this.broadcastEndpointURL=Uw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var i,a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==bt.closed){const{config:{broadcast:u,presence:c,private:d}}=this.params,p=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(b=>b.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[qi.PRESENCE]&&this.bindings[qi.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,m={},v={broadcast:u,presence:Object.assign(Object.assign({},c),{enabled:y}),postgres_changes:p,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(Or.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(Or.CLOSED)),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var x;if(this.socket.setAuth(),b===void 0){e==null||e(Or.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,C=(x=E==null?void 0:E.length)!==null&&x!==void 0?x:0,R=[];for(let I=0;I<C;I++){const k=E[I],{filter:{event:P,schema:j,table:D,filter:O}}=k,L=b&&b[I];if(L&&L.event===P&&L.schema===j&&L.table===D&&L.filter===O)R.push(Object.assign(Object.assign({},k),{id:L.id}));else{this.unsubscribe(),this.state=bt.errored,e==null||e(Or.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,e&&e(Or.SUBSCRIBED);return}}).receive("error",b=>{this.state=bt.errored,e==null||e(Or.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Or.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,i){return this.state===bt.joined&&e===qi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,i)}async httpSend(e,r,i={}){var a;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const p=await c.json();d=p.error||p.message||d}catch{}return Promise.reject(new Error(d))}async send(e,r={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:u}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=p.body)===null||a===void 0?void 0:a.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,c,d;const p=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(u=this.params)===null||u===void 0?void 0:u.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),p.receive("ok",()=>o("ok")),p.receive("error",()=>o("error")),p.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=bt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new Kc(this,Sr.leave,{},e),i.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=bt.closed,this.bindings={}}async _fetchWithTimeout(e,r,i){const a=new AbortController,o=setTimeout(()=>a.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(o),u}_push(e,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Kc(this,e,r,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>mA){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,i){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,i){var a,o;const u=e.toLocaleLowerCase(),{close:c,error:d,leave:p,join:y}=Sr;if(i&&[c,d,p,y].indexOf(u)>=0&&i!==this._joinRef())return;let v=this._onMessage(u,r,i);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(b=>{var x,E,C;return((x=b.filter)===null||x===void 0?void 0:x.event)==="*"||((C=(E=b.filter)===null||E===void 0?void 0:E.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===u}).map(b=>b.callback(v,i)):(o=this.bindings[u])===null||o===void 0||o.filter(b=>{var x,E,C,R,I,k;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const P=b.id,j=(x=b.filter)===null||x===void 0?void 0:x.event;return P&&((E=r.ids)===null||E===void 0?void 0:E.includes(P))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const P=(I=(R=b==null?void 0:b.filter)===null||R===void 0?void 0:R.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return P==="*"||P===((k=r==null?void 0:r.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof v=="object"&&"ids"in v){const x=v.data,{schema:E,table:C,commit_timestamp:R,type:I,errors:k}=x;v=Object.assign(Object.assign({},{schema:E,table:C,commit_timestamp:R,eventType:I,new:{},old:{},errors:k}),this._getPayloadRecords(x))}b.callback(v,i)})}_isClosed(){return this.state===bt.closed}_isJoined(){return this.state===bt.joined}_isJoining(){return this.state===bt.joining}_isLeaving(){return this.state===bt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,i){const a=e.toLocaleLowerCase(),o={type:a,filter:r,callback:i};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(e,r){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&$w.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const i in e)if(e[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Sr.close,{},e)}_onError(e){this._on(Sr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Cy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Cy(e.columns,e.old_record)),r}};const Wc=()=>{},Vo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},kA=[1e3,2e3,5e3,1e4],EA=1e4,CA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let TA=class{constructor(e,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jd,this.transport=null,this.heartbeatIntervalMs=Vo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wc,this.ref=0,this.reconnectTimer=null,this.vsn=Ey,this.logger=Wc,this.conn=null,this.sendBuffer=[],this.serializer=new gA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...o)=>a(...o):(...o)=>fetch(...o),!(!((i=r==null?void 0:r.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Od.websocket}`,this.httpEndpoint=Uw(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Dw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,i){this.logger(e,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ri.connecting:return ni.Connecting;case ri.open:return ni.Open;case ri.closing:return ni.Closing;default:return ni.Closed}}isConnected(){return this.connectionState()===ni.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(o=>o.topic===i);if(a)return a;{const o=new Fw(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:i,payload:a,ref:o}=e,u=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${r} ${i} (${o})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(pA,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Vo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:o,ref:u}=r,c=u?`(${u})`:"",d=o.status||"";this.log("receive",`${d} ${i} ${a} ${c}`.trim(),o),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(a,o,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ri.open||this.conn.readyState===ri.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Sr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${i}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const i=new Blob([CA],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:hA};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Sr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Mw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,i,a,o,u,c,d,p,y,m,v,b;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:jd,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Vo.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:Wc,this.vsn=(d=e==null?void 0:e.vsn)!==null&&d!==void 0?d:Ey,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:(x=>kA[x-1]||EA),this.vsn){case Lw:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((x,E)=>E(JSON.stringify(x))),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:((x,E)=>E(JSON.parse(x)));break;case fA:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const AA=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:SA,get REALTIME_LISTEN_TYPES(){return qi},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Dd},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Id},get REALTIME_SUBSCRIBE_STATES(){return Or},RealtimeChannel:Fw,RealtimeClient:TA,RealtimePresence:Bw,WebSocketFactory:Dw},Symbol.toStringTag,{value:"Module"})),Vw=ga(AA);class ba extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function lt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class qw extends ba{constructor(e,r,i){super(e),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class gl extends ba{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Dh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),PA=()=>Response,Ld=t=>{if(Array.isArray(t))return t.map(r=>Ld(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,i])=>{const a=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[a]=Ld(i)}),e},RA=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},jA=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Gc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},OA=(t,e,r)=>xe(void 0,void 0,void 0,function*(){const i=yield PA();t instanceof i&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{const o=t.status||500,u=(a==null?void 0:a.statusCode)||o+"";e(new qw(Gc(a),o,u))}).catch(a=>{e(new gl(Gc(a),a))}):e(new gl(Gc(t),t))}),NA=(t,e,r,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!i?a:(RA(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(i)):a.body=i,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function xa(t,e,r,i,a,o){return xe(this,void 0,void 0,function*(){return new Promise((u,c)=>{t(r,NA(e,i,a,o)).then(d=>{if(!d.ok)throw d;return i!=null&&i.noResolveJson?d:d.json()}).then(d=>u(d)).catch(d=>OA(d,c,i))})})}function fa(t,e,r,i){return xe(this,void 0,void 0,function*(){return xa(t,"GET",e,r,i)})}function xr(t,e,r,i,a){return xe(this,void 0,void 0,function*(){return xa(t,"POST",e,i,a,r)})}function Md(t,e,r,i,a){return xe(this,void 0,void 0,function*(){return xa(t,"PUT",e,i,a,r)})}function IA(t,e,r,i){return xe(this,void 0,void 0,function*(){return xa(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function Lh(t,e,r,i,a){return xe(this,void 0,void 0,function*(){return xa(t,"DELETE",e,i,a,r)})}class DA{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return xe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}}var Kw;class LA{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Kw]="BlobDownloadBuilder",this.promise=null}asStream(){return new DA(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return xe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}}Kw=Symbol.toStringTag;const MA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ty={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zA{constructor(e,r={},i,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=i,this.fetch=Dh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,i,a){return xe(this,void 0,void 0,function*(){try{let o;const u=Object.assign(Object.assign({},Ty),a);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const d=u.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.has("cacheControl")||o.append("cacheControl",u.cacheControl),d&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(d))):(o=i,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!u.duplex&&(u.duplex="half")),a!=null&&a.headers&&(c=Object.assign(Object.assign({},c),a.headers));const p=this._removeEmptyFolders(r),y=this._getFinalPath(p),m=yield(e=="PUT"?Md:xr)(this.fetch,`${this.url}/object/${y}`,o,Object.assign({headers:c},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:m.Id,fullPath:m.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(lt(o))return{data:null,error:o};throw o}})}upload(e,r,i){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,i)})}uploadToSignedUrl(e,r,i,a){return xe(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),u=this._getFinalPath(o),c=new URL(this.url+`/object/upload/sign/${u}`);c.searchParams.set("token",r);try{let d;const p=Object.assign({upsert:Ty.upsert},a),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.append("cacheControl",p.cacheControl)):(d=i,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const m=yield Md(this.fetch,c.toString(),d,{headers:y});return{data:{path:o,fullPath:m.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(lt(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,r){return xe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const o=yield xr(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),u=new URL(this.url+o.url),c=u.searchParams.get("token");if(!c)throw new ba("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:c},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}update(e,r,i){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,i)})}move(e,r,i){return xe(this,void 0,void 0,function*(){try{return{data:yield xr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}copy(e,r,i){return xe(this,void 0,void 0,function*(){try{return{data:{path:(yield xr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,i){return xe(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),o=yield xr(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${u}`)},{data:o,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,i){return xe(this,void 0,void 0,function*(){try{const a=yield xr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${o}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}download(e,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),u=o?`?${o}`:"",c=this._getFinalPath(e),d=()=>fa(this.fetch,`${this.url}/${a}/${c}${u}`,{headers:this.headers,noResolveJson:!0});return new LA(d,this.shouldThrowOnError)}info(e){return xe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const i=yield fa(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ld(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}exists(e){return xe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield IA(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i)&&i instanceof gl){const a=i.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,r){const i=this._getFinalPath(e),a=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&a.push(o);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});d!==""&&a.push(d);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${i}${p}`)}}}remove(e){return xe(this,void 0,void 0,function*(){try{return{data:yield Lh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}list(e,r,i){return xe(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},MA),r),{prefix:e||""});return{data:yield xr(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}listV2(e,r){return xe(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield xr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Ww="2.86.2",Gw={"X-Client-Info":`storage-js/${Ww}`};class UA{constructor(e,r={},i,a){this.shouldThrowOnError=!1;const o=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gw),r),this.fetch=Dh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return xe(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield fa(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}getBucket(e){return xe(this,void 0,void 0,function*(){try{return{data:yield fa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}createBucket(e){return xe(this,arguments,void 0,function*(r,i={public:!1}){try{return{data:yield xr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}updateBucket(e,r){return xe(this,void 0,void 0,function*(){try{return{data:yield Md(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}emptyBucket(e){return xe(this,void 0,void 0,function*(){try{return{data:yield xr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return xe(this,void 0,void 0,function*(){try{return{data:yield Lh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var pa=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function BA(t,e,r){const i=new URL(e,t);if(r)for(const[a,o]of Object.entries(r))o!==void 0&&i.searchParams.set(a,o);return i.toString()}async function FA(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function $A(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:a,body:o,headers:u}){const c=BA(t.baseUrl,i,a),d=await FA(t.auth),p=await e(c,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...d,...u},body:o?JSON.stringify(o):void 0}),y=await p.text(),m=(p.headers.get("content-type")||"").includes("application/json"),v=m&&y?JSON.parse(y):y;if(!p.ok){const b=m?v:void 0,x=b==null?void 0:b.error;throw new pa((x==null?void 0:x.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:b})}return{status:p.status,headers:p.headers,data:v}}}}function qo(t){return t.join("")}var VA=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:qo(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qo(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qo(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qo(t.namespace)}`}),!0}catch(e){if(e instanceof pa&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof pa&&r.status===409)return;throw r}}};function Ni(t){return t.join("")}var qA=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ni(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ni(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ni(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ni(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ni(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ni(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof pa&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof pa&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},KA=class{constructor(t){var i;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=$A({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(i=t.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new VA(this.client,e),this.tableOps=new qA(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class Hw{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gw),r),this.fetch=Dh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return xe(this,void 0,void 0,function*(){try{return{data:yield xr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}listBuckets(e){return xe(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const i=r.toString(),a=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield fa(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return xe(this,void 0,void 0,function*(){try{return{data:yield Lh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}from(e){if(!jA(e))throw new ba("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new KA({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>xe(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Mh={"X-Client-Info":`storage-js/${Ww}`,"Content-Type":"application/json"};class zh extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Qt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Zo extends zh{constructor(e,r,i){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Yw extends zh{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var zd;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(zd||(zd={}));const Dl=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),WA=()=>Response,Jw=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},GA=t=>Array.from(new Float32Array(t)),HA=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},Ay=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),YA=(t,e,r)=>xe(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const a=t.status||500,o=t;if(typeof o.json=="function")o.json().then(u=>{const c=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||a+"";e(new Zo(Ay(u),a,c))}).catch(()=>{const u=a+"",c=o.statusText||`HTTP ${a} error`;e(new Zo(c,a,u))});else{const u=a+"",c=o.statusText||`HTTP ${a} error`;e(new Zo(c,a,u))}}else e(new Yw(Ay(t),t))}),JA=(t,e,r,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return i?(Jw(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(i)):a.body=i,Object.assign(Object.assign({},a),r)):a};function QA(t,e,r,i,a,o){return xe(this,void 0,void 0,function*(){return new Promise((u,c)=>{t(r,JA(e,i,a,o)).then(d=>{if(!d.ok)throw d;if(i!=null&&i.noResolveJson)return d;const p=d.headers.get("content-type");return!p||!p.includes("application/json")?{}:d.json()}).then(d=>u(d)).catch(d=>YA(d,c,i))})})}function rr(t,e,r,i,a){return xe(this,void 0,void 0,function*(){return QA(t,"POST",e,i,a,r)})}class Qw{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mh),r),this.fetch=Dl(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return xe(this,void 0,void 0,function*(){try{return{data:(yield rr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}getIndex(e,r){return xe(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}})}listIndexes(e){return xe(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return xe(this,void 0,void 0,function*(){try{return{data:(yield rr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}})}}class Xw{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mh),r),this.fetch=Dl(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return xe(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield rr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}getVectors(e){return xe(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}listVectors(e){return xe(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield rr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}queryVectors(e){return xe(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}deleteVectors(e){return xe(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield rr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}}class Zw{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mh),r),this.fetch=Dl(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return xe(this,void 0,void 0,function*(){try{return{data:(yield rr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}getBucket(e){return xe(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}listBuckets(){return xe(this,arguments,void 0,function*(e={}){try{return{data:yield rr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return xe(this,void 0,void 0,function*(){try{return{data:(yield rr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}}class e_ extends Zw{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new t_(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return xe(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return xe(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return xe(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return xe(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class t_ extends Qw{constructor(e,r,i,a){super(e,r,a),this.vectorBucketName=i}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return xe(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return xe(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return xe(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return xe(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new r_(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class r_ extends Xw{constructor(e,r,i,a,o){super(e,r,o),this.vectorBucketName=i,this.indexName=a}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return xe(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return xe(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return xe(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return xe(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return xe(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class XA extends UA{constructor(e,r={},i,a){super(e,r,i,a)}from(e){return new zA(this.url,this.headers,e,this.fetch)}get vectors(){return new e_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Hw(this.url+"/iceberg",this.headers,this.fetch)}}const ZA=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Hw,StorageApiError:qw,StorageClient:XA,StorageError:ba,StorageUnknownError:gl,StorageVectorsApiError:Zo,StorageVectorsClient:e_,StorageVectorsError:zh,get StorageVectorsErrorCode(){return zd},StorageVectorsUnknownError:Yw,VectorBucketApi:Zw,VectorBucketScope:t_,VectorDataApi:Xw,VectorIndexApi:Qw,VectorIndexScope:r_,isPlainObject:Jw,isStorageError:lt,isStorageVectorsError:Qt,normalizeToFloat32:GA,resolveFetch:Dl,resolveResponse:WA,validateVectorDimension:HA},Symbol.toStringTag,{value:"Module"})),eP=ga(ZA);var Hc={},$s={},Py;function tP(){return Py||(Py=1,Object.defineProperty($s,"__esModule",{value:!0}),$s.version=void 0,$s.version="2.86.2"),$s}var Ry;function rP(){return Ry||(Ry=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=tP();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(Hc)),Hc}var Yc={},jy;function nP(){return jy||(jy=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=a=>a?(...o)=>a(...o):(...o)=>fetch(...o);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const i=(a,o,u)=>{const c=(0,t.resolveFetch)(u),d=(0,t.resolveHeadersConstructor)();return async(p,y)=>{var m;const v=(m=await o())!==null&&m!==void 0?m:a;let b=new d(y==null?void 0:y.headers);return b.has("apikey")||b.set("apikey",a),b.has("Authorization")||b.set("Authorization",`Bearer ${v}`),c(p,Object.assign(Object.assign({},y),{headers:b}))}};t.fetchWithAuth=i})(Yc)),Yc}var Yr={},Oy;function iP(){if(Oy)return Yr;Oy=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.isBrowser=void 0,Yr.uuid=t,Yr.ensureTrailingSlash=e,Yr.applySettingDefaults=i,Yr.validateSupabaseUrl=a;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var u=Math.random()*16|0,c=o=="x"?u:u&3|8;return c.toString(16)})}function e(o){return o.endsWith("/")?o:o+"/"}const r=()=>typeof window<"u";Yr.isBrowser=r;function i(o,u){var c,d;const{db:p,auth:y,realtime:m,global:v}=o,{db:b,auth:x,realtime:E,global:C}=u,R={db:Object.assign(Object.assign({},b),p),auth:Object.assign(Object.assign({},x),y),realtime:Object.assign(Object.assign({},E),m),storage:{},global:Object.assign(Object.assign(Object.assign({},C),v),{headers:Object.assign(Object.assign({},(c=C==null?void 0:C.headers)!==null&&c!==void 0?c:{}),(d=v==null?void 0:v.headers)!==null&&d!==void 0?d:{})}),accessToken:async()=>""};return o.accessToken?R.accessToken=o.accessToken:delete R.accessToken,R}function a(o){const u=o==null?void 0:o.trim();if(!u)throw new Error("supabaseUrl is required.");if(!u.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(u))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Yr}var Vs={};const n_="2.86.2",Mi=30*1e3,Ud=3,Jc=Ud*Mi,sP="http://localhost:9999",aP="supabase.auth.token",oP={"X-Client-Info":`gotrue-js/${n_}`},Bd="X-Supabase-Api-Version",i_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uP=600*1e3;let Qi=class extends Error{constructor(e,r,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}};function Re(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let s_=class extends Qi{constructor(e,r,i){super(e,r,i),this.name="AuthApiError",this.status=r,this.code=i}};function a_(t){return Re(t)&&t.name==="AuthApiError"}let Cn=class extends Qi{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},tn=class extends Qi{constructor(e,r,i,a){super(e,i,a),this.name=r,this.status=i}},Jt=class extends tn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function o_(t){return Re(t)&&t.name==="AuthSessionMissingError"}let Xn=class extends tn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Js=class extends tn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Qs=class extends tn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function l_(t){return Re(t)&&t.name==="AuthImplicitGrantRedirectError"}let Fd=class extends tn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},yl=class extends tn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function el(t){return Re(t)&&t.name==="AuthRetryableFetchError"}let $d=class extends tn{constructor(e,r,i){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}};function cP(t){return Re(t)&&t.name==="AuthWeakPasswordError"}let vl=class extends tn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const wl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ny=` 	
\r=`.split(""),dP=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ny.length;e+=1)t[Ny[e].charCodeAt(0)]=-2;for(let e=0;e<wl.length;e+=1)t[wl[e].charCodeAt(0)]=e;return t})();function Iy(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(wl[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(wl[i]),e.queuedBits-=6}}function u_(t,e,r){const i=dP[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Dy(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=u=>{pP(u,i,r)};for(let u=0;u<t.length;u+=1)u_(t.charCodeAt(u),a,o);return e.join("")}function hP(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function fP(t,e){for(let r=0;r<t.length;r+=1){let i=t.charCodeAt(r);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}hP(i,e)}}function pP(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ki(t){const e=[],r={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)u_(t.charCodeAt(a),r,i);return new Uint8Array(e)}function mP(t){const e=[];return fP(t,r=>e.push(r)),new Uint8Array(e)}function si(t){const e=[],r={queue:0,queuedBits:0},i=a=>{e.push(a)};return t.forEach(a=>Iy(a,r,i)),Iy(null,r,i),e.join("")}function gP(t){return Math.round(Date.now()/1e3)+t}function yP(){return Symbol("auth-callback")}const jt=()=>typeof window<"u"&&typeof document<"u",Hn={tested:!1,writable:!1},c_=()=>{if(!jt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hn.tested)return Hn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Hn.tested=!0,Hn.writable=!0}catch{Hn.tested=!0,Hn.writable=!1}return Hn.writable};function vP(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,o)=>{e[o]=a})}catch{}return r.searchParams.forEach((i,a)=>{e[a]=i}),e}const d_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),wP=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",zi=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Yn=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Rt=async(t,e)=>{await t.removeItem(e)};class Ll{constructor(){this.promise=new Ll.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ll.promiseConstructor=Promise;function Qc(t){const e=t.split(".");if(e.length!==3)throw new vl("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!lP.test(e[i]))throw new vl("JWT not in base64url format");return{header:JSON.parse(Dy(e[0])),payload:JSON.parse(Dy(e[1])),signature:Ki(e[2]),raw:{header:e[0],payload:e[1]}}}async function _P(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function bP(t,e){return new Promise((i,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await t(o);if(!e(o,null,u)){i(u);return}}catch(u){if(!e(o,u)){a(u);return}}})()})}function xP(t){return("0"+t.toString(16)).substr(-2)}function SP(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let a="";for(let o=0;o<56;o++)a+=r.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,xP).join("")}async function kP(t){const r=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(i);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function EP(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await kP(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ii(t,e,r=!1){const i=SP();let a=i;r&&(a+="/PASSWORD_RECOVERY"),await zi(t,`${e}-code-verifier`,a);const o=await EP(i);return[o,i===o?"plain":"s256"]}const CP=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function TP(t){const e=t.headers.get(Bd);if(!e||!e.match(CP))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function AP(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function PP(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const RP=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Di(t){if(!RP.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xc(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jP(t,e){return new Proxy(t,{get:(r,i,a)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,a)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,i,a)}})}function Ly(t){return JSON.parse(JSON.stringify(t))}const Zn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),OP=[502,503,504];async function My(t){var e;if(!wP(t))throw new yl(Zn(t),0);if(OP.includes(t.status))throw new yl(Zn(t),t.status);let r;try{r=await t.json()}catch(o){throw new Cn(Zn(o),o)}let i;const a=TP(t);if(a&&a.getTime()>=i_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new $d(Zn(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Jt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0))throw new $d(Zn(r),t.status,r.weak_password.reasons);throw new s_(Zn(r),t.status||500,i)}const NP=(t,e,r,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),r))};async function De(t,e,r,i){var a;const o=Object.assign({},i==null?void 0:i.headers);o[Bd]||(o[Bd]=i_["2024-01-01"].name),i!=null&&i.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const u=(a=i==null?void 0:i.query)!==null&&a!==void 0?a:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const c=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",d=await IP(t,e,r+c,{headers:o,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(d):{data:Object.assign({},d),error:null}}async function IP(t,e,r,i,a,o){const u=NP(e,i,a,o);let c;try{c=await t(r,Object.assign({},u))}catch(d){throw console.error(d),new yl(Zn(d),0)}if(c.ok||await My(c),i!=null&&i.noResolveJson)return c;try{return await c.json()}catch(d){await My(d)}}function _r(t){var e;let r=null;MP(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=gP(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:i},error:null}}function zy(t){const e=_r(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Tn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function DP(t){return{data:t,error:null}}function LP(t){const{action_link:e,email_otp:r,hashed_token:i,redirect_to:a,verification_type:o}=t,u=rs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:r,hashed_token:i,redirect_to:a,verification_type:o},d=Object.assign({},u);return{data:{properties:c,user:d},error:null}}function Uy(t){return t}function MP(t){return t.access_token&&t.refresh_token&&t.expires_in}const tl=["global","local","others"];let Uh=class{constructor({url:e="",headers:r={},fetch:i}){this.url=e,this.headers=r,this.fetch=d_(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=tl[0]){if(tl.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${tl.join(", ")}`);try{return await De(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Re(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,r={}){try{return await De(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Tn})}catch(i){if(Re(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:r}=e,i=rs(e,["options"]),a=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(a.new_email=i==null?void 0:i.newEmail,delete a.newEmail),await De(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:LP,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Re(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await De(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Tn})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,i,a,o,u,c,d;try{const p={nextPage:null,lastPage:0,total:0},y=await De(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Uy});if(y.error)throw y.error;const m=await y.json(),v=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(d=(c=y.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(x=>{const E=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(x.split(";")[1].split("=")[1]);p[`${C}Page`]=E}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},m),p),error:null}}catch(p){if(Re(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Di(e);try{return await De(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Tn})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Di(e);try{return await De(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Tn})}catch(i){if(Re(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,r=!1){Di(e);try{return await De(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Tn})}catch(i){if(Re(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Di(e.userId);try{const{data:r,error:i}=await De(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:i}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Di(e.userId),Di(e.id);try{return{data:await De(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,i,a,o,u,c,d;try{const p={nextPage:null,lastPage:0,total:0},y=await De(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Uy});if(y.error)throw y.error;const m=await y.json(),v=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(d=(c=y.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(x=>{const E=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(x.split(";")[1].split("=")[1]);p[`${C}Page`]=E}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},m),p),error:null}}catch(p){if(Re(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await De(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await De(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Re(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await De(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}};function By(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ei={debug:!!(globalThis&&c_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Bh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let h_=class extends Bh{};class zP extends Bh{}async function f_(t,e,r){ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),ei.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new h_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ei.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const Fy={};async function UP(t,e,r){var i;const a=(i=Fy[t])!==null&&i!==void 0?i:Promise.resolve(),o=Promise.race([a.catch(()=>null),e>=0?new Promise((u,c)=>{setTimeout(()=>{c(new zP(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(u=>u)).catch(u=>{if(u&&u.isAcquireTimeout)throw u;return null}).then(async()=>await r());return Fy[t]=o.catch(async u=>{if(u&&u.isAcquireTimeout)return await a,null;throw u}),await o}function BP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function p_(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function FP(t){return parseInt(t,16)}function $P(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function VP(t){var e;const{chainId:r,domain:i,expirationTime:a,issuedAt:o=new Date,nonce:u,notBefore:c,requestId:d,resources:p,scheme:y,uri:m,version:v}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=p_(t.address),x=y?`${y}://${i}`:i,E=t.statement?`${t.statement}
`:"",C=`${x} wants you to sign in with your Ethereum account:
${b}

${E}`;let R=`URI: ${m}
Version: ${v}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${o.toISOString()}`;if(a&&(R+=`
Expiration Time: ${a.toISOString()}`),c&&(R+=`
Not Before: ${c.toISOString()}`),d&&(R+=`
Request ID: ${d}`),p){let I=`
Resources:`;for(const k of p){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);I+=`
- ${k}`}R+=I}return`${C}
${R}`}class xt extends Error{constructor({message:e,code:r,cause:i,name:a}){var o;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(o=a??(i instanceof Error?i.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class _l extends xt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function qP({error:t,options:e}){var r,i,a;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new xt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new xt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new xt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new xt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new xt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new xt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new xt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new xt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(m_(u)){if(o.rp.id!==u)return new xt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new xt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new xt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function KP({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new xt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new xt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(m_(i)){if(r.rpId!==i)return new xt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new xt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class WP{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const GP=new WP;function HP(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:i}=t,a=rs(t,["challenge","user","excludeCredentials"]),o=Ki(e).buffer,u=Object.assign(Object.assign({},r),{id:Ki(r.id).buffer}),c=Object.assign(Object.assign({},a),{challenge:o,user:u});if(i&&i.length>0){c.excludeCredentials=new Array(i.length);for(let d=0;d<i.length;d++){const p=i[d];c.excludeCredentials[d]=Object.assign(Object.assign({},p),{id:Ki(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function YP(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,i=rs(t,["challenge","allowCredentials"]),a=Ki(e).buffer,o=Object.assign(Object.assign({},i),{challenge:a});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const c=r[u];o.allowCredentials[u]=Object.assign(Object.assign({},c),{id:Ki(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function JP(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:si(new Uint8Array(t.response.attestationObject)),clientDataJSON:si(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function QP(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,i=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:si(new Uint8Array(a.authenticatorData)),clientDataJSON:si(new Uint8Array(a.clientDataJSON)),signature:si(new Uint8Array(a.signature)),userHandle:a.userHandle?si(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function m_(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function $y(){var t,e;return!!(jt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function XP(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new _l("Browser returned unexpected credential type",e)}:{data:null,error:new _l("Empty credential response",e)}}catch(e){return{data:null,error:qP({error:e,options:t})}}}async function ZP(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new _l("Browser returned unexpected credential type",e)}:{data:null,error:new _l("Empty credential response",e)}}catch(e){return{data:null,error:KP({error:e,options:t})}}}const eR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},tR={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function bl(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of t)if(a)for(const o in a){const u=a[o];if(u!==void 0)if(Array.isArray(u))i[o]=u;else if(r(u))i[o]=u;else if(e(u)){const c=i[o];e(c)?i[o]=bl(c,u):i[o]=bl(u)}else i[o]=u}return i}function rR(t,e){return bl(eR,t,e||{})}function nR(t,e){return bl(tR,t,e||{})}class iR{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:i,signal:a},o){try{const{data:u,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:c};const d=a??GP.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${i}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=rR(u.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:y,error:m}=await XP({publicKey:p,signal:d});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:m}}case"request":{const p=nR(u.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:y,error:m}=await ZP(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:d}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:m}}}}catch(u){return Re(u)?{data:null,error:u}:{data:null,error:new Cn("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!r)return{data:null,error:new Qi("rpId is required for WebAuthn authentication")};try{if(!$y())return{data:null,error:new Cn("Browser does not support WebAuthn",null)};const{data:u,error:c}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:i},signal:a},{request:o});if(!u)return{data:null,error:c};const{webauthn:d}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:i,credential_response:d.credential_response}})}catch(u){return Re(u)?{data:null,error:u}:{data:null,error:new Cn("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!r)return{data:null,error:new Qi("rpId is required for WebAuthn registration")};try{if(!$y())return{data:null,error:new Cn("Browser does not support WebAuthn",null)};const{data:u,error:c}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var m;return(m=y.data)===null||m===void 0?void 0:m.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:c};const{data:d,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:a},{create:o});return d?this._verify({factorId:u.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:i,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:p}}catch(u){return Re(u)?{data:null,error:u}:{data:null,error:new Cn("Unexpected error in register",u)}}}}BP();const sR={url:sP,storageKey:aP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Vy(t,e,r){return await r()}const Li={};let Fh=class Vd{get jwks(){var e,r;return(r=(e=Li[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Li[this.storageKey]=Object.assign(Object.assign({},Li[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Li[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Li[this.storageKey]=Object.assign(Object.assign({},Li[this.storageKey]),{cachedAt:e})}constructor(e){var r,i,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},sR),e);if(this.storageKey=o.storageKey,this.instanceID=(r=Vd.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Vd.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&jt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Uh({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=d_(o.fetch),this.lock=o.lock||Vy,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:jt()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=f_:this.lock=Vy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new iR(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:c_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=By(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=By(this.memoryStorage)),jt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${n_}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},i="none";if(jt()&&(r=vP(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),jt()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:o}=await this._getSessionFromURL(r,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),l_(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:u,redirectType:c}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",c),await this._saveSession(u),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Re(r)?this._returnResult({error:r}):this._returnResult({error:new Cn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,i,a;try{const o=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:_r}),{data:u,error:c}=o;if(c||!u)return this._returnResult({data:{user:null,session:null},error:c});const d=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(o){if(Re(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,i,a;try{let o;if("email"in e){const{email:y,password:m,options:v}=e;let b=null,x=null;this.flowType==="pkce"&&([b,x]=await Ii(this.storage,this.storageKey)),o=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:y,password:m,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:b,code_challenge_method:x},xform:_r})}else if("phone"in e){const{phone:y,password:m,options:v}=e;o=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:m,data:(i=v==null?void 0:v.data)!==null&&i!==void 0?i:{},channel:(a=v==null?void 0:v.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:_r})}else throw new Js("You must provide either an email or phone number and a password");const{data:u,error:c}=o;if(c||!u)return await Rt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(o){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),Re(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:u,options:c}=e;r=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:zy})}else if("phone"in e){const{phone:o,password:u,options:c}=e;r=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:zy})}else throw new Js("You must provide either an email or phone number and a password");const{data:i,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!i||!i.session||!i.user){const o=new Xn;return this._returnResult({data:{user:null,session:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(r){if(Re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,i,a,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,i,a,o,u,c,d,p,y,m,v;let b,x;if("message"in e)b=e.message,x=e.signature;else{const{chain:E,wallet:C,statement:R,options:I}=e;let k;if(jt())if(typeof C=="object")k=C;else{const J=window;if("ethereum"in J&&typeof J.ethereum=="object"&&"request"in J.ethereum&&typeof J.ethereum.request=="function")k=J.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=C}const P=new URL((r=I==null?void 0:I.url)!==null&&r!==void 0?r:window.location.href),j=await k.request({method:"eth_requestAccounts"}).then(J=>J).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=p_(j[0]);let O=(i=I==null?void 0:I.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!O){const J=await k.request({method:"eth_chainId"});O=FP(J)}const L={domain:P.host,address:D,statement:R,uri:P.href,version:"1",chainId:O,nonce:(a=I==null?void 0:I.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(o=I==null?void 0:I.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(c=I==null?void 0:I.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=I==null?void 0:I.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(p=I==null?void 0:I.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=I==null?void 0:I.signInWithEthereum)===null||y===void 0?void 0:y.resources};b=VP(L),x=await k.request({method:"personal_sign",params:[$P(b),D]})}try{const{data:E,error:C}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:x},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:_r});if(C)throw C;if(!E||!E.session||!E.user){const R=new Xn;return this._returnResult({data:{user:null,session:null},error:R})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:C})}catch(E){if(Re(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var r,i,a,o,u,c,d,p,y,m,v,b;let x,E;if("message"in e)x=e.message,E=e.signature;else{const{chain:C,wallet:R,statement:I,options:k}=e;let P;if(jt())if(typeof R=="object")P=R;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))P=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=R}const j=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const D=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),I?{statement:I}:null));let O;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")O=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)O=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)x=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),E=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${j.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(i=k==null?void 0:k.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=k==null?void 0:k.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((c=k==null?void 0:k.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((d=k==null?void 0:k.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((p=k==null?void 0:k.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((m=(y=k==null?void 0:k.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||m===void 0)&&m.length?["Resources",...k.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const D=await P.signMessage(new TextEncoder().encode(x),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=D}}try{const{data:C,error:R}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:si(E)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:_r});if(R)throw R;if(!C||!C.session||!C.user){const I=new Xn;return this._returnResult({data:{user:null,session:null},error:I})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:R})}catch(C){if(Re(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const r=await Yn(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(r??"").split("/");try{const{data:o,error:u}=await De(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:_r});if(await Rt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!o||!o.session||!o.user){const c=new Xn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:u})}catch(o){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),Re(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:i,token:a,access_token:o,nonce:u}=e,c=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:_r}),{data:d,error:p}=c;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!d||!d.session||!d.user){const y=new Xn;return this._returnResult({data:{user:null,session:null},error:y})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:p})}catch(r){if(Re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,i,a,o,u;try{if("email"in e){const{email:c,options:d}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Ii(this.storage,this.storageKey));const{error:m}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(i=d==null?void 0:d.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:c,options:d}=e,{data:p,error:y}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(a=d==null?void 0:d.data)!==null&&a!==void 0?a:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(u=d==null?void 0:d.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:y})}throw new Js("You must provide either an email or phone number.")}catch(c){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),Re(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var r,i;try{let a,o;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:c}=await De(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:_r});if(c)throw c;if(!u)throw new Error("An error occurred on token verification.");const d=u.session,p=u.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(a){if(Re(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var r,i,a,o,u;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Ii(this.storage,this.storageKey));const p=await De(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:DP});return!((o=p.data)===null||o===void 0)&&o.url&&jt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(c){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),Re(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new Jt;const{error:a}=await De(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(Re(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:o}=e,{error:u}=await De(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:i,type:a,options:o}=e,{data:u,error:c}=await De(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Js("You must provide either an email or phone number and a type")}catch(r){if(Re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Yn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Jc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await Yn(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=Xc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=jP(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Tn}):await this._useSession(async r=>{var i,a,o;const{data:u,error:c}=r;if(c)throw c;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jt}:await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:Tn})})}catch(r){if(Re(r))return o_(r)&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{const{data:a,error:o}=i;if(o)throw o;if(!a.session)throw new Jt;const u=a.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await Ii(this.storage,this.storageKey));const{data:p,error:y}=await De(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:u.access_token,xform:Tn});if(y)throw y;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(i){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),Re(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Jt;const r=Date.now()/1e3;let i=r,a=!0,o=null;const{payload:u}=Qc(e.access_token);if(u.exp&&(i=u.exp,a=i<=r),a){const{data:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)throw d;o={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(Re(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){const{data:u,error:c}=r;if(c)throw c;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new Jt;const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!jt())throw new Qs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Qs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Fd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Fd("No code detected.");const{data:I,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:o,refresh_token:u,expires_in:c,expires_at:d,token_type:p}=e;if(!o||!c||!u||!p)throw new Qs("No session defined in URL");const y=Math.round(Date.now()/1e3),m=parseInt(c);let v=y+m;d&&(v=parseInt(d));const b=v-y;b*1e3<=Mi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${m}s`);const x=v-m;y-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,v,y):y-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,v,y);const{data:E,error:C}=await this._getUser(o);if(C)throw C;const R={provider_token:i,provider_refresh_token:a,access_token:o,expires_in:m,expires_at:v,refresh_token:u,token_type:p,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:R,redirectType:e.type},error:null})}catch(i){if(Re(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Yn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:a,error:o}=r;if(o)return this._returnResult({error:o});const u=(i=a.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:c}=await this.admin.signOut(u,e);if(c&&!(a_(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=yP(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,a;try{const{data:{session:o},error:u}=r;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await Ii(this.storage,this.storageKey,!0));try{return await De(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),Re(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:i,error:a}=await this._useSession(async o=>{var u,c,d,p,y;const{data:m,error:v}=o;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await De(this.fetch,"GET",b,{headers:this.headers,jwt:(y=(p=m.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return jt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(Re(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var i;try{const{error:a,data:{session:o}}=r;if(a)throw a;const{options:u,provider:c,token:d,access_token:p,nonce:y}=e,m=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=o==null?void 0:o.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:d,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:_r}),{data:v,error:b}=m;return b?this._returnResult({data:{user:null,session:null},error:b}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Xn}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:b}))}catch(a){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),Re(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,a;const{data:o,error:u}=r;if(u)throw u;return await De(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await bP(async a=>(a>0&&await _P(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await De(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_r})),(a,o)=>{const u=200*Math.pow(2,a);return o&&el(o)&&Date.now()+u-i<Mi})}catch(i){if(this._debug(r,"error",i),Re(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),jt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await Yn(this.storage,this.storageKey);if(a&&this.userStorage){let u=await Yn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await zi(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:Xc()}else if(a&&!a.user&&!a.user){const u=await Yn(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(a.user=u.user,await Rt(this.storage,this.storageKey+"-user"),await zi(this.storage,this.storageKey,a)):a.user=Xc()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const o=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Jc;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${Jc}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),el(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:c}=await this._getUser(a.access_token);!c&&(u!=null&&u.user)?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new Jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ll;const{data:o,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!o.session)throw new Jt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(a,"error",o),Re(o)){const u={data:null,error:o};return el(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,r)}catch(d){o.push(d)}});if(await Promise.all(u),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Rt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await zi(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const o=Ly(a);await zi(this.storage,this.storageKey,o)}else{const a=Ly(r);await zi(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Rt(this.storage,this.storageKey),await Rt(this.storage,this.storageKey+"-code-verifier"),await Rt(this.storage,this.storageKey+"-user"),this.userStorage&&await Rt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&jt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Mi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/Mi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Mi}ms, refresh threshold is ${Ud} ticks`),a<=Ud&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Bh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){const a=[`provider=${encodeURIComponent(r)}`];if(i!=null&&i.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,u]=await Ii(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(c.toString())}if(i!=null&&i.queryParams){const o=new URLSearchParams(i.queryParams);a.push(o.toString())}return i!=null&&i.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;const{data:a,error:o}=r;return o?this._returnResult({data:null,error:o}):await De(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,a;const{data:o,error:u}=r;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:p}=await De(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&d.type==="totp"&&(!((a=d==null?void 0:d.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?JP(e.webauthn.credential_response):QP(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:d}=await De(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const u=await De(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:c}=u;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:HP(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:YP(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])a.all.push(o),o.status==="verified"&&a[o.factor_type].push(o);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Qc(i.access_token);let u=null;o.aal&&(u=o.aal);let c=u;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const p=o.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;return a?this._returnResult({data:null,error:a}):i?await De(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Jt})})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:a},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new Jt});const u=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&jt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(Re(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:a},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new Jt});const u=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&jt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(Re(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;return i?this._returnResult({data:null,error:i}):r?await De(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Jt})})}catch(e){if(Re(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;return a?this._returnResult({data:null,error:a}):i?(await De(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Jt})})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let i=r.keys.find(c=>c.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(c=>c.kid===e),i&&this.jwks_cached_at+uP>a)return i;const{data:o,error:u}=await De(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,i=o.keys.find(c=>c.kid===e),!i)?null:i}async getClaims(e,r={}){try{let i=e;if(!i){const{data:b,error:x}=await this.getSession();if(x||!b.session)return this._returnResult({data:null,error:x});i=b.session.access_token}const{header:a,payload:o,signature:u,raw:{header:c,payload:d}}=Qc(i);r!=null&&r.allowExpired||AP(o.exp);const p=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!p){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:o,header:a,signature:u},error:null}}const y=PP(a.alg),m=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,m,u,mP(`${c}.${d}`)))throw new vl("Invalid JWT signature");return{data:{claims:o,header:a,signature:u},error:null}}catch(i){if(Re(i))return this._returnResult({data:null,error:i});throw i}}};Fh.nextInstanceID={};const aR=Uh,oR=Fh,lR=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:aR,AuthApiError:s_,AuthClient:oR,AuthError:Qi,AuthImplicitGrantRedirectError:Qs,AuthInvalidCredentialsError:Js,AuthInvalidJwtError:vl,AuthInvalidTokenResponseError:Xn,AuthPKCEGrantCodeExchangeError:Fd,AuthRetryableFetchError:yl,AuthSessionMissingError:Jt,AuthUnknownError:Cn,AuthWeakPasswordError:$d,CustomAuthError:tn,GoTrueAdminApi:Uh,GoTrueClient:Fh,NavigatorLockAcquireTimeoutError:h_,SIGN_OUT_SCOPES:tl,isAuthApiError:a_,isAuthError:Re,isAuthImplicitGrantRedirectError:l_,isAuthRetryableFetchError:el,isAuthSessionMissingError:o_,isAuthWeakPasswordError:cP,lockInternals:ei,navigatorLock:f_,processLock:UP},Symbol.toStringTag,{value:"Module"})),g_=ga(lR);var qy;function uR(){if(qy)return Vs;qy=1,Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.SupabaseAuthClient=void 0;const t=g_;let e=class extends t.AuthClient{constructor(i){super(i)}};return Vs.SupabaseAuthClient=e,Vs}var Ky;function Wy(){if(Ky)return Lo;Ky=1,Object.defineProperty(Lo,"__esModule",{value:!0});const t=Aw,e=Iw(),r=Vw,i=eP,a=rP(),o=nP(),u=iP(),c=uR();class d{constructor(y,m,v){var b,x,E;this.supabaseUrl=y,this.supabaseKey=m;const C=(0,u.validateSupabaseUrl)(y);if(!m)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",C),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",C),this.storageUrl=new URL("storage/v1",C),this.functionsUrl=new URL("functions/v1",C);const R=`sb-${C.hostname.split(".")[0]}-auth-token`,I={db:a.DEFAULT_DB_OPTIONS,realtime:a.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},a.DEFAULT_AUTH_OPTIONS),{storageKey:R}),global:a.DEFAULT_GLOBAL_OPTIONS},k=(0,u.applySettingDefaults)(v??{},I);this.storageKey=(b=k.auth.storageKey)!==null&&b!==void 0?b:"",this.headers=(x=k.global.headers)!==null&&x!==void 0?x:{},k.accessToken?(this.accessToken=k.accessToken,this.auth=new Proxy({},{get:(P,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((E=k.auth)!==null&&E!==void 0?E:{},this.headers,k.global.fetch),this.fetch=(0,o.fetchWithAuth)(m,this._getAccessToken.bind(this),k.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},k.realtime)),this.accessToken&&this.accessToken().then(P=>this.realtime.setAuth(P)).catch(P=>console.warn("Failed to set initial Realtime auth token:",P)),this.rest=new e.PostgrestClient(new URL("rest/v1",C).href,{headers:this.headers,schema:k.db.schema,fetch:this.fetch}),this.storage=new i.StorageClient(this.storageUrl.href,this.headers,this.fetch,v==null?void 0:v.storage),k.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(y){return this.rest.from(y)}schema(y){return this.rest.schema(y)}rpc(y,m={},v={head:!1,get:!1,count:void 0}){return this.rest.rpc(y,m,v)}channel(y,m={config:{}}){return this.realtime.channel(y,m)}getChannels(){return this.realtime.getChannels()}removeChannel(y){return this.realtime.removeChannel(y)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var y,m;if(this.accessToken)return await this.accessToken();const{data:v}=await this.auth.getSession();return(m=(y=v.session)===null||y===void 0?void 0:y.access_token)!==null&&m!==void 0?m:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:y,persistSession:m,detectSessionInUrl:v,storage:b,userStorage:x,storageKey:E,flowType:C,lock:R,debug:I,throwOnError:k},P,j){const D={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},D),P),storageKey:E,autoRefreshToken:y,persistSession:m,detectSessionInUrl:v,storage:b,userStorage:x,flowType:C,lock:R,debug:I,throwOnError:k,fetch:j,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(y){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},y),{params:Object.assign({apikey:this.supabaseKey},y==null?void 0:y.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((m,v)=>{this._handleTokenChanged(m,"CLIENT",v==null?void 0:v.access_token)})}_handleTokenChanged(y,m,v){(y==="TOKEN_REFRESHED"||y==="SIGNED_IN")&&this.changedAccessToken!==v?(this.changedAccessToken=v,this.realtime.setAuth(v)):y==="SIGNED_OUT"&&(this.realtime.setAuth(),m=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Lo.default=d,Lo}var Gy;function cR(){return Gy||(Gy=1,(function(t){var e=Hr&&Hr.__createBinding||(Object.create?(function(y,m,v,b){b===void 0&&(b=v);var x=Object.getOwnPropertyDescriptor(m,v);(!x||("get"in x?!m.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return m[v]}}),Object.defineProperty(y,b,x)}):(function(y,m,v,b){b===void 0&&(b=v),y[b]=m[v]})),r=Hr&&Hr.__exportStar||function(y,m){for(var v in y)v!=="default"&&!Object.prototype.hasOwnProperty.call(m,v)&&e(m,y,v)},i=Hr&&Hr.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const a=i(Wy());r(g_,t);var o=Iw();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return o.PostgrestError}});var u=Aw;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return u.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return u.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return u.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return u.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return u.FunctionRegion}}),r(Vw,t);var c=Wy();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return i(c).default}});const d=(y,m,v)=>new a.default(y,m,v);t.createClient=d;function p(){if(typeof window<"u"||typeof process>"u")return!1;const y=process.version;if(y==null)return!1;const m=y.match(/^v(\d+)\./);return m?parseInt(m[1],10)<=18:!1}p()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Hr)),Hr}var y_=cR();const v_=kl(y_),dR=ov({__proto__:null,default:v_},[y_]),{PostgrestError:f2,FunctionsHttpError:p2,FunctionsFetchError:m2,FunctionsRelayError:g2,FunctionsError:y2,FunctionRegion:v2,SupabaseClient:w2,createClient:hR,GoTrueAdminApi:_2,GoTrueClient:b2,AuthAdminApi:x2,AuthClient:S2,navigatorLock:k2,NavigatorLockAcquireTimeoutError:E2,lockInternals:C2,processLock:T2,SIGN_OUT_SCOPES:A2,AuthError:P2,AuthApiError:R2,AuthUnknownError:j2,CustomAuthError:O2,AuthSessionMissingError:N2,AuthInvalidTokenResponseError:I2,AuthInvalidCredentialsError:D2,AuthImplicitGrantRedirectError:L2,AuthPKCEGrantCodeExchangeError:M2,AuthRetryableFetchError:z2,AuthWeakPasswordError:U2,AuthInvalidJwtError:B2,isAuthError:F2,isAuthApiError:$2,isAuthSessionMissingError:V2,isAuthImplicitGrantRedirectError:q2,isAuthRetryableFetchError:K2,isAuthWeakPasswordError:W2,RealtimePresence:G2,RealtimeChannel:H2,RealtimeClient:Y2,REALTIME_LISTEN_TYPES:J2,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Q2,REALTIME_PRESENCE_LISTEN_EVENTS:X2,REALTIME_SUBSCRIBE_STATES:Z2,REALTIME_CHANNEL_STATES:eO}=v_||dR,Wi={},w_=(Wi==null?void 0:Wi.VITE_SUPABASE_URL)||"https://uwslxmciglqxpvfbgjzm.supabase.co",__=(Wi==null?void 0:Wi.VITE_SUPABASE_ANON_KEY)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV3c2x4bWNpZ2xxeHB2ZmJnanptIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQzMzU3NDcsImV4cCI6MjA3OTkxMTc0N30.Pzk2Zrp08-f93VoApIj6QjWx_9nEQSkZFRU_t1UX_ow",Zc=w_,Hy=__,K=hR(w_,__,{auth:{autoRefreshToken:!1,persistSession:!1,detectSessionInUrl:!1,storage:void 0,flowType:"pkce"},realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Client-Info":"yolmov-web"}}});function $h(){if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")try{return crypto.randomUUID()}catch{}if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"){const t=new Uint8Array(16);crypto.getRandomValues(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128;const e=Array.from(t,r=>r.toString(16).padStart(2,"0")).join("");return`${e.slice(0,8)}-${e.slice(8,12)}-${e.slice(12,16)}-${e.slice(16,20)}-${e.slice(20)}`}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}const ne=(t,e)=>{throw console.error(`[Supabase API Error] ${e}:`,t),new Error(`${e} failed: ${t.message||"Unknown error"}`)},Xe=async()=>{try{const t=localStorage.getItem("yolmov-auth-session"),e=localStorage.getItem("yolmov_admin"),r=localStorage.getItem("yolmov_partner");if(!t&&!e&&!r)return!1;const i=t?JSON.parse(t):null;return e||r?!0:!(i!=null&&i.access_token)||!(i!=null&&i.refresh_token)?(localStorage.removeItem("yolmov-auth-session"),!1):i.expires_at&&new Date(i.expires_at*1e3)<=new Date?(console.log(" Session expired in ensureAuthSession, clearing..."),localStorage.removeItem("yolmov-auth-session"),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"session-expired"}})),!1):(await K.auth.setSession({access_token:i.access_token,refresh_token:i.refresh_token}),!0)}catch(t){return console.warn("ensureAuthSession failed",t),localStorage.removeItem("yolmov-auth-session"),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"session-error"}})),!1}},Vh={signUpCustomer:async(t,e,r)=>{try{if(!r.phone||r.phone.length<10)throw new Error("Telefon numaras gerekli (minimum 10 karakter)");const{data:i,error:a}=await K.auth.signUp({email:t,password:e,options:{emailRedirectTo:`${window.location.origin}/email-dogrulama`,data:{user_type:"customer",first_name:r.firstName,last_name:r.lastName}}});if(a)throw a;if(!i.user)throw new Error("Kullanc oluturulamad");const o={id:i.user.id,first_name:r.firstName||"",last_name:r.lastName||"",phone:r.phone,email:t,avatar_url:r.avatarUrl||null,city:r.city||null,district:r.district||null},{data:u,error:c}=await K.from("customers").insert(o).select().single();if(c){if(console.error(" Customer insert failed, rolling back auth user:",c),await K.auth.admin.deleteUser(i.user.id).catch(()=>{}),c.code==="23505"){if(c.message.includes("phone"))throw new Error("Bu telefon numaras zaten kaytl");if(c.message.includes("email"))throw new Error("Bu email adresi zaten kaytl")}throw c}const d={id:u.id,firstName:u.first_name,lastName:u.last_name,phone:u.phone,email:u.email||void 0,avatarUrl:u.avatar_url||void 0,city:u.city||void 0,district:u.district||void 0,createdAt:u.created_at};return{user:i.user,customer:d,session:i.session}}catch(i){throw ne(i,"Customer Sign Up"),i}},signUpPartner:async(t,e,r)=>{try{if(!t||!e)throw new Error("Email ve ifre gereklidir");const{data:i,error:a}=await K.auth.signUp({email:t,password:e,options:{emailRedirectTo:`${window.location.origin}/email-dogrulama`,data:{user_type:"partner",first_name:r.first_name,last_name:r.last_name}}});if(a)throw a;if(!i.user)throw new Error("Auth kullancs oluturulamad");const o={id:i.user.id,name:r.company_name||r.name||"",first_name:r.first_name||"",last_name:r.last_name||"",company_name:r.company_name||"",tax_number:r.tax_number||null,sector:r.sector||null,city:r.city||null,district:r.district||null,phone:r.phone||null,email:t,vehicle_count:r.vehicle_count||0,vehicle_types:r.vehicle_types||null,service_types:r.service_types||null,commercial_registry_url:r.commercial_registry_url||null,vehicle_license_url:r.vehicle_license_url||null,status:"pending",rating:0,completed_jobs:0,credits:0},{data:u,error:c}=await K.from("partners").insert(o).select().single();if(c)throw c;return{user:i.user,partner:u}}catch(i){throw console.error(" signUpPartner error:",i),new Error(i.message||"Partner kayd baarsz")}},signInPartner:async(t,e)=>{var r;try{if(!t||!e)throw new Error("Email ve ifre gereklidir");const{data:i,error:a}=await K.auth.signInWithPassword({email:t,password:e});if(a)throw a;const o=(r=i.user)==null?void 0:r.id;if(!o)throw new Error("Kullanc bulunamad");const{data:u,error:c}=await K.from("partners").select("*").eq("id",o).maybeSingle();if(c)throw c;if(!u)throw new Error("Partner kayd bulunamad");return u.status!=="active"?{user:i.user,session:i.session,partner:u,approved:!1}:{user:i.user,session:i.session,partner:u,approved:!0}}catch(i){throw console.error(" signInPartner error:",i),new Error(i.message||"Partner girii baarsz")}},sendMagicLinkPartner:async t=>{try{if(!t)throw new Error("Email gerekli");const{data:e,error:r}=await K.auth.signInWithOtp({email:t,options:{emailRedirectTo:`${window.location.origin}/partner`,data:{user_type:"partner"}}});if(r)throw r;return e}catch(e){throw console.error(" Partner magic link error:",e),new Error(e.message||"Sihirli link gnderilemedi")}},sendPartnerActivationEmail:async t=>{try{if(!t)throw new Error("Email gerekli");const{data:e,error:r}=await K.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/sifre-olustur`});if(r)throw r;return e}catch(e){throw console.error(" Partner activation email error:",e),new Error(e.message||"Aktivasyon maili gnderilemedi")}},signIn:async(t,e)=>{var r,i,a;try{console.log(" signIn started for:",t);const o=`${Zc}/auth/v1/token?grant_type=password`,u=Hy;console.log(" Using RAW FETCH to Supabase auth...");const c=Date.now(),d=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",apikey:u,Authorization:`Bearer ${u}`},body:JSON.stringify({email:t,password:e})}),p=Date.now()-c;if(console.log(" Auth response received in",`${p}ms`),!d.ok){const x=await d.json();throw console.error(" Auth failed:",x),(r=x.error_description)!=null&&r.includes("Invalid login credentials")?new Error("Email veya ifre hatal"):(i=x.error_description)!=null&&i.includes("Email not confirmed")?new Error("Email adresinizi dorulamanz gerekiyor. Ltfen mail kutunuzu kontrol edin."):new Error(x.error_description||"Giri baarsz")}const y=await d.json();if(console.log(" Auth successful:",{hasAccessToken:!!y.access_token,hasUser:!!y.user,userId:(a=y.user)==null?void 0:a.id}),!y.user)throw new Error("Kullanc bilgisi alnamad");const m={access_token:y.access_token,refresh_token:y.refresh_token,expires_in:y.expires_in,expires_at:y.expires_at,user:y.user};localStorage.setItem("yolmov-auth-session",JSON.stringify(m)),console.log(" Session saved to localStorage"),await K.auth.setSession({access_token:y.access_token,refresh_token:y.refresh_token}),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"login",session:m}})),console.log(" Checking customer record...");const b=await(await fetch(`${Zc}/rest/v1/customers?id=eq.${y.user.id}&select=id`,{headers:{apikey:u,Authorization:`Bearer ${y.access_token}`}})).json();if(console.log(" Customer check result:",{count:b==null?void 0:b.length}),!b||b.length===0)throw console.error(" Customer record not found"),new Error("Kayt ileminiz tamamlanmam. Ltfen tekrar kayt olmay deneyin.");return console.log(" signIn successful"),{user:y.user,session:m}}catch(o){throw console.error(" Sign In Error:",o),o}},signInAdmin:async(t,e)=>{var r,i,a,o,u,c;try{console.log(" Admin signIn started for:",t);const d=`${Zc}/auth/v1/token?grant_type=password`,p=Hy,y=await fetch(d,{method:"POST",headers:{"Content-Type":"application/json",apikey:p,Authorization:`Bearer ${p}`},body:JSON.stringify({email:t,password:e})});if(!y.ok){const b=await y.json();throw(r=b.error_description)!=null&&r.includes("Invalid login credentials")?new Error("Email veya ifre hatal"):(i=b.error_description)!=null&&i.includes("Email not confirmed")?new Error("Email adresinizi dorulamanz gerekiyor. Ltfen mail kutunuzu kontrol edin."):new Error(b.error_description||"Giri baarsz")}const m=await y.json();if(!m.user)throw new Error("Kullanc bilgisi alnamad");const v={access_token:m.access_token,refresh_token:m.refresh_token,expires_in:m.expires_in,expires_at:m.expires_at,user:m.user};localStorage.setItem("yolmov-auth-session",JSON.stringify(v)),await K.auth.setSession({access_token:m.access_token,refresh_token:m.refresh_token}),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"login",session:v}})),console.log(" Admin signIn successful");try{const b=((o=(a=m.user)==null?void 0:a.user_metadata)==null?void 0:o.first_name)||"Admin",x=((c=(u=m.user)==null?void 0:u.user_metadata)==null?void 0:c.last_name)||"User",E=await fetch("/api/bootstrap-admin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e,firstName:b,lastName:x})});E.ok?console.log(" bootstrap-admin ensured admin_users row"):console.warn(" bootstrap-admin failed:",await E.text().catch(()=>""))}catch(b){console.warn("bootstrap-admin call error",b)}return{user:m.user,session:v}}catch(d){throw console.error(" Admin Sign In Error:",d),d}},signOut:async()=>{try{localStorage.removeItem("yolmov-auth-session"),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"logout"}}))}catch(t){ne(t,"Sign Out")}},getCurrentUser:async()=>{try{const{data:{user:t},error:e}=await K.auth.getUser();if(e)throw e;return t}catch(t){return console.error(" Get Current User Error:",t),null}},getSession:async()=>{try{const t=localStorage.getItem("yolmov-auth-session");if(!t)return null;const e=JSON.parse(t);return e.expires_at&&new Date(e.expires_at*1e3)<new Date?(console.log(" Session expired, clearing..."),localStorage.removeItem("yolmov-auth-session"),null):e}catch(t){return console.error(" Get Session Error:",t),null}},onAuthStateChange:t=>{const e=async r=>{if(r.key==="yolmov-auth-session"){const i=r.newValue;if(i){const a=JSON.parse(i);t("SIGNED_IN",a)}else t("SIGNED_OUT",null)}};return window.addEventListener("storage",e),{data:{subscription:{unsubscribe:()=>{window.removeEventListener("storage",e)}}}}},getUserRole:async()=>{try{const t=await Vh.getCurrentUser();if(!t)return null;const{data:e}=await K.from("partners").select("status").eq("id",t.id).maybeSingle();if(e)return{type:"partner",status:e.status};const{data:r}=await K.from("customers").select("id").eq("id",t.id).maybeSingle();if(r)return{type:"customer"};try{const{data:i}=await K.from("admin_users").select("role").eq("id",t.id).maybeSingle();if(i)return{type:"admin",role:i.role}}catch{}return null}catch(t){ne(t,"Get User Role")}}},b_={getAll:async()=>{try{const{data:t,error:e}=await K.from("customers").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(r=>({id:r.id,firstName:r.first_name,lastName:r.last_name,phone:r.phone,email:r.email,avatarUrl:r.avatar_url,city:r.city,district:r.district,createdAt:r.created_at}))}catch(t){return ne(t,"Get All Customers"),[]}},getById:async t=>{try{const{data:e,error:r}=await K.from("customers").select("*").eq("id",t).maybeSingle();if(r)throw r;return e?{id:e.id,firstName:e.first_name,lastName:e.last_name,phone:e.phone,email:e.email,avatarUrl:e.avatar_url,city:e.city,district:e.district,createdAt:e.created_at}:null}catch(e){return ne(e,`Get Customer ${t}`),null}},create:async t=>{try{const e={first_name:t.firstName,last_name:t.lastName,phone:t.phone||"",email:t.email||null,avatar_url:t.avatarUrl||null,city:t.city||null,district:t.district||null},{data:r,error:i}=await K.from("customers").insert(e).select().single();if(i)throw i;return{id:r.id,firstName:r.first_name,lastName:r.last_name,phone:r.phone,email:r.email||void 0,avatarUrl:r.avatar_url||void 0,city:r.city||void 0,district:r.district||void 0,createdAt:r.created_at}}catch(e){throw ne(e,"Create Customer"),e}},update:async(t,e)=>{try{const r={};e.firstName!==void 0&&(r.first_name=e.firstName),e.lastName!==void 0&&(r.last_name=e.lastName),e.phone!==void 0&&(r.phone=e.phone),e.email!==void 0&&(r.email=e.email),e.avatarUrl!==void 0&&(r.avatar_url=e.avatarUrl),e.city!==void 0&&(r.city=e.city),e.district!==void 0&&(r.district=e.district);const{data:i,error:a}=await K.from("customers").update(r).eq("id",t).select().single();if(a)throw a;return{id:i.id,firstName:i.first_name,lastName:i.last_name,phone:i.phone,email:i.email,avatarUrl:i.avatar_url,city:i.city,district:i.district,createdAt:i.created_at}}catch(r){throw ne(r,`Update Customer ${t}`),r}},delete:async t=>{try{const{error:e}=await K.from("customers").delete().eq("id",t);if(e)throw e}catch(e){ne(e,`Delete Customer ${t}`)}}},xl={getAll:async()=>{try{const{data:t,error:e}=await K.from("partners").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return ne(t,"Get All Partners"),[]}},getActive:async()=>{try{const{data:t,error:e}=await K.from("partners").select("*").eq("status","active").order("rating",{ascending:!1});if(e)throw e;return t||[]}catch(t){return ne(t,"Get Active Partners"),[]}},getById:async t=>{try{const{data:e,error:r}=await K.from("partners").select("*").eq("id",t).maybeSingle();if(r)throw r;return e}catch(e){return ne(e,`Get Partner ${t}`),null}},update:async(t,e)=>{try{console.log(" [partnersApi.update] Updating partner:",t,e);const r={...e,updated_at:new Date().toISOString()},{data:i,error:a,count:o}=await K.from("partners").update(r).eq("id",t).select();if(console.log(" [partnersApi.update] Result:",{data:i,error:a,count:o}),a)throw console.error(" [partnersApi.update] Error:",a),a;if(!i||i.length===0)throw console.warn(" [partnersApi.update] No rows updated - RLS may be blocking"),new Error("Partner gncellenemedi. Yetki sorunu olabilir.");return console.log(" [partnersApi.update] Success:",i[0]),i[0]}catch(r){throw ne(r,`Update Partner ${t}`),r}},approve:async t=>xl.update(t,{status:"active"}),suspend:async t=>xl.update(t,{status:"suspended"}),delete:async t=>{try{const{error:e}=await K.from("partners").delete().eq("id",t);if(e)throw e}catch(e){ne(e,`Delete Partner ${t}`)}}},x_={getByCustomerId:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const{data:r,error:i}=await K.from("customer_favorites").select("id, customer_id, partner_id, created_at, partners!partner_id(id, name, phone, rating, city, district, service_types)").eq("customer_id",t).order("created_at",{ascending:!1});if(i)throw i;return(r||[]).map(o=>({id:o.id,customer_id:o.customer_id,partner_id:o.partner_id,created_at:o.created_at,partners:Array.isArray(o.partners)&&o.partners.length>0?o.partners[0]:null}))}catch(e){return ne(e,"Get Favorites"),[]}},add:async(t,e)=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const{error:i}=await K.from("customer_favorites").insert({customer_id:t,partner_id:e});if(i)throw i}catch(r){throw ne(r,"Add Favorite"),r}},remove:async(t,e)=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const{error:i}=await K.from("customer_favorites").delete().eq("customer_id",t).eq("partner_id",e);if(i)throw i}catch(r){throw ne(r,"Remove Favorite"),r}}},S_={getByCustomerId:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const{data:r,error:i}=await K.from("customer_addresses").select("*").eq("customer_id",t).order("created_at",{ascending:!1});if(i)throw i;return(r||[]).map(a=>({id:a.id,customer_id:a.customer_id,label:a.label,type:a.type,address:a.address,city:a.city,district:a.district,created_at:a.created_at}))}catch(e){return ne(e,"Get Addresses"),[]}},add:async(t,e)=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const i={customer_id:t,label:e.label,type:e.type,address:e.address,city:e.city,district:e.district},{data:a,error:o}=await K.from("customer_addresses").insert(i).select("*").single();if(o)throw o;return{id:a.id,customer_id:a.customer_id,label:a.label,type:a.type,address:a.address,city:a.city,district:a.district,created_at:a.created_at}}catch(r){throw ne(r,"Add Address"),r}},remove:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const{error:r}=await K.from("customer_addresses").delete().eq("id",t);if(r)throw r}catch(e){throw ne(e,"Remove Address"),e}}},k_={getByCustomerId:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const{data:r,error:i}=await K.from("notifications").select("*").eq("customer_id",t).order("created_at",{ascending:!1});if(i)throw i;return(r||[]).map(a=>({id:a.id,customerId:a.customer_id,type:a.type,title:a.title,message:a.message,read:a.read,relatedId:a.related_id,relatedType:a.related_type,actionUrl:a.action_url,createdAt:a.created_at,readAt:a.read_at}))}catch(e){throw ne(e,"Get Notifications"),e}},getUnreadCount:async t=>{try{if(!await Xe())return 0;const{count:r,error:i}=await K.from("notifications").select("*",{count:"exact",head:!0}).eq("customer_id",t).eq("read",!1);if(i)throw i;return r||0}catch(e){return console.error("Get Unread Count Error:",e),0}},markAsRead:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const{error:r}=await K.from("notifications").update({read:!0}).eq("id",t);if(r)throw r}catch(e){throw ne(e,"Mark Notification As Read"),e}},markAllAsRead:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const{error:r}=await K.from("notifications").update({read:!0}).eq("customer_id",t).eq("read",!1);if(r)throw r}catch(e){throw ne(e,"Mark All Notifications As Read"),e}},create:async t=>{try{const e={customer_id:t.customerId,type:t.type,title:t.title,message:t.message,read:t.read,related_id:t.relatedId,related_type:t.relatedType,action_url:t.actionUrl},{data:r,error:i}=await K.from("notifications").insert(e).select().single();if(i)throw i;return{id:r.id,customerId:r.customer_id,type:r.type,title:r.title,message:r.message,read:r.read,relatedId:r.related_id,relatedType:r.related_type,actionUrl:r.action_url,createdAt:r.created_at,readAt:r.read_at}}catch(e){throw ne(e,"Create Notification"),e}},delete:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const{error:r}=await K.from("notifications").delete().eq("id",t);if(r)throw r}catch(e){throw ne(e,"Delete Notification"),e}},deleteAll:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const{error:r}=await K.from("notifications").delete().eq("customer_id",t);if(r)throw r}catch(e){throw ne(e,"Delete All Notifications"),e}}},E_={getByCustomerId:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const{data:r,error:i}=await K.from("customer_notification_preferences").select("*").eq("customer_id",t).single();if(i&&i.code!=="PGRST116")throw i;if(r)return{id:r.id,customerId:r.customer_id,emailEnabled:r.email_enabled,pushEnabled:r.push_enabled,orderUpdates:r.order_updates,promotions:r.promotions,newsletter:r.newsletter,createdAt:r.created_at,updatedAt:r.updated_at};const a={customer_id:t,email_enabled:!0,push_enabled:!0,order_updates:!0,promotions:!1,newsletter:!0},{data:o,error:u}=await K.from("customer_notification_preferences").insert(a).select().single();if(u)throw u;return{id:o.id,customerId:o.customer_id,emailEnabled:o.email_enabled,pushEnabled:o.push_enabled,orderUpdates:o.order_updates,promotions:o.promotions,newsletter:o.newsletter,createdAt:o.created_at,updatedAt:o.updated_at}}catch(e){throw ne(e,"Get Notification Preferences"),e}},update:async(t,e)=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const i={};e.emailEnabled!==void 0&&(i.email_enabled=e.emailEnabled),e.pushEnabled!==void 0&&(i.push_enabled=e.pushEnabled),e.orderUpdates!==void 0&&(i.order_updates=e.orderUpdates),e.promotions!==void 0&&(i.promotions=e.promotions),e.newsletter!==void 0&&(i.newsletter=e.newsletter);const{data:a,error:o}=await K.from("customer_notification_preferences").update(i).eq("customer_id",t).select().single();if(o)throw o;return{id:a.id,customerId:a.customer_id,emailEnabled:a.email_enabled,pushEnabled:a.push_enabled,orderUpdates:a.order_updates,promotions:a.promotions,newsletter:a.newsletter,createdAt:a.created_at,updatedAt:a.updated_at}}catch(r){throw ne(r,"Update Notification Preferences"),r}}},Yy=t=>{const e={};return t.customerId!==void 0&&(e.customer_id=t.customerId),t.customerName!==void 0&&(e.customer_name=t.customerName),t.serviceType!==void 0&&(e.service_type=t.serviceType),t.description!==void 0&&(e.description=t.description),t.fromLocation!==void 0&&(e.from_location=t.fromLocation),t.toLocation!==void 0&&(e.to_location=t.toLocation),t.vehicleInfo!==void 0&&(e.vehicle_info=t.vehicleInfo),t.status!==void 0&&(e.status=t.status),t.amount!==void 0&&(e.amount=t.amount),t.jobStage!==void 0&&(e.job_stage=t.jobStage),t.assignedPartnerId!==void 0&&(e.assigned_partner_id=t.assignedPartnerId),t.assignedPartnerName!==void 0&&(e.assigned_partner_name=t.assignedPartnerName),t.stageUpdatedAt!==void 0&&(e.stage_updated_at=t.stageUpdatedAt),t.vehicleCondition!==void 0&&(e.vehicle_condition=t.vehicleCondition),t.hasLoad!==void 0&&(e.has_load=t.hasLoad),t.loadDescription!==void 0&&(e.load_description=t.loadDescription),t.damagePhotoUrls!==void 0&&(e.damage_photo_urls=t.damagePhotoUrls),t.timing!==void 0&&(e.timing=t.timing),t.customerPhone!==void 0&&(e.customer_phone=t.customerPhone),t.fromCoordinates!==void 0&&(e.from_coordinates=t.fromCoordinates),t.toCoordinates!==void 0&&(e.to_coordinates=t.toCoordinates),t.archived!==void 0&&(e.archived=t.archived),t.archivedAt!==void 0&&(e.archived_at=t.archivedAt),t.start_proof_photo!==void 0&&(e.start_proof_photo=t.start_proof_photo),t.end_proof_photo!==void 0&&(e.end_proof_photo=t.end_proof_photo),e},kn=t=>({id:t.id,customerId:t.customer_id,customerName:t.customer_name,serviceType:t.service_type,description:t.description,fromLocation:t.from_location,toLocation:t.to_location,vehicleInfo:t.vehicle_info,status:t.status,createdAt:t.created_at,amount:t.amount,jobStage:t.job_stage,assignedPartnerId:t.assigned_partner_id,assignedPartnerName:t.assigned_partner_name,stageUpdatedAt:t.stage_updated_at,vehicleCondition:t.vehicle_condition,hasLoad:t.has_load,loadDescription:t.load_description,damagePhotoUrls:t.damage_photo_urls,timing:t.timing,customerPhone:t.customer_phone,fromCoordinates:t.from_coordinates,toCoordinates:t.to_coordinates,archived:t.archived,archivedAt:t.archived_at}),Jr={getAll:async()=>{try{await Xe();const{data:t,error:e}=await K.from("requests").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(kn)}catch(t){return ne(t,"Get All Requests"),[]}},getByCustomerId:async(t,e=!1)=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");let i=K.from("requests").select("*").eq("customer_id",t);e||(i=i.or("archived.is.null,archived.eq.false"));const{data:a,error:o}=await i.order("created_at",{ascending:!1});if(o)throw o;return(a||[]).map(kn)}catch(r){return ne(r,`Get Requests for Customer ${t}`),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await K.from("requests").select("*").eq("assigned_partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return(e||[]).map(kn)}catch(e){return ne(e,`Get Requests for Partner ${t}`),[]}},getOpen:async()=>{try{const{data:t,error:e}=await K.from("requests").select("*").eq("status","open").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(kn)}catch(t){return ne(t,"Get Open Requests"),[]}},getOpenByServiceAreas:async t=>{try{if(!t||t.length===0)return console.warn(" [getOpenByServiceAreas] No service area cities provided, returning all open requests"),Jr.getOpen();const{data:e,error:r}=await K.from("requests").select("*").eq("status","open").order("created_at",{ascending:!1});if(r)throw r;const i=(e||[]).map(kn),a=i.filter(o=>{if(!o.fromLocation)return!1;const u=o.fromLocation.toLowerCase().replace(//g,"i").replace(//g,"g").replace(//g,"u").replace(//g,"s").replace(//g,"o").replace(//g,"c");return t.some(c=>{const d=c.toLowerCase().replace(//g,"i").replace(//g,"g").replace(//g,"u").replace(//g,"s").replace(//g,"o").replace(//g,"c");return u.includes(d)})});return console.log(` [getOpenByServiceAreas] Filtered ${i.length}  ${a.length} requests for cities:`,t),a}catch(e){return ne(e,"Get Open Requests by Service Areas"),[]}},getById:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const{data:r,error:i}=await K.from("requests").select("*").eq("id",t).single();if(i)throw i;return r?kn(r):null}catch(e){return ne(e,`Get Request ${t}`),null}},create:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const r=Yy(t),{data:i,error:a}=await K.from("requests").insert(r).select().single();if(a)throw a;return kn(i)}catch(e){throw ne(e,"Create Request"),e}},update:async(t,e)=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const i=Yy(e),{data:a,error:o}=await K.from("requests").update(i).eq("id",t).select().single();if(o)throw o;return kn(a)}catch(r){throw ne(r,`Update Request ${t}`),r}},updateStatus:async(t,e)=>Jr.update(t,{status:e}),updateJobStage:async(t,e,r,i)=>Jr.update(t,{jobStage:e,assignedPartnerId:r,assignedPartnerName:i,stageUpdatedAt:new Date().toISOString()}),assignPartner:async(t,e,r)=>Jr.update(t,{assignedPartnerId:e,assignedPartnerName:r,status:"matched",jobStage:0,stageUpdatedAt:new Date().toISOString()}),delete:async t=>{try{await Xe();const{error:e}=await K.from("requests").delete().eq("id",t);if(e)throw e}catch(e){throw ne(e,`Delete Request ${t}`),e}},archive:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");return Jr.update(t,{archived:!0,archivedAt:new Date().toISOString()})}catch(e){throw ne(e,`Archive Request ${t}`),e}},unarchive:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");return Jr.update(t,{archived:!1,archivedAt:void 0})}catch(e){throw ne(e,`Unarchive Request ${t}`),e}}},qs=t=>({id:t.id,requestId:t.request_id,partnerId:t.partner_id,partnerName:t.partner_name,price:t.price,etaMinutes:t.eta_minutes,message:t.message,status:t.status,createdAt:t.created_at}),Sl={getAll:async()=>{try{const{data:t,error:e}=await K.from("offers").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(qs)}catch(t){return ne(t,"Get All Offers"),[]}},getByRequestId:async t=>{try{const{data:e,error:r}=await K.from("offers").select("*").eq("request_id",t).order("price",{ascending:!0});if(r)throw r;return(e||[]).map(qs)}catch(e){return ne(e,`Get Offers for Request ${t}`),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await K.from("offers").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return(e||[]).map(qs)}catch(e){return ne(e,`Get Offers for Partner ${t}`),[]}},create:async t=>{try{const e={request_id:t.requestId,partner_id:t.partnerId,partner_name:t.partnerName,price:t.price,eta_minutes:t.etaMinutes,message:t.message,status:t.status},{data:r,error:i}=await K.from("offers").insert(e).select().single();if(i)throw i;return qs(r)}catch(e){throw ne(e,"Create Offer"),e}},update:async(t,e)=>{try{const r={};e.requestId!==void 0&&(r.request_id=e.requestId),e.partnerId!==void 0&&(r.partner_id=e.partnerId),e.partnerName!==void 0&&(r.partner_name=e.partnerName),e.price!==void 0&&(r.price=e.price),e.etaMinutes!==void 0&&(r.eta_minutes=e.etaMinutes),e.message!==void 0&&(r.message=e.message),e.status!==void 0&&(r.status=e.status);const{data:i,error:a}=await K.from("offers").update(r).eq("id",t).select().single();if(a)throw a;return qs(i)}catch(r){throw ne(r,`Update Offer ${t}`),r}},accept:async t=>{try{const e=await Sl.update(t,{status:"accepted"}),{error:r}=await K.from("offers").update({status:"rejected"}).eq("request_id",e.requestId).neq("id",t);if(r)throw r;return await Jr.assignPartner(e.requestId,e.partnerId,e.partnerName||"Partner"),e}catch(e){throw ne(e,`Accept Offer ${t}`),e}},reject:async t=>Sl.update(t,{status:"rejected"}),delete:async t=>{try{const{error:e}=await K.from("offers").delete().eq("id",t);if(e)throw e}catch(e){ne(e,`Delete Offer ${t}`)}}},Ks=t=>({id:t.id,requestId:t.request_id,partnerId:t.partner_id,partnerName:t.partner_name,customerId:t.customer_id,customerName:t.customer_name,customerPhone:t.customer_phone,serviceType:t.service_type,startLocation:t.start_location,endLocation:t.end_location,distance:t.distance,startTime:t.start_time,completionTime:t.completion_time,duration:t.duration,totalAmount:t.total_amount,commission:t.commission,partnerEarning:t.partner_earning,paymentMethod:t.payment_method,rating:t.rating,vehicleType:t.vehicle_type,vehiclePlate:t.vehicle_plate,status:t.status}),C_={getAll:async()=>{try{const{data:t,error:e}=await K.from("completed_jobs").select("*").order("completion_time",{ascending:!1});if(e)throw e;return(t||[]).map(Ks)}catch(t){return ne(t,"Get All Completed Jobs"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await K.from("completed_jobs").select("*").eq("partner_id",t).order("completion_time",{ascending:!1});if(r)throw r;return(e||[]).map(Ks)}catch(e){return ne(e,`Get Completed Jobs for Partner ${t}`),[]}},getByCustomerId:async t=>{try{const{data:e,error:r}=await K.from("completed_jobs").select("*").eq("customer_id",t).order("completion_time",{ascending:!1});if(r)throw r;return(e||[]).map(Ks)}catch(e){return ne(e,`Get Completed Jobs for Customer ${t}`),[]}},create:async t=>{try{const e={request_id:t.requestId,partner_id:t.partnerId,partner_name:t.partnerName,customer_id:t.customerId,customer_name:t.customerName,customer_phone:t.customerPhone,service_type:t.serviceType,start_location:t.startLocation,end_location:t.endLocation,distance:t.distance,start_time:t.startTime,completion_time:t.completionTime,duration:t.duration,total_amount:t.totalAmount,commission:t.commission,partner_earning:t.partnerEarning,payment_method:t.paymentMethod,rating:t.rating,vehicle_type:t.vehicleType,vehicle_plate:t.vehiclePlate,status:t.status},{data:r,error:i}=await K.from("completed_jobs").insert(e).select().single();if(i)throw i;return Ks(r)}catch(e){throw ne(e,"Create Completed Job"),e}},update:async(t,e)=>{try{const r={};e.requestId!==void 0&&(r.request_id=e.requestId),e.partnerId!==void 0&&(r.partner_id=e.partnerId),e.partnerName!==void 0&&(r.partner_name=e.partnerName),e.customerId!==void 0&&(r.customer_id=e.customerId),e.customerName!==void 0&&(r.customer_name=e.customerName),e.customerPhone!==void 0&&(r.customer_phone=e.customerPhone),e.serviceType!==void 0&&(r.service_type=e.serviceType),e.startLocation!==void 0&&(r.start_location=e.startLocation),e.endLocation!==void 0&&(r.end_location=e.endLocation),e.distance!==void 0&&(r.distance=e.distance),e.startTime!==void 0&&(r.start_time=e.startTime),e.completionTime!==void 0&&(r.completion_time=e.completionTime),e.duration!==void 0&&(r.duration=e.duration),e.totalAmount!==void 0&&(r.total_amount=e.totalAmount),e.commission!==void 0&&(r.commission=e.commission),e.partnerEarning!==void 0&&(r.partner_earning=e.partnerEarning),e.paymentMethod!==void 0&&(r.payment_method=e.paymentMethod),e.rating!==void 0&&(r.rating=e.rating),e.vehicleType!==void 0&&(r.vehicle_type=e.vehicleType),e.vehiclePlate!==void 0&&(r.vehicle_plate=e.vehiclePlate),e.status!==void 0&&(r.status=e.status);const{data:i,error:a}=await K.from("completed_jobs").update(r).eq("id",t).select().single();if(a)throw a;return Ks(i)}catch(r){throw ne(r,`Update Completed Job ${t}`),r}}},T_={getAll:async()=>{try{const{data:t,error:e}=await K.from("partner_reviews").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(r=>({id:r.id,jobId:r.job_id,partnerId:r.partner_id,partnerName:r.partner_name,customerId:r.customer_id,customerName:r.customer_name,service:r.service,rating:r.rating,comment:r.comment,tags:r.tags||[],date:r.created_at}))}catch(t){return ne(t,"Get All Partner Reviews"),[]}},getById:async t=>{try{const{data:e,error:r}=await K.from("partner_reviews").select("*").eq("id",t).single();if(r)throw r;return e?{id:e.id,jobId:e.job_id,partnerId:e.partner_id,partnerName:e.partner_name,customerId:e.customer_id,customerName:e.customer_name,service:e.service,rating:e.rating,comment:e.comment,tags:e.tags||[],date:e.created_at}:null}catch(e){return ne(e,`Get Review ${t}`),null}},getByPartnerId:async t=>{try{const{data:e,error:r}=await K.from("partner_reviews").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return(e||[]).map(i=>({id:i.id,jobId:i.job_id,partnerId:i.partner_id,partnerName:i.partner_name,customerId:i.customer_id,customerName:i.customer_name,service:i.service,rating:i.rating,comment:i.comment,tags:i.tags||[],date:i.created_at}))}catch(e){return ne(e,`Get Reviews for Partner ${t}`),[]}},create:async t=>{try{const e={job_id:t.jobId,partner_id:t.partnerId,partner_name:t.partnerName,customer_id:t.customerId,customer_name:t.customerName,service:t.service,rating:t.rating,comment:t.comment,tags:t.tags},{data:r,error:i}=await K.from("partner_reviews").insert(e).select().single();if(i)throw i;return r}catch(e){throw ne(e,"Create Partner Review"),e}},delete:async t=>{try{const{error:e}=await K.from("partner_reviews").delete().eq("id",t);if(e)throw e}catch(e){ne(e,`Delete Review ${t}`)}}},Jy=t=>({id:t.id,partnerId:t.partner_id,partnerName:t.partner_name,type:t.type,fileName:t.file_name,fileUrl:t.file_url,fileSize:t.file_size,status:t.status,uploadDate:t.upload_date,expiryDate:t.expiry_date,rejectionReason:t.rejection_reason,reviewedBy:t.reviewed_by,reviewedAt:t.reviewed_at}),ma={getAll:async()=>{try{const{data:t,error:e}=await K.from("partner_documents").select("*").order("upload_date",{ascending:!1});if(e)throw e;return(t||[]).map(Jy)}catch(t){return ne(t,"Get All Partner Documents"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await K.from("partner_documents").select("*").eq("partner_id",t).order("upload_date",{ascending:!1});if(r)throw r;return(e||[]).map(Jy)}catch(e){return ne(e,`Get Documents for Partner ${t}`),[]}},create:async t=>{try{const e={partner_id:t.partnerId,partner_name:t.partnerName,type:t.type,file_name:t.fileName,file_url:t.fileData||t.fileUrl,file_size:typeof t.fileSize=="number"?`${(t.fileSize/1024).toFixed(1)} KB`:t.fileSize,status:t.status||"pending",expiry_date:t.expiryDate},{data:r,error:i}=await K.from("partner_documents").insert(e).select().single();if(i)throw i;return r}catch(e){throw ne(e,"Create Partner Document"),e}},update:async(t,e)=>{try{const r={};e.status&&(r.status=e.status),e.reviewedBy&&(r.reviewed_by=e.reviewedBy),e.reviewedAt&&(r.reviewed_at=e.reviewedAt),e.rejectionReason&&(r.rejection_reason=e.rejectionReason),e.fileName&&(r.file_name=e.fileName),e.fileUrl&&(r.file_url=e.fileUrl),e.expiryDate&&(r.expiry_date=e.expiryDate);const{data:i,error:a}=await K.from("partner_documents").update(r).eq("id",t).select().single();if(a)throw a;return i}catch(r){throw ne(r,`Update Document ${t}`),r}},approve:async(t,e)=>ma.update(t,{status:"approved",reviewedBy:e,reviewedAt:new Date().toISOString()}),reject:async(t,e,r)=>ma.update(t,{status:"rejected",reviewedBy:e,reviewedAt:new Date().toISOString(),rejectionReason:r}),uploadFile:async(t,e,r)=>{try{const i=`${t}/${r}/${Date.now()}_${e.name}`,{data:a,error:o}=await K.storage.from("partner-documents").upload(i,e);if(o)throw o;const{data:{publicUrl:u}}=K.storage.from("partner-documents").getPublicUrl(i);return u}catch(i){throw ne(i,"Upload Partner Document"),i}}},qh={getAll:async()=>{try{const{data:t,error:e}=await K.from("support_tickets").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return ne(t,"Get All Support Tickets"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await K.from("support_tickets").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(e){return ne(e,`Get Tickets for Partner ${t}`),[]}},create:async t=>{try{const{data:e,error:r}=await K.from("support_tickets").insert(t).select().single();if(r)throw r;return e}catch(e){throw ne(e,"Create Support Ticket"),e}},update:async(t,e)=>{try{const{data:r,error:i}=await K.from("support_tickets").update(e).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw ne(r,`Update Ticket ${t}`),r}},resolve:async(t,e,r)=>qh.update(t,{status:"resolved",resolution:e,assignedTo:r})},A_={getAll:async()=>{try{const{data:t,error:e}=await K.from("partner_vehicles").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return ne(t,"Get All Partner Vehicles"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await K.from("partner_vehicles").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(e){return ne(e,`Get Vehicles for Partner ${t}`),[]}},create:async t=>{try{const{data:e,error:r}=await K.from("partner_vehicles").insert(t).select().single();if(r)throw r;return e}catch(e){throw ne(e,"Create Partner Vehicle"),e}},update:async(t,e)=>{try{const{data:r,error:i}=await K.from("partner_vehicles").update(e).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw ne(r,`Update Vehicle ${t}`),r}},delete:async t=>{try{const{error:e}=await K.from("partner_vehicles").delete().eq("id",t);if(e)throw e}catch(e){ne(e,`Delete Vehicle ${t}`)}},getVehicleStats:async(t,e)=>{try{const{data:r,error:i}=await K.from("completed_jobs").select("id, rating, partner_earning, completion_time").eq("vehicle_plate",t).eq("partner_id",e);if(i)throw i;const a=(r==null?void 0:r.length)||0,o=new Date;o.setDate(o.getDate()-30);const u=(r==null?void 0:r.filter(y=>new Date(y.completion_time)>=o).length)||0,c=(r==null?void 0:r.filter(y=>y.rating).map(y=>y.rating))||[],d=c.length>0?c.reduce((y,m)=>y+m,0)/c.length:0,p=(r==null?void 0:r.reduce((y,m)=>y+(m.partner_earning||0),0))||0;return{totalJobs:a,monthlyJobs:u,averageRating:Number(d.toFixed(1)),totalEarnings:Number(p.toFixed(2))}}catch(r){return ne(r,`Get Vehicle Stats for ${t}`),{totalJobs:0,monthlyJobs:0,averageRating:0,totalEarnings:0}}}},na={getAll:async()=>{try{const{data:t,error:e}=await K.from("partner_credits").select("*").order("balance",{ascending:!1});if(e)throw e;return(t||[]).map(r=>({partnerId:r.partner_id,partnerName:r.partner_name,balance:r.balance||0,totalPurchased:r.total_purchased||0,totalUsed:r.total_used||0,lastTransaction:r.last_updated||r.updated_at||""}))}catch(t){return ne(t,"Get All Partner Credits"),[]}},getAllTransactions:async()=>{try{const{data:t,error:e}=await K.from("credit_transactions").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(r=>({id:r.id,partnerId:r.partner_id,partnerName:r.partner_name,type:r.type,amount:r.amount,balanceBefore:r.balance_before,balanceAfter:r.balance_after,description:r.description,date:r.created_at,requestId:r.request_id,adminUser:r.admin_user}))}catch(t){return ne(t,"Get All Credit Transactions"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await K.from("partner_credits").select("*").eq("partner_id",t).maybeSingle();if(r)throw r;return e}catch(e){return ne(e,`Get Credits for Partner ${t}`),null}},addCredits:async(t,e,r,i)=>{try{const a=await na.getByPartnerId(t),o=(a==null?void 0:a.balance)||0,u=o+r,{data:c,error:d}=await K.from("credit_transactions").insert({partner_id:t,partner_name:e,type:"purchase",amount:r,balance_before:o,balance_after:u,description:i}).select().single();if(d)throw d;return c}catch(a){throw ne(a,"Add Partner Credits"),a}},useCredits:async(t,e,r,i,a)=>{try{const o=await na.getByPartnerId(t),u=(o==null?void 0:o.balance)||0;if(u<r)throw new Error("Yetersiz kredi bakiyesi");const c=u-r,{data:d,error:p}=await K.from("credit_transactions").insert({partner_id:t,partner_name:e,type:"usage",amount:-r,balance_before:u,balance_after:c,description:i,request_id:a}).select().single();if(p)throw p;return d}catch(o){throw ne(o,"Use Partner Credits"),o}},getTransactions:async t=>{try{const{data:e,error:r}=await K.from("credit_transactions").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(e){return ne(e,`Get Transactions for Partner ${t}`),[]}},adjustCredits:async(t,e,r,i,a)=>{try{const o=await na.getByPartnerId(t),u=(o==null?void 0:o.balance)||0,c=u+r;if(c<0)throw new Error("Bakiye negatif olamaz");const{error:d}=await K.from("partner_credits").upsert({partner_id:t,partner_name:e,balance:c,total_purchased:((o==null?void 0:o.total_purchased)||0)+(r>0?r:0),total_used:((o==null?void 0:o.total_used)||0)+(r<0?Math.abs(r):0),updated_at:new Date().toISOString()},{onConflict:"partner_id"});if(d)throw d;const{data:p,error:y}=await K.from("credit_transactions").insert({partner_id:t,partner_name:e,type:"adjustment",amount:r,balance_before:u,balance_after:c,description:`Admin tarafndan ${r>0?"eklendi":"drld"}: ${i}`}).select().single();if(y)throw y;return{transaction:{id:p.id,partnerId:p.partner_id,partnerName:p.partner_name,type:p.type,amount:p.amount,balanceBefore:p.balance_before,balanceAfter:p.balance_after,description:p.description,date:p.created_at,adminUser:p.admin_user},newBalance:c}}catch(o){throw ne(o,"Adjust Partner Credits"),o}}},P_={getAll:async()=>{try{const{data:t,error:e}=await K.from("empty_truck_routes").select("*").eq("status","active").order("departure_date",{ascending:!0});if(e)throw e;return t||[]}catch(t){return ne(t,"Get All Empty Truck Routes"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await K.from("empty_truck_routes").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(e){return ne(e,`Get Routes for Partner ${t}`),[]}},create:async t=>{try{const{data:e,error:r}=await K.from("empty_truck_routes").insert(t).select().single();if(r)throw r;return e}catch(e){throw ne(e,"Create Empty Truck Route"),e}},update:async(t,e)=>{try{const{data:r,error:i}=await K.from("empty_truck_routes").update(e).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw ne(r,`Update Route ${t}`),r}},delete:async t=>{try{const{error:e}=await K.from("empty_truck_routes").delete().eq("id",t);if(e)throw e}catch(e){ne(e,`Delete Route ${t}`)}}},R_={getAll:async()=>{try{const{data:t,error:e}=await K.from("admin_users").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return ne(t,"Get All Admin Users"),[]}},create:async t=>{try{const{data:e,error:r}=await K.from("admin_users").insert(t).select().single();if(r)throw r;return e}catch(e){throw ne(e,"Create Admin User"),e}},update:async(t,e)=>{try{const{data:r,error:i}=await K.from("admin_users").update(e).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw ne(r,`Update Admin User ${t}`),r}},delete:async t=>{try{const{error:e}=await K.from("admin_users").delete().eq("id",t);if(e)throw e}catch(e){ne(e,`Delete Admin User ${t}`)}}},j_={create:async t=>{try{const{data:e,error:r}=await K.from("system_logs").insert(t).select().single();if(r)throw r;return e}catch(e){throw ne(e,"Create System Log"),e}},getAll:async(t=100)=>{try{const{data:e,error:r}=await K.from("system_logs").select("*").order("created_at",{ascending:!1}).limit(t);if(r)throw r;return e||[]}catch(e){return ne(e,"Get System Logs"),[]}},getByEntity:async(t,e)=>{try{const{data:r,error:i}=await K.from("system_logs").select("*").eq("entity",t).eq("entity_id",e).order("created_at",{ascending:!1});if(i)throw i;return r||[]}catch(r){return ne(r,`Get Logs for ${t} ${e}`),[]}}},O_={subscribeToRequests:t=>K.channel("requests-changes").on("postgres_changes",{event:"*",schema:"public",table:"requests"},t).subscribe(),subscribeToOffers:(t,e)=>K.channel(`offers-${t}`).on("postgres_changes",{event:"*",schema:"public",table:"offers",filter:`request_id=eq.${t}`},e).subscribe(),subscribeToJobStages:(t,e)=>K.channel(`job-stages-${t}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"requests",filter:`id=eq.${t}`},e).subscribe(),unsubscribe:t=>{K.removeChannel(t)}},N_={getPartnerStats:async()=>{try{const{data:t,error:e}=await K.from("partner_stats").select("*");if(e)throw e;return t}catch(t){return ne(t,"Get Partner Stats"),[]}},getCustomerStats:async()=>{try{const{data:t,error:e}=await K.from("customer_stats").select("*");if(e)throw e;return t}catch(t){return ne(t,"Get Customer Stats"),[]}},getDailyStats:async(t=30)=>{try{const{data:e,error:r}=await K.from("daily_stats").select("*").limit(t);if(r)throw r;return e}catch(e){return ne(e,"Get Daily Stats"),[]}}},Kh={getByPartnerId:async t=>{try{const{data:e,error:r}=await K.from("partner_service_areas").select("*").eq("partner_id",t).order("is_primary",{ascending:!1}).order("city",{ascending:!0});if(r)throw r;return(e||[]).map(i=>({id:i.id,partnerId:i.partner_id,city:i.city,districts:i.districts,isPrimary:i.is_primary,priceMultiplier:i.price_multiplier,isActive:i.is_active,notes:i.notes,createdAt:i.created_at,updatedAt:i.updated_at}))}catch(e){return ne(e,"Get Service Areas by Partner"),[]}},getPartnersByCity:async t=>{try{const{data:e,error:r}=await K.from("partner_service_areas").select(`
          *,
          partners!inner (
            id, name, company_name, phone, email, rating, status, city, district, service_types, profile_photo_url, logo_url
          )
        `).eq("city",t).eq("is_active",!0).eq("partners.status","active").order("is_primary",{ascending:!1});if(r)throw r;return e||[]}catch(e){return ne(e,`Get Partners by City: ${t}`),[]}},create:async t=>{try{const{data:e,error:r}=await K.from("partner_service_areas").insert({partner_id:t.partnerId,city:t.city,districts:t.districts||null,is_primary:t.isPrimary||!1,price_multiplier:t.priceMultiplier||1,notes:t.notes||null,is_active:!0}).select().single();if(r)throw r;return{id:e.id,partnerId:e.partner_id,city:e.city,districts:e.districts,isPrimary:e.is_primary,priceMultiplier:e.price_multiplier,isActive:e.is_active,notes:e.notes,createdAt:e.created_at,updatedAt:e.updated_at}}catch(e){throw ne(e,"Create Service Area"),e}},update:async(t,e)=>{try{const r={};e.districts!==void 0&&(r.districts=e.districts),e.isPrimary!==void 0&&(r.is_primary=e.isPrimary),e.priceMultiplier!==void 0&&(r.price_multiplier=e.priceMultiplier),e.isActive!==void 0&&(r.is_active=e.isActive),e.notes!==void 0&&(r.notes=e.notes);const{data:i,error:a}=await K.from("partner_service_areas").update(r).eq("id",t).select().single();if(a)throw a;return{id:i.id,partnerId:i.partner_id,city:i.city,districts:i.districts,isPrimary:i.is_primary,priceMultiplier:i.price_multiplier,isActive:i.is_active,notes:i.notes,createdAt:i.created_at,updatedAt:i.updated_at}}catch(r){throw ne(r,`Update Service Area ${t}`),r}},delete:async t=>{try{const{error:e}=await K.from("partner_service_areas").delete().eq("id",t);if(e)throw e}catch(e){throw ne(e,`Delete Service Area ${t}`),e}},setPrimary:async(t,e)=>{try{await K.from("partner_service_areas").update({is_primary:!1}).eq("partner_id",t);const{error:r}=await K.from("partner_service_areas").update({is_primary:!0}).eq("id",e);if(r)throw r}catch(r){throw ne(r,"Set Primary Service Area"),r}}},Wh={getByPartnerId:async t=>{try{const{data:e,error:r}=await K.from("vehicle_return_routes").select("*").eq("partner_id",t).order("departure_date",{ascending:!0});if(r)throw r;return(e||[]).map(i=>({id:i.id,partnerId:i.partner_id,vehicleId:i.vehicle_id,originCity:i.origin_city,destinationCity:i.destination_city,routeCities:i.route_cities,departureDate:i.departure_date,departureTime:i.departure_time,estimatedArrival:i.estimated_arrival,vehicleType:i.vehicle_type,vehiclePlate:i.vehicle_plate,driverName:i.driver_name,driverPhone:i.driver_phone,availableCapacity:i.available_capacity,pricePerKm:i.price_per_km,discountPercent:i.discount_percent,minPrice:i.min_price,status:i.status,notes:i.notes,createdAt:i.created_at,updatedAt:i.updated_at}))}catch(e){return ne(e,"Get Return Routes by Partner"),[]}},getActiveByPartnerId:async t=>{try{const e=new Date().toISOString().split("T")[0],{data:r,error:i}=await K.from("vehicle_return_routes").select("*").eq("partner_id",t).eq("status","active").gte("departure_date",e).order("departure_date",{ascending:!0});if(i)throw i;return(r||[]).map(a=>({id:a.id,partnerId:a.partner_id,vehicleId:a.vehicle_id,originCity:a.origin_city,destinationCity:a.destination_city,routeCities:a.route_cities,departureDate:a.departure_date,departureTime:a.departure_time,estimatedArrival:a.estimated_arrival,vehicleType:a.vehicle_type,vehiclePlate:a.vehicle_plate,driverName:a.driver_name,driverPhone:a.driver_phone,availableCapacity:a.available_capacity,pricePerKm:a.price_per_km,discountPercent:a.discount_percent,minPrice:a.min_price,status:a.status,notes:a.notes,createdAt:a.created_at,updatedAt:a.updated_at}))}catch(e){return ne(e,"Get Active Return Routes by Partner"),[]}},getByCity:async t=>{try{const e=new Date().toISOString().split("T")[0],{data:r,error:i}=await K.from("vehicle_return_routes").select(`
          *,
          partners!inner (
            id, name, company_name, phone, email, rating, status, profile_photo_url, logo_url
          )
        `).contains("route_cities",[t]).eq("status","active").gte("departure_date",e).eq("partners.status","active").order("departure_date",{ascending:!0});if(i)throw i;return(r||[]).map(a=>{var o,u,c,d,p;return{id:a.id,partnerId:a.partner_id,partnerName:(o=a.partners)==null?void 0:o.name,companyName:(u=a.partners)==null?void 0:u.company_name,partnerRating:(c=a.partners)==null?void 0:c.rating,profilePhotoUrl:(d=a.partners)==null?void 0:d.profile_photo_url,logoUrl:(p=a.partners)==null?void 0:p.logo_url,vehicleId:a.vehicle_id,originCity:a.origin_city,destinationCity:a.destination_city,routeCities:a.route_cities,departureDate:a.departure_date,departureTime:a.departure_time,vehicleType:a.vehicle_type,vehiclePlate:a.vehicle_plate,discountPercent:a.discount_percent,availableCapacity:a.available_capacity,status:a.status,createdAt:a.created_at}})}catch(e){return ne(e,`Get Return Routes by City: ${t}`),[]}},create:async t=>{try{const{data:e,error:r}=await K.from("vehicle_return_routes").insert({partner_id:t.partnerId,vehicle_id:t.vehicleId||null,origin_city:t.originCity,destination_city:t.destinationCity,route_cities:t.routeCities,departure_date:t.departureDate,departure_time:t.departureTime||null,estimated_arrival:t.estimatedArrival||null,vehicle_type:t.vehicleType,vehicle_plate:t.vehiclePlate,driver_name:t.driverName||null,driver_phone:t.driverPhone||null,available_capacity:t.availableCapacity||null,price_per_km:t.pricePerKm||null,discount_percent:t.discountPercent||0,min_price:t.minPrice||null,notes:t.notes||null,status:"active"}).select().single();if(r)throw r;return{id:e.id,partnerId:e.partner_id,vehicleId:e.vehicle_id,originCity:e.origin_city,destinationCity:e.destination_city,routeCities:e.route_cities,departureDate:e.departure_date,departureTime:e.departure_time,estimatedArrival:e.estimated_arrival,vehicleType:e.vehicle_type,vehiclePlate:e.vehicle_plate,driverName:e.driver_name,driverPhone:e.driver_phone,availableCapacity:e.available_capacity,pricePerKm:e.price_per_km,discountPercent:e.discount_percent,minPrice:e.min_price,status:e.status,notes:e.notes,createdAt:e.created_at,updatedAt:e.updated_at}}catch(e){throw ne(e,"Create Return Route"),e}},update:async(t,e)=>{try{const r={};e.originCity!==void 0&&(r.origin_city=e.originCity),e.destinationCity!==void 0&&(r.destination_city=e.destinationCity),e.routeCities!==void 0&&(r.route_cities=e.routeCities),e.departureDate!==void 0&&(r.departure_date=e.departureDate),e.departureTime!==void 0&&(r.departure_time=e.departureTime),e.estimatedArrival!==void 0&&(r.estimated_arrival=e.estimatedArrival),e.vehicleType!==void 0&&(r.vehicle_type=e.vehicleType),e.vehiclePlate!==void 0&&(r.vehicle_plate=e.vehiclePlate),e.driverName!==void 0&&(r.driver_name=e.driverName),e.driverPhone!==void 0&&(r.driver_phone=e.driverPhone),e.availableCapacity!==void 0&&(r.available_capacity=e.availableCapacity),e.pricePerKm!==void 0&&(r.price_per_km=e.pricePerKm),e.discountPercent!==void 0&&(r.discount_percent=e.discountPercent),e.minPrice!==void 0&&(r.min_price=e.minPrice),e.status!==void 0&&(r.status=e.status),e.notes!==void 0&&(r.notes=e.notes);const{error:i}=await K.from("vehicle_return_routes").update(r).eq("id",t);if(i)throw i}catch(r){throw ne(r,`Update Return Route ${t}`),r}},delete:async t=>{try{const{error:e}=await K.from("vehicle_return_routes").delete().eq("id",t);if(e)throw e}catch(e){throw ne(e,`Delete Return Route ${t}`),e}},cancel:async t=>{try{const{error:e}=await K.from("vehicle_return_routes").update({status:"cancelled"}).eq("id",t);if(e)throw e}catch(e){throw ne(e,`Cancel Return Route ${t}`),e}},complete:async t=>{try{const{error:e}=await K.from("vehicle_return_routes").update({status:"completed"}).eq("id",t);if(e)throw e}catch(e){throw ne(e,`Complete Return Route ${t}`),e}}},I_={getAvailablePartners:async t=>{try{const e=await Kh.getPartnersByCity(t),r=await Wh.getByCity(t),i=new Set,a=[];for(const o of e){const u=o.partners;u&&!i.has(u.id)&&(i.add(u.id),a.push({partnerId:u.id,partnerName:u.name,companyName:u.company_name,partnerRating:u.rating,partnerPhone:u.phone,partnerEmail:u.email,serviceTypes:u.service_types,profilePhotoUrl:u.profile_photo_url,logoUrl:u.logo_url,city:u.city,district:u.district,source:"service_area",isPrimaryArea:o.is_primary,priceMultiplier:o.price_multiplier,routeId:null,discountPercent:null,departureDate:null}))}for(const o of r)i.has(o.partnerId)||(i.add(o.partnerId),a.push({partnerId:o.partnerId,partnerName:o.partnerName,companyName:o.companyName,partnerRating:o.partnerRating,profilePhotoUrl:o.profilePhotoUrl,logoUrl:o.logoUrl,source:"return_route",isPrimaryArea:!1,priceMultiplier:1,routeId:o.id,discountPercent:o.discountPercent,departureDate:o.departureDate,vehicleType:o.vehicleType,vehiclePlate:o.vehiclePlate,originCity:o.originCity,destinationCity:o.destinationCity}));return a.sort((o,u)=>(u.partnerRating||0)-(o.partnerRating||0)),a}catch(e){return ne(e,`Get Available Partners for City: ${t}`),[]}}},D_={getShowcaseData:async t=>{try{const{data:e,error:r}=await K.from("partners").select(`
          id, name, company_name, email, phone, rating, completed_jobs, status,
          city, district, logo_url, profile_photo_url,
          showcase_description, showcase_working_hours, showcase_payment_methods,
          showcase_is_24_7, showcase_satisfaction_rate, showcase_response_time, showcase_total_reviews
        `).eq("id",t).single();if(r)throw r;if(!e)throw new Error("Partner not found");const{data:i}=await K.from("partner_vehicles").select(`
          id, partner_id, brand, model, model_name, year, type, vehicle_type, plate_number,
          image_url, front_photo_url, side_photo_url, back_photo_url, status,
          showcase_capacity, showcase_insurance_type, showcase_equipment, showcase_description, is_showcase_vehicle
        `).eq("partner_id",t),a=(i||[]).map(d=>({...d,plate:d.plate_number,partnerId:d.partner_id})),{data:o}=await K.from("partner_reviews").select("id, customer_id, rating, comment, created_at").eq("partner_id",t).order("created_at",{ascending:!1}).limit(5),{count:u}=await K.from("partner_reviews").select("id",{count:"exact",head:!0}).eq("partner_id",t),c=await Promise.all((o||[]).map(async d=>{const{data:p}=await K.from("customers").select("first_name, last_name").eq("id",d.customer_id).single(),y=p?`${p.first_name||""} ${(p.last_name||"").charAt(0)}.`:"Anonim";return{id:d.id,customer_name:y,rating:d.rating,comment:d.comment,created_at:d.created_at}}));return{partner:e,vehicles:a,showcaseVehicle:a.find(d=>d.is_showcase_vehicle)||a[0]||null,reviews:c,totalReviews:u||0}}catch(e){return ne(e,`Get Showcase Data for Partner: ${t}`),null}},updateShowcase:async(t,e)=>{try{await Xe();const{data:r,error:i}=await K.from("partners").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(i)throw i;return r}catch(r){return ne(r,`Update Showcase for Partner: ${t}`),null}},updateVehicleShowcase:async(t,e)=>{try{await Xe();const{data:r,error:i}=await K.from("partner_vehicles").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(i)throw i;return r}catch(r){return ne(r,`Update Vehicle Showcase: ${t}`),null}},setShowcaseVehicle:async(t,e)=>{try{await Xe(),await K.from("partner_vehicles").update({is_showcase_vehicle:!1}).eq("partner_id",t);const{data:r,error:i}=await K.from("partner_vehicles").update({is_showcase_vehicle:!0}).eq("id",e).select().single();if(i)throw i;return r}catch(r){return ne(r,`Set Showcase Vehicle: ${e}`),null}}},Nr={auth:Vh,customers:b_,partners:xl,requests:Jr,offers:Sl,completedJobs:C_,partnerReviews:T_,partnerDocuments:ma,supportTickets:qh,partnerVehicles:A_,partnerCredits:na,emptyTruckRoutes:P_,adminUsers:R_,systemLogs:j_,realtime:O_,analytics:N_,favorites:x_,addresses:S_,notifications:k_,notificationPreferences:E_,documents:ma,serviceAreas:Kh,returnRoutes:Wh,partnerSearch:I_,partnerShowcase:D_,storage:{uploadCustomerPhoto:async(t,e)=>{try{await Xe();const r=t.name.replace(/[^a-zA-Z0-9_.-]/g,"_"),i=e||"guest",a=Date.now(),o=`${i}/${a}_${r}`;console.log(` Uploading to: request-photos/${o}`);const{data:u,error:c}=await K.storage.from("request-photos").upload(o,t,{upsert:!0,contentType:t.type});if(c)throw console.error("Storage upload error:",c),c;const{data:d}=K.storage.from("request-photos").getPublicUrl(o);return console.log(` Photo uploaded: ${d.publicUrl}`),d.publicUrl}catch(r){throw console.error(" Upload failed:",r),ne(r,"Upload Customer Photo"),r}},uploadPartnerDocument:async(t,e,r,i)=>{try{await Xe();const a=t.name.replace(/[^a-zA-Z0-9_.-]/g,"_"),o=Date.now(),u=r?`${e}/${r}/${o}_${a}`:`${e}/${i}/${o}_${a}`;console.log(` Uploading partner document to: partner-documents/${u}`);const{data:c,error:d}=await K.storage.from("partner-documents").upload(u,t,{upsert:!0,contentType:t.type});if(d)return console.error("Partner document upload error:",d),{success:!1,error:d.message};const{data:p}=K.storage.from("partner-documents").getPublicUrl(u);return console.log(` Partner document uploaded: ${p.publicUrl}`),{success:!0,url:p.publicUrl}}catch(a){return console.error(" Partner document upload failed:",a),{success:!1,error:a.message}}}}},L_={getAll:async()=>{try{await Xe();const{data:t,error:e}=await K.from("campaigns").select("*").order("sort_order",{ascending:!0});if(e)throw e;return t||[]}catch(t){throw ne(t,"Get All Campaigns"),t}},getActive:async()=>{try{const{data:t,error:e}=await K.from("campaigns").select("*").eq("is_active",!0).order("sort_order",{ascending:!0});if(e)throw e;return t||[]}catch(t){return console.error("Get Active Campaigns Error:",t),[]}},getById:async t=>{try{const{data:e,error:r}=await K.from("campaigns").select("*").eq("id",t).single();if(r&&r.code!=="PGRST116")throw r;return e}catch(e){return console.error("Get Campaign By ID Error:",e),null}},create:async t=>{try{await Xe();const{data:e,error:r}=await K.from("campaigns").insert({title:t.title,description:t.description,image_url:t.image_url,badge_text:t.badge_text||null,valid_until:t.valid_until||null,discount:t.discount||null,code:t.code||null,is_active:t.is_active??!0,sort_order:t.sort_order??0}).select().single();if(r)throw r;return e}catch(e){throw ne(e,"Create Campaign"),e}},update:async(t,e)=>{try{await Xe();const{data:r,error:i}=await K.from("campaigns").update({...e.title&&{title:e.title},...e.description&&{description:e.description},...e.image_url&&{image_url:e.image_url},badge_text:e.badge_text,valid_until:e.valid_until,discount:e.discount,code:e.code,...e.is_active!==void 0&&{is_active:e.is_active},...e.sort_order!==void 0&&{sort_order:e.sort_order}}).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw ne(r,"Update Campaign"),r}},delete:async t=>{try{await Xe();const{error:e}=await K.from("campaigns").delete().eq("id",t);if(e)throw e}catch(e){throw ne(e,"Delete Campaign"),e}},toggleActive:async(t,e)=>{try{await Xe();const{data:r,error:i}=await K.from("campaigns").update({is_active:e}).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw ne(r,"Toggle Campaign Active"),r}}},tO=Object.freeze(Object.defineProperty({__proto__:null,addressesApi:S_,adminUsersApi:R_,analyticsApi:N_,authApi:Vh,campaignsApi:L_,completedJobsApi:C_,customersApi:b_,default:Nr,emptyTruckRoutesApi:P_,favoritesApi:x_,notificationPreferencesApi:E_,notificationsApi:k_,offersApi:Sl,partnerCreditsApi:na,partnerDocumentsApi:ma,partnerReviewsApi:T_,partnerSearchApi:I_,partnerShowcaseApi:D_,partnerVehiclesApi:A_,partnersApi:xl,realtimeApi:O_,requestsApi:Jr,returnRoutesApi:Wh,serviceAreasApi:Kh,supabase:K,supabaseApi:Nr,supportTicketsApi:qh,systemLogsApi:j_},Symbol.toStringTag,{value:"Module"})),fR=()=>{const[t,e]=U.useState(!1),[r,i]=U.useState([]),[a,o]=U.useState(0),[u,c]=U.useState(!0),d=async()=>{var x;try{const E=localStorage.getItem("yolmov-auth-session");if(!E){i([]),o(0),c(!1);return}const C=JSON.parse(E),R=(x=C==null?void 0:C.user)==null?void 0:x.id;if(!R){i([]),o(0),c(!1);return}const[I,k]=await Promise.all([Nr.notifications.getByCustomerId(R),Nr.notifications.getUnreadCount(R)]);i(I),o(k)}catch(E){console.error("Bildirimler yklenemedi:",E),i([]),o(0)}finally{c(!1)}};U.useEffect(()=>{d();const x=setInterval(d,3e4),E=()=>{d()};return window.addEventListener("yolmov-auth-change",E),()=>{clearInterval(x),window.removeEventListener("yolmov-auth-change",E)}},[]);const p=async x=>{try{await Nr.notifications.markAsRead(x),await d()}catch(E){console.error("Bildirim okundu iaretlenemedi:",E)}},y=async()=>{var x;try{const E=localStorage.getItem("yolmov-auth-session");if(!E)return;const C=JSON.parse(E),R=(x=C==null?void 0:C.user)==null?void 0:x.id;if(!R)return;await Nr.notifications.markAllAsRead(R),await d()}catch(E){console.error("Tm bildirimler okundu iaretlenemedi:",E)}},m=async(x,E)=>{E.stopPropagation();try{await Nr.notifications.delete(x),await d()}catch(C){console.error("Bildirim silinemedi:",C)}},v=async()=>{var x;if(confirm("Tm bildirimleri silmek istediinizden emin misiniz?"))try{const E=localStorage.getItem("yolmov-auth-session");if(!E)return;const C=JSON.parse(E);if(!((x=C==null?void 0:C.user)==null?void 0:x.id))return;await Promise.all(r.map(I=>Nr.notifications.delete(I.id))),await d()}catch(E){console.error("Bildirimler silinemedi:",E)}},b=x=>{switch(x){case"offer_received":return"";case"offer_accepted":return"";case"offer_rejected":return"";case"request_matched":return"";case"system":return"";default:return""}};return w.jsxs("div",{className:"relative",children:[w.jsxs("button",{onClick:()=>e(!t),className:"relative p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-xl transition-all","aria-label":"Bildirimler",children:[w.jsx(jc,{size:24}),a>0&&w.jsx("span",{className:"absolute top-0 right-0 w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:a>9?"9+":a})]}),w.jsx(Ir,{children:t&&w.jsxs(w.Fragment,{children:[w.jsx(Me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:()=>e(!1)}),w.jsxs(Me.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute right-0 top-full mt-2 w-96 max-w-[calc(100vw-2rem)] bg-white rounded-2xl shadow-2xl border border-slate-200 overflow-hidden z-50",children:[w.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-200 flex items-center justify-between",children:[w.jsxs("h3",{className:"text-sm font-bold text-slate-900",children:["Bildirimler",a>0&&w.jsxs("span",{className:"ml-2 text-xs text-slate-500",children:["(",a," okunmam)"]})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[a>0&&w.jsxs("button",{onClick:y,className:"text-xs text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1",children:[w.jsx(ld,{size:14}),"Tmn Okundu aretle"]}),r.length>0&&w.jsxs("button",{onClick:v,className:"text-xs text-red-600 hover:text-red-700 font-medium flex items-center gap-1",children:[w.jsx(oa,{size:14}),"Tmn Sil"]})]})]}),w.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:u?w.jsxs("div",{className:"p-8 text-center",children:[w.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-3 animate-pulse",children:w.jsx(jc,{size:32,className:"text-slate-400"})}),w.jsx("p",{className:"text-sm text-slate-500",children:"Ykleniyor..."})]}):r.length===0?w.jsxs("div",{className:"p-8 text-center",children:[w.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-3",children:w.jsx(jc,{size:32,className:"text-slate-400"})}),w.jsx("p",{className:"text-sm text-slate-500",children:"Henz bildiriminiz yok"})]}):w.jsx("div",{className:"divide-y divide-slate-100",children:r.map(x=>w.jsxs("div",{className:`p-4 hover:bg-slate-50 transition-colors relative group ${x.read?"":"bg-blue-50/30"}`,children:[w.jsxs("div",{className:"flex items-start gap-3 cursor-pointer",onClick:()=>p(x.id),children:[w.jsx("span",{className:"text-2xl shrink-0",children:b(x.type)}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[w.jsx("h4",{className:"text-sm font-bold text-slate-900 truncate",children:x.title}),!x.read&&w.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full shrink-0 mt-1"})]}),w.jsx("p",{className:"text-xs text-slate-600 mb-2 line-clamp-2",children:x.message}),w.jsx("p",{className:"text-xs text-slate-400",children:new Date(x.createdAt).toLocaleString("tr-TR",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]})]}),w.jsx("button",{onClick:E=>m(x.id,E),className:"absolute top-2 right-2 p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Sil",children:w.jsx(oa,{size:16})})]},x.id))})})]})]})})]})},pR=()=>{const t=oi();Mr();const[e,r]=U.useState(!1),[i,a]=U.useState(!1),[o,u]=U.useState(null),[c,d]=U.useState(!0);U.useEffect(()=>{let m=!0;const v=async R=>{try{const I=await Nr.customers.getById(R);m&&I&&u(I)}catch(I){console.error("Customer ykleme hatas:",I)}},b=async()=>{var R;try{const I=localStorage.getItem("yolmov-auth-session");if(I){const k=JSON.parse(I);if(k.expires_at&&new Date(k.expires_at*1e3)<=new Date){console.log(" Session expired in Header, clearing..."),localStorage.removeItem("yolmov-auth-session"),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"session-expired"}})),m&&u(null);return}(R=k==null?void 0:k.user)!=null&&R.id&&await v(k.user.id)}else m&&u(null)}catch(I){console.error("Session kontrol hatas:",I),localStorage.removeItem("yolmov-auth-session"),m&&u(null)}finally{m&&d(!1)}};b();const x=R=>{R.key==="yolmov-auth-session"&&b()},E=R=>{var k;console.log(" Auth change event received:",(k=R.detail)==null?void 0:k.type),b()};window.addEventListener("storage",x),window.addEventListener("yolmov-auth-change",E);const C=setInterval(b,3e4);return()=>{m=!1,window.removeEventListener("storage",x),window.removeEventListener("yolmov-auth-change",E),clearInterval(C)}},[]);const p=async()=>{try{localStorage.removeItem("yolmov-auth-session"),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"logout"}})),u(null),a(!1),t("/")}catch(m){console.error("k hatas:",m),t("/")}},y=()=>r(!e);return w.jsxs("header",{className:"sticky top-0 z-50 w-full bg-white shadow-sm border-b border-gray-100 h-[80px] flex items-center",children:[w.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32 flex items-center justify-between h-full",children:[w.jsxs("div",{className:"flex items-center gap-8 lg:gap-12",children:[w.jsx("button",{className:"flex items-center cursor-pointer shrink-0 bg-transparent border-0 p-0",onClick:()=>t("/"),"aria-label":"Anasayfaya git",children:w.jsx("span",{className:"yolmov-logo text-3xl font-bold",style:{color:"#FF7A00"},children:"yolmov"})}),w.jsxs("nav",{className:"hidden md:flex items-center space-x-6 lg:space-x-8",children:[w.jsx("button",{onClick:()=>t("/hakkimizda"),className:"text-gray-600 hover:text-brand-orange font-medium transition-colors text-sm lg:text-base whitespace-nowrap",children:"Hakkmzda"}),w.jsx("button",{onClick:()=>t("/hizmetler"),className:"text-gray-600 hover:text-brand-orange font-medium transition-colors text-sm lg:text-base whitespace-nowrap",children:"Hizmetler"}),w.jsx("button",{onClick:()=>t("/iletisim"),className:"text-gray-600 hover:text-brand-orange font-medium transition-colors text-sm lg:text-base whitespace-nowrap",children:"letiim"}),w.jsx("button",{onClick:()=>t("/sss"),className:"text-gray-600 hover:text-brand-orange font-medium transition-colors text-sm lg:text-base whitespace-nowrap",children:"SSS"})]})]}),w.jsxs("div",{className:"hidden md:flex items-center gap-3 shrink-0",children:[o&&w.jsx(fR,{}),!o&&w.jsxs(w.Fragment,{children:[w.jsxs("button",{onClick:()=>t("/giris/partner"),"aria-label":"Acente giri sayfasna git",className:"text-sm font-bold text-gray-700 hover:text-blue-600 px-3 py-2 transition-colors flex items-center gap-1",children:[w.jsx(eg,{size:16}),"Acente Girii"]}),w.jsx("div",{className:"w-px h-6 bg-gray-200 mx-1"}),w.jsx("button",{onClick:()=>t("/giris/musteri"),"aria-label":"Mteri giri sayfasna git",className:"px-6 py-2.5 rounded-xl border-2 font-semibold hover:bg-orange-50 transition-colors",style:{borderColor:"#FF7A00",color:"#FF7A00"},children:"Giri Yap"}),w.jsx("button",{onClick:()=>t("/partner/kayit"),"aria-label":"Partner kayt sayfasna git",className:"px-6 py-2.5 rounded-xl text-white font-semibold shadow-md hover:shadow-lg hover:opacity-95 transition-all transform hover:-translate-y-0.5",style:{background:"linear-gradient(to right, #FF7A00, #FF9933)"},children:"Partner Ol"})]}),o&&w.jsxs("div",{className:"relative",children:[w.jsxs("button",{onClick:()=>a(m=>!m),className:"flex items-center gap-3 px-3 py-2 rounded-xl border border-gray-200 hover:border-brand-orange hover:bg-orange-50 transition-colors",children:[w.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-orange-300 to-orange-500 text-white flex items-center justify-center font-bold text-sm overflow-hidden",children:o.avatarUrl?w.jsx("img",{src:o.avatarUrl,alt:"avatar",className:"w-full h-full object-cover"}):o.firstName.charAt(0)}),w.jsx("span",{className:"font-semibold text-gray-700",children:o.firstName})]}),i&&w.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-100 py-2 z-50 animate-fade-in",children:[w.jsx("button",{onClick:()=>{t("/musteri/profil"),a(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Profilim"}),w.jsx("div",{className:"my-1 h-px bg-gray-100"}),w.jsx("button",{onClick:()=>{p(),a(!1)},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"k Yap"})]})]})]}),w.jsx("div",{className:"md:hidden flex items-center gap-3",children:w.jsx("button",{className:"text-gray-600",onClick:y,"aria-label":e?"Meny kapat":"Meny a","aria-expanded":e,children:e?w.jsx(oa,{size:28}):w.jsx(wS,{size:28})})})]}),w.jsx(Ir,{children:e&&w.jsx(Me.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"absolute top-[80px] left-0 w-full bg-white shadow-lg overflow-hidden md:hidden border-t border-gray-100",children:w.jsxs("div",{className:"flex flex-col p-6 space-y-4",children:[w.jsx("button",{onClick:()=>{t("/hakkimizda"),r(!1)},className:"text-lg font-medium text-gray-700 py-2 border-b border-gray-50 text-left",children:"Hakkmzda"}),w.jsx("button",{onClick:()=>{t("/hizmetler"),r(!1)},className:"text-lg font-medium text-gray-700 py-2 border-b border-gray-50 text-left",children:"Hizmetler"}),w.jsx("button",{onClick:()=>{t("/iletisim"),r(!1)},className:"text-lg font-medium text-gray-700 py-2 border-b border-gray-50 text-left",children:"letiim"}),w.jsx("button",{onClick:()=>{t("/sss"),r(!1)},className:"text-lg font-medium text-gray-700 py-2 border-b border-gray-50 text-left",children:"SSS"}),w.jsxs("div",{className:"pt-4 flex flex-col gap-3",children:[!o&&w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>{t("/giris/musteri"),r(!1)},className:"w-full py-3 rounded-xl border border-brand-orange text-brand-orange font-semibold",children:"Giri Yap"}),w.jsxs("button",{onClick:()=>{t("/giris/partner"),r(!1)},className:"w-full py-3 rounded-xl border border-blue-600 text-blue-600 font-semibold flex items-center justify-center gap-2",children:[w.jsx(eg,{size:18})," Acente Girii"]}),w.jsx("button",{onClick:()=>{t("/partner/kayit"),r(!1)},className:"w-full py-3 rounded-xl bg-brand-orange text-white font-semibold shadow-md",children:"Partner Ol"})]}),o&&w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>{t("/musteri/profil"),r(!1)},className:"w-full py-3 rounded-xl bg-gray-100 text-gray-700 font-semibold",children:"Profilim"}),w.jsx("button",{onClick:()=>{p(),r(!1)},className:"w-full py-3 rounded-xl bg-red-50 text-red-600 font-semibold",children:"k Yap"})]})]})]})})})]})},qd=[{id:"tow",title:"ekici Hizmeti",description:"Aracnz bozulduunda veya kaza durumunda en yakn ekici.",icon:Cl},{id:"battery",title:"Ak Takviyesi",description:"Aknz m bitti? Hzlca takviye veya deiim destei.",icon:bv},{id:"tire",title:"Lastik Deiimi",description:"Lastiiniz patladysa yerinde deiim veya tamir.",icon:Sv},{id:"fuel",title:"Yakt Getirme",description:"Yolda yaktnz bittiyse size en yakn istasyondan yakt.",icon:kv},{id:"rescue",title:"Ara Kurtarma",description:"Zorlu koullarda yolda kalan aracnz iin kurtarma.",icon:hS},{id:"general",title:"Genel Yol Yardm",description:"Anahtar kayb ve dier teknik sorunlar iin destek.",icon:RS}],mR=[{id:1,title:"Konumunu Belirt",description:"GPS zerinden konumunu payla veya adresi manuel gir.",icon:Qd},{id:2,title:"Hizmeti Se",description:"htiyacn olan yol yardm hizmetini kategorilerden se.",icon:cd},{id:3,title:"Yardm Yola ksn",description:"En yakn uzman ekipten teklif al ve onayla.",icon:Cl}],gR=[{id:"trust",title:"Gvenilir Hizmet",icon:ES},{id:"network",title:"Dorulanm Acente A",icon:TS},{id:"speed",title:"Hzl Eriim",icon:ud},{id:"support",title:"7/24 Canl Destek",icon:Cv}],Ko={Adana:["Alada","Ceyhan","ukurova","Feke","mamolu","Karaisal","Karata","Kozan","Pozant","Saimbeyli","Saram","Seyhan","Tufanbeyli","Yumurtalk","Yreir"],Adyaman:["Besni","elikhan","Gerger","Glba","Kahta","Merkez","Samsat","Sincik","Tut"],Afyonkarahisar:["Bamak","Bayat","Bolvadin","ay","obanlar","Dazkr","Dinar","Emirda","Evciler","Hocalar","hsaniye","scehisar","Kzlren","Merkez","Sandkl","Sinanpaa","Sultanda","uhut"],Ar:["Diyadin","Doubayazt","Elekirt","Hamur","Merkez","Patnos","Talay","Tutak"],Aksaray:["Aaren","Eskil","Glaa","Gzelyurt","Merkez","Ortaky","Saryahi","Sultanhan"],Amasya:["Gyncek","Gmhacky","Hamamz","Merkez","Merzifon","Suluova","Taova"],Ankara:["Akyurt","Altnda","Aya","Bala","Beypazar","amldere","ankaya","ubuk","Elmada","Etimesgut","Evren","Glba","Gdl","Haymana","Kalecik","Kahramankazan","Keiren","Kzlcahamam","Mamak","Nallhan","Polatl","Pursaklar","Sincan","ereflikohisar","Yenimahalle"],Antalya:["Akseki","Aksu","Alanya","Demre","Demealt","Elmal","Finike","Gazipaa","Gndomu","brad","Ka","Kemer","Kepez","Konyaalt","Korkuteli","Kumluca","Manavgat","Muratpaa","Serik"],Ardahan:["ldr","Damal","Gle","Hanak","Merkez","Posof"],Artvin:["Ardanu","Arhavi","Borka","Hopa","Kemalpaa","Merkez","Murgul","avat","Yusufeli"],Aydn:["Bozdoan","Buharkent","ine","Didim","Efeler","Germencik","ncirliova","Karacasu","Karpuzlu","Koarl","Kk","Kuadas","Kuyucak","Nazilli","Ske","Sultanhisar","Yenipazar"],Balkesir:["Altnyayla","Ayvalk","Balya","Bandrma","Bigadi","Burhaniye","Dursunbey","Edremit","Erdek","Gme","Gnen","Havran","vrindi","Karesi","Kepsut","Manyas","Marmara","Savatepe","Sndrg","Susurluk"],Bartn:["Amasra","Kurucaile","Merkez","Ulus"],Batman:["Beiri","Gerc","Hasankeyf","Kozluk","Merkez","Sason"],Bayburt:["Aydntepe","Demirz","Merkez"],Bilecik:["Bozyk","Glpazar","nhisar","Merkez","Osmaneli","Pazaryeri","St","Yenipazar"],Bingl:["Adakl","Gen","Karlova","Ki","Merkez","Solhan","Yayladere","Yedisu"],Bitlis:["Adilcevaz","Ahlat","Groymak","Hizan","Merkez","Mutki","Tatvan"],Bolu:["Drtdivan","Gerede","Gynk","Kbrsck","Mengen","Merkez","Mudurnu","Seben","Yeniaa"],Burdur:["Alasun","Altnyayla","Bucak","avdr","eltiki","Glhisar","Karamanl","Kemer","Merkez","Tefenni","Yeilova"],Bursa:["Bykorhan","Gemlik","Grsu","Harmanck","negl","znik","Karacabey","Keles","Kestel","Mudanya","Mustafakemalpaa","Nilfer","Orhaneli","Orhangazi","Osmangazi","Yeniehir","Yldrm"],anakkale:["Ayvack","Bayrami","Biga","Bozcaada","an","Eceabat","Ezine","Gelibolu","Gkeada","Lapseki","Merkez","Yenice"],ankr:["Atkaracalar","Bayramren","erke","Eldivan","Ilgaz","Kzlrmak","Korgun","Kurunlu","Merkez","Orta","abanz","Yaprakl"],orum:["Alaca","Bayat","Boazkale","Dodurga","skilip","Karg","Lain","Mecitz","Merkez","Ouzlar","Ortaky","Osmanck","Sungurlu","Uurluda"],Denizli:["Acpayam","Babada","Baklan","Bekilli","Beyaa","Bozkurt","Buldan","al","ameli","ardak","ivril","Gney","Honaz","Kale","Merkezefendi","Pamukkale","Sarayky","Serinhisar","Tavas"],Diyarbakr:["Balar","Bismil","ermik","nar","ng","Dicle","Eil","Ergani","Hani","Hazro","Kayapnar","Kocaky","Kulp","Lice","Silvan","Sur","Yeniehir"],Dzce:["Akakoca","Cumayeri","ilimli","Glyaka","Gmova","Kaynal","Merkez","Ylca"],Edirne:["Enez","Havsa","psala","Kean","Lalapaa","Meri","Merkez","Slolu","Uzunkpr"],Elaz:["An","Alacakaya","Arcak","Baskil","Karakoan","Keban","Kovanclar","Maden","Merkez","Palu","Sivrice"],Erzincan:["ayrl","li","Kemah","Kemaliye","Merkez","Otlukbeli","Refahiye","Tercan","zml"],Erzurum:["Akale","Aziziye","at","Hns","Horasan","spir","Karaoban","Karayaz","Kprky","Narman","Oltu","Olur","Palandken","Pasinler","Pazaryolu","enkaya","Tekman","Tortum","Uzundere","Yakutiye"],Eskiehir:["Alpu","Beylikova","ifteler","Gnyz","Han","nn","Mahmudiye","Mihalgazi","Mihalk","Odunpazar","Sarcakaya","Seyitgazi","Sivrihisar","Tepeba"],Gaziantep:["Araban","slahiye","Karkam","Nizip","Nurda","Ouzeli","ahinbey","ehitkamil","Yavuzeli"],Giresun:["Alucra","Bulancak","amoluk","anak","Dereli","Doankent","Espiye","Eynesil","Grele","Gce","Keap","Merkez","Piraziz","ebinkarahisar","Tirebolu","Yaldere"],Gmhane:["Kelkit","Kse","Krtn","Merkez","iran","Torul"],Hakkari:["ukurca","Derecik","Merkez","emdinli","Yksekova"],Hatay:["Altnz","Antakya","Arsuz","Belen","Defne","Drtyol","Erzin","Hassa","skenderun","Krkhan","Kumlu","Payas","Reyhanl","Samanda","Yaylada"],Idr:["Aralk","Karakoyunlu","Merkez","Tuzluca"],Isparta:["Aksu","Atabey","Eirdir","Gelendost","Gnen","Keiborlu","Merkez","Senirkent","Stler","arkikaraaa","Uluborlu","Yalva","Yeniarbademli"],stanbul:["Adalar","Arnavutky","Ataehir","Avclar","Baclar","Bahelievler","Bakrky","Baakehir","Bayrampaa","Beikta","Beykoz","Beylikdz","Beyolu","Bykekmece","atalca","ekmeky","Esenler","Esenyurt","Eypsultan","Fatih","Gaziosmanpaa","Gngren","Kadky","Kathane","Kartal","Kkekmece","Maltepe","Pendik","Sancaktepe","Saryer","Silivri","Sultanbeyli","Sultangazi","ile","ili","Tuzla","mraniye","skdar","Zeytinburnu"],zmir:["Aliaa","Balova","Bayndr","Bayrakl","Bergama","Beyda","Bornova","Buca","eme","ili","Dikili","Foa","Gaziemir","Gzelbahe","Karabalar","Karaburun","Karyaka","Kemalpaa","Knk","Kiraz","Konak","Menderes","Menemen","Narldere","demi","Seferihisar","Seluk","Tire","Torbal","Urla"],Kahramanmara:["Afin","Andrn","alayancerit","Dulkadirolu","Ekinz","Elbistan","Gksun","Nurhak","Onikiubat","Pazarck","Trkolu"],Karabk:["Eflani","Eskipazar","Merkez","Ovack","Safranbolu","Yenice"],Karaman:["Ayranc","Bayayla","Ermenek","Kazmkarabekir","Merkez","Sarveliler"],Kars:["Akyaka","Arpaay","Digor","Kazman","Merkez","Sarkam","Selim","Susuz"],Kastamonu:["Abana","Al","Ara","Azdavay","Bozkurt","Cide","atalzeytin","Daday","Devrekani","Doanyurt","Hann","hsangazi","nebolu","Kre","Merkez","Pnarba","Seydiler","enpazar","Takpr","Tosya"],Kayseri:["Akkla","Bnyan","Develi","Felahiye","Haclar","ncesu","Kocasinan","Melikgazi","zvatan","Pnarba","Sarolan","Sarz","Talas","Tomarza","Yahyal","Yeilhisar"],Krkkale:["Bahl","Baleyh","elebi","Delice","Karakeili","Keskin","Merkez","Sulakyurt","Yahihan"],Krklareli:["Babaeski","Demirky","Kofaz","Lleburgaz","Merkez","Pehlivanky","Pnarhisar","Vize"],Krehir:["Akakent","Akpnar","Boztepe","iekda","Kaman","Merkez","Mucur"],Kilis:["Elbeyli","Merkez","Musabeyli","Polateli"],Kocaeli:["Baiskele","ayrova","Darca","Derince","Dilovas","Gebze","Glck","zmit","Kandra","Karamrsel","Kartepe","Krfez"],Konya:["Ahrl","Akren","Akehir","Altnekin","Beyehir","Bozkr","Cihanbeyli","eltik","umra","Derbent","Derebucak","Doanhisar","Emirgazi","Ereli","Gneysnr","Hadim","Halkapnar","Hyk","Ilgn","Kadnhan","Karapnar","Karatay","Kulu","Meram","Sarayn","Seluklu","Seydiehir","Takent","Tuzluku","Yalhyk","Yunak"],Ktahya:["Altnta","Aslanapa","avdarhisar","Domani","Dumlupnar","Emet","Gediz","Hisarck","Merkez","Pazarlar","Simav","aphane","Tavanl"],Malatya:["Akada","Arapgir","Arguvan","Battalgazi","Darende","Doanehir","Doanyol","Hekimhan","Kale","Kuluncak","Ptrge","Yazhan","Yeilyurt"],Manisa:["Ahmetli","Akhisar","Alaehir","Demirci","Glmarmara","Grdes","Krkaa","Kprba","Kula","Salihli","Sargl","Saruhanl","Selendi","Soma","ehzadeler","Turgutlu","Yunusemre"],Mardin:["Artuklu","Dargeit","Derik","Kzltepe","Mazda","Midyat","Nusaybin","merli","Savur","Yeilli"],Mersin:["Akdeniz","Anamur","Aydnck","Bozyaz","amlyayla","Erdemli","Glnar","Mezitli","Mut","Silifke","Tarsus","Toroslar","Yeniehir"],Mula:["Bodrum","Dalaman","Data","Fethiye","Kavakldere","Kyceiz","Marmaris","Mentee","Milas","Ortaca","Seydikemer","Ula","Yataan"],Mu:["Bulank","Hasky","Korkut","Malazgirt","Merkez","Varto"],Nevehir:["Acgl","Avanos","Derinkuyu","Glehir","Hacbekta","Kozakl","Merkez","rgp"],Nide:["Altunhisar","Bor","amard","iftlik","Merkez","Ulukla"],Ordu:["Akku","Altnordu","Aybast","ama","atalpnar","ayba","Fatsa","Glky","Glyal","Grgentepe","kizce","Kabadz","Kabata","Korgan","Kumru","Mesudiye","Perembe","Ulubey","nye"],Osmaniye:["Bahe","Dzii","Hasanbeyli","Kadirli","Merkez","Sumbas","Toprakkale"],Rize:["Ardeen","amlhemin","ayeli","Derepazar","Fndkl","Gneysu","Hemin","kizdere","yidere","Kalkandere","Merkez","Pazar"],Sakarya:["Adapazar","Akyaz","Arifiye","Erenler","Ferizli","Geyve","Hendek","Karaprek","Karasu","Kaynarca","Kocaali","Pamukova","Sapanca","Serdivan","Stl","Tarakl"],Samsun:["19 Mays","Alaam","Asarck","Atakum","Ayvack","Bafra","Canik","aramba","Havza","lkadm","Kavak","Ladik","Salpazar","Tekkeky","Terme","Vezirkpr","Yakakent"],Siirt:["Baykan","Eruh","Kurtalan","Merkez","Pervari","irvan","Tillo"],Sinop:["Ayanck","Boyabat","Dikmen","Duraan","Erfelek","Gerze","Merkez","Saraydz","Trkeli"],Sivas:["Aknclar","Altnyayla","Divrii","Doanar","Gemerek","Glova","Grn","Hafik","mranl","Kangal","Koyulhisar","Merkez","Suehri","arkla","Ula","Yldzeli","Zara"],anlurfa:["Akakale","Birecik","Bozova","Ceylanpnar","Eyybiye","Halfeti","Haliliye","Harran","Hilvan","Karakpr","Siverek","Suru","Viranehir"],rnak:["Beytebap","Cizre","Glkonak","dil","Merkez","Silopi","Uludere"],Tekirda:["erkezky","orlu","Ergene","Hayrabolu","Kapakl","Malkara","Marmaraerelisi","Muratl","Saray","Sleymanpaa","arky"],Tokat:["Almus","Artova","Baiftlik","Erbaa","Merkez","Niksar","Pazar","Readiye","Sulusaray","Turhal","Yeilyurt","Zile"],Trabzon:["Akaabat","Arakl","Arsin","Beikdz","arba","aykara","Dernekpazar","Dzky","Hayrat","Kprba","Maka","Of","Ortahisar","Srmene","alpazar","Tonya","Vakfkebir","Yomra"],Tunceli:["emigezek","Hozat","Mazgirt","Merkez","Nazmiye","Ovack","Pertek","Plmr"],Uak:["Banaz","Eme","Karahall","Merkez","Sivasl","Ulubey"],Van:["Bahesaray","Bakale","aldran","atak","Edremit","Erci","Geva","Grpnar","pekyolu","Muradiye","zalp","Saray","Tuba"],Yalova:["Altnova","Armutlu","narck","iftlikky","Merkez","Termal"],Yozgat:["Akdamadeni","Aydnck","Boazlyan","andr","ayralan","ekerek","Kadehri","Merkez","Saraykent","Sarkaya","Sorgun","efaatli","Yenifakl","Yerky"],Zonguldak:["Alapl","aycuma","Devrek","Ereli","Gkebey","Kilimli","Kozlu","Merkez"]},rO={highDemand:[{from:"istanbul",to:"ankara",fromName:"stanbul",toName:"Ankara"},{from:"istanbul",to:"izmir",fromName:"stanbul",toName:"zmir"},{from:"istanbul",to:"antalya",fromName:"stanbul",toName:"Antalya"},{from:"ankara",to:"izmir",fromName:"Ankara",toName:"zmir"},{from:"ankara",to:"antalya",fromName:"Ankara",toName:"Antalya"},{from:"izmir",to:"antalya",fromName:"zmir",toName:"Antalya"}]},nO=[{id:"tekne",name:"Tekne Tama",slug:"tekne",description:"Tekne, yat ve deniz arac tama hizmeti",avgPrice:8e3,icon:"",targetCities:["mugla","antalya","izmir","istanbul"]},{id:"forklift",name:"Forklift Tama",slug:"forklift",description:" makinesi ve forklift nakliyesi",avgPrice:6500,icon:"",targetCities:["kocaeli","bursa","ankara","istanbul","izmir"]},{id:"karavan",name:"Karavan Tama",slug:"karavan",description:"Karavan ve motorhome ekici hizmeti",avgPrice:5500,icon:"",targetCities:["antalya","mugla","aydin","izmir"]},{id:"motosiklet",name:"Motosiklet ekici",slug:"motosiklet",description:"Motorsiklet ve ATV tama",avgPrice:2500,icon:"",targetCities:["istanbul","ankara","izmir","antalya"]},{id:"klasik-arac",name:"Klasik Ara Tama",slug:"klasik-arac",description:"Antika ve koleksiyon ara nakliyesi",avgPrice:9e3,icon:"",targetCities:["istanbul","ankara","izmir"]},{id:"is-makinesi",name:" Makinesi Tama",slug:"is-makinesi",description:"Vin, greyder, kazc tama",avgPrice:12e3,icon:"",targetCities:["ankara","istanbul","izmir","kocaeli","bursa"]}],iO=[{id:"lastikci",name:"Nbeti Lastiki",slug:"lastikci"},{id:"aku",name:"Nbeti Ak",slug:"aku"},{id:"cekici",name:"Nbeti ekici",slug:"cekici"},{id:"oto-elektrik",name:"Nbeti Oto Elektrik",slug:"oto-elektrik"},{id:"cam",name:"Nbeti Cam Tamiri",slug:"cam"}],sO=[{slug:"tem-otoyolu",name:"TEM Otoyolu",city:"stanbul",type:"highway"},{slug:"kuzey-marmara-otoyolu",name:"Kuzey Marmara Otoyolu",city:"stanbul",type:"highway"},{slug:"o-3-otoyolu",name:"O-3 Otoyolu (Avrupa)",city:"stanbul",type:"highway"},{slug:"o-4-otoyolu",name:"O-4 Otoyolu",city:"stanbul",type:"highway"},{slug:"ankara-izmir-otoyolu",name:"Ankara-zmir Otoyolu",city:"Ankara",type:"highway"},{slug:"istanbul-havalimani",name:"stanbul Havaliman",city:"stanbul",type:"airport"},{slug:"sabiha-gokcen",name:"Sabiha Gken Havaliman",city:"stanbul",type:"airport"},{slug:"esenboga-havalimani",name:"Esenboa Havaliman",city:"Ankara",type:"airport"},{slug:"izmir-adnan-menderes",name:"zmir Adnan Menderes Havaliman",city:"zmir",type:"airport"},{slug:"antalya-havalimani",name:"Antalya Havaliman",city:"Antalya",type:"airport"},{slug:"ostim-sanayi",name:"OSTM Sanayi Sitesi",city:"Ankara",type:"industrial"},{slug:"ikitelli-osb",name:"kitelli OSB",city:"stanbul",type:"industrial"},{slug:"dudullu-osb",name:"Dudullu OSB",city:"stanbul",type:"industrial"},{slug:"gebze-osb",name:"Gebze Organize Sanayi",city:"Kocaeli",type:"industrial"},{slug:"ege-serbest-bolge",name:"Ege Serbest Blgesi",city:"zmir",type:"industrial"},{slug:"maslak-oto-sanayi",name:"Maslak Oto Sanayi",city:"stanbul",type:"automotive"},{slug:"mecidiyekoy-oto-sanayi",name:"Mecidiyeky Oto Sanayi",city:"stanbul",type:"automotive"},{slug:"topkapi-oto-sanayi",name:"Topkap Oto Sanayi",city:"stanbul",type:"automotive"},{slug:"kozyatagi-oto-sanayi",name:"Kozyata Oto Sanayi",city:"stanbul",type:"automotive"}],aO=[{id:"cekici",name:"ekici Fiyatlar",slug:"cekici"},{id:"oto-kurtarma",name:"Oto Kurtarma Fiyatlar",slug:"oto-kurtarma"},{id:"lastik-degisimi",name:"Lastik Deiimi Fiyatlar",slug:"lastik-degisimi"},{id:"aku-takviyesi",name:"Ak Takviyesi Fiyatlar",slug:"aku-takviyesi"},{id:"sehirler-arasi",name:"ehirler Aras ekici Fiyatlar",slug:"sehirler-arasi"},{id:"yakit-yardimi",name:"Yakt Yardm Fiyatlar",slug:"yakit-yardimi"}],oO=2025,yR="/assets/1765057362098_kis-2.webp",vR=({onSearch:t})=>{const[e,r]=U.useState(!1),[i,a]=U.useState("city"),[o,u]=U.useState(""),[c,d]=U.useState(!1),[p,y]=U.useState("Konum alnyor..."),[m,v]=U.useState(""),[b,x]=U.useState(""),[E,C]=U.useState(!1),[R,I]=U.useState(""),[k,P]=U.useState(!1),[j,D]=U.useState("Arama balatlyor..."),[O,L]=U.useState(null),J=U.useRef(null),z=U.useRef(null),W=U.useRef(null),te=U.useRef(null);U.useEffect(()=>{function ie(Ce){J.current&&!J.current.contains(Ce.target)&&r(!1),z.current&&!z.current.contains(Ce.target)&&C(!1)}return document.addEventListener("mousedown",ie),()=>document.removeEventListener("mousedown",ie)},[]);const ce=Object.keys(Ko),ke=m?Ko[m]:[],je=i==="city"?ce.filter(ie=>ie.toLocaleLowerCase("tr").includes(o.toLocaleLowerCase("tr"))):ke.filter(ie=>ie.toLocaleLowerCase("tr").includes(o.toLocaleLowerCase("tr"))),Oe=qd.find(ie=>ie.id===R),Ee=ie=>{I(ie),C(!1)},ae=ie=>{var Ce;v(ie),a("district"),u(""),(Ce=W.current)==null||Ce.focus()},se=ie=>{x(ie),u(""),r(!1)},me=ie=>{var Ce;ie==null||ie.stopPropagation(),v(""),x(""),a("city"),u(""),r(!0),(Ce=W.current)==null||Ce.focus()},q=()=>{var ie;a("city"),x(""),v(""),u(""),(ie=W.current)==null||ie.focus()},re=()=>{if(!navigator.geolocation){alert("Taraycnz konum zelliini desteklemiyor.");return}console.log(" Konum servisi isteniyor (Hero)..."),d(!0),y("GPS konumunuz alnyor..."),r(!1),navigator.geolocation.getCurrentPosition(async ie=>{console.log(" Konum alnd:",ie.coords),y("Adres bilgileri zlyor...");const{latitude:Ce,longitude:Ve}=ie.coords;try{console.log(" Reverse geocoding balatlyor...");const Fe=await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${Ce}&lon=${Ve}&format=json&accept-language=tr`,{headers:{"User-Agent":"YOLMOV App"}});if(!Fe.ok)throw new Error("Geocoding API hatas");const Ke=await Fe.json();console.log(" Geocoding sonucu:",Ke),y("ehir ve ile eletiriliyor...");const Ye=Ke.address||{};let wt=Ye.province||Ye.state||Ye.city||Ye.town,ue=Ye.county||Ye.district||Ye.suburb||Ye.neighbourhood;console.log(" Tespit edilen ehir:",wt,"/ le:",ue);const pe=Object.keys(Ko).find(fe=>fe.toLowerCase()===(wt==null?void 0:wt.toLowerCase()));if(pe){console.log(" ehir eleti:",pe),ae(pe);const $=Ko[pe].find(G=>G.toLowerCase().includes(ue==null?void 0:ue.toLowerCase())||(ue==null?void 0:ue.toLowerCase().includes(G.toLowerCase())));$?(console.log(" le eleti:",$),y("Konum baaryla belirlendi!"),setTimeout(()=>{se($),d(!1)},500)):(console.warn(" le elemedi, ehir seildi"),a("district"),r(!0),d(!1))}else console.warn(" ehir sistemde bulunamad:",wt),d(!1),r(!0)}catch(Fe){console.error(" Reverse geocoding error:",Fe),alert("Konum bilgisi alnamad. Ltfen manuel olarak sein."),d(!1),r(!0)}},ie=>{console.error(" Geolocation error:",ie);let Ce="Konum eriimi reddedildi.";switch(ie.code){case ie.PERMISSION_DENIED:Ce="Konum izni reddedildi. Tarayc ayarlarndan konum iznini an.";break;case ie.POSITION_UNAVAILABLE:Ce="Konum bilgisi kullanlamyor. GPS/Wi-Fi ak olduundan emin olun.";break;case ie.TIMEOUT:Ce="Konum tespiti zaman amna urad. Tekrar deneyin.";break}console.error("Konum hatas:",Ce),d(!1),r(!0)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},ye=async()=>{if(te.current){const ie=te.current.getBoundingClientRect();L({top:ie.top,left:ie.left,width:ie.width,height:ie.height}),P(!0),D("Konumunuz analiz ediliyor...");const Ce=setTimeout(()=>{D("Blgedeki uzmanlar taranyor...")},800),Ve=setTimeout(()=>{D("Msaitlik durumlar kontrol ediliyor...")},1800),Fe=2500,Ke=Date.now();try{const Ye=await Nr.partnerSearch.getAvailablePartners(m,b);sessionStorage.setItem("yolmov_search_results",JSON.stringify({partners:Ye,city:m,district:b,timestamp:Date.now()}));const wt=Date.now()-Ke,ue=Math.max(0,Fe-wt);await new Promise(pe=>setTimeout(pe,ue)),D("Sonular hazr!"),setTimeout(()=>{clearTimeout(Ce),clearTimeout(Ve),t&&t(m,b,R)},400)}catch(Ye){console.error("Partner arama hatas:",Ye),D("Sonular hazr!"),setTimeout(()=>{clearTimeout(Ce),clearTimeout(Ve),t&&t(m,b,R)},400)}}},_e=()=>{if(!R)return w.jsx(tg,{size:64,className:"text-white",strokeWidth:1.5});switch(R){case"tow":return w.jsx(Cl,{size:64,className:"text-white",strokeWidth:1.5});case"battery":return w.jsx(bv,{size:64,className:"text-white",strokeWidth:1.5});case"tire":return w.jsx(Sv,{size:64,className:"text-white",strokeWidth:1.5});case"fuel":return w.jsx(kv,{size:64,className:"text-white",strokeWidth:1.5});default:return w.jsx(tg,{size:64,className:"text-white",strokeWidth:1.5})}};return w.jsxs("section",{className:"relative w-full min-h-[700px] flex items-center z-30",children:[k&&O&&w.jsx(Me.div,{initial:{position:"fixed",top:O.top,left:O.left,width:O.width,height:O.height,borderRadius:"1.5rem",backgroundColor:"#FF7A00",zIndex:9999,opacity:1},animate:{top:0,left:0,width:"100vw",height:"100vh",borderRadius:0},transition:{duration:.6,ease:[.645,.045,.355,1]},className:"flex flex-col items-center justify-center overflow-hidden",children:w.jsxs(Me.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3,duration:.4},className:"flex flex-col items-center text-white p-6 text-center w-full max-w-lg",children:[w.jsx(Me.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-10",children:w.jsx("h1",{className:"yolmov-logo text-5xl font-bold text-white",children:"yolmov"})}),w.jsxs("div",{className:"relative w-full h-40 flex items-center justify-center mb-8 overflow-hidden",children:[w.jsx("div",{className:"absolute w-32 h-32 bg-white/10 rounded-full animate-ping opacity-20"}),w.jsx("div",{className:"absolute w-48 h-48 bg-white/5 rounded-full animate-ping opacity-10 delay-150"}),w.jsx("div",{className:"absolute bottom-10 w-[200%] flex gap-12 animate-move-left opacity-30",children:[1,2,3,4,5,6,7,8].map(ie=>w.jsx("div",{className:"w-16 h-1 bg-white rounded-full"},ie))}),w.jsxs(Me.div,{animate:{y:[0,-4,0]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},className:"relative z-10 drop-shadow-[0_10px_20px_rgba(0,0,0,0.3)]",children:[_e(),w.jsx("div",{className:"absolute -bottom-2 left-2 right-2 h-1.5 bg-black/20 rounded-[100%] blur-sm"})]}),w.jsx(Me.div,{className:"absolute top-10 right-10 w-10 h-0.5 bg-white/40 rounded-full",animate:{x:[50,-100],opacity:[0,1,0]},transition:{repeat:1/0,duration:.8,delay:.2}}),w.jsx(Me.div,{className:"absolute bottom-12 right-0 w-16 h-0.5 bg-white/30 rounded-full",animate:{x:[50,-100],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.1}})]}),w.jsx("div",{className:"h-20 flex flex-col items-center justify-center",children:w.jsx(Ir,{mode:"wait",children:w.jsx(Me.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"text-3xl md:text-4xl font-display font-bold tracking-tight leading-tight text-white",children:j},j)})}),w.jsx(Me.div,{className:"w-64 h-1.5 bg-black/10 rounded-full mt-8 overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:w.jsx(Me.div,{className:"h-full bg-white rounded-full",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:2.8,ease:"easeInOut"}})})]})}),w.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden",children:[w.jsx("img",{src:yR,className:"absolute inset-0 w-full h-full object-cover",alt:"Yolmov K Manzaras"}),w.jsx("div",{className:"absolute inset-0 bg-black/20 z-10"})]}),w.jsx("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32 relative z-20 pt-4 md:pt-10 pb-10",children:w.jsxs("div",{className:"flex flex-col items-center text-center max-w-5xl mx-auto",children:[w.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"mb-4 md:mb-10",children:[w.jsxs("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-display font-black text-white leading-tight mb-1 md:mb-6 tracking-tight",style:{textShadow:"0 4px 12px rgba(0,0,0,0.6), 0 2px 4px rgba(0,0,0,0.4)"},children:["Yolda Kaldnzda ",w.jsx("br",{className:"hidden md:block"}),w.jsx("span",{className:"inline-block mt-1 md:mt-2",style:{color:"#FF7A00",textShadow:"0 4px 12px rgba(255,122,0,0.6), 0 2px 4px rgba(0,0,0,0.4)"},children:"Yannzdayz."})]}),w.jsx("p",{className:"text-sm md:text-lg text-white max-w-xl mx-auto font-medium leading-snug",style:{textShadow:"0 2px 8px rgba(0,0,0,0.6)"},children:"ekici, ak takviyesi, yakt, lastik ve yol yardm hizmetlerine tek tkla, gvenle ulan."})]}),w.jsx(Me.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"w-full max-w-5xl relative z-50",children:w.jsxs("div",{className:"bg-white rounded-[2rem] shadow-[0_20px_50px_rgba(0,0,0,0.4)] border border-white/20 flex flex-col md:flex-row p-3 items-center backdrop-blur-sm bg-white/95 relative z-50",children:[w.jsxs("div",{className:"relative w-full md:flex-1 group",ref:J,children:[w.jsxs("div",{className:`flex items-center h-20 px-6 cursor-pointer rounded-[1.5rem] transition-all duration-200 border border-transparent ${e?"bg-white shadow-lg border-gray-100":"hover:bg-gray-50"}`,onClick:()=>{var ie;k||(r(!0),C(!1),(ie=W.current)==null||ie.focus())},children:[w.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mr-4 transition-colors ${e?"bg-brand-orange text-white":"bg-orange-50 text-brand-orange"}`,children:w.jsx(Qd,{size:22,strokeWidth:2.5})}),w.jsxs("div",{className:"flex-1 flex flex-col items-start overflow-hidden",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:m&&i==="district"?"Hangi le?":"Neredesin?"}),!e&&m?w.jsxs("div",{className:"w-full text-gray-800 font-bold text-lg truncate",children:[m," ",b?`/ ${b}`:""]}):w.jsx("input",{ref:W,type:"text",className:"w-full bg-transparent border-none p-0 text-gray-800 font-bold text-lg placeholder-gray-300 focus:ring-0 leading-tight truncate",placeholder:i==="city"?"l ara...":`${m} > le ara...`,value:o,onChange:ie=>{u(ie.target.value),e||r(!0)},onFocus:()=>r(!0),autoComplete:"off",disabled:k})]}),m&&w.jsx("button",{onClick:me,className:"p-1 text-gray-300 hover:text-red-500 transition-colors z-20",disabled:k,children:w.jsx(mS,{size:20})})]}),w.jsx(Ir,{children:e&&!k&&w.jsxs(Me.div,{initial:{opacity:0,scale:.98,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.98,y:10},transition:{duration:.2},className:"absolute top-[110%] left-0 w-full md:min-w-[350px] bg-white rounded-2xl shadow-2xl border border-gray-100 max-h-[350px] overflow-y-auto z-[60] py-2 scrollbar-thin scrollbar-thumb-gray-200",children:[w.jsxs("div",{className:"px-2 pb-2 mb-2 border-b border-gray-50 sticky top-0 bg-white z-10 flex flex-col gap-1",children:[i==="district"&&w.jsxs("button",{onClick:q,className:"flex items-center gap-2 text-gray-500 hover:text-brand-orange text-sm px-4 py-2 transition-colors font-medium",children:[w.jsx(xv,{size:16}),"l Seimine Dn (",m,")"]}),i==="city"&&w.jsxs("button",{className:"w-full flex items-center gap-3 text-brand-orange font-semibold p-3 hover:bg-orange-50 rounded-xl transition-colors text-sm disabled:opacity-50",onClick:re,disabled:c,children:[w.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center",children:w.jsx(SS,{size:14,fill:"currentColor",className:c?"animate-spin":""})}),c?"Konum Alnyor...":"Mevcut Konumumu Kullan"]})]}),w.jsxs("div",{className:"px-2",children:[w.jsx("div",{className:"px-4 py-1 text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:i==="city"?"ehirler":`${m} leleri`}),je.length>0?je.map(ie=>w.jsxs("div",{className:`px-4 py-3 hover:bg-gray-50 cursor-pointer rounded-xl flex items-center justify-between group transition-colors mb-1 
                                ${i==="city"&&m===ie||i==="district"&&b===ie?"bg-gray-50":""}`,onClick:()=>{i==="city"?ae(ie):se(ie)},children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300 group-hover:bg-brand-orange transition-colors"}),w.jsx("span",{className:`text-sm font-medium ${i==="city"&&m===ie||i==="district"&&b===ie?"text-brand-orange":"text-gray-700"}`,children:ie})]}),(i==="city"&&m===ie||i==="district"&&b===ie)&&w.jsx(ld,{size:18,className:"text-brand-orange"})]},ie)):w.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"Sonu bulunamad."})]})]})})]}),w.jsx("div",{className:"hidden md:block w-[1px] h-12 bg-gray-100 mx-2"}),w.jsxs("div",{className:"relative w-full md:flex-1 group border-t border-gray-100 md:border-0",ref:z,children:[w.jsxs("div",{className:`flex items-center h-20 px-6 cursor-pointer rounded-[1.5rem] transition-all duration-200 border border-transparent ${E?"bg-white shadow-lg border-gray-100":"hover:bg-gray-50"}`,onClick:()=>{k||(C(!E),r(!1))},children:[w.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mr-4 transition-colors ${E?"bg-brand-orange text-white":"bg-orange-50 text-brand-orange"}`,children:Oe?w.jsx(Oe.icon,{size:22,strokeWidth:2.5}):w.jsx(cd,{size:22,strokeWidth:2.5})}),w.jsxs("div",{className:"flex-1 flex flex-col items-start",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"htiyacn Nedir?"}),w.jsxs("div",{className:"flex items-center justify-between w-full pr-2",children:[w.jsx("span",{className:`text-lg font-bold truncate ${Oe?"text-gray-800":"text-gray-300"}`,children:Oe?Oe.title:"Hizmet Sein"}),w.jsx(fS,{size:18,className:`text-gray-400 transition-transform duration-300 ${E?"rotate-180 text-brand-orange":""}`})]})]})]}),w.jsx(Ir,{children:E&&!k&&w.jsx(Me.div,{initial:{opacity:0,scale:.98,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.98,y:10},transition:{duration:.2},className:"absolute top-[110%] left-0 md:-left-12 w-full md:w-[120%] bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden z-[60]",children:w.jsx("div",{className:"p-3 grid grid-cols-1 md:grid-cols-2 gap-2 max-h-[400px] overflow-y-auto",children:qd.map(ie=>w.jsxs("div",{onClick:()=>Ee(ie.id),className:`flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all border border-transparent hover:border-orange-100 hover:bg-orange-50/50 ${R===ie.id?"bg-orange-50 border-orange-200":""}`,children:[w.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 shadow-sm ${R===ie.id?"bg-brand-orange text-white":"bg-white text-brand-orange"}`,children:w.jsx(ie.icon,{size:18})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h4",{className:`text-sm font-bold ${R===ie.id?"text-brand-orange":"text-gray-800"}`,children:ie.title}),w.jsx("p",{className:"text-[11px] text-gray-400 line-clamp-1 leading-normal mt-0.5",children:ie.description})]}),R===ie.id&&w.jsx(ld,{size:16,className:"text-brand-orange"})]},ie.id))})})})]}),w.jsx("div",{className:"p-2 w-full md:w-auto",children:w.jsxs("button",{ref:te,onClick:ye,disabled:k,"aria-label":"Hizmet ara ve talep olutur",className:"w-full md:w-auto h-16 md:h-20 px-8 text-white rounded-[1.5rem] shadow-lg shadow-orange-200 transition-all transform hover:scale-105 active:scale-95 flex items-center justify-center gap-3 whitespace-nowrap group disabled:opacity-0",style:{backgroundColor:"#FF7A00"},children:[w.jsx("span",{className:"font-bold text-lg",children:"Hemen Bul"}),w.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center group-hover:bg-white/30 transition-colors",children:w.jsx(cd,{size:18,strokeWidth:3})})]})})]})})]})}),w.jsx(Ir,{children:c&&w.jsx(Me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:w.jsxs(Me.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",damping:20},className:"bg-white rounded-3xl p-10 flex flex-col items-center shadow-2xl max-w-md mx-4",children:[w.jsxs("div",{className:"relative mb-6",children:[w.jsx(Ev,{className:"animate-spin text-brand-orange",size:64,strokeWidth:2.5}),w.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-orange-100 animate-pulse"})]}),w.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Konumunuz Belirleniyor"}),w.jsx("p",{className:"text-lg text-gray-600 text-center",children:p})]})})}),w.jsx("style",{children:`
        @keyframes move-left {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
        .animate-move-left {
          animation: move-left 1s linear infinite;
        }
      `})]})},wR=()=>w.jsx("section",{className:"relative z-10 py-16 md:py-24 bg-white",id:"services",children:w.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32",children:[w.jsxs("div",{className:"text-center mb-16",children:[w.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-brand-dark mb-4",children:"Hangi Hizmete htiyacnz Var?"}),w.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto",children:"Aracnzla ilgili her trl sorunda uzman ekiplerimiz bir tk uzanzda."})]}),w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:qd.map((t,e)=>w.jsxs(Me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.1,duration:.5},className:"group p-8 rounded-2xl border border-gray-100 bg-white hover:shadow-[0_8px_30px_rgb(0,0,0,0.06)] hover:border-orange-100 transition-all duration-300 cursor-pointer",children:[w.jsx("div",{className:"w-14 h-14 rounded-xl bg-orange-50 flex items-center justify-center mb-6 group-hover:bg-brand-orange transition-colors duration-300",children:w.jsx(t.icon,{className:"w-7 h-7 text-brand-orange group-hover:text-white transition-colors duration-300",strokeWidth:2})}),w.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3 group-hover:text-brand-orange transition-colors",children:t.title}),w.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:t.description})]},t.id))})]})}),_R=()=>w.jsxs("section",{className:"py-24 bg-gray-50 relative overflow-hidden",children:[w.jsx("div",{className:"absolute top-0 right-0 w-1/3 h-1/3 bg-orange-100/40 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/3 pointer-events-none"}),w.jsx("div",{className:"absolute bottom-0 left-0 w-1/3 h-1/3 bg-blue-100/40 rounded-full blur-[100px] translate-y-1/2 -translate-x-1/3 pointer-events-none"}),w.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32 relative z-10",children:[w.jsxs("div",{className:"text-center mb-20 max-w-3xl mx-auto",children:[w.jsx(Me.span,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-brand-orange font-bold uppercase tracking-wider text-xs md:text-sm mb-3 block",children:"Kolay Kullanm"}),w.jsx(Me.h2,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-3xl md:text-4xl font-display font-bold text-brand-dark mb-6",children:"Yolmov Nasl alr?"}),w.jsx(Me.p,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-gray-500 text-lg font-light",children:"Karmak srelerle uramayn. Sadece 3 basit admda, ihtiyacnz olan uzman yardm bulunduunuz konuma ynlendiriyoruz."})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 relative",children:[w.jsx("div",{className:"hidden md:block absolute top-[40%] left-10 right-10 h-0.5 bg-gradient-to-r from-gray-200 via-brand-orange/30 to-gray-200 -z-0 border-t border-dashed border-gray-300"}),mR.map((t,e)=>w.jsxs(Me.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.2},className:"relative bg-white p-8 rounded-[2rem] shadow-xl shadow-gray-100/50 border border-gray-100 hover:-translate-y-2 transition-transform duration-500 z-10 group overflow-hidden",children:[w.jsxs("div",{className:"absolute -top-6 -right-6 text-[8rem] font-display font-black text-gray-50 group-hover:text-orange-50/60 transition-colors select-none -z-10 pointer-events-none leading-none",children:["0",t.id]}),w.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-50 to-white border border-orange-100 rounded-2xl flex items-center justify-center mb-8 shadow-sm group-hover:shadow-md group-hover:scale-110 transition-all duration-300 group-hover:bg-brand-orange group-hover:border-brand-orange",children:w.jsx(t.icon,{className:"w-7 h-7 text-brand-orange group-hover:text-white transition-colors duration-300",strokeWidth:2})}),w.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3 group-hover:text-brand-orange transition-colors",children:t.title}),w.jsx("p",{className:"text-gray-500 leading-relaxed text-sm md:text-base",children:t.description}),e<2&&w.jsx("div",{className:"md:hidden absolute bottom-4 right-4 text-orange-100",children:w.jsx(od,{className:"rotate-90 w-6 h-6"})})]},t.id))]})]})]}),bR=()=>w.jsx("section",{className:"py-16 bg-white",children:w.jsx("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32",children:w.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-8",children:gR.map(t=>w.jsxs("div",{className:"flex flex-col items-center text-center p-6 bg-gray-50 rounded-xl hover:bg-orange-50/50 transition-colors",children:[w.jsx("div",{className:"mb-4 p-3 bg-white rounded-xl shadow-sm",children:w.jsx(t.icon,{className:"w-6 h-6 text-brand-orange"})}),w.jsx("h4",{className:"font-bold text-gray-800 text-sm md:text-base",children:t.title})]},t.id))})})}),xR=()=>{const t=U.useRef(null),e=oi(),[r,i]=U.useState([]),[a,o]=U.useState(!0);U.useEffect(()=>{(async()=>{try{const d=await L_.getActive();i(d)}catch(d){console.error("Kampanyalar yklenemedi:",d),i([])}finally{o(!1)}})()},[]);const u=c=>{if(t.current){const{current:d}=t,p=c==="left"?-d.offsetWidth/2:d.offsetWidth/2;d.scrollBy({left:p,behavior:"smooth"})}};return!a&&r.length===0?null:a?w.jsx("section",{className:"py-20 bg-white border-t border-gray-100 overflow-hidden",children:w.jsx("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32",children:w.jsxs("div",{className:"animate-pulse",children:[w.jsx("div",{className:"h-4 w-24 bg-slate-200 rounded mb-4"}),w.jsx("div",{className:"h-8 w-64 bg-slate-200 rounded mb-2"}),w.jsx("div",{className:"h-4 w-96 bg-slate-200 rounded mb-10"}),w.jsxs("div",{className:"flex gap-6",children:[w.jsx("div",{className:"min-w-[85vw] md:min-w-[calc(50%-12px)] lg:min-w-[calc(33.33%-16px)] h-[450px] bg-slate-200 rounded-3xl"}),w.jsx("div",{className:"min-w-[85vw] md:min-w-[calc(50%-12px)] lg:min-w-[calc(33.33%-16px)] h-[450px] bg-slate-200 rounded-3xl"})]})]})})}):w.jsx("section",{className:"py-20 bg-white border-t border-gray-100 overflow-hidden","aria-label":"Frsatlar ve Kampanyalar blm",children:w.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32",children:[w.jsxs("div",{className:"flex justify-between items-end mb-10",children:[w.jsxs("div",{children:[w.jsx("span",{className:"font-bold uppercase tracking-wider text-xs md:text-sm mb-2 block",style:{color:"#FF7A00"},children:"Avantajlar"}),w.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-brand-dark",children:"Frsatlar ve Kampanyalar"}),w.jsx("p",{className:"text-gray-500 mt-2 max-w-xl",children:"Yolmov kullanclarna zel indirimler, i birlikleri ve mevsimsel avantajlar kefedin."})]}),w.jsxs("div",{className:"hidden md:flex gap-3",children:[w.jsx("button",{onClick:()=>u("left"),"aria-label":"nceki kampanyalar",className:"w-12 h-12 rounded-full border border-gray-200 flex items-center justify-center text-gray-600 hover:text-white hover:border-brand-orange transition-all",style:{hover:{backgroundColor:"#FF6B35"}},children:w.jsx(xv,{size:24})}),w.jsx("button",{onClick:()=>u("right"),"aria-label":"Sonraki kampanyalar",className:"w-12 h-12 rounded-full border border-gray-200 flex items-center justify-center text-gray-600 hover:text-white hover:border-brand-orange transition-all",style:{hover:{backgroundColor:"#FF6B35"}},children:w.jsx(pS,{size:24})})]})]}),w.jsxs("div",{ref:t,className:"flex gap-6 overflow-x-auto pb-8 snap-x snap-mandatory scrollbar-hide -mx-4 px-4 md:mx-0 md:px-0",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[r.map((c,d)=>w.jsxs(Me.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:d*.1},onClick:()=>e(`/kampanya/${c.id}`),className:"min-w-[85vw] md:min-w-[calc(50%-12px)] lg:min-w-[calc(33.33%-16px)] snap-center group relative h-[450px] rounded-3xl overflow-hidden cursor-pointer shadow-md",children:[w.jsx("img",{src:c.image_url,alt:c.title,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent opacity-90 group-hover:opacity-100 transition-opacity"}),w.jsxs("div",{className:"absolute inset-0 p-8 flex flex-col justify-between",children:[w.jsx("div",{className:"flex justify-start",children:c.badge_text&&w.jsx("span",{className:"px-4 py-2 bg-white/20 backdrop-blur-md text-white text-xs font-bold uppercase tracking-wider rounded-xl border border-white/30 shadow-sm",children:c.badge_text})}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-2xl font-bold text-white mb-3 leading-tight group-hover:text-brand-orange transition-colors",children:c.title}),w.jsx("p",{className:"text-gray-300 text-sm mb-6 line-clamp-2 leading-relaxed",children:c.description}),w.jsxs("div",{className:"flex items-center gap-2 text-white font-bold text-sm group/btn",children:[w.jsx("span",{className:"border-b-2 border-white/30 group-hover/btn:border-brand-orange pb-1 transition-colors",children:"Detayl Bilgi"}),w.jsx(od,{size:16,className:"group-hover/btn:translate-x-1 transition-transform"})]})]})]})]},c.id)),w.jsxs(Me.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:r.length*.1},onClick:()=>e("/kampanyalar"),className:"min-w-[85vw] md:min-w-[calc(50%-12px)] lg:min-w-[calc(33.33%-16px)] snap-center bg-gray-50 rounded-3xl flex flex-col items-center justify-center p-8 border-2 border-dashed border-gray-200 hover:border-brand-orange hover:bg-orange-50 transition-all cursor-pointer group h-[450px]",children:[w.jsx("div",{className:"w-20 h-20 rounded-full bg-white shadow-md flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:w.jsx(od,{size:32,className:"text-brand-orange"})}),w.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2 group-hover:text-brand-orange transition-colors",children:"Tm Kampanyalar"}),w.jsx("p",{className:"text-gray-500 text-center text-base max-w-xs",children:"Gemi ve gelecek tm frsatlar incelemek iin tklayn."})]})]})]})})},SR=()=>{const t=oi(),e=r=>{t(r),window.scrollTo({top:0,behavior:"smooth"})};return w.jsx("footer",{className:"bg-gradient-to-br from-gray-900 to-gray-800 text-white pt-16 pb-8",children:w.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 mb-12",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"mb-6 cursor-pointer",onClick:()=>e("/"),children:[w.jsx("span",{className:"yolmov-logo text-3xl font-bold text-white block mb-4",children:"yolmov"}),w.jsx("span",{className:"hidden"})]}),w.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Yolda kaldnz her an yannzdayz. Modern, hzl ve gvenilir yol yardm platformu."})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-lg font-bold mb-6 text-white/90",children:"Kurumsal"}),w.jsxs("ul",{className:"space-y-3 text-sm text-gray-400",children:[w.jsx("li",{children:w.jsx("button",{onClick:()=>e("/hakkimizda"),className:"hover:text-brand-orange transition-colors text-left",children:"Hakkmzda"})}),w.jsx("li",{children:w.jsx("button",{onClick:()=>e("/hizmetler"),className:"hover:text-brand-orange transition-colors text-left",children:"Hizmetler"})}),w.jsx("li",{children:w.jsx("button",{onClick:()=>e("/kariyer"),className:"hover:text-brand-orange transition-colors text-left",children:"Kariyer"})}),w.jsx("li",{children:w.jsx("button",{onClick:()=>e("/blog"),className:"hover:text-brand-orange transition-colors text-left",children:"Blog"})}),w.jsx("li",{children:w.jsx("button",{onClick:()=>e("/iletisim"),className:"hover:text-brand-orange transition-colors text-left",children:"letiim"})})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-lg font-bold mb-6 text-white/90",children:"Hizmetler"}),w.jsx("ul",{className:"space-y-3 text-sm text-gray-400",children:["ekici Hizmeti","Ak Takviyesi","Lastik Deiimi","Yakt Destei","Oto Kurtarma"].map(r=>w.jsx("li",{children:w.jsx("button",{onClick:()=>e("/hizmetler"),className:"hover:text-brand-orange transition-colors text-left",children:r})},r))})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-lg font-bold mb-6 text-white/90",children:"Bize Ulan"}),w.jsx("ul",{className:"space-y-4 text-sm text-gray-400",children:w.jsxs("li",{className:"flex items-start gap-3",children:[w.jsx(Qd,{className:"w-5 h-5 text-brand-orange shrink-0"}),w.jsx("span",{children:"Platform zerinden 7/24 hizmet talebinde bulunabilirsiniz"})]})})]})]}),w.jsxs("div",{className:"border-t border-gray-700 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[w.jsxs("p",{className:"text-gray-500 text-xs text-center md:text-left",children:[" ",new Date().getFullYear()," Yolmov Teknoloji A.. Tm haklar sakldr."]}),w.jsxs("div",{className:"flex space-x-6 text-xs text-gray-500",children:[w.jsx("button",{onClick:()=>e("/gizlilik-politikasi"),className:"hover:text-white transition-colors",children:"Gizlilik Politikas"}),w.jsx("button",{onClick:()=>e("/kullanim-kosullari"),className:"hover:text-white transition-colors",children:"Kullanm Koullar"})]})]})]})})},kR=({onAccept:t,onReject:e})=>{const[r,i]=U.useState(!1);U.useEffect(()=>{localStorage.getItem("yolmov_cookie_consent")||setTimeout(()=>i(!0),1500)},[]);const a=()=>{localStorage.setItem("yolmov_cookie_consent","accepted"),i(!1),t&&t()},o=()=>{localStorage.setItem("yolmov_cookie_consent","rejected"),i(!1),e&&e()},u=()=>{i(!1)};return w.jsx(Ir,{children:r&&w.jsx(Me.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 z-50 p-4 md:p-6",children:w.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-3xl shadow-2xl border-2 border-gray-200 overflow-hidden",children:[w.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 p-6 md:p-8",children:[w.jsx("div",{className:"shrink-0",children:w.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-2xl flex items-center justify-center",children:w.jsx(yS,{size:32,className:"text-brand-orange"})})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-2",children:" erez Bildirimi"}),w.jsxs("p",{className:"text-sm md:text-base text-gray-600 leading-relaxed",children:["Yolmov olarak, size daha iyi bir deneyim sunmak, platformumuzu gelitirmek ve yasal ykmllklerimizi yerine getirmek amacyla",w.jsx("strong",{className:"text-gray-800",children:" erezler ve benzer teknolojiler "})," kullanyoruz. Platformumuzu kullanmaya devam ederek,",w.jsx("button",{onClick:()=>{const c=new CustomEvent("yolmov:navigate",{detail:{page:"privacy-policy"}});window.dispatchEvent(c)},className:"text-brand-orange hover:underline font-bold ml-1",children:"Gizlilik Politikamz"})," ","ve erez kullanmn kabul etmi olursunuz."]})]}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto md:shrink-0",children:[w.jsx("button",{onClick:o,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transition-colors text-sm whitespace-nowrap",children:"Reddet"}),w.jsx("button",{onClick:a,className:"px-6 py-3 bg-brand-orange text-white rounded-xl font-bold hover:bg-orange-600 transition-colors text-sm shadow-lg whitespace-nowrap",children:"Kabul Et"})]}),w.jsx("button",{onClick:u,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Kapat",children:w.jsx(oa,{size:20})})]}),w.jsx("div",{className:"bg-gray-50 border-t border-gray-200 px-6 md:px-8 py-3",children:w.jsxs("p",{className:"text-xs text-gray-500 text-center",children:[w.jsx("strong",{className:"text-gray-700",children:"KVKK Uyars:"})," Kiisel verileriniz,",w.jsx("button",{onClick:()=>{const c=new CustomEvent("yolmov:navigate",{detail:{page:"privacy-policy"}});window.dispatchEvent(c)},className:"text-brand-orange hover:underline mx-1",children:"6698 sayl Kiisel Verilerin Korunmas Kanunu"}),"kapsamnda ilenmektedir. Detayl bilgi iin Gizlilik Politikamz inceleyebilirsiniz."]})})]})})})},Wo=({children:t})=>{const e=Mr(),[r,i]=U.useState(!0),[a,o]=U.useState(!1);return U.useEffect(()=>{const u=localStorage.getItem("yolmov_customer");console.log(" ProtectedRoute Auth Check:",{hasCustomer:!!u,path:e.pathname}),o(!!u),i(!1)},[e.pathname]),r?w.jsx("div",{className:"min-h-screen flex items-center justify-center",children:w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"w-16 h-16 border-4 border-brand-orange border-t-transparent rounded-full animate-spin mx-auto mb-4"}),w.jsx("p",{className:"text-gray-600",children:"Ykleniyor..."})]})}):a?w.jsx(w.Fragment,{children:t}):w.jsx(U1,{to:"/giris-gerekli",state:{message:"Bu sayfaya erimek iin ye girii yapmanz gerekiyor.",returnUrl:e.pathname+e.search},replace:!0})};class Qy extends U.Component{constructor(){super(...arguments);Ht(this,"state",{hasError:!1,error:null,errorInfo:null,countdown:5,autoReload:!0});Ht(this,"countdownInterval",null);Ht(this,"startCountdown",()=>{this.countdownInterval&&clearInterval(this.countdownInterval),this.countdownInterval=setInterval(()=>{this.setState(r=>{const i=r.countdown-1;return i<=0&&r.autoReload?(this.countdownInterval&&clearInterval(this.countdownInterval),window.location.reload(),r):{countdown:i}})},1e3)});Ht(this,"cancelAutoReload",()=>{this.countdownInterval&&clearInterval(this.countdownInterval),this.setState({autoReload:!1})});Ht(this,"handleReload",()=>{window.location.reload()});Ht(this,"handleGoHome",()=>{window.location.href="/"});Ht(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,i){console.error(" [ErrorBoundary] Caught error:",r),console.error(" [ErrorBoundary] Error info:",i),this.setState({errorInfo:i,countdown:5,autoReload:!0}),this.startCountdown()}componentWillUnmount(){this.countdownInterval&&clearInterval(this.countdownInterval)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:w.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full p-8 text-center",children:[w.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:w.jsx(CS,{className:"w-8 h-8 text-red-500"})}),w.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Bir eyler Yanl Gitti"}),this.state.autoReload?w.jsxs("div",{className:"mb-6",children:[w.jsx("p",{className:"text-slate-600 mb-3",children:"Sayfa yklenirken beklenmeyen bir hata olutu."}),w.jsxs("div",{className:"flex items-center justify-center gap-2 text-brand-orange",children:[w.jsx(rg,{className:"w-5 h-5 animate-spin"}),w.jsxs("span",{className:"font-bold text-lg",children:[this.state.countdown," saniye iinde otomatik yenileniyor..."]})]}),w.jsx("button",{onClick:this.cancelAutoReload,className:"text-sm text-slate-500 hover:text-slate-700 underline mt-2",children:"Otomatik yenilemeyi iptal et"})]}):w.jsx("p",{className:"text-slate-600 mb-6",children:"Sayfa yklenirken beklenmeyen bir hata olutu. Ltfen sayfay yenileyin veya ana sayfaya dnn."}),!1,!this.state.autoReload&&w.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[w.jsxs("button",{onClick:this.handleReload,className:"flex items-center justify-center gap-2 px-6 py-3 bg-brand-orange text-white rounded-xl font-medium hover:bg-orange-600 transition-colors",children:[w.jsx(rg,{size:18}),"imdi Yenile"]}),w.jsxs("button",{onClick:this.handleGoHome,className:"flex items-center justify-center gap-2 px-6 py-3 bg-slate-600 text-white rounded-xl font-medium hover:bg-slate-700 transition-colors",children:[w.jsx(vS,{size:18}),"Ana Sayfa"]})]}),w.jsx("p",{className:"text-xs text-slate-400 mt-6",children:"Sorun devam ederse ltfen destek ekibimizle iletiime gein."})]})}):this.props.children}}const Xy=typeof window<"u"&&window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1"),$t={log:(...t)=>!Xy&&console.log(...t),warn:(...t)=>!Xy&&console.warn(...t),error:(...t)=>console.error(...t)};let kr=null,rl=0,nl=!0,Gh=0;function ER(){if(typeof window>"u")return;const t=()=>{const r=window.scrollY||document.documentElement.scrollTop,i=document.documentElement.scrollHeight-window.innerHeight,a=i>0?Math.round(r/i*100):0;a>rl&&(rl=Math.min(a,100),kr&&(kr.maxScrollDepth=rl))};let e=null;window.addEventListener("scroll",()=>{e||(e=window.setTimeout(()=>{t(),e=null},100))},{passive:!0})}function CR(){if(typeof window>"u")return;const t=()=>{if(kr){const e=Math.round((Date.now()-kr.enterTime)/1e3),r={page_url:kr.url,duration_seconds:e,scroll_depth:kr.maxScrollDepth,is_exit_page:!0,is_bounce:Gh===1&&e<30,session_id:Hh(),user_id:M_().userId||null,activity_type:"page_exit"};navigator.sendBeacon&&new Blob([JSON.stringify(r)],{type:"application/json"}),$t.log(" Page exit:",r)}};window.addEventListener("beforeunload",t),window.addEventListener("pagehide",t),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&t()})}function TR(){const t=document.referrer,e=new URLSearchParams(window.location.search),r=e.get("utm_source"),i=e.get("utm_medium"),a=e.get("utm_campaign"),o=e.get("utm_term"),u=e.get("utm_content");if(r)return{source:r,medium:i||"unknown",campaign:a||void 0,term:o||void 0,content:u||void 0};if(!t)return{source:"direct",medium:"none"};const d=new URL(t).hostname.toLowerCase(),p={google:"google",bing:"bing",yahoo:"yahoo",yandex:"yandex",duckduckgo:"duckduckgo",baidu:"baidu"};for(const[m,v]of Object.entries(p))if(d.includes(m))return{source:v,medium:"organic"};const y=["facebook","instagram","twitter","linkedin","pinterest","tiktok","youtube","reddit","whatsapp","t.co"];for(const m of y)if(d.includes(m))return{source:m,medium:"social"};return{source:d,medium:"referral"}}function AR(t){let e="Unknown",r="Unknown",i="desktop";if(t.includes("Chrome")&&!t.includes("Edg")&&!t.includes("OPR")){const a=t.match(/Chrome\/(\d+)/);e=a?`Chrome ${a[1]}`:"Chrome"}else if(t.includes("Firefox")){const a=t.match(/Firefox\/(\d+)/);e=a?`Firefox ${a[1]}`:"Firefox"}else if(t.includes("Safari")&&!t.includes("Chrome")){const a=t.match(/Version\/(\d+)/);e=a?`Safari ${a[1]}`:"Safari"}else if(t.includes("Edg")){const a=t.match(/Edg\/(\d+)/);e=a?`Edge ${a[1]}`:"Edge"}else(t.includes("OPR")||t.includes("Opera"))&&(e="Opera");if(t.includes("Windows NT 10"))r="Windows 10/11";else if(t.includes("Windows"))r="Windows";else if(t.includes("Mac OS X")){const a=t.match(/Mac OS X (\d+[._]\d+)/);r=a?`macOS ${a[1].replace("_",".")}`:"macOS"}else if(t.includes("Linux")&&!t.includes("Android"))r="Linux";else if(t.includes("Android")){const a=t.match(/Android (\d+)/);r=a?`Android ${a[1]}`:"Android",i="mobile"}else if(t.includes("iPhone")){const a=t.match(/iPhone OS (\d+)/);r=a?`iOS ${a[1]}`:"iOS",i="mobile"}else if(t.includes("iPad")){const a=t.match(/CPU OS (\d+)/);r=a?`iPadOS ${a[1]}`:"iPadOS",i="tablet"}return t.includes("Mobile")&&i==="desktop"?i="mobile":t.includes("Tablet")&&(i="tablet"),{browser:e,os:r,deviceType:i}}function PR(){return typeof window>"u"?{screenResolution:"unknown",viewportSize:"unknown"}:{screenResolution:`${screen.width}x${screen.height}`,viewportSize:`${window.innerWidth}x${window.innerHeight}`}}function RR(){if(typeof navigator>"u")return"unknown";const t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return t&&(t.effectiveType||t.type)||"unknown"}function Hh(){let t=sessionStorage.getItem("yolmov_session_id");return t||(t=$h(),sessionStorage.setItem("yolmov_session_id",t),nl=!0,Gh=0),t}function jR(){let t=localStorage.getItem("yolmov_anon_id");return t||(t=`anon_${$h()}`,localStorage.setItem("yolmov_anon_id",t)),t}let Go=null;async function OR(){if(Go)return Go;try{return Go=(await(await fetch("https://api.ipify.org?format=json",{method:"GET",cache:"force-cache"})).json()).ip,Go}catch(t){return $t.warn("IP adresi alnamad:",t),null}}function M_(){try{const t=localStorage.getItem("yolmov_admin");if(t){const a=JSON.parse(t);return{userId:a.id,userType:"admin",userEmail:a.email,userName:a.name}}const e=localStorage.getItem("yolmov_partner");if(e){const a=JSON.parse(e);return{userId:a.id,userType:"partner",userEmail:a.email,userName:a.name||a.company_name}}const r=localStorage.getItem("yolmov_customer");if(r){const a=JSON.parse(r);return{userId:a.id,userType:"customer",userEmail:a.email,userName:`${a.firstName||""} ${a.lastName||""}`.trim()}}const i=localStorage.getItem("yolmov-auth-session");if(i){const a=JSON.parse(i);if(a.user)return{userId:a.user.id,userType:"customer",userEmail:a.user.email}}}catch(t){$t.warn("Error getting current user:",t)}return{userType:"anonymous",userId:jR()}}let ti=null;async function NR(){if(ti!==null)return ti;try{const{error:t}=await K.from("activity_logs").select("traffic_source").limit(1);return ti=!t,$t.log(" V2 columns available:",ti),ti}catch{return ti=!1,!1}}async function z_(t,e){try{const r=navigator.userAgent,{browser:i,os:a,deviceType:o}=AR(r),{screenResolution:u,viewportSize:c}=PR(),d=TR(),p=M_(),y=Hh(),m=await OR(),v={user_id:p.userId||null,user_type:p.userType,user_email:p.userEmail||null,user_name:p.userName||null,activity_type:t,page_url:window.location.pathname+window.location.search,page_title:document.title,referrer:document.referrer||null,ip_address:m,user_agent:r,device_type:o,browser:i,os:a,metadata:e||{},session_id:y},b=await NR();b&&(v.traffic_source=d.source,v.traffic_medium=d.medium,v.utm_campaign=d.campaign||null,v.utm_source=new URLSearchParams(window.location.search).get("utm_source")||null,v.utm_medium=new URLSearchParams(window.location.search).get("utm_medium")||null,v.utm_term=new URLSearchParams(window.location.search).get("utm_term")||null,v.utm_content=new URLSearchParams(window.location.search).get("utm_content")||null,v.is_landing_page=nl,v.screen_resolution=u,v.viewport_size=c,v.language=navigator.language||"unknown",v.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone||"unknown",v.connection_type=RR());const{error:x}=await K.from("activity_logs").insert(v);if(x){if($t.warn(" Activity log insert failed:",x.message),x.message.includes("column")&&b)return ti=!1,$t.warn(" V2 columns not found, retrying with V1..."),z_(t,e)}else $t.log(` Activity tracked: ${t}`,{page:v.page_url,source:b?d.source:"v1-mode",isLanding:nl});t==="page_view"&&(nl=!1,Gh++)}catch(r){$t.warn("Activity tracking failed:",r)}}function IR(t){if(kr){const e=Math.round((Date.now()-kr.enterTime)/1e3);DR(kr.url,e,kr.maxScrollDepth)}kr={url:window.location.pathname+window.location.search,title:t||document.title,enterTime:Date.now(),maxScrollDepth:0},rl=0,z_("page_view",{title:t||document.title})}async function DR(t,e,r){try{const{error:i}=await K.from("activity_logs").update({duration_seconds:e,scroll_depth:r}).eq("page_url",t).eq("session_id",Hh()).eq("activity_type","page_view").order("created_at",{ascending:!1}).limit(1);i?$t.warn(" Page duration update failed:",i.message):$t.log(` Page duration updated: ${t} - ${e}s, ${r}% scroll`)}catch(i){$t.warn("Page duration update failed:",i)}}async function lO(t){try{$t.log(" [ActivityTracker] Fetching activity logs with options:",t);let e=K.from("activity_logs").select("*").order("created_at",{ascending:!1});t!=null&&t.limit&&(e=e.limit(t.limit)),t!=null&&t.userType&&(e=e.eq("user_type",t.userType)),t!=null&&t.activityType&&(e=e.eq("activity_type",t.activityType)),t!=null&&t.startDate&&(e=e.gte("created_at",t.startDate)),t!=null&&t.endDate&&(e=e.lte("created_at",t.endDate)),t!=null&&t.trafficSource&&(e=e.eq("traffic_source",t.trafficSource));const{data:r,error:i}=await e;if($t.log(" [ActivityTracker] Query result:",{dataCount:(r==null?void 0:r.length)||0,error:(i==null?void 0:i.message)||null}),i)throw i;return(r||[]).map(a=>({id:a.id,userId:a.user_id,userType:a.user_type,userEmail:a.user_email,userName:a.user_name,activityType:a.activity_type,pageUrl:a.page_url,pageTitle:a.page_title,referrer:a.referrer,ipAddress:a.ip_address,userAgent:a.user_agent,deviceType:a.device_type,browser:a.browser,os:a.os,metadata:a.metadata,sessionId:a.session_id,createdAt:a.created_at,durationSeconds:a.duration_seconds,scrollDepth:a.scroll_depth,trafficSource:a.traffic_source,trafficMedium:a.traffic_medium,utmCampaign:a.utm_campaign,utmSource:a.utm_source,utmMedium:a.utm_medium,utmTerm:a.utm_term,utmContent:a.utm_content,isLandingPage:a.is_landing_page,isExitPage:a.is_exit_page,isBounce:a.is_bounce,screenResolution:a.screen_resolution,viewportSize:a.viewport_size,language:a.language,timezone:a.timezone,connectionType:a.connection_type}))}catch(e){return $t.error(" Activity logs fetch failed:",e),[]}}async function uO(){try{const t=new Date().toISOString().split("T")[0],{count:e}=await K.from("activity_logs").select("*",{count:"exact",head:!0}).eq("activity_type","page_view"),{data:r}=await K.from("activity_logs").select("session_id").eq("activity_type","page_view"),i=new Set(r==null?void 0:r.map(O=>O.session_id)).size,{count:a}=await K.from("activity_logs").select("*",{count:"exact",head:!0}).eq("activity_type","page_view").gte("created_at",t),{data:o}=await K.from("activity_logs").select("session_id").eq("activity_type","page_view").gte("created_at",t),u=new Set(o==null?void 0:o.map(O=>O.session_id)).size,{data:c}=await K.from("activity_logs").select("duration_seconds, scroll_depth, is_bounce").eq("activity_type","page_view").not("duration_seconds","is",null),d=c!=null&&c.length?c.reduce((O,L)=>O+(L.duration_seconds||0),0)/c.length:0,p=c!=null&&c.length?c.reduce((O,L)=>O+(L.scroll_depth||0),0)/c.length:0,y=(c==null?void 0:c.filter(O=>O.is_bounce).length)||0,m=c!=null&&c.length?y/c.length*100:0,{data:v}=await K.from("activity_logs").select("page_url, duration_seconds").eq("activity_type","page_view").limit(1e3),b=new Map;v==null||v.forEach(O=>{const L=b.get(O.page_url)||{count:0,totalDuration:0};b.set(O.page_url,{count:L.count+1,totalDuration:L.totalDuration+(O.duration_seconds||0)})});const x=Array.from(b.entries()).map(([O,L])=>({pageUrl:O,count:L.count,avgDuration:Math.round(L.totalDuration/L.count)})).sort((O,L)=>L.count-O.count).slice(0,10),{data:E}=await K.from("activity_logs").select("traffic_source").eq("activity_type","page_view"),C=new Map;E==null||E.forEach(O=>{const L=O.traffic_source||"direct";C.set(L,(C.get(L)||0)+1)});const R=(E==null?void 0:E.length)||1,I=Array.from(C.entries()).map(([O,L])=>({source:O,count:L,percentage:Math.round(L/R*100)})).sort((O,L)=>L.count-O.count),{data:k}=await K.from("activity_logs").select("user_type").eq("activity_type","page_view"),P=Array.from((k||[]).reduce((O,L)=>(O.set(L.user_type,(O.get(L.user_type)||0)+1),O),new Map)).map(([O,L])=>({userType:O,count:L})),{data:j}=await K.from("activity_logs").select("device_type").eq("activity_type","page_view"),D=Array.from((j||[]).reduce((O,L)=>(O.set(L.device_type||"unknown",(O.get(L.device_type||"unknown")||0)+1),O),new Map)).map(([O,L])=>({deviceType:O,count:L}));return{totalPageViews:e||0,uniqueVisitors:i,todayPageViews:a||0,todayUniqueVisitors:u,avgSessionDuration:Math.round(d),avgScrollDepth:Math.round(p),bounceRate:Math.round(m),topPages:x,trafficSources:I,userTypeBreakdown:P,deviceBreakdown:D}}catch(t){return $t.error(" Activity stats fetch failed:",t),{totalPageViews:0,uniqueVisitors:0,todayPageViews:0,todayUniqueVisitors:0,avgSessionDuration:0,avgScrollDepth:0,bounceRate:0,topPages:[],trafficSources:[],userTypeBreakdown:[],deviceBreakdown:[]}}}typeof window<"u"&&(ER(),CR());function Ho(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ed={exports:{}},Zy;function LR(){return Zy||(Zy=1,(function(t,e){(function(r){t.exports=r()})(function(){var r=Math.floor,i=Math.abs,a=Math.pow;return(function(){function o(u,c,d){function p(v,b){if(!c[v]){if(!u[v]){var x=typeof Ho=="function"&&Ho;if(!b&&x)return x(v,!0);if(y)return y(v,!0);var E=new Error("Cannot find module '"+v+"'");throw E.code="MODULE_NOT_FOUND",E}var C=c[v]={exports:{}};u[v][0].call(C.exports,function(R){var I=u[v][1][R];return p(I||R)},C,C.exports,o,u,c,d)}return c[v].exports}for(var y=typeof Ho=="function"&&Ho,m=0;m<d.length;m++)p(d[m]);return p}return o})()({1:[function(o,u,c){function d(P){var j=P.length;if(0<j%4)throw new Error("Invalid string. Length must be a multiple of 4");var D=P.indexOf("=");D===-1&&(D=j);var O=D===j?0:4-D%4;return[D,O]}function p(P,j,D){return 3*(j+D)/4-D}function y(P){var j,D,O=d(P),L=O[0],J=O[1],z=new C(p(P,L,J)),W=0,te=0<J?L-4:L;for(D=0;D<te;D+=4)j=E[P.charCodeAt(D)]<<18|E[P.charCodeAt(D+1)]<<12|E[P.charCodeAt(D+2)]<<6|E[P.charCodeAt(D+3)],z[W++]=255&j>>16,z[W++]=255&j>>8,z[W++]=255&j;return J===2&&(j=E[P.charCodeAt(D)]<<2|E[P.charCodeAt(D+1)]>>4,z[W++]=255&j),J===1&&(j=E[P.charCodeAt(D)]<<10|E[P.charCodeAt(D+1)]<<4|E[P.charCodeAt(D+2)]>>2,z[W++]=255&j>>8,z[W++]=255&j),z}function m(P){return x[63&P>>18]+x[63&P>>12]+x[63&P>>6]+x[63&P]}function v(P,j,D){for(var O,L=[],J=j;J<D;J+=3)O=(16711680&P[J]<<16)+(65280&P[J+1]<<8)+(255&P[J+2]),L.push(m(O));return L.join("")}function b(P){for(var j,D=P.length,O=D%3,L=[],J=16383,z=0,W=D-O;z<W;z+=J)L.push(v(P,z,z+J>W?W:z+J));return O===1?(j=P[D-1],L.push(x[j>>2]+x[63&j<<4]+"==")):O===2&&(j=(P[D-2]<<8)+P[D-1],L.push(x[j>>10]+x[63&j>>4]+x[63&j<<2]+"=")),L.join("")}c.byteLength=function(P){var j=d(P),D=j[0],O=j[1];return 3*(D+O)/4-O},c.toByteArray=y,c.fromByteArray=b;for(var x=[],E=[],C=typeof Uint8Array>"u"?Array:Uint8Array,R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I=0,k=R.length;I<k;++I)x[I]=R[I],E[R.charCodeAt(I)]=I;E[45]=62,E[95]=63},{}],2:[function(){},{}],3:[function(o,u,c){(function(){(function(){var d=String.fromCharCode,p=Math.min;function y(f){if(2147483647<f)throw new RangeError('The value "'+f+'" is invalid for option "size"');var S=new Uint8Array(f);return S.__proto__=m.prototype,S}function m(f,S,A){if(typeof f=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(f)}return v(f,S,A)}function v(f,S,A){if(typeof f=="string")return C(f,S);if(ArrayBuffer.isView(f))return R(f);if(f==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if($(f,ArrayBuffer)||f&&$(f.buffer,ArrayBuffer))return I(f,S,A);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var F=f.valueOf&&f.valueOf();if(F!=null&&F!==f)return m.from(F,S,A);var H=k(f);if(H)return H;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return m.from(f[Symbol.toPrimitive]("string"),S,A);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}function b(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(0>f)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function x(f,S,A){return b(f),0>=f||S===void 0?y(f):typeof A=="string"?y(f).fill(S,A):y(f).fill(S)}function E(f){return b(f),y(0>f?0:0|P(f))}function C(f,S){if((typeof S!="string"||S==="")&&(S="utf8"),!m.isEncoding(S))throw new TypeError("Unknown encoding: "+S);var A=0|j(f,S),F=y(A),H=F.write(f,S);return H!==A&&(F=F.slice(0,H)),F}function R(f){for(var S=0>f.length?0:0|P(f.length),A=y(S),F=0;F<S;F+=1)A[F]=255&f[F];return A}function I(f,S,A){if(0>S||f.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<S+(A||0))throw new RangeError('"length" is outside of buffer bounds');var F;return F=S===void 0&&A===void 0?new Uint8Array(f):A===void 0?new Uint8Array(f,S):new Uint8Array(f,S,A),F.__proto__=m.prototype,F}function k(f){if(m.isBuffer(f)){var S=0|P(f.length),A=y(S);return A.length===0||f.copy(A,0,0,S),A}return f.length===void 0?f.type==="Buffer"&&Array.isArray(f.data)?R(f.data):void 0:typeof f.length!="number"||G(f.length)?y(0):R(f)}function P(f){if(f>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|f}function j(f,S){if(m.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||$(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);var A=f.length,F=2<arguments.length&&arguments[2]===!0;if(!F&&A===0)return 0;for(var H=!1;;)switch(S){case"ascii":case"latin1":case"binary":return A;case"utf8":case"utf-8":return Ye(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*A;case"hex":return A>>>1;case"base64":return pe(f).length;default:if(H)return F?-1:Ye(f).length;S=(""+S).toLowerCase(),H=!0}}function D(f,S,A){var F=!1;if((S===void 0||0>S)&&(S=0),S>this.length||((A===void 0||A>this.length)&&(A=this.length),0>=A)||(A>>>=0,S>>>=0,A<=S))return"";for(f||(f="utf8");;)switch(f){case"hex":return q(this,S,A);case"utf8":case"utf-8":return Ee(this,S,A);case"ascii":return se(this,S,A);case"latin1":case"binary":return me(this,S,A);case"base64":return Oe(this,S,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,S,A);default:if(F)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),F=!0}}function O(f,S,A){var F=f[S];f[S]=f[A],f[A]=F}function L(f,S,A,F,H){if(f.length===0)return-1;if(typeof A=="string"?(F=A,A=0):2147483647<A?A=2147483647:-2147483648>A&&(A=-2147483648),A=+A,G(A)&&(A=H?0:f.length-1),0>A&&(A=f.length+A),A>=f.length){if(H)return-1;A=f.length-1}else if(0>A)if(H)A=0;else return-1;if(typeof S=="string"&&(S=m.from(S,F)),m.isBuffer(S))return S.length===0?-1:J(f,S,A,F,H);if(typeof S=="number")return S&=255,typeof Uint8Array.prototype.indexOf=="function"?H?Uint8Array.prototype.indexOf.call(f,S,A):Uint8Array.prototype.lastIndexOf.call(f,S,A):J(f,[S],A,F,H);throw new TypeError("val must be string, number or Buffer")}function J(f,S,A,F,H){function Z(Ur,rn){return Ae===1?Ur[rn]:Ur.readUInt16BE(rn*Ae)}var Ae=1,qe=f.length,et=S.length;if(F!==void 0&&(F=(F+"").toLowerCase(),F==="ucs2"||F==="ucs-2"||F==="utf16le"||F==="utf-16le")){if(2>f.length||2>S.length)return-1;Ae=2,qe/=2,et/=2,A/=2}var We;if(H){var $e=-1;for(We=A;We<qe;We++)if(Z(f,We)!==Z(S,$e===-1?0:We-$e))$e!==-1&&(We-=We-$e),$e=-1;else if($e===-1&&($e=We),We-$e+1===et)return $e*Ae}else for(A+et>qe&&(A=qe-et),We=A;0<=We;We--){for(var ut=!0,zr=0;zr<et;zr++)if(Z(f,We+zr)!==Z(S,zr)){ut=!1;break}if(ut)return We}return-1}function z(f,S,A,F){A=+A||0;var H=f.length-A;F?(F=+F,F>H&&(F=H)):F=H;var Z=S.length;F>Z/2&&(F=Z/2);for(var Ae,qe=0;qe<F;++qe){if(Ae=parseInt(S.substr(2*qe,2),16),G(Ae))return qe;f[A+qe]=Ae}return qe}function W(f,S,A,F){return fe(Ye(S,f.length-A),f,A,F)}function te(f,S,A,F){return fe(wt(S),f,A,F)}function ce(f,S,A,F){return te(f,S,A,F)}function ke(f,S,A,F){return fe(pe(S),f,A,F)}function je(f,S,A,F){return fe(ue(S,f.length-A),f,A,F)}function Oe(f,S,A){return S===0&&A===f.length?ee.fromByteArray(f):ee.fromByteArray(f.slice(S,A))}function Ee(f,S,A){A=p(f.length,A);for(var F=[],H=S;H<A;){var Z=f[H],Ae=null,qe=239<Z?4:223<Z?3:191<Z?2:1;if(H+qe<=A){var et,We,$e,ut;qe===1?128>Z&&(Ae=Z):qe===2?(et=f[H+1],(192&et)==128&&(ut=(31&Z)<<6|63&et,127<ut&&(Ae=ut))):qe===3?(et=f[H+1],We=f[H+2],(192&et)==128&&(192&We)==128&&(ut=(15&Z)<<12|(63&et)<<6|63&We,2047<ut&&(55296>ut||57343<ut)&&(Ae=ut))):qe===4&&(et=f[H+1],We=f[H+2],$e=f[H+3],(192&et)==128&&(192&We)==128&&(192&$e)==128&&(ut=(15&Z)<<18|(63&et)<<12|(63&We)<<6|63&$e,65535<ut&&1114112>ut&&(Ae=ut)))}Ae===null?(Ae=65533,qe=1):65535<Ae&&(Ae-=65536,F.push(55296|1023&Ae>>>10),Ae=56320|1023&Ae),F.push(Ae),H+=qe}return ae(F)}function ae(f){var S=f.length;if(S<=4096)return d.apply(String,f);for(var A="",F=0;F<S;)A+=d.apply(String,f.slice(F,F+=4096));return A}function se(f,S,A){var F="";A=p(f.length,A);for(var H=S;H<A;++H)F+=d(127&f[H]);return F}function me(f,S,A){var F="";A=p(f.length,A);for(var H=S;H<A;++H)F+=d(f[H]);return F}function q(f,S,A){var F=f.length;(!S||0>S)&&(S=0),(!A||0>A||A>F)&&(A=F);for(var H="",Z=S;Z<A;++Z)H+=Ke(f[Z]);return H}function re(f,S,A){for(var F=f.slice(S,A),H="",Z=0;Z<F.length;Z+=2)H+=d(F[Z]+256*F[Z+1]);return H}function ye(f,S,A){if(f%1!=0||0>f)throw new RangeError("offset is not uint");if(f+S>A)throw new RangeError("Trying to access beyond buffer length")}function _e(f,S,A,F,H,Z){if(!m.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>H||S<Z)throw new RangeError('"value" argument is out of bounds');if(A+F>f.length)throw new RangeError("Index out of range")}function ie(f,S,A,F){if(A+F>f.length)throw new RangeError("Index out of range");if(0>A)throw new RangeError("Index out of range")}function Ce(f,S,A,F,H){return S=+S,A>>>=0,H||ie(f,S,A,4),ge.write(f,S,A,F,23,4),A+4}function Ve(f,S,A,F,H){return S=+S,A>>>=0,H||ie(f,S,A,8),ge.write(f,S,A,F,52,8),A+8}function Fe(f){if(f=f.split("=")[0],f=f.trim().replace(N,""),2>f.length)return"";for(;f.length%4!=0;)f+="=";return f}function Ke(f){return 16>f?"0"+f.toString(16):f.toString(16)}function Ye(f,S){S=S||1/0;for(var A,F=f.length,H=null,Z=[],Ae=0;Ae<F;++Ae){if(A=f.charCodeAt(Ae),55295<A&&57344>A){if(!H){if(56319<A){-1<(S-=3)&&Z.push(239,191,189);continue}else if(Ae+1===F){-1<(S-=3)&&Z.push(239,191,189);continue}H=A;continue}if(56320>A){-1<(S-=3)&&Z.push(239,191,189),H=A;continue}A=(H-55296<<10|A-56320)+65536}else H&&-1<(S-=3)&&Z.push(239,191,189);if(H=null,128>A){if(0>(S-=1))break;Z.push(A)}else if(2048>A){if(0>(S-=2))break;Z.push(192|A>>6,128|63&A)}else if(65536>A){if(0>(S-=3))break;Z.push(224|A>>12,128|63&A>>6,128|63&A)}else if(1114112>A){if(0>(S-=4))break;Z.push(240|A>>18,128|63&A>>12,128|63&A>>6,128|63&A)}else throw new Error("Invalid code point")}return Z}function wt(f){for(var S=[],A=0;A<f.length;++A)S.push(255&f.charCodeAt(A));return S}function ue(f,S){for(var A,F,H,Z=[],Ae=0;Ae<f.length&&!(0>(S-=2));++Ae)A=f.charCodeAt(Ae),F=A>>8,H=A%256,Z.push(H),Z.push(F);return Z}function pe(f){return ee.toByteArray(Fe(f))}function fe(f,S,A,F){for(var H=0;H<F&&!(H+A>=S.length||H>=f.length);++H)S[H+A]=f[H];return H}function $(f,S){return f instanceof S||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===S.name}function G(f){return f!==f}var ee=o("base64-js"),ge=o("ieee754");c.Buffer=m,c.SlowBuffer=function(f){return+f!=f&&(f=0),m.alloc(+f)},c.INSPECT_MAX_BYTES=50,c.kMaxLength=2147483647,m.TYPED_ARRAY_SUPPORT=(function(){try{var f=new Uint8Array(1);return f.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},f.foo()===42}catch{return!1}})(),m.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){return m.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){return m.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol<"u"&&Symbol.species!=null&&m[Symbol.species]===m&&Object.defineProperty(m,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),m.poolSize=8192,m.from=function(f,S,A){return v(f,S,A)},m.prototype.__proto__=Uint8Array.prototype,m.__proto__=Uint8Array,m.alloc=function(f,S,A){return x(f,S,A)},m.allocUnsafe=function(f){return E(f)},m.allocUnsafeSlow=function(f){return E(f)},m.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==m.prototype},m.compare=function(f,S){if($(f,Uint8Array)&&(f=m.from(f,f.offset,f.byteLength)),$(S,Uint8Array)&&(S=m.from(S,S.offset,S.byteLength)),!m.isBuffer(f)||!m.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===S)return 0;for(var A=f.length,F=S.length,H=0,Z=p(A,F);H<Z;++H)if(f[H]!==S[H]){A=f[H],F=S[H];break}return A<F?-1:F<A?1:0},m.isEncoding=function(f){switch((f+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(f,S){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return m.alloc(0);var A;if(S===void 0)for(S=0,A=0;A<f.length;++A)S+=f[A].length;var F=m.allocUnsafe(S),H=0;for(A=0;A<f.length;++A){var Z=f[A];if($(Z,Uint8Array)&&(Z=m.from(Z)),!m.isBuffer(Z))throw new TypeError('"list" argument must be an Array of Buffers');Z.copy(F,H),H+=Z.length}return F},m.byteLength=j,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var f=this.length;if(f%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var S=0;S<f;S+=2)O(this,S,S+1);return this},m.prototype.swap32=function(){var f=this.length;if(f%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var S=0;S<f;S+=4)O(this,S,S+3),O(this,S+1,S+2);return this},m.prototype.swap64=function(){var f=this.length;if(f%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var S=0;S<f;S+=8)O(this,S,S+7),O(this,S+1,S+6),O(this,S+2,S+5),O(this,S+3,S+4);return this},m.prototype.toString=function(){var f=this.length;return f===0?"":arguments.length===0?Ee(this,0,f):D.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(f){if(!m.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f||m.compare(this,f)===0},m.prototype.inspect=function(){var f="",S=c.INSPECT_MAX_BYTES;return f=this.toString("hex",0,S).replace(/(.{2})/g,"$1 ").trim(),this.length>S&&(f+=" ... "),"<Buffer "+f+">"},m.prototype.compare=function(f,S,A,F,H){if($(f,Uint8Array)&&(f=m.from(f,f.offset,f.byteLength)),!m.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(S===void 0&&(S=0),A===void 0&&(A=f?f.length:0),F===void 0&&(F=0),H===void 0&&(H=this.length),0>S||A>f.length||0>F||H>this.length)throw new RangeError("out of range index");if(F>=H&&S>=A)return 0;if(F>=H)return-1;if(S>=A)return 1;if(S>>>=0,A>>>=0,F>>>=0,H>>>=0,this===f)return 0;for(var Z=H-F,Ae=A-S,qe=p(Z,Ae),et=this.slice(F,H),We=f.slice(S,A),$e=0;$e<qe;++$e)if(et[$e]!==We[$e]){Z=et[$e],Ae=We[$e];break}return Z<Ae?-1:Ae<Z?1:0},m.prototype.includes=function(f,S,A){return this.indexOf(f,S,A)!==-1},m.prototype.indexOf=function(f,S,A){return L(this,f,S,A,!0)},m.prototype.lastIndexOf=function(f,S,A){return L(this,f,S,A,!1)},m.prototype.write=function(f,S,A,F){if(S===void 0)F="utf8",A=this.length,S=0;else if(A===void 0&&typeof S=="string")F=S,A=this.length,S=0;else if(isFinite(S))S>>>=0,isFinite(A)?(A>>>=0,F===void 0&&(F="utf8")):(F=A,A=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var H=this.length-S;if((A===void 0||A>H)&&(A=H),0<f.length&&(0>A||0>S)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");for(var Z=!1;;)switch(F){case"hex":return z(this,f,S,A);case"utf8":case"utf-8":return W(this,f,S,A);case"ascii":return te(this,f,S,A);case"latin1":case"binary":return ce(this,f,S,A);case"base64":return ke(this,f,S,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return je(this,f,S,A);default:if(Z)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),Z=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},m.prototype.slice=function(f,S){var A=this.length;f=~~f,S=S===void 0?A:~~S,0>f?(f+=A,0>f&&(f=0)):f>A&&(f=A),0>S?(S+=A,0>S&&(S=0)):S>A&&(S=A),S<f&&(S=f);var F=this.subarray(f,S);return F.__proto__=m.prototype,F},m.prototype.readUIntLE=function(f,S,A){f>>>=0,S>>>=0,A||ye(f,S,this.length);for(var F=this[f],H=1,Z=0;++Z<S&&(H*=256);)F+=this[f+Z]*H;return F},m.prototype.readUIntBE=function(f,S,A){f>>>=0,S>>>=0,A||ye(f,S,this.length);for(var F=this[f+--S],H=1;0<S&&(H*=256);)F+=this[f+--S]*H;return F},m.prototype.readUInt8=function(f,S){return f>>>=0,S||ye(f,1,this.length),this[f]},m.prototype.readUInt16LE=function(f,S){return f>>>=0,S||ye(f,2,this.length),this[f]|this[f+1]<<8},m.prototype.readUInt16BE=function(f,S){return f>>>=0,S||ye(f,2,this.length),this[f]<<8|this[f+1]},m.prototype.readUInt32LE=function(f,S){return f>>>=0,S||ye(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+16777216*this[f+3]},m.prototype.readUInt32BE=function(f,S){return f>>>=0,S||ye(f,4,this.length),16777216*this[f]+(this[f+1]<<16|this[f+2]<<8|this[f+3])},m.prototype.readIntLE=function(f,S,A){f>>>=0,S>>>=0,A||ye(f,S,this.length);for(var F=this[f],H=1,Z=0;++Z<S&&(H*=256);)F+=this[f+Z]*H;return H*=128,F>=H&&(F-=a(2,8*S)),F},m.prototype.readIntBE=function(f,S,A){f>>>=0,S>>>=0,A||ye(f,S,this.length);for(var F=S,H=1,Z=this[f+--F];0<F&&(H*=256);)Z+=this[f+--F]*H;return H*=128,Z>=H&&(Z-=a(2,8*S)),Z},m.prototype.readInt8=function(f,S){return f>>>=0,S||ye(f,1,this.length),128&this[f]?-1*(255-this[f]+1):this[f]},m.prototype.readInt16LE=function(f,S){f>>>=0,S||ye(f,2,this.length);var A=this[f]|this[f+1]<<8;return 32768&A?4294901760|A:A},m.prototype.readInt16BE=function(f,S){f>>>=0,S||ye(f,2,this.length);var A=this[f+1]|this[f]<<8;return 32768&A?4294901760|A:A},m.prototype.readInt32LE=function(f,S){return f>>>=0,S||ye(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},m.prototype.readInt32BE=function(f,S){return f>>>=0,S||ye(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},m.prototype.readFloatLE=function(f,S){return f>>>=0,S||ye(f,4,this.length),ge.read(this,f,!0,23,4)},m.prototype.readFloatBE=function(f,S){return f>>>=0,S||ye(f,4,this.length),ge.read(this,f,!1,23,4)},m.prototype.readDoubleLE=function(f,S){return f>>>=0,S||ye(f,8,this.length),ge.read(this,f,!0,52,8)},m.prototype.readDoubleBE=function(f,S){return f>>>=0,S||ye(f,8,this.length),ge.read(this,f,!1,52,8)},m.prototype.writeUIntLE=function(f,S,A,F){if(f=+f,S>>>=0,A>>>=0,!F){var H=a(2,8*A)-1;_e(this,f,S,A,H,0)}var Z=1,Ae=0;for(this[S]=255&f;++Ae<A&&(Z*=256);)this[S+Ae]=255&f/Z;return S+A},m.prototype.writeUIntBE=function(f,S,A,F){if(f=+f,S>>>=0,A>>>=0,!F){var H=a(2,8*A)-1;_e(this,f,S,A,H,0)}var Z=A-1,Ae=1;for(this[S+Z]=255&f;0<=--Z&&(Ae*=256);)this[S+Z]=255&f/Ae;return S+A},m.prototype.writeUInt8=function(f,S,A){return f=+f,S>>>=0,A||_e(this,f,S,1,255,0),this[S]=255&f,S+1},m.prototype.writeUInt16LE=function(f,S,A){return f=+f,S>>>=0,A||_e(this,f,S,2,65535,0),this[S]=255&f,this[S+1]=f>>>8,S+2},m.prototype.writeUInt16BE=function(f,S,A){return f=+f,S>>>=0,A||_e(this,f,S,2,65535,0),this[S]=f>>>8,this[S+1]=255&f,S+2},m.prototype.writeUInt32LE=function(f,S,A){return f=+f,S>>>=0,A||_e(this,f,S,4,4294967295,0),this[S+3]=f>>>24,this[S+2]=f>>>16,this[S+1]=f>>>8,this[S]=255&f,S+4},m.prototype.writeUInt32BE=function(f,S,A){return f=+f,S>>>=0,A||_e(this,f,S,4,4294967295,0),this[S]=f>>>24,this[S+1]=f>>>16,this[S+2]=f>>>8,this[S+3]=255&f,S+4},m.prototype.writeIntLE=function(f,S,A,F){if(f=+f,S>>>=0,!F){var H=a(2,8*A-1);_e(this,f,S,A,H-1,-H)}var Z=0,Ae=1,qe=0;for(this[S]=255&f;++Z<A&&(Ae*=256);)0>f&&qe===0&&this[S+Z-1]!==0&&(qe=1),this[S+Z]=255&(f/Ae>>0)-qe;return S+A},m.prototype.writeIntBE=function(f,S,A,F){if(f=+f,S>>>=0,!F){var H=a(2,8*A-1);_e(this,f,S,A,H-1,-H)}var Z=A-1,Ae=1,qe=0;for(this[S+Z]=255&f;0<=--Z&&(Ae*=256);)0>f&&qe===0&&this[S+Z+1]!==0&&(qe=1),this[S+Z]=255&(f/Ae>>0)-qe;return S+A},m.prototype.writeInt8=function(f,S,A){return f=+f,S>>>=0,A||_e(this,f,S,1,127,-128),0>f&&(f=255+f+1),this[S]=255&f,S+1},m.prototype.writeInt16LE=function(f,S,A){return f=+f,S>>>=0,A||_e(this,f,S,2,32767,-32768),this[S]=255&f,this[S+1]=f>>>8,S+2},m.prototype.writeInt16BE=function(f,S,A){return f=+f,S>>>=0,A||_e(this,f,S,2,32767,-32768),this[S]=f>>>8,this[S+1]=255&f,S+2},m.prototype.writeInt32LE=function(f,S,A){return f=+f,S>>>=0,A||_e(this,f,S,4,2147483647,-2147483648),this[S]=255&f,this[S+1]=f>>>8,this[S+2]=f>>>16,this[S+3]=f>>>24,S+4},m.prototype.writeInt32BE=function(f,S,A){return f=+f,S>>>=0,A||_e(this,f,S,4,2147483647,-2147483648),0>f&&(f=4294967295+f+1),this[S]=f>>>24,this[S+1]=f>>>16,this[S+2]=f>>>8,this[S+3]=255&f,S+4},m.prototype.writeFloatLE=function(f,S,A){return Ce(this,f,S,!0,A)},m.prototype.writeFloatBE=function(f,S,A){return Ce(this,f,S,!1,A)},m.prototype.writeDoubleLE=function(f,S,A){return Ve(this,f,S,!0,A)},m.prototype.writeDoubleBE=function(f,S,A){return Ve(this,f,S,!1,A)},m.prototype.copy=function(f,S,A,F){if(!m.isBuffer(f))throw new TypeError("argument should be a Buffer");if(A||(A=0),F||F===0||(F=this.length),S>=f.length&&(S=f.length),S||(S=0),0<F&&F<A&&(F=A),F===A||f.length===0||this.length===0)return 0;if(0>S)throw new RangeError("targetStart out of bounds");if(0>A||A>=this.length)throw new RangeError("Index out of range");if(0>F)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),f.length-S<F-A&&(F=f.length-S+A);var H=F-A;if(this===f&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(S,A,F);else if(this===f&&A<S&&S<F)for(var Z=H-1;0<=Z;--Z)f[Z+S]=this[Z+A];else Uint8Array.prototype.set.call(f,this.subarray(A,F),S);return H},m.prototype.fill=function(f,S,A,F){if(typeof f=="string"){if(typeof S=="string"?(F=S,S=0,A=this.length):typeof A=="string"&&(F=A,A=this.length),F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!m.isEncoding(F))throw new TypeError("Unknown encoding: "+F);if(f.length===1){var H=f.charCodeAt(0);(F==="utf8"&&128>H||F==="latin1")&&(f=H)}}else typeof f=="number"&&(f&=255);if(0>S||this.length<S||this.length<A)throw new RangeError("Out of range index");if(A<=S)return this;S>>>=0,A=A===void 0?this.length:A>>>0,f||(f=0);var Z;if(typeof f=="number")for(Z=S;Z<A;++Z)this[Z]=f;else{var Ae=m.isBuffer(f)?f:m.from(f,F),qe=Ae.length;if(qe===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(Z=0;Z<A-S;++Z)this[Z+S]=Ae[Z%qe]}return this};var N=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,o("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:9}],4:[function(o,u,c){(function(d){(function(){function p(){let m;try{m=c.storage.getItem("debug")}catch{}return!m&&typeof d<"u"&&"env"in d&&(m=d.env.DEBUG),m}c.formatArgs=function(m){if(m[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+m[0]+(this.useColors?"%c ":" ")+"+"+u.exports.humanize(this.diff),!this.useColors)return;const v="color: "+this.color;m.splice(1,0,v,"color: inherit");let b=0,x=0;m[0].replace(/%[a-zA-Z%]/g,E=>{E==="%%"||(b++,E==="%c"&&(x=b))}),m.splice(x,0,v)},c.save=function(m){try{m?c.storage.setItem("debug",m):c.storage.removeItem("debug")}catch{}},c.load=p,c.useColors=function(){return!!(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},c.storage=(function(){try{return localStorage}catch{}})(),c.destroy=(()=>{let m=!1;return()=>{m||(m=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),c.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],c.log=console.debug||console.log||(()=>{}),u.exports=o("./common")(c);const{formatters:y}=u.exports;y.j=function(m){try{return JSON.stringify(m)}catch(v){return"[UnexpectedJSONParseError]: "+v.message}}}).call(this)}).call(this,o("_process"))},{"./common":5,_process:12}],5:[function(o,u){u.exports=function(c){function d(m){function v(...E){if(!v.enabled)return;const C=v,R=+new Date,I=R-(b||R);C.diff=I,C.prev=b,C.curr=R,b=R,E[0]=d.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let k=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(j,D)=>{if(j==="%%")return"%";k++;const O=d.formatters[D];if(typeof O=="function"){const L=E[k];j=O.call(C,L),E.splice(k,1),k--}return j}),d.formatArgs.call(C,E),(C.log||d.log).apply(C,E)}let b,x=null;return v.namespace=m,v.useColors=d.useColors(),v.color=d.selectColor(m),v.extend=p,v.destroy=d.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>x===null?d.enabled(m):x,set:E=>{x=E}}),typeof d.init=="function"&&d.init(v),v}function p(m,v){const b=d(this.namespace+(typeof v>"u"?":":v)+m);return b.log=this.log,b}function y(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}return d.debug=d,d.default=d,d.coerce=function(m){return m instanceof Error?m.stack||m.message:m},d.disable=function(){const m=[...d.names.map(y),...d.skips.map(y).map(v=>"-"+v)].join(",");return d.enable(""),m},d.enable=function(m){d.save(m),d.names=[],d.skips=[];let v;const b=(typeof m=="string"?m:"").split(/[\s,]+/),x=b.length;for(v=0;v<x;v++)b[v]&&(m=b[v].replace(/\*/g,".*?"),m[0]==="-"?d.skips.push(new RegExp("^"+m.substr(1)+"$")):d.names.push(new RegExp("^"+m+"$")))},d.enabled=function(m){if(m[m.length-1]==="*")return!0;let v,b;for(v=0,b=d.skips.length;v<b;v++)if(d.skips[v].test(m))return!1;for(v=0,b=d.names.length;v<b;v++)if(d.names[v].test(m))return!0;return!1},d.humanize=o("ms"),d.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(c).forEach(m=>{d[m]=c[m]}),d.names=[],d.skips=[],d.formatters={},d.selectColor=function(m){let v=0;for(let b=0;b<m.length;b++)v=(v<<5)-v+m.charCodeAt(b),v|=0;return d.colors[i(v)%d.colors.length]},d.enable(d.load()),d}},{ms:11}],6:[function(o,u){function c(d,p){for(const y in p)Object.defineProperty(d,y,{value:p[y],enumerable:!0,configurable:!0});return d}u.exports=function(d,p,y){if(!d||typeof d=="string")throw new TypeError("Please pass an Error to err-code");y||(y={}),typeof p=="object"&&(y=p,p=""),p&&(y.code=p);try{return c(d,y)}catch{y.message=d.message,y.stack=d.stack;const v=function(){};return v.prototype=Object.create(Object.getPrototypeOf(d)),c(new v,y)}}},{}],7:[function(o,u){function c(z){console&&console.warn&&console.warn(z)}function d(){d.init.call(this)}function p(z){if(typeof z!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof z)}function y(z){return z._maxListeners===void 0?d.defaultMaxListeners:z._maxListeners}function m(z,W,te,ce){var ke,je,Oe;if(p(te),je=z._events,je===void 0?(je=z._events=Object.create(null),z._eventsCount=0):(je.newListener!==void 0&&(z.emit("newListener",W,te.listener?te.listener:te),je=z._events),Oe=je[W]),Oe===void 0)Oe=je[W]=te,++z._eventsCount;else if(typeof Oe=="function"?Oe=je[W]=ce?[te,Oe]:[Oe,te]:ce?Oe.unshift(te):Oe.push(te),ke=y(z),0<ke&&Oe.length>ke&&!Oe.warned){Oe.warned=!0;var Ee=new Error("Possible EventEmitter memory leak detected. "+Oe.length+" "+(W+" listeners added. Use emitter.setMaxListeners() to increase limit"));Ee.name="MaxListenersExceededWarning",Ee.emitter=z,Ee.type=W,Ee.count=Oe.length,c(Ee)}return z}function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(z,W,te){var ce={fired:!1,wrapFn:void 0,target:z,type:W,listener:te},ke=v.bind(ce);return ke.listener=te,ce.wrapFn=ke,ke}function x(z,W,te){var ce=z._events;if(ce===void 0)return[];var ke=ce[W];return ke===void 0?[]:typeof ke=="function"?te?[ke.listener||ke]:[ke]:te?I(ke):C(ke,ke.length)}function E(z){var W=this._events;if(W!==void 0){var te=W[z];if(typeof te=="function")return 1;if(te!==void 0)return te.length}return 0}function C(z,W){for(var te=Array(W),ce=0;ce<W;++ce)te[ce]=z[ce];return te}function R(z,W){for(;W+1<z.length;W++)z[W]=z[W+1];z.pop()}function I(z){for(var W=Array(z.length),te=0;te<W.length;++te)W[te]=z[te].listener||z[te];return W}function k(z,W,te){typeof z.on=="function"&&P(z,"error",W,te)}function P(z,W,te,ce){if(typeof z.on=="function")ce.once?z.once(W,te):z.on(W,te);else if(typeof z.addEventListener=="function")z.addEventListener(W,function ke(je){ce.once&&z.removeEventListener(W,ke),te(je)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof z)}var j,D=typeof Reflect=="object"?Reflect:null,O=D&&typeof D.apply=="function"?D.apply:function(z,W,te){return Function.prototype.apply.call(z,W,te)};j=D&&typeof D.ownKeys=="function"?D.ownKeys:Object.getOwnPropertySymbols?function(z){return Object.getOwnPropertyNames(z).concat(Object.getOwnPropertySymbols(z))}:function(z){return Object.getOwnPropertyNames(z)};var L=Number.isNaN||function(z){return z!==z};u.exports=d,u.exports.once=function(z,W){return new Promise(function(te,ce){function ke(Oe){z.removeListener(W,je),ce(Oe)}function je(){typeof z.removeListener=="function"&&z.removeListener("error",ke),te([].slice.call(arguments))}P(z,W,je,{once:!0}),W!=="error"&&k(z,ke,{once:!0})})},d.EventEmitter=d,d.prototype._events=void 0,d.prototype._eventsCount=0,d.prototype._maxListeners=void 0;var J=10;Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return J},set:function(z){if(typeof z!="number"||0>z||L(z))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+z+".");J=z}}),d.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},d.prototype.setMaxListeners=function(z){if(typeof z!="number"||0>z||L(z))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+z+".");return this._maxListeners=z,this},d.prototype.getMaxListeners=function(){return y(this)},d.prototype.emit=function(z){for(var W=[],te=1;te<arguments.length;te++)W.push(arguments[te]);var ce=z==="error",ke=this._events;if(ke!==void 0)ce=ce&&ke.error===void 0;else if(!ce)return!1;if(ce){var je;if(0<W.length&&(je=W[0]),je instanceof Error)throw je;var Oe=new Error("Unhandled error."+(je?" ("+je.message+")":""));throw Oe.context=je,Oe}var Ee=ke[z];if(Ee===void 0)return!1;if(typeof Ee=="function")O(Ee,this,W);else for(var ae=Ee.length,se=C(Ee,ae),te=0;te<ae;++te)O(se[te],this,W);return!0},d.prototype.addListener=function(z,W){return m(this,z,W,!1)},d.prototype.on=d.prototype.addListener,d.prototype.prependListener=function(z,W){return m(this,z,W,!0)},d.prototype.once=function(z,W){return p(W),this.on(z,b(this,z,W)),this},d.prototype.prependOnceListener=function(z,W){return p(W),this.prependListener(z,b(this,z,W)),this},d.prototype.removeListener=function(z,W){var te,ce,ke,je,Oe;if(p(W),ce=this._events,ce===void 0)return this;if(te=ce[z],te===void 0)return this;if(te===W||te.listener===W)--this._eventsCount==0?this._events=Object.create(null):(delete ce[z],ce.removeListener&&this.emit("removeListener",z,te.listener||W));else if(typeof te!="function"){for(ke=-1,je=te.length-1;0<=je;je--)if(te[je]===W||te[je].listener===W){Oe=te[je].listener,ke=je;break}if(0>ke)return this;ke===0?te.shift():R(te,ke),te.length===1&&(ce[z]=te[0]),ce.removeListener!==void 0&&this.emit("removeListener",z,Oe||W)}return this},d.prototype.off=d.prototype.removeListener,d.prototype.removeAllListeners=function(z){var W,te,ce;if(te=this._events,te===void 0)return this;if(te.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):te[z]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete te[z]),this;if(arguments.length===0){var ke,je=Object.keys(te);for(ce=0;ce<je.length;++ce)ke=je[ce],ke!=="removeListener"&&this.removeAllListeners(ke);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(W=te[z],typeof W=="function")this.removeListener(z,W);else if(W!==void 0)for(ce=W.length-1;0<=ce;ce--)this.removeListener(z,W[ce]);return this},d.prototype.listeners=function(z){return x(this,z,!0)},d.prototype.rawListeners=function(z){return x(this,z,!1)},d.listenerCount=function(z,W){return typeof z.listenerCount=="function"?z.listenerCount(W):E.call(z,W)},d.prototype.listenerCount=E,d.prototype.eventNames=function(){return 0<this._eventsCount?j(this._events):[]}},{}],8:[function(o,u){u.exports=function(){if(typeof globalThis>"u")return null;var c={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return c.RTCPeerConnection?c:null}},{}],9:[function(o,u,c){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */c.read=function(d,p,y,m,v){var b,x,E=8*v-m-1,C=(1<<E)-1,R=C>>1,I=-7,k=y?v-1:0,P=y?-1:1,j=d[p+k];for(k+=P,b=j&(1<<-I)-1,j>>=-I,I+=E;0<I;b=256*b+d[p+k],k+=P,I-=8);for(x=b&(1<<-I)-1,b>>=-I,I+=m;0<I;x=256*x+d[p+k],k+=P,I-=8);if(b===0)b=1-R;else{if(b===C)return x?NaN:(j?-1:1)*(1/0);x+=a(2,m),b-=R}return(j?-1:1)*x*a(2,b-m)},c.write=function(d,p,y,m,v,b){var x,E,C,R=Math.LN2,I=Math.log,k=8*b-v-1,P=(1<<k)-1,j=P>>1,D=v===23?a(2,-24)-a(2,-77):0,O=m?0:b-1,L=m?1:-1,J=0>p||p===0&&0>1/p?1:0;for(p=i(p),isNaN(p)||p===1/0?(E=isNaN(p)?1:0,x=P):(x=r(I(p)/R),1>p*(C=a(2,-x))&&(x--,C*=2),p+=1<=x+j?D/C:D*a(2,1-j),2<=p*C&&(x++,C/=2),x+j>=P?(E=0,x=P):1<=x+j?(E=(p*C-1)*a(2,v),x+=j):(E=p*a(2,j-1)*a(2,v),x=0));8<=v;d[y+O]=255&E,O+=L,E/=256,v-=8);for(x=x<<v|E,k+=v;0<k;d[y+O]=255&x,O+=L,x/=256,k-=8);d[y+O-L]|=128*J}},{}],10:[function(o,u){u.exports=typeof Object.create=="function"?function(c,d){d&&(c.super_=d,c.prototype=Object.create(d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}))}:function(c,d){if(d){c.super_=d;var p=function(){};p.prototype=d.prototype,c.prototype=new p,c.prototype.constructor=c}}},{}],11:[function(o,u){var c=Math.round;function d(v){if(v+="",!(100<v.length)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(v);if(b){var x=parseFloat(b[1]),E=(b[2]||"ms").toLowerCase();return E==="years"||E==="year"||E==="yrs"||E==="yr"||E==="y"?315576e5*x:E==="weeks"||E==="week"||E==="w"?6048e5*x:E==="days"||E==="day"||E==="d"?864e5*x:E==="hours"||E==="hour"||E==="hrs"||E==="hr"||E==="h"?36e5*x:E==="minutes"||E==="minute"||E==="mins"||E==="min"||E==="m"?6e4*x:E==="seconds"||E==="second"||E==="secs"||E==="sec"||E==="s"?1e3*x:E==="milliseconds"||E==="millisecond"||E==="msecs"||E==="msec"||E==="ms"?x:void 0}}}function p(v){var b=i(v);return 864e5<=b?c(v/864e5)+"d":36e5<=b?c(v/36e5)+"h":6e4<=b?c(v/6e4)+"m":1e3<=b?c(v/1e3)+"s":v+"ms"}function y(v){var b=i(v);return 864e5<=b?m(v,b,864e5,"day"):36e5<=b?m(v,b,36e5,"hour"):6e4<=b?m(v,b,6e4,"minute"):1e3<=b?m(v,b,1e3,"second"):v+" ms"}function m(v,b,x,E){return c(v/x)+" "+E+(b>=1.5*x?"s":"")}u.exports=function(v,b){b=b||{};var x=typeof v;if(x=="string"&&0<v.length)return d(v);if(x==="number"&&isFinite(v))return b.long?y(v):p(v);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(v))}},{}],12:[function(o,u){function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function p(D){if(E===setTimeout)return setTimeout(D,0);if((E===c||!E)&&setTimeout)return E=setTimeout,setTimeout(D,0);try{return E(D,0)}catch{try{return E.call(null,D,0)}catch{return E.call(this,D,0)}}}function y(D){if(C===clearTimeout)return clearTimeout(D);if((C===d||!C)&&clearTimeout)return C=clearTimeout,clearTimeout(D);try{return C(D)}catch{try{return C.call(null,D)}catch{return C.call(this,D)}}}function m(){P&&I&&(P=!1,I.length?k=I.concat(k):j=-1,k.length&&v())}function v(){if(!P){var D=p(m);P=!0;for(var O=k.length;O;){for(I=k,k=[];++j<O;)I&&I[j].run();j=-1,O=k.length}I=null,P=!1,y(D)}}function b(D,O){this.fun=D,this.array=O}function x(){}var E,C,R=u.exports={};(function(){try{E=typeof setTimeout=="function"?setTimeout:c}catch{E=c}try{C=typeof clearTimeout=="function"?clearTimeout:d}catch{C=d}})();var I,k=[],P=!1,j=-1;R.nextTick=function(D){var O=Array(arguments.length-1);if(1<arguments.length)for(var L=1;L<arguments.length;L++)O[L-1]=arguments[L];k.push(new b(D,O)),k.length!==1||P||p(v)},b.prototype.run=function(){this.fun.apply(null,this.array)},R.title="browser",R.browser=!0,R.env={},R.argv=[],R.version="",R.versions={},R.on=x,R.addListener=x,R.once=x,R.off=x,R.removeListener=x,R.removeAllListeners=x,R.emit=x,R.prependListener=x,R.prependOnceListener=x,R.listeners=function(){return[]},R.binding=function(){throw new Error("process.binding is not supported")},R.cwd=function(){return"/"},R.chdir=function(){throw new Error("process.chdir is not supported")},R.umask=function(){return 0}},{}],13:[function(o,u){(function(c){(function(){/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let d;u.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window>"u"?c:window):p=>(d||(d=Promise.resolve())).then(p).catch(y=>setTimeout(()=>{throw y},0))}).call(this)}).call(this,typeof jr>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:jr)},{}],14:[function(o,u){(function(c,d){(function(){var p=o("safe-buffer").Buffer,y=d.crypto||d.msCrypto;u.exports=y&&y.getRandomValues?function(m,v){if(m>4294967295)throw new RangeError("requested too many random bytes");var b=p.allocUnsafe(m);if(0<m)if(65536<m)for(var x=0;x<m;x+=65536)y.getRandomValues(b.slice(x,x+65536));else y.getRandomValues(b);return typeof v=="function"?c.nextTick(function(){v(null,b)}):b}:function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,o("_process"),typeof jr>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:jr)},{_process:12,"safe-buffer":30}],15:[function(o,u){function c(x,E){x.prototype=Object.create(E.prototype),x.prototype.constructor=x,x.__proto__=E}function d(x,E,C){function R(k,P,j){return typeof E=="string"?E:E(k,P,j)}C||(C=Error);var I=(function(k){function P(j,D,O){return k.call(this,R(j,D,O))||this}return c(P,k),P})(C);I.prototype.name=C.name,I.prototype.code=x,b[x]=I}function p(x,E){if(Array.isArray(x)){var C=x.length;return x=x.map(function(R){return R+""}),2<C?"one of ".concat(E," ").concat(x.slice(0,C-1).join(", "),", or ")+x[C-1]:C===2?"one of ".concat(E," ").concat(x[0]," or ").concat(x[1]):"of ".concat(E," ").concat(x[0])}return"of ".concat(E," ").concat(x+"")}function y(x,E,C){return x.substr(0,E.length)===E}function m(x,E,C){return(C===void 0||C>x.length)&&(C=x.length),x.substring(C-E.length,C)===E}function v(x,E,C){return typeof C!="number"&&(C=0),!(C+E.length>x.length)&&x.indexOf(E,C)!==-1}var b={};d("ERR_INVALID_OPT_VALUE",function(x,E){return'The value "'+E+'" is invalid for option "'+x+'"'},TypeError),d("ERR_INVALID_ARG_TYPE",function(x,E,C){var R;typeof E=="string"&&y(E,"not ")?(R="must not be",E=E.replace(/^not /,"")):R="must be";var I;if(m(x," argument"))I="The ".concat(x," ").concat(R," ").concat(p(E,"type"));else{var k=v(x,".")?"property":"argument";I='The "'.concat(x,'" ').concat(k," ").concat(R," ").concat(p(E,"type"))}return I+=". Received type ".concat(typeof C),I},TypeError),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),d("ERR_METHOD_NOT_IMPLEMENTED",function(x){return"The "+x+" method is not implemented"}),d("ERR_STREAM_PREMATURE_CLOSE","Premature close"),d("ERR_STREAM_DESTROYED",function(x){return"Cannot call "+x+" after a stream was destroyed"}),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),d("ERR_STREAM_WRITE_AFTER_END","write after end"),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_UNKNOWN_ENCODING",function(x){return"Unknown encoding: "+x},TypeError),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),u.exports.codes=b},{}],16:[function(o,u){(function(c){(function(){function d(R){return this instanceof d?(v.call(this,R),b.call(this,R),this.allowHalfOpen=!0,void(R&&(R.readable===!1&&(this.readable=!1),R.writable===!1&&(this.writable=!1),R.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",p))))):new d(R)}function p(){this._writableState.ended||c.nextTick(y,this)}function y(R){R.end()}var m=Object.keys||function(R){var I=[];for(var k in R)I.push(k);return I};u.exports=d;var v=o("./_stream_readable"),b=o("./_stream_writable");o("inherits")(d,v);for(var x,E=m(b.prototype),C=0;C<E.length;C++)x=E[C],d.prototype[x]||(d.prototype[x]=b.prototype[x]);Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(R){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=R,this._writableState.destroyed=R)}})}).call(this)}).call(this,o("_process"))},{"./_stream_readable":18,"./_stream_writable":20,_process:12,inherits:10}],17:[function(o,u){function c(p){return this instanceof c?void d.call(this,p):new c(p)}u.exports=c;var d=o("./_stream_transform");o("inherits")(c,d),c.prototype._transform=function(p,y,m){m(null,p)}},{"./_stream_transform":19,inherits:10}],18:[function(o,u){(function(c,d){(function(){function p(N){return re.from(N)}function y(N){return re.isBuffer(N)||N instanceof ye}function m(N,f,S){return typeof N.prependListener=="function"?N.prependListener(f,S):void(N._events&&N._events[f]?Array.isArray(N._events[f])?N._events[f].unshift(S):N._events[f]=[S,N._events[f]]:N.on(f,S))}function v(N,f,S){ae=ae||o("./_stream_duplex"),N=N||{},typeof S!="boolean"&&(S=f instanceof ae),this.objectMode=!!N.objectMode,S&&(this.objectMode=this.objectMode||!!N.readableObjectMode),this.highWaterMark=wt(this,N,"readableHighWaterMark",S),this.buffer=new Fe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=N.emitClose!==!1,this.autoDestroy=!!N.autoDestroy,this.destroyed=!1,this.defaultEncoding=N.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,N.encoding&&(!ie&&(ie=o("string_decoder/").StringDecoder),this.decoder=new ie(N.encoding),this.encoding=N.encoding)}function b(N){if(ae=ae||o("./_stream_duplex"),!(this instanceof b))return new b(N);var f=this instanceof ae;this._readableState=new v(N,this,f),this.readable=!0,N&&(typeof N.read=="function"&&(this._read=N.read),typeof N.destroy=="function"&&(this._destroy=N.destroy)),q.call(this)}function x(N,f,S,A,F){se("readableAddChunk",f);var H=N._readableState;if(f===null)H.reading=!1,k(N,H);else{var Z;if(F||(Z=C(H,f)),Z)ee(N,Z);else if(!(H.objectMode||f&&0<f.length))A||(H.reading=!1,D(N,H));else if(typeof f=="string"||H.objectMode||Object.getPrototypeOf(f)===re.prototype||(f=p(f)),A)H.endEmitted?ee(N,new G):E(N,H,f,!0);else if(H.ended)ee(N,new fe);else{if(H.destroyed)return!1;H.reading=!1,H.decoder&&!S?(f=H.decoder.write(f),H.objectMode||f.length!==0?E(N,H,f,!1):D(N,H)):E(N,H,f,!1)}}return!H.ended&&(H.length<H.highWaterMark||H.length===0)}function E(N,f,S,A){f.flowing&&f.length===0&&!f.sync?(f.awaitDrain=0,N.emit("data",S)):(f.length+=f.objectMode?1:S.length,A?f.buffer.unshift(S):f.buffer.push(S),f.needReadable&&P(N)),D(N,f)}function C(N,f){var S;return y(f)||typeof f=="string"||f===void 0||N.objectMode||(S=new pe("chunk",["string","Buffer","Uint8Array"],f)),S}function R(N){return 1073741824<=N?N=1073741824:(N--,N|=N>>>1,N|=N>>>2,N|=N>>>4,N|=N>>>8,N|=N>>>16,N++),N}function I(N,f){return 0>=N||f.length===0&&f.ended?0:f.objectMode?1:N===N?(N>f.highWaterMark&&(f.highWaterMark=R(N)),N<=f.length?N:f.ended?f.length:(f.needReadable=!0,0)):f.flowing&&f.length?f.buffer.head.data.length:f.length}function k(N,f){if(se("onEofChunk"),!f.ended){if(f.decoder){var S=f.decoder.end();S&&S.length&&(f.buffer.push(S),f.length+=f.objectMode?1:S.length)}f.ended=!0,f.sync?P(N):(f.needReadable=!1,!f.emittedReadable&&(f.emittedReadable=!0,j(N)))}}function P(N){var f=N._readableState;se("emitReadable",f.needReadable,f.emittedReadable),f.needReadable=!1,f.emittedReadable||(se("emitReadable",f.flowing),f.emittedReadable=!0,c.nextTick(j,N))}function j(N){var f=N._readableState;se("emitReadable_",f.destroyed,f.length,f.ended),!f.destroyed&&(f.length||f.ended)&&(N.emit("readable"),f.emittedReadable=!1),f.needReadable=!f.flowing&&!f.ended&&f.length<=f.highWaterMark,ce(N)}function D(N,f){f.readingMore||(f.readingMore=!0,c.nextTick(O,N,f))}function O(N,f){for(;!f.reading&&!f.ended&&(f.length<f.highWaterMark||f.flowing&&f.length===0);){var S=f.length;if(se("maybeReadMore read 0"),N.read(0),S===f.length)break}f.readingMore=!1}function L(N){return function(){var f=N._readableState;se("pipeOnDrain",f.awaitDrain),f.awaitDrain&&f.awaitDrain--,f.awaitDrain===0&&me(N,"data")&&(f.flowing=!0,ce(N))}}function J(N){var f=N._readableState;f.readableListening=0<N.listenerCount("readable"),f.resumeScheduled&&!f.paused?f.flowing=!0:0<N.listenerCount("data")&&N.resume()}function z(N){se("readable nexttick read 0"),N.read(0)}function W(N,f){f.resumeScheduled||(f.resumeScheduled=!0,c.nextTick(te,N,f))}function te(N,f){se("resume",f.reading),f.reading||N.read(0),f.resumeScheduled=!1,N.emit("resume"),ce(N),f.flowing&&!f.reading&&N.read(0)}function ce(N){var f=N._readableState;for(se("flow",f.flowing);f.flowing&&N.read()!==null;);}function ke(N,f){if(f.length===0)return null;var S;return f.objectMode?S=f.buffer.shift():!N||N>=f.length?(S=f.decoder?f.buffer.join(""):f.buffer.length===1?f.buffer.first():f.buffer.concat(f.length),f.buffer.clear()):S=f.buffer.consume(N,f.decoder),S}function je(N){var f=N._readableState;se("endReadable",f.endEmitted),f.endEmitted||(f.ended=!0,c.nextTick(Oe,f,N))}function Oe(N,f){if(se("endReadableNT",N.endEmitted,N.length),!N.endEmitted&&N.length===0&&(N.endEmitted=!0,f.readable=!1,f.emit("end"),N.autoDestroy)){var S=f._writableState;(!S||S.autoDestroy&&S.finished)&&f.destroy()}}function Ee(N,f){for(var S=0,A=N.length;S<A;S++)if(N[S]===f)return S;return-1}u.exports=b;var ae;b.ReadableState=v;var se;o("events").EventEmitter;var me=function(N,f){return N.listeners(f).length},q=o("./internal/streams/stream"),re=o("buffer").Buffer,ye=d.Uint8Array||function(){},_e=o("util");se=_e&&_e.debuglog?_e.debuglog("stream"):function(){};var ie,Ce,Ve,Fe=o("./internal/streams/buffer_list"),Ke=o("./internal/streams/destroy"),Ye=o("./internal/streams/state"),wt=Ye.getHighWaterMark,ue=o("../errors").codes,pe=ue.ERR_INVALID_ARG_TYPE,fe=ue.ERR_STREAM_PUSH_AFTER_EOF,$=ue.ERR_METHOD_NOT_IMPLEMENTED,G=ue.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;o("inherits")(b,q);var ee=Ke.errorOrDestroy,ge=["error","close","destroy","pause","resume"];Object.defineProperty(b.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(N){this._readableState&&(this._readableState.destroyed=N)}}),b.prototype.destroy=Ke.destroy,b.prototype._undestroy=Ke.undestroy,b.prototype._destroy=function(N,f){f(N)},b.prototype.push=function(N,f){var S,A=this._readableState;return A.objectMode?S=!0:typeof N=="string"&&(f=f||A.defaultEncoding,f!==A.encoding&&(N=re.from(N,f),f=""),S=!0),x(this,N,f,!1,S)},b.prototype.unshift=function(N){return x(this,N,null,!0,!1)},b.prototype.isPaused=function(){return this._readableState.flowing===!1},b.prototype.setEncoding=function(N){ie||(ie=o("string_decoder/").StringDecoder);var f=new ie(N);this._readableState.decoder=f,this._readableState.encoding=this._readableState.decoder.encoding;for(var S=this._readableState.buffer.head,A="";S!==null;)A+=f.write(S.data),S=S.next;return this._readableState.buffer.clear(),A!==""&&this._readableState.buffer.push(A),this._readableState.length=A.length,this},b.prototype.read=function(N){se("read",N),N=parseInt(N,10);var f=this._readableState,S=N;if(N!==0&&(f.emittedReadable=!1),N===0&&f.needReadable&&((f.highWaterMark===0?0<f.length:f.length>=f.highWaterMark)||f.ended))return se("read: emitReadable",f.length,f.ended),f.length===0&&f.ended?je(this):P(this),null;if(N=I(N,f),N===0&&f.ended)return f.length===0&&je(this),null;var A=f.needReadable;se("need readable",A),(f.length===0||f.length-N<f.highWaterMark)&&(A=!0,se("length less than watermark",A)),f.ended||f.reading?(A=!1,se("reading or ended",A)):A&&(se("do read"),f.reading=!0,f.sync=!0,f.length===0&&(f.needReadable=!0),this._read(f.highWaterMark),f.sync=!1,!f.reading&&(N=I(S,f)));var F;return F=0<N?ke(N,f):null,F===null?(f.needReadable=f.length<=f.highWaterMark,N=0):(f.length-=N,f.awaitDrain=0),f.length===0&&(!f.ended&&(f.needReadable=!0),S!==N&&f.ended&&je(this)),F!==null&&this.emit("data",F),F},b.prototype._read=function(){ee(this,new $("_read()"))},b.prototype.pipe=function(N,f){function S(nn,Er){se("onunpipe"),nn===We&&Er&&Er.hasUnpiped===!1&&(Er.hasUnpiped=!0,F())}function A(){se("onend"),N.end()}function F(){se("cleanup"),N.removeListener("close",Ae),N.removeListener("finish",qe),N.removeListener("drain",Ur),N.removeListener("error",Z),N.removeListener("unpipe",S),We.removeListener("end",A),We.removeListener("end",et),We.removeListener("data",H),rn=!0,$e.awaitDrain&&(!N._writableState||N._writableState.needDrain)&&Ur()}function H(nn){se("ondata");var Er=N.write(nn);se("dest.write",Er),Er===!1&&(($e.pipesCount===1&&$e.pipes===N||1<$e.pipesCount&&Ee($e.pipes,N)!==-1)&&!rn&&(se("false write response, pause",$e.awaitDrain),$e.awaitDrain++),We.pause())}function Z(nn){se("onerror",nn),et(),N.removeListener("error",Z),me(N,"error")===0&&ee(N,nn)}function Ae(){N.removeListener("finish",qe),et()}function qe(){se("onfinish"),N.removeListener("close",Ae),et()}function et(){se("unpipe"),We.unpipe(N)}var We=this,$e=this._readableState;switch($e.pipesCount){case 0:$e.pipes=N;break;case 1:$e.pipes=[$e.pipes,N];break;default:$e.pipes.push(N)}$e.pipesCount+=1,se("pipe count=%d opts=%j",$e.pipesCount,f);var ut=(!f||f.end!==!1)&&N!==c.stdout&&N!==c.stderr,zr=ut?A:et;$e.endEmitted?c.nextTick(zr):We.once("end",zr),N.on("unpipe",S);var Ur=L(We);N.on("drain",Ur);var rn=!1;return We.on("data",H),m(N,"error",Z),N.once("close",Ae),N.once("finish",qe),N.emit("pipe",We),$e.flowing||(se("pipe resume"),We.resume()),N},b.prototype.unpipe=function(N){var f=this._readableState,S={hasUnpiped:!1};if(f.pipesCount===0)return this;if(f.pipesCount===1)return N&&N!==f.pipes?this:(N||(N=f.pipes),f.pipes=null,f.pipesCount=0,f.flowing=!1,N&&N.emit("unpipe",this,S),this);if(!N){var A=f.pipes,F=f.pipesCount;f.pipes=null,f.pipesCount=0,f.flowing=!1;for(var H=0;H<F;H++)A[H].emit("unpipe",this,{hasUnpiped:!1});return this}var Z=Ee(f.pipes,N);return Z===-1?this:(f.pipes.splice(Z,1),f.pipesCount-=1,f.pipesCount===1&&(f.pipes=f.pipes[0]),N.emit("unpipe",this,S),this)},b.prototype.on=function(N,f){var S=q.prototype.on.call(this,N,f),A=this._readableState;return N==="data"?(A.readableListening=0<this.listenerCount("readable"),A.flowing!==!1&&this.resume()):N=="readable"&&!A.endEmitted&&!A.readableListening&&(A.readableListening=A.needReadable=!0,A.flowing=!1,A.emittedReadable=!1,se("on readable",A.length,A.reading),A.length?P(this):!A.reading&&c.nextTick(z,this)),S},b.prototype.addListener=b.prototype.on,b.prototype.removeListener=function(N,f){var S=q.prototype.removeListener.call(this,N,f);return N==="readable"&&c.nextTick(J,this),S},b.prototype.removeAllListeners=function(N){var f=q.prototype.removeAllListeners.apply(this,arguments);return(N==="readable"||N===void 0)&&c.nextTick(J,this),f},b.prototype.resume=function(){var N=this._readableState;return N.flowing||(se("resume"),N.flowing=!N.readableListening,W(this,N)),N.paused=!1,this},b.prototype.pause=function(){return se("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(se("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},b.prototype.wrap=function(N){var f=this,S=this._readableState,A=!1;for(var F in N.on("end",function(){if(se("wrapped end"),S.decoder&&!S.ended){var Z=S.decoder.end();Z&&Z.length&&f.push(Z)}f.push(null)}),N.on("data",function(Z){if(se("wrapped data"),S.decoder&&(Z=S.decoder.write(Z)),!(S.objectMode&&Z==null)&&(S.objectMode||Z&&Z.length)){var Ae=f.push(Z);Ae||(A=!0,N.pause())}}),N)this[F]===void 0&&typeof N[F]=="function"&&(this[F]=(function(Z){return function(){return N[Z].apply(N,arguments)}})(F));for(var H=0;H<ge.length;H++)N.on(ge[H],this.emit.bind(this,ge[H]));return this._read=function(Z){se("wrapped _read",Z),A&&(A=!1,N.resume())},this},typeof Symbol=="function"&&(b.prototype[Symbol.asyncIterator]=function(){return Ce===void 0&&(Ce=o("./internal/streams/async_iterator")),Ce(this)}),Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(b.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(b.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(N){this._readableState&&(this._readableState.flowing=N)}}),b._fromList=ke,Object.defineProperty(b.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(b.from=function(N,f){return Ve===void 0&&(Ve=o("./internal/streams/from")),Ve(b,N,f)})}).call(this)}).call(this,o("_process"),typeof jr>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:jr)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/async_iterator":21,"./internal/streams/buffer_list":22,"./internal/streams/destroy":23,"./internal/streams/from":25,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,events:7,inherits:10,"string_decoder/":31,util:2}],19:[function(o,u){function c(R,I){var k=this._transformState;k.transforming=!1;var P=k.writecb;if(P===null)return this.emit("error",new b);k.writechunk=null,k.writecb=null,I!=null&&this.push(I),P(R);var j=this._readableState;j.reading=!1,(j.needReadable||j.length<j.highWaterMark)&&this._read(j.highWaterMark)}function d(R){return this instanceof d?(C.call(this,R),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,R&&(typeof R.transform=="function"&&(this._transform=R.transform),typeof R.flush=="function"&&(this._flush=R.flush)),void this.on("prefinish",p)):new d(R)}function p(){var R=this;typeof this._flush!="function"||this._readableState.destroyed?y(this,null,null):this._flush(function(I,k){y(R,I,k)})}function y(R,I,k){if(I)return R.emit("error",I);if(k!=null&&R.push(k),R._writableState.length)throw new E;if(R._transformState.transforming)throw new x;return R.push(null)}u.exports=d;var m=o("../errors").codes,v=m.ERR_METHOD_NOT_IMPLEMENTED,b=m.ERR_MULTIPLE_CALLBACK,x=m.ERR_TRANSFORM_ALREADY_TRANSFORMING,E=m.ERR_TRANSFORM_WITH_LENGTH_0,C=o("./_stream_duplex");o("inherits")(d,C),d.prototype.push=function(R,I){return this._transformState.needTransform=!1,C.prototype.push.call(this,R,I)},d.prototype._transform=function(R,I,k){k(new v("_transform()"))},d.prototype._write=function(R,I,k){var P=this._transformState;if(P.writecb=k,P.writechunk=R,P.writeencoding=I,!P.transforming){var j=this._readableState;(P.needTransform||j.needReadable||j.length<j.highWaterMark)&&this._read(j.highWaterMark)}},d.prototype._read=function(){var R=this._transformState;R.writechunk===null||R.transforming?R.needTransform=!0:(R.transforming=!0,this._transform(R.writechunk,R.writeencoding,R.afterTransform))},d.prototype._destroy=function(R,I){C.prototype._destroy.call(this,R,function(k){I(k)})}},{"../errors":15,"./_stream_duplex":16,inherits:10}],20:[function(o,u){(function(c,d){(function(){function p($){var G=this;this.next=null,this.entry=null,this.finish=function(){je(G,$)}}function y($){return se.from($)}function m($){return se.isBuffer($)||$ instanceof me}function v(){}function b($,G,ee){Oe=Oe||o("./_stream_duplex"),$=$||{},typeof ee!="boolean"&&(ee=G instanceof Oe),this.objectMode=!!$.objectMode,ee&&(this.objectMode=this.objectMode||!!$.writableObjectMode),this.highWaterMark=ye(this,$,"writableHighWaterMark",ee),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ge=$.decodeStrings===!1;this.decodeStrings=!ge,this.defaultEncoding=$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(N){D(G,N)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=$.emitClose!==!1,this.autoDestroy=!!$.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new p(this)}function x($){Oe=Oe||o("./_stream_duplex");var G=this instanceof Oe;return G||fe.call(x,this)?(this._writableState=new b($,this,G),this.writable=!0,$&&(typeof $.write=="function"&&(this._write=$.write),typeof $.writev=="function"&&(this._writev=$.writev),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.final=="function"&&(this._final=$.final)),void ae.call(this)):new x($)}function E($,G){var ee=new wt;pe($,ee),c.nextTick(G,ee)}function C($,G,ee,ge){var N;return ee===null?N=new Ye:typeof ee!="string"&&!G.objectMode&&(N=new ie("chunk",["string","Buffer"],ee)),!N||(pe($,N),c.nextTick(ge,N),!1)}function R($,G,ee){return $.objectMode||$.decodeStrings===!1||typeof G!="string"||(G=se.from(G,ee)),G}function I($,G,ee,ge,N,f){if(!ee){var S=R(G,ge,N);ge!==S&&(ee=!0,N="buffer",ge=S)}var A=G.objectMode?1:ge.length;G.length+=A;var F=G.length<G.highWaterMark;if(F||(G.needDrain=!0),G.writing||G.corked){var H=G.lastBufferedRequest;G.lastBufferedRequest={chunk:ge,encoding:N,isBuf:ee,callback:f,next:null},H?H.next=G.lastBufferedRequest:G.bufferedRequest=G.lastBufferedRequest,G.bufferedRequestCount+=1}else k($,G,!1,A,ge,N,f);return F}function k($,G,ee,ge,N,f,S){G.writelen=ge,G.writecb=S,G.writing=!0,G.sync=!0,G.destroyed?G.onwrite(new Ke("write")):ee?$._writev(N,G.onwrite):$._write(N,f,G.onwrite),G.sync=!1}function P($,G,ee,ge,N){--G.pendingcb,ee?(c.nextTick(N,ge),c.nextTick(ce,$,G),$._writableState.errorEmitted=!0,pe($,ge)):(N(ge),$._writableState.errorEmitted=!0,pe($,ge),ce($,G))}function j($){$.writing=!1,$.writecb=null,$.length-=$.writelen,$.writelen=0}function D($,G){var ee=$._writableState,ge=ee.sync,N=ee.writecb;if(typeof N!="function")throw new Ve;if(j(ee),G)P($,ee,ge,G,N);else{var f=z(ee)||$.destroyed;f||ee.corked||ee.bufferProcessing||!ee.bufferedRequest||J($,ee),ge?c.nextTick(O,$,ee,f,N):O($,ee,f,N)}}function O($,G,ee,ge){ee||L($,G),G.pendingcb--,ge(),ce($,G)}function L($,G){G.length===0&&G.needDrain&&(G.needDrain=!1,$.emit("drain"))}function J($,G){G.bufferProcessing=!0;var ee=G.bufferedRequest;if($._writev&&ee&&ee.next){var ge=G.bufferedRequestCount,N=Array(ge),f=G.corkedRequestsFree;f.entry=ee;for(var S=0,A=!0;ee;)N[S]=ee,ee.isBuf||(A=!1),ee=ee.next,S+=1;N.allBuffers=A,k($,G,!0,G.length,N,"",f.finish),G.pendingcb++,G.lastBufferedRequest=null,f.next?(G.corkedRequestsFree=f.next,f.next=null):G.corkedRequestsFree=new p(G),G.bufferedRequestCount=0}else{for(;ee;){var F=ee.chunk,H=ee.encoding,Z=ee.callback,Ae=G.objectMode?1:F.length;if(k($,G,!1,Ae,F,H,Z),ee=ee.next,G.bufferedRequestCount--,G.writing)break}ee===null&&(G.lastBufferedRequest=null)}G.bufferedRequest=ee,G.bufferProcessing=!1}function z($){return $.ending&&$.length===0&&$.bufferedRequest===null&&!$.finished&&!$.writing}function W($,G){$._final(function(ee){G.pendingcb--,ee&&pe($,ee),G.prefinished=!0,$.emit("prefinish"),ce($,G)})}function te($,G){G.prefinished||G.finalCalled||(typeof $._final!="function"||G.destroyed?(G.prefinished=!0,$.emit("prefinish")):(G.pendingcb++,G.finalCalled=!0,c.nextTick(W,$,G)))}function ce($,G){var ee=z(G);if(ee&&(te($,G),G.pendingcb===0&&(G.finished=!0,$.emit("finish"),G.autoDestroy))){var ge=$._readableState;(!ge||ge.autoDestroy&&ge.endEmitted)&&$.destroy()}return ee}function ke($,G,ee){G.ending=!0,ce($,G),ee&&(G.finished?c.nextTick(ee):$.once("finish",ee)),G.ended=!0,$.writable=!1}function je($,G,ee){var ge=$.entry;for($.entry=null;ge;){var N=ge.callback;G.pendingcb--,N(ee),ge=ge.next}G.corkedRequestsFree.next=$}u.exports=x;var Oe;x.WritableState=b;var Ee={deprecate:o("util-deprecate")},ae=o("./internal/streams/stream"),se=o("buffer").Buffer,me=d.Uint8Array||function(){},q=o("./internal/streams/destroy"),re=o("./internal/streams/state"),ye=re.getHighWaterMark,_e=o("../errors").codes,ie=_e.ERR_INVALID_ARG_TYPE,Ce=_e.ERR_METHOD_NOT_IMPLEMENTED,Ve=_e.ERR_MULTIPLE_CALLBACK,Fe=_e.ERR_STREAM_CANNOT_PIPE,Ke=_e.ERR_STREAM_DESTROYED,Ye=_e.ERR_STREAM_NULL_VALUES,wt=_e.ERR_STREAM_WRITE_AFTER_END,ue=_e.ERR_UNKNOWN_ENCODING,pe=q.errorOrDestroy;o("inherits")(x,ae),b.prototype.getBuffer=function(){for(var $=this.bufferedRequest,G=[];$;)G.push($),$=$.next;return G},(function(){try{Object.defineProperty(b.prototype,"buffer",{get:Ee.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var fe;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(fe=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function($){return!!fe.call(this,$)||this===x&&$&&$._writableState instanceof b}})):fe=function($){return $ instanceof this},x.prototype.pipe=function(){pe(this,new Fe)},x.prototype.write=function($,G,ee){var ge=this._writableState,N=!1,f=!ge.objectMode&&m($);return f&&!se.isBuffer($)&&($=y($)),typeof G=="function"&&(ee=G,G=null),f?G="buffer":!G&&(G=ge.defaultEncoding),typeof ee!="function"&&(ee=v),ge.ending?E(this,ee):(f||C(this,ge,$,ee))&&(ge.pendingcb++,N=I(this,ge,f,$,G,ee)),N},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var $=this._writableState;$.corked&&($.corked--,!$.writing&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&J(this,$))},x.prototype.setDefaultEncoding=function($){if(typeof $=="string"&&($=$.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf(($+"").toLowerCase())))throw new ue($);return this._writableState.defaultEncoding=$,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function($,G,ee){ee(new Ce("_write()"))},x.prototype._writev=null,x.prototype.end=function($,G,ee){var ge=this._writableState;return typeof $=="function"?(ee=$,$=null,G=null):typeof G=="function"&&(ee=G,G=null),$!=null&&this.write($,G),ge.corked&&(ge.corked=1,this.uncork()),ge.ending||ke(this,ge,ee),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function($){this._writableState&&(this._writableState.destroyed=$)}}),x.prototype.destroy=q.destroy,x.prototype._undestroy=q.undestroy,x.prototype._destroy=function($,G){G($)}}).call(this)}).call(this,o("_process"),typeof jr>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:jr)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/destroy":23,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,inherits:10,"util-deprecate":32}],21:[function(o,u){(function(c){(function(){function d(L,J,z){return J in L?Object.defineProperty(L,J,{value:z,enumerable:!0,configurable:!0,writable:!0}):L[J]=z,L}function p(L,J){return{value:L,done:J}}function y(L){var J=L[E];if(J!==null){var z=L[j].read();z!==null&&(L[k]=null,L[E]=null,L[C]=null,J(p(z,!1)))}}function m(L){c.nextTick(y,L)}function v(L,J){return function(z,W){L.then(function(){return J[I]?void z(p(void 0,!0)):void J[P](z,W)},W)}}var b,x=o("./end-of-stream"),E=Symbol("lastResolve"),C=Symbol("lastReject"),R=Symbol("error"),I=Symbol("ended"),k=Symbol("lastPromise"),P=Symbol("handlePromise"),j=Symbol("stream"),D=Object.getPrototypeOf(function(){}),O=Object.setPrototypeOf((b={get stream(){return this[j]},next:function(){var L=this,J=this[R];if(J!==null)return Promise.reject(J);if(this[I])return Promise.resolve(p(void 0,!0));if(this[j].destroyed)return new Promise(function(ce,ke){c.nextTick(function(){L[R]?ke(L[R]):ce(p(void 0,!0))})});var z,W=this[k];if(W)z=new Promise(v(W,this));else{var te=this[j].read();if(te!==null)return Promise.resolve(p(te,!1));z=new Promise(this[P])}return this[k]=z,z}},d(b,Symbol.asyncIterator,function(){return this}),d(b,"return",function(){var L=this;return new Promise(function(J,z){L[j].destroy(null,function(W){return W?void z(W):void J(p(void 0,!0))})})}),b),D);u.exports=function(L){var J,z=Object.create(O,(J={},d(J,j,{value:L,writable:!0}),d(J,E,{value:null,writable:!0}),d(J,C,{value:null,writable:!0}),d(J,R,{value:null,writable:!0}),d(J,I,{value:L._readableState.endEmitted,writable:!0}),d(J,P,{value:function(W,te){var ce=z[j].read();ce?(z[k]=null,z[E]=null,z[C]=null,W(p(ce,!1))):(z[E]=W,z[C]=te)},writable:!0}),J));return z[k]=null,x(L,function(W){if(W&&W.code!=="ERR_STREAM_PREMATURE_CLOSE"){var te=z[C];return te!==null&&(z[k]=null,z[E]=null,z[C]=null,te(W)),void(z[R]=W)}var ce=z[E];ce!==null&&(z[k]=null,z[E]=null,z[C]=null,ce(p(void 0,!0))),z[I]=!0}),L.on("readable",m.bind(null,z)),z}}).call(this)}).call(this,o("_process"))},{"./end-of-stream":24,_process:12}],22:[function(o,u){function c(k,P){var j=Object.keys(k);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(k);P&&(D=D.filter(function(O){return Object.getOwnPropertyDescriptor(k,O).enumerable})),j.push.apply(j,D)}return j}function d(k){for(var P,j=1;j<arguments.length;j++)P=arguments[j]==null?{}:arguments[j],j%2?c(Object(P),!0).forEach(function(D){p(k,D,P[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(P)):c(Object(P)).forEach(function(D){Object.defineProperty(k,D,Object.getOwnPropertyDescriptor(P,D))});return k}function p(k,P,j){return P in k?Object.defineProperty(k,P,{value:j,enumerable:!0,configurable:!0,writable:!0}):k[P]=j,k}function y(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")}function m(k,P){for(var j,D=0;D<P.length;D++)j=P[D],j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(k,j.key,j)}function v(k,P,j){return P&&m(k.prototype,P),k}function b(k,P,j){E.prototype.copy.call(k,P,j)}var x=o("buffer"),E=x.Buffer,C=o("util"),R=C.inspect,I=R&&R.custom||"inspect";u.exports=(function(){function k(){y(this,k),this.head=null,this.tail=null,this.length=0}return v(k,[{key:"push",value:function(P){var j={data:P,next:null};0<this.length?this.tail.next=j:this.head=j,this.tail=j,++this.length}},{key:"unshift",value:function(P){var j={data:P,next:this.head};this.length===0&&(this.tail=j),this.head=j,++this.length}},{key:"shift",value:function(){if(this.length!==0){var P=this.head.data;return this.head=this.length===1?this.tail=null:this.head.next,--this.length,P}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(P){if(this.length===0)return"";for(var j=this.head,D=""+j.data;j=j.next;)D+=P+j.data;return D}},{key:"concat",value:function(P){if(this.length===0)return E.alloc(0);for(var j=E.allocUnsafe(P>>>0),D=this.head,O=0;D;)b(D.data,j,O),O+=D.data.length,D=D.next;return j}},{key:"consume",value:function(P,j){var D;return P<this.head.data.length?(D=this.head.data.slice(0,P),this.head.data=this.head.data.slice(P)):P===this.head.data.length?D=this.shift():D=j?this._getString(P):this._getBuffer(P),D}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(P){var j=this.head,D=1,O=j.data;for(P-=O.length;j=j.next;){var L=j.data,J=P>L.length?L.length:P;if(O+=J===L.length?L:L.slice(0,P),P-=J,P===0){J===L.length?(++D,this.head=j.next?j.next:this.tail=null):(this.head=j,j.data=L.slice(J));break}++D}return this.length-=D,O}},{key:"_getBuffer",value:function(P){var j=E.allocUnsafe(P),D=this.head,O=1;for(D.data.copy(j),P-=D.data.length;D=D.next;){var L=D.data,J=P>L.length?L.length:P;if(L.copy(j,j.length-P,0,J),P-=J,P===0){J===L.length?(++O,this.head=D.next?D.next:this.tail=null):(this.head=D,D.data=L.slice(J));break}++O}return this.length-=O,j}},{key:I,value:function(P,j){return R(this,d({},j,{depth:0,customInspect:!1}))}}]),k})()},{buffer:3,util:2}],23:[function(o,u){(function(c){(function(){function d(m,v){y(m,v),p(m)}function p(m){m._writableState&&!m._writableState.emitClose||m._readableState&&!m._readableState.emitClose||m.emit("close")}function y(m,v){m.emit("error",v)}u.exports={destroy:function(m,v){var b=this,x=this._readableState&&this._readableState.destroyed,E=this._writableState&&this._writableState.destroyed;return x||E?(v?v(m):m&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,c.nextTick(y,this,m)):c.nextTick(y,this,m)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(m||null,function(C){!v&&C?b._writableState?b._writableState.errorEmitted?c.nextTick(p,b):(b._writableState.errorEmitted=!0,c.nextTick(d,b,C)):c.nextTick(d,b,C):v?(c.nextTick(p,b),v(C)):c.nextTick(p,b)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(m,v){var b=m._readableState,x=m._writableState;b&&b.autoDestroy||x&&x.autoDestroy?m.destroy(v):m.emit("error",v)}}}).call(this)}).call(this,o("_process"))},{_process:12}],24:[function(o,u){function c(v){var b=!1;return function(){if(!b){b=!0;for(var x=arguments.length,E=Array(x),C=0;C<x;C++)E[C]=arguments[C];v.apply(this,E)}}}function d(){}function p(v){return v.setHeader&&typeof v.abort=="function"}function y(v,b,x){if(typeof b=="function")return y(v,null,b);b||(b={}),x=c(x||d);var E=b.readable||b.readable!==!1&&v.readable,C=b.writable||b.writable!==!1&&v.writable,R=function(){v.writable||k()},I=v._writableState&&v._writableState.finished,k=function(){C=!1,I=!0,E||x.call(v)},P=v._readableState&&v._readableState.endEmitted,j=function(){E=!1,P=!0,C||x.call(v)},D=function(J){x.call(v,J)},O=function(){var J;return E&&!P?(v._readableState&&v._readableState.ended||(J=new m),x.call(v,J)):C&&!I?(v._writableState&&v._writableState.ended||(J=new m),x.call(v,J)):void 0},L=function(){v.req.on("finish",k)};return p(v)?(v.on("complete",k),v.on("abort",O),v.req?L():v.on("request",L)):C&&!v._writableState&&(v.on("end",R),v.on("close",R)),v.on("end",j),v.on("finish",k),b.error!==!1&&v.on("error",D),v.on("close",O),function(){v.removeListener("complete",k),v.removeListener("abort",O),v.removeListener("request",L),v.req&&v.req.removeListener("finish",k),v.removeListener("end",R),v.removeListener("close",R),v.removeListener("finish",k),v.removeListener("end",j),v.removeListener("error",D),v.removeListener("close",O)}}var m=o("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;u.exports=y},{"../../../errors":15}],25:[function(o,u){u.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],26:[function(o,u){function c(I){var k=!1;return function(){k||(k=!0,I.apply(void 0,arguments))}}function d(I){if(I)throw I}function p(I){return I.setHeader&&typeof I.abort=="function"}function y(I,k,P,j){j=c(j);var D=!1;I.on("close",function(){D=!0}),x===void 0&&(x=o("./end-of-stream")),x(I,{readable:k,writable:P},function(L){return L?j(L):(D=!0,void j())});var O=!1;return function(L){if(!D)return O?void 0:(O=!0,p(I)?I.abort():typeof I.destroy=="function"?I.destroy():void j(L||new R("pipe")))}}function m(I){I()}function v(I,k){return I.pipe(k)}function b(I){return I.length&&typeof I[I.length-1]=="function"?I.pop():d}var x,E=o("../../../errors").codes,C=E.ERR_MISSING_ARGS,R=E.ERR_STREAM_DESTROYED;u.exports=function(){for(var I=arguments.length,k=Array(I),P=0;P<I;P++)k[P]=arguments[P];var j=b(k);if(Array.isArray(k[0])&&(k=k[0]),2>k.length)throw new C("streams");var D,O=k.map(function(L,J){var z=J<k.length-1;return y(L,z,0<J,function(W){D||(D=W),W&&O.forEach(m),z||(O.forEach(m),j(D))})});return k.reduce(v)}},{"../../../errors":15,"./end-of-stream":24}],27:[function(o,u){function c(p,y,m){return p.highWaterMark==null?y?p[m]:null:p.highWaterMark}var d=o("../../../errors").codes.ERR_INVALID_OPT_VALUE;u.exports={getHighWaterMark:function(p,y,m,v){var b=c(y,v,m);if(b!=null){if(!(isFinite(b)&&r(b)===b)||0>b){var x=v?m:"highWaterMark";throw new d(x,b)}return r(b)}return p.objectMode?16:16384}}},{"../../../errors":15}],28:[function(o,u){u.exports=o("events").EventEmitter},{events:7}],29:[function(o,u,c){c=u.exports=o("./lib/_stream_readable.js"),c.Stream=c,c.Readable=c,c.Writable=o("./lib/_stream_writable.js"),c.Duplex=o("./lib/_stream_duplex.js"),c.Transform=o("./lib/_stream_transform.js"),c.PassThrough=o("./lib/_stream_passthrough.js"),c.finished=o("./lib/internal/streams/end-of-stream.js"),c.pipeline=o("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":16,"./lib/_stream_passthrough.js":17,"./lib/_stream_readable.js":18,"./lib/_stream_transform.js":19,"./lib/_stream_writable.js":20,"./lib/internal/streams/end-of-stream.js":24,"./lib/internal/streams/pipeline.js":26}],30:[function(o,u,c){function d(v,b){for(var x in v)b[x]=v[x]}function p(v,b,x){return m(v,b,x)}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var y=o("buffer"),m=y.Buffer;m.from&&m.alloc&&m.allocUnsafe&&m.allocUnsafeSlow?u.exports=y:(d(y,c),c.Buffer=p),p.prototype=Object.create(m.prototype),d(m,p),p.from=function(v,b,x){if(typeof v=="number")throw new TypeError("Argument must not be a number");return m(v,b,x)},p.alloc=function(v,b,x){if(typeof v!="number")throw new TypeError("Argument must be a number");var E=m(v);return b===void 0?E.fill(0):typeof x=="string"?E.fill(b,x):E.fill(b),E},p.allocUnsafe=function(v){if(typeof v!="number")throw new TypeError("Argument must be a number");return m(v)},p.allocUnsafeSlow=function(v){if(typeof v!="number")throw new TypeError("Argument must be a number");return y.SlowBuffer(v)}},{buffer:3}],31:[function(o,u,c){function d(O){if(!O)return"utf8";for(var L;;)switch(O){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return O;default:if(L)return;O=(""+O).toLowerCase(),L=!0}}function p(O){var L=d(O);if(typeof L!="string"&&(j.isEncoding===D||!D(O)))throw new Error("Unknown encoding: "+O);return L||O}function y(O){this.encoding=p(O);var L;switch(this.encoding){case"utf16le":this.text=E,this.end=C,L=4;break;case"utf8":this.fillLast=x,L=4;break;case"base64":this.text=R,this.end=I,L=3;break;default:return this.write=k,void(this.end=P)}this.lastNeed=0,this.lastTotal=0,this.lastChar=j.allocUnsafe(L)}function m(O){return 127>=O?0:O>>5==6?2:O>>4==14?3:O>>3==30?4:O>>6==2?-1:-2}function v(O,L,J){var z=L.length-1;if(z<J)return 0;var W=m(L[z]);return 0<=W?(0<W&&(O.lastNeed=W-1),W):--z<J||W===-2?0:(W=m(L[z]),0<=W?(0<W&&(O.lastNeed=W-2),W):--z<J||W===-2?0:(W=m(L[z]),0<=W?(0<W&&(W===2?W=0:O.lastNeed=W-3),W):0))}function b(O,L){if((192&L[0])!=128)return O.lastNeed=0,"";if(1<O.lastNeed&&1<L.length){if((192&L[1])!=128)return O.lastNeed=1,"";if(2<O.lastNeed&&2<L.length&&(192&L[2])!=128)return O.lastNeed=2,""}}function x(O){var L=this.lastTotal-this.lastNeed,J=b(this,O);return J===void 0?this.lastNeed<=O.length?(O.copy(this.lastChar,L,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(O.copy(this.lastChar,L,0,O.length),void(this.lastNeed-=O.length)):J}function E(O,L){if((O.length-L)%2==0){var J=O.toString("utf16le",L);if(J){var z=J.charCodeAt(J.length-1);if(55296<=z&&56319>=z)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=O[O.length-2],this.lastChar[1]=O[O.length-1],J.slice(0,-1)}return J}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=O[O.length-1],O.toString("utf16le",L,O.length-1)}function C(O){var L=O&&O.length?this.write(O):"";if(this.lastNeed){var J=this.lastTotal-this.lastNeed;return L+this.lastChar.toString("utf16le",0,J)}return L}function R(O,L){var J=(O.length-L)%3;return J==0?O.toString("base64",L):(this.lastNeed=3-J,this.lastTotal=3,J==1?this.lastChar[0]=O[O.length-1]:(this.lastChar[0]=O[O.length-2],this.lastChar[1]=O[O.length-1]),O.toString("base64",L,O.length-J))}function I(O){var L=O&&O.length?this.write(O):"";return this.lastNeed?L+this.lastChar.toString("base64",0,3-this.lastNeed):L}function k(O){return O.toString(this.encoding)}function P(O){return O&&O.length?this.write(O):""}var j=o("safe-buffer").Buffer,D=j.isEncoding||function(O){switch(O=""+O,O&&O.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};c.StringDecoder=y,y.prototype.write=function(O){if(O.length===0)return"";var L,J;if(this.lastNeed){if(L=this.fillLast(O),L===void 0)return"";J=this.lastNeed,this.lastNeed=0}else J=0;return J<O.length?L?L+this.text(O,J):this.text(O,J):L||""},y.prototype.end=function(O){var L=O&&O.length?this.write(O):"";return this.lastNeed?L+"":L},y.prototype.text=function(O,L){var J=v(this,O,L);if(!this.lastNeed)return O.toString("utf8",L);this.lastTotal=J;var z=O.length-(J-this.lastNeed);return O.copy(this.lastChar,0,z),O.toString("utf8",L,z)},y.prototype.fillLast=function(O){return this.lastNeed<=O.length?(O.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(O.copy(this.lastChar,this.lastTotal-this.lastNeed,0,O.length),void(this.lastNeed-=O.length))}},{"safe-buffer":30}],32:[function(o,u){(function(c){(function(){function d(p){try{if(!c.localStorage)return!1}catch{return!1}var y=c.localStorage[p];return y!=null&&(y+"").toLowerCase()==="true"}u.exports=function(p,y){function m(){if(!v){if(d("throwDeprecation"))throw new Error(y);d("traceDeprecation")?console.trace(y):console.warn(y),v=!0}return p.apply(this,arguments)}if(d("noDeprecation"))return p;var v=!1;return m}}).call(this)}).call(this,typeof jr>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:jr)},{}],"/":[function(o,u){function c(I){return I.replace(/a=ice-options:trickle\s\n/g,"")}function d(I){console.warn(I)}/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const p=o("debug")("simple-peer"),y=o("get-browser-rtc"),m=o("randombytes"),v=o("readable-stream"),b=o("queue-microtask"),x=o("err-code"),{Buffer:E}=o("buffer"),C=65536;class R extends v.Duplex{constructor(k){if(k=Object.assign({allowHalfOpen:!1},k),super(k),this._id=m(4).toString("hex").slice(0,7),this._debug("new peer %o",k),this.channelName=k.initiator?k.channelName||m(20).toString("hex"):null,this.initiator=k.initiator||!1,this.channelConfig=k.channelConfig||R.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},R.config,k.config),this.offerOptions=k.offerOptions||{},this.answerOptions=k.answerOptions||{},this.sdpTransform=k.sdpTransform||(P=>P),this.streams=k.streams||(k.stream?[k.stream]:[]),this.trickle=k.trickle===void 0||k.trickle,this.allowHalfTrickle=k.allowHalfTrickle!==void 0&&k.allowHalfTrickle,this.iceCompleteTimeout=k.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=k.wrtc&&typeof k.wrtc=="object"?k.wrtc:y(),!this._wrtc)throw x(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(P){return void this.destroy(x(P,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=P=>{this._onIceCandidate(P)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(P=>{this.destroy(x(P,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=P=>{this._setupData(P)},this.streams&&this.streams.forEach(P=>{this.addStream(P)}),this._pc.ontrack=P=>{this._onTrack(P)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(k){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof k=="string")try{k=JSON.parse(k)}catch{k={}}this._debug("signal()"),k.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),k.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(k.transceiverRequest.kind,k.transceiverRequest.init)),k.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(k.candidate):this._pendingCandidates.push(k.candidate)),k.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(k)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(P=>{this._addIceCandidate(P)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(P=>{this.destroy(x(P,"ERR_SET_REMOTE_DESCRIPTION"))}),k.sdp||k.candidate||k.renegotiate||k.transceiverRequest||this.destroy(x(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(k){const P=new this._wrtc.RTCIceCandidate(k);this._pc.addIceCandidate(P).catch(j=>{!P.address||P.address.endsWith(".local")?d("Ignoring unsupported ICE candidate."):this.destroy(x(j,"ERR_ADD_ICE_CANDIDATE"))})}send(k){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(k)}}addTransceiver(k,P){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(k,P),this._needsNegotiation()}catch(j){this.destroy(x(j,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:k,init:P}})}}addStream(k){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),k.getTracks().forEach(P=>{this.addTrack(P,k)})}}addTrack(k,P){if(this.destroying)return;if(this.destroyed)throw x(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const j=this._senderMap.get(k)||new Map;let D=j.get(P);if(!D)D=this._pc.addTrack(k,P),j.set(P,D),this._senderMap.set(k,j),this._needsNegotiation();else throw D.removed?x(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):x(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(k,P,j){if(this.destroying)return;if(this.destroyed)throw x(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const D=this._senderMap.get(k),O=D?D.get(j):null;if(!O)throw x(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");P&&this._senderMap.set(P,D),O.replaceTrack==null?this.destroy(x(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):O.replaceTrack(P)}removeTrack(k,P){if(this.destroying)return;if(this.destroyed)throw x(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const j=this._senderMap.get(k),D=j?j.get(P):null;if(!D)throw x(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{D.removed=!0,this._pc.removeTrack(D)}catch(O){O.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(D):this.destroy(x(O,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(k){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),k.getTracks().forEach(P=>{this.removeTrack(P,k)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,b(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(k){this._destroy(k,()=>{})}_destroy(k,P){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",k&&(k.message||k)),b(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",k&&(k.message||k)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,k&&this.emit("error",k),this.emit("close"),P()}))}_setupData(k){if(!k.channel)return this.destroy(x(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=k.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=C),this.channelName=this._channel.label,this._channel.onmessage=j=>{this._onChannelMessage(j)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=j=>{const D=j.error instanceof Error?j.error:new Error(`Datachannel error: ${j.message} ${j.filename}:${j.lineno}:${j.colno}`);this.destroy(x(D,"ERR_DATA_CHANNEL"))};let P=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(P&&this._onChannelClose(),P=!0):P=!1},5e3)}_read(){}_write(k,P,j){if(this.destroyed)return j(x(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(k)}catch(D){return this.destroy(x(D,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>C?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=j):j(null)}else this._debug("write before connect"),this._chunk=k,this._cb=j}_onFinish(){if(!this.destroyed){const k=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?k():this.once("connect",k)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(k=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(k.sdp=c(k.sdp)),k.sdp=this.sdpTransform(k.sdp);const P=()=>{if(!this.destroyed){const j=this._pc.localDescription||k;this._debug("signal"),this.emit("signal",{type:j.type,sdp:j.sdp})}};this._pc.setLocalDescription(k).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?P():this.once("_iceComplete",P))}).catch(j=>{this.destroy(x(j,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(k=>{this.destroy(x(k,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(k=>{k.mid||!k.sender.track||k.requested||(k.requested=!0,this.addTransceiver(k.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(k=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(k.sdp=c(k.sdp)),k.sdp=this.sdpTransform(k.sdp);const P=()=>{if(!this.destroyed){const j=this._pc.localDescription||k;this._debug("signal"),this.emit("signal",{type:j.type,sdp:j.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(k).then(()=>{this.destroyed||(this.trickle||this._iceComplete?P():this.once("_iceComplete",P))}).catch(j=>{this.destroy(x(j,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(k=>{this.destroy(x(k,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(x(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const k=this._pc.iceConnectionState,P=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",k,P),this.emit("iceStateChange",k,P),(k==="connected"||k==="completed")&&(this._pcReady=!0,this._maybeReady()),k==="failed"&&this.destroy(x(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),k==="closed"&&this.destroy(x(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(k){const P=j=>(Object.prototype.toString.call(j.values)==="[object Array]"&&j.values.forEach(D=>{Object.assign(j,D)}),j);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(j=>{const D=[];j.forEach(O=>{D.push(P(O))}),k(null,D)},j=>k(j)):0<this._pc.getStats.length?this._pc.getStats(j=>{if(this.destroyed)return;const D=[];j.result().forEach(O=>{const L={};O.names().forEach(J=>{L[J]=O.stat(J)}),L.id=O.id,L.type=O.type,L.timestamp=O.timestamp,D.push(P(L))}),k(null,D)},j=>k(j)):k(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const k=()=>{this.destroyed||this.getStats((P,j)=>{if(this.destroyed)return;P&&(j=[]);const D={},O={},L={};let J=!1;j.forEach(W=>{(W.type==="remotecandidate"||W.type==="remote-candidate")&&(D[W.id]=W),(W.type==="localcandidate"||W.type==="local-candidate")&&(O[W.id]=W),(W.type==="candidatepair"||W.type==="candidate-pair")&&(L[W.id]=W)});const z=W=>{J=!0;let te=O[W.localCandidateId];te&&(te.ip||te.address)?(this.localAddress=te.ip||te.address,this.localPort=+te.port):te&&te.ipAddress?(this.localAddress=te.ipAddress,this.localPort=+te.portNumber):typeof W.googLocalAddress=="string"&&(te=W.googLocalAddress.split(":"),this.localAddress=te[0],this.localPort=+te[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let ce=D[W.remoteCandidateId];ce&&(ce.ip||ce.address)?(this.remoteAddress=ce.ip||ce.address,this.remotePort=+ce.port):ce&&ce.ipAddress?(this.remoteAddress=ce.ipAddress,this.remotePort=+ce.portNumber):typeof W.googRemoteAddress=="string"&&(ce=W.googRemoteAddress.split(":"),this.remoteAddress=ce[0],this.remotePort=+ce[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(j.forEach(W=>{W.type==="transport"&&W.selectedCandidatePairId&&z(L[W.selectedCandidatePairId]),(W.type==="googCandidatePair"&&W.googActiveConnection==="true"||(W.type==="candidatepair"||W.type==="candidate-pair")&&W.selected)&&z(W)}),!J&&(!Object.keys(L).length||Object.keys(O).length))return void setTimeout(k,100);if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(te){return this.destroy(x(te,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const W=this._cb;this._cb=null,W(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};k()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>C)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(k=>{this._pc.removeTrack(k),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(k){this.destroyed||(k.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:k.candidate.candidate,sdpMLineIndex:k.candidate.sdpMLineIndex,sdpMid:k.candidate.sdpMid}}):!k.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),k.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(k){if(this.destroyed)return;let P=k.data;P instanceof ArrayBuffer&&(P=E.from(P)),this.push(P)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const k=this._cb;this._cb=null,k(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(k){this.destroyed||k.streams.forEach(P=>{this._debug("on track"),this.emit("track",k.track,P),this._remoteTracks.push({track:k.track,stream:P}),this._remoteStreams.some(j=>j.id===P.id)||(this._remoteStreams.push(P),b(()=>{this._debug("on stream"),this.emit("stream",P)}))})}_debug(){const k=[].slice.call(arguments);k[0]="["+this._id+"] "+k[0],p.apply(null,k)}}R.WEBRTC_SUPPORT=!!y(),R.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},R.channelConfig={},u.exports=R},{buffer:3,debug:4,"err-code":6,"get-browser-rtc":8,"queue-microtask":13,randombytes:14,"readable-stream":29}]},{},[])("/")})})(ed)),ed.exports}var MR=LR();const ev=kl(MR),Ws={mimeType:"audio/webm;codecs=opus",audioBitsPerSecond:16e3,sampleRate:16e3,channels:1},zR=["audio/webm;codecs=opus","audio/webm","audio/ogg;codecs=opus","audio/mp4"];class UR{constructor(){Ht(this,"mediaRecorder",null);Ht(this,"audioChunks",[]);Ht(this,"recordingState",{isRecording:!1,duration:0,fileSize:0});Ht(this,"options",null);Ht(this,"durationInterval",null);Ht(this,"startTime",0)}getSupportedMimeType(){for(const e of zR)if(MediaRecorder.isTypeSupported(e))return console.log(" [Recording] Using MIME type:",e),e;return console.warn(" [Recording] No supported MIME type found, using default"),""}async startRecording(e,r,i){try{this.options=i,console.log(" [Recording] Starting dual-stream recording for call:",i.callId);const a=new AudioContext({sampleRate:Ws.sampleRate}),o=a.createMediaStreamDestination();if(e.getAudioTracks().length>0){const m=a.createMediaStreamSource(e),v=a.createGain();v.gain.value=1,m.connect(v),v.connect(o)}if(r.getAudioTracks().length>0){const m=a.createMediaStreamSource(r),v=a.createGain();v.gain.value=1,m.connect(v),v.connect(o)}const u=o.stream,c=this.getSupportedMimeType(),d={audioBitsPerSecond:Ws.audioBitsPerSecond};c&&(d.mimeType=c),this.mediaRecorder=new MediaRecorder(u,d),this.audioChunks=[],this.mediaRecorder.ondataavailable=m=>{m.data.size>0&&(this.audioChunks.push(m.data),this.recordingState.fileSize+=m.data.size,console.log(" [Recording] Chunk received:",m.data.size,"bytes"))},this.mediaRecorder.onstop=async()=>{console.log(" [Recording] MediaRecorder stopped"),await this.processAndUpload()},this.mediaRecorder.onerror=m=>{var v;console.error(" [Recording] Error:",m.error),this.handleRecordingError(((v=m.error)==null?void 0:v.message)||"Recording error")};const{data:p,error:y}=await K.from("call_recordings").insert({call_id:i.callId,caller_id:i.callerId,caller_type:i.callerType,caller_name:i.callerName||"Arayan",receiver_id:i.receiverId,receiver_type:i.receiverType,receiver_name:i.receiverName||"Partner",file_path:"",file_name:`call_${i.callId}.webm`,duration_seconds:0,sample_rate:Ws.sampleRate,bitrate:Ws.audioBitsPerSecond,channels:Ws.channels,status:"recording",request_id:i.requestId||null}).select().single();return y?(console.error(" [Recording] DB error:",y),null):(await K.from("calls").update({recording_id:p.id,is_recorded:!0}).eq("id",i.callId),this.mediaRecorder.start(1e3),this.startTime=Date.now(),this.durationInterval=window.setInterval(()=>{this.recordingState.duration=Math.floor((Date.now()-this.startTime)/1e3)},1e3),this.recordingState={isRecording:!0,recordingId:p.id,startTime:this.startTime,duration:0,fileSize:0},console.log(" [Recording] Started successfully, recording ID:",p.id),p.id)}catch(a){return console.error(" [Recording] Failed to start:",a),null}}async stopRecording(){console.log(" [Recording] Stopping...");const e=this.recordingState.isRecording;if(this.recordingState.isRecording=!1,this.durationInterval&&(clearInterval(this.durationInterval),this.durationInterval=null),this.mediaRecorder){if(this.mediaRecorder.ondataavailable=null,this.mediaRecorder.onstop=null,this.mediaRecorder.onerror=null,this.mediaRecorder.state!=="inactive")try{this.mediaRecorder.stop()}catch(r){console.warn(" [Recording] MediaRecorder stop error:",r)}this.mediaRecorder=null}return e&&this.audioChunks.length>0?await this.processAndUpload():(console.log(" [Recording] Nothing to upload"),this.cleanup(),null)}getState(){return{...this.recordingState}}async processAndUpload(){if(!this.options||!this.recordingState.recordingId||this.audioChunks.length===0)return console.warn(" [Recording] No data to process"),null;try{console.log(" [Recording] Processing and uploading..."),await K.from("call_recordings").update({status:"processing"}).eq("id",this.recordingState.recordingId);const e=this.getSupportedMimeType()||"audio/webm",r=new Blob(this.audioChunks,{type:e}),i=r.size,a=new Date,o=a.getFullYear(),u=String(a.getMonth()+1).padStart(2,"0"),c=`call_${this.options.callId}_${Date.now()}.webm`,d=`${o}/${u}/${c}`;console.log(" [Recording] Uploading to:",d,"Size:",i,"bytes");const{data:p,error:y}=await K.storage.from("call-recordings").upload(d,r,{contentType:e,upsert:!1});if(y)throw y;const m=this.recordingState.duration*35e4/8,v=m/i,{error:b}=await K.from("call_recordings").update({file_path:d,file_name:c,file_size_bytes:i,duration_seconds:this.recordingState.duration,original_size_bytes:Math.round(m),compression_ratio:Math.round(v*100)/100,status:"ready"}).eq("id",this.recordingState.recordingId);if(b)throw b;console.log(" [Recording] Upload successful!"),console.log(" Duration:",this.recordingState.duration,"seconds"),console.log(" File size:",Math.round(i/1024),"KB"),console.log(" Compression ratio:",v.toFixed(1),"x");const x={storagePath:d,fileSize:i};return this.cleanup(),x}catch(e){return console.error(" [Recording] Upload failed:",e),await this.handleRecordingError(e.message),null}}async handleRecordingError(e){this.recordingState.recordingId&&await K.from("call_recordings").update({status:"failed",error_message:e}).eq("id",this.recordingState.recordingId),this.cleanup()}cleanup(){this.mediaRecorder=null,this.audioChunks=[],this.options=null,this.recordingState={isRecording:!1,duration:0,fileSize:0}}}const Yh=new UR;async function tv(t,e,r){return Yh.startRecording(t,e,r)}async function BR(){return Yh.stopRecording()}function td(){return Yh.getState()}const U_=U.createContext(null),FR=({children:t})=>{const[e,r]=U.useState("idle"),[i,a]=U.useState(!1),[o,u]=U.useState(null),[c,d]=U.useState(null),[p,y]=U.useState(null),[m,v]=U.useState(!1),[b,x]=U.useState(!0),[E,C]=U.useState(0),[R,I]=U.useState(!1),[k,P]=U.useState(null),j=U.useRef(null),D=U.useRef(null),O=U.useRef(null),L=U.useRef(null),J=U.useRef(null),z=U.useRef(null),W=U.useRef(null),te=U.useCallback(()=>{const ue=localStorage.getItem("yolmov_partner");if(ue)try{const $=JSON.parse(ue),G=$.id||$.partner_id;return console.log(" [CallContext] getCurrentUser - Partner found:",G),{id:G,type:"partner",name:$.company_name||$.name,phone:$.phone}}catch($){console.error(" [CallContext] Error parsing partner data:",$)}const pe=localStorage.getItem("yolmov_customer");if(pe)try{const $=JSON.parse(pe);return console.log(" [CallContext] getCurrentUser - Customer found:",$.id),{id:$.id,type:"customer",name:$.name,phone:$.phone}}catch($){console.error(" [CallContext] Error parsing customer data:",$)}let fe=localStorage.getItem("yolmov_anonymous_caller_id");return fe||(fe="anon_"+$h(),localStorage.setItem("yolmov_anonymous_caller_id",fe)),console.log(" [CallContext] getCurrentUser - Anonymous:",fe),{id:fe,type:"customer",name:"Anonim Arayan",isAnonymous:!0}},[]);U.useEffect(()=>{console.log(" [CallContext] Setting up realtime subscription (global channel)");const ue=K.channel("calls_global_incoming").on("postgres_changes",{event:"INSERT",schema:"public",table:"calls"},async pe=>{const fe=pe.new,$=te();if(!$){console.log(" [CallContext] No user found, ignoring call");return}if(console.log(" [CallContext] New call detected:",fe.id,"receiver:",fe.receiver_id,"my id:",$.id),fe.receiver_id!==$.id){console.log(" [CallContext] Call not for me, ignoring");return}if(fe.status!=="ringing")return;console.log(" [CallContext] Incoming call FOR ME!",fe);let G=null;if(fe.caller_id.startsWith("anon_"))G={name:"Anonim Arayan",phone:null};else if(fe.caller_type==="customer"){const{data:ee}=await K.from("customers").select("id, first_name, last_name, phone").eq("id",fe.caller_id).single();ee&&(G={name:`${ee.first_name||""} ${ee.last_name||""}`.trim()||"Mteri",phone:ee.phone})}else if(fe.caller_type==="partner"){const{data:ee}=await K.from("partners").select("id, company_name, phone").eq("id",fe.caller_id).single();ee&&(G={name:ee.company_name,phone:ee.phone})}a(!0),r("ringing"),d(G),u({id:fe.id,callerId:fe.caller_id,callerName:(G==null?void 0:G.name)||"Arayan",callerPhone:G==null?void 0:G.phone,callerType:fe.caller_type,receiverId:fe.receiver_id,receiverType:fe.receiver_type,status:"ringing",startedAt:fe.started_at}),z.current=fe.id,ke()}).subscribe(pe=>{console.log(" [CallContext] Realtime subscription status:",pe)});return()=>{K.removeChannel(ue)}},[]),U.useEffect(()=>{if(e!=="calling")return;console.log(" [CallContext] Setting up SDP answer listener...");const ue=K.channel("call_updates_global").on("postgres_changes",{event:"UPDATE",schema:"public",table:"calls"},pe=>{const fe=pe.new,$=z.current;if(!$||fe.id!==$){console.log(` [CallContext] Update received for call ${fe.id}, but my call is ${$} - ignoring`);return}if(console.log(" [CallContext]  My call updated:",fe.status,"has answer:",!!fe.sdp_answer),fe.status==="rejected"||fe.status==="missed"){ye(fe.status);return}if(fe.sdp_answer&&L.current){console.log(" [CallContext] Got SDP answer from partner, signaling peer...");try{!L.current.destroyed&&!L.current.connected?(L.current.signal(fe.sdp_answer),console.log(" [CallContext]  SDP answer signaled to peer!")):console.log(" [CallContext] Peer already connected or destroyed, skipping signal")}catch(G){console.error(" [CallContext]  Error signaling peer:",G)}}}).subscribe(pe=>{console.log(" [CallContext] SDP answer subscription status:",pe)});return()=>{console.log(" [CallContext] Removing SDP answer subscription"),K.removeChannel(ue)}},[e]);const ce=ue=>{var $;const pe=new Audio;pe.setAttribute("playsinline","true"),pe.setAttribute("webkit-playsinline","true"),pe.preload="auto";const fe=($=ue.split(".").pop())==null?void 0:$.toLowerCase();return pe.src=ue,pe},ke=()=>{try{const ue=ce("/sounds/mixkit-happy-bells-notification-937.wav");ue.loop=!0,ue.volume=1;const pe=ue.play();pe!==void 0&&pe.catch(fe=>{console.warn(" [CallContext] Ringtone autoplay blocked (Safari?):",fe.message),document.addEventListener("click",function $(){ue.play().catch(()=>{}),document.removeEventListener("click",$)},{once:!0})}),window.__yolmov_ringtone=ue,console.log(" [CallContext] Ringtone started (partner incoming call)")}catch(ue){console.warn(" [CallContext] Ringtone error:",ue)}},je=()=>{try{const ue=window.__yolmov_ringtone;ue&&(ue.pause(),ue.currentTime=0,ue.src="",delete window.__yolmov_ringtone,console.log(" [CallContext] Ringtone stopped"))}catch{}},Oe=()=>{try{const ue=ce("/sounds/mixkit-magic-marimba-2820.wav");ue.loop=!0,ue.volume=.7;const pe=ue.play();pe!==void 0&&pe.catch(fe=>{console.warn(" [CallContext] Waiting tone autoplay blocked:",fe.message)}),window.__yolmov_waiting_tone=ue,console.log(" [CallContext] Waiting tone started (customer calling)")}catch(ue){console.warn(" [CallContext] Waiting tone error:",ue)}},Ee=()=>{try{const ue=window.__yolmov_waiting_tone;ue&&(ue.pause(),ue.currentTime=0,ue.src="",delete window.__yolmov_waiting_tone,console.log(" [CallContext] Waiting tone stopped"))}catch{}},ae=()=>{C(0),W.current=setInterval(()=>{C(ue=>ue+1)},1e3)},se=()=>{W.current&&(clearInterval(W.current),W.current=null)},me=U.useRef(!1),q=U.useRef(!1),re=async()=>{if(me.current){console.log(" [CallContext] cleanupCall already in progress, skipping...");return}me.current=!0,console.log(" [CallContext] cleanupCall started..."),je(),Ee();const ue=td();if(ue.isRecording||ue.recordingId){try{console.log(" [CallContext] Stopping recording and uploading...");const pe=await BR();pe&&console.log(" [CallContext] Recording uploaded:",pe.storagePath)}catch(pe){console.warn(" [CallContext] Recording stop error:",pe)}I(!1),P(null)}if(L.current){try{L.current.destroy()}catch{}L.current=null}J.current&&(J.current.getTracks().forEach(pe=>{try{pe.stop()}catch{}}),J.current=null),j.current&&(j.current.getTracks().forEach(pe=>{try{pe.stop()}catch{}}),j.current=null),je(),se(),r("idle"),a(!1),u(null),d(null),y(null),v(!1),C(0),z.current=null,me.current=!1,q.current=!1,console.log(" [CallContext] cleanupCall completed")},ye=async ue=>{if(q.current){console.log(" [CallContext] Call already ended, ignoring:",ue);return}q.current=!0,console.log(" [CallContext] Call ended:",ue),r("ended"),await re(),setTimeout(()=>{r("idle")},2e3)},_e=async(ue,pe="partner")=>{const fe=te();try{r("calling"),y(null),console.log(" [CallContext] Starting call to:",ue);const $=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1});J.current=$,D.current&&(D.current.srcObject=$,D.current.muted=!0),console.log(" [CallContext] Playing call recording notice...");try{const ee=ce("/sounds/call-recording-notice.mp3");let ge=!1;try{await new Promise((N,f)=>{ee.oncanplaythrough=()=>N(!0),ee.onerror=()=>f(new Error("Local audio not found")),setTimeout(()=>f(new Error("Audio load timeout")),2e3)}),ge=!0,console.log(" [CallContext] Notice audio loaded from /sounds/")}catch{console.log(" [CallContext] Local audio not found, trying Supabase...");const{data:f,error:S}=await K.storage.from("call-recordings").createSignedUrl("notice-audio.mp3",60);!S&&(f!=null&&f.signedUrl)&&(ee.src=f.signedUrl,await new Promise((A,F)=>{ee.oncanplaythrough=()=>A(!0),ee.onerror=()=>F(new Error("Supabase audio failed")),setTimeout(()=>F(new Error("Supabase audio timeout")),3e3)}),ge=!0,console.log(" [CallContext] Notice audio loaded from Supabase"))}if(ge){await ee.play(),console.log(" [CallContext] Notice audio playing...");const N=ee.duration||9,f=Math.min(N*1e3,1e4);await new Promise(S=>setTimeout(S,f)),ee.pause(),ee.currentTime=0,console.log(" [CallContext] Notice audio finished")}else if(console.log(" [CallContext] Using Web Speech API fallback..."),"speechSynthesis"in window){const N=new SpeechSynthesisUtterance("Bu grme kalite standartlar gerei kayt altna alnmaktadr. Ltfen bekleyiniz.");N.lang="tr-TR",N.rate=.9,N.pitch=1,N.volume=1,await new Promise(f=>{N.onend=()=>f(),N.onerror=()=>f(),window.speechSynthesis.speak(N),setTimeout(f,8e3)}),console.log(" [CallContext] Speech synthesis finished")}else console.warn(" [CallContext] No audio system available"),await new Promise(N=>setTimeout(N,2e3))}catch(ee){console.warn(" [CallContext] Notice audio failed, continuing:",ee)}Oe(),D.current&&(D.current.srcObject=$,D.current.muted=!0);const G=new ev({initiator:!0,trickle:!1,stream:$,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]}});L.current=G,G.on("signal",async ee=>{console.log(" [CallContext] Got SDP offer, saving to DB...");const{data:ge,error:N}=await K.from("calls").insert({caller_id:fe.id,caller_type:fe.type,receiver_id:ue,receiver_type:pe,status:"ringing",sdp_offer:ee}).select().single();if(N){console.error(" [CallContext] Error creating call:",N),y("Arama balatlamad"),await re();return}if(z.current=ge.id,u({id:ge.id,callerId:fe.id,callerName:fe.name,callerType:fe.type,receiverId:ue,receiverType:pe,status:"calling",startedAt:ge.started_at}),pe==="partner"){console.log(" [CallContext] Sending push notification to partner:",ue);try{await fetch("/api/send-call-notification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({partnerId:ue,callerName:fe.name||"Mteri",callerPhone:fe.phone||"",callId:ge.id})}),console.log(" [CallContext] Push notification sent")}catch(f){console.warn(" [CallContext] Push notification failed:",f)}}}),G.on("connect",()=>{console.log(" [CallContext] Peer connected!"),r("connected"),ae(),Ee(),z.current&&K.from("calls").update({status:"connected",connected_at:new Date().toISOString()}).eq("id",z.current).then(()=>{})}),G.on("stream",ee=>{console.log(" [CallContext] Got remote stream"),j.current=ee,O.current&&(O.current.srcObject=ee,O.current.play().catch(()=>{})),J.current&&z.current&&(console.log(" [CallContext] Starting call recording..."),tv(J.current,ee,{callId:z.current,callerId:fe.id,callerType:fe.type,callerName:fe.name,receiverId:ue,receiverType:pe,receiverName:"Partner"}).then(ge=>{ge&&(I(!0),P(td()),console.log(" [CallContext] Recording started:",ge))}).catch(ge=>{console.warn(" [CallContext] Recording failed to start:",ge)}))}),G.on("error",ee=>{console.error(" [CallContext] Peer error:",ee),y("Balant hatas"),ye("error")}),G.on("close",()=>{console.log(" [CallContext] Peer closed"),ye("peer_closed")}),setTimeout(()=>{e==="calling"&&z.current&&(console.log(" [CallContext] Call timeout - no answer"),K.from("calls").update({status:"missed",ended_at:new Date().toISOString()}).eq("id",z.current).then(()=>{}),ye("timeout"))},3e4)}catch($){console.error(" [CallContext] Error starting call:",$),y($.message||"Mikrofon eriimi reddedildi"),await re()}},ie=async()=>{if(!z.current||!o){y("Geersiz arama");return}const ue=te();if((ue==null?void 0:ue.type)==="partner"&&!ue.isAnonymous)try{const{data:pe}=await K.from("partner_credits").select("balance").eq("partner_id",ue.id).maybeSingle(),fe=(pe==null?void 0:pe.balance)||0;if(fe<1){y("Yetersiz kredi! Aramay cevaplayabilmek iin en az 1 krediniz olmal."),await K.from("calls").update({status:"rejected",ended_at:new Date().toISOString(),end_reason:"insufficient_credits"}).eq("id",z.current),await re();return}console.log(" [CallContext] Partner has",fe,"credits, deducting 1...");const{error:$}=await K.from("partner_credits").update({balance:fe-1,updated_at:new Date().toISOString()}).eq("partner_id",ue.id);if($)console.error(" [CallContext] Credit deduction failed:",$);else{console.log(" [CallContext] Credit deducted! New balance:",fe-1);const{data:G}=await K.from("partners").select("company_name").eq("id",ue.id).single(),{error:ee}=await K.from("credit_transactions").insert({partner_id:ue.id,partner_name:(G==null?void 0:G.company_name)||"Partner",amount:-1,type:"usage",balance_before:fe,balance_after:fe-1,description:`Gelen arama cevaplanp - Arayan: ${(c==null?void 0:c.name)||"Anonim"}`});ee?console.error(" [CallContext] Credit transaction log failed:",ee):console.log(" [CallContext] Credit transaction logged")}}catch(pe){console.error(" [CallContext] Credit check error:",pe)}try{je(),a(!1),r("connected"),console.log(" [CallContext] Answering call:",z.current);const pe=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1});J.current=pe,D.current&&(D.current.srcObject=pe,D.current.muted=!0);const{data:fe,error:$}=await K.from("calls").select("*").eq("id",z.current).single();if($||!(fe!=null&&fe.sdp_offer)){y("Arama verisi alnamad"),await re();return}const G=new ev({initiator:!1,trickle:!1,stream:pe,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]}});L.current=G,G.on("signal",async ee=>{console.log(" [CallContext] Got SDP answer, saving to DB..."),await K.from("calls").update({sdp_answer:ee,status:"connected",connected_at:new Date().toISOString()}).eq("id",z.current)}),G.on("connect",()=>{console.log(" [CallContext] Peer connected!"),ae()}),G.on("stream",ee=>{if(console.log(" [CallContext] Got remote stream"),j.current=ee,O.current&&(O.current.srcObject=ee,O.current.play().catch(()=>{})),J.current&&z.current&&o){console.log(" [CallContext] Starting call recording (receiver side)...");const ge=te();tv(J.current,ee,{callId:z.current,callerId:o.callerId,callerType:o.callerType,callerName:o.callerName,receiverId:ge.id,receiverType:ge.type,receiverName:ge.name}).then(N=>{N&&(I(!0),P(td()),console.log(" [CallContext] Recording started (receiver):",N))}).catch(N=>{console.warn(" [CallContext] Recording failed to start:",N)})}}),G.on("error",ee=>{console.error(" [CallContext] Peer error:",ee),y("Balant hatas"),ye("error")}),G.on("close",()=>{console.log(" [CallContext] Peer closed"),ye("peer_closed")}),G.signal(fe.sdp_offer)}catch(pe){console.error(" [CallContext] Error answering call:",pe),y(pe.message||"Mikrofon eriimi reddedildi"),await re()}},Ce=async ue=>{console.log(" [CallContext] answerCallById:",ue),z.current=ue;const{data:pe,error:fe}=await K.from("calls").select("*").eq("id",ue).single();if(fe||!pe){console.error(" [CallContext] Call not found:",fe),y("Arama bulunamad");return}d({name:"Arayan",phone:null}),u({id:pe.id,callerId:pe.caller_id,callerName:"Arayan",callerType:pe.caller_type,receiverId:pe.receiver_id,receiverType:pe.receiver_type,status:"ringing",startedAt:pe.started_at}),await ie()},Ve=async ue=>{console.log(" [CallContext] rejectCallById:",ue),await K.from("calls").update({status:"rejected",ended_at:new Date().toISOString(),end_reason:"receiver_rejected"}).eq("id",ue),await re()},Fe=async()=>{z.current&&(console.log(" [CallContext] Rejecting call:",z.current),je(),await K.from("calls").update({status:"rejected",ended_at:new Date().toISOString(),end_reason:"receiver_rejected"}).eq("id",z.current),await re())},Ke=async()=>{if(!z.current){await re();return}const ue=te();console.log(" [CallContext] Ending call:",z.current),await K.from("calls").update({status:"ended",ended_at:new Date().toISOString(),end_reason:(ue==null?void 0:ue.type)==="customer"?"caller_ended":"receiver_ended",duration_seconds:E}).eq("id",z.current),ye("user_ended")},Ye=()=>{if(J.current){const ue=J.current.getAudioTracks()[0];ue&&(ue.enabled=!ue.enabled,v(!ue.enabled))}},wt=()=>{O.current&&(O.current.muted=b,x(!b))};return w.jsxs(U_.Provider,{value:{callStatus:e,isIncoming:i,currentCall:o,callerInfo:c,error:p,startCall:_e,answerCall:ie,answerCallById:Ce,rejectCall:Fe,rejectCallById:Ve,endCall:Ke,isMuted:m,toggleMute:Ye,isSpeakerOn:b,toggleSpeaker:wt,callDuration:E,localAudioRef:D,remoteAudioRef:O,isRecording:R,recordingState:k},children:[t,w.jsx("audio",{ref:D,autoPlay:!0,muted:!0,playsInline:!0,style:{display:"none"}}),w.jsx("audio",{ref:O,autoPlay:!0,playsInline:!0,style:{display:"none"}})]})},Ml=()=>{const t=U.useContext(U_);if(!t)throw new Error("useCall must be used within a CallProvider");return t},$R=async()=>{try{const t=document.documentElement;t.requestFullscreen?await t.requestFullscreen():t.webkitRequestFullscreen?await t.webkitRequestFullscreen():t.msRequestFullscreen&&await t.msRequestFullscreen()}catch{console.log("Fullscreen not supported or denied")}},VR=async()=>{try{document.fullscreenElement?await document.exitFullscreen():document.webkitFullscreenElement?await document.webkitExitFullscreen():document.msFullscreenElement&&await document.msExitFullscreen()}catch{console.log("Exit fullscreen failed")}},qR=()=>{const{isIncoming:t,callStatus:e,callerInfo:r,answerCall:i,rejectCall:a,error:o}=Ml();if(console.log(" [IncomingCallModal] isIncoming:",t,"callStatus:",e,"callerInfo:",r),U.useEffect(()=>{t&&e==="ringing"&&$R()},[t,e]),!t||e!=="ringing")return null;const u=(r==null?void 0:r.name)||(r==null?void 0:r.company_name)||"Mteri",c=(r==null?void 0:r.phone)||"",d=async()=>{await VR(),a()},p=async()=>{i()};return w.jsx(Ir,{children:w.jsxs(Me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 flex flex-col items-center justify-between py-12 px-6",children:[w.jsx("div",{className:"flex flex-col items-center",children:w.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white/10 rounded-full backdrop-blur-sm",children:[w.jsx(aa,{size:14,className:"text-green-400"}),w.jsx("span",{className:"text-white/80 text-sm font-medium",children:"Yolmov Voice"})]})}),w.jsxs("div",{className:"flex flex-col items-center text-center",children:[w.jsxs(Me.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"relative mb-8",children:[w.jsx("div",{className:"absolute inset-0 w-36 h-36 rounded-full bg-green-500/20 animate-ping"}),w.jsx("div",{className:"absolute inset-2 w-32 h-32 rounded-full bg-green-500/30 animate-pulse"}),w.jsx("div",{className:"relative w-32 h-32 rounded-full bg-gradient-to-br from-slate-600 to-slate-700 flex items-center justify-center text-white shadow-2xl border-4 border-white/10",children:w.jsx(Xd,{size:56,strokeWidth:1.5})})]}),w.jsx(Me.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl font-bold text-white mb-2",children:u}),c&&w.jsx(Me.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-lg text-white/60 mb-4",children:c}),w.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex items-center gap-2 px-4 py-2 bg-orange-500/20 rounded-full",children:[w.jsx(Cl,{size:16,className:"text-orange-400"}),w.jsx("span",{className:"text-orange-300 text-sm font-medium",children:"Yol Yardm Talebi"})]}),w.jsx(Me.p,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},className:"text-white/50 text-lg mt-8",children:"Mteri aryor..."}),w.jsxs(Me.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-4 flex items-center gap-2 px-4 py-2 bg-yellow-500/20 rounded-full",children:[w.jsx(gS,{size:14,className:"text-yellow-400"}),w.jsx("span",{className:"text-yellow-300 text-xs font-medium",children:"Cevaplamak 1 kredi harcar"})]})]}),w.jsxs(Me.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.5},className:"flex items-center justify-center gap-12",children:[w.jsxs("button",{onClick:d,className:"group flex flex-col items-center gap-3",children:[w.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500 flex items-center justify-center shadow-lg shadow-red-500/30 transition-transform group-hover:scale-110 group-active:scale-95",children:w.jsx(sl,{size:28,className:"text-white"})}),w.jsx("span",{className:"text-white/60 text-sm font-medium",children:"Reddet"})]}),w.jsxs("button",{onClick:p,className:"group flex flex-col items-center gap-3",children:[w.jsx(Me.div,{animate:{scale:[1,1.15,1]},transition:{duration:1,repeat:1/0},className:"w-20 h-20 rounded-full bg-green-500 flex items-center justify-center shadow-lg shadow-green-500/30 transition-transform group-hover:scale-110 group-active:scale-95",children:w.jsx(aa,{size:36,className:"text-white"})}),w.jsx("span",{className:"text-white/60 text-sm font-medium",children:"Cevapla"})]})]})]})})},rv=async()=>{try{document.fullscreenElement?await document.exitFullscreen():document.webkitFullscreenElement?await document.webkitExitFullscreen():document.msFullscreenElement&&await document.msExitFullscreen()}catch{console.log("Exit fullscreen failed")}},KR=({minimized:t=!1,onMinimize:e,onMaximize:r})=>{const{callStatus:i,currentCall:a,callerInfo:o,endCall:u,isMuted:c,toggleMute:d,isSpeakerOn:p,toggleSpeaker:y,callDuration:m}=Ml();if(U.useEffect(()=>{(i==="ended"||i==="idle")&&rv()},[i]),i!=="connected")return null;const v=E=>{const C=Math.floor(E/60),R=E%60;return`${C.toString().padStart(2,"0")}:${R.toString().padStart(2,"0")}`},b=async()=>{await rv(),u()},x=(o==null?void 0:o.name)||(o==null?void 0:o.company_name)||(a==null?void 0:a.callerName)||"Grme";return t?w.jsx(Me.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},onClick:r,className:"fixed bottom-20 left-4 right-4 z-[9998] bg-green-600 rounded-2xl p-4 shadow-2xl cursor-pointer",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:w.jsx(aa,{size:20,className:"text-white"})}),w.jsxs("div",{children:[w.jsx("p",{className:"text-white font-bold text-sm",children:x}),w.jsxs("p",{className:"text-white/70 text-xs flex items-center gap-1",children:[w.jsx(ud,{size:12}),v(m)]})]})]}),w.jsx("button",{onClick:E=>{E.stopPropagation(),b()},className:"w-10 h-10 rounded-full bg-red-500 flex items-center justify-center",children:w.jsx(sl,{size:18,className:"text-white"})})]})}):w.jsx(Ir,{children:w.jsxs(Me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] bg-gradient-to-b from-green-900 via-green-800 to-slate-900 flex flex-col items-center justify-between py-12 px-6",children:[w.jsxs("div",{className:"w-full flex items-center justify-between",children:[w.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-colors",children:w.jsx(xS,{size:20,className:"text-white"})}),w.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-green-500/30 rounded-full",children:[w.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),w.jsx("span",{className:"text-green-300 text-sm font-medium",children:"Grme Devam Ediyor"})]}),w.jsx("div",{className:"w-10"})," "]}),w.jsxs("div",{className:"flex flex-col items-center text-center",children:[w.jsxs("div",{className:"relative mb-6",children:[w.jsx(Me.div,{animate:{scale:[1,1.2,1],opacity:[.3,.1,.3]},transition:{duration:1.5,repeat:1/0},className:"absolute inset-0 w-32 h-32 rounded-full bg-green-400"}),w.jsx("div",{className:"relative w-32 h-32 rounded-full bg-gradient-to-br from-green-600 to-green-700 flex items-center justify-center text-white shadow-2xl border-4 border-green-400/30",children:w.jsx(Xd,{size:56,strokeWidth:1.5})})]}),w.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:x}),w.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-xl",children:[w.jsx(ud,{size:20}),w.jsx("span",{className:"font-mono",children:v(m)})]})]}),w.jsxs("div",{className:"flex flex-col items-center gap-8",children:[w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsx("button",{onClick:d,className:`w-14 h-14 rounded-full flex items-center justify-center transition-all ${c?"bg-red-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:c?w.jsx(_S,{size:24}):w.jsx(bS,{size:24})}),w.jsx("button",{onClick:y,className:`w-14 h-14 rounded-full flex items-center justify-center transition-all ${p?"bg-white/10 text-white hover:bg-white/20":"bg-red-500 text-white"}`,children:p?w.jsx(AS,{size:24}):w.jsx(PS,{size:24})})]}),w.jsx("button",{onClick:b,className:"w-20 h-20 rounded-full bg-red-500 flex items-center justify-center shadow-lg shadow-red-500/30 hover:bg-red-600 transition-colors active:scale-95",children:w.jsx(sl,{size:32,className:"text-white"})}),w.jsx("span",{className:"text-white/50 text-sm",children:"Grmeyi Sonlandr"})]})]})})},WR=async t=>{if(t)try{t.requestFullscreen?await t.requestFullscreen():t.webkitRequestFullscreen?await t.webkitRequestFullscreen():t.msRequestFullscreen&&await t.msRequestFullscreen()}catch{console.log("Fullscreen not supported or denied")}},nv=async()=>{try{document.fullscreenElement?await document.exitFullscreen():document.webkitFullscreenElement?await document.webkitExitFullscreen():document.msFullscreenElement&&await document.msExitFullscreen()}catch{console.log("Exit fullscreen failed")}},GR=()=>{const{callStatus:t,currentCall:e,endCall:r,error:i,isIncoming:a}=Ml(),[o,u]=U.useState(""),c=U.useRef(null);if(U.useEffect(()=>(t==="calling"&&!a&&WR(document.documentElement),()=>{t!=="calling"&&t!=="connected"&&nv()}),[t,a]),U.useEffect(()=>{if(t==="calling"){const p=setInterval(()=>{u(y=>y.length>=3?"":y+".")},500);return()=>clearInterval(p)}},[t]),t!=="calling"||a)return null;const d=async()=>{await nv(),r()};return w.jsx(Ir,{children:w.jsxs(Me.div,{ref:c,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] bg-gradient-to-b from-orange-900 via-orange-800 to-slate-900 flex flex-col items-center justify-between py-12 px-6",children:[w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white/10 rounded-full backdrop-blur-sm",children:[w.jsx(aa,{size:14,className:"text-orange-400"}),w.jsx("span",{className:"text-white/80 text-sm font-medium",children:"Yolmov Voice"})]}),i&&w.jsx(Me.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-4 px-4 py-2 bg-red-500/20 rounded-lg",children:w.jsx("span",{className:"text-red-300 text-sm",children:i})})]}),w.jsxs("div",{className:"flex flex-col items-center text-center",children:[w.jsxs(Me.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},className:"relative mb-8",children:[w.jsx(Me.div,{animate:{scale:[1,1.5],opacity:[.5,0]},transition:{duration:1.5,repeat:1/0},className:"absolute inset-0 w-32 h-32 rounded-full bg-orange-500"}),w.jsx(Me.div,{animate:{scale:[1,1.3],opacity:[.3,0]},transition:{duration:1.5,repeat:1/0,delay:.5},className:"absolute inset-0 w-32 h-32 rounded-full bg-orange-400"}),w.jsx("div",{className:"relative w-32 h-32 rounded-full bg-gradient-to-br from-orange-600 to-orange-700 flex items-center justify-center text-white shadow-2xl border-4 border-white/10",children:w.jsx(Xd,{size:56,strokeWidth:1.5})})]}),w.jsx(Me.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl font-bold text-white mb-2",children:(e==null?void 0:e.receiverName)||"Partner"}),w.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex items-center gap-3 mt-4",children:[w.jsx(Ev,{size:20,className:"text-orange-400 animate-spin"}),w.jsxs("span",{className:"text-white/70 text-lg",children:["Aranyor",o]})]}),w.jsx(Me.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-white/40 text-sm mt-8 max-w-xs",children:"Partner cevapladnda grme balayacak"})]}),w.jsxs(Me.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex flex-col items-center gap-4",children:[w.jsx("button",{onClick:d,className:"group w-20 h-20 rounded-full bg-red-500 flex items-center justify-center shadow-lg shadow-red-500/30 hover:bg-red-600 transition-all active:scale-95",children:w.jsx(sl,{size:32,className:"text-white"})}),w.jsx("span",{className:"text-white/50 text-sm",children:"Aramay ptal Et"})]})]})})},HR=({onClick:t})=>{const{callStatus:e,isIncoming:r,currentCall:i,endCall:a,callDuration:o}=Ml();if(e==="idle"||e==="ended")return null;const u=y=>{const m=Math.floor(y/60),v=y%60;return`${m.toString().padStart(2,"0")}:${v.toString().padStart(2,"0")}`},d=r&&e==="ringing"?{bg:"bg-blue-500",icon:kS,text:"Gelen Arama",animate:!0}:e==="calling"?{bg:"bg-yellow-500",icon:aa,text:"Aranyor...",animate:!0}:e==="connected"?{bg:"bg-green-500",icon:Cv,text:u(o),animate:!1}:null;if(!d)return null;const p=d.icon;return w.jsxs(Me.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},onClick:t,className:`
        fixed top-4 left-1/2 -translate-x-1/2 z-[9990]
        ${d.bg} rounded-full px-4 py-2 shadow-lg cursor-pointer
        flex items-center gap-2
      `,children:[w.jsx(Me.div,{animate:d.animate?{scale:[1,1.2,1]}:{},transition:{duration:1,repeat:1/0},children:w.jsx(p,{size:18,className:"text-white"})}),w.jsx("span",{className:"text-white font-medium text-sm",children:d.text}),e==="connected"&&w.jsx("button",{onClick:y=>{y.stopPropagation(),a()},className:"ml-1 w-6 h-6 rounded-full bg-red-500 flex items-center justify-center hover:bg-red-600 transition-colors",children:w.jsx(oa,{size:14,className:"text-white"})})]})},YR=ze.lazy(()=>Be(()=>import("./AboutPage-DgWNPtoE.js"),__vite__mapDeps([0,1,2,3,4,5]))),JR=ze.lazy(()=>Be(()=>import("./ServicesPage-jkDUpBIf.js"),__vite__mapDeps([6,7,4,8]))),QR=ze.lazy(()=>Be(()=>import("./FAQPage-_L8bt56E.js"),__vite__mapDeps([9,10]))),XR=ze.lazy(()=>Be(()=>import("./ContactPage-DP0-gNhB.js"),__vite__mapDeps([11,12,13]))),ZR=ze.lazy(()=>Be(()=>import("./CareerPage-CThdZY6v.js"),__vite__mapDeps([14,5,3,2,15,13]))),ej=ze.lazy(()=>Be(()=>import("./BlogPage-CbSUBAXx.js"),__vite__mapDeps([16,17,18]))),tj=ze.lazy(()=>Be(()=>import("./CampaignsPage-C41Af59W.js"),__vite__mapDeps([19,20,21,22,17]))),rj=ze.lazy(()=>Be(()=>import("./CampaignDetailPage-BQGgxhpG.js"),__vite__mapDeps([23,21,20,22,24,17]))),iv=ze.lazy(()=>Be(()=>import("./LoginPage-Op7_hpr-.js"),__vite__mapDeps([25,26,27,28,29,30]))),nj=ze.lazy(()=>Be(()=>import("./AuthRequiredPage-BUIWd-ay.js"),__vite__mapDeps([31,28,32]))),ij=ze.lazy(()=>Be(()=>import("./PartnerRegisterPage-CiKmip6a.js"),__vite__mapDeps([33,34,35,36,28,37,5,38]))),sj=ze.lazy(()=>Be(()=>import("./PartnerDashboard-By6jSuGC.js"),__vite__mapDeps([39,40,24,8,41,5,42,43,30,34,44,37,45,46,47,48,49,17,50,22,51,52,38,53,27,4,2,54,55,56,13,57,28,58,59,60,36,61]))),aj=ze.lazy(()=>Be(()=>import("./CustomerProfilePage-CY7fhEzW.js"),__vite__mapDeps([62,26,36,61,63,3,28,49,27,48,37,56,30,47,29]))),oj=ze.lazy(()=>Be(()=>import("./OffersPanel-VVsCbkpL.js"),__vite__mapDeps([64,20,65,27,30,37,8]))),lj=ze.lazy(()=>Be(()=>import("./QuotePage-fm8UteyV.js"),__vite__mapDeps([66,34,44,37,45,46,47,67,20,38,68,57]))),uj=ze.lazy(()=>Be(()=>import("./ListingPage-BHQfveQ-.js"),__vite__mapDeps([69,60,37,27,59,17]))),cj=ze.lazy(()=>Be(()=>import("./ProviderDetailPage-DZf6wwEI.js"),__vite__mapDeps([70,47,20,27,37,42,38,54]))),sv=ze.lazy(()=>Be(()=>import("./AdminLoginPage-TUYvxTad.js"),__vite__mapDeps([71,4,47,36,28,29,30]))),av=ze.lazy(()=>Be(()=>import("./AdminSignupPage-CyOgfTTX.js"),__vite__mapDeps([72,37,36,28]))),Ze=ze.lazy(()=>Be(()=>import("./AdminDashboard-BoChJM1F.js").then(t=>t.a),__vite__mapDeps([73,68,18,52,42,30,27,61,40,17,8,24,74,4,32,75,48,36]))),dj=ze.lazy(()=>Be(()=>import("./AdminSystemLogs-B9T7tC0R.js"),__vite__mapDeps([76,40,17,24,4,30,49,75,48])));ze.lazy(()=>Be(()=>import("./AdminUserDetailPage-r2wMTmCg.js"),__vite__mapDeps([77,20,36,17,63,8,27])));ze.lazy(()=>Be(()=>import("./AdminPartnerDetailPage-8C8WZcX0.js"),__vite__mapDeps([78,20,27,24,8,42,36,17])));ze.lazy(()=>Be(()=>import("./AdminRequestDetailPage-fuIJzNNC.js"),__vite__mapDeps([79,20,24,63,17,8])));ze.lazy(()=>Be(()=>import("./AdminOfferDetailPage-DEtUcWm9.js"),__vite__mapDeps([80,20,24,13,17])));ze.lazy(()=>Be(()=>import("./AdminFleetDetailPage-CevMl2b9.js"),__vite__mapDeps([81,74,20,17,30,24,8])));ze.lazy(()=>Be(()=>import("./AdminReviewDetailPage-DZii6jFJ.js"),__vite__mapDeps([82,20,50,30,29,27,24])));ze.lazy(()=>Be(()=>import("./AdminLeadRequestDetailPage-DojsWUP8.js"),__vite__mapDeps([83,20,42,17,24])));ze.lazy(()=>Be(()=>import("./AdminAreaRequestDetailPage-C_0Vy7gE.js"),__vite__mapDeps([84,20,58,17,24])));ze.lazy(()=>Be(()=>import("./AdminSupportRequestDetailPage-Y1q3TUM8.js"),__vite__mapDeps([85,20,40,24,17])));const hj=ze.lazy(()=>Be(()=>import("./NotificationTestPage-BGS57YEQ.js"),__vite__mapDeps([86,47,13]))),fj=ze.lazy(()=>Be(()=>import("./EmailConfirmationPage-CRZaunhN.js"),__vite__mapDeps([87,37]))),pj=ze.lazy(()=>Be(()=>import("./PrivacyPolicyPage-aMVgIS4-.js"),__vite__mapDeps([88,20,4]))),mj=ze.lazy(()=>Be(()=>import("./TermsOfServicePage-DNdLqoVo.js"),__vite__mapDeps([89,20,40]))),gj=ze.lazy(()=>Be(()=>import("./NotFoundPage-R-U_6R51.js"),__vite__mapDeps([90,47]))),yj=ze.lazy(()=>Be(()=>import("./SEOServicePage-vuHFYzub.js"),__vite__mapDeps([91,92,47,24,93,4,27,94,10,5,12]))),vj=ze.lazy(()=>Be(()=>import("./SEOStatsPage-CpIf5-D8.js"),__vite__mapDeps([95,93,15,5,96]))),wj=ze.lazy(()=>Be(()=>import("./SEOBrandPage-DJ5-RT9d.js"),__vite__mapDeps([97,93,92,47,24,2,38,4,7,27,94,10,5]))),_j=ze.lazy(()=>Be(()=>import("./PartnerSEOPage-CR8MDOuJ.js"),__vite__mapDeps([98,93,8,1,5,94,38,42,40,24,27,2]))),bj=ze.lazy(()=>Be(()=>import("./PriceCalculatorWizard-C-NtZtan.js"),__vite__mapDeps([99,100,94,37,67,46,5]))),xj=ze.lazy(()=>Be(()=>import("./PasswordSetupPage--Qx-mOFo.js"),__vite__mapDeps([101,28]))),Sj=ze.lazy(()=>Be(()=>import("./PartnerReviewPendingPage-BxzHe8Nh.js"),__vite__mapDeps([102,4,36]))),kj=ze.lazy(()=>Be(()=>import("./SpecialVehiclePage-By3mro-b.js"),__vite__mapDeps([103,92,47,24,4,27,63,10]))),Ej=ze.lazy(()=>Be(()=>import("./OnDutyPage-KAI9qSEd.js"),__vite__mapDeps([104,92,47,24,38,4,27,10]))),Cj=ze.lazy(()=>Be(()=>import("./IntercityPage-Br2Bd3Cf.js"),__vite__mapDeps([105,92,47,24,60,4,94,59,27,10]))),Tj=ze.lazy(()=>Be(()=>import("./SpecialLocationPage-DCvO1Hlt.js"),__vite__mapDeps([106,92,47,24,4,10]))),Aj=ze.lazy(()=>Be(()=>import("./PricingPage-DT5YixKY.js"),__vite__mapDeps([107,92,47,24,94,46,5,27,10]))),Pj=()=>w.jsx("div",{className:"flex items-center justify-center h-screen",children:w.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-brand-orange"})}),Rj=()=>{const t=oi(),e=(r,i,a)=>{t(`/liste?city=${encodeURIComponent(r)}&district=${encodeURIComponent(i)}&serviceId=${encodeURIComponent(a)}&fromHero=1`)};return w.jsxs(w.Fragment,{children:[w.jsx(vR,{onSearch:e}),w.jsx(wR,{}),w.jsx(_R,{}),w.jsx(bR,{}),w.jsx(xR,{})]})},jj=({children:t})=>{const e=Mr(),r=["/partner","/admin","/admin/giris","/admin/sistem-loglari"].some(i=>e.pathname===i||e.pathname.startsWith(i+"/"));return U.useEffect(()=>{window.scrollTo(0,0)},[e.pathname]),w.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 font-sans text-brand-dark selection:bg-brand-orange selection:text-white",children:[!r&&w.jsx(pR,{}),w.jsx("main",{className:"flex-grow",children:t}),!r&&w.jsx(SR,{}),w.jsx(kR,{})]})},Oj=()=>{const t=Mr();return U.useEffect(()=>{IR(document.title)},[t.pathname]),null};function Nj(){const[t,e]=U.useState(!1);return w.jsxs(Y1,{children:[w.jsxs(FR,{children:[w.jsx(Oj,{}),w.jsxs(Qy,{children:[w.jsx(jj,{children:w.jsx(U.Suspense,{fallback:w.jsx(Pj,{}),children:w.jsx(Qy,{children:w.jsxs(F1,{children:[w.jsx(ve,{path:"/",element:w.jsx(Rj,{})}),w.jsx(ve,{path:"/hakkimizda",element:w.jsx(YR,{})}),w.jsx(ve,{path:"/hizmetler",element:w.jsx(JR,{})}),w.jsx(ve,{path:"/sss",element:w.jsx(QR,{})}),w.jsx(ve,{path:"/iletisim",element:w.jsx(XR,{})}),w.jsx(ve,{path:"/kariyer",element:w.jsx(ZR,{})}),w.jsx(ve,{path:"/blog",element:w.jsx(ej,{})}),w.jsx(ve,{path:"/kampanyalar",element:w.jsx(tj,{})}),w.jsx(ve,{path:"/kampanya/:id",element:w.jsx(rj,{})}),w.jsx(ve,{path:"/giris-gerekli",element:w.jsx(nj,{})}),w.jsx(ve,{path:"/giris/musteri",element:w.jsx(iv,{userType:"customer"})}),w.jsx(ve,{path:"/giris/partner",element:w.jsx(iv,{userType:"partner"})}),w.jsx(ve,{path:"/partner/kayit",element:w.jsx(ij,{})}),w.jsx(ve,{path:"/email-dogrulama",element:w.jsx(fj,{})}),w.jsx(ve,{path:"/partner",element:w.jsx(sj,{})}),w.jsx(ve,{path:"/partner/inceleniyor",element:w.jsx(Sj,{})}),w.jsx(ve,{path:"/sifre-olustur",element:w.jsx(xj,{})}),w.jsx(ve,{path:"/musteri/profil",element:w.jsx(Wo,{children:w.jsx(aj,{})})}),w.jsx(ve,{path:"/musteri/teklifler",element:w.jsx(Wo,{children:w.jsx(oj,{})})}),w.jsx(ve,{path:"/liste",element:w.jsx(uj,{})}),w.jsx(ve,{path:"/hizmet/:id",element:w.jsx(cj,{})}),w.jsx(ve,{path:"/teklif",element:w.jsx(Wo,{children:w.jsx(lj,{})})}),w.jsx(ve,{path:"/fiyat-hesapla",element:w.jsx(Wo,{children:w.jsx(bj,{})})}),w.jsx(ve,{path:"/admin/giris",element:w.jsx(sv,{})}),w.jsx(ve,{path:"/admin/kayit",element:w.jsx(av,{})}),w.jsx(ve,{path:"/operasyon/kayit",element:w.jsx(av,{})}),w.jsx(ve,{path:"/admin",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/kullanicilar",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/kullanicilar/:id",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/partnerler",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/partnerler/:id",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/partner-onay",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/talepler",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/musteri-talepleri",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/musteri-talepleri/:id",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/teklifler",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/teklifler/:id",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/raporlar",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/belgeler",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/filo",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/filo/:vehicleId",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/degerlendirmeler",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/degerlendirmeler/:id",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/finansal",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/krediler",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/is-gecmisi",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/admin-kullanicilari",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/partner-vitrin",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/hizmet-bolgeleri",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/kampanyalar",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/aktivite",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/canli-gorusmeler",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/cagri-kayitlari",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/talepler/lead/:id",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/talepler/alan/:id",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/talepler/destek/:id",element:w.jsx(Ze,{})}),w.jsx(ve,{path:"/admin/sistem-loglari",element:w.jsx(dj,{})}),w.jsx(ve,{path:"/bildirim-test",element:w.jsx(hj,{})}),w.jsx(ve,{path:"/seo-istatistikler",element:w.jsx(vj,{})}),w.jsx(ve,{path:"/gizlilik-politikasi",element:w.jsx(pj,{})}),w.jsx(ve,{path:"/kullanim-kosullari",element:w.jsx(mj,{})}),w.jsx(ve,{path:"/operasyon",element:w.jsx(sv,{})}),w.jsx(ve,{path:"/partner-ol/:service/:city/:district",element:w.jsx(_j,{})}),w.jsx(ve,{path:"/tasima/:vehicleType/:city/:district",element:w.jsx(kj,{})}),w.jsx(ve,{path:"/nobetci/:service/:city/:district",element:w.jsx(Ej,{})}),w.jsx(ve,{path:"/sehirlerarasi/:from/:to",element:w.jsx(Cj,{})}),w.jsx(ve,{path:"/lokasyon/:slug",element:w.jsx(Tj,{})}),w.jsx(ve,{path:"/fiyat/:service/:city",element:w.jsx(Aj,{})}),w.jsx(ve,{path:"/:service/:city/:district",element:w.jsx(yj,{})}),w.jsx(ve,{path:"/marka/:brandSlug",element:w.jsx(wj,{})}),w.jsx(ve,{path:"*",element:w.jsx(gj,{})})]})})})}),w.jsx(qR,{}),w.jsx(GR,{}),w.jsx(KR,{minimized:t,onMinimize:()=>e(!0),onMaximize:()=>e(!1)}),w.jsx(HR,{onClick:()=>e(!1)})]})]}),w.jsx(lS,{})]})}function Ij(){"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{const t=sessionStorage.getItem("sw-refreshed"),e=await navigator.serviceWorker.register("/sw.js",{updateViaCache:"none"});console.log(" PWA Service Worker registered:",e.scope),e.waiting&&!t&&e.waiting.postMessage({type:"SKIP_WAITING"}),document.visibilityState==="visible"&&e.update(),e.addEventListener("updatefound",()=>{const i=e.installing;i&&i.addEventListener("statechange",()=>{i.state==="installed"&&navigator.serviceWorker.controller&&(console.log(" New Service Worker available"),t||(console.log(" Reloading to activate new Service Worker..."),sessionStorage.setItem("sw-refreshed","true"),window.location.reload()))})});let r=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{if(r||t){console.log(" Service Worker controller changed (already refreshed)");return}console.log(" Service Worker controller changed - reloading..."),r=!0,sessionStorage.setItem("sw-refreshed","true"),window.location.reload()}),setTimeout(()=>{sessionStorage.removeItem("sw-refreshed")},5e3)}catch(t){console.error(" Service Worker registration failed:",t)}})}let Xs=null;function Dj(){window.addEventListener("beforeinstallprompt",t=>{console.log(" PWA install prompt available"),t.preventDefault(),Xs=t,Lj()}),window.addEventListener("appinstalled",()=>{console.log(" YOLMOV PWA has been installed"),localStorage.setItem("pwa-installed","true");const t=document.getElementById("pwa-install-banner");t&&t.remove()}),window.matchMedia("(display-mode: standalone)").matches&&(console.log(" Running as installed PWA"),document.documentElement.classList.add("pwa-mode"))}function Lj(){if(sessionStorage.getItem("pwa-install-prompt-shown")||localStorage.getItem("pwa-install-dismissed")==="true"||localStorage.getItem("pwa-installed")==="true")return;const i=document.createElement("div");i.id="pwa-install-banner",i.style.cssText=`
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(to right, #FF7A00, #FF9A2A);
    color: white;
    padding: 1rem;
    box-shadow: 0 -4px 20px rgba(0,0,0,0.2);
    z-index: 9999;
    animation: slideUp 0.3s ease-out;
  `,i.innerHTML=`
    <style>
      @keyframes slideUp {
        from { transform: translateY(100%); }
        to { transform: translateY(0); }
      }
    </style>
    <div style="max-width: 1200px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; gap: 1rem; flex-wrap: wrap;">
      <div style="display: flex; align-items: center; gap: 1rem;">
        <div style="width: 48px; height: 48px; background: white; border-radius: 12px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
          <img 
            src="https://raw.githubusercontent.com/yosoyorhan/repo2/refs/heads/main/yolmov-logo-cutter.png" 
            alt="YOLMOV" 
            style="width: 32px; height: 32px; object-fit: contain;"
          />
        </div>
        <div>
          <p style="font-weight: 700; margin: 0; font-size: 1rem;">YOLMOV'u Telefonunuza Ekleyin</p>
          <p style="margin: 0; font-size: 0.875rem; opacity: 0.9;">Daha hzl eriim iin uygulamay ykleyin</p>
        </div>
      </div>
      <div style="display: flex; align-items: center; gap: 0.5rem; flex-shrink: 0;">
        <button 
          id="pwa-install-button" 
          style="padding: 0.5rem 1.5rem; background: white; color: #FF7A00; border: none; border-radius: 8px; font-weight: 700; font-size: 0.875rem; cursor: pointer; transition: all 0.2s;"
          onmouseover="this.style.background='#FFF5F0'"
          onmouseout="this.style.background='white'"
        >
          Ykle
        </button>
        <button 
          id="pwa-dismiss-button" 
          style="padding: 0.5rem 0.75rem; background: transparent; color: white; border: none; font-size: 1.5rem; cursor: pointer; opacity: 0.8; transition: opacity 0.2s;"
          onmouseover="this.style.opacity='1'"
          onmouseout="this.style.opacity='0.8'"
        >
          
        </button>
      </div>
    </div>
  `,document.body.appendChild(i),sessionStorage.setItem("pwa-install-prompt-shown","true");const a=document.getElementById("pwa-install-button");a&&a.addEventListener("click",async()=>{if(!Xs)return;Xs.prompt();const{outcome:u}=await Xs.userChoice;console.log(`User response to install prompt: ${u}`),console.log(u==="accepted"?" User accepted the install prompt":" User dismissed the install prompt"),Xs=null,i.remove()});const o=document.getElementById("pwa-dismiss-button");o&&o.addEventListener("click",()=>{i.remove(),localStorage.setItem("pwa-install-dismissed","true")}),setTimeout(()=>{const u=document.getElementById("pwa-install-banner");u&&u.remove()},15e3)}const B_=document.getElementById("root");if(!B_)throw new Error("Could not find root element to mount to");const Mj=Wx.createRoot(B_);Mj.render(w.jsx(ze.StrictMode,{children:w.jsx(Nj,{})}));Ij();Dj();export{iO as $,Ir as A,eg as B,ud as C,Sv as D,wS as E,kv as F,Vh as G,vS as H,tg as I,rg as J,xv as K,Ev as L,Qd as M,SS as N,Fj as O,aa as P,qd as Q,ze as R,cd as S,Cl as T,TS as U,Bj as V,RS as W,oa as X,Nk as Y,nO as Z,Be as _,fS as a,rO as a0,sO as a1,oO as a2,aO as a3,xl as a4,na as a5,AS as a6,bS as a7,lO as a8,uO as a9,tO as aa,Xd as b,Ge as c,od as d,L_ as e,Uj as f,ld as g,Mr as h,bv as i,w as j,Ko as k,ES as l,Me as m,K as n,mS as o,gS as p,CS as q,U as r,Nr as s,pS as t,oi as u,Ml as v,Cv as w,sl as x,kS as y,jc as z};
