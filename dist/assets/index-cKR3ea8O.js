const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AboutPage-B5Za9Cxf.js","assets/target-vKZLeP6F.js","assets/award-Da5MLn4e.js","assets/heart-BopRMz6J.js","assets/shield-B_JGN8l_.js","assets/trending-up-uKw8QwYC.js","assets/ServicesPage-Dmj_RRFr.js","assets/battery-sd0RJKHx.js","assets/dollar-sign-BwnzDZnX.js","assets/FAQPage-DAa8em29.js","assets/chevron-up-BaozGFPi.js","assets/ContactPage-DxMHdEd2.js","assets/message-circle-Co4pGIjH.js","assets/send-DAtSmrgk.js","assets/CareerPage-Uk7MrvOW.js","assets/globe-CqOYY-wm.js","assets/BlogPage-CuzoZbFL.js","assets/calendar-CT56leSJ.js","assets/tag-C65CnSNN.js","assets/CampaignsPage-D35y4-4V.js","assets/arrow-left-BBssHuLB.js","assets/gift-CC36-whS.js","assets/percent-DVyopDlL.js","assets/CampaignDetailPage-DCXiXvHA.js","assets/circle-check-big-UEKVBpbP.js","assets/LoginPage-CNz23wuJ.js","assets/notifications-B0FNs6zX.js","assets/star-C_clrnrv.js","assets/lock-D2sDW6yx.js","assets/eye-off-0F8pTjCg.js","assets/eye-DLHfwVI5.js","assets/AuthRequiredPage-DjihHlB2.js","assets/user-plus-BmywAZgg.js","assets/PartnerRegisterPage-7fCD2rzM.js","assets/imageCompression-Bm6Dowu7.js","assets/UIComponents-CRiHqpLa.js","assets/mail-DuZ4wFyD.js","assets/circle-check-BGo3AQ14.js","assets/zap-CjhC5wse.js","assets/PartnerDashboard-B9Fls2Qb.js","assets/file-text-BRjME-LP.js","assets/filter-C3AKEZnL.js","assets/credit-card-DPO3sLdz.js","assets/download-BmFFlIug.js","assets/useToast-D2Ke3TgR.js","assets/info-B7xWIQsA.js","assets/circle-alert-DUxk8sri.js","assets/trash-2-BVjwNVib.js","assets/plus-D9vvZr4Y.js","assets/pen-C9nqD2wM.js","assets/showcaseSanitizer-CU8VnsaU.js","assets/wallet-ChWWkWV7.js","assets/save-Kyw2McHV.js","assets/message-square-CmJTQ376.js","assets/phone-missed-Du6yq9HV.js","assets/route-NG3Apped.js","assets/building-CTwCG7Vk.js","assets/log-out-XBQmStnt.js","assets/camera-BKJWvnXk.js","assets/map-DGDxVjKd.js","assets/CustomerProfilePage-ChVFzlHh.js","assets/package-DCQgOn7u.js","assets/OffersPanel-B7XEx-vw.js","assets/ban-C5YNJFHm.js","assets/QuotePage-CXMitT5q.js","assets/bus-B1Y9bJtX.js","assets/activity-Ckj7UnTy.js","assets/ListingPage-BHt0x2Oz.js","assets/ProviderDetailPage-CqG8E-yp.js","assets/AdminLoginPage-DrmPcA33.js","assets/AdminSignupPage-h6yu5abX.js","assets/AdminDashboard-CTJLgA-3.js","assets/StatusBadge-CIL8M9ui.js","assets/square-pen-A33wHsuC.js","assets/AdminSystemLogs-BBYQNPsT.js","assets/AdminUserDetailPage-Dbkekn-i.js","assets/AdminPartnerDetailPage-AovzbDiT.js","assets/AdminRequestDetailPage-BK6vIPId.js","assets/AdminOfferDetailPage-Cv_Jw1V0.js","assets/AdminFleetDetailPage-Doifu1cl.js","assets/AdminReviewDetailPage-B_E-DT1G.js","assets/AdminLeadRequestDetailPage-LyScPaFx.js","assets/AdminAreaRequestDetailPage-C-otPbzD.js","assets/AdminSupportRequestDetailPage-Dsuk-NDf.js","assets/NotificationTestPage-BBGaCdpT.js","assets/EmailConfirmationPage-B4A3cni9.js","assets/PrivacyPolicyPage-CFnmewII.js","assets/TermsOfServicePage-BUNuUzQy.js","assets/NotFoundPage-ncUWmiyj.js","assets/SEOServicePage-B-J_51fW.js","assets/EmergencyFloatingButton-D8BIzdQJ.js","assets/seoData-B3NHpLVu.js","assets/calculator-D7jXMrYx.js","assets/SEOStatsPage-DDlqQnJC.js","assets/SEOBrandPage-CETKMcum.js","assets/PartnerSEOPage-Bx6fB5j8.js","assets/PriceCalculatorWizard-CCUvtjaC.js","assets/priceCalculator-Bv36E9gB.js","assets/PasswordSetupPage-BRjk9zPt.js","assets/PartnerReviewPendingPage-D6xjbVfk.js","assets/SpecialVehiclePage-D35TGqOL.js","assets/OnDutyPage-BMjxDUqr.js","assets/IntercityPage-CsEyNeKP.js","assets/SpecialLocationPage-DT9pZEL9.js","assets/PricingPage-CGer_9C1.js"])))=>i.map(i=>d[i]);
var wx=Object.defineProperty;var _x=(t,e,r)=>e in t?wx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var bn=(t,e,r)=>_x(t,typeof e!="symbol"?e+"":e,r);function Gy(t,e){for(var r=0;r<e.length;r++){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(i,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var Ar=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ha(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var a=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:function(){return t[i]}})}),r}var vc={exports:{}},Ms={},wc={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function bx(){if(xm)return qe;xm=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),m=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=m&&V[m]||V["@@iterator"],typeof V=="function"?V:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function C(V,G,ce){this.props=V,this.context=G,this.refs=E,this.updater=ce||b}C.prototype.isReactComponent={},C.prototype.setState=function(V,G){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,G,"setState")},C.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function P(){}P.prototype=C.prototype;function O(V,G,ce){this.props=V,this.context=G,this.refs=E,this.updater=ce||b}var S=O.prototype=new P;S.constructor=O,x(S,C.prototype),S.isPureReactComponent=!0;var j=Array.isArray,R=Object.prototype.hasOwnProperty,D={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function M(V,G,ce){var ne,Z={},he=null,_e=null;if(G!=null)for(ne in G.ref!==void 0&&(_e=G.ref),G.key!==void 0&&(he=""+G.key),G)R.call(G,ne)&&!I.hasOwnProperty(ne)&&(Z[ne]=G[ne]);var Me=arguments.length-2;if(Me===1)Z.children=ce;else if(1<Me){for(var Fe=Array(Me),We=0;We<Me;We++)Fe[We]=arguments[We+2];Z.children=Fe}if(V&&V.defaultProps)for(ne in Me=V.defaultProps,Me)Z[ne]===void 0&&(Z[ne]=Me[ne]);return{$$typeof:t,type:V,key:he,ref:_e,props:Z,_owner:D.current}}function Q(V,G){return{$$typeof:t,type:V.type,key:G,ref:V.ref,props:V.props,_owner:V._owner}}function z(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function K(V){var G={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ce){return G[ce]})}var re=/\/+/g;function ue(V,G){return typeof V=="object"&&V!==null&&V.key!=null?K(""+V.key):G.toString(36)}function xe(V,G,ce,ne,Z){var he=typeof V;(he==="undefined"||he==="boolean")&&(V=null);var _e=!1;if(V===null)_e=!0;else switch(he){case"string":case"number":_e=!0;break;case"object":switch(V.$$typeof){case t:case e:_e=!0}}if(_e)return _e=V,Z=Z(_e),V=ne===""?"."+ue(_e,0):ne,j(Z)?(ce="",V!=null&&(ce=V.replace(re,"$&/")+"/"),xe(Z,G,ce,"",function(We){return We})):Z!=null&&(z(Z)&&(Z=Q(Z,ce+(!Z.key||_e&&_e.key===Z.key?"":(""+Z.key).replace(re,"$&/")+"/")+V)),G.push(Z)),1;if(_e=0,ne=ne===""?".":ne+":",j(V))for(var Me=0;Me<V.length;Me++){he=V[Me];var Fe=ne+ue(he,Me);_e+=xe(he,G,ce,Fe,Z)}else if(Fe=w(V),typeof Fe=="function")for(V=Fe.call(V),Me=0;!(he=V.next()).done;)he=he.value,Fe=ne+ue(he,Me++),_e+=xe(he,G,ce,Fe,Z);else if(he==="object")throw G=String(V),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return _e}function Pe(V,G,ce){if(V==null)return V;var ne=[],Z=0;return xe(V,ne,"","",function(he){return G.call(ce,he,Z++)}),ne}function je(V){if(V._status===-1){var G=V._result;G=G(),G.then(function(ce){(V._status===0||V._status===-1)&&(V._status=1,V._result=ce)},function(ce){(V._status===0||V._status===-1)&&(V._status=2,V._result=ce)}),V._status===-1&&(V._status=0,V._result=G)}if(V._status===1)return V._result.default;throw V._result}var ke={current:null},oe={transition:null},se={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:oe,ReactCurrentOwner:D};function me(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:Pe,forEach:function(V,G,ce){Pe(V,function(){G.apply(this,arguments)},ce)},count:function(V){var G=0;return Pe(V,function(){G++}),G},toArray:function(V){return Pe(V,function(G){return G})||[]},only:function(V){if(!z(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},qe.Component=C,qe.Fragment=r,qe.Profiler=a,qe.PureComponent=O,qe.StrictMode=i,qe.Suspense=c,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,qe.act=me,qe.cloneElement=function(V,G,ce){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var ne=x({},V.props),Z=V.key,he=V.ref,_e=V._owner;if(G!=null){if(G.ref!==void 0&&(he=G.ref,_e=D.current),G.key!==void 0&&(Z=""+G.key),V.type&&V.type.defaultProps)var Me=V.type.defaultProps;for(Fe in G)R.call(G,Fe)&&!I.hasOwnProperty(Fe)&&(ne[Fe]=G[Fe]===void 0&&Me!==void 0?Me[Fe]:G[Fe])}var Fe=arguments.length-2;if(Fe===1)ne.children=ce;else if(1<Fe){Me=Array(Fe);for(var We=0;We<Fe;We++)Me[We]=arguments[We+2];ne.children=Me}return{$$typeof:t,type:V.type,key:Z,ref:he,props:ne,_owner:_e}},qe.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:o,_context:V},V.Consumer=V},qe.createElement=M,qe.createFactory=function(V){var G=M.bind(null,V);return G.type=V,G},qe.createRef=function(){return{current:null}},qe.forwardRef=function(V){return{$$typeof:d,render:V}},qe.isValidElement=z,qe.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:je}},qe.memo=function(V,G){return{$$typeof:p,type:V,compare:G===void 0?null:G}},qe.startTransition=function(V){var G=oe.transition;oe.transition={};try{V()}finally{oe.transition=G}},qe.unstable_act=me,qe.useCallback=function(V,G){return ke.current.useCallback(V,G)},qe.useContext=function(V){return ke.current.useContext(V)},qe.useDebugValue=function(){},qe.useDeferredValue=function(V){return ke.current.useDeferredValue(V)},qe.useEffect=function(V,G){return ke.current.useEffect(V,G)},qe.useId=function(){return ke.current.useId()},qe.useImperativeHandle=function(V,G,ce){return ke.current.useImperativeHandle(V,G,ce)},qe.useInsertionEffect=function(V,G){return ke.current.useInsertionEffect(V,G)},qe.useLayoutEffect=function(V,G){return ke.current.useLayoutEffect(V,G)},qe.useMemo=function(V,G){return ke.current.useMemo(V,G)},qe.useReducer=function(V,G,ce){return ke.current.useReducer(V,G,ce)},qe.useRef=function(V){return ke.current.useRef(V)},qe.useState=function(V){return ke.current.useState(V)},qe.useSyncExternalStore=function(V,G,ce){return ke.current.useSyncExternalStore(V,G,ce)},qe.useTransition=function(){return ke.current.useTransition()},qe.version="18.3.1",qe}var km;function Md(){return km||(km=1,wc.exports=bx()),wc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm;function xx(){if(Sm)return Ms;Sm=1;var t=Md(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function u(d,c,p){var y,m={},w=null,b=null;p!==void 0&&(w=""+p),c.key!==void 0&&(w=""+c.key),c.ref!==void 0&&(b=c.ref);for(y in c)i.call(c,y)&&!o.hasOwnProperty(y)&&(m[y]=c[y]);if(d&&d.defaultProps)for(y in c=d.defaultProps,c)m[y]===void 0&&(m[y]=c[y]);return{$$typeof:e,type:d,key:w,ref:b,props:m,_owner:a.current}}return Ms.Fragment=r,Ms.jsx=u,Ms.jsxs=u,Ms}var Em;function kx(){return Em||(Em=1,vc.exports=xx()),vc.exports}var v=kx(),F=Md();const Le=yl(F),Sx=Gy({__proto__:null,default:Le},[F]);var To={},_c={exports:{}},Gt={},bc={exports:{}},xc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm;function Ex(){return Cm||(Cm=1,(function(t){function e(oe,se){var me=oe.length;oe.push(se);e:for(;0<me;){var V=me-1>>>1,G=oe[V];if(0<a(G,se))oe[V]=se,oe[me]=G,me=V;else break e}}function r(oe){return oe.length===0?null:oe[0]}function i(oe){if(oe.length===0)return null;var se=oe[0],me=oe.pop();if(me!==se){oe[0]=me;e:for(var V=0,G=oe.length,ce=G>>>1;V<ce;){var ne=2*(V+1)-1,Z=oe[ne],he=ne+1,_e=oe[he];if(0>a(Z,me))he<G&&0>a(_e,Z)?(oe[V]=_e,oe[he]=me,V=he):(oe[V]=Z,oe[ne]=me,V=ne);else if(he<G&&0>a(_e,me))oe[V]=_e,oe[he]=me,V=he;else break e}}return se}function a(oe,se){var me=oe.sortIndex-se.sortIndex;return me!==0?me:oe.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var c=[],p=[],y=1,m=null,w=3,b=!1,x=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(oe){for(var se=r(p);se!==null;){if(se.callback===null)i(p);else if(se.startTime<=oe)i(p),se.sortIndex=se.expirationTime,e(c,se);else break;se=r(p)}}function j(oe){if(E=!1,S(oe),!x)if(r(c)!==null)x=!0,je(R);else{var se=r(p);se!==null&&ke(j,se.startTime-oe)}}function R(oe,se){x=!1,E&&(E=!1,P(M),M=-1),b=!0;var me=w;try{for(S(se),m=r(c);m!==null&&(!(m.expirationTime>se)||oe&&!K());){var V=m.callback;if(typeof V=="function"){m.callback=null,w=m.priorityLevel;var G=V(m.expirationTime<=se);se=t.unstable_now(),typeof G=="function"?m.callback=G:m===r(c)&&i(c),S(se)}else i(c);m=r(c)}if(m!==null)var ce=!0;else{var ne=r(p);ne!==null&&ke(j,ne.startTime-se),ce=!1}return ce}finally{m=null,w=me,b=!1}}var D=!1,I=null,M=-1,Q=5,z=-1;function K(){return!(t.unstable_now()-z<Q)}function re(){if(I!==null){var oe=t.unstable_now();z=oe;var se=!0;try{se=I(!0,oe)}finally{se?ue():(D=!1,I=null)}}else D=!1}var ue;if(typeof O=="function")ue=function(){O(re)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Pe=xe.port2;xe.port1.onmessage=re,ue=function(){Pe.postMessage(null)}}else ue=function(){C(re,0)};function je(oe){I=oe,D||(D=!0,ue())}function ke(oe,se){M=C(function(){oe(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_continueExecution=function(){x||b||(x=!0,je(R))},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(oe){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var me=w;w=se;try{return oe()}finally{w=me}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(oe,se){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var me=w;w=oe;try{return se()}finally{w=me}},t.unstable_scheduleCallback=function(oe,se,me){var V=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?V+me:V):me=V,oe){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=me+G,oe={id:y++,callback:se,priorityLevel:oe,startTime:me,expirationTime:G,sortIndex:-1},me>V?(oe.sortIndex=me,e(p,oe),r(c)===null&&oe===r(p)&&(E?(P(M),M=-1):E=!0,ke(j,me-V))):(oe.sortIndex=G,e(c,oe),x||b||(x=!0,je(R))),oe},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(oe){var se=w;return function(){var me=w;w=se;try{return oe.apply(this,arguments)}finally{w=me}}}})(xc)),xc}var Tm;function Cx(){return Tm||(Tm=1,bc.exports=Ex()),bc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function Tx(){if(Am)return Gt;Am=1;var t=Md(),e=Cx();function r(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function o(n,s){u(n,s),u(n+"Capture",s)}function u(n,s){for(a[n]=s,n=0;n<s.length;n++)i.add(s[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},m={};function w(n){return c.call(m,n)?!0:c.call(y,n)?!1:p.test(n)?m[n]=!0:(y[n]=!0,!1)}function b(n,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function x(n,s,l,h){if(s===null||typeof s>"u"||b(n,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function E(n,s,l,h,g,_,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=l,this.propertyName=n,this.type=s,this.sanitizeURL=_,this.removeEmptyString=T}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){C[n]=new E(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];C[s]=new E(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){C[n]=new E(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){C[n]=new E(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){C[n]=new E(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){C[n]=new E(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){C[n]=new E(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){C[n]=new E(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){C[n]=new E(n,5,!1,n.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function O(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(P,O);C[s]=new E(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(P,O);C[s]=new E(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(P,O);C[s]=new E(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){C[n]=new E(n,1,!1,n.toLowerCase(),null,!1,!1)}),C.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){C[n]=new E(n,1,!1,n.toLowerCase(),null,!0,!0)});function S(n,s,l,h){var g=C.hasOwnProperty(s)?C[s]:null;(g!==null?g.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(x(s,l,g,h)&&(l=null),h||g===null?w(s)&&(l===null?n.removeAttribute(s):n.setAttribute(s,""+l)):g.mustUseProperty?n[g.propertyName]=l===null?g.type===3?!1:"":l:(s=g.attributeName,h=g.attributeNamespace,l===null?n.removeAttribute(s):(g=g.type,l=g===3||g===4&&l===!0?"":""+l,h?n.setAttributeNS(h,s,l):n.setAttribute(s,l))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),D=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),K=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),je=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),oe=Symbol.iterator;function se(n){return n===null||typeof n!="object"?null:(n=oe&&n[oe]||n["@@iterator"],typeof n=="function"?n:null)}var me=Object.assign,V;function G(n){if(V===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);V=s&&s[1]||""}return`
`+V+n}var ce=!1;function ne(n,s){if(!n||ce)return"";ce=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(X){var h=X}Reflect.construct(n,[],s)}else{try{s.call()}catch(X){h=X}n.call(s.prototype)}else{try{throw Error()}catch(X){h=X}n()}}catch(X){if(X&&h&&typeof X.stack=="string"){for(var g=X.stack.split(`
`),_=h.stack.split(`
`),T=g.length-1,L=_.length-1;1<=T&&0<=L&&g[T]!==_[L];)L--;for(;1<=T&&0<=L;T--,L--)if(g[T]!==_[L]){if(T!==1||L!==1)do if(T--,L--,0>L||g[T]!==_[L]){var B=`
`+g[T].replace(" at new "," at ");return n.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",n.displayName)),B}while(1<=T&&0<=L);break}}}finally{ce=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?G(n):""}function Z(n){switch(n.tag){case 5:return G(n.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return n=ne(n.type,!1),n;case 11:return n=ne(n.type.render,!1),n;case 1:return n=ne(n.type,!0),n;default:return""}}function he(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case I:return"Fragment";case D:return"Portal";case Q:return"Profiler";case M:return"StrictMode";case ue:return"Suspense";case xe:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case K:return(n.displayName||"Context")+".Consumer";case z:return(n._context.displayName||"Context")+".Provider";case re:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Pe:return s=n.displayName||null,s!==null?s:he(n.type)||"Memo";case je:s=n._payload,n=n._init;try{return he(n(s))}catch{}}return null}function _e(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(s);case 8:return s===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Me(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Fe(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function We(n){var s=Fe(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),h=""+n[s];if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,_=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return g.call(this)},set:function(T){h=""+T,_.call(this,T)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function kt(n){n._valueTracker||(n._valueTracker=We(n))}function ft(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return n&&(h=Fe(n)?n.checked?"true":"false":n.value),n=h,n!==l?(s.setValue(n),!0):!1}function at(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function St(n,s){var l=s.checked;return me({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function Y(n,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Me(s.value!=null?s.value:l),n._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ee(n,s){s=s.checked,s!=null&&S(n,"checked",s,!1)}function fe(n,s){ee(n,s);var l=Me(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(h==="submit"||h==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?N(n,s.type,l):s.hasOwnProperty("defaultValue")&&N(n,s.type,Me(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Ae(n,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,l||s===n.value||(n.value=s),n.defaultValue=s}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function N(n,s,l){(s!=="number"||at(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var f=Array.isArray;function k(n,s,l,h){if(n=n.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<n.length;l++)g=s.hasOwnProperty("$"+n[l].value),n[l].selected!==g&&(n[l].selected=g),g&&h&&(n[l].defaultSelected=!0)}else{for(l=""+Me(l),s=null,g=0;g<n.length;g++){if(n[g].value===l){n[g].selected=!0,h&&(n[g].defaultSelected=!0);return}s!==null||n[g].disabled||(s=n[g])}s!==null&&(s.selected=!0)}}function A(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return me({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function U(n,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(r(92));if(f(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),l=s}n._wrapperState={initialValue:Me(l)}}function q(n,s){var l=Me(s.value),h=Me(s.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),s.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),h!=null&&(n.defaultValue=""+h)}function te(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Ee(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $e(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Ee(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Je,Ve=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,g){MSApp.execUnsafeLocalFunction(function(){return n(s,l,h,g)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Je=Je||document.createElement("div"),Je.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Je.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Ue(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var ot={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ir=["Webkit","ms","Moz","O"];Object.keys(ot).forEach(function(n){Ir.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),ot[s]=ot[n]})});function Dr(n,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||ot.hasOwnProperty(n)&&ot[n]?(""+s).trim():s+"px"}function Zr(n,s){n=n.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,g=Dr(l,s[l],h);l==="float"&&(l="cssFloat"),h?n.setProperty(l,g):n[l]=g}}var en=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xr(n,s){if(s){if(en[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function Rl(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ol=null;function Nl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Il=null,ai=null,oi=null;function zh(n){if(n=xs(n)){if(typeof Il!="function")throw Error(r(280));var s=n.stateNode;s&&(s=Fa(s),Il(n.stateNode,n.type,s))}}function Bh(n){ai?oi?oi.push(n):oi=[n]:ai=n}function Uh(){if(ai){var n=ai,s=oi;if(oi=ai=null,zh(n),s)for(n=0;n<s.length;n++)zh(s[n])}}function Fh(n,s){return n(s)}function $h(){}var Dl=!1;function Vh(n,s,l){if(Dl)return n(s,l);Dl=!0;try{return Fh(n,s,l)}finally{Dl=!1,(ai!==null||oi!==null)&&($h(),Uh())}}function ts(n,s){var l=n.stateNode;if(l===null)return null;var h=Fa(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Ll=!1;if(d)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){Ll=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{Ll=!1}function E_(n,s,l,h,g,_,T,L,B){var X=Array.prototype.slice.call(arguments,3);try{s.apply(l,X)}catch(le){this.onError(le)}}var ns=!1,wa=null,_a=!1,Ml=null,C_={onError:function(n){ns=!0,wa=n}};function T_(n,s,l,h,g,_,T,L,B){ns=!1,wa=null,E_.apply(C_,arguments)}function A_(n,s,l,h,g,_,T,L,B){if(T_.apply(this,arguments),ns){if(ns){var X=wa;ns=!1,wa=null}else throw Error(r(198));_a||(_a=!0,Ml=X)}}function On(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function Kh(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function qh(n){if(On(n)!==n)throw Error(r(188))}function P_(n){var s=n.alternate;if(!s){if(s=On(n),s===null)throw Error(r(188));return s!==n?null:n}for(var l=n,h=s;;){var g=l.return;if(g===null)break;var _=g.alternate;if(_===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===l)return qh(g),n;if(_===h)return qh(g),s;_=_.sibling}throw Error(r(188))}if(l.return!==h.return)l=g,h=_;else{for(var T=!1,L=g.child;L;){if(L===l){T=!0,l=g,h=_;break}if(L===h){T=!0,h=g,l=_;break}L=L.sibling}if(!T){for(L=_.child;L;){if(L===l){T=!0,l=_,h=g;break}if(L===h){T=!0,h=_,l=g;break}L=L.sibling}if(!T)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:s}function Wh(n){return n=P_(n),n!==null?Gh(n):null}function Gh(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Gh(n);if(s!==null)return s;n=n.sibling}return null}var Hh=e.unstable_scheduleCallback,Yh=e.unstable_cancelCallback,j_=e.unstable_shouldYield,R_=e.unstable_requestPaint,pt=e.unstable_now,O_=e.unstable_getCurrentPriorityLevel,zl=e.unstable_ImmediatePriority,Jh=e.unstable_UserBlockingPriority,ba=e.unstable_NormalPriority,N_=e.unstable_LowPriority,Qh=e.unstable_IdlePriority,xa=null,kr=null;function I_(n){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(xa,n,void 0,(n.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:M_,D_=Math.log,L_=Math.LN2;function M_(n){return n>>>=0,n===0?32:31-(D_(n)/L_|0)|0}var ka=64,Sa=4194304;function is(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ea(n,s){var l=n.pendingLanes;if(l===0)return 0;var h=0,g=n.suspendedLanes,_=n.pingedLanes,T=l&268435455;if(T!==0){var L=T&~g;L!==0?h=is(L):(_&=T,_!==0&&(h=is(_)))}else T=l&~g,T!==0?h=is(T):_!==0&&(h=is(_));if(h===0)return 0;if(s!==0&&s!==h&&(s&g)===0&&(g=h&-h,_=s&-s,g>=_||g===16&&(_&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=h;0<s;)l=31-dr(s),g=1<<l,h|=n[l],s&=~g;return h}function z_(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B_(n,s){for(var l=n.suspendedLanes,h=n.pingedLanes,g=n.expirationTimes,_=n.pendingLanes;0<_;){var T=31-dr(_),L=1<<T,B=g[T];B===-1?((L&l)===0||(L&h)!==0)&&(g[T]=z_(L,s)):B<=s&&(n.expiredLanes|=L),_&=~L}}function Bl(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Xh(){var n=ka;return ka<<=1,(ka&4194240)===0&&(ka=64),n}function Ul(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function ss(n,s,l){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-dr(s),n[s]=l}function U_(n,s){var l=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var h=n.eventTimes;for(n=n.expirationTimes;0<l;){var g=31-dr(l),_=1<<g;s[g]=0,h[g]=-1,n[g]=-1,l&=~_}}function Fl(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var h=31-dr(l),g=1<<h;g&s|n[h]&s&&(n[h]|=s),l&=~g}}var Qe=0;function Zh(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var ef,$l,tf,rf,nf,Vl=!1,Ca=[],tn=null,rn=null,nn=null,as=new Map,os=new Map,sn=[],F_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sf(n,s){switch(n){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":rn=null;break;case"mouseover":case"mouseout":nn=null;break;case"pointerover":case"pointerout":as.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":os.delete(s.pointerId)}}function ls(n,s,l,h,g,_){return n===null||n.nativeEvent!==_?(n={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[g]},s!==null&&(s=xs(s),s!==null&&$l(s)),n):(n.eventSystemFlags|=h,s=n.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),n)}function $_(n,s,l,h,g){switch(s){case"focusin":return tn=ls(tn,n,s,l,h,g),!0;case"dragenter":return rn=ls(rn,n,s,l,h,g),!0;case"mouseover":return nn=ls(nn,n,s,l,h,g),!0;case"pointerover":var _=g.pointerId;return as.set(_,ls(as.get(_)||null,n,s,l,h,g)),!0;case"gotpointercapture":return _=g.pointerId,os.set(_,ls(os.get(_)||null,n,s,l,h,g)),!0}return!1}function af(n){var s=Nn(n.target);if(s!==null){var l=On(s);if(l!==null){if(s=l.tag,s===13){if(s=Kh(l),s!==null){n.blockedOn=s,nf(n.priority,function(){tf(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ta(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=ql(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var h=new l.constructor(l.type,l);Ol=h,l.target.dispatchEvent(h),Ol=null}else return s=xs(l),s!==null&&$l(s),n.blockedOn=l,!1;s.shift()}return!0}function of(n,s,l){Ta(n)&&l.delete(s)}function V_(){Vl=!1,tn!==null&&Ta(tn)&&(tn=null),rn!==null&&Ta(rn)&&(rn=null),nn!==null&&Ta(nn)&&(nn=null),as.forEach(of),os.forEach(of)}function us(n,s){n.blockedOn===s&&(n.blockedOn=null,Vl||(Vl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,V_)))}function cs(n){function s(g){return us(g,n)}if(0<Ca.length){us(Ca[0],n);for(var l=1;l<Ca.length;l++){var h=Ca[l];h.blockedOn===n&&(h.blockedOn=null)}}for(tn!==null&&us(tn,n),rn!==null&&us(rn,n),nn!==null&&us(nn,n),as.forEach(s),os.forEach(s),l=0;l<sn.length;l++)h=sn[l],h.blockedOn===n&&(h.blockedOn=null);for(;0<sn.length&&(l=sn[0],l.blockedOn===null);)af(l),l.blockedOn===null&&sn.shift()}var li=j.ReactCurrentBatchConfig,Aa=!0;function K_(n,s,l,h){var g=Qe,_=li.transition;li.transition=null;try{Qe=1,Kl(n,s,l,h)}finally{Qe=g,li.transition=_}}function q_(n,s,l,h){var g=Qe,_=li.transition;li.transition=null;try{Qe=4,Kl(n,s,l,h)}finally{Qe=g,li.transition=_}}function Kl(n,s,l,h){if(Aa){var g=ql(n,s,l,h);if(g===null)lu(n,s,h,Pa,l),sf(n,h);else if($_(g,n,s,l,h))h.stopPropagation();else if(sf(n,h),s&4&&-1<F_.indexOf(n)){for(;g!==null;){var _=xs(g);if(_!==null&&ef(_),_=ql(n,s,l,h),_===null&&lu(n,s,h,Pa,l),_===g)break;g=_}g!==null&&h.stopPropagation()}else lu(n,s,h,null,l)}}var Pa=null;function ql(n,s,l,h){if(Pa=null,n=Nl(h),n=Nn(n),n!==null)if(s=On(n),s===null)n=null;else if(l=s.tag,l===13){if(n=Kh(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Pa=n,null}function lf(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(O_()){case zl:return 1;case Jh:return 4;case ba:case N_:return 16;case Qh:return 536870912;default:return 16}default:return 16}}var an=null,Wl=null,ja=null;function uf(){if(ja)return ja;var n,s=Wl,l=s.length,h,g="value"in an?an.value:an.textContent,_=g.length;for(n=0;n<l&&s[n]===g[n];n++);var T=l-n;for(h=1;h<=T&&s[l-h]===g[_-h];h++);return ja=g.slice(n,1<h?1-h:void 0)}function Ra(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Oa(){return!0}function cf(){return!1}function Jt(n){function s(l,h,g,_,T){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var L in n)n.hasOwnProperty(L)&&(l=n[L],this[L]=l?l(_):_[L]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Oa:cf,this.isPropagationStopped=cf,this}return me(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Oa)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Oa)},persist:function(){},isPersistent:Oa}),s}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=Jt(ui),ds=me({},ui,{view:0,detail:0}),W_=Jt(ds),Hl,Yl,hs,Na=me({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ql,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==hs&&(hs&&n.type==="mousemove"?(Hl=n.screenX-hs.screenX,Yl=n.screenY-hs.screenY):Yl=Hl=0,hs=n),Hl)},movementY:function(n){return"movementY"in n?n.movementY:Yl}}),df=Jt(Na),G_=me({},Na,{dataTransfer:0}),H_=Jt(G_),Y_=me({},ds,{relatedTarget:0}),Jl=Jt(Y_),J_=me({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),Q_=Jt(J_),X_=me({},ui,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Z_=Jt(X_),eb=me({},ui,{data:0}),hf=Jt(eb),tb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ib(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=nb[n])?!!s[n]:!1}function Ql(){return ib}var sb=me({},ds,{key:function(n){if(n.key){var s=tb[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ra(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?rb[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ql,charCode:function(n){return n.type==="keypress"?Ra(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ra(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ab=Jt(sb),ob=me({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ff=Jt(ob),lb=me({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ql}),ub=Jt(lb),cb=me({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),db=Jt(cb),hb=me({},Na,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),fb=Jt(hb),pb=[9,13,27,32],Xl=d&&"CompositionEvent"in window,fs=null;d&&"documentMode"in document&&(fs=document.documentMode);var mb=d&&"TextEvent"in window&&!fs,pf=d&&(!Xl||fs&&8<fs&&11>=fs),mf=" ",gf=!1;function yf(n,s){switch(n){case"keyup":return pb.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ci=!1;function gb(n,s){switch(n){case"compositionend":return vf(s);case"keypress":return s.which!==32?null:(gf=!0,mf);case"textInput":return n=s.data,n===mf&&gf?null:n;default:return null}}function yb(n,s){if(ci)return n==="compositionend"||!Xl&&yf(n,s)?(n=uf(),ja=Wl=an=null,ci=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return pf&&s.locale!=="ko"?null:s.data;default:return null}}var vb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!vb[n.type]:s==="textarea"}function _f(n,s,l,h){Bh(h),s=za(s,"onChange"),0<s.length&&(l=new Gl("onChange","change",null,l,h),n.push({event:l,listeners:s}))}var ps=null,ms=null;function wb(n){zf(n,0)}function Ia(n){var s=mi(n);if(ft(s))return n}function _b(n,s){if(n==="change")return s}var bf=!1;if(d){var Zl;if(d){var eu="oninput"in document;if(!eu){var xf=document.createElement("div");xf.setAttribute("oninput","return;"),eu=typeof xf.oninput=="function"}Zl=eu}else Zl=!1;bf=Zl&&(!document.documentMode||9<document.documentMode)}function kf(){ps&&(ps.detachEvent("onpropertychange",Sf),ms=ps=null)}function Sf(n){if(n.propertyName==="value"&&Ia(ms)){var s=[];_f(s,ms,n,Nl(n)),Vh(wb,s)}}function bb(n,s,l){n==="focusin"?(kf(),ps=s,ms=l,ps.attachEvent("onpropertychange",Sf)):n==="focusout"&&kf()}function xb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ia(ms)}function kb(n,s){if(n==="click")return Ia(s)}function Sb(n,s){if(n==="input"||n==="change")return Ia(s)}function Eb(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var hr=typeof Object.is=="function"?Object.is:Eb;function gs(n,s){if(hr(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!c.call(s,g)||!hr(n[g],s[g]))return!1}return!0}function Ef(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Cf(n,s){var l=Ef(n);n=0;for(var h;l;){if(l.nodeType===3){if(h=n+l.textContent.length,n<=s&&h>=s)return{node:l,offset:s-n};n=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ef(l)}}function Tf(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Tf(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Af(){for(var n=window,s=at();s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=at(n.document)}return s}function tu(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function Cb(n){var s=Af(),l=n.focusedElem,h=n.selectionRange;if(s!==l&&l&&l.ownerDocument&&Tf(l.ownerDocument.documentElement,l)){if(h!==null&&tu(l)){if(s=h.start,n=h.end,n===void 0&&(n=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(n,l.value.length);else if(n=(s=l.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var g=l.textContent.length,_=Math.min(h.start,g);h=h.end===void 0?_:Math.min(h.end,g),!n.extend&&_>h&&(g=h,h=_,_=g),g=Cf(l,_);var T=Cf(l,h);g&&T&&(n.rangeCount!==1||n.anchorNode!==g.node||n.anchorOffset!==g.offset||n.focusNode!==T.node||n.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(g.node,g.offset),n.removeAllRanges(),_>h?(n.addRange(s),n.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),n.addRange(s)))}}for(s=[],n=l;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)n=s[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Tb=d&&"documentMode"in document&&11>=document.documentMode,di=null,ru=null,ys=null,nu=!1;function Pf(n,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;nu||di==null||di!==at(h)||(h=di,"selectionStart"in h&&tu(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ys&&gs(ys,h)||(ys=h,h=za(ru,"onSelect"),0<h.length&&(s=new Gl("onSelect","select",null,s,l),n.push({event:s,listeners:h}),s.target=di)))}function Da(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var hi={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionend:Da("Transition","TransitionEnd")},iu={},jf={};d&&(jf=document.createElement("div").style,"AnimationEvent"in window||(delete hi.animationend.animation,delete hi.animationiteration.animation,delete hi.animationstart.animation),"TransitionEvent"in window||delete hi.transitionend.transition);function La(n){if(iu[n])return iu[n];if(!hi[n])return n;var s=hi[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in jf)return iu[n]=s[l];return n}var Rf=La("animationend"),Of=La("animationiteration"),Nf=La("animationstart"),If=La("transitionend"),Df=new Map,Lf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function on(n,s){Df.set(n,s),o(s,[n])}for(var su=0;su<Lf.length;su++){var au=Lf[su],Ab=au.toLowerCase(),Pb=au[0].toUpperCase()+au.slice(1);on(Ab,"on"+Pb)}on(Rf,"onAnimationEnd"),on(Of,"onAnimationIteration"),on(Nf,"onAnimationStart"),on("dblclick","onDoubleClick"),on("focusin","onFocus"),on("focusout","onBlur"),on(If,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jb=new Set("cancel close invalid load scroll toggle".split(" ").concat(vs));function Mf(n,s,l){var h=n.type||"unknown-event";n.currentTarget=l,A_(h,s,void 0,n),n.currentTarget=null}function zf(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var h=n[l],g=h.event;h=h.listeners;e:{var _=void 0;if(s)for(var T=h.length-1;0<=T;T--){var L=h[T],B=L.instance,X=L.currentTarget;if(L=L.listener,B!==_&&g.isPropagationStopped())break e;Mf(g,L,X),_=B}else for(T=0;T<h.length;T++){if(L=h[T],B=L.instance,X=L.currentTarget,L=L.listener,B!==_&&g.isPropagationStopped())break e;Mf(g,L,X),_=B}}}if(_a)throw n=Ml,_a=!1,Ml=null,n}function tt(n,s){var l=s[pu];l===void 0&&(l=s[pu]=new Set);var h=n+"__bubble";l.has(h)||(Bf(s,n,2,!1),l.add(h))}function ou(n,s,l){var h=0;s&&(h|=4),Bf(l,n,h,s)}var Ma="_reactListening"+Math.random().toString(36).slice(2);function ws(n){if(!n[Ma]){n[Ma]=!0,i.forEach(function(l){l!=="selectionchange"&&(jb.has(l)||ou(l,!1,n),ou(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Ma]||(s[Ma]=!0,ou("selectionchange",!1,s))}}function Bf(n,s,l,h){switch(lf(s)){case 1:var g=K_;break;case 4:g=q_;break;default:g=Kl}l=g.bind(null,s,l,n),g=void 0,!Ll||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),h?g!==void 0?n.addEventListener(s,l,{capture:!0,passive:g}):n.addEventListener(s,l,!0):g!==void 0?n.addEventListener(s,l,{passive:g}):n.addEventListener(s,l,!1)}function lu(n,s,l,h,g){var _=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var L=h.stateNode.containerInfo;if(L===g||L.nodeType===8&&L.parentNode===g)break;if(T===4)for(T=h.return;T!==null;){var B=T.tag;if((B===3||B===4)&&(B=T.stateNode.containerInfo,B===g||B.nodeType===8&&B.parentNode===g))return;T=T.return}for(;L!==null;){if(T=Nn(L),T===null)return;if(B=T.tag,B===5||B===6){h=_=T;continue e}L=L.parentNode}}h=h.return}Vh(function(){var X=_,le=Nl(l),de=[];e:{var ae=Df.get(n);if(ae!==void 0){var ye=Gl,be=n;switch(n){case"keypress":if(Ra(l)===0)break e;case"keydown":case"keyup":ye=ab;break;case"focusin":be="focus",ye=Jl;break;case"focusout":be="blur",ye=Jl;break;case"beforeblur":case"afterblur":ye=Jl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=df;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=H_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=ub;break;case Rf:case Of:case Nf:ye=Q_;break;case If:ye=db;break;case"scroll":ye=W_;break;case"wheel":ye=fb;break;case"copy":case"cut":case"paste":ye=Z_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=ff}var Se=(s&4)!==0,mt=!Se&&n==="scroll",H=Se?ae!==null?ae+"Capture":null:ae;Se=[];for(var $=X,J;$!==null;){J=$;var pe=J.stateNode;if(J.tag===5&&pe!==null&&(J=pe,H!==null&&(pe=ts($,H),pe!=null&&Se.push(_s($,pe,J)))),mt)break;$=$.return}0<Se.length&&(ae=new ye(ae,be,null,l,le),de.push({event:ae,listeners:Se}))}}if((s&7)===0){e:{if(ae=n==="mouseover"||n==="pointerover",ye=n==="mouseout"||n==="pointerout",ae&&l!==Ol&&(be=l.relatedTarget||l.fromElement)&&(Nn(be)||be[Lr]))break e;if((ye||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,ye?(be=l.relatedTarget||l.toElement,ye=X,be=be?Nn(be):null,be!==null&&(mt=On(be),be!==mt||be.tag!==5&&be.tag!==6)&&(be=null)):(ye=null,be=X),ye!==be)){if(Se=df,pe="onMouseLeave",H="onMouseEnter",$="mouse",(n==="pointerout"||n==="pointerover")&&(Se=ff,pe="onPointerLeave",H="onPointerEnter",$="pointer"),mt=ye==null?ae:mi(ye),J=be==null?ae:mi(be),ae=new Se(pe,$+"leave",ye,l,le),ae.target=mt,ae.relatedTarget=J,pe=null,Nn(le)===X&&(Se=new Se(H,$+"enter",be,l,le),Se.target=J,Se.relatedTarget=mt,pe=Se),mt=pe,ye&&be)t:{for(Se=ye,H=be,$=0,J=Se;J;J=fi(J))$++;for(J=0,pe=H;pe;pe=fi(pe))J++;for(;0<$-J;)Se=fi(Se),$--;for(;0<J-$;)H=fi(H),J--;for(;$--;){if(Se===H||H!==null&&Se===H.alternate)break t;Se=fi(Se),H=fi(H)}Se=null}else Se=null;ye!==null&&Uf(de,ae,ye,Se,!1),be!==null&&mt!==null&&Uf(de,mt,be,Se,!0)}}e:{if(ae=X?mi(X):window,ye=ae.nodeName&&ae.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ae.type==="file")var Ce=_b;else if(wf(ae))if(bf)Ce=Sb;else{Ce=xb;var Re=bb}else(ye=ae.nodeName)&&ye.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Ce=kb);if(Ce&&(Ce=Ce(n,X))){_f(de,Ce,l,le);break e}Re&&Re(n,ae,X),n==="focusout"&&(Re=ae._wrapperState)&&Re.controlled&&ae.type==="number"&&N(ae,"number",ae.value)}switch(Re=X?mi(X):window,n){case"focusin":(wf(Re)||Re.contentEditable==="true")&&(di=Re,ru=X,ys=null);break;case"focusout":ys=ru=di=null;break;case"mousedown":nu=!0;break;case"contextmenu":case"mouseup":case"dragend":nu=!1,Pf(de,l,le);break;case"selectionchange":if(Tb)break;case"keydown":case"keyup":Pf(de,l,le)}var Oe;if(Xl)e:{switch(n){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else ci?yf(n,l)&&(ze="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(ze="onCompositionStart");ze&&(pf&&l.locale!=="ko"&&(ci||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&ci&&(Oe=uf()):(an=le,Wl="value"in an?an.value:an.textContent,ci=!0)),Re=za(X,ze),0<Re.length&&(ze=new hf(ze,n,null,l,le),de.push({event:ze,listeners:Re}),Oe?ze.data=Oe:(Oe=vf(l),Oe!==null&&(ze.data=Oe)))),(Oe=mb?gb(n,l):yb(n,l))&&(X=za(X,"onBeforeInput"),0<X.length&&(le=new hf("onBeforeInput","beforeinput",null,l,le),de.push({event:le,listeners:X}),le.data=Oe))}zf(de,s)})}function _s(n,s,l){return{instance:n,listener:s,currentTarget:l}}function za(n,s){for(var l=s+"Capture",h=[];n!==null;){var g=n,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=ts(n,l),_!=null&&h.unshift(_s(n,_,g)),_=ts(n,s),_!=null&&h.push(_s(n,_,g))),n=n.return}return h}function fi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Uf(n,s,l,h,g){for(var _=s._reactName,T=[];l!==null&&l!==h;){var L=l,B=L.alternate,X=L.stateNode;if(B!==null&&B===h)break;L.tag===5&&X!==null&&(L=X,g?(B=ts(l,_),B!=null&&T.unshift(_s(l,B,L))):g||(B=ts(l,_),B!=null&&T.push(_s(l,B,L)))),l=l.return}T.length!==0&&n.push({event:s,listeners:T})}var Rb=/\r\n?/g,Ob=/\u0000|\uFFFD/g;function Ff(n){return(typeof n=="string"?n:""+n).replace(Rb,`
`).replace(Ob,"")}function Ba(n,s,l){if(s=Ff(s),Ff(n)!==s&&l)throw Error(r(425))}function Ua(){}var uu=null,cu=null;function du(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var hu=typeof setTimeout=="function"?setTimeout:void 0,Nb=typeof clearTimeout=="function"?clearTimeout:void 0,$f=typeof Promise=="function"?Promise:void 0,Ib=typeof queueMicrotask=="function"?queueMicrotask:typeof $f<"u"?function(n){return $f.resolve(null).then(n).catch(Db)}:hu;function Db(n){setTimeout(function(){throw n})}function fu(n,s){var l=s,h=0;do{var g=l.nextSibling;if(n.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(h===0){n.removeChild(g),cs(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=g}while(l);cs(s)}function ln(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Vf(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return n;s--}else l==="/$"&&s++}n=n.previousSibling}return null}var pi=Math.random().toString(36).slice(2),Sr="__reactFiber$"+pi,bs="__reactProps$"+pi,Lr="__reactContainer$"+pi,pu="__reactEvents$"+pi,Lb="__reactListeners$"+pi,Mb="__reactHandles$"+pi;function Nn(n){var s=n[Sr];if(s)return s;for(var l=n.parentNode;l;){if(s=l[Lr]||l[Sr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=Vf(n);n!==null;){if(l=n[Sr])return l;n=Vf(n)}return s}n=l,l=n.parentNode}return null}function xs(n){return n=n[Sr]||n[Lr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function mi(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Fa(n){return n[bs]||null}var mu=[],gi=-1;function un(n){return{current:n}}function rt(n){0>gi||(n.current=mu[gi],mu[gi]=null,gi--)}function Ze(n,s){gi++,mu[gi]=n.current,n.current=s}var cn={},Nt=un(cn),$t=un(!1),In=cn;function yi(n,s){var l=n.type.contextTypes;if(!l)return cn;var h=n.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in l)g[_]=s[_];return h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=g),g}function Vt(n){return n=n.childContextTypes,n!=null}function $a(){rt($t),rt(Nt)}function Kf(n,s,l){if(Nt.current!==cn)throw Error(r(168));Ze(Nt,s),Ze($t,l)}function qf(n,s,l){var h=n.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var g in h)if(!(g in s))throw Error(r(108,_e(n)||"Unknown",g));return me({},l,h)}function Va(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||cn,In=Nt.current,Ze(Nt,n),Ze($t,$t.current),!0}function Wf(n,s,l){var h=n.stateNode;if(!h)throw Error(r(169));l?(n=qf(n,s,In),h.__reactInternalMemoizedMergedChildContext=n,rt($t),rt(Nt),Ze(Nt,n)):rt($t),Ze($t,l)}var Mr=null,Ka=!1,gu=!1;function Gf(n){Mr===null?Mr=[n]:Mr.push(n)}function zb(n){Ka=!0,Gf(n)}function dn(){if(!gu&&Mr!==null){gu=!0;var n=0,s=Qe;try{var l=Mr;for(Qe=1;n<l.length;n++){var h=l[n];do h=h(!0);while(h!==null)}Mr=null,Ka=!1}catch(g){throw Mr!==null&&(Mr=Mr.slice(n+1)),Hh(zl,dn),g}finally{Qe=s,gu=!1}}return null}var vi=[],wi=0,qa=null,Wa=0,nr=[],ir=0,Dn=null,zr=1,Br="";function Ln(n,s){vi[wi++]=Wa,vi[wi++]=qa,qa=n,Wa=s}function Hf(n,s,l){nr[ir++]=zr,nr[ir++]=Br,nr[ir++]=Dn,Dn=n;var h=zr;n=Br;var g=32-dr(h)-1;h&=~(1<<g),l+=1;var _=32-dr(s)+g;if(30<_){var T=g-g%5;_=(h&(1<<T)-1).toString(32),h>>=T,g-=T,zr=1<<32-dr(s)+g|l<<g|h,Br=_+n}else zr=1<<_|l<<g|h,Br=n}function yu(n){n.return!==null&&(Ln(n,1),Hf(n,1,0))}function vu(n){for(;n===qa;)qa=vi[--wi],vi[wi]=null,Wa=vi[--wi],vi[wi]=null;for(;n===Dn;)Dn=nr[--ir],nr[ir]=null,Br=nr[--ir],nr[ir]=null,zr=nr[--ir],nr[ir]=null}var Qt=null,Xt=null,it=!1,fr=null;function Yf(n,s){var l=lr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=n,s=n.deletions,s===null?(n.deletions=[l],n.flags|=16):s.push(l)}function Jf(n,s){switch(n.tag){case 5:var l=n.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,Qt=n,Xt=ln(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,Qt=n,Xt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Dn!==null?{id:zr,overflow:Br}:null,n.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=lr(18,null,null,0),l.stateNode=s,l.return=n,n.child=l,Qt=n,Xt=null,!0):!1;default:return!1}}function wu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function _u(n){if(it){var s=Xt;if(s){var l=s;if(!Jf(n,s)){if(wu(n))throw Error(r(418));s=ln(l.nextSibling);var h=Qt;s&&Jf(n,s)?Yf(h,l):(n.flags=n.flags&-4097|2,it=!1,Qt=n)}}else{if(wu(n))throw Error(r(418));n.flags=n.flags&-4097|2,it=!1,Qt=n}}}function Qf(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Qt=n}function Ga(n){if(n!==Qt)return!1;if(!it)return Qf(n),it=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!du(n.type,n.memoizedProps)),s&&(s=Xt)){if(wu(n))throw Xf(),Error(r(418));for(;s;)Yf(n,s),s=ln(s.nextSibling)}if(Qf(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(s===0){Xt=ln(n.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}n=n.nextSibling}Xt=null}}else Xt=Qt?ln(n.stateNode.nextSibling):null;return!0}function Xf(){for(var n=Xt;n;)n=ln(n.nextSibling)}function _i(){Xt=Qt=null,it=!1}function bu(n){fr===null?fr=[n]:fr.push(n)}var Bb=j.ReactCurrentBatchConfig;function ks(n,s,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var h=l.stateNode}if(!h)throw Error(r(147,n));var g=h,_=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===_?s.ref:(s=function(T){var L=g.refs;T===null?delete L[_]:L[_]=T},s._stringRef=_,s)}if(typeof n!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,n))}return n}function Ha(n,s){throw n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function Zf(n){var s=n._init;return s(n._payload)}function ep(n){function s(H,$){if(n){var J=H.deletions;J===null?(H.deletions=[$],H.flags|=16):J.push($)}}function l(H,$){if(!n)return null;for(;$!==null;)s(H,$),$=$.sibling;return null}function h(H,$){for(H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function g(H,$){return H=wn(H,$),H.index=0,H.sibling=null,H}function _(H,$,J){return H.index=J,n?(J=H.alternate,J!==null?(J=J.index,J<$?(H.flags|=2,$):J):(H.flags|=2,$)):(H.flags|=1048576,$)}function T(H){return n&&H.alternate===null&&(H.flags|=2),H}function L(H,$,J,pe){return $===null||$.tag!==6?($=hc(J,H.mode,pe),$.return=H,$):($=g($,J),$.return=H,$)}function B(H,$,J,pe){var Ce=J.type;return Ce===I?le(H,$,J.props.children,pe,J.key):$!==null&&($.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===je&&Zf(Ce)===$.type)?(pe=g($,J.props),pe.ref=ks(H,$,J),pe.return=H,pe):(pe=wo(J.type,J.key,J.props,null,H.mode,pe),pe.ref=ks(H,$,J),pe.return=H,pe)}function X(H,$,J,pe){return $===null||$.tag!==4||$.stateNode.containerInfo!==J.containerInfo||$.stateNode.implementation!==J.implementation?($=fc(J,H.mode,pe),$.return=H,$):($=g($,J.children||[]),$.return=H,$)}function le(H,$,J,pe,Ce){return $===null||$.tag!==7?($=Kn(J,H.mode,pe,Ce),$.return=H,$):($=g($,J),$.return=H,$)}function de(H,$,J){if(typeof $=="string"&&$!==""||typeof $=="number")return $=hc(""+$,H.mode,J),$.return=H,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case R:return J=wo($.type,$.key,$.props,null,H.mode,J),J.ref=ks(H,null,$),J.return=H,J;case D:return $=fc($,H.mode,J),$.return=H,$;case je:var pe=$._init;return de(H,pe($._payload),J)}if(f($)||se($))return $=Kn($,H.mode,J,null),$.return=H,$;Ha(H,$)}return null}function ae(H,$,J,pe){var Ce=$!==null?$.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Ce!==null?null:L(H,$,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case R:return J.key===Ce?B(H,$,J,pe):null;case D:return J.key===Ce?X(H,$,J,pe):null;case je:return Ce=J._init,ae(H,$,Ce(J._payload),pe)}if(f(J)||se(J))return Ce!==null?null:le(H,$,J,pe,null);Ha(H,J)}return null}function ye(H,$,J,pe,Ce){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return H=H.get(J)||null,L($,H,""+pe,Ce);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case R:return H=H.get(pe.key===null?J:pe.key)||null,B($,H,pe,Ce);case D:return H=H.get(pe.key===null?J:pe.key)||null,X($,H,pe,Ce);case je:var Re=pe._init;return ye(H,$,J,Re(pe._payload),Ce)}if(f(pe)||se(pe))return H=H.get(J)||null,le($,H,pe,Ce,null);Ha($,pe)}return null}function be(H,$,J,pe){for(var Ce=null,Re=null,Oe=$,ze=$=0,Tt=null;Oe!==null&&ze<J.length;ze++){Oe.index>ze?(Tt=Oe,Oe=null):Tt=Oe.sibling;var He=ae(H,Oe,J[ze],pe);if(He===null){Oe===null&&(Oe=Tt);break}n&&Oe&&He.alternate===null&&s(H,Oe),$=_(He,$,ze),Re===null?Ce=He:Re.sibling=He,Re=He,Oe=Tt}if(ze===J.length)return l(H,Oe),it&&Ln(H,ze),Ce;if(Oe===null){for(;ze<J.length;ze++)Oe=de(H,J[ze],pe),Oe!==null&&($=_(Oe,$,ze),Re===null?Ce=Oe:Re.sibling=Oe,Re=Oe);return it&&Ln(H,ze),Ce}for(Oe=h(H,Oe);ze<J.length;ze++)Tt=ye(Oe,H,ze,J[ze],pe),Tt!==null&&(n&&Tt.alternate!==null&&Oe.delete(Tt.key===null?ze:Tt.key),$=_(Tt,$,ze),Re===null?Ce=Tt:Re.sibling=Tt,Re=Tt);return n&&Oe.forEach(function(_n){return s(H,_n)}),it&&Ln(H,ze),Ce}function Se(H,$,J,pe){var Ce=se(J);if(typeof Ce!="function")throw Error(r(150));if(J=Ce.call(J),J==null)throw Error(r(151));for(var Re=Ce=null,Oe=$,ze=$=0,Tt=null,He=J.next();Oe!==null&&!He.done;ze++,He=J.next()){Oe.index>ze?(Tt=Oe,Oe=null):Tt=Oe.sibling;var _n=ae(H,Oe,He.value,pe);if(_n===null){Oe===null&&(Oe=Tt);break}n&&Oe&&_n.alternate===null&&s(H,Oe),$=_(_n,$,ze),Re===null?Ce=_n:Re.sibling=_n,Re=_n,Oe=Tt}if(He.done)return l(H,Oe),it&&Ln(H,ze),Ce;if(Oe===null){for(;!He.done;ze++,He=J.next())He=de(H,He.value,pe),He!==null&&($=_(He,$,ze),Re===null?Ce=He:Re.sibling=He,Re=He);return it&&Ln(H,ze),Ce}for(Oe=h(H,Oe);!He.done;ze++,He=J.next())He=ye(Oe,H,ze,He.value,pe),He!==null&&(n&&He.alternate!==null&&Oe.delete(He.key===null?ze:He.key),$=_(He,$,ze),Re===null?Ce=He:Re.sibling=He,Re=He);return n&&Oe.forEach(function(vx){return s(H,vx)}),it&&Ln(H,ze),Ce}function mt(H,$,J,pe){if(typeof J=="object"&&J!==null&&J.type===I&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case R:e:{for(var Ce=J.key,Re=$;Re!==null;){if(Re.key===Ce){if(Ce=J.type,Ce===I){if(Re.tag===7){l(H,Re.sibling),$=g(Re,J.props.children),$.return=H,H=$;break e}}else if(Re.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===je&&Zf(Ce)===Re.type){l(H,Re.sibling),$=g(Re,J.props),$.ref=ks(H,Re,J),$.return=H,H=$;break e}l(H,Re);break}else s(H,Re);Re=Re.sibling}J.type===I?($=Kn(J.props.children,H.mode,pe,J.key),$.return=H,H=$):(pe=wo(J.type,J.key,J.props,null,H.mode,pe),pe.ref=ks(H,$,J),pe.return=H,H=pe)}return T(H);case D:e:{for(Re=J.key;$!==null;){if($.key===Re)if($.tag===4&&$.stateNode.containerInfo===J.containerInfo&&$.stateNode.implementation===J.implementation){l(H,$.sibling),$=g($,J.children||[]),$.return=H,H=$;break e}else{l(H,$);break}else s(H,$);$=$.sibling}$=fc(J,H.mode,pe),$.return=H,H=$}return T(H);case je:return Re=J._init,mt(H,$,Re(J._payload),pe)}if(f(J))return be(H,$,J,pe);if(se(J))return Se(H,$,J,pe);Ha(H,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,$!==null&&$.tag===6?(l(H,$.sibling),$=g($,J),$.return=H,H=$):(l(H,$),$=hc(J,H.mode,pe),$.return=H,H=$),T(H)):l(H,$)}return mt}var bi=ep(!0),tp=ep(!1),Ya=un(null),Ja=null,xi=null,xu=null;function ku(){xu=xi=Ja=null}function Su(n){var s=Ya.current;rt(Ya),n._currentValue=s}function Eu(n,s,l){for(;n!==null;){var h=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),n===l)break;n=n.return}}function ki(n,s){Ja=n,xu=xi=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Kt=!0),n.firstContext=null)}function sr(n){var s=n._currentValue;if(xu!==n)if(n={context:n,memoizedValue:s,next:null},xi===null){if(Ja===null)throw Error(r(308));xi=n,Ja.dependencies={lanes:0,firstContext:n}}else xi=xi.next=n;return s}var Mn=null;function Cu(n){Mn===null?Mn=[n]:Mn.push(n)}function rp(n,s,l,h){var g=s.interleaved;return g===null?(l.next=l,Cu(s)):(l.next=g.next,g.next=l),s.interleaved=l,Ur(n,h)}function Ur(n,s){n.lanes|=s;var l=n.alternate;for(l!==null&&(l.lanes|=s),l=n,n=n.return;n!==null;)n.childLanes|=s,l=n.alternate,l!==null&&(l.childLanes|=s),l=n,n=n.return;return l.tag===3?l.stateNode:null}var hn=!1;function Tu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function np(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Fr(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function fn(n,s,l){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(Ge&2)!==0){var g=h.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),h.pending=s,Ur(n,l)}return g=h.interleaved,g===null?(s.next=s,Cu(h)):(s.next=g.next,g.next=s),h.interleaved=s,Ur(n,l)}function Qa(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=n.pendingLanes,l|=h,s.lanes=l,Fl(n,l)}}function ip(n,s){var l=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};_===null?g=_=T:_=_.next=T,l=l.next}while(l!==null);_===null?g=_=s:_=_.next=s}else g=_=s;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:h.shared,effects:h.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}function Xa(n,s,l,h){var g=n.updateQueue;hn=!1;var _=g.firstBaseUpdate,T=g.lastBaseUpdate,L=g.shared.pending;if(L!==null){g.shared.pending=null;var B=L,X=B.next;B.next=null,T===null?_=X:T.next=X,T=B;var le=n.alternate;le!==null&&(le=le.updateQueue,L=le.lastBaseUpdate,L!==T&&(L===null?le.firstBaseUpdate=X:L.next=X,le.lastBaseUpdate=B))}if(_!==null){var de=g.baseState;T=0,le=X=B=null,L=_;do{var ae=L.lane,ye=L.eventTime;if((h&ae)===ae){le!==null&&(le=le.next={eventTime:ye,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var be=n,Se=L;switch(ae=s,ye=l,Se.tag){case 1:if(be=Se.payload,typeof be=="function"){de=be.call(ye,de,ae);break e}de=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Se.payload,ae=typeof be=="function"?be.call(ye,de,ae):be,ae==null)break e;de=me({},de,ae);break e;case 2:hn=!0}}L.callback!==null&&L.lane!==0&&(n.flags|=64,ae=g.effects,ae===null?g.effects=[L]:ae.push(L))}else ye={eventTime:ye,lane:ae,tag:L.tag,payload:L.payload,callback:L.callback,next:null},le===null?(X=le=ye,B=de):le=le.next=ye,T|=ae;if(L=L.next,L===null){if(L=g.shared.pending,L===null)break;ae=L,L=ae.next,ae.next=null,g.lastBaseUpdate=ae,g.shared.pending=null}}while(!0);if(le===null&&(B=de),g.baseState=B,g.firstBaseUpdate=X,g.lastBaseUpdate=le,s=g.shared.interleaved,s!==null){g=s;do T|=g.lane,g=g.next;while(g!==s)}else _===null&&(g.shared.lanes=0);Un|=T,n.lanes=T,n.memoizedState=de}}function sp(n,s,l){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var h=n[s],g=h.callback;if(g!==null){if(h.callback=null,h=l,typeof g!="function")throw Error(r(191,g));g.call(h)}}}var Ss={},Er=un(Ss),Es=un(Ss),Cs=un(Ss);function zn(n){if(n===Ss)throw Error(r(174));return n}function Au(n,s){switch(Ze(Cs,s),Ze(Es,n),Ze(Er,Ss),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:$e(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=$e(s,n)}rt(Er),Ze(Er,s)}function Si(){rt(Er),rt(Es),rt(Cs)}function ap(n){zn(Cs.current);var s=zn(Er.current),l=$e(s,n.type);s!==l&&(Ze(Es,n),Ze(Er,l))}function Pu(n){Es.current===n&&(rt(Er),rt(Es))}var lt=un(0);function Za(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ju=[];function Ru(){for(var n=0;n<ju.length;n++)ju[n]._workInProgressVersionPrimary=null;ju.length=0}var eo=j.ReactCurrentDispatcher,Ou=j.ReactCurrentBatchConfig,Bn=0,ut=null,bt=null,Et=null,to=!1,Ts=!1,As=0,Ub=0;function It(){throw Error(r(321))}function Nu(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!hr(n[l],s[l]))return!1;return!0}function Iu(n,s,l,h,g,_){if(Bn=_,ut=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,eo.current=n===null||n.memoizedState===null?Kb:qb,n=l(h,g),Ts){_=0;do{if(Ts=!1,As=0,25<=_)throw Error(r(301));_+=1,Et=bt=null,s.updateQueue=null,eo.current=Wb,n=l(h,g)}while(Ts)}if(eo.current=io,s=bt!==null&&bt.next!==null,Bn=0,Et=bt=ut=null,to=!1,s)throw Error(r(300));return n}function Du(){var n=As!==0;return As=0,n}function Cr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?ut.memoizedState=Et=n:Et=Et.next=n,Et}function ar(){if(bt===null){var n=ut.alternate;n=n!==null?n.memoizedState:null}else n=bt.next;var s=Et===null?ut.memoizedState:Et.next;if(s!==null)Et=s,bt=n;else{if(n===null)throw Error(r(310));bt=n,n={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Et===null?ut.memoizedState=Et=n:Et=Et.next=n}return Et}function Ps(n,s){return typeof s=="function"?s(n):s}function Lu(n){var s=ar(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var h=bt,g=h.baseQueue,_=l.pending;if(_!==null){if(g!==null){var T=g.next;g.next=_.next,_.next=T}h.baseQueue=g=_,l.pending=null}if(g!==null){_=g.next,h=h.baseState;var L=T=null,B=null,X=_;do{var le=X.lane;if((Bn&le)===le)B!==null&&(B=B.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),h=X.hasEagerState?X.eagerState:n(h,X.action);else{var de={lane:le,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};B===null?(L=B=de,T=h):B=B.next=de,ut.lanes|=le,Un|=le}X=X.next}while(X!==null&&X!==_);B===null?T=h:B.next=L,hr(h,s.memoizedState)||(Kt=!0),s.memoizedState=h,s.baseState=T,s.baseQueue=B,l.lastRenderedState=h}if(n=l.interleaved,n!==null){g=n;do _=g.lane,ut.lanes|=_,Un|=_,g=g.next;while(g!==n)}else g===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Mu(n){var s=ar(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var h=l.dispatch,g=l.pending,_=s.memoizedState;if(g!==null){l.pending=null;var T=g=g.next;do _=n(_,T.action),T=T.next;while(T!==g);hr(_,s.memoizedState)||(Kt=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,h]}function op(){}function lp(n,s){var l=ut,h=ar(),g=s(),_=!hr(h.memoizedState,g);if(_&&(h.memoizedState=g,Kt=!0),h=h.queue,zu(dp.bind(null,l,h,n),[n]),h.getSnapshot!==s||_||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,js(9,cp.bind(null,l,h,g,s),void 0,null),Ct===null)throw Error(r(349));(Bn&30)!==0||up(l,s,g)}return g}function up(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=ut.updateQueue,s===null?(s={lastEffect:null,stores:null},ut.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function cp(n,s,l,h){s.value=l,s.getSnapshot=h,hp(s)&&fp(n)}function dp(n,s,l){return l(function(){hp(s)&&fp(n)})}function hp(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!hr(n,l)}catch{return!0}}function fp(n){var s=Ur(n,1);s!==null&&yr(s,n,1,-1)}function pp(n){var s=Cr();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:n},s.queue=n,n=n.dispatch=Vb.bind(null,ut,n),[s.memoizedState,n]}function js(n,s,l,h){return n={tag:n,create:s,destroy:l,deps:h,next:null},s=ut.updateQueue,s===null?(s={lastEffect:null,stores:null},ut.updateQueue=s,s.lastEffect=n.next=n):(l=s.lastEffect,l===null?s.lastEffect=n.next=n:(h=l.next,l.next=n,n.next=h,s.lastEffect=n)),n}function mp(){return ar().memoizedState}function ro(n,s,l,h){var g=Cr();ut.flags|=n,g.memoizedState=js(1|s,l,void 0,h===void 0?null:h)}function no(n,s,l,h){var g=ar();h=h===void 0?null:h;var _=void 0;if(bt!==null){var T=bt.memoizedState;if(_=T.destroy,h!==null&&Nu(h,T.deps)){g.memoizedState=js(s,l,_,h);return}}ut.flags|=n,g.memoizedState=js(1|s,l,_,h)}function gp(n,s){return ro(8390656,8,n,s)}function zu(n,s){return no(2048,8,n,s)}function yp(n,s){return no(4,2,n,s)}function vp(n,s){return no(4,4,n,s)}function wp(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function _p(n,s,l){return l=l!=null?l.concat([n]):null,no(4,4,wp.bind(null,s,n),l)}function Bu(){}function bp(n,s){var l=ar();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Nu(s,h[1])?h[0]:(l.memoizedState=[n,s],n)}function xp(n,s){var l=ar();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Nu(s,h[1])?h[0]:(n=n(),l.memoizedState=[n,s],n)}function kp(n,s,l){return(Bn&21)===0?(n.baseState&&(n.baseState=!1,Kt=!0),n.memoizedState=l):(hr(l,s)||(l=Xh(),ut.lanes|=l,Un|=l,n.baseState=!0),s)}function Fb(n,s){var l=Qe;Qe=l!==0&&4>l?l:4,n(!0);var h=Ou.transition;Ou.transition={};try{n(!1),s()}finally{Qe=l,Ou.transition=h}}function Sp(){return ar().memoizedState}function $b(n,s,l){var h=yn(n);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Ep(n))Cp(s,l);else if(l=rp(n,s,l,h),l!==null){var g=Ft();yr(l,n,h,g),Tp(l,s,h)}}function Vb(n,s,l){var h=yn(n),g={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ep(n))Cp(s,g);else{var _=n.alternate;if(n.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var T=s.lastRenderedState,L=_(T,l);if(g.hasEagerState=!0,g.eagerState=L,hr(L,T)){var B=s.interleaved;B===null?(g.next=g,Cu(s)):(g.next=B.next,B.next=g),s.interleaved=g;return}}catch{}finally{}l=rp(n,s,g,h),l!==null&&(g=Ft(),yr(l,n,h,g),Tp(l,s,h))}}function Ep(n){var s=n.alternate;return n===ut||s!==null&&s===ut}function Cp(n,s){Ts=to=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function Tp(n,s,l){if((l&4194240)!==0){var h=s.lanes;h&=n.pendingLanes,l|=h,s.lanes=l,Fl(n,l)}}var io={readContext:sr,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},Kb={readContext:sr,useCallback:function(n,s){return Cr().memoizedState=[n,s===void 0?null:s],n},useContext:sr,useEffect:gp,useImperativeHandle:function(n,s,l){return l=l!=null?l.concat([n]):null,ro(4194308,4,wp.bind(null,s,n),l)},useLayoutEffect:function(n,s){return ro(4194308,4,n,s)},useInsertionEffect:function(n,s){return ro(4,2,n,s)},useMemo:function(n,s){var l=Cr();return s=s===void 0?null:s,n=n(),l.memoizedState=[n,s],n},useReducer:function(n,s,l){var h=Cr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},h.queue=n,n=n.dispatch=$b.bind(null,ut,n),[h.memoizedState,n]},useRef:function(n){var s=Cr();return n={current:n},s.memoizedState=n},useState:pp,useDebugValue:Bu,useDeferredValue:function(n){return Cr().memoizedState=n},useTransition:function(){var n=pp(!1),s=n[0];return n=Fb.bind(null,n[1]),Cr().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,l){var h=ut,g=Cr();if(it){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Ct===null)throw Error(r(349));(Bn&30)!==0||up(h,s,l)}g.memoizedState=l;var _={value:l,getSnapshot:s};return g.queue=_,gp(dp.bind(null,h,_,n),[n]),h.flags|=2048,js(9,cp.bind(null,h,_,l,s),void 0,null),l},useId:function(){var n=Cr(),s=Ct.identifierPrefix;if(it){var l=Br,h=zr;l=(h&~(1<<32-dr(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=As++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=Ub++,s=":"+s+"r"+l.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},qb={readContext:sr,useCallback:bp,useContext:sr,useEffect:zu,useImperativeHandle:_p,useInsertionEffect:yp,useLayoutEffect:vp,useMemo:xp,useReducer:Lu,useRef:mp,useState:function(){return Lu(Ps)},useDebugValue:Bu,useDeferredValue:function(n){var s=ar();return kp(s,bt.memoizedState,n)},useTransition:function(){var n=Lu(Ps)[0],s=ar().memoizedState;return[n,s]},useMutableSource:op,useSyncExternalStore:lp,useId:Sp,unstable_isNewReconciler:!1},Wb={readContext:sr,useCallback:bp,useContext:sr,useEffect:zu,useImperativeHandle:_p,useInsertionEffect:yp,useLayoutEffect:vp,useMemo:xp,useReducer:Mu,useRef:mp,useState:function(){return Mu(Ps)},useDebugValue:Bu,useDeferredValue:function(n){var s=ar();return bt===null?s.memoizedState=n:kp(s,bt.memoizedState,n)},useTransition:function(){var n=Mu(Ps)[0],s=ar().memoizedState;return[n,s]},useMutableSource:op,useSyncExternalStore:lp,useId:Sp,unstable_isNewReconciler:!1};function pr(n,s){if(n&&n.defaultProps){s=me({},s),n=n.defaultProps;for(var l in n)s[l]===void 0&&(s[l]=n[l]);return s}return s}function Uu(n,s,l,h){s=n.memoizedState,l=l(h,s),l=l==null?s:me({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var so={isMounted:function(n){return(n=n._reactInternals)?On(n)===n:!1},enqueueSetState:function(n,s,l){n=n._reactInternals;var h=Ft(),g=yn(n),_=Fr(h,g);_.payload=s,l!=null&&(_.callback=l),s=fn(n,_,g),s!==null&&(yr(s,n,g,h),Qa(s,n,g))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var h=Ft(),g=yn(n),_=Fr(h,g);_.tag=1,_.payload=s,l!=null&&(_.callback=l),s=fn(n,_,g),s!==null&&(yr(s,n,g,h),Qa(s,n,g))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=Ft(),h=yn(n),g=Fr(l,h);g.tag=2,s!=null&&(g.callback=s),s=fn(n,g,h),s!==null&&(yr(s,n,h,l),Qa(s,n,h))}};function Ap(n,s,l,h,g,_,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,_,T):s.prototype&&s.prototype.isPureReactComponent?!gs(l,h)||!gs(g,_):!0}function Pp(n,s,l){var h=!1,g=cn,_=s.contextType;return typeof _=="object"&&_!==null?_=sr(_):(g=Vt(s)?In:Nt.current,h=s.contextTypes,_=(h=h!=null)?yi(n,g):cn),s=new s(l,_),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=so,n.stateNode=s,s._reactInternals=n,h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=g,n.__reactInternalMemoizedMaskedChildContext=_),s}function jp(n,s,l,h){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==n&&so.enqueueReplaceState(s,s.state,null)}function Fu(n,s,l,h){var g=n.stateNode;g.props=l,g.state=n.memoizedState,g.refs={},Tu(n);var _=s.contextType;typeof _=="object"&&_!==null?g.context=sr(_):(_=Vt(s)?In:Nt.current,g.context=yi(n,_)),g.state=n.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Uu(n,s,_,l),g.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(s=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),s!==g.state&&so.enqueueReplaceState(g,g.state,null),Xa(n,l,g,h),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308)}function Ei(n,s){try{var l="",h=s;do l+=Z(h),h=h.return;while(h);var g=l}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:n,source:s,stack:g,digest:null}}function $u(n,s,l){return{value:n,source:null,stack:l??null,digest:s??null}}function Vu(n,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var Gb=typeof WeakMap=="function"?WeakMap:Map;function Rp(n,s,l){l=Fr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){fo||(fo=!0,ic=h),Vu(n,s)},l}function Op(n,s,l){l=Fr(-1,l),l.tag=3;var h=n.type.getDerivedStateFromError;if(typeof h=="function"){var g=s.value;l.payload=function(){return h(g)},l.callback=function(){Vu(n,s)}}var _=n.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(l.callback=function(){Vu(n,s),typeof h!="function"&&(mn===null?mn=new Set([this]):mn.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function Np(n,s,l){var h=n.pingCache;if(h===null){h=n.pingCache=new Gb;var g=new Set;h.set(s,g)}else g=h.get(s),g===void 0&&(g=new Set,h.set(s,g));g.has(l)||(g.add(l),n=ox.bind(null,n,s,l),s.then(n,n))}function Ip(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Dp(n,s,l,h,g){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Fr(-1,1),s.tag=2,fn(l,s,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=g,n)}var Hb=j.ReactCurrentOwner,Kt=!1;function Ut(n,s,l,h){s.child=n===null?tp(s,null,l,h):bi(s,n.child,l,h)}function Lp(n,s,l,h,g){l=l.render;var _=s.ref;return ki(s,g),h=Iu(n,s,l,h,_,g),l=Du(),n!==null&&!Kt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~g,$r(n,s,g)):(it&&l&&yu(s),s.flags|=1,Ut(n,s,h,g),s.child)}function Mp(n,s,l,h,g){if(n===null){var _=l.type;return typeof _=="function"&&!dc(_)&&_.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=_,zp(n,s,_,h,g)):(n=wo(l.type,null,h,s,s.mode,g),n.ref=s.ref,n.return=s,s.child=n)}if(_=n.child,(n.lanes&g)===0){var T=_.memoizedProps;if(l=l.compare,l=l!==null?l:gs,l(T,h)&&n.ref===s.ref)return $r(n,s,g)}return s.flags|=1,n=wn(_,h),n.ref=s.ref,n.return=s,s.child=n}function zp(n,s,l,h,g){if(n!==null){var _=n.memoizedProps;if(gs(_,h)&&n.ref===s.ref)if(Kt=!1,s.pendingProps=h=_,(n.lanes&g)!==0)(n.flags&131072)!==0&&(Kt=!0);else return s.lanes=n.lanes,$r(n,s,g)}return Ku(n,s,l,h,g)}function Bp(n,s,l){var h=s.pendingProps,g=h.children,_=n!==null?n.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Ti,Zt),Zt|=l;else{if((l&1073741824)===0)return n=_!==null?_.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,Ze(Ti,Zt),Zt|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=_!==null?_.baseLanes:l,Ze(Ti,Zt),Zt|=h}else _!==null?(h=_.baseLanes|l,s.memoizedState=null):h=l,Ze(Ti,Zt),Zt|=h;return Ut(n,s,g,l),s.child}function Up(n,s){var l=s.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Ku(n,s,l,h,g){var _=Vt(l)?In:Nt.current;return _=yi(s,_),ki(s,g),l=Iu(n,s,l,h,_,g),h=Du(),n!==null&&!Kt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~g,$r(n,s,g)):(it&&h&&yu(s),s.flags|=1,Ut(n,s,l,g),s.child)}function Fp(n,s,l,h,g){if(Vt(l)){var _=!0;Va(s)}else _=!1;if(ki(s,g),s.stateNode===null)oo(n,s),Pp(s,l,h),Fu(s,l,h,g),h=!0;else if(n===null){var T=s.stateNode,L=s.memoizedProps;T.props=L;var B=T.context,X=l.contextType;typeof X=="object"&&X!==null?X=sr(X):(X=Vt(l)?In:Nt.current,X=yi(s,X));var le=l.getDerivedStateFromProps,de=typeof le=="function"||typeof T.getSnapshotBeforeUpdate=="function";de||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L!==h||B!==X)&&jp(s,T,h,X),hn=!1;var ae=s.memoizedState;T.state=ae,Xa(s,h,T,g),B=s.memoizedState,L!==h||ae!==B||$t.current||hn?(typeof le=="function"&&(Uu(s,l,le,h),B=s.memoizedState),(L=hn||Ap(s,l,L,h,ae,B,X))?(de||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=B),T.props=h,T.state=B,T.context=X,h=L):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{T=s.stateNode,np(n,s),L=s.memoizedProps,X=s.type===s.elementType?L:pr(s.type,L),T.props=X,de=s.pendingProps,ae=T.context,B=l.contextType,typeof B=="object"&&B!==null?B=sr(B):(B=Vt(l)?In:Nt.current,B=yi(s,B));var ye=l.getDerivedStateFromProps;(le=typeof ye=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L!==de||ae!==B)&&jp(s,T,h,B),hn=!1,ae=s.memoizedState,T.state=ae,Xa(s,h,T,g);var be=s.memoizedState;L!==de||ae!==be||$t.current||hn?(typeof ye=="function"&&(Uu(s,l,ye,h),be=s.memoizedState),(X=hn||Ap(s,l,X,h,ae,be,B)||!1)?(le||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,be,B),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,be,B)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||L===n.memoizedProps&&ae===n.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&ae===n.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=be),T.props=h,T.state=be,T.context=B,h=X):(typeof T.componentDidUpdate!="function"||L===n.memoizedProps&&ae===n.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&ae===n.memoizedState||(s.flags|=1024),h=!1)}return qu(n,s,l,h,_,g)}function qu(n,s,l,h,g,_){Up(n,s);var T=(s.flags&128)!==0;if(!h&&!T)return g&&Wf(s,l,!1),$r(n,s,_);h=s.stateNode,Hb.current=s;var L=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,n!==null&&T?(s.child=bi(s,n.child,null,_),s.child=bi(s,null,L,_)):Ut(n,s,L,_),s.memoizedState=h.state,g&&Wf(s,l,!0),s.child}function $p(n){var s=n.stateNode;s.pendingContext?Kf(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Kf(n,s.context,!1),Au(n,s.containerInfo)}function Vp(n,s,l,h,g){return _i(),bu(g),s.flags|=256,Ut(n,s,l,h),s.child}var Wu={dehydrated:null,treeContext:null,retryLane:0};function Gu(n){return{baseLanes:n,cachePool:null,transitions:null}}function Kp(n,s,l){var h=s.pendingProps,g=lt.current,_=!1,T=(s.flags&128)!==0,L;if((L=T)||(L=n!==null&&n.memoizedState===null?!1:(g&2)!==0),L?(_=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(g|=1),Ze(lt,g&1),n===null)return _u(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=h.children,n=h.fallback,_?(h=s.mode,_=s.child,T={mode:"hidden",children:T},(h&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=T):_=_o(T,h,0,null),n=Kn(n,h,l,null),_.return=s,n.return=s,_.sibling=n,s.child=_,s.child.memoizedState=Gu(l),s.memoizedState=Wu,n):Hu(s,T));if(g=n.memoizedState,g!==null&&(L=g.dehydrated,L!==null))return Yb(n,s,T,h,L,g,l);if(_){_=h.fallback,T=s.mode,g=n.child,L=g.sibling;var B={mode:"hidden",children:h.children};return(T&1)===0&&s.child!==g?(h=s.child,h.childLanes=0,h.pendingProps=B,s.deletions=null):(h=wn(g,B),h.subtreeFlags=g.subtreeFlags&14680064),L!==null?_=wn(L,_):(_=Kn(_,T,l,null),_.flags|=2),_.return=s,h.return=s,h.sibling=_,s.child=h,h=_,_=s.child,T=n.child.memoizedState,T=T===null?Gu(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},_.memoizedState=T,_.childLanes=n.childLanes&~l,s.memoizedState=Wu,h}return _=n.child,n=_.sibling,h=wn(_,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,n!==null&&(l=s.deletions,l===null?(s.deletions=[n],s.flags|=16):l.push(n)),s.child=h,s.memoizedState=null,h}function Hu(n,s){return s=_o({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function ao(n,s,l,h){return h!==null&&bu(h),bi(s,n.child,null,l),n=Hu(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Yb(n,s,l,h,g,_,T){if(l)return s.flags&256?(s.flags&=-257,h=$u(Error(r(422))),ao(n,s,T,h)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(_=h.fallback,g=s.mode,h=_o({mode:"visible",children:h.children},g,0,null),_=Kn(_,g,T,null),_.flags|=2,h.return=s,_.return=s,h.sibling=_,s.child=h,(s.mode&1)!==0&&bi(s,n.child,null,T),s.child.memoizedState=Gu(T),s.memoizedState=Wu,_);if((s.mode&1)===0)return ao(n,s,T,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var L=h.dgst;return h=L,_=Error(r(419)),h=$u(_,h,void 0),ao(n,s,T,h)}if(L=(T&n.childLanes)!==0,Kt||L){if(h=Ct,h!==null){switch(T&-T){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|T))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,Ur(n,g),yr(h,n,g,-1))}return cc(),h=$u(Error(r(421))),ao(n,s,T,h)}return g.data==="$?"?(s.flags|=128,s.child=n.child,s=lx.bind(null,n),g._reactRetry=s,null):(n=_.treeContext,Xt=ln(g.nextSibling),Qt=s,it=!0,fr=null,n!==null&&(nr[ir++]=zr,nr[ir++]=Br,nr[ir++]=Dn,zr=n.id,Br=n.overflow,Dn=s),s=Hu(s,h.children),s.flags|=4096,s)}function qp(n,s,l){n.lanes|=s;var h=n.alternate;h!==null&&(h.lanes|=s),Eu(n.return,s,l)}function Yu(n,s,l,h,g){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=l,_.tailMode=g)}function Wp(n,s,l){var h=s.pendingProps,g=h.revealOrder,_=h.tail;if(Ut(n,s,h.children,l),h=lt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&qp(n,l,s);else if(n.tag===19)qp(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}if(Ze(lt,h),(s.mode&1)===0)s.memoizedState=null;else switch(g){case"forwards":for(l=s.child,g=null;l!==null;)n=l.alternate,n!==null&&Za(n)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),Yu(s,!1,g,l,_);break;case"backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(n=g.alternate,n!==null&&Za(n)===null){s.child=g;break}n=g.sibling,g.sibling=l,l=g,g=n}Yu(s,!0,l,null,_);break;case"together":Yu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function oo(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function $r(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),Un|=s.lanes,(l&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,l=wn(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=wn(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function Jb(n,s,l){switch(s.tag){case 3:$p(s),_i();break;case 5:ap(s);break;case 1:Vt(s.type)&&Va(s);break;case 4:Au(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,g=s.memoizedProps.value;Ze(Ya,h._currentValue),h._currentValue=g;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ze(lt,lt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Kp(n,s,l):(Ze(lt,lt.current&1),n=$r(n,s,l),n!==null?n.sibling:null);Ze(lt,lt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(n.flags&128)!==0){if(h)return Wp(n,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ze(lt,lt.current),h)break;return null;case 22:case 23:return s.lanes=0,Bp(n,s,l)}return $r(n,s,l)}var Gp,Ju,Hp,Yp;Gp=function(n,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Ju=function(){},Hp=function(n,s,l,h){var g=n.memoizedProps;if(g!==h){n=s.stateNode,zn(Er.current);var _=null;switch(l){case"input":g=St(n,g),h=St(n,h),_=[];break;case"select":g=me({},g,{value:void 0}),h=me({},h,{value:void 0}),_=[];break;case"textarea":g=A(n,g),h=A(n,h),_=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(n.onclick=Ua)}xr(l,h);var T;l=null;for(X in g)if(!h.hasOwnProperty(X)&&g.hasOwnProperty(X)&&g[X]!=null)if(X==="style"){var L=g[X];for(T in L)L.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(a.hasOwnProperty(X)?_||(_=[]):(_=_||[]).push(X,null));for(X in h){var B=h[X];if(L=g!=null?g[X]:void 0,h.hasOwnProperty(X)&&B!==L&&(B!=null||L!=null))if(X==="style")if(L){for(T in L)!L.hasOwnProperty(T)||B&&B.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in B)B.hasOwnProperty(T)&&L[T]!==B[T]&&(l||(l={}),l[T]=B[T])}else l||(_||(_=[]),_.push(X,l)),l=B;else X==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,L=L?L.__html:void 0,B!=null&&L!==B&&(_=_||[]).push(X,B)):X==="children"?typeof B!="string"&&typeof B!="number"||(_=_||[]).push(X,""+B):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(a.hasOwnProperty(X)?(B!=null&&X==="onScroll"&&tt("scroll",n),_||L===B||(_=[])):(_=_||[]).push(X,B))}l&&(_=_||[]).push("style",l);var X=_;(s.updateQueue=X)&&(s.flags|=4)}},Yp=function(n,s,l,h){l!==h&&(s.flags|=4)};function Rs(n,s){if(!it)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function Dt(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,h=0;if(s)for(var g=n.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=h,n.childLanes=l,s}function Qb(n,s,l){var h=s.pendingProps;switch(vu(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(s),null;case 1:return Vt(s.type)&&$a(),Dt(s),null;case 3:return h=s.stateNode,Si(),rt($t),rt(Nt),Ru(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(n===null||n.child===null)&&(Ga(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,fr!==null&&(oc(fr),fr=null))),Ju(n,s),Dt(s),null;case 5:Pu(s);var g=zn(Cs.current);if(l=s.type,n!==null&&s.stateNode!=null)Hp(n,s,l,h,g),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Dt(s),null}if(n=zn(Er.current),Ga(s)){h=s.stateNode,l=s.type;var _=s.memoizedProps;switch(h[Sr]=s,h[bs]=_,n=(s.mode&1)!==0,l){case"dialog":tt("cancel",h),tt("close",h);break;case"iframe":case"object":case"embed":tt("load",h);break;case"video":case"audio":for(g=0;g<vs.length;g++)tt(vs[g],h);break;case"source":tt("error",h);break;case"img":case"image":case"link":tt("error",h),tt("load",h);break;case"details":tt("toggle",h);break;case"input":Y(h,_),tt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!_.multiple},tt("invalid",h);break;case"textarea":U(h,_),tt("invalid",h)}xr(l,_),g=null;for(var T in _)if(_.hasOwnProperty(T)){var L=_[T];T==="children"?typeof L=="string"?h.textContent!==L&&(_.suppressHydrationWarning!==!0&&Ba(h.textContent,L,n),g=["children",L]):typeof L=="number"&&h.textContent!==""+L&&(_.suppressHydrationWarning!==!0&&Ba(h.textContent,L,n),g=["children",""+L]):a.hasOwnProperty(T)&&L!=null&&T==="onScroll"&&tt("scroll",h)}switch(l){case"input":kt(h),Ae(h,_,!0);break;case"textarea":kt(h),te(h);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(h.onclick=Ua)}h=g,s.updateQueue=h,h!==null&&(s.flags|=4)}else{T=g.nodeType===9?g:g.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ee(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=T.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof h.is=="string"?n=T.createElement(l,{is:h.is}):(n=T.createElement(l),l==="select"&&(T=n,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):n=T.createElementNS(n,l),n[Sr]=s,n[bs]=h,Gp(n,s,!1,!1),s.stateNode=n;e:{switch(T=Rl(l,h),l){case"dialog":tt("cancel",n),tt("close",n),g=h;break;case"iframe":case"object":case"embed":tt("load",n),g=h;break;case"video":case"audio":for(g=0;g<vs.length;g++)tt(vs[g],n);g=h;break;case"source":tt("error",n),g=h;break;case"img":case"image":case"link":tt("error",n),tt("load",n),g=h;break;case"details":tt("toggle",n),g=h;break;case"input":Y(n,h),g=St(n,h),tt("invalid",n);break;case"option":g=h;break;case"select":n._wrapperState={wasMultiple:!!h.multiple},g=me({},h,{value:void 0}),tt("invalid",n);break;case"textarea":U(n,h),g=A(n,h),tt("invalid",n);break;default:g=h}xr(l,g),L=g;for(_ in L)if(L.hasOwnProperty(_)){var B=L[_];_==="style"?Zr(n,B):_==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Ve(n,B)):_==="children"?typeof B=="string"?(l!=="textarea"||B!=="")&&Ue(n,B):typeof B=="number"&&Ue(n,""+B):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(a.hasOwnProperty(_)?B!=null&&_==="onScroll"&&tt("scroll",n):B!=null&&S(n,_,B,T))}switch(l){case"input":kt(n),Ae(n,h,!1);break;case"textarea":kt(n),te(n);break;case"option":h.value!=null&&n.setAttribute("value",""+Me(h.value));break;case"select":n.multiple=!!h.multiple,_=h.value,_!=null?k(n,!!h.multiple,_,!1):h.defaultValue!=null&&k(n,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(n.onclick=Ua)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Dt(s),null;case 6:if(n&&s.stateNode!=null)Yp(n,s,n.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(l=zn(Cs.current),zn(Er.current),Ga(s)){if(h=s.stateNode,l=s.memoizedProps,h[Sr]=s,(_=h.nodeValue!==l)&&(n=Qt,n!==null))switch(n.tag){case 3:Ba(h.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ba(h.nodeValue,l,(n.mode&1)!==0)}_&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Sr]=s,s.stateNode=h}return Dt(s),null;case 13:if(rt(lt),h=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(it&&Xt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Xf(),_i(),s.flags|=98560,_=!1;else if(_=Ga(s),h!==null&&h.dehydrated!==null){if(n===null){if(!_)throw Error(r(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Sr]=s}else _i(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Dt(s),_=!1}else fr!==null&&(oc(fr),fr=null),_=!0;if(!_)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(n!==null&&n.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(lt.current&1)!==0?xt===0&&(xt=3):cc())),s.updateQueue!==null&&(s.flags|=4),Dt(s),null);case 4:return Si(),Ju(n,s),n===null&&ws(s.stateNode.containerInfo),Dt(s),null;case 10:return Su(s.type._context),Dt(s),null;case 17:return Vt(s.type)&&$a(),Dt(s),null;case 19:if(rt(lt),_=s.memoizedState,_===null)return Dt(s),null;if(h=(s.flags&128)!==0,T=_.rendering,T===null)if(h)Rs(_,!1);else{if(xt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(T=Za(n),T!==null){for(s.flags|=128,Rs(_,!1),h=T.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)_=l,n=h,_.flags&=14680066,T=_.alternate,T===null?(_.childLanes=0,_.lanes=n,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=T.childLanes,_.lanes=T.lanes,_.child=T.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=T.memoizedProps,_.memoizedState=T.memoizedState,_.updateQueue=T.updateQueue,_.type=T.type,n=T.dependencies,_.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return Ze(lt,lt.current&1|2),s.child}n=n.sibling}_.tail!==null&&pt()>Ai&&(s.flags|=128,h=!0,Rs(_,!1),s.lanes=4194304)}else{if(!h)if(n=Za(T),n!==null){if(s.flags|=128,h=!0,l=n.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Rs(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!it)return Dt(s),null}else 2*pt()-_.renderingStartTime>Ai&&l!==1073741824&&(s.flags|=128,h=!0,Rs(_,!1),s.lanes=4194304);_.isBackwards?(T.sibling=s.child,s.child=T):(l=_.last,l!==null?l.sibling=T:s.child=T,_.last=T)}return _.tail!==null?(s=_.tail,_.rendering=s,_.tail=s.sibling,_.renderingStartTime=pt(),s.sibling=null,l=lt.current,Ze(lt,h?l&1|2:l&1),s):(Dt(s),null);case 22:case 23:return uc(),h=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(Zt&1073741824)!==0&&(Dt(s),s.subtreeFlags&6&&(s.flags|=8192)):Dt(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function Xb(n,s){switch(vu(s),s.tag){case 1:return Vt(s.type)&&$a(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Si(),rt($t),rt(Nt),Ru(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return Pu(s),null;case 13:if(rt(lt),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));_i()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return rt(lt),null;case 4:return Si(),null;case 10:return Su(s.type._context),null;case 22:case 23:return uc(),null;case 24:return null;default:return null}}var lo=!1,Lt=!1,Zb=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Ci(n,s){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){dt(n,s,h)}else l.current=null}function Qu(n,s,l){try{l()}catch(h){dt(n,s,h)}}var Jp=!1;function ex(n,s){if(uu=Aa,n=Af(),tu(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var T=0,L=-1,B=-1,X=0,le=0,de=n,ae=null;t:for(;;){for(var ye;de!==l||g!==0&&de.nodeType!==3||(L=T+g),de!==_||h!==0&&de.nodeType!==3||(B=T+h),de.nodeType===3&&(T+=de.nodeValue.length),(ye=de.firstChild)!==null;)ae=de,de=ye;for(;;){if(de===n)break t;if(ae===l&&++X===g&&(L=T),ae===_&&++le===h&&(B=T),(ye=de.nextSibling)!==null)break;de=ae,ae=de.parentNode}de=ye}l=L===-1||B===-1?null:{start:L,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(cu={focusedElem:n,selectionRange:l},Aa=!1,ve=s;ve!==null;)if(s=ve,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,ve=n;else for(;ve!==null;){s=ve;try{var be=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var Se=be.memoizedProps,mt=be.memoizedState,H=s.stateNode,$=H.getSnapshotBeforeUpdate(s.elementType===s.type?Se:pr(s.type,Se),mt);H.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var J=s.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(pe){dt(s,s.return,pe)}if(n=s.sibling,n!==null){n.return=s.return,ve=n;break}ve=s.return}return be=Jp,Jp=!1,be}function Os(n,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&n)===n){var _=g.destroy;g.destroy=void 0,_!==void 0&&Qu(s,l,_)}g=g.next}while(g!==h)}}function uo(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&n)===n){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function Xu(n){var s=n.ref;if(s!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof s=="function"?s(n):s.current=n}}function Qp(n){var s=n.alternate;s!==null&&(n.alternate=null,Qp(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Sr],delete s[bs],delete s[pu],delete s[Lb],delete s[Mb])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Xp(n){return n.tag===5||n.tag===3||n.tag===4}function Zp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Xp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Zu(n,s,l){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(n,s):l.insertBefore(n,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(n,l)):(s=l,s.appendChild(n)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ua));else if(h!==4&&(n=n.child,n!==null))for(Zu(n,s,l),n=n.sibling;n!==null;)Zu(n,s,l),n=n.sibling}function ec(n,s,l){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(h!==4&&(n=n.child,n!==null))for(ec(n,s,l),n=n.sibling;n!==null;)ec(n,s,l),n=n.sibling}var At=null,mr=!1;function pn(n,s,l){for(l=l.child;l!==null;)em(n,s,l),l=l.sibling}function em(n,s,l){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(xa,l)}catch{}switch(l.tag){case 5:Lt||Ci(l,s);case 6:var h=At,g=mr;At=null,pn(n,s,l),At=h,mr=g,At!==null&&(mr?(n=At,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):At.removeChild(l.stateNode));break;case 18:At!==null&&(mr?(n=At,l=l.stateNode,n.nodeType===8?fu(n.parentNode,l):n.nodeType===1&&fu(n,l),cs(n)):fu(At,l.stateNode));break;case 4:h=At,g=mr,At=l.stateNode.containerInfo,mr=!0,pn(n,s,l),At=h,mr=g;break;case 0:case 11:case 14:case 15:if(!Lt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var _=g,T=_.destroy;_=_.tag,T!==void 0&&((_&2)!==0||(_&4)!==0)&&Qu(l,s,T),g=g.next}while(g!==h)}pn(n,s,l);break;case 1:if(!Lt&&(Ci(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(L){dt(l,s,L)}pn(n,s,l);break;case 21:pn(n,s,l);break;case 22:l.mode&1?(Lt=(h=Lt)||l.memoizedState!==null,pn(n,s,l),Lt=h):pn(n,s,l);break;default:pn(n,s,l)}}function tm(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new Zb),s.forEach(function(h){var g=ux.bind(null,n,h);l.has(h)||(l.add(h),h.then(g,g))})}}function gr(n,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h];try{var _=n,T=s,L=T;e:for(;L!==null;){switch(L.tag){case 5:At=L.stateNode,mr=!1;break e;case 3:At=L.stateNode.containerInfo,mr=!0;break e;case 4:At=L.stateNode.containerInfo,mr=!0;break e}L=L.return}if(At===null)throw Error(r(160));em(_,T,g),At=null,mr=!1;var B=g.alternate;B!==null&&(B.return=null),g.return=null}catch(X){dt(g,s,X)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)rm(s,n),s=s.sibling}function rm(n,s){var l=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(gr(s,n),Tr(n),h&4){try{Os(3,n,n.return),uo(3,n)}catch(Se){dt(n,n.return,Se)}try{Os(5,n,n.return)}catch(Se){dt(n,n.return,Se)}}break;case 1:gr(s,n),Tr(n),h&512&&l!==null&&Ci(l,l.return);break;case 5:if(gr(s,n),Tr(n),h&512&&l!==null&&Ci(l,l.return),n.flags&32){var g=n.stateNode;try{Ue(g,"")}catch(Se){dt(n,n.return,Se)}}if(h&4&&(g=n.stateNode,g!=null)){var _=n.memoizedProps,T=l!==null?l.memoizedProps:_,L=n.type,B=n.updateQueue;if(n.updateQueue=null,B!==null)try{L==="input"&&_.type==="radio"&&_.name!=null&&ee(g,_),Rl(L,T);var X=Rl(L,_);for(T=0;T<B.length;T+=2){var le=B[T],de=B[T+1];le==="style"?Zr(g,de):le==="dangerouslySetInnerHTML"?Ve(g,de):le==="children"?Ue(g,de):S(g,le,de,X)}switch(L){case"input":fe(g,_);break;case"textarea":q(g,_);break;case"select":var ae=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var ye=_.value;ye!=null?k(g,!!_.multiple,ye,!1):ae!==!!_.multiple&&(_.defaultValue!=null?k(g,!!_.multiple,_.defaultValue,!0):k(g,!!_.multiple,_.multiple?[]:"",!1))}g[bs]=_}catch(Se){dt(n,n.return,Se)}}break;case 6:if(gr(s,n),Tr(n),h&4){if(n.stateNode===null)throw Error(r(162));g=n.stateNode,_=n.memoizedProps;try{g.nodeValue=_}catch(Se){dt(n,n.return,Se)}}break;case 3:if(gr(s,n),Tr(n),h&4&&l!==null&&l.memoizedState.isDehydrated)try{cs(s.containerInfo)}catch(Se){dt(n,n.return,Se)}break;case 4:gr(s,n),Tr(n);break;case 13:gr(s,n),Tr(n),g=n.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(nc=pt())),h&4&&tm(n);break;case 22:if(le=l!==null&&l.memoizedState!==null,n.mode&1?(Lt=(X=Lt)||le,gr(s,n),Lt=X):gr(s,n),Tr(n),h&8192){if(X=n.memoizedState!==null,(n.stateNode.isHidden=X)&&!le&&(n.mode&1)!==0)for(ve=n,le=n.child;le!==null;){for(de=ve=le;ve!==null;){switch(ae=ve,ye=ae.child,ae.tag){case 0:case 11:case 14:case 15:Os(4,ae,ae.return);break;case 1:Ci(ae,ae.return);var be=ae.stateNode;if(typeof be.componentWillUnmount=="function"){h=ae,l=ae.return;try{s=h,be.props=s.memoizedProps,be.state=s.memoizedState,be.componentWillUnmount()}catch(Se){dt(h,l,Se)}}break;case 5:Ci(ae,ae.return);break;case 22:if(ae.memoizedState!==null){sm(de);continue}}ye!==null?(ye.return=ae,ve=ye):sm(de)}le=le.sibling}e:for(le=null,de=n;;){if(de.tag===5){if(le===null){le=de;try{g=de.stateNode,X?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(L=de.stateNode,B=de.memoizedProps.style,T=B!=null&&B.hasOwnProperty("display")?B.display:null,L.style.display=Dr("display",T))}catch(Se){dt(n,n.return,Se)}}}else if(de.tag===6){if(le===null)try{de.stateNode.nodeValue=X?"":de.memoizedProps}catch(Se){dt(n,n.return,Se)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===n)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===n)break e;for(;de.sibling===null;){if(de.return===null||de.return===n)break e;le===de&&(le=null),de=de.return}le===de&&(le=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:gr(s,n),Tr(n),h&4&&tm(n);break;case 21:break;default:gr(s,n),Tr(n)}}function Tr(n){var s=n.flags;if(s&2){try{e:{for(var l=n.return;l!==null;){if(Xp(l)){var h=l;break e}l=l.return}throw Error(r(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Ue(g,""),h.flags&=-33);var _=Zp(n);ec(n,_,g);break;case 3:case 4:var T=h.stateNode.containerInfo,L=Zp(n);Zu(n,L,T);break;default:throw Error(r(161))}}catch(B){dt(n,n.return,B)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function tx(n,s,l){ve=n,nm(n)}function nm(n,s,l){for(var h=(n.mode&1)!==0;ve!==null;){var g=ve,_=g.child;if(g.tag===22&&h){var T=g.memoizedState!==null||lo;if(!T){var L=g.alternate,B=L!==null&&L.memoizedState!==null||Lt;L=lo;var X=Lt;if(lo=T,(Lt=B)&&!X)for(ve=g;ve!==null;)T=ve,B=T.child,T.tag===22&&T.memoizedState!==null?am(g):B!==null?(B.return=T,ve=B):am(g);for(;_!==null;)ve=_,nm(_),_=_.sibling;ve=g,lo=L,Lt=X}im(n)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,ve=_):im(n)}}function im(n){for(;ve!==null;){var s=ve;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Lt||uo(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Lt)if(l===null)h.componentDidMount();else{var g=s.elementType===s.type?l.memoizedProps:pr(s.type,l.memoizedProps);h.componentDidUpdate(g,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var _=s.updateQueue;_!==null&&sp(s,_,h);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}sp(s,T,l)}break;case 5:var L=s.stateNode;if(l===null&&s.flags&4){l=L;var B=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&l.focus();break;case"img":B.src&&(l.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var X=s.alternate;if(X!==null){var le=X.memoizedState;if(le!==null){var de=le.dehydrated;de!==null&&cs(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Lt||s.flags&512&&Xu(s)}catch(ae){dt(s,s.return,ae)}}if(s===n){ve=null;break}if(l=s.sibling,l!==null){l.return=s.return,ve=l;break}ve=s.return}}function sm(n){for(;ve!==null;){var s=ve;if(s===n){ve=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ve=l;break}ve=s.return}}function am(n){for(;ve!==null;){var s=ve;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{uo(4,s)}catch(B){dt(s,l,B)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var g=s.return;try{h.componentDidMount()}catch(B){dt(s,g,B)}}var _=s.return;try{Xu(s)}catch(B){dt(s,_,B)}break;case 5:var T=s.return;try{Xu(s)}catch(B){dt(s,T,B)}}}catch(B){dt(s,s.return,B)}if(s===n){ve=null;break}var L=s.sibling;if(L!==null){L.return=s.return,ve=L;break}ve=s.return}}var rx=Math.ceil,co=j.ReactCurrentDispatcher,tc=j.ReactCurrentOwner,or=j.ReactCurrentBatchConfig,Ge=0,Ct=null,vt=null,Pt=0,Zt=0,Ti=un(0),xt=0,Ns=null,Un=0,ho=0,rc=0,Is=null,qt=null,nc=0,Ai=1/0,Vr=null,fo=!1,ic=null,mn=null,po=!1,gn=null,mo=0,Ds=0,sc=null,go=-1,yo=0;function Ft(){return(Ge&6)!==0?pt():go!==-1?go:go=pt()}function yn(n){return(n.mode&1)===0?1:(Ge&2)!==0&&Pt!==0?Pt&-Pt:Bb.transition!==null?(yo===0&&(yo=Xh()),yo):(n=Qe,n!==0||(n=window.event,n=n===void 0?16:lf(n.type)),n)}function yr(n,s,l,h){if(50<Ds)throw Ds=0,sc=null,Error(r(185));ss(n,l,h),((Ge&2)===0||n!==Ct)&&(n===Ct&&((Ge&2)===0&&(ho|=l),xt===4&&vn(n,Pt)),Wt(n,h),l===1&&Ge===0&&(s.mode&1)===0&&(Ai=pt()+500,Ka&&dn()))}function Wt(n,s){var l=n.callbackNode;B_(n,s);var h=Ea(n,n===Ct?Pt:0);if(h===0)l!==null&&Yh(l),n.callbackNode=null,n.callbackPriority=0;else if(s=h&-h,n.callbackPriority!==s){if(l!=null&&Yh(l),s===1)n.tag===0?zb(lm.bind(null,n)):Gf(lm.bind(null,n)),Ib(function(){(Ge&6)===0&&dn()}),l=null;else{switch(Zh(h)){case 1:l=zl;break;case 4:l=Jh;break;case 16:l=ba;break;case 536870912:l=Qh;break;default:l=ba}l=gm(l,om.bind(null,n))}n.callbackPriority=s,n.callbackNode=l}}function om(n,s){if(go=-1,yo=0,(Ge&6)!==0)throw Error(r(327));var l=n.callbackNode;if(Pi()&&n.callbackNode!==l)return null;var h=Ea(n,n===Ct?Pt:0);if(h===0)return null;if((h&30)!==0||(h&n.expiredLanes)!==0||s)s=vo(n,h);else{s=h;var g=Ge;Ge|=2;var _=cm();(Ct!==n||Pt!==s)&&(Vr=null,Ai=pt()+500,$n(n,s));do try{sx();break}catch(L){um(n,L)}while(!0);ku(),co.current=_,Ge=g,vt!==null?s=0:(Ct=null,Pt=0,s=xt)}if(s!==0){if(s===2&&(g=Bl(n),g!==0&&(h=g,s=ac(n,g))),s===1)throw l=Ns,$n(n,0),vn(n,h),Wt(n,pt()),l;if(s===6)vn(n,h);else{if(g=n.current.alternate,(h&30)===0&&!nx(g)&&(s=vo(n,h),s===2&&(_=Bl(n),_!==0&&(h=_,s=ac(n,_))),s===1))throw l=Ns,$n(n,0),vn(n,h),Wt(n,pt()),l;switch(n.finishedWork=g,n.finishedLanes=h,s){case 0:case 1:throw Error(r(345));case 2:Vn(n,qt,Vr);break;case 3:if(vn(n,h),(h&130023424)===h&&(s=nc+500-pt(),10<s)){if(Ea(n,0)!==0)break;if(g=n.suspendedLanes,(g&h)!==h){Ft(),n.pingedLanes|=n.suspendedLanes&g;break}n.timeoutHandle=hu(Vn.bind(null,n,qt,Vr),s);break}Vn(n,qt,Vr);break;case 4:if(vn(n,h),(h&4194240)===h)break;for(s=n.eventTimes,g=-1;0<h;){var T=31-dr(h);_=1<<T,T=s[T],T>g&&(g=T),h&=~_}if(h=g,h=pt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*rx(h/1960))-h,10<h){n.timeoutHandle=hu(Vn.bind(null,n,qt,Vr),h);break}Vn(n,qt,Vr);break;case 5:Vn(n,qt,Vr);break;default:throw Error(r(329))}}}return Wt(n,pt()),n.callbackNode===l?om.bind(null,n):null}function ac(n,s){var l=Is;return n.current.memoizedState.isDehydrated&&($n(n,s).flags|=256),n=vo(n,s),n!==2&&(s=qt,qt=l,s!==null&&oc(s)),n}function oc(n){qt===null?qt=n:qt.push.apply(qt,n)}function nx(n){for(var s=n;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var g=l[h],_=g.getSnapshot;g=g.value;try{if(!hr(_(),g))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function vn(n,s){for(s&=~rc,s&=~ho,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var l=31-dr(s),h=1<<l;n[l]=-1,s&=~h}}function lm(n){if((Ge&6)!==0)throw Error(r(327));Pi();var s=Ea(n,0);if((s&1)===0)return Wt(n,pt()),null;var l=vo(n,s);if(n.tag!==0&&l===2){var h=Bl(n);h!==0&&(s=h,l=ac(n,h))}if(l===1)throw l=Ns,$n(n,0),vn(n,s),Wt(n,pt()),l;if(l===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Vn(n,qt,Vr),Wt(n,pt()),null}function lc(n,s){var l=Ge;Ge|=1;try{return n(s)}finally{Ge=l,Ge===0&&(Ai=pt()+500,Ka&&dn())}}function Fn(n){gn!==null&&gn.tag===0&&(Ge&6)===0&&Pi();var s=Ge;Ge|=1;var l=or.transition,h=Qe;try{if(or.transition=null,Qe=1,n)return n()}finally{Qe=h,or.transition=l,Ge=s,(Ge&6)===0&&dn()}}function uc(){Zt=Ti.current,rt(Ti)}function $n(n,s){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,Nb(l)),vt!==null)for(l=vt.return;l!==null;){var h=l;switch(vu(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&$a();break;case 3:Si(),rt($t),rt(Nt),Ru();break;case 5:Pu(h);break;case 4:Si();break;case 13:rt(lt);break;case 19:rt(lt);break;case 10:Su(h.type._context);break;case 22:case 23:uc()}l=l.return}if(Ct=n,vt=n=wn(n.current,null),Pt=Zt=s,xt=0,Ns=null,rc=ho=Un=0,qt=Is=null,Mn!==null){for(s=0;s<Mn.length;s++)if(l=Mn[s],h=l.interleaved,h!==null){l.interleaved=null;var g=h.next,_=l.pending;if(_!==null){var T=_.next;_.next=g,h.next=T}l.pending=h}Mn=null}return n}function um(n,s){do{var l=vt;try{if(ku(),eo.current=io,to){for(var h=ut.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}to=!1}if(Bn=0,Et=bt=ut=null,Ts=!1,As=0,tc.current=null,l===null||l.return===null){xt=1,Ns=s,vt=null;break}e:{var _=n,T=l.return,L=l,B=s;if(s=Pt,L.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var X=B,le=L,de=le.tag;if((le.mode&1)===0&&(de===0||de===11||de===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var ye=Ip(T);if(ye!==null){ye.flags&=-257,Dp(ye,T,L,_,s),ye.mode&1&&Np(_,X,s),s=ye,B=X;var be=s.updateQueue;if(be===null){var Se=new Set;Se.add(B),s.updateQueue=Se}else be.add(B);break e}else{if((s&1)===0){Np(_,X,s),cc();break e}B=Error(r(426))}}else if(it&&L.mode&1){var mt=Ip(T);if(mt!==null){(mt.flags&65536)===0&&(mt.flags|=256),Dp(mt,T,L,_,s),bu(Ei(B,L));break e}}_=B=Ei(B,L),xt!==4&&(xt=2),Is===null?Is=[_]:Is.push(_),_=T;do{switch(_.tag){case 3:_.flags|=65536,s&=-s,_.lanes|=s;var H=Rp(_,B,s);ip(_,H);break e;case 1:L=B;var $=_.type,J=_.stateNode;if((_.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(mn===null||!mn.has(J)))){_.flags|=65536,s&=-s,_.lanes|=s;var pe=Op(_,L,s);ip(_,pe);break e}}_=_.return}while(_!==null)}hm(l)}catch(Ce){s=Ce,vt===l&&l!==null&&(vt=l=l.return);continue}break}while(!0)}function cm(){var n=co.current;return co.current=io,n===null?io:n}function cc(){(xt===0||xt===3||xt===2)&&(xt=4),Ct===null||(Un&268435455)===0&&(ho&268435455)===0||vn(Ct,Pt)}function vo(n,s){var l=Ge;Ge|=2;var h=cm();(Ct!==n||Pt!==s)&&(Vr=null,$n(n,s));do try{ix();break}catch(g){um(n,g)}while(!0);if(ku(),Ge=l,co.current=h,vt!==null)throw Error(r(261));return Ct=null,Pt=0,xt}function ix(){for(;vt!==null;)dm(vt)}function sx(){for(;vt!==null&&!j_();)dm(vt)}function dm(n){var s=mm(n.alternate,n,Zt);n.memoizedProps=n.pendingProps,s===null?hm(n):vt=s,tc.current=null}function hm(n){var s=n;do{var l=s.alternate;if(n=s.return,(s.flags&32768)===0){if(l=Qb(l,s,Zt),l!==null){vt=l;return}}else{if(l=Xb(l,s),l!==null){l.flags&=32767,vt=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{xt=6,vt=null;return}}if(s=s.sibling,s!==null){vt=s;return}vt=s=n}while(s!==null);xt===0&&(xt=5)}function Vn(n,s,l){var h=Qe,g=or.transition;try{or.transition=null,Qe=1,ax(n,s,l,h)}finally{or.transition=g,Qe=h}return null}function ax(n,s,l,h){do Pi();while(gn!==null);if((Ge&6)!==0)throw Error(r(327));l=n.finishedWork;var g=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var _=l.lanes|l.childLanes;if(U_(n,_),n===Ct&&(vt=Ct=null,Pt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||po||(po=!0,gm(ba,function(){return Pi(),null})),_=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||_){_=or.transition,or.transition=null;var T=Qe;Qe=1;var L=Ge;Ge|=4,tc.current=null,ex(n,l),rm(l,n),Cb(cu),Aa=!!uu,cu=uu=null,n.current=l,tx(l),R_(),Ge=L,Qe=T,or.transition=_}else n.current=l;if(po&&(po=!1,gn=n,mo=g),_=n.pendingLanes,_===0&&(mn=null),I_(l.stateNode),Wt(n,pt()),s!==null)for(h=n.onRecoverableError,l=0;l<s.length;l++)g=s[l],h(g.value,{componentStack:g.stack,digest:g.digest});if(fo)throw fo=!1,n=ic,ic=null,n;return(mo&1)!==0&&n.tag!==0&&Pi(),_=n.pendingLanes,(_&1)!==0?n===sc?Ds++:(Ds=0,sc=n):Ds=0,dn(),null}function Pi(){if(gn!==null){var n=Zh(mo),s=or.transition,l=Qe;try{if(or.transition=null,Qe=16>n?16:n,gn===null)var h=!1;else{if(n=gn,gn=null,mo=0,(Ge&6)!==0)throw Error(r(331));var g=Ge;for(Ge|=4,ve=n.current;ve!==null;){var _=ve,T=_.child;if((ve.flags&16)!==0){var L=_.deletions;if(L!==null){for(var B=0;B<L.length;B++){var X=L[B];for(ve=X;ve!==null;){var le=ve;switch(le.tag){case 0:case 11:case 15:Os(8,le,_)}var de=le.child;if(de!==null)de.return=le,ve=de;else for(;ve!==null;){le=ve;var ae=le.sibling,ye=le.return;if(Qp(le),le===X){ve=null;break}if(ae!==null){ae.return=ye,ve=ae;break}ve=ye}}}var be=_.alternate;if(be!==null){var Se=be.child;if(Se!==null){be.child=null;do{var mt=Se.sibling;Se.sibling=null,Se=mt}while(Se!==null)}}ve=_}}if((_.subtreeFlags&2064)!==0&&T!==null)T.return=_,ve=T;else e:for(;ve!==null;){if(_=ve,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Os(9,_,_.return)}var H=_.sibling;if(H!==null){H.return=_.return,ve=H;break e}ve=_.return}}var $=n.current;for(ve=$;ve!==null;){T=ve;var J=T.child;if((T.subtreeFlags&2064)!==0&&J!==null)J.return=T,ve=J;else e:for(T=$;ve!==null;){if(L=ve,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:uo(9,L)}}catch(Ce){dt(L,L.return,Ce)}if(L===T){ve=null;break e}var pe=L.sibling;if(pe!==null){pe.return=L.return,ve=pe;break e}ve=L.return}}if(Ge=g,dn(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(xa,n)}catch{}h=!0}return h}finally{Qe=l,or.transition=s}}return!1}function fm(n,s,l){s=Ei(l,s),s=Rp(n,s,1),n=fn(n,s,1),s=Ft(),n!==null&&(ss(n,1,s),Wt(n,s))}function dt(n,s,l){if(n.tag===3)fm(n,n,l);else for(;s!==null;){if(s.tag===3){fm(s,n,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(mn===null||!mn.has(h))){n=Ei(l,n),n=Op(s,n,1),s=fn(s,n,1),n=Ft(),s!==null&&(ss(s,1,n),Wt(s,n));break}}s=s.return}}function ox(n,s,l){var h=n.pingCache;h!==null&&h.delete(s),s=Ft(),n.pingedLanes|=n.suspendedLanes&l,Ct===n&&(Pt&l)===l&&(xt===4||xt===3&&(Pt&130023424)===Pt&&500>pt()-nc?$n(n,0):rc|=l),Wt(n,s)}function pm(n,s){s===0&&((n.mode&1)===0?s=1:(s=Sa,Sa<<=1,(Sa&130023424)===0&&(Sa=4194304)));var l=Ft();n=Ur(n,s),n!==null&&(ss(n,s,l),Wt(n,l))}function lx(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),pm(n,l)}function ux(n,s){var l=0;switch(n.tag){case 13:var h=n.stateNode,g=n.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=n.stateNode;break;default:throw Error(r(314))}h!==null&&h.delete(s),pm(n,l)}var mm;mm=function(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps||$t.current)Kt=!0;else{if((n.lanes&l)===0&&(s.flags&128)===0)return Kt=!1,Jb(n,s,l);Kt=(n.flags&131072)!==0}else Kt=!1,it&&(s.flags&1048576)!==0&&Hf(s,Wa,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;oo(n,s),n=s.pendingProps;var g=yi(s,Nt.current);ki(s,l),g=Iu(null,s,h,n,g,l);var _=Du();return s.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Vt(h)?(_=!0,Va(s)):_=!1,s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Tu(s),g.updater=so,s.stateNode=g,g._reactInternals=s,Fu(s,h,n,l),s=qu(null,s,h,!0,_,l)):(s.tag=0,it&&_&&yu(s),Ut(null,s,g,l),s=s.child),s;case 16:h=s.elementType;e:{switch(oo(n,s),n=s.pendingProps,g=h._init,h=g(h._payload),s.type=h,g=s.tag=dx(h),n=pr(h,n),g){case 0:s=Ku(null,s,h,n,l);break e;case 1:s=Fp(null,s,h,n,l);break e;case 11:s=Lp(null,s,h,n,l);break e;case 14:s=Mp(null,s,h,pr(h.type,n),l);break e}throw Error(r(306,h,""))}return s;case 0:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:pr(h,g),Ku(n,s,h,g,l);case 1:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:pr(h,g),Fp(n,s,h,g,l);case 3:e:{if($p(s),n===null)throw Error(r(387));h=s.pendingProps,_=s.memoizedState,g=_.element,np(n,s),Xa(s,h,null,l);var T=s.memoizedState;if(h=T.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){g=Ei(Error(r(423)),s),s=Vp(n,s,h,l,g);break e}else if(h!==g){g=Ei(Error(r(424)),s),s=Vp(n,s,h,l,g);break e}else for(Xt=ln(s.stateNode.containerInfo.firstChild),Qt=s,it=!0,fr=null,l=tp(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(_i(),h===g){s=$r(n,s,l);break e}Ut(n,s,h,l)}s=s.child}return s;case 5:return ap(s),n===null&&_u(s),h=s.type,g=s.pendingProps,_=n!==null?n.memoizedProps:null,T=g.children,du(h,g)?T=null:_!==null&&du(h,_)&&(s.flags|=32),Up(n,s),Ut(n,s,T,l),s.child;case 6:return n===null&&_u(s),null;case 13:return Kp(n,s,l);case 4:return Au(s,s.stateNode.containerInfo),h=s.pendingProps,n===null?s.child=bi(s,null,h,l):Ut(n,s,h,l),s.child;case 11:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:pr(h,g),Lp(n,s,h,g,l);case 7:return Ut(n,s,s.pendingProps,l),s.child;case 8:return Ut(n,s,s.pendingProps.children,l),s.child;case 12:return Ut(n,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,g=s.pendingProps,_=s.memoizedProps,T=g.value,Ze(Ya,h._currentValue),h._currentValue=T,_!==null)if(hr(_.value,T)){if(_.children===g.children&&!$t.current){s=$r(n,s,l);break e}}else for(_=s.child,_!==null&&(_.return=s);_!==null;){var L=_.dependencies;if(L!==null){T=_.child;for(var B=L.firstContext;B!==null;){if(B.context===h){if(_.tag===1){B=Fr(-1,l&-l),B.tag=2;var X=_.updateQueue;if(X!==null){X=X.shared;var le=X.pending;le===null?B.next=B:(B.next=le.next,le.next=B),X.pending=B}}_.lanes|=l,B=_.alternate,B!==null&&(B.lanes|=l),Eu(_.return,l,s),L.lanes|=l;break}B=B.next}}else if(_.tag===10)T=_.type===s.type?null:_.child;else if(_.tag===18){if(T=_.return,T===null)throw Error(r(341));T.lanes|=l,L=T.alternate,L!==null&&(L.lanes|=l),Eu(T,l,s),T=_.sibling}else T=_.child;if(T!==null)T.return=_;else for(T=_;T!==null;){if(T===s){T=null;break}if(_=T.sibling,_!==null){_.return=T.return,T=_;break}T=T.return}_=T}Ut(n,s,g.children,l),s=s.child}return s;case 9:return g=s.type,h=s.pendingProps.children,ki(s,l),g=sr(g),h=h(g),s.flags|=1,Ut(n,s,h,l),s.child;case 14:return h=s.type,g=pr(h,s.pendingProps),g=pr(h.type,g),Mp(n,s,h,g,l);case 15:return zp(n,s,s.type,s.pendingProps,l);case 17:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:pr(h,g),oo(n,s),s.tag=1,Vt(h)?(n=!0,Va(s)):n=!1,ki(s,l),Pp(s,h,g),Fu(s,h,g,l),qu(null,s,h,!0,n,l);case 19:return Wp(n,s,l);case 22:return Bp(n,s,l)}throw Error(r(156,s.tag))};function gm(n,s){return Hh(n,s)}function cx(n,s,l,h){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(n,s,l,h){return new cx(n,s,l,h)}function dc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function dx(n){if(typeof n=="function")return dc(n)?1:0;if(n!=null){if(n=n.$$typeof,n===re)return 11;if(n===Pe)return 14}return 2}function wn(n,s){var l=n.alternate;return l===null?(l=lr(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function wo(n,s,l,h,g,_){var T=2;if(h=n,typeof n=="function")dc(n)&&(T=1);else if(typeof n=="string")T=5;else e:switch(n){case I:return Kn(l.children,g,_,s);case M:T=8,g|=8;break;case Q:return n=lr(12,l,s,g|2),n.elementType=Q,n.lanes=_,n;case ue:return n=lr(13,l,s,g),n.elementType=ue,n.lanes=_,n;case xe:return n=lr(19,l,s,g),n.elementType=xe,n.lanes=_,n;case ke:return _o(l,g,_,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case z:T=10;break e;case K:T=9;break e;case re:T=11;break e;case Pe:T=14;break e;case je:T=16,h=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return s=lr(T,l,s,g),s.elementType=n,s.type=h,s.lanes=_,s}function Kn(n,s,l,h){return n=lr(7,n,h,s),n.lanes=l,n}function _o(n,s,l,h){return n=lr(22,n,h,s),n.elementType=ke,n.lanes=l,n.stateNode={isHidden:!1},n}function hc(n,s,l){return n=lr(6,n,null,s),n.lanes=l,n}function fc(n,s,l){return s=lr(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function hx(n,s,l,h,g){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ul(0),this.expirationTimes=Ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ul(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function pc(n,s,l,h,g,_,T,L,B){return n=new hx(n,s,l,L,B),s===1?(s=1,_===!0&&(s|=8)):s=0,_=lr(3,null,null,s),n.current=_,_.stateNode=n,_.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tu(_),n}function fx(n,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:h==null?null:""+h,children:n,containerInfo:s,implementation:l}}function ym(n){if(!n)return cn;n=n._reactInternals;e:{if(On(n)!==n||n.tag!==1)throw Error(r(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Vt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(n.tag===1){var l=n.type;if(Vt(l))return qf(n,l,s)}return s}function vm(n,s,l,h,g,_,T,L,B){return n=pc(l,h,!0,n,g,_,T,L,B),n.context=ym(null),l=n.current,h=Ft(),g=yn(l),_=Fr(h,g),_.callback=s??null,fn(l,_,g),n.current.lanes=g,ss(n,g,h),Wt(n,h),n}function bo(n,s,l,h){var g=s.current,_=Ft(),T=yn(g);return l=ym(l),s.context===null?s.context=l:s.pendingContext=l,s=Fr(_,T),s.payload={element:n},h=h===void 0?null:h,h!==null&&(s.callback=h),n=fn(g,s,T),n!==null&&(yr(n,g,T,_),Qa(n,g,T)),T}function xo(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function wm(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function mc(n,s){wm(n,s),(n=n.alternate)&&wm(n,s)}function px(){return null}var _m=typeof reportError=="function"?reportError:function(n){console.error(n)};function gc(n){this._internalRoot=n}ko.prototype.render=gc.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));bo(n,s,null,null)},ko.prototype.unmount=gc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Fn(function(){bo(null,n,null,null)}),s[Lr]=null}};function ko(n){this._internalRoot=n}ko.prototype.unstable_scheduleHydration=function(n){if(n){var s=rf();n={blockedOn:null,target:n,priority:s};for(var l=0;l<sn.length&&s!==0&&s<sn[l].priority;l++);sn.splice(l,0,n),l===0&&af(n)}};function yc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function So(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function bm(){}function mx(n,s,l,h,g){if(g){if(typeof h=="function"){var _=h;h=function(){var X=xo(T);_.call(X)}}var T=vm(s,h,n,0,null,!1,!1,"",bm);return n._reactRootContainer=T,n[Lr]=T.current,ws(n.nodeType===8?n.parentNode:n),Fn(),T}for(;g=n.lastChild;)n.removeChild(g);if(typeof h=="function"){var L=h;h=function(){var X=xo(B);L.call(X)}}var B=pc(n,0,!1,null,null,!1,!1,"",bm);return n._reactRootContainer=B,n[Lr]=B.current,ws(n.nodeType===8?n.parentNode:n),Fn(function(){bo(s,B,l,h)}),B}function Eo(n,s,l,h,g){var _=l._reactRootContainer;if(_){var T=_;if(typeof g=="function"){var L=g;g=function(){var B=xo(T);L.call(B)}}bo(s,T,n,g)}else T=mx(l,s,n,g,h);return xo(T)}ef=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var l=is(s.pendingLanes);l!==0&&(Fl(s,l|1),Wt(s,pt()),(Ge&6)===0&&(Ai=pt()+500,dn()))}break;case 13:Fn(function(){var h=Ur(n,1);if(h!==null){var g=Ft();yr(h,n,1,g)}}),mc(n,1)}},$l=function(n){if(n.tag===13){var s=Ur(n,134217728);if(s!==null){var l=Ft();yr(s,n,134217728,l)}mc(n,134217728)}},tf=function(n){if(n.tag===13){var s=yn(n),l=Ur(n,s);if(l!==null){var h=Ft();yr(l,n,s,h)}mc(n,s)}},rf=function(){return Qe},nf=function(n,s){var l=Qe;try{return Qe=n,s()}finally{Qe=l}},Il=function(n,s,l){switch(s){case"input":if(fe(n,l),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==n&&h.form===n.form){var g=Fa(h);if(!g)throw Error(r(90));ft(h),fe(h,g)}}}break;case"textarea":q(n,l);break;case"select":s=l.value,s!=null&&k(n,!!l.multiple,s,!1)}},Fh=lc,$h=Fn;var gx={usingClientEntryPoint:!1,Events:[xs,mi,Fa,Bh,Uh,lc]},Ls={findFiberByHostInstance:Nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yx={bundleType:Ls.bundleType,version:Ls.version,rendererPackageName:Ls.rendererPackageName,rendererConfig:Ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Wh(n),n===null?null:n.stateNode},findFiberByHostInstance:Ls.findFiberByHostInstance||px,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Co.isDisabled&&Co.supportsFiber)try{xa=Co.inject(yx),kr=Co}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gx,Gt.createPortal=function(n,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yc(s))throw Error(r(200));return fx(n,s,null,l)},Gt.createRoot=function(n,s){if(!yc(n))throw Error(r(299));var l=!1,h="",g=_m;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(g=s.onRecoverableError)),s=pc(n,1,!1,null,null,l,!1,h,g),n[Lr]=s.current,ws(n.nodeType===8?n.parentNode:n),new gc(s)},Gt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=Wh(s),n=n===null?null:n.stateNode,n},Gt.flushSync=function(n){return Fn(n)},Gt.hydrate=function(n,s,l){if(!So(s))throw Error(r(200));return Eo(null,n,s,!0,l)},Gt.hydrateRoot=function(n,s,l){if(!yc(n))throw Error(r(405));var h=l!=null&&l.hydratedSources||null,g=!1,_="",T=_m;if(l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(_=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=vm(s,null,n,1,l??null,g,!1,_,T),n[Lr]=s.current,ws(n),h)for(n=0;n<h.length;n++)l=h[n],g=l._getVersion,g=g(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,g]:s.mutableSourceEagerHydrationData.push(l,g);return new ko(s)},Gt.render=function(n,s,l){if(!So(s))throw Error(r(200));return Eo(null,n,s,!1,l)},Gt.unmountComponentAtNode=function(n){if(!So(n))throw Error(r(40));return n._reactRootContainer?(Fn(function(){Eo(null,null,n,!1,function(){n._reactRootContainer=null,n[Lr]=null})}),!0):!1},Gt.unstable_batchedUpdates=lc,Gt.unstable_renderSubtreeIntoContainer=function(n,s,l,h){if(!So(l))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return Eo(n,s,l,!1,h)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var Pm;function Hy(){if(Pm)return _c.exports;Pm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_c.exports=Tx(),_c.exports}var jm;function Ax(){if(jm)return To;jm=1;var t=Hy();return To.createRoot=t.createRoot,To.hydrateRoot=t.hydrateRoot,To}var Px=Ax();const jx=yl(Px),Rx="modulepreload",Ox=function(t){return"/"+t},Rm={},Be=function(e,r,i){let a=Promise.resolve();if(r&&r.length>0){let u=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),c=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));a=u(r.map(p=>{if(p=Ox(p),p in Rm)return;Rm[p]=!0;const y=p.endsWith(".css"),m=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${m}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":Rx,y||(w.as="script"),w.crossOrigin="",w.href=p,c&&w.setAttribute("nonce",c),document.head.appendChild(w),y)return new Promise((b,x)=>{w.addEventListener("load",b),w.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return a.then(u=>{for(const d of u||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})};Hy();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ea(){return ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ea.apply(this,arguments)}var Cn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Cn||(Cn={}));const Om="popstate";function Nx(t){t===void 0&&(t={});function e(i,a){let{pathname:o,search:u,hash:d}=i.location;return Hc("",{pathname:o,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){return typeof a=="string"?a:Qo(a)}return Dx(e,r,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ix(){return Math.random().toString(36).substr(2,8)}function Nm(t,e){return{usr:t.state,key:t.key,idx:e}}function Hc(t,e,r,i){return r===void 0&&(r=null),ea({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yi(e):e,{state:r,key:e&&e.key||i||Ix()})}function Qo(t){let{pathname:e="/",search:r="",hash:i=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Yi(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function Dx(t,e,r,i){i===void 0&&(i={});let{window:a=document.defaultView,v5Compat:o=!1}=i,u=a.history,d=Cn.Pop,c=null,p=y();p==null&&(p=0,u.replaceState(ea({},u.state,{idx:p}),""));function y(){return(u.state||{idx:null}).idx}function m(){d=Cn.Pop;let C=y(),P=C==null?null:C-p;p=C,c&&c({action:d,location:E.location,delta:P})}function w(C,P){d=Cn.Push;let O=Hc(E.location,C,P);p=y()+1;let S=Nm(O,p),j=E.createHref(O);try{u.pushState(S,"",j)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;a.location.assign(j)}o&&c&&c({action:d,location:E.location,delta:1})}function b(C,P){d=Cn.Replace;let O=Hc(E.location,C,P);p=y();let S=Nm(O,p),j=E.createHref(O);u.replaceState(S,"",j),o&&c&&c({action:d,location:E.location,delta:0})}function x(C){let P=a.location.origin!=="null"?a.location.origin:a.location.href,O=typeof C=="string"?C:Qo(C);return O=O.replace(/ $/,"%20"),yt(P,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,P)}let E={get action(){return d},get location(){return t(a,u)},listen(C){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Om,m),c=C,()=>{a.removeEventListener(Om,m),c=null}},createHref(C){return e(a,C)},createURL:x,encodeLocation(C){let P=x(C);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:w,replace:b,go(C){return u.go(C)}};return E}var Im;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Im||(Im={}));function Lx(t,e,r){return r===void 0&&(r="/"),Mx(t,e,r)}function Mx(t,e,r,i){let a=typeof e=="string"?Yi(e):e,o=Bd(a.pathname||"/",r);if(o==null)return null;let u=Yy(t);zx(u);let d=null;for(let c=0;d==null&&c<u.length;++c){let p=Jx(o);d=Gx(u[c],p)}return d}function Yy(t,e,r,i){e===void 0&&(e=[]),r===void 0&&(r=[]),i===void 0&&(i="");let a=(o,u,d)=>{let c={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};c.relativePath.startsWith("/")&&(yt(c.relativePath.startsWith(i),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(i.length));let p=Tn([i,c.relativePath]),y=r.concat(c);o.children&&o.children.length>0&&(yt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Yy(o.children,e,y,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:qx(p,o.index),routesMeta:y})};return t.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,u);else for(let c of Jy(o.path))a(o,u,c)}),e}function Jy(t){let e=t.split("/");if(e.length===0)return[];let[r,...i]=e,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let u=Jy(i.join("/")),d=[];return d.push(...u.map(c=>c===""?o:[o,c].join("/"))),a&&d.push(...u),d.map(c=>t.startsWith("/")&&c===""?"/":c)}function zx(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Wx(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const Bx=/^:[\w-]+$/,Ux=3,Fx=2,$x=1,Vx=10,Kx=-2,Dm=t=>t==="*";function qx(t,e){let r=t.split("/"),i=r.length;return r.some(Dm)&&(i+=Kx),e&&(i+=Fx),r.filter(a=>!Dm(a)).reduce((a,o)=>a+(Bx.test(o)?Ux:o===""?$x:Vx),i)}function Wx(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function Gx(t,e,r){let{routesMeta:i}=t,a={},o="/",u=[];for(let d=0;d<i.length;++d){let c=i[d],p=d===i.length-1,y=o==="/"?e:e.slice(o.length)||"/",m=Hx({path:c.relativePath,caseSensitive:c.caseSensitive,end:p},y),w=c.route;if(!m)return null;Object.assign(a,m.params),u.push({params:a,pathname:Tn([o,m.pathname]),pathnameBase:t1(Tn([o,m.pathnameBase])),route:w}),m.pathnameBase!=="/"&&(o=Tn([o,m.pathnameBase]))}return u}function Hx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,i]=Yx(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((p,y,m)=>{let{paramName:w,isOptional:b}=y;if(w==="*"){let E=d[m]||"";u=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const x=d[m];return b&&!x?p[w]=void 0:p[w]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:t}}function Yx(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),zd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,c)=>(i.push({paramName:d,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function Jx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Bd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=t.charAt(r);return i&&i!=="/"?null:t.slice(r)||"/"}const Qx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xx=t=>Qx.test(t);function Zx(t,e){e===void 0&&(e="/");let{pathname:r,search:i="",hash:a=""}=typeof t=="string"?Yi(t):t,o;if(r)if(Xx(r))o=r;else{if(r.includes("//")){let u=r;r=r.replace(/\/\/+/g,"/"),zd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+r))}r.startsWith("/")?o=Lm(r.substring(1),"/"):o=Lm(r,e)}else o=e;return{pathname:o,search:r1(i),hash:n1(a)}}function Lm(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function kc(t,e,r,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function e1(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Ud(t,e){let r=e1(t);return e?r.map((i,a)=>a===r.length-1?i.pathname:i.pathnameBase):r.map(i=>i.pathnameBase)}function Fd(t,e,r,i){i===void 0&&(i=!1);let a;typeof t=="string"?a=Yi(t):(a=ea({},t),yt(!a.pathname||!a.pathname.includes("?"),kc("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),kc("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),kc("#","search","hash",a)));let o=t===""||a.pathname==="",u=o?"/":a.pathname,d;if(u==null)d=r;else{let m=e.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),m-=1;a.pathname=w.join("/")}d=m>=0?e[m]:"/"}let c=Zx(a,d),p=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(p||y)&&(c.pathname+="/"),c}const Tn=t=>t.join("/").replace(/\/\/+/g,"/"),t1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),r1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,n1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function i1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Qy=["post","put","patch","delete"];new Set(Qy);const s1=["get",...Qy];new Set(s1);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ta(){return ta=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ta.apply(this,arguments)}const $d=F.createContext(null),a1=F.createContext(null),jn=F.createContext(null),vl=F.createContext(null),Jr=F.createContext({outlet:null,matches:[],isDataRoute:!1}),Xy=F.createContext(null);function o1(t,e){let{relative:r}=e===void 0?{}:e;Ji()||yt(!1);let{basename:i,navigator:a}=F.useContext(jn),{hash:o,pathname:u,search:d}=ev(t,{relative:r}),c=u;return i!=="/"&&(c=u==="/"?i:Tn([i,u])),a.createHref({pathname:c,search:d,hash:o})}function Ji(){return F.useContext(vl)!=null}function Qr(){return Ji()||yt(!1),F.useContext(vl).location}function Zy(t){F.useContext(jn).static||F.useLayoutEffect(t)}function ii(){let{isDataRoute:t}=F.useContext(Jr);return t?_1():l1()}function l1(){Ji()||yt(!1);let t=F.useContext($d),{basename:e,future:r,navigator:i}=F.useContext(jn),{matches:a}=F.useContext(Jr),{pathname:o}=Qr(),u=JSON.stringify(Ud(a,r.v7_relativeSplatPath)),d=F.useRef(!1);return Zy(()=>{d.current=!0}),F.useCallback(function(p,y){if(y===void 0&&(y={}),!d.current)return;if(typeof p=="number"){i.go(p);return}let m=Fd(p,JSON.parse(u),o,y.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Tn([e,m.pathname])),(y.replace?i.replace:i.push)(m,y.state,y)},[e,i,u,o,t])}function lR(){let{matches:t}=F.useContext(Jr),e=t[t.length-1];return e?e.params:{}}function ev(t,e){let{relative:r}=e===void 0?{}:e,{future:i}=F.useContext(jn),{matches:a}=F.useContext(Jr),{pathname:o}=Qr(),u=JSON.stringify(Ud(a,i.v7_relativeSplatPath));return F.useMemo(()=>Fd(t,JSON.parse(u),o,r==="path"),[t,u,o,r])}function u1(t,e){return c1(t,e)}function c1(t,e,r,i){Ji()||yt(!1);let{navigator:a}=F.useContext(jn),{matches:o}=F.useContext(Jr),u=o[o.length-1],d=u?u.params:{};u&&u.pathname;let c=u?u.pathnameBase:"/";u&&u.route;let p=Qr(),y;if(e){var m;let C=typeof e=="string"?Yi(e):e;c==="/"||(m=C.pathname)!=null&&m.startsWith(c)||yt(!1),y=C}else y=p;let w=y.pathname||"/",b=w;if(c!=="/"){let C=c.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(C.length).join("/")}let x=Lx(t,{pathname:b}),E=m1(x&&x.map(C=>Object.assign({},C,{params:Object.assign({},d,C.params),pathname:Tn([c,a.encodeLocation?a.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?c:Tn([c,a.encodeLocation?a.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,r,i);return e&&E?F.createElement(vl.Provider,{value:{location:ta({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Cn.Pop}},E):E}function d1(){let t=w1(),e=i1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),r?F.createElement("pre",{style:a},r):null,null)}const h1=F.createElement(d1,null);class f1 extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?F.createElement(Jr.Provider,{value:this.props.routeContext},F.createElement(Xy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function p1(t){let{routeContext:e,match:r,children:i}=t,a=F.useContext($d);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),F.createElement(Jr.Provider,{value:e},i)}function m1(t,e,r,i){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),i===void 0&&(i=null),t==null){var o;if(!r)return null;if(r.errors)t=r.matches;else if((o=i)!=null&&o.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let u=t,d=(a=r)==null?void 0:a.errors;if(d!=null){let y=u.findIndex(m=>m.route.id&&(d==null?void 0:d[m.route.id])!==void 0);y>=0||yt(!1),u=u.slice(0,Math.min(u.length,y+1))}let c=!1,p=-1;if(r&&i&&i.v7_partialHydration)for(let y=0;y<u.length;y++){let m=u[y];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=y),m.route.id){let{loaderData:w,errors:b}=r,x=m.route.loader&&w[m.route.id]===void 0&&(!b||b[m.route.id]===void 0);if(m.route.lazy||x){c=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,m,w)=>{let b,x=!1,E=null,C=null;r&&(b=d&&m.route.id?d[m.route.id]:void 0,E=m.route.errorElement||h1,c&&(p<0&&w===0?(b1("route-fallback"),x=!0,C=null):p===w&&(x=!0,C=m.route.hydrateFallbackElement||null)));let P=e.concat(u.slice(0,w+1)),O=()=>{let S;return b?S=E:x?S=C:m.route.Component?S=F.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=y,F.createElement(p1,{match:m,routeContext:{outlet:y,matches:P,isDataRoute:r!=null},children:S})};return r&&(m.route.ErrorBoundary||m.route.errorElement||w===0)?F.createElement(f1,{location:r.location,revalidation:r.revalidation,component:E,error:b,children:O(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):O()},null)}var tv=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(tv||{}),rv=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(rv||{});function g1(t){let e=F.useContext($d);return e||yt(!1),e}function y1(t){let e=F.useContext(a1);return e||yt(!1),e}function v1(t){let e=F.useContext(Jr);return e||yt(!1),e}function nv(t){let e=v1(),r=e.matches[e.matches.length-1];return r.route.id||yt(!1),r.route.id}function w1(){var t;let e=F.useContext(Xy),r=y1(),i=nv();return e!==void 0?e:(t=r.errors)==null?void 0:t[i]}function _1(){let{router:t}=g1(tv.UseNavigateStable),e=nv(rv.UseNavigateStable),r=F.useRef(!1);return Zy(()=>{r.current=!0}),F.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,ta({fromRouteId:e},o)))},[t,e])}const Mm={};function b1(t,e,r){Mm[t]||(Mm[t]=!0)}function x1(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function k1(t){let{to:e,replace:r,state:i,relative:a}=t;Ji()||yt(!1);let{future:o,static:u}=F.useContext(jn),{matches:d}=F.useContext(Jr),{pathname:c}=Qr(),p=ii(),y=Fd(e,Ud(d,o.v7_relativeSplatPath),c,a==="path"),m=JSON.stringify(y);return F.useEffect(()=>p(JSON.parse(m),{replace:r,state:i,relative:a}),[p,m,a,r,i]),null}function ge(t){yt(!1)}function S1(t){let{basename:e="/",children:r=null,location:i,navigationType:a=Cn.Pop,navigator:o,static:u=!1,future:d}=t;Ji()&&yt(!1);let c=e.replace(/^\/*/,"/"),p=F.useMemo(()=>({basename:c,navigator:o,static:u,future:ta({v7_relativeSplatPath:!1},d)}),[c,d,o,u]);typeof i=="string"&&(i=Yi(i));let{pathname:y="/",search:m="",hash:w="",state:b=null,key:x="default"}=i,E=F.useMemo(()=>{let C=Bd(y,c);return C==null?null:{location:{pathname:C,search:m,hash:w,state:b,key:x},navigationType:a}},[c,y,m,w,b,x,a]);return E==null?null:F.createElement(jn.Provider,{value:p},F.createElement(vl.Provider,{children:r,value:E}))}function E1(t){let{children:e,location:r}=t;return u1(Yc(e),r)}new Promise(()=>{});function Yc(t,e){e===void 0&&(e=[]);let r=[];return F.Children.forEach(t,(i,a)=>{if(!F.isValidElement(i))return;let o=[...e,a];if(i.type===F.Fragment){r.push.apply(r,Yc(i.props.children,o));return}i.type!==ge&&yt(!1),!i.props.index||!i.props.children||yt(!1);let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Yc(i.props.children,o)),r.push(u)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jc(){return Jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Jc.apply(this,arguments)}function C1(t,e){if(t==null)return{};var r={},i=Object.keys(t),a,o;for(o=0;o<i.length;o++)a=i[o],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function T1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function A1(t,e){return t.button===0&&(!e||e==="_self")&&!T1(t)}function Qc(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let i=t[r];return e.concat(Array.isArray(i)?i.map(a=>[r,a]):[[r,i]])},[]))}function P1(t,e){let r=Qc(t);return e&&e.forEach((i,a)=>{r.has(a)||e.getAll(a).forEach(o=>{r.append(a,o)})}),r}const j1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],R1="6";try{window.__reactRouterVersion=R1}catch{}const O1="startTransition",zm=Sx[O1];function N1(t){let{basename:e,children:r,future:i,window:a}=t,o=F.useRef();o.current==null&&(o.current=Nx({window:a,v5Compat:!0}));let u=o.current,[d,c]=F.useState({action:u.action,location:u.location}),{v7_startTransition:p}=i||{},y=F.useCallback(m=>{p&&zm?zm(()=>c(m)):c(m)},[c,p]);return F.useLayoutEffect(()=>u.listen(y),[u,y]),F.useEffect(()=>x1(i),[i]),F.createElement(S1,{basename:e,children:r,location:d.location,navigationType:d.action,navigator:u,future:i})}const I1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",D1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uR=F.forwardRef(function(e,r){let{onClick:i,relative:a,reloadDocument:o,replace:u,state:d,target:c,to:p,preventScrollReset:y,viewTransition:m}=e,w=C1(e,j1),{basename:b}=F.useContext(jn),x,E=!1;if(typeof p=="string"&&D1.test(p)&&(x=p,I1))try{let S=new URL(window.location.href),j=p.startsWith("//")?new URL(S.protocol+p):new URL(p),R=Bd(j.pathname,b);j.origin===S.origin&&R!=null?p=R+j.search+j.hash:E=!0}catch{}let C=o1(p,{relative:a}),P=L1(p,{replace:u,state:d,target:c,preventScrollReset:y,relative:a,viewTransition:m});function O(S){i&&i(S),S.defaultPrevented||P(S)}return F.createElement("a",Jc({},w,{href:x||C,onClick:E||o?i:O,ref:r,target:c}))});var Bm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Bm||(Bm={}));var Um;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Um||(Um={}));function L1(t,e){let{target:r,replace:i,state:a,preventScrollReset:o,relative:u,viewTransition:d}=e===void 0?{}:e,c=ii(),p=Qr(),y=ev(t,{relative:u});return F.useCallback(m=>{if(A1(m,r)){m.preventDefault();let w=i!==void 0?i:Qo(p)===Qo(y);c(t,{replace:w,state:a,preventScrollReset:o,relative:u,viewTransition:d})}},[p,c,y,i,a,r,t,o,u,d])}function cR(t){let e=F.useRef(Qc(t)),r=F.useRef(!1),i=Qr(),a=F.useMemo(()=>P1(i.search,r.current?null:e.current),[i.search]),o=ii(),u=F.useCallback((d,c)=>{const p=Qc(typeof d=="function"?d(a):d);r.current=!0,o("?"+p,c)},[o,a]);return[a,u]}var Fm={},M1="@vercel/analytics",z1="1.6.1",B1=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function iv(){return typeof window<"u"}function sv(){try{const t="production"}catch{}return"production"}function U1(t="auto"){if(t==="auto"){window.vam=sv();return}window.vam=t}function F1(){return(iv()?window.vam:sv())||"production"}function Xc(){return F1()==="development"}function $1(t){return t.scriptSrc?t.scriptSrc:Xc()?"https://va.vercel-scripts.com/v1/script.debug.js":t.basePath?`${t.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function V1(t={debug:!0}){var e;if(!iv())return;U1(t.mode),B1(),t.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",t.beforeSend));const r=$1(t);if(document.head.querySelector(`script[src*="${r}"]`))return;const i=document.createElement("script");i.src=r,i.defer=!0,i.dataset.sdkn=M1+(t.framework?`/${t.framework}`:""),i.dataset.sdkv=z1,t.disableAutoTrack&&(i.dataset.disableAutoTrack="1"),t.endpoint?i.dataset.endpoint=t.endpoint:t.basePath&&(i.dataset.endpoint=`${t.basePath}/insights`),t.dsn&&(i.dataset.dsn=t.dsn),i.onerror=()=>{const a=Xc()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${r}. ${a}`)},Xc()&&t.debug===!1&&(i.dataset.debug="false"),document.head.appendChild(i)}function K1({route:t,path:e}){var r;(r=window.va)==null||r.call(window,"pageview",{route:t,path:e})}function q1(){if(!(typeof process>"u"||typeof Fm>"u"))return Fm.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function W1(t){return F.useEffect(()=>{var e;t.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",t.beforeSend))},[t.beforeSend]),F.useEffect(()=>{V1({framework:t.framework||"react",basePath:t.basePath??q1(),...t.route!==void 0&&{disableAutoTrack:!0},...t})},[]),F.useEffect(()=>{t.route&&t.path&&K1({route:t.route,path:t.path})},[t.route,t.path]),null}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),av=(...t)=>t.filter((e,r,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var H1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=F.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:u,...d},c)=>F.createElement("svg",{ref:c,...H1,width:e,height:e,stroke:t,strokeWidth:i?Number(r)*24/Number(e):r,className:av("lucide",a),...d},[...u.map(([p,y])=>F.createElement(p,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=(t,e)=>{const r=F.forwardRef(({className:i,...a},o)=>F.createElement(Y1,{ref:o,iconNode:e,className:av(`lucide-${G1(t)}`,i),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=Ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=Ke("BatteryCharging",[["path",{d:"M15 7h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2",key:"1sdynx"}],["path",{d:"M6 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h1",key:"1gkd3k"}],["path",{d:"m11 7-3 5h4l-3 5",key:"b4a64w"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=Ke("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=Ke("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=Ke("CarFront",[["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=Ke("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=Ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=Ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=Ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=Ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=Ke("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=Ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=Ke("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=Ke("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=Ke("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=Ke("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=Ke("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=Ke("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=Ke("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=Ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=Ke("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=Ke("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=Ke("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=Ke("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=Ke("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=Ke("PhoneIncoming",[["polyline",{points:"16 2 16 8 22 8",key:"1ygljm"}],["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=Ke("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=Ke("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=Ke("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=Ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=Ke("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=Ke("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=Ke("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=Ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=Ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=Ke("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=Ke("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=Ke("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=Ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qd=F.createContext({});function Wd(t){const e=F.useRef(null);return e.current===null&&(e.current=t()),e.current}const _l=F.createContext(null),Gd=F.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class mk extends F.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function gk({children:t,isPresent:e}){const r=F.useId(),i=F.useRef(null),a=F.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=F.useContext(Gd);return F.useInsertionEffect(()=>{const{width:u,height:d,top:c,left:p}=a.current;if(e||!i.current||!u||!d)return;i.current.dataset.motionPopId=r;const y=document.createElement("style");return o&&(y.nonce=o),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            top: ${c}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(y)}},[e]),v.jsx(mk,{isPresent:e,childRef:i,sizeRef:a,children:F.cloneElement(t,{ref:i})})}const yk=({children:t,initial:e,isPresent:r,onExitComplete:i,custom:a,presenceAffectsLayout:o,mode:u})=>{const d=Wd(vk),c=F.useId(),p=F.useCallback(m=>{d.set(m,!0);for(const w of d.values())if(!w)return;i&&i()},[d,i]),y=F.useMemo(()=>({id:c,initial:e,isPresent:r,custom:a,onExitComplete:p,register:m=>(d.set(m,!1),()=>d.delete(m))}),o?[Math.random(),p]:[r,p]);return F.useMemo(()=>{d.forEach((m,w)=>d.set(w,!1))},[r]),F.useEffect(()=>{!r&&!d.size&&i&&i()},[r]),u==="popLayout"&&(t=v.jsx(gk,{isPresent:r,children:t})),v.jsx(_l.Provider,{value:y,children:t})};function vk(){return new Map}function fv(t=!0){const e=F.useContext(_l);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:i,register:a}=e,o=F.useId();F.useEffect(()=>{t&&a(o)},[t]);const u=F.useCallback(()=>t&&i&&i(o),[o,i,t]);return!r&&i?[!1,u]:[!0]}const Ao=t=>t.key||"";function qm(t){const e=[];return F.Children.forEach(t,r=>{F.isValidElement(r)&&e.push(r)}),e}const Hd=typeof window<"u",pv=Hd?F.useLayoutEffect:F.useEffect,Rr=({children:t,custom:e,initial:r=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:o="sync",propagate:u=!1})=>{const[d,c]=fv(u),p=F.useMemo(()=>qm(t),[t]),y=u&&!d?[]:p.map(Ao),m=F.useRef(!0),w=F.useRef(p),b=Wd(()=>new Map),[x,E]=F.useState(p),[C,P]=F.useState(p);pv(()=>{m.current=!1,w.current=p;for(let j=0;j<C.length;j++){const R=Ao(C[j]);y.includes(R)?b.delete(R):b.get(R)!==!0&&b.set(R,!1)}},[C,y.length,y.join("-")]);const O=[];if(p!==x){let j=[...p];for(let R=0;R<C.length;R++){const D=C[R],I=Ao(D);y.includes(I)||(j.splice(R,0,D),O.push(D))}o==="wait"&&O.length&&(j=O),P(qm(j)),E(p);return}const{forceRender:S}=F.useContext(qd);return v.jsx(v.Fragment,{children:C.map(j=>{const R=Ao(j),D=u&&!d?!1:p===C||y.includes(R),I=()=>{if(b.has(R))b.set(R,!0);else return;let M=!0;b.forEach(Q=>{Q||(M=!1)}),M&&(S==null||S(),P(w.current),u&&(c==null||c()),i&&i())};return v.jsx(yk,{isPresent:D,initial:!m.current||r?void 0:!1,custom:D?void 0:e,presenceAffectsLayout:a,mode:o,onExitComplete:D?void 0:I,children:j},R)})})},tr=t=>t;let mv=tr;function Yd(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ki=(t,e,r)=>{const i=e-t;return i===0?1:(r-t)/i},Gr=t=>t*1e3,Hr=t=>t/1e3,wk={useManualTiming:!1};function _k(t){let e=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(p){o.has(p)&&(c.schedule(p),t()),p(u)}const c={schedule:(p,y=!1,m=!1)=>{const b=m&&i?e:r;return y&&o.add(p),b.has(p)||b.add(p),p},cancel:p=>{r.delete(p),o.delete(p)},process:p=>{if(u=p,i){a=!0;return}i=!0,[e,r]=[r,e],e.forEach(d),e.clear(),i=!1,a&&(a=!1,c.process(p))}};return c}const Po=["read","resolveKeyframes","update","preRender","render","postRender"],bk=40;function gv(t,e){let r=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>r=!0,u=Po.reduce((P,O)=>(P[O]=_k(o),P),{}),{read:d,resolveKeyframes:c,update:p,preRender:y,render:m,postRender:w}=u,b=()=>{const P=performance.now();r=!1,a.delta=i?1e3/60:Math.max(Math.min(P-a.timestamp,bk),1),a.timestamp=P,a.isProcessing=!0,d.process(a),c.process(a),p.process(a),y.process(a),m.process(a),w.process(a),a.isProcessing=!1,r&&e&&(i=!1,t(b))},x=()=>{r=!0,i=!0,a.isProcessing||t(b)};return{schedule:Po.reduce((P,O)=>{const S=u[O];return P[O]=(j,R=!1,D=!1)=>(r||x(),S.schedule(j,R,D)),P},{}),cancel:P=>{for(let O=0;O<Po.length;O++)u[Po[O]].cancel(P)},state:a,steps:u}}const{schedule:nt,cancel:An,state:Ot,steps:Ec}=gv(typeof requestAnimationFrame<"u"?requestAnimationFrame:tr,!0),yv=F.createContext({strict:!1}),Wm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qi={};for(const t in Wm)qi[t]={isEnabled:e=>Wm[t].some(r=>!!e[r])};function xk(t){for(const e in t)qi[e]={...qi[e],...t[e]}}const kk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zo(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||kk.has(t)}let vv=t=>!Zo(t);function Sk(t){t&&(vv=e=>e.startsWith("on")?!Zo(e):t(e))}try{Sk(require("@emotion/is-prop-valid").default)}catch{}function Ek(t,e,r){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(vv(a)||r===!0&&Zo(a)||!e&&!Zo(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}function Ck(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...i)=>t(...i);return new Proxy(r,{get:(i,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const bl=F.createContext({});function ia(t){return typeof t=="string"||Array.isArray(t)}function xl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Jd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qd=["initial",...Jd];function kl(t){return xl(t.animate)||Qd.some(e=>ia(t[e]))}function wv(t){return!!(kl(t)||t.variants)}function Tk(t,e){if(kl(t)){const{initial:r,animate:i}=t;return{initial:r===!1||ia(r)?r:void 0,animate:ia(i)?i:void 0}}return t.inherit!==!1?e:{}}function Ak(t){const{initial:e,animate:r}=Tk(t,F.useContext(bl));return F.useMemo(()=>({initial:e,animate:r}),[Gm(e),Gm(r)])}function Gm(t){return Array.isArray(t)?t.join(" "):t}const Pk=Symbol.for("motionComponentSymbol");function Li(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function jk(t,e,r){return F.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),r&&(typeof r=="function"?r(i):Li(r)&&(r.current=i))},[e])}const Xd=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Rk="framerAppearId",_v="data-"+Xd(Rk),{schedule:Zd}=gv(queueMicrotask,!1),bv=F.createContext({});function Ok(t,e,r,i,a){var o,u;const{visualElement:d}=F.useContext(bl),c=F.useContext(yv),p=F.useContext(_l),y=F.useContext(Gd).reducedMotion,m=F.useRef(null);i=i||c.renderer,!m.current&&i&&(m.current=i(t,{visualState:e,parent:d,props:r,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:y}));const w=m.current,b=F.useContext(bv);w&&!w.projection&&a&&(w.type==="html"||w.type==="svg")&&Nk(m.current,r,a,b);const x=F.useRef(!1);F.useInsertionEffect(()=>{w&&x.current&&w.update(r,p)});const E=r[_v],C=F.useRef(!!E&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,E))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,E)));return pv(()=>{w&&(x.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),Zd.render(w.render),C.current&&w.animationState&&w.animationState.animateChanges())}),F.useEffect(()=>{w&&(!C.current&&w.animationState&&w.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)===null||P===void 0||P.call(window,E)}),C.current=!1))}),w}function Nk(t,e,r,i){const{layoutId:a,layout:o,drag:u,dragConstraints:d,layoutScroll:c,layoutRoot:p}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:xv(t.parent)),t.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!u||d&&Li(d),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,layoutScroll:c,layoutRoot:p})}function xv(t){if(t)return t.options.allowProjection!==!1?t.projection:xv(t.parent)}function Ik({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:i,Component:a}){var o,u;t&&xk(t);function d(p,y){let m;const w={...F.useContext(Gd),...p,layoutId:Dk(p)},{isStatic:b}=w,x=Ak(p),E=i(p,b);if(!b&&Hd){Lk();const C=Mk(w);m=C.MeasureLayout,x.visualElement=Ok(a,E,w,e,C.ProjectionNode)}return v.jsxs(bl.Provider,{value:x,children:[m&&x.visualElement?v.jsx(m,{visualElement:x.visualElement,...w}):null,r(a,p,jk(E,x.visualElement,y),E,b,x.visualElement)]})}d.displayName=`motion.${typeof a=="string"?a:`create(${(u=(o=a.displayName)!==null&&o!==void 0?o:a.name)!==null&&u!==void 0?u:""})`}`;const c=F.forwardRef(d);return c[Pk]=a,c}function Dk({layoutId:t}){const e=F.useContext(qd).id;return e&&t!==void 0?e+"-"+t:t}function Lk(t,e){F.useContext(yv).strict}function Mk(t){const{drag:e,layout:r}=qi;if(!e&&!r)return{};const i={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const zk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function eh(t){return typeof t!="string"||t.includes("-")?!1:!!(zk.indexOf(t)>-1||/[A-Z]/u.test(t))}function Hm(t){const e=[{},{}];return t==null||t.values.forEach((r,i)=>{e[0][i]=r.get(),e[1][i]=r.getVelocity()}),e}function th(t,e,r,i){if(typeof e=="function"){const[a,o]=Hm(i);e=e(r!==void 0?r:t.custom,a,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,o]=Hm(i);e=e(r!==void 0?r:t.custom,a,o)}return e}const nd=t=>Array.isArray(t),Bk=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Uk=t=>nd(t)?t[t.length-1]||0:t,Bt=t=>!!(t&&t.getVelocity);function Ko(t){const e=Bt(t)?t.get():t;return Bk(e)?e.toValue():e}function Fk({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:r},i,a,o){const u={latestValues:$k(i,a,o,t),renderState:e()};return r&&(u.onMount=d=>r({props:i,current:d,...u}),u.onUpdate=d=>r(d)),u}const kv=t=>(e,r)=>{const i=F.useContext(bl),a=F.useContext(_l),o=()=>Fk(t,e,i,a);return r?o():Wd(o)};function $k(t,e,r,i){const a={},o=i(t,{});for(const w in o)a[w]=Ko(o[w]);let{initial:u,animate:d}=t;const c=kl(t),p=wv(t);e&&p&&!c&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let y=r?r.initial===!1:!1;y=y||u===!1;const m=y?d:u;if(m&&typeof m!="boolean"&&!xl(m)){const w=Array.isArray(m)?m:[m];for(let b=0;b<w.length;b++){const x=th(t,w[b]);if(x){const{transitionEnd:E,transition:C,...P}=x;for(const O in P){let S=P[O];if(Array.isArray(S)){const j=y?S.length-1:0;S=S[j]}S!==null&&(a[O]=S)}for(const O in E)a[O]=E[O]}}}return a}const Qi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],si=new Set(Qi),Sv=t=>e=>typeof e=="string"&&e.startsWith(t),Ev=Sv("--"),Vk=Sv("var(--"),rh=t=>Vk(t)?Kk.test(t.split("/*")[0].trim()):!1,Kk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Cv=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Yr=(t,e,r)=>r>e?e:r<t?t:r,Xi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},sa={...Xi,transform:t=>Yr(0,1,t)},jo={...Xi,default:1},fa=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),kn=fa("deg"),Or=fa("%"),Ie=fa("px"),qk=fa("vh"),Wk=fa("vw"),Ym={...Or,parse:t=>Or.parse(t)/100,transform:t=>Or.transform(t*100)},Gk={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,backgroundPositionX:Ie,backgroundPositionY:Ie},Hk={rotate:kn,rotateX:kn,rotateY:kn,rotateZ:kn,scale:jo,scaleX:jo,scaleY:jo,scaleZ:jo,skew:kn,skewX:kn,skewY:kn,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:sa,originX:Ym,originY:Ym,originZ:Ie},Jm={...Xi,transform:Math.round},nh={...Gk,...Hk,zIndex:Jm,size:Ie,fillOpacity:sa,strokeOpacity:sa,numOctaves:Jm},Yk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Jk=Qi.length;function Qk(t,e,r){let i="",a=!0;for(let o=0;o<Jk;o++){const u=Qi[o],d=t[u];if(d===void 0)continue;let c=!0;if(typeof d=="number"?c=d===(u.startsWith("scale")?1:0):c=parseFloat(d)===0,!c||r){const p=Cv(d,nh[u]);if(!c){a=!1;const y=Yk[u]||u;i+=`${y}(${p}) `}r&&(e[u]=p)}}return i=i.trim(),r?i=r(e,a?"":i):a&&(i="none"),i}function ih(t,e,r){const{style:i,vars:a,transformOrigin:o}=t;let u=!1,d=!1;for(const c in e){const p=e[c];if(si.has(c)){u=!0;continue}else if(Ev(c)){a[c]=p;continue}else{const y=Cv(p,nh[c]);c.startsWith("origin")?(d=!0,o[c]=y):i[c]=y}}if(e.transform||(u||r?i.transform=Qk(e,t.transform,r):i.transform&&(i.transform="none")),d){const{originX:c="50%",originY:p="50%",originZ:y=0}=o;i.transformOrigin=`${c} ${p} ${y}`}}const Xk={offset:"stroke-dashoffset",array:"stroke-dasharray"},Zk={offset:"strokeDashoffset",array:"strokeDasharray"};function eS(t,e,r=1,i=0,a=!0){t.pathLength=1;const o=a?Xk:Zk;t[o.offset]=Ie.transform(-i);const u=Ie.transform(e),d=Ie.transform(r);t[o.array]=`${u} ${d}`}function Qm(t,e,r){return typeof t=="string"?t:Ie.transform(e+r*t)}function tS(t,e,r){const i=Qm(e,t.x,t.width),a=Qm(r,t.y,t.height);return`${i} ${a}`}function sh(t,{attrX:e,attrY:r,attrScale:i,originX:a,originY:o,pathLength:u,pathSpacing:d=1,pathOffset:c=0,...p},y,m){if(ih(t,p,m),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:b,dimensions:x}=t;w.transform&&(x&&(b.transform=w.transform),delete w.transform),x&&(a!==void 0||o!==void 0||b.transform)&&(b.transformOrigin=tS(x,a!==void 0?a:.5,o!==void 0?o:.5)),e!==void 0&&(w.x=e),r!==void 0&&(w.y=r),i!==void 0&&(w.scale=i),u!==void 0&&eS(w,u,d,c,!1)}const ah=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Tv=()=>({...ah(),attrs:{}}),oh=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Av(t,{style:e,vars:r},i,a){Object.assign(t.style,e,a&&a.getProjectionStyles(i));for(const o in r)t.style.setProperty(o,r[o])}const Pv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jv(t,e,r,i){Av(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(Pv.has(a)?a:Xd(a),e.attrs[a])}const el={};function rS(t){Object.assign(el,t)}function Rv(t,{layout:e,layoutId:r}){return si.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!el[t]||t==="opacity")}function lh(t,e,r){var i;const{style:a}=t,o={};for(const u in a)(Bt(a[u])||e.style&&Bt(e.style[u])||Rv(u,t)||((i=r==null?void 0:r.getValue(u))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(o[u]=a[u]);return o}function Ov(t,e,r){const i=lh(t,e,r);for(const a in t)if(Bt(t[a])||Bt(e[a])){const o=Qi.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[o]=t[a]}return i}function nS(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Xm=["x","y","width","height","cx","cy","r"],iS={useVisualState:kv({scrapeMotionValuesFromProps:Ov,createRenderState:Tv,onUpdate:({props:t,prevProps:e,current:r,renderState:i,latestValues:a})=>{if(!r)return;let o=!!t.drag;if(!o){for(const d in a)if(si.has(d)){o=!0;break}}if(!o)return;let u=!e;if(e)for(let d=0;d<Xm.length;d++){const c=Xm[d];t[c]!==e[c]&&(u=!0)}u&&nt.read(()=>{nS(r,i),nt.render(()=>{sh(i,a,oh(r.tagName),t.transformTemplate),jv(r,i)})})}})},sS={useVisualState:kv({scrapeMotionValuesFromProps:lh,createRenderState:ah})};function Nv(t,e,r){for(const i in e)!Bt(e[i])&&!Rv(i,r)&&(t[i]=e[i])}function aS({transformTemplate:t},e){return F.useMemo(()=>{const r=ah();return ih(r,e,t),Object.assign({},r.vars,r.style)},[e])}function oS(t,e){const r=t.style||{},i={};return Nv(i,r,t),Object.assign(i,aS(t,e)),i}function lS(t,e){const r={},i=oS(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}function uS(t,e,r,i){const a=F.useMemo(()=>{const o=Tv();return sh(o,e,oh(i),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Nv(o,t.style,t),a.style={...o,...a.style}}return a}function cS(t=!1){return(r,i,a,{latestValues:o},u)=>{const c=(eh(r)?uS:lS)(i,o,u,r),p=Ek(i,typeof r=="string",t),y=r!==F.Fragment?{...p,...c,ref:a}:{},{children:m}=i,w=F.useMemo(()=>Bt(m)?m.get():m,[m]);return F.createElement(r,{...y,children:w})}}function dS(t,e){return function(i,{forwardMotionProps:a}={forwardMotionProps:!1}){const u={...eh(i)?iS:sS,preloadedFeatures:t,useRender:cS(a),createVisualElement:e,Component:i};return Ik(u)}}function Iv(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}function Sl(t,e,r){const i=t.getProps();return th(i,e,r!==void 0?r:i.custom,t)}const hS=Yd(()=>window.ScrollTimeline!==void 0);class fS{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,r){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=r}attachTimeline(e,r){const i=this.animations.map(a=>{if(hS()&&a.attachTimeline)return a.attachTimeline(e);if(typeof r=="function")return r(a)});return()=>{i.forEach((a,o)=>{a&&a(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class pS extends fS{then(e,r){return Promise.all(this.animations).then(e).catch(r)}}function uh(t,e){return t?t[e]||t.default||t:void 0}const id=2e4;function Dv(t){let e=0;const r=50;let i=t.next(e);for(;!i.done&&e<id;)e+=r,i=t.next(e);return e>=id?1/0:e}function ch(t){return typeof t=="function"}function Zm(t,e){t.timeline=e,t.onfinish=null}const dh=t=>Array.isArray(t)&&typeof t[0]=="number",mS={linearEasing:void 0};function gS(t,e){const r=Yd(t);return()=>{var i;return(i=mS[e])!==null&&i!==void 0?i:r()}}const tl=gS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Lv=(t,e,r=10)=>{let i="";const a=Math.max(Math.round(e/r),2);for(let o=0;o<a;o++)i+=t(Ki(0,a-1,o))+", ";return`linear(${i.substring(0,i.length-2)})`};function Mv(t){return!!(typeof t=="function"&&tl()||!t||typeof t=="string"&&(t in sd||tl())||dh(t)||Array.isArray(t)&&t.every(Mv))}const Vs=([t,e,r,i])=>`cubic-bezier(${t}, ${e}, ${r}, ${i})`,sd={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vs([0,.65,.55,1]),circOut:Vs([.55,0,1,.45]),backIn:Vs([.31,.01,.66,-.59]),backOut:Vs([.33,1.53,.69,.99])};function zv(t,e){if(t)return typeof t=="function"&&tl()?Lv(t,e):dh(t)?Vs(t):Array.isArray(t)?t.map(r=>zv(r,e)||sd.easeOut):sd[t]}const wr={x:!1,y:!1};function Bv(){return wr.x||wr.y}function yS(t,e,r){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let a=document;const o=(i=void 0)!==null&&i!==void 0?i:a.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function Uv(t,e){const r=yS(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[r,a,()=>i.abort()]}function eg(t){return e=>{e.pointerType==="touch"||Bv()||t(e)}}function vS(t,e,r={}){const[i,a,o]=Uv(t,r),u=eg(d=>{const{target:c}=d,p=e(d);if(typeof p!="function"||!c)return;const y=eg(m=>{p(m),c.removeEventListener("pointerleave",y)});c.addEventListener("pointerleave",y,a)});return i.forEach(d=>{d.addEventListener("pointerenter",u,a)}),o}const Fv=(t,e)=>e?t===e?!0:Fv(t,e.parentElement):!1,hh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,wS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _S(t){return wS.has(t.tagName)||t.tabIndex!==-1}const Ks=new WeakSet;function tg(t){return e=>{e.key==="Enter"&&t(e)}}function Cc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const bS=(t,e)=>{const r=t.currentTarget;if(!r)return;const i=tg(()=>{if(Ks.has(r))return;Cc(r,"down");const a=tg(()=>{Cc(r,"up")}),o=()=>Cc(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",o,e)});r.addEventListener("keydown",i,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),e)};function rg(t){return hh(t)&&!Bv()}function xS(t,e,r={}){const[i,a,o]=Uv(t,r),u=d=>{const c=d.currentTarget;if(!rg(d)||Ks.has(c))return;Ks.add(c);const p=e(d),y=(b,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",w),!(!rg(b)||!Ks.has(c))&&(Ks.delete(c),typeof p=="function"&&p(b,{success:x}))},m=b=>{y(b,r.useGlobalTarget||Fv(c,b.target))},w=b=>{y(b,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",w,a)};return i.forEach(d=>{!_S(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(r.useGlobalTarget?window:d).addEventListener("pointerdown",u,a),d.addEventListener("focus",p=>bS(p,a),a)}),o}function kS(t){return t==="x"||t==="y"?wr[t]?null:(wr[t]=!0,()=>{wr[t]=!1}):wr.x||wr.y?null:(wr.x=wr.y=!0,()=>{wr.x=wr.y=!1})}const $v=new Set(["width","height","top","left","right","bottom",...Qi]);let qo;function SS(){qo=void 0}const Nr={now:()=>(qo===void 0&&Nr.set(Ot.isProcessing||wk.useManualTiming?Ot.timestamp:performance.now()),qo),set:t=>{qo=t,queueMicrotask(SS)}};function fh(t,e){t.indexOf(e)===-1&&t.push(e)}function ph(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class mh{constructor(){this.subscriptions=[]}add(e){return fh(this.subscriptions,e),()=>ph(this.subscriptions,e)}notify(e,r,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,i);else for(let o=0;o<a;o++){const u=this.subscriptions[o];u&&u(e,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Vv(t,e){return e?t*(1e3/e):0}const ng=30,ES=t=>!isNaN(parseFloat(t));class CS{constructor(e,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,a=!0)=>{const o=Nr.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Nr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ES(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new mh);const i=this.events[e].add(r);return e==="change"?()=>{i(),nt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,i){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Nr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ng)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,ng);return Vv(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function aa(t,e){return new CS(t,e)}function TS(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,aa(r))}function AS(t,e){const r=Sl(t,e);let{transitionEnd:i={},transition:a={},...o}=r||{};o={...o,...i};for(const u in o){const d=Uk(o[u]);TS(t,u,d)}}function PS(t){return!!(Bt(t)&&t.add)}function ad(t,e){const r=t.getValue("willChange");if(PS(r))return r.add(e)}function Kv(t){return t.props[_v]}const qv=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,jS=1e-7,RS=12;function OS(t,e,r,i,a){let o,u,d=0;do u=e+(r-e)/2,o=qv(u,i,a)-t,o>0?r=u:e=u;while(Math.abs(o)>jS&&++d<RS);return u}function pa(t,e,r,i){if(t===e&&r===i)return tr;const a=o=>OS(o,0,1,t,r);return o=>o===0||o===1?o:qv(a(o),e,i)}const Wv=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Gv=t=>e=>1-t(1-e),Hv=pa(.33,1.53,.69,.99),gh=Gv(Hv),Yv=Wv(gh),Jv=t=>(t*=2)<1?.5*gh(t):.5*(2-Math.pow(2,-10*(t-1))),yh=t=>1-Math.sin(Math.acos(t)),Qv=Gv(yh),Xv=Wv(yh),Zv=t=>/^0[^.\s]+$/u.test(t);function NS(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Zv(t):!0}const Ys=t=>Math.round(t*1e5)/1e5,vh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function IS(t){return t==null}const DS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wh=(t,e)=>r=>!!(typeof r=="string"&&DS.test(r)&&r.startsWith(t)||e&&!IS(r)&&Object.prototype.hasOwnProperty.call(r,e)),e0=(t,e,r)=>i=>{if(typeof i!="string")return i;const[a,o,u,d]=i.match(vh);return{[t]:parseFloat(a),[e]:parseFloat(o),[r]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},LS=t=>Yr(0,255,t),Tc={...Xi,transform:t=>Math.round(LS(t))},ti={test:wh("rgb","red"),parse:e0("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:i=1})=>"rgba("+Tc.transform(t)+", "+Tc.transform(e)+", "+Tc.transform(r)+", "+Ys(sa.transform(i))+")"};function MS(t){let e="",r="",i="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const od={test:wh("#"),parse:MS,transform:ti.transform},Mi={test:wh("hsl","hue"),parse:e0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:i=1})=>"hsla("+Math.round(t)+", "+Or.transform(Ys(e))+", "+Or.transform(Ys(r))+", "+Ys(sa.transform(i))+")"},zt={test:t=>ti.test(t)||od.test(t)||Mi.test(t),parse:t=>ti.test(t)?ti.parse(t):Mi.test(t)?Mi.parse(t):od.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ti.transform(t):Mi.transform(t)},zS=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function BS(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(vh))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(zS))===null||r===void 0?void 0:r.length)||0)>0}const t0="number",r0="color",US="var",FS="var(",ig="${}",$S=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function oa(t){const e=t.toString(),r=[],i={color:[],number:[],var:[]},a=[];let o=0;const d=e.replace($S,c=>(zt.test(c)?(i.color.push(o),a.push(r0),r.push(zt.parse(c))):c.startsWith(FS)?(i.var.push(o),a.push(US),r.push(c)):(i.number.push(o),a.push(t0),r.push(parseFloat(c))),++o,ig)).split(ig);return{values:r,split:d,indexes:i,types:a}}function n0(t){return oa(t).values}function i0(t){const{split:e,types:r}=oa(t),i=e.length;return a=>{let o="";for(let u=0;u<i;u++)if(o+=e[u],a[u]!==void 0){const d=r[u];d===t0?o+=Ys(a[u]):d===r0?o+=zt.transform(a[u]):o+=a[u]}return o}}const VS=t=>typeof t=="number"?0:t;function KS(t){const e=n0(t);return i0(t)(e.map(VS))}const Pn={test:BS,parse:n0,createTransformer:i0,getAnimatableNone:KS},qS=new Set(["brightness","contrast","saturate","opacity"]);function WS(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=r.match(vh)||[];if(!i)return t;const a=r.replace(i,"");let o=qS.has(e)?1:0;return i!==r&&(o*=100),e+"("+o+a+")"}const GS=/\b([a-z-]*)\(.*?\)/gu,ld={...Pn,getAnimatableNone:t=>{const e=t.match(GS);return e?e.map(WS).join(" "):t}},HS={...nh,color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,filter:ld,WebkitFilter:ld},_h=t=>HS[t];function s0(t,e){let r=_h(t);return r!==ld&&(r=Pn),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const YS=new Set(["auto","none","0"]);function JS(t,e,r){let i=0,a;for(;i<t.length&&!a;){const o=t[i];typeof o=="string"&&!YS.has(o)&&oa(o).values.length&&(a=t[i]),i++}if(a&&r)for(const o of e)t[o]=s0(r,a)}const sg=t=>t===Xi||t===Ie,ag=(t,e)=>parseFloat(t.split(", ")[e]),og=(t,e)=>(r,{transform:i})=>{if(i==="none"||!i)return 0;const a=i.match(/^matrix3d\((.+)\)$/u);if(a)return ag(a[1],e);{const o=i.match(/^matrix\((.+)\)$/u);return o?ag(o[1],t):0}},QS=new Set(["x","y","z"]),XS=Qi.filter(t=>!QS.has(t));function ZS(t){const e=[];return XS.forEach(r=>{const i=t.getValue(r);i!==void 0&&(e.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),e}const Wi={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:og(4,13),y:og(5,14)};Wi.translateX=Wi.x;Wi.translateY=Wi.y;const ni=new Set;let ud=!1,cd=!1;function a0(){if(cd){const t=Array.from(ni).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),r=new Map;e.forEach(i=>{const a=ZS(i);a.length&&(r.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=r.get(i);a&&a.forEach(([o,u])=>{var d;(d=i.getValue(o))===null||d===void 0||d.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}cd=!1,ud=!1,ni.forEach(t=>t.complete()),ni.clear()}function o0(){ni.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(cd=!0)})}function eE(){o0(),a0()}class bh{constructor(e,r,i,a,o,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=i,this.motionValue=a,this.element=o,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ni.add(this),ud||(ud=!0,nt.read(o0),nt.resolveKeyframes(a0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:i,motionValue:a}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const u=a==null?void 0:a.get(),d=e[e.length-1];if(u!==void 0)e[0]=u;else if(i&&r){const c=i.readValue(r,d);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=d),a&&u===void 0&&a.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ni.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ni.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const l0=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),tE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rE(t){const e=tE.exec(t);if(!e)return[,];const[,r,i,a]=e;return[`--${r??i}`,a]}function u0(t,e,r=1){const[i,a]=rE(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const u=o.trim();return l0(u)?parseFloat(u):u}return rh(a)?u0(a,e,r+1):a}const c0=t=>e=>e.test(t),nE={test:t=>t==="auto",parse:t=>t},d0=[Xi,Ie,Or,kn,Wk,qk,nE],lg=t=>d0.find(c0(t));class h0 extends bh{constructor(e,r,i,a,o){super(e,r,i,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:i}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let p=e[c];if(typeof p=="string"&&(p=p.trim(),rh(p))){const y=u0(p,r.current);y!==void 0&&(e[c]=y),c===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!$v.has(i)||e.length!==2)return;const[a,o]=e,u=lg(a),d=lg(o);if(u!==d)if(sg(u)&&sg(d))for(let c=0;c<e.length;c++){const p=e[c];typeof p=="string"&&(e[c]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,i=[];for(let a=0;a<e.length;a++)NS(e[a])&&i.push(a);i.length&&JS(e,i,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wi[i](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var e;const{element:r,name:i,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const o=r.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=a.length-1,d=a[u];a[u]=Wi[i](r.measureViewportBox(),window.getComputedStyle(r.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,p])=>{r.getValue(c).set(p)}),this.resolveNoneKeyframes()}}const ug=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Pn.test(t)||t==="0")&&!t.startsWith("url("));function iE(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function sE(t,e,r,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],u=ug(a,e),d=ug(o,e);return!u||!d?!1:iE(t)||(r==="spring"||ch(r))&&i}const aE=t=>t!==null;function El(t,{repeat:e,repeatType:r="loop"},i){const a=t.filter(aE),o=e&&r!=="loop"&&e%2===1?0:a.length-1;return!o||i===void 0?a[o]:i}const oE=40;class f0{constructor({autoplay:e=!0,delay:r=0,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:u="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Nr.now(),this.options={autoplay:e,delay:r,type:i,repeat:a,repeatDelay:o,repeatType:u,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>oE?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&eE(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=Nr.now(),this.hasAttemptedResolve=!0;const{name:i,type:a,velocity:o,delay:u,onComplete:d,onUpdate:c,isGenerator:p}=this.options;if(!p&&!sE(e,i,a,o))if(u)this.options.duration=0;else{c&&c(El(e,this.options,r)),d&&d(),this.resolveFinishedPromise();return}const y=this.initPlayback(e,r);y!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...y},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ct=(t,e,r)=>t+(e-t)*r;function Ac(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function lE({hue:t,saturation:e,lightness:r,alpha:i}){t/=360,e/=100,r/=100;let a=0,o=0,u=0;if(!e)a=o=u=r;else{const d=r<.5?r*(1+e):r+e-r*e,c=2*r-d;a=Ac(c,d,t+1/3),o=Ac(c,d,t),u=Ac(c,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:i}}function rl(t,e){return r=>r>0?e:t}const Pc=(t,e,r)=>{const i=t*t,a=r*(e*e-i)+i;return a<0?0:Math.sqrt(a)},uE=[od,ti,Mi],cE=t=>uE.find(e=>e.test(t));function cg(t){const e=cE(t);if(!e)return!1;let r=e.parse(t);return e===Mi&&(r=lE(r)),r}const dg=(t,e)=>{const r=cg(t),i=cg(e);if(!r||!i)return rl(t,e);const a={...r};return o=>(a.red=Pc(r.red,i.red,o),a.green=Pc(r.green,i.green,o),a.blue=Pc(r.blue,i.blue,o),a.alpha=ct(r.alpha,i.alpha,o),ti.transform(a))},dE=(t,e)=>r=>e(t(r)),ma=(...t)=>t.reduce(dE),dd=new Set(["none","hidden"]);function hE(t,e){return dd.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function fE(t,e){return r=>ct(t,e,r)}function xh(t){return typeof t=="number"?fE:typeof t=="string"?rh(t)?rl:zt.test(t)?dg:gE:Array.isArray(t)?p0:typeof t=="object"?zt.test(t)?dg:pE:rl}function p0(t,e){const r=[...t],i=r.length,a=t.map((o,u)=>xh(o)(o,e[u]));return o=>{for(let u=0;u<i;u++)r[u]=a[u](o);return r}}function pE(t,e){const r={...t,...e},i={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(i[a]=xh(t[a])(t[a],e[a]));return a=>{for(const o in i)r[o]=i[o](a);return r}}function mE(t,e){var r;const i=[],a={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const u=e.types[o],d=t.indexes[u][a[u]],c=(r=t.values[d])!==null&&r!==void 0?r:0;i[o]=c,a[u]++}return i}const gE=(t,e)=>{const r=Pn.createTransformer(e),i=oa(t),a=oa(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?dd.has(t)&&!a.values.length||dd.has(e)&&!i.values.length?hE(t,e):ma(p0(mE(i,a),a.values),r):rl(t,e)};function m0(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?ct(t,e,r):xh(t)(t,e)}const yE=5;function g0(t,e,r){const i=Math.max(e-yE,0);return Vv(r-t(i),e-i)}const ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jc=.001;function vE({duration:t=ht.duration,bounce:e=ht.bounce,velocity:r=ht.velocity,mass:i=ht.mass}){let a,o,u=1-e;u=Yr(ht.minDamping,ht.maxDamping,u),t=Yr(ht.minDuration,ht.maxDuration,Hr(t)),u<1?(a=p=>{const y=p*u,m=y*t,w=y-r,b=hd(p,u),x=Math.exp(-m);return jc-w/b*x},o=p=>{const m=p*u*t,w=m*r+r,b=Math.pow(u,2)*Math.pow(p,2)*t,x=Math.exp(-m),E=hd(Math.pow(p,2),u);return(-a(p)+jc>0?-1:1)*((w-b)*x)/E}):(a=p=>{const y=Math.exp(-p*t),m=(p-r)*t+1;return-jc+y*m},o=p=>{const y=Math.exp(-p*t),m=(r-p)*(t*t);return y*m});const d=5/t,c=_E(a,o,d);if(t=Gr(t),isNaN(c))return{stiffness:ht.stiffness,damping:ht.damping,duration:t};{const p=Math.pow(c,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const wE=12;function _E(t,e,r){let i=r;for(let a=1;a<wE;a++)i=i-t(i)/e(i);return i}function hd(t,e){return t*Math.sqrt(1-e*e)}const bE=["duration","bounce"],xE=["stiffness","damping","mass"];function hg(t,e){return e.some(r=>t[r]!==void 0)}function kE(t){let e={velocity:ht.velocity,stiffness:ht.stiffness,damping:ht.damping,mass:ht.mass,isResolvedFromDuration:!1,...t};if(!hg(t,xE)&&hg(t,bE))if(t.visualDuration){const r=t.visualDuration,i=2*Math.PI/(r*1.2),a=i*i,o=2*Yr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:ht.mass,stiffness:a,damping:o}}else{const r=vE(t);e={...e,...r,mass:ht.mass},e.isResolvedFromDuration=!0}return e}function y0(t=ht.visualDuration,e=ht.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=r;const o=r.keyframes[0],u=r.keyframes[r.keyframes.length-1],d={done:!1,value:o},{stiffness:c,damping:p,mass:y,duration:m,velocity:w,isResolvedFromDuration:b}=kE({...r,velocity:-Hr(r.velocity||0)}),x=w||0,E=p/(2*Math.sqrt(c*y)),C=u-o,P=Hr(Math.sqrt(c/y)),O=Math.abs(C)<5;i||(i=O?ht.restSpeed.granular:ht.restSpeed.default),a||(a=O?ht.restDelta.granular:ht.restDelta.default);let S;if(E<1){const R=hd(P,E);S=D=>{const I=Math.exp(-E*P*D);return u-I*((x+E*P*C)/R*Math.sin(R*D)+C*Math.cos(R*D))}}else if(E===1)S=R=>u-Math.exp(-P*R)*(C+(x+P*C)*R);else{const R=P*Math.sqrt(E*E-1);S=D=>{const I=Math.exp(-E*P*D),M=Math.min(R*D,300);return u-I*((x+E*P*C)*Math.sinh(M)+R*C*Math.cosh(M))/R}}const j={calculatedDuration:b&&m||null,next:R=>{const D=S(R);if(b)d.done=R>=m;else{let I=0;E<1&&(I=R===0?Gr(x):g0(S,R,D));const M=Math.abs(I)<=i,Q=Math.abs(u-D)<=a;d.done=M&&Q}return d.value=d.done?u:D,d},toString:()=>{const R=Math.min(Dv(j),id),D=Lv(I=>j.next(R*I).value,R,30);return R+"ms "+D}};return j}function fg({keyframes:t,velocity:e=0,power:r=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:u,min:d,max:c,restDelta:p=.5,restSpeed:y}){const m=t[0],w={done:!1,value:m},b=M=>d!==void 0&&M<d||c!==void 0&&M>c,x=M=>d===void 0?c:c===void 0||Math.abs(d-M)<Math.abs(c-M)?d:c;let E=r*e;const C=m+E,P=u===void 0?C:u(C);P!==C&&(E=P-m);const O=M=>-E*Math.exp(-M/i),S=M=>P+O(M),j=M=>{const Q=O(M),z=S(M);w.done=Math.abs(Q)<=p,w.value=w.done?P:z};let R,D;const I=M=>{b(w.value)&&(R=M,D=y0({keyframes:[w.value,x(w.value)],velocity:g0(S,M,w.value),damping:a,stiffness:o,restDelta:p,restSpeed:y}))};return I(0),{calculatedDuration:null,next:M=>{let Q=!1;return!D&&R===void 0&&(Q=!0,j(M),I(M)),R!==void 0&&M>=R?D.next(M-R):(!Q&&j(M),w)}}}const SE=pa(.42,0,1,1),EE=pa(0,0,.58,1),v0=pa(.42,0,.58,1),CE=t=>Array.isArray(t)&&typeof t[0]!="number",TE={linear:tr,easeIn:SE,easeInOut:v0,easeOut:EE,circIn:yh,circInOut:Xv,circOut:Qv,backIn:gh,backInOut:Yv,backOut:Hv,anticipate:Jv},pg=t=>{if(dh(t)){mv(t.length===4);const[e,r,i,a]=t;return pa(e,r,i,a)}else if(typeof t=="string")return TE[t];return t};function AE(t,e,r){const i=[],a=r||m0,o=t.length-1;for(let u=0;u<o;u++){let d=a(t[u],t[u+1]);if(e){const c=Array.isArray(e)?e[u]||tr:e;d=ma(c,d)}i.push(d)}return i}function PE(t,e,{clamp:r=!0,ease:i,mixer:a}={}){const o=t.length;if(mv(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=AE(e,i,a),c=d.length,p=y=>{if(u&&y<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(y<t[m+1]);m++);const w=Ki(t[m],t[m+1],y);return d[m](w)};return r?y=>p(Yr(t[0],t[o-1],y)):p}function jE(t,e){const r=t[t.length-1];for(let i=1;i<=e;i++){const a=Ki(0,e,i);t.push(ct(r,1,a))}}function RE(t){const e=[0];return jE(e,t.length-1),e}function OE(t,e){return t.map(r=>r*e)}function NE(t,e){return t.map(()=>e||v0).splice(0,t.length-1)}function nl({duration:t=300,keyframes:e,times:r,ease:i="easeInOut"}){const a=CE(i)?i.map(pg):pg(i),o={done:!1,value:e[0]},u=OE(r&&r.length===e.length?r:RE(e),t),d=PE(u,e,{ease:Array.isArray(a)?a:NE(e,a)});return{calculatedDuration:t,next:c=>(o.value=d(c),o.done=c>=t,o)}}const IE=t=>{const e=({timestamp:r})=>t(r);return{start:()=>nt.update(e,!0),stop:()=>An(e),now:()=>Ot.isProcessing?Ot.timestamp:Nr.now()}},DE={decay:fg,inertia:fg,tween:nl,keyframes:nl,spring:y0},LE=t=>t/100;class kh extends f0{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:i,element:a,keyframes:o}=this.options,u=(a==null?void 0:a.KeyframeResolver)||bh,d=(c,p)=>this.onKeyframesResolved(c,p);this.resolver=new u(o,d,r,i,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o,velocity:u=0}=this.options,d=ch(r)?r:DE[r]||nl;let c,p;d!==nl&&typeof e[0]!="number"&&(c=ma(LE,m0(e[0],e[1])),e=[0,100]);const y=d({...this.options,keyframes:e});o==="mirror"&&(p=d({...this.options,keyframes:[...e].reverse(),velocity:-u})),y.calculatedDuration===null&&(y.calculatedDuration=Dv(y));const{calculatedDuration:m}=y,w=m+a,b=w*(i+1)-a;return{generator:y,mirroredGenerator:p,mapPercentToKeyframes:c,calculatedDuration:m,resolvedDuration:w,totalDuration:b}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:i}=this;if(!i){const{keyframes:M}=this.options;return{done:!0,value:M[M.length-1]}}const{finalKeyframe:a,generator:o,mirroredGenerator:u,mapPercentToKeyframes:d,keyframes:c,calculatedDuration:p,totalDuration:y,resolvedDuration:m}=i;if(this.startTime===null)return o.next(0);const{delay:w,repeat:b,repeatType:x,repeatDelay:E,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-y/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const P=this.currentTime-w*(this.speed>=0?1:-1),O=this.speed>=0?P<0:P>y;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let S=this.currentTime,j=o;if(b){const M=Math.min(this.currentTime,y)/m;let Q=Math.floor(M),z=M%1;!z&&M>=1&&(z=1),z===1&&Q--,Q=Math.min(Q,b+1),!!(Q%2)&&(x==="reverse"?(z=1-z,E&&(z-=E/m)):x==="mirror"&&(j=u)),S=Yr(0,1,z)*m}const R=O?{done:!1,value:c[0]}:j.next(S);d&&(R.value=d(R.value));let{done:D}=R;!O&&p!==null&&(D=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return I&&a!==void 0&&(R.value=El(c,this.options,a)),C&&C(R.value),I&&this.finish(),R}get duration(){const{resolved:e}=this;return e?Hr(e.calculatedDuration):0}get time(){return Hr(this.currentTime)}set time(e){e=Gr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Hr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=IE,onPlay:r,startTime:i}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),r&&r();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const ME=new Set(["opacity","clipPath","filter","transform"]);function zE(t,e,r,{delay:i=0,duration:a=300,repeat:o=0,repeatType:u="loop",ease:d="easeInOut",times:c}={}){const p={[e]:r};c&&(p.offset=c);const y=zv(d,a);return Array.isArray(y)&&(p.easing=y),t.animate(p,{delay:i,duration:a,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"})}const BE=Yd(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),il=10,UE=2e4;function FE(t){return ch(t.type)||t.type==="spring"||!Mv(t.ease)}function $E(t,e){const r=new kh({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const a=[];let o=0;for(;!i.done&&o<UE;)i=r.sample(o),a.push(i.value),o+=il;return{times:void 0,keyframes:a,duration:o-il,ease:"linear"}}const w0={anticipate:Jv,backInOut:Yv,circInOut:Xv};function VE(t){return t in w0}class mg extends f0{constructor(e){super(e);const{name:r,motionValue:i,element:a,keyframes:o}=this.options;this.resolver=new h0(o,(u,d)=>this.onKeyframesResolved(u,d),r,i,a),this.resolver.scheduleResolve()}initPlayback(e,r){let{duration:i=300,times:a,ease:o,type:u,motionValue:d,name:c,startTime:p}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof o=="string"&&tl()&&VE(o)&&(o=w0[o]),FE(this.options)){const{onComplete:m,onUpdate:w,motionValue:b,element:x,...E}=this.options,C=$E(e,E);e=C.keyframes,e.length===1&&(e[1]=e[0]),i=C.duration,a=C.times,o=C.ease,u="keyframes"}const y=zE(d.owner.current,c,e,{...this.options,duration:i,times:a,ease:o});return y.startTime=p??this.calcStartTime(),this.pendingTimeline?(Zm(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:m}=this.options;d.set(El(e,this.options,r)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:i,times:a,type:u,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return Hr(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return Hr(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:i}=r;i.currentTime=Gr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:i}=r;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return tr;const{animation:i}=r;Zm(i,e)}return tr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:i,duration:a,type:o,ease:u,times:d}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:y,onComplete:m,element:w,...b}=this.options,x=new kh({...b,keyframes:i,duration:a,type:o,ease:u,times:d,isGenerator:!0}),E=Gr(this.time);p.setWithVelocity(x.sample(E-il).value,x.sample(E).value,il)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:i,repeatDelay:a,repeatType:o,damping:u,type:d}=e;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:p}=r.owner.getProps();return BE()&&i&&ME.has(i)&&!c&&!p&&!a&&o!=="mirror"&&u!==0&&d!=="inertia"}}const KE={type:"spring",stiffness:500,damping:25,restSpeed:10},qE=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),WE={type:"keyframes",duration:.8},GE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HE=(t,{keyframes:e})=>e.length>2?WE:si.has(t)?t.startsWith("scale")?qE(e[1]):KE:GE;function YE({when:t,delay:e,delayChildren:r,staggerChildren:i,staggerDirection:a,repeat:o,repeatType:u,repeatDelay:d,from:c,elapsed:p,...y}){return!!Object.keys(y).length}const Sh=(t,e,r,i={},a,o)=>u=>{const d=uh(i,t)||{},c=d.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Gr(c);let y={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:w=>{e.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:o?void 0:a};YE(d)||(y={...y,...HE(t,y)}),y.duration&&(y.duration=Gr(y.duration)),y.repeatDelay&&(y.repeatDelay=Gr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let m=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(m=!0)),m&&!o&&e.get()!==void 0){const w=El(y.keyframes,d);if(w!==void 0)return nt.update(()=>{y.onUpdate(w),y.onComplete()}),new pS([])}return!o&&mg.supports(y)?new mg(y):new kh(y)};function JE({protectedKeys:t,needsAnimating:e},r){const i=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,i}function _0(t,e,{delay:r=0,transitionOverride:i,type:a}={}){var o;let{transition:u=t.getDefaultTransition(),transitionEnd:d,...c}=e;i&&(u=i);const p=[],y=a&&t.animationState&&t.animationState.getState()[a];for(const m in c){const w=t.getValue(m,(o=t.latestValues[m])!==null&&o!==void 0?o:null),b=c[m];if(b===void 0||y&&JE(y,m))continue;const x={delay:r,...uh(u||{},m)};let E=!1;if(window.MotionHandoffAnimation){const P=Kv(t);if(P){const O=window.MotionHandoffAnimation(P,m,nt);O!==null&&(x.startTime=O,E=!0)}}ad(t,m),w.start(Sh(m,w,b,t.shouldReduceMotion&&$v.has(m)?{type:!1}:x,t,E));const C=w.animation;C&&p.push(C)}return d&&Promise.all(p).then(()=>{nt.update(()=>{d&&AS(t,d)})}),p}function fd(t,e,r={}){var i;const a=Sl(t,e,r.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(o=r.transitionOverride);const u=a?()=>Promise.all(_0(t,a,r)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:m,staggerDirection:w}=o;return QE(t,e,y+p,m,w,r)}:()=>Promise.resolve(),{when:c}=o;if(c){const[p,y]=c==="beforeChildren"?[u,d]:[d,u];return p().then(()=>y())}else return Promise.all([u(),d(r.delay)])}function QE(t,e,r=0,i=0,a=1,o){const u=[],d=(t.variantChildren.size-1)*i,c=a===1?(p=0)=>p*i:(p=0)=>d-p*i;return Array.from(t.variantChildren).sort(XE).forEach((p,y)=>{p.notify("AnimationStart",e),u.push(fd(p,e,{...o,delay:r+c(y)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function XE(t,e){return t.sortNodePosition(e)}function ZE(t,e,r={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(o=>fd(t,o,r));i=Promise.all(a)}else if(typeof e=="string")i=fd(t,e,r);else{const a=typeof e=="function"?Sl(t,e,r.custom):e;i=Promise.all(_0(t,a,r))}return i.then(()=>{t.notify("AnimationComplete",e)})}const eC=Qd.length;function b0(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?b0(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<eC;r++){const i=Qd[r],a=t.props[i];(ia(a)||a===!1)&&(e[i]=a)}return e}const tC=[...Jd].reverse(),rC=Jd.length;function nC(t){return e=>Promise.all(e.map(({animation:r,options:i})=>ZE(t,r,i)))}function iC(t){let e=nC(t),r=gg(),i=!0;const a=c=>(p,y)=>{var m;const w=Sl(t,y,c==="exit"?(m=t.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(w){const{transition:b,transitionEnd:x,...E}=w;p={...p,...E,...x}}return p};function o(c){e=c(t)}function u(c){const{props:p}=t,y=b0(t.parent)||{},m=[],w=new Set;let b={},x=1/0;for(let C=0;C<rC;C++){const P=tC[C],O=r[P],S=p[P]!==void 0?p[P]:y[P],j=ia(S),R=P===c?O.isActive:null;R===!1&&(x=C);let D=S===y[P]&&S!==p[P]&&j;if(D&&i&&t.manuallyAnimateOnMount&&(D=!1),O.protectedKeys={...b},!O.isActive&&R===null||!S&&!O.prevProp||xl(S)||typeof S=="boolean")continue;const I=sC(O.prevProp,S);let M=I||P===c&&O.isActive&&!D&&j||C>x&&j,Q=!1;const z=Array.isArray(S)?S:[S];let K=z.reduce(a(P),{});R===!1&&(K={});const{prevResolvedValues:re={}}=O,ue={...re,...K},xe=ke=>{M=!0,w.has(ke)&&(Q=!0,w.delete(ke)),O.needsAnimating[ke]=!0;const oe=t.getValue(ke);oe&&(oe.liveStyle=!1)};for(const ke in ue){const oe=K[ke],se=re[ke];if(b.hasOwnProperty(ke))continue;let me=!1;nd(oe)&&nd(se)?me=!Iv(oe,se):me=oe!==se,me?oe!=null?xe(ke):w.add(ke):oe!==void 0&&w.has(ke)?xe(ke):O.protectedKeys[ke]=!0}O.prevProp=S,O.prevResolvedValues=K,O.isActive&&(b={...b,...K}),i&&t.blockInitialAnimation&&(M=!1),M&&(!(D&&I)||Q)&&m.push(...z.map(ke=>({animation:ke,options:{type:P}})))}if(w.size){const C={};w.forEach(P=>{const O=t.getBaseTarget(P),S=t.getValue(P);S&&(S.liveStyle=!0),C[P]=O??null}),m.push({animation:C})}let E=!!m.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(E=!1),i=!1,E?e(m):Promise.resolve()}function d(c,p){var y;if(r[c].isActive===p)return Promise.resolve();(y=t.variantChildren)===null||y===void 0||y.forEach(w=>{var b;return(b=w.animationState)===null||b===void 0?void 0:b.setActive(c,p)}),r[c].isActive=p;const m=u(c);for(const w in r)r[w].protectedKeys={};return m}return{animateChanges:u,setActive:d,setAnimateFunction:o,getState:()=>r,reset:()=>{r=gg(),i=!0}}}function sC(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Iv(e,t):!1}function qn(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gg(){return{animate:qn(!0),whileInView:qn(),whileHover:qn(),whileTap:qn(),whileDrag:qn(),whileFocus:qn(),exit:qn()}}class Rn{constructor(e){this.isMounted=!1,this.node=e}update(){}}class aC extends Rn{constructor(e){super(e),e.animationState||(e.animationState=iC(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let oC=0;class lC extends Rn{constructor(){super(...arguments),this.id=oC++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const uC={animation:{Feature:aC},exit:{Feature:lC}};function la(t,e,r,i={passive:!0}){return t.addEventListener(e,r,i),()=>t.removeEventListener(e,r)}function ga(t){return{point:{x:t.pageX,y:t.pageY}}}const cC=t=>e=>hh(e)&&t(e,ga(e));function Js(t,e,r,i){return la(t,e,cC(r),i)}const yg=(t,e)=>Math.abs(t-e);function dC(t,e){const r=yg(t.x,e.x),i=yg(t.y,e.y);return Math.sqrt(r**2+i**2)}class x0{constructor(e,r,{transformPagePoint:i,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Oc(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,b=dC(m.offset,{x:0,y:0})>=3;if(!w&&!b)return;const{point:x}=m,{timestamp:E}=Ot;this.history.push({...x,timestamp:E});const{onStart:C,onMove:P}=this.handlers;w||(C&&C(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,m)},this.handlePointerMove=(m,w)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Rc(w,this.transformPagePoint),nt.update(this.updatePoint,!0)},this.handlePointerUp=(m,w)=>{this.end();const{onEnd:b,onSessionEnd:x,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Oc(m.type==="pointercancel"?this.lastMoveEventInfo:Rc(w,this.transformPagePoint),this.history);this.startEvent&&b&&b(m,C),x&&x(m,C)},!hh(e))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=i,this.contextWindow=a||window;const u=ga(e),d=Rc(u,this.transformPagePoint),{point:c}=d,{timestamp:p}=Ot;this.history=[{...c,timestamp:p}];const{onSessionStart:y}=r;y&&y(e,Oc(d,this.history)),this.removeListeners=ma(Js(this.contextWindow,"pointermove",this.handlePointerMove),Js(this.contextWindow,"pointerup",this.handlePointerUp),Js(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),An(this.updatePoint)}}function Rc(t,e){return e?{point:e(t.point)}:t}function vg(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Oc({point:t},e){return{point:t,delta:vg(t,k0(e)),offset:vg(t,hC(e)),velocity:fC(e,.1)}}function hC(t){return t[0]}function k0(t){return t[t.length-1]}function fC(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,i=null;const a=k0(t);for(;r>=0&&(i=t[r],!(a.timestamp-i.timestamp>Gr(e)));)r--;if(!i)return{x:0,y:0};const o=Hr(a.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const u={x:(a.x-i.x)/o,y:(a.y-i.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const S0=1e-4,pC=1-S0,mC=1+S0,E0=.01,gC=0-E0,yC=0+E0;function rr(t){return t.max-t.min}function vC(t,e,r){return Math.abs(t-e)<=r}function wg(t,e,r,i=.5){t.origin=i,t.originPoint=ct(e.min,e.max,t.origin),t.scale=rr(r)/rr(e),t.translate=ct(r.min,r.max,t.origin)-t.originPoint,(t.scale>=pC&&t.scale<=mC||isNaN(t.scale))&&(t.scale=1),(t.translate>=gC&&t.translate<=yC||isNaN(t.translate))&&(t.translate=0)}function Qs(t,e,r,i){wg(t.x,e.x,r.x,i?i.originX:void 0),wg(t.y,e.y,r.y,i?i.originY:void 0)}function _g(t,e,r){t.min=r.min+e.min,t.max=t.min+rr(e)}function wC(t,e,r){_g(t.x,e.x,r.x),_g(t.y,e.y,r.y)}function bg(t,e,r){t.min=e.min-r.min,t.max=t.min+rr(e)}function Xs(t,e,r){bg(t.x,e.x,r.x),bg(t.y,e.y,r.y)}function _C(t,{min:e,max:r},i){return e!==void 0&&t<e?t=i?ct(e,t,i.min):Math.max(t,e):r!==void 0&&t>r&&(t=i?ct(r,t,i.max):Math.min(t,r)),t}function xg(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function bC(t,{top:e,left:r,bottom:i,right:a}){return{x:xg(t.x,r,a),y:xg(t.y,e,i)}}function kg(t,e){let r=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,i]=[i,r]),{min:r,max:i}}function xC(t,e){return{x:kg(t.x,e.x),y:kg(t.y,e.y)}}function kC(t,e){let r=.5;const i=rr(t),a=rr(e);return a>i?r=Ki(e.min,e.max-i,t.min):i>a&&(r=Ki(t.min,t.max-a,e.min)),Yr(0,1,r)}function SC(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const pd=.35;function EC(t=pd){return t===!1?t=0:t===!0&&(t=pd),{x:Sg(t,"left","right"),y:Sg(t,"top","bottom")}}function Sg(t,e,r){return{min:Eg(t,e),max:Eg(t,r)}}function Eg(t,e){return typeof t=="number"?t:t[e]||0}const Cg=()=>({translate:0,scale:1,origin:0,originPoint:0}),zi=()=>({x:Cg(),y:Cg()}),Tg=()=>({min:0,max:0}),gt=()=>({x:Tg(),y:Tg()});function cr(t){return[t("x"),t("y")]}function C0({top:t,left:e,right:r,bottom:i}){return{x:{min:e,max:r},y:{min:t,max:i}}}function CC({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function TC(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function Nc(t){return t===void 0||t===1}function md({scale:t,scaleX:e,scaleY:r}){return!Nc(t)||!Nc(e)||!Nc(r)}function Hn(t){return md(t)||T0(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function T0(t){return Ag(t.x)||Ag(t.y)}function Ag(t){return t&&t!=="0%"}function sl(t,e,r){const i=t-r,a=e*i;return r+a}function Pg(t,e,r,i,a){return a!==void 0&&(t=sl(t,a,i)),sl(t,r,i)+e}function gd(t,e=0,r=1,i,a){t.min=Pg(t.min,e,r,i,a),t.max=Pg(t.max,e,r,i,a)}function A0(t,{x:e,y:r}){gd(t.x,e.translate,e.scale,e.originPoint),gd(t.y,r.translate,r.scale,r.originPoint)}const jg=.999999999999,Rg=1.0000000000001;function AC(t,e,r,i=!1){const a=r.length;if(!a)return;e.x=e.y=1;let o,u;for(let d=0;d<a;d++){o=r[d],u=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ui(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,A0(t,u)),i&&Hn(o.latestValues)&&Ui(t,o.latestValues))}e.x<Rg&&e.x>jg&&(e.x=1),e.y<Rg&&e.y>jg&&(e.y=1)}function Bi(t,e){t.min=t.min+e,t.max=t.max+e}function Og(t,e,r,i,a=.5){const o=ct(t.min,t.max,a);gd(t,e,r,o,i)}function Ui(t,e){Og(t.x,e.x,e.scaleX,e.scale,e.originX),Og(t.y,e.y,e.scaleY,e.scale,e.originY)}function P0(t,e){return C0(TC(t.getBoundingClientRect(),e))}function PC(t,e,r){const i=P0(t,r),{scroll:a}=e;return a&&(Bi(i.x,a.offset.x),Bi(i.y,a.offset.y)),i}const j0=({current:t})=>t?t.ownerDocument.defaultView:null,jC=new WeakMap;class RC{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gt(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ga(y).point)},o=(y,m)=>{const{drag:w,dragPropagation:b,onDragStart:x}=this.getProps();if(w&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=kS(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cr(C=>{let P=this.getAxisMotionValue(C).get()||0;if(Or.test(P)){const{projection:O}=this.visualElement;if(O&&O.layout){const S=O.layout.layoutBox[C];S&&(P=rr(S)*(parseFloat(P)/100))}}this.originPoint[C]=P}),x&&nt.postRender(()=>x(y,m)),ad(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},u=(y,m)=>{const{dragPropagation:w,dragDirectionLock:b,onDirectionLock:x,onDrag:E}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:C}=m;if(b&&this.currentDirection===null){this.currentDirection=OC(C),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,C),this.updateAxis("y",m.point,C),this.visualElement.render(),E&&E(y,m)},d=(y,m)=>this.stop(y,m),c=()=>cr(y=>{var m;return this.getAnimationState(y)==="paused"&&((m=this.getAxisMotionValue(y).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new x0(e,{onSessionStart:a,onStart:o,onMove:u,onSessionEnd:d,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:j0(this.visualElement)})}stop(e,r){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&nt.postRender(()=>o(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,i){const{drag:a}=this.getProps();if(!i||!Ro(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=_C(u,this.constraints[e],this.elastic[e])),o.set(u)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:i}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;r&&Li(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=bC(a.layoutBox,r):this.constraints=!1,this.elastic=EC(i),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&cr(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=SC(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Li(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=PC(i,a.root,this.visualElement.getTransformPagePoint());let u=xC(a.layout.layoutBox,o);if(r){const d=r(CC(u));this.hasMutatedConstraints=!!d,d&&(u=C0(d))}return u}startAnimation(e){const{drag:r,dragMomentum:i,dragElastic:a,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),c=this.constraints||{},p=cr(y=>{if(!Ro(y,r,this.currentDirection))return;let m=c&&c[y]||{};u&&(m={min:0,max:0});const w=a?200:1e6,b=a?40:1e7,x={type:"inertia",velocity:i?e[y]:0,bounceStiffness:w,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(y,x)});return Promise.all(p).then(d)}startAxisValueAnimation(e,r){const i=this.getAxisMotionValue(e);return ad(this.visualElement,e),i.start(Sh(e,i,0,r,this.visualElement,!1))}stopAnimation(){cr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){cr(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[r];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){cr(r=>{const{drag:i}=this.getProps();if(!Ro(r,i,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(r);if(a&&a.layout){const{min:u,max:d}=a.layout.layoutBox[r];o.set(e[r]-ct(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!Li(r)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};cr(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const c=d.get();a[u]=kC({min:c,max:c},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),cr(u=>{if(!Ro(u,e,null))return;const d=this.getAxisMotionValue(u),{min:c,max:p}=this.constraints[u];d.set(ct(c,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;jC.set(this.visualElement,this);const e=this.visualElement.current,r=Js(e,"pointerdown",c=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();Li(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),nt.read(i);const u=la(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:p})=>{this.isDragging&&p&&(cr(y=>{const m=this.getAxisMotionValue(y);m&&(this.originPoint[y]+=c[y].translate,m.set(m.get()+c[y].translate))}),this.visualElement.render())}));return()=>{u(),r(),o(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:u=pd,dragMomentum:d=!0}=e;return{...e,drag:r,dragDirectionLock:i,dragPropagation:a,dragConstraints:o,dragElastic:u,dragMomentum:d}}}function Ro(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function OC(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class NC extends Rn{constructor(e){super(e),this.removeGroupControls=tr,this.removeListeners=tr,this.controls=new RC(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ng=t=>(e,r)=>{t&&nt.postRender(()=>t(e,r))};class IC extends Rn{constructor(){super(...arguments),this.removePointerDownListener=tr}onPointerDown(e){this.session=new x0(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:j0(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Ng(e),onStart:Ng(r),onMove:i,onEnd:(o,u)=>{delete this.session,a&&nt.postRender(()=>a(o,u))}}}mount(){this.removePointerDownListener=Js(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Wo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ig(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const zs={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ie.test(t))t=parseFloat(t);else return t;const r=Ig(t,e.target.x),i=Ig(t,e.target.y);return`${r}% ${i}%`}},DC={correct:(t,{treeScale:e,projectionDelta:r})=>{const i=t,a=Pn.parse(t);if(a.length>5)return i;const o=Pn.createTransformer(t),u=typeof a[0]!="number"?1:0,d=r.x.scale*e.x,c=r.y.scale*e.y;a[0+u]/=d,a[1+u]/=c;const p=ct(d,c,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),o(a)}};class LC extends F.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i,layoutId:a}=this.props,{projection:o}=e;rS(MC),o&&(r.group&&r.group.add(o),i&&i.register&&a&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Wo.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:i,drag:a,isPresent:o}=this.props,u=i.projection;return u&&(u.isPresent=o,a||e.layoutDependency!==r||r===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||nt.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Zd.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function R0(t){const[e,r]=fv(),i=F.useContext(qd);return v.jsx(LC,{...t,layoutGroup:i,switchLayoutGroup:F.useContext(bv),isPresent:e,safeToRemove:r})}const MC={borderRadius:{...zs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zs,borderTopRightRadius:zs,borderBottomLeftRadius:zs,borderBottomRightRadius:zs,boxShadow:DC};function zC(t,e,r){const i=Bt(t)?t:aa(t);return i.start(Sh("",i,e,r)),i.animation}function BC(t){return t instanceof SVGElement&&t.tagName!=="svg"}const UC=(t,e)=>t.depth-e.depth;class FC{constructor(){this.children=[],this.isDirty=!1}add(e){fh(this.children,e),this.isDirty=!0}remove(e){ph(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(UC),this.isDirty=!1,this.children.forEach(e)}}function $C(t,e){const r=Nr.now(),i=({timestamp:a})=>{const o=a-r;o>=e&&(An(i),t(o-e))};return nt.read(i,!0),()=>An(i)}const O0=["TopLeft","TopRight","BottomLeft","BottomRight"],VC=O0.length,Dg=t=>typeof t=="string"?parseFloat(t):t,Lg=t=>typeof t=="number"||Ie.test(t);function KC(t,e,r,i,a,o){a?(t.opacity=ct(0,r.opacity!==void 0?r.opacity:1,qC(i)),t.opacityExit=ct(e.opacity!==void 0?e.opacity:1,0,WC(i))):o&&(t.opacity=ct(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,i));for(let u=0;u<VC;u++){const d=`border${O0[u]}Radius`;let c=Mg(e,d),p=Mg(r,d);if(c===void 0&&p===void 0)continue;c||(c=0),p||(p=0),c===0||p===0||Lg(c)===Lg(p)?(t[d]=Math.max(ct(Dg(c),Dg(p),i),0),(Or.test(p)||Or.test(c))&&(t[d]+="%")):t[d]=p}(e.rotate||r.rotate)&&(t.rotate=ct(e.rotate||0,r.rotate||0,i))}function Mg(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const qC=N0(0,.5,Qv),WC=N0(.5,.95,tr);function N0(t,e,r){return i=>i<t?0:i>e?1:r(Ki(t,e,i))}function zg(t,e){t.min=e.min,t.max=e.max}function ur(t,e){zg(t.x,e.x),zg(t.y,e.y)}function Bg(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ug(t,e,r,i,a){return t-=e,t=sl(t,1/r,i),a!==void 0&&(t=sl(t,1/a,i)),t}function GC(t,e=0,r=1,i=.5,a,o=t,u=t){if(Or.test(e)&&(e=parseFloat(e),e=ct(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=ct(o.min,o.max,i);t===o&&(d-=e),t.min=Ug(t.min,e,r,d,a),t.max=Ug(t.max,e,r,d,a)}function Fg(t,e,[r,i,a],o,u){GC(t,e[r],e[i],e[a],e.scale,o,u)}const HC=["x","scaleX","originX"],YC=["y","scaleY","originY"];function $g(t,e,r,i){Fg(t.x,e,HC,r?r.x:void 0,i?i.x:void 0),Fg(t.y,e,YC,r?r.y:void 0,i?i.y:void 0)}function Vg(t){return t.translate===0&&t.scale===1}function I0(t){return Vg(t.x)&&Vg(t.y)}function Kg(t,e){return t.min===e.min&&t.max===e.max}function JC(t,e){return Kg(t.x,e.x)&&Kg(t.y,e.y)}function qg(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function D0(t,e){return qg(t.x,e.x)&&qg(t.y,e.y)}function Wg(t){return rr(t.x)/rr(t.y)}function Gg(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class QC{constructor(){this.members=[]}add(e){fh(this.members,e),e.scheduleRender()}remove(e){if(ph(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let i;for(let a=r;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,r){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,r&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:i}=e;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function XC(t,e,r){let i="";const a=t.x.translate/e.x,o=t.y.translate/e.y,u=(r==null?void 0:r.z)||0;if((a||o||u)&&(i=`translate3d(${a}px, ${o}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:p,rotate:y,rotateX:m,rotateY:w,skewX:b,skewY:x}=r;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),m&&(i+=`rotateX(${m}deg) `),w&&(i+=`rotateY(${w}deg) `),b&&(i+=`skewX(${b}deg) `),x&&(i+=`skewY(${x}deg) `)}const d=t.x.scale*e.x,c=t.y.scale*e.y;return(d!==1||c!==1)&&(i+=`scale(${d}, ${c})`),i||"none"}const Yn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},qs=typeof window<"u"&&window.MotionDebug!==void 0,Ic=["","X","Y","Z"],ZC={visibility:"hidden"},Hg=1e3;let eT=0;function Dc(t,e,r,i){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function L0(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=Kv(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",nt,!(a||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&L0(i)}function M0({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},d=e==null?void 0:e()){this.id=eT++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,qs&&(Yn.totalNodes=Yn.resolvedTargetDeltas=Yn.recalculatedProjection=0),this.nodes.forEach(nT),this.nodes.forEach(lT),this.nodes.forEach(uT),this.nodes.forEach(iT),qs&&window.MotionDebug.record(Yn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new FC)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new mh),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const c=this.eventHandlers.get(u);c&&c.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=BC(u),this.instance=u;const{layoutId:c,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(p||c)&&(this.isLayoutDirty=!0),t){let m;const w=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=$C(w,250),Wo.hasAnimatedSinceResize&&(Wo.hasAnimatedSinceResize=!1,this.nodes.forEach(Jg))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&y&&(c||p)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:w,hasRelativeTargetChanged:b,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||y.getDefaultTransition()||pT,{onLayoutAnimationStart:C,onLayoutAnimationComplete:P}=y.getProps(),O=!this.targetLayout||!D0(this.targetLayout,x)||b,S=!w&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||w&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,S);const j={...uh(E,"layout"),onPlay:C,onComplete:P};(y.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else w||Jg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,An(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cT),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&L0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const m=this.path[y];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:d,layout:c}=this.options;if(d===void 0&&!c)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Yg);return}this.isUpdating||this.nodes.forEach(aT),this.isUpdating=!1,this.nodes.forEach(oT),this.nodes.forEach(tT),this.nodes.forEach(rT),this.clearAllSnapshots();const d=Nr.now();Ot.delta=Yr(0,1e3/60,d-Ot.timestamp),Ot.timestamp=d,Ot.isProcessing=!0,Ec.update.process(Ot),Ec.preRender.process(Ot),Ec.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sT),this.sharedNodes.forEach(dT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d){const c=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!I0(this.projectionDelta),c=this.getTransformTemplate(),p=c?c(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&(d||Hn(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let c=this.removeElementScroll(d);return u&&(c=this.removeTransform(c)),mT(c),{animationId:this.root.animationId,measuredBox:d,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:d}=this.options;if(!d)return gt();const c=d.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(gT))){const{scroll:y}=this.root;y&&(Bi(c.x,y.offset.x),Bi(c.y,y.offset.y))}return c}removeElementScroll(u){var d;const c=gt();if(ur(c,u),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return c;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:m,options:w}=y;y!==this.root&&m&&w.layoutScroll&&(m.wasRoot&&ur(c,u),Bi(c.x,m.offset.x),Bi(c.y,m.offset.y))}return c}applyTransform(u,d=!1){const c=gt();ur(c,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Ui(c,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Hn(y.latestValues)&&Ui(c,y.latestValues)}return Hn(this.latestValues)&&Ui(c,this.latestValues),c}removeTransform(u){const d=gt();ur(d,u);for(let c=0;c<this.path.length;c++){const p=this.path[c];if(!p.instance||!Hn(p.latestValues))continue;md(p.latestValues)&&p.updateSnapshot();const y=gt(),m=p.measurePageBox();ur(y,m),$g(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Hn(this.latestValues)&&$g(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==c;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:w}=this.options;if(!(!this.layout||!(m||w))){if(this.resolvedRelativeTargetAt=Ot.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),Xs(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),ur(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=gt(),this.targetWithTransforms=gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ur(this.target,this.layout.layoutBox),A0(this.target,this.targetDelta)):ur(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),Xs(this.relativeTargetOrigin,this.target,b.target),ur(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}qs&&Yn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||md(this.parent.latestValues)||T0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),c=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(p=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(p=!1),p)return;const{layout:y,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||m))return;ur(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,b=this.treeScale.y;AC(this.layoutCorrected,this.treeScale,this.path,c),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=gt());const{target:x}=d;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Bg(this.prevProjectionDelta.x,this.projectionDelta.x),Bg(this.prevProjectionDelta.y,this.projectionDelta.y)),Qs(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==b||!Gg(this.projectionDelta.x,this.prevProjectionDelta.x)||!Gg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),qs&&Yn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),u){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zi(),this.projectionDelta=zi(),this.projectionDeltaWithTransform=zi()}setAnimationOrigin(u,d=!1){const c=this.snapshot,p=c?c.latestValues:{},y={...this.latestValues},m=zi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=gt(),b=c?c.source:void 0,x=this.layout?this.layout.source:void 0,E=b!==x,C=this.getStack(),P=!C||C.members.length<=1,O=!!(E&&!P&&this.options.crossfade===!0&&!this.path.some(fT));this.animationProgress=0;let S;this.mixTargetDelta=j=>{const R=j/1e3;Qg(m.x,u.x,R),Qg(m.y,u.y,R),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xs(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hT(this.relativeTarget,this.relativeTargetOrigin,w,R),S&&JC(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=gt()),ur(S,this.relativeTarget)),E&&(this.animationValues=y,KC(y,p,this.latestValues,R,O,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(An(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nt.update(()=>{Wo.hasAnimatedSinceResize=!0,this.currentAnimation=zC(0,Hg,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Hg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:c,layout:p,latestValues:y}=u;if(!(!d||!c||!p)){if(this!==u&&this.layout&&p&&z0(this.options.animationType,this.layout.layoutBox,p.layoutBox)){c=this.target||gt();const m=rr(this.layout.layoutBox.x);c.x.min=u.target.x.min,c.x.max=c.x.min+m;const w=rr(this.layout.layoutBox.y);c.y.min=u.target.y.min,c.y.max=c.y.min+w}ur(d,c),Ui(d,y),Qs(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new QC),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:c}={}){const p=this.getStack();p&&p.promote(this,c),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:c}=u;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(d=!0),!d)return;const p={};c.z&&Dc("z",u,p,this.animationValues);for(let y=0;y<Ic.length;y++)Dc(`rotate${Ic[y]}`,u,p,this.animationValues),Dc(`skew${Ic[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}getProjectionStyles(u){var d,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ZC;const p={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Ko(u==null?void 0:u.pointerEvents)||"",p.transform=y?y(this.latestValues,""):"none",p;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=Ko(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Hn(this.latestValues)&&(E.transform=y?y({},""):"none",this.hasProjected=!1),E}const w=m.animationValues||m.latestValues;this.applyTransformsToTarget(),p.transform=XC(this.projectionDeltaWithTransform,this.treeScale,w),y&&(p.transform=y(w,p.transform));const{x:b,y:x}=this.projectionDelta;p.transformOrigin=`${b.origin*100}% ${x.origin*100}% 0`,m.animationValues?p.opacity=m===this?(c=(d=w.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:p.opacity=m===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const E in el){if(w[E]===void 0)continue;const{correct:C,applyTo:P}=el[E],O=p.transform==="none"?w[E]:C(w[E],m);if(P){const S=P.length;for(let j=0;j<S;j++)p[P[j]]=O}else p[E]=O}return this.options.layoutId&&(p.pointerEvents=m===this?Ko(u==null?void 0:u.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(Yg),this.root.sharedNodes.clear()}}}function tT(t){t.updateLayout()}function rT(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=t.layout,{animationType:o}=t.options,u=r.source!==t.layout.source;o==="size"?cr(m=>{const w=u?r.measuredBox[m]:r.layoutBox[m],b=rr(w);w.min=i[m].min,w.max=w.min+b}):z0(o,r.layoutBox,i)&&cr(m=>{const w=u?r.measuredBox[m]:r.layoutBox[m],b=rr(i[m]);w.max=w.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+b)});const d=zi();Qs(d,i,r.layoutBox);const c=zi();u?Qs(c,t.applyTransform(a,!0),r.measuredBox):Qs(c,i,r.layoutBox);const p=!I0(d);let y=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:w,layout:b}=m;if(w&&b){const x=gt();Xs(x,r.layoutBox,w.layoutBox);const E=gt();Xs(E,i,b.layoutBox),D0(x,E)||(y=!0),m.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=x,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:r,delta:c,layoutDelta:d,hasLayoutChanged:p,hasRelativeTargetChanged:y})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function nT(t){qs&&Yn.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function iT(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function sT(t){t.clearSnapshot()}function Yg(t){t.clearMeasurements()}function aT(t){t.isLayoutDirty=!1}function oT(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Jg(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function lT(t){t.resolveTargetDelta()}function uT(t){t.calcProjection()}function cT(t){t.resetSkewAndRotation()}function dT(t){t.removeLeadSnapshot()}function Qg(t,e,r){t.translate=ct(e.translate,0,r),t.scale=ct(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Xg(t,e,r,i){t.min=ct(e.min,r.min,i),t.max=ct(e.max,r.max,i)}function hT(t,e,r,i){Xg(t.x,e.x,r.x,i),Xg(t.y,e.y,r.y,i)}function fT(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const pT={duration:.45,ease:[.4,0,.1,1]},Zg=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ey=Zg("applewebkit/")&&!Zg("chrome/")?Math.round:tr;function ty(t){t.min=ey(t.min),t.max=ey(t.max)}function mT(t){ty(t.x),ty(t.y)}function z0(t,e,r){return t==="position"||t==="preserve-aspect"&&!vC(Wg(e),Wg(r),.2)}function gT(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const yT=M0({attachResizeListener:(t,e)=>la(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Lc={current:void 0},B0=M0({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Lc.current){const t=new yT({});t.mount(window),t.setOptions({layoutScroll:!0}),Lc.current=t}return Lc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),vT={pan:{Feature:IC},drag:{Feature:NC,ProjectionNode:B0,MeasureLayout:R0}};function ry(t,e,r){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,o=i[a];o&&nt.postRender(()=>o(e,ga(e)))}class wT extends Rn{mount(){const{current:e}=this.node;e&&(this.unmount=vS(e,r=>(ry(this.node,r,"Start"),i=>ry(this.node,i,"End"))))}unmount(){}}class _T extends Rn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ma(la(this.node.current,"focus",()=>this.onFocus()),la(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ny(t,e,r){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),o=i[a];o&&nt.postRender(()=>o(e,ga(e)))}class bT extends Rn{mount(){const{current:e}=this.node;e&&(this.unmount=xS(e,r=>(ny(this.node,r,"Start"),(i,{success:a})=>ny(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const yd=new WeakMap,Mc=new WeakMap,xT=t=>{const e=yd.get(t.target);e&&e(t)},kT=t=>{t.forEach(xT)};function ST({root:t,...e}){const r=t||document;Mc.has(r)||Mc.set(r,{});const i=Mc.get(r),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(kT,{root:t,...e})),i[a]}function ET(t,e,r){const i=ST(e);return yd.set(t,r),i.observe(t),()=>{yd.delete(t),i.unobserve(t)}}const CT={some:0,all:1};class TT extends Rn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:i,amount:a="some",once:o}=e,u={root:r?r.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:CT[a]},d=c=>{const{isIntersecting:p}=c;if(this.isInView===p||(this.isInView=p,o&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:m}=this.node.getProps(),w=p?y:m;w&&w(c)};return ET(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(AT(e,r))&&this.startObserver()}unmount(){}}function AT({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const PT={inView:{Feature:TT},tap:{Feature:bT},focus:{Feature:_T},hover:{Feature:wT}},jT={layout:{ProjectionNode:B0,MeasureLayout:R0}},vd={current:null},U0={current:!1};function RT(){if(U0.current=!0,!!Hd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>vd.current=t.matches;t.addListener(e),e()}else vd.current=!1}const OT=[...d0,zt,Pn],NT=t=>OT.find(c0(t)),iy=new WeakMap;function IT(t,e,r){for(const i in e){const a=e[i],o=r[i];if(Bt(a))t.addValue(i,a);else if(Bt(o))t.addValue(i,aa(a,{owner:t}));else if(o!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,aa(u!==void 0?u:a,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const sy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class DT{scrapeMotionValuesFromProps(e,r,i){return{}}constructor({parent:e,props:r,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:o,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Nr.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,nt.render(this.render,!1,!0))};const{latestValues:c,renderState:p,onUpdate:y}=u;this.onUpdate=y,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=p,this.parent=e,this.props=r,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!o,this.isControllingVariants=kl(r),this.isVariantNode=wv(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...w}=this.scrapeMotionValuesFromProps(r,{},this);for(const b in w){const x=w[b];c[b]!==void 0&&Bt(x)&&x.set(c[b],!1)}}mount(e){this.current=e,iy.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),U0.current||RT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){iy.delete(this.current),this.projection&&this.projection.unmount(),An(this.notifyUpdate),An(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=si.has(e),a=r.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&nt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=r.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),o(),u&&u(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in qi){const r=qi[e];if(!r)continue;const{isEnabled:i,Feature:a}=r;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<sy.length;i++){const a=sy[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,u=e[o];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=IT(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const i=this.values.get(e);r!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&r!==void 0&&(i=aa(r===null?void 0:r,{owner:this}),this.addValue(e,i)),i}readValue(e,r){var i;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(l0(a)||Zv(a))?a=parseFloat(a):!NT(a)&&Pn.test(r)&&(a=s0(e,r)),this.setBaseTarget(e,Bt(a)?a.get():a)),Bt(a)?a.get():a}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:i}=this.props;let a;if(typeof i=="string"||typeof i=="object"){const u=th(this.props,i,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);u&&(a=u[e])}if(i&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Bt(o)?o:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new mh),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class F0 extends DT{constructor(){super(...arguments),this.KeyframeResolver=h0}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:i}){delete r[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Bt(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function LT(t){return window.getComputedStyle(t)}class MT extends F0{constructor(){super(...arguments),this.type="html",this.renderInstance=Av}readValueFromInstance(e,r){if(si.has(r)){const i=_h(r);return i&&i.default||0}else{const i=LT(e),a=(Ev(r)?i.getPropertyValue(r):i[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return P0(e,r)}build(e,r,i){ih(e,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,r,i){return lh(e,r,i)}}class zT extends F0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gt}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(si.has(r)){const i=_h(r);return i&&i.default||0}return r=Pv.has(r)?r:Xd(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,i){return Ov(e,r,i)}build(e,r,i){sh(e,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,r,i,a){jv(e,r,i,a)}mount(e){this.isSVGTag=oh(e.tagName),super.mount(e)}}const BT=(t,e)=>eh(t)?new zT(e):new MT(e,{allowProjection:t!==F.Fragment}),UT=dS({...uC,...PT,...vT,...jT},BT),De=Ck(UT);var Kr={},Oo={},wd=function(t,e){return wd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},wd(t,e)};function $0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");wd(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var al=function(){return al=Object.assign||function(e){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},al.apply(this,arguments)};function Zi(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(r[i[a]]=t[i[a]]);return r}function V0(t,e,r,i){var a=arguments.length,o=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,i);else for(var d=t.length-1;d>=0;d--)(u=t[d])&&(o=(a<3?u(o):a>3?u(e,r,o):u(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o}function K0(t,e){return function(r,i){e(r,i,t)}}function q0(t,e,r,i,a,o){function u(P){if(P!==void 0&&typeof P!="function")throw new TypeError("Function expected");return P}for(var d=i.kind,c=d==="getter"?"get":d==="setter"?"set":"value",p=!e&&t?i.static?t:t.prototype:null,y=e||(p?Object.getOwnPropertyDescriptor(p,i.name):{}),m,w=!1,b=r.length-1;b>=0;b--){var x={};for(var E in i)x[E]=E==="access"?{}:i[E];for(var E in i.access)x.access[E]=i.access[E];x.addInitializer=function(P){if(w)throw new TypeError("Cannot add initializers after decoration has completed");o.push(u(P||null))};var C=(0,r[b])(d==="accessor"?{get:y.get,set:y.set}:y[c],x);if(d==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(m=u(C.get))&&(y.get=m),(m=u(C.set))&&(y.set=m),(m=u(C.init))&&a.unshift(m)}else(m=u(C))&&(d==="field"?a.unshift(m):y[c]=m)}p&&Object.defineProperty(p,i.name,y),w=!0}function W0(t,e,r){for(var i=arguments.length>2,a=0;a<e.length;a++)r=i?e[a].call(t,r):e[a].call(t);return i?r:void 0}function G0(t){return typeof t=="symbol"?t:"".concat(t)}function H0(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Y0(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function we(t,e,r,i){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(y){try{p(i.next(y))}catch(m){u(m)}}function c(y){try{p(i.throw(y))}catch(m){u(m)}}function p(y){y.done?o(y.value):a(y.value).then(d,c)}p((i=i.apply(t,e||[])).next())})}function J0(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,a,o,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=d(0),u.throw=d(1),u.return=d(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(p){return function(y){return c([p,y])}}function c(p){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(r=0)),r;)try{if(i=1,a&&(o=p[0]&2?a.return:p[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,p[1])).done)return o;switch(a=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,a=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){r.label=p[1];break}if(p[0]===6&&r.label<o[1]){r.label=o[1],o=p;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(p);break}o[2]&&r.ops.pop(),r.trys.pop();continue}p=e.call(t,r)}catch(y){p=[6,y],a=0}finally{i=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var Cl=Object.create?(function(t,e,r,i){i===void 0&&(i=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,a)}):(function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]});function Q0(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Cl(e,t,r)}function ol(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Eh(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),a,o=[],u;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(d){u={error:d}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(u)throw u.error}}return o}function X0(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Eh(arguments[e]));return t}function Z0(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var i=Array(t),a=0,e=0;e<r;e++)for(var o=arguments[e],u=0,d=o.length;u<d;u++,a++)i[a]=o[u];return i}function ew(t,e,r){if(r||arguments.length===2)for(var i=0,a=e.length,o;i<a;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))}function Gi(t){return this instanceof Gi?(this.v=t,this):new Gi(t)}function tw(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(t,e||[]),a,o=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),a[Symbol.asyncIterator]=function(){return this},a;function u(b){return function(x){return Promise.resolve(x).then(b,m)}}function d(b,x){i[b]&&(a[b]=function(E){return new Promise(function(C,P){o.push([b,E,C,P])>1||c(b,E)})},x&&(a[b]=x(a[b])))}function c(b,x){try{p(i[b](x))}catch(E){w(o[0][3],E)}}function p(b){b.value instanceof Gi?Promise.resolve(b.value.v).then(y,m):w(o[0][2],b)}function y(b){c("next",b)}function m(b){c("throw",b)}function w(b,x){b(x),o.shift(),o.length&&c(o[0][0],o[0][1])}}function rw(t){var e,r;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,o){e[a]=t[a]?function(u){return(r=!r)?{value:Gi(t[a](u)),done:!1}:o?o(u):u}:o}}function nw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof ol=="function"?ol(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(o){r[o]=t[o]&&function(u){return new Promise(function(d,c){u=t[o](u),a(d,c,u.done,u.value)})}}function a(o,u,d,c){Promise.resolve(c).then(function(p){o({value:p,done:d})},u)}}function iw(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var FT=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},_d=function(t){return _d=Object.getOwnPropertyNames||function(e){var r=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[r.length]=i);return r},_d(t)};function sw(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=_d(t),i=0;i<r.length;i++)r[i]!=="default"&&Cl(e,t,r[i]);return FT(e,t),e}function aw(t){return t&&t.__esModule?t:{default:t}}function ow(t,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(t):i?i.value:e.get(t)}function lw(t,e,r,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(t,r):a?a.value=r:e.set(t,r),r}function uw(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function cw(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],r&&(a=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");a&&(i=function(){try{a.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:i,async:r})}else r&&t.stack.push({async:!0});return e}var $T=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var i=new Error(r);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};function dw(t){function e(o){t.error=t.hasError?new $T(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var r,i=0;function a(){for(;r=t.stack.pop();)try{if(!r.async&&i===1)return i=0,t.stack.push(r),Promise.resolve().then(a);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(o).then(a,function(u){return e(u),a()})}else i|=1}catch(u){e(u)}if(i===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return a()}function hw(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,i,a,o,u){return i?e?".jsx":".js":a&&(!o||!u)?r:a+o+"."+u.toLowerCase()+"js"}):t}const VT={__extends:$0,__assign:al,__rest:Zi,__decorate:V0,__param:K0,__esDecorate:q0,__runInitializers:W0,__propKey:G0,__setFunctionName:H0,__metadata:Y0,__awaiter:we,__generator:J0,__createBinding:Cl,__exportStar:Q0,__values:ol,__read:Eh,__spread:X0,__spreadArrays:Z0,__spreadArray:ew,__await:Gi,__asyncGenerator:tw,__asyncDelegator:rw,__asyncValues:nw,__makeTemplateObject:iw,__importStar:sw,__importDefault:aw,__classPrivateFieldGet:ow,__classPrivateFieldSet:lw,__classPrivateFieldIn:uw,__addDisposableResource:cw,__disposeResources:dw,__rewriteRelativeImportExtension:hw},KT=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:cw,get __assign(){return al},__asyncDelegator:rw,__asyncGenerator:tw,__asyncValues:nw,__await:Gi,__awaiter:we,__classPrivateFieldGet:ow,__classPrivateFieldIn:uw,__classPrivateFieldSet:lw,__createBinding:Cl,__decorate:V0,__disposeResources:dw,__esDecorate:q0,__exportStar:Q0,__extends:$0,__generator:J0,__importDefault:aw,__importStar:sw,__makeTemplateObject:iw,__metadata:Y0,__param:K0,__propKey:G0,__read:Eh,__rest:Zi,__rewriteRelativeImportExtension:hw,__runInitializers:W0,__setFunctionName:H0,__spread:X0,__spreadArray:ew,__spreadArrays:Z0,__values:ol,default:VT},Symbol.toStringTag,{value:"Module"})),qT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let Tl=class extends Error{constructor(e,r="FunctionsError",i){super(e),this.name=r,this.context=i}},fw=class extends Tl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},bd=class extends Tl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},xd=class extends Tl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var ll;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ll||(ll={}));class WT{constructor(e,{headers:r={},customFetch:i,region:a=ll.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=qT(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return we(this,arguments,void 0,function*(r,i={}){var a;let o,u;try{const{headers:d,method:c,body:p,signal:y,timeout:m}=i;let w={},{region:b}=i;b||(b=this.region);const x=new URL(`${this.url}/${r}`);b&&b!=="any"&&(w["x-region"]=b,x.searchParams.set("forceFunctionRegion",b));let E;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",E=p):typeof p=="string"?(w["Content-Type"]="text/plain",E=p):typeof FormData<"u"&&p instanceof FormData?E=p:(w["Content-Type"]="application/json",E=JSON.stringify(p)):E=p;let C=y;m&&(u=new AbortController,o=setTimeout(()=>u.abort(),m),y?(C=u.signal,y.addEventListener("abort",()=>u.abort())):C=u.signal);const P=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),d),body:E,signal:C}).catch(R=>{throw new fw(R)}),O=P.headers.get("x-relay-error");if(O&&O==="true")throw new bd(P);if(!P.ok)throw new xd(P);let S=((a=P.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),j;return S==="application/json"?j=yield P.json():S==="application/octet-stream"||S==="application/pdf"?j=yield P.blob():S==="text/event-stream"?j=P:S==="multipart/form-data"?j=yield P.formData():j=yield P.text(),{data:j,error:null,response:P}}catch(d){return{data:null,error:d,response:d instanceof xd||d instanceof bd?d.context:void 0}}finally{o&&clearTimeout(o)}})}}const GT=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return ll},FunctionsClient:WT,FunctionsError:Tl,FunctionsFetchError:fw,FunctionsHttpError:xd,FunctionsRelayError:bd},Symbol.toStringTag,{value:"Module"})),pw=ha(GT);var Mt={};const es=ha(KT);var No={},Io={},Do={},Lo={},Mo={},zo={},ay;function mw(){if(ay)return zo;ay=1,Object.defineProperty(zo,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return zo.default=t,zo}var oy;function gw(){if(oy)return Mo;oy=1,Object.defineProperty(Mo,"__esModule",{value:!0});const e=es.__importDefault(mw());let r=class{constructor(a){var o,u;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(o=a.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=a.signal,this.isMaybeSingle=(u=a.isMaybeSingle)!==null&&u!==void 0?u:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=new Headers(this.headers),this.headers.set(a,o),this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var p,y,m,w;let b=null,x=null,E=null,C=c.status,P=c.statusText;if(c.ok){if(this.method!=="HEAD"){const R=await c.text();R===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?x=R:x=JSON.parse(R))}const S=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),j=(m=c.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");S&&j&&j.length>1&&(E=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(b={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,E=null,C=406,P="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const S=await c.text();try{b=JSON.parse(S),Array.isArray(b)&&c.status===404&&(x=[],b=null,C=200,P="OK")}catch{c.status===404&&S===""?(C=204,P="No Content"):b={message:S}}if(b&&this.isMaybeSingle&&(!((w=b==null?void 0:b.details)===null||w===void 0)&&w.includes("0 rows"))&&(b=null,C=200,P="OK"),b&&this.shouldThrowOnError)throw new e.default(b)}return{error:b,data:x,count:E,status:C,statusText:P}});return this.shouldThrowOnError||(d=d.catch(c=>{var p,y,m,w,b,x;let E="";const C=c==null?void 0:c.cause;if(C){const P=(p=C==null?void 0:C.message)!==null&&p!==void 0?p:"",O=(y=C==null?void 0:C.code)!==null&&y!==void 0?y:"";E=`${(m=c==null?void 0:c.name)!==null&&m!==void 0?m:"FetchError"}: ${c==null?void 0:c.message}`,E+=`

Caused by: ${(w=C==null?void 0:C.name)!==null&&w!==void 0?w:"Error"}: ${P}`,O&&(E+=` (${O})`),C!=null&&C.stack&&(E+=`
${C.stack}`)}else E=(b=c==null?void 0:c.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(x=c==null?void 0:c.name)!==null&&x!==void 0?x:"FetchError"}: ${c==null?void 0:c.message}`,details:E,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(a,o)}returns(){return this}overrideTypes(){return this}};return Mo.default=r,Mo}var ly;function yw(){if(ly)return Lo;ly=1,Object.defineProperty(Lo,"__esModule",{value:!0});const e=es.__importDefault(gw());let r=class extends e.default{select(a){let o=!1;const u=(a??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:o=!0,nullsFirst:u,foreignTable:d,referencedTable:c=d}={}){const p=c?`${c}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${a}.${o?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:o,referencedTable:u=o}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${a}`),this}range(a,o,{foreignTable:u,referencedTable:d=u}={}){const c=typeof d>"u"?"offset":`${d}.offset`,p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(p,`${o-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:o=!1,settings:u=!1,buffers:d=!1,wal:c=!1,format:p="text"}={}){var y;const m=[a?"analyze":null,o?"verbose":null,u?"settings":null,d?"buffers":null,c?"wal":null].filter(Boolean).join("|"),w=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${w}"; options=${m};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};return Lo.default=r,Lo}var uy;function Ch(){if(uy)return Do;uy=1,Object.defineProperty(Do,"__esModule",{value:!0});const e=es.__importDefault(yw()),r=new RegExp("[,()]");let i=class extends e.default{eq(o,u){return this.url.searchParams.append(o,`eq.${u}`),this}neq(o,u){return this.url.searchParams.append(o,`neq.${u}`),this}gt(o,u){return this.url.searchParams.append(o,`gt.${u}`),this}gte(o,u){return this.url.searchParams.append(o,`gte.${u}`),this}lt(o,u){return this.url.searchParams.append(o,`lt.${u}`),this}lte(o,u){return this.url.searchParams.append(o,`lte.${u}`),this}like(o,u){return this.url.searchParams.append(o,`like.${u}`),this}likeAllOf(o,u){return this.url.searchParams.append(o,`like(all).{${u.join(",")}}`),this}likeAnyOf(o,u){return this.url.searchParams.append(o,`like(any).{${u.join(",")}}`),this}ilike(o,u){return this.url.searchParams.append(o,`ilike.${u}`),this}ilikeAllOf(o,u){return this.url.searchParams.append(o,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(o,u){return this.url.searchParams.append(o,`ilike(any).{${u.join(",")}}`),this}regexMatch(o,u){return this.url.searchParams.append(o,`match.${u}`),this}regexIMatch(o,u){return this.url.searchParams.append(o,`imatch.${u}`),this}is(o,u){return this.url.searchParams.append(o,`is.${u}`),this}isDistinct(o,u){return this.url.searchParams.append(o,`isdistinct.${u}`),this}in(o,u){const d=Array.from(new Set(u)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(o,`in.(${d})`),this}contains(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cs.{${u.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(u)}`),this}containedBy(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cd.{${u.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(u)}`),this}rangeGt(o,u){return this.url.searchParams.append(o,`sr.${u}`),this}rangeGte(o,u){return this.url.searchParams.append(o,`nxl.${u}`),this}rangeLt(o,u){return this.url.searchParams.append(o,`sl.${u}`),this}rangeLte(o,u){return this.url.searchParams.append(o,`nxr.${u}`),this}rangeAdjacent(o,u){return this.url.searchParams.append(o,`adj.${u}`),this}overlaps(o,u){return typeof u=="string"?this.url.searchParams.append(o,`ov.${u}`):this.url.searchParams.append(o,`ov.{${u.join(",")}}`),this}textSearch(o,u,{config:d,type:c}={}){let p="";c==="plain"?p="pl":c==="phrase"?p="ph":c==="websearch"&&(p="w");const y=d===void 0?"":`(${d})`;return this.url.searchParams.append(o,`${p}fts${y}.${u}`),this}match(o){return Object.entries(o).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(o,u,d){return this.url.searchParams.append(o,`not.${u}.${d}`),this}or(o,{foreignTable:u,referencedTable:d=u}={}){const c=d?`${d}.or`:"or";return this.url.searchParams.append(c,`(${o})`),this}filter(o,u,d){return this.url.searchParams.append(o,`${u}.${d}`),this}};return Do.default=i,Do}var cy;function vw(){if(cy)return Io;cy=1,Object.defineProperty(Io,"__esModule",{value:!0});const e=es.__importDefault(Ch());let r=class{constructor(a,{headers:o={},schema:u,fetch:d}){this.url=a,this.headers=new Headers(o),this.schema=u,this.fetch=d}select(a,o){const{head:u=!1,count:d}=o??{},c=u?"HEAD":"GET";let p=!1;const y=(a??"*").split("").map(m=>/\s/.test(m)&&!p?"":(m==='"'&&(p=!p),m)).join("");return this.url.searchParams.set("select",y),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:o,defaultToNull:u=!0}={}){var d;const c="POST";if(o&&this.headers.append("Prefer",`count=${o}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const p=a.reduce((y,m)=>y.concat(Object.keys(m)),[]);if(p.length>0){const y=[...new Set(p)].map(m=>`"${m}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(a,{onConflict:o,ignoreDuplicates:u=!1,count:d,defaultToNull:c=!0}={}){var p;const y="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),d&&this.headers.append("Prefer",`count=${d}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((w,b)=>w.concat(Object.keys(b)),[]);if(m.length>0){const w=[...new Set(m)].map(b=>`"${b}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(a,{count:o}={}){var u;const d="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:a}={}){var o;const u="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};return Io.default=r,Io}var dy;function HT(){if(dy)return No;dy=1,Object.defineProperty(No,"__esModule",{value:!0});const t=es,e=t.__importDefault(vw()),r=t.__importDefault(Ch());let i=class ww{constructor(o,{headers:u={},schema:d,fetch:c}={}){this.url=o,this.headers=new Headers(u),this.schemaName=d,this.fetch=c}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const u=new URL(`${this.url}/${o}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new ww(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,u={},{head:d=!1,get:c=!1,count:p}={}){var y;let m;const w=new URL(`${this.url}/rpc/${o}`);let b;d||c?(m=d?"HEAD":"GET",Object.entries(u).filter(([E,C])=>C!==void 0).map(([E,C])=>[E,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([E,C])=>{w.searchParams.append(E,C)})):(m="POST",b=u);const x=new Headers(this.headers);return p&&x.set("Prefer",`count=${p}`),new r.default({method:m,url:w,headers:x,schema:this.schemaName,body:b,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}};return No.default=i,No}var hy;function _w(){if(hy)return Mt;hy=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.PostgrestError=Mt.PostgrestBuilder=Mt.PostgrestTransformBuilder=Mt.PostgrestFilterBuilder=Mt.PostgrestQueryBuilder=Mt.PostgrestClient=void 0;const t=es,e=t.__importDefault(HT());Mt.PostgrestClient=e.default;const r=t.__importDefault(vw());Mt.PostgrestQueryBuilder=r.default;const i=t.__importDefault(Ch());Mt.PostgrestFilterBuilder=i.default;const a=t.__importDefault(yw());Mt.PostgrestTransformBuilder=a.default;const o=t.__importDefault(gw());Mt.PostgrestBuilder=o.default;const u=t.__importDefault(mw());return Mt.PostgrestError=u.default,Mt.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:o.default,PostgrestError:u.default},Mt}class bw{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const i=this.getWebSocketConstructor();return new i(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const YT="2.86.2",JT=`realtime-js/${YT}`,xw="1.0.0",QT="2.0.0",fy=xw,kd=1e4,XT=1e3,ZT=100;var Zn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Zn||(Zn={}));var wt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(wt||(wt={}));var br;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(br||(br={}));var Sd;(function(t){t.websocket="websocket"})(Sd||(Sd={}));var ei;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ei||(ei={}));class eA{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,i;const a=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var r,i;const a=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},u=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,r,i){var a,o;const u=e.topic,d=(a=e.ref)!==null&&a!==void 0?a:"",c=(o=e.join_ref)!==null&&o!==void 0?o:"",p=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(y).length===0?"":JSON.stringify(y);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+d.length+u.length+p.length+m.length,b=new ArrayBuffer(this.HEADER_LENGTH+w);let x=new DataView(b),E=0;x.setUint8(E++,this.KINDS.userBroadcastPush),x.setUint8(E++,c.length),x.setUint8(E++,d.length),x.setUint8(E++,u.length),x.setUint8(E++,p.length),x.setUint8(E++,m.length),x.setUint8(E++,r),Array.from(c,P=>x.setUint8(E++,P.charCodeAt(0))),Array.from(d,P=>x.setUint8(E++,P.charCodeAt(0))),Array.from(u,P=>x.setUint8(E++,P.charCodeAt(0))),Array.from(p,P=>x.setUint8(E++,P.charCodeAt(0))),Array.from(m,P=>x.setUint8(E++,P.charCodeAt(0)));var C=new Uint8Array(b.byteLength+i.byteLength);return C.set(new Uint8Array(b),0),C.set(new Uint8Array(i),b.byteLength),C.buffer}decode(e,r){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return r(i)}if(typeof e=="string"){const i=JSON.parse(e),[a,o,u,d,c]=i;return r({join_ref:a,ref:o,topic:u,event:d,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),i=r.getUint8(0),a=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,a)}}_decodeUserBroadcast(e,r,i){const a=r.getUint8(1),o=r.getUint8(2),u=r.getUint8(3),d=r.getUint8(4);let c=this.HEADER_LENGTH+4;const p=i.decode(e.slice(c,c+a));c=c+a;const y=i.decode(e.slice(c,c+o));c=c+o;const m=i.decode(e.slice(c,c+u));c=c+u;const w=e.slice(c,e.byteLength),b=d===this.JSON_ENCODING?JSON.parse(i.decode(w)):w,x={type:this.BROADCAST_EVENT,event:y,payload:b};return u>0&&(x.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>r.includes(i)))}}class kw{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(et||(et={}));const py=(t,e,r={})=>{var i;const a=(i=r.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((o,u)=>(o[u]=tA(u,t,e,a),o),{}):{}},tA=(t,e,r,i)=>{const a=e.find(d=>d.name===t),o=a==null?void 0:a.type,u=r[t];return o&&!i.includes(o)?Sw(o,u):Ed(u)},Sw=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return sA(e,r)}switch(t){case et.bool:return rA(e);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return nA(e);case et.json:case et.jsonb:return iA(e);case et.timestamp:return aA(e);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return Ed(e);default:return Ed(e)}},Ed=t=>t,rA=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},nA=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},iA=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},sA=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,i=t[r];if(t[0]==="{"&&i==="}"){let o;const u=t.slice(1,r);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(d=>Sw(e,d))}return t},aA=t=>typeof t=="string"?t.replace(" ","T"):t,Ew=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class zc{constructor(e,r,i={},a=kd){this.channel=e,this.event=r,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var i;return this._hasReceived(e)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Cd;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Cd||(Cd={}));let Cw=class Go{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:o,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Go.syncState(this.state,a,o,u),this.pendingDiffs.forEach(c=>{this.state=Go.syncDiff(this.state,c,o,u)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},a=>{const{onJoin:o,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Go.syncDiff(this.state,a,o,u),d())}),this.onJoin((a,o,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:u})}),this.onLeave((a,o,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,i,a){const o=this.cloneDeep(e),u=this.transformState(r),d={},c={};return this.map(o,(p,y)=>{u[p]||(c[p]=y)}),this.map(u,(p,y)=>{const m=o[p];if(m){const w=y.map(C=>C.presence_ref),b=m.map(C=>C.presence_ref),x=y.filter(C=>b.indexOf(C.presence_ref)<0),E=m.filter(C=>w.indexOf(C.presence_ref)<0);x.length>0&&(d[p]=x),E.length>0&&(c[p]=E)}else d[p]=y}),this.syncDiff(o,{joins:d,leaves:c},i,a)}static syncDiff(e,r,i,a){const{joins:o,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(o,(d,c)=>{var p;const y=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(c),y.length>0){const m=e[d].map(b=>b.presence_ref),w=y.filter(b=>m.indexOf(b.presence_ref)<0);e[d].unshift(...w)}i(d,y,c)}),this.map(u,(d,c)=>{let p=e[d];if(!p)return;const y=c.map(m=>m.presence_ref);p=p.filter(m=>y.indexOf(m.presence_ref)<0),e[d]=p,a(d,p,c),p.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(i=>r(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,i)=>{const a=e[i];return"metas"in a?r[i]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[i]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Td;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Td||(Td={}));var Fi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Fi||(Fi={}));var Pr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Pr||(Pr={}));const oA=wt;let Tw=class Aw{constructor(e,r={config:{}},i){var a,o;if(this.topic=e,this.params=r,this.socket=i,this.bindings={},this.state=wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new zc(this,br.join,this.params,this.timeout),this.rejoinTimer=new kw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=wt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(br.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Cw(this),this.broadcastEndpointURL=Ew(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var i,a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==wt.closed){const{config:{broadcast:u,presence:d,private:c}}=this.params,p=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(b=>b.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[Fi.PRESENCE]&&this.bindings[Fi.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,m={},w={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:y}),postgres_changes:p,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(Pr.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(Pr.CLOSED)),this.updateJoinPayload(Object.assign({config:w},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var x;if(this.socket.setAuth(),b===void 0){e==null||e(Pr.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,C=(x=E==null?void 0:E.length)!==null&&x!==void 0?x:0,P=[];for(let O=0;O<C;O++){const S=E[O],{filter:{event:j,schema:R,table:D,filter:I}}=S,M=b&&b[O];if(M&&M.event===j&&M.schema===R&&M.table===D&&M.filter===I)P.push(Object.assign(Object.assign({},S),{id:M.id}));else{this.unsubscribe(),this.state=wt.errored,e==null||e(Pr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,e&&e(Pr.SUBSCRIBED);return}}).receive("error",b=>{this.state=wt.errored,e==null||e(Pr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Pr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,i){return this.state===wt.joined&&e===Fi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,i)}async httpSend(e,r,i={}){var a;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(d.status===202)return{success:!0};let c=d.statusText;try{const p=await d.json();c=p.error||p.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:u}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=p.body)===null||a===void 0?void 0:a.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,d,c;const p=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),p.receive("ok",()=>o("ok")),p.receive("error",()=>o("error")),p.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=wt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(br.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new zc(this,br.leave,{},e),i.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=wt.closed,this.bindings={}}async _fetchWithTimeout(e,r,i){const a=new AbortController,o=setTimeout(()=>a.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(o),u}_push(e,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new zc(this,e,r,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ZT){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,i){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,i){var a,o;const u=e.toLocaleLowerCase(),{close:d,error:c,leave:p,join:y}=br;if(i&&[d,c,p,y].indexOf(u)>=0&&i!==this._joinRef())return;let w=this._onMessage(u,r,i);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(b=>{var x,E,C;return((x=b.filter)===null||x===void 0?void 0:x.event)==="*"||((C=(E=b.filter)===null||E===void 0?void 0:E.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===u}).map(b=>b.callback(w,i)):(o=this.bindings[u])===null||o===void 0||o.filter(b=>{var x,E,C,P,O,S;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const j=b.id,R=(x=b.filter)===null||x===void 0?void 0:x.event;return j&&((E=r.ids)===null||E===void 0?void 0:E.includes(j))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const j=(O=(P=b==null?void 0:b.filter)===null||P===void 0?void 0:P.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return j==="*"||j===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof w=="object"&&"ids"in w){const x=w.data,{schema:E,table:C,commit_timestamp:P,type:O,errors:S}=x;w=Object.assign(Object.assign({},{schema:E,table:C,commit_timestamp:P,eventType:O,new:{},old:{},errors:S}),this._getPayloadRecords(x))}b.callback(w,i)})}_isClosed(){return this.state===wt.closed}_isJoined(){return this.state===wt.joined}_isJoining(){return this.state===wt.joining}_isLeaving(){return this.state===wt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,i){const a=e.toLocaleLowerCase(),o={type:a,filter:r,callback:i};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(e,r){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&Aw.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const i in e)if(e[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(br.close,{},e)}_onError(e){this._on(br.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=wt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=py(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=py(e.columns,e.old_record)),r}};const Bc=()=>{},Bo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},lA=[1e3,2e3,5e3,1e4],uA=1e4,cA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let dA=class{constructor(e,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=kd,this.transport=null,this.heartbeatIntervalMs=Bo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bc,this.ref=0,this.reconnectTimer=null,this.vsn=fy,this.logger=Bc,this.conn=null,this.sendBuffer=[],this.serializer=new eA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...o)=>a(...o):(...o)=>fetch(...o),!(!((i=r==null?void 0:r.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Sd.websocket}`,this.httpEndpoint=Ew(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,i){this.logger(e,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Zn.connecting:return ei.Connecting;case Zn.open:return ei.Open;case Zn.closing:return ei.Closing;default:return ei.Closed}}isConnected(){return this.connectionState()===ei.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(o=>o.topic===i);if(a)return a;{const o=new Tw(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:i,payload:a,ref:o}=e,u=()=>{this.encode(e,d=>{var c;(c=this.conn)===null||c===void 0||c.send(d)})};this.log("push",`${r} ${i} (${o})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(XT,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Bo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:o,ref:u}=r,d=u?`(${u})`:"",c=o.status||"";this.log("receive",`${c} ${i} ${a} ${d}`.trim(),o),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(a,o,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Zn.open||this.conn.readyState===Zn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(br.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${i}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const i=new Blob([cA],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:JT};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(br.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new kw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,i,a,o,u,d,c,p,y,m,w,b;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:kd,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Bo.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e==null?void 0:e.heartbeatCallback)!==null&&d!==void 0?d:Bc,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:fy,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:(x=>lA[x-1]||uA),this.vsn){case xw:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((x,E)=>E(JSON.stringify(x))),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:((x,E)=>E(JSON.parse(x)));break;case QT:this.encode=(w=e==null?void 0:e.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const hA=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:oA,get REALTIME_LISTEN_TYPES(){return Fi},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Td},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Cd},get REALTIME_SUBSCRIBE_STATES(){return Pr},RealtimeChannel:Tw,RealtimeClient:dA,RealtimePresence:Cw,WebSocketFactory:bw},Symbol.toStringTag,{value:"Module"})),Pw=ha(hA);class ya extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function st(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class jw extends ya{constructor(e,r,i){super(e),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ul extends ya{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Th=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),fA=()=>Response,Ad=t=>{if(Array.isArray(t))return t.map(r=>Ad(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,i])=>{const a=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[a]=Ad(i)}),e},pA=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},mA=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Uc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},gA=(t,e,r)=>we(void 0,void 0,void 0,function*(){const i=yield fA();t instanceof i&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{const o=t.status||500,u=(a==null?void 0:a.statusCode)||o+"";e(new jw(Uc(a),o,u))}).catch(a=>{e(new ul(Uc(a),a))}):e(new ul(Uc(t),t))}),yA=(t,e,r,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!i?a:(pA(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(i)):a.body=i,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function va(t,e,r,i,a,o){return we(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(r,yA(e,i,a,o)).then(c=>{if(!c.ok)throw c;return i!=null&&i.noResolveJson?c:c.json()}).then(c=>u(c)).catch(c=>gA(c,d,i))})})}function ua(t,e,r,i){return we(this,void 0,void 0,function*(){return va(t,"GET",e,r,i)})}function _r(t,e,r,i,a){return we(this,void 0,void 0,function*(){return va(t,"POST",e,i,a,r)})}function Pd(t,e,r,i,a){return we(this,void 0,void 0,function*(){return va(t,"PUT",e,i,a,r)})}function vA(t,e,r,i){return we(this,void 0,void 0,function*(){return va(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function Ah(t,e,r,i,a){return we(this,void 0,void 0,function*(){return va(t,"DELETE",e,i,a,r)})}class wA{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return we(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(st(e))return{data:null,error:e};throw e}})}}var Rw;class _A{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Rw]="BlobDownloadBuilder",this.promise=null}asStream(){return new wA(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return we(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(st(e))return{data:null,error:e};throw e}})}}Rw=Symbol.toStringTag;const bA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},my={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class xA{constructor(e,r={},i,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=i,this.fetch=Th(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,i,a){return we(this,void 0,void 0,function*(){try{let o;const u=Object.assign(Object.assign({},my),a);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const c=u.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.has("cacheControl")||o.append("cacheControl",u.cacheControl),c&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(c))):(o=i,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,c&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!u.duplex&&(u.duplex="half")),a!=null&&a.headers&&(d=Object.assign(Object.assign({},d),a.headers));const p=this._removeEmptyFolders(r),y=this._getFinalPath(p),m=yield(e=="PUT"?Pd:_r)(this.fetch,`${this.url}/object/${y}`,o,Object.assign({headers:d},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:m.Id,fullPath:m.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}upload(e,r,i){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,i)})}uploadToSignedUrl(e,r,i,a){return we(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),u=this._getFinalPath(o),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",r);try{let c;const p=Object.assign({upsert:my.upsert},a),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",p.cacheControl),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.append("cacheControl",p.cacheControl)):(c=i,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const m=yield Pd(this.fetch,d.toString(),c,{headers:y});return{data:{path:o,fullPath:m.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(st(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return we(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const o=yield _r(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),u=new URL(this.url+o.url),d=u.searchParams.get("token");if(!d)throw new ya("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}update(e,r,i){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,i)})}move(e,r,i){return we(this,void 0,void 0,function*(){try{return{data:yield _r(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}copy(e,r,i){return we(this,void 0,void 0,function*(){try{return{data:{path:(yield _r(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,i){return we(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),o=yield _r(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${u}`)},{data:o,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,i){return we(this,void 0,void 0,function*(){try{const a=yield _r(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${o}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}download(e,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),u=o?`?${o}`:"",d=this._getFinalPath(e),c=()=>ua(this.fetch,`${this.url}/${a}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new _A(c,this.shouldThrowOnError)}info(e){return we(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const i=yield ua(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ad(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}exists(e){return we(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield vA(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i)&&i instanceof ul){const a=i.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,r){const i=this._getFinalPath(e),a=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&a.push(o);const d=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${p}`)}}}remove(e){return we(this,void 0,void 0,function*(){try{return{data:yield Ah(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}list(e,r,i){return we(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},bA),r),{prefix:e||""});return{data:yield _r(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}listV2(e,r){return we(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield _r(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Ow="2.86.2",Nw={"X-Client-Info":`storage-js/${Ow}`};class kA{constructor(e,r={},i,a){this.shouldThrowOnError=!1;const o=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nw),r),this.fetch=Th(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return we(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield ua(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}getBucket(e){return we(this,void 0,void 0,function*(){try{return{data:yield ua(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}createBucket(e){return we(this,arguments,void 0,function*(r,i={public:!1}){try{return{data:yield _r(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}updateBucket(e,r){return we(this,void 0,void 0,function*(){try{return{data:yield Pd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}emptyBucket(e){return we(this,void 0,void 0,function*(){try{return{data:yield _r(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}deleteBucket(e){return we(this,void 0,void 0,function*(){try{return{data:yield Ah(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var ca=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function SA(t,e,r){const i=new URL(e,t);if(r)for(const[a,o]of Object.entries(r))o!==void 0&&i.searchParams.set(a,o);return i.toString()}async function EA(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function CA(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:a,body:o,headers:u}){const d=SA(t.baseUrl,i,a),c=await EA(t.auth),p=await e(d,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...c,...u},body:o?JSON.stringify(o):void 0}),y=await p.text(),m=(p.headers.get("content-type")||"").includes("application/json"),w=m&&y?JSON.parse(y):y;if(!p.ok){const b=m?w:void 0,x=b==null?void 0:b.error;throw new ca((x==null?void 0:x.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:b})}return{status:p.status,headers:p.headers,data:w}}}}function Uo(t){return t.join("")}var TA=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Uo(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Uo(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Uo(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Uo(t.namespace)}`}),!0}catch(e){if(e instanceof ca&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof ca&&r.status===409)return;throw r}}};function ji(t){return t.join("")}var AA=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ji(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ji(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ji(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ji(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ji(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ji(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof ca&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof ca&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},PA=class{constructor(t){var i;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=CA({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(i=t.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new TA(this.client,e),this.tableOps=new AA(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class Iw{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nw),r),this.fetch=Th(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return we(this,void 0,void 0,function*(){try{return{data:yield _r(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}listBuckets(e){return we(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const i=r.toString(),a=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield ua(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}deleteBucket(e){return we(this,void 0,void 0,function*(){try{return{data:yield Ah(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}from(e){if(!mA(e))throw new ya("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new PA({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>we(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Ph={"X-Client-Info":`storage-js/${Ow}`,"Content-Type":"application/json"};class jh extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Yt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Ho extends jh{constructor(e,r,i){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Dw extends jh{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var jd;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(jd||(jd={}));const Al=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),jA=()=>Response,Lw=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},RA=t=>Array.from(new Float32Array(t)),OA=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},gy=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),NA=(t,e,r)=>we(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const a=t.status||500,o=t;if(typeof o.json=="function")o.json().then(u=>{const d=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||a+"";e(new Ho(gy(u),a,d))}).catch(()=>{const u=a+"",d=o.statusText||`HTTP ${a} error`;e(new Ho(d,a,u))});else{const u=a+"",d=o.statusText||`HTTP ${a} error`;e(new Ho(d,a,u))}}else e(new Dw(gy(t),t))}),IA=(t,e,r,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return i?(Lw(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(i)):a.body=i,Object.assign(Object.assign({},a),r)):a};function DA(t,e,r,i,a,o){return we(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(r,IA(e,i,a,o)).then(c=>{if(!c.ok)throw c;if(i!=null&&i.noResolveJson)return c;const p=c.headers.get("content-type");return!p||!p.includes("application/json")?{}:c.json()}).then(c=>u(c)).catch(c=>NA(c,d,i))})})}function er(t,e,r,i,a){return we(this,void 0,void 0,function*(){return DA(t,"POST",e,i,a,r)})}class Mw{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ph),r),this.fetch=Al(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return we(this,void 0,void 0,function*(){try{return{data:(yield er(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}getIndex(e,r){return we(this,void 0,void 0,function*(){try{return{data:yield er(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yt(i))return{data:null,error:i};throw i}})}listIndexes(e){return we(this,void 0,void 0,function*(){try{return{data:yield er(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return we(this,void 0,void 0,function*(){try{return{data:(yield er(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yt(i))return{data:null,error:i};throw i}})}}class zw{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ph),r),this.fetch=Al(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return we(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield er(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}getVectors(e){return we(this,void 0,void 0,function*(){try{return{data:yield er(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}listVectors(e){return we(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield er(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}queryVectors(e){return we(this,void 0,void 0,function*(){try{return{data:yield er(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}deleteVectors(e){return we(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield er(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}}class Bw{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ph),r),this.fetch=Al(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return we(this,void 0,void 0,function*(){try{return{data:(yield er(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}getBucket(e){return we(this,void 0,void 0,function*(){try{return{data:yield er(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}listBuckets(){return we(this,arguments,void 0,function*(e={}){try{return{data:yield er(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return we(this,void 0,void 0,function*(){try{return{data:(yield er(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}}class Uw extends Bw{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Fw(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return we(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return we(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return we(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return we(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class Fw extends Mw{constructor(e,r,i,a){super(e,r,a),this.vectorBucketName=i}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return we(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return we(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return we(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return we(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new $w(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class $w extends zw{constructor(e,r,i,a,o){super(e,r,o),this.vectorBucketName=i,this.indexName=a}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return we(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return we(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return we(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return we(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return we(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class LA extends kA{constructor(e,r={},i,a){super(e,r,i,a)}from(e){return new xA(this.url,this.headers,e,this.fetch)}get vectors(){return new Uw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Iw(this.url+"/iceberg",this.headers,this.fetch)}}const MA=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Iw,StorageApiError:jw,StorageClient:LA,StorageError:ya,StorageUnknownError:ul,StorageVectorsApiError:Ho,StorageVectorsClient:Uw,StorageVectorsError:jh,get StorageVectorsErrorCode(){return jd},StorageVectorsUnknownError:Dw,VectorBucketApi:Bw,VectorBucketScope:Fw,VectorDataApi:zw,VectorIndexApi:Mw,VectorIndexScope:$w,isPlainObject:Lw,isStorageError:st,isStorageVectorsError:Yt,normalizeToFloat32:RA,resolveFetch:Al,resolveResponse:jA,validateVectorDimension:OA},Symbol.toStringTag,{value:"Module"})),zA=ha(MA);var Fc={},Bs={},yy;function BA(){return yy||(yy=1,Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.version=void 0,Bs.version="2.86.2"),Bs}var vy;function UA(){return vy||(vy=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=BA();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(Fc)),Fc}var $c={},wy;function FA(){return wy||(wy=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=a=>a?(...o)=>a(...o):(...o)=>fetch(...o);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const i=(a,o,u)=>{const d=(0,t.resolveFetch)(u),c=(0,t.resolveHeadersConstructor)();return async(p,y)=>{var m;const w=(m=await o())!==null&&m!==void 0?m:a;let b=new c(y==null?void 0:y.headers);return b.has("apikey")||b.set("apikey",a),b.has("Authorization")||b.set("Authorization",`Bearer ${w}`),d(p,Object.assign(Object.assign({},y),{headers:b}))}};t.fetchWithAuth=i})($c)),$c}var qr={},_y;function $A(){if(_y)return qr;_y=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.isBrowser=void 0,qr.uuid=t,qr.ensureTrailingSlash=e,qr.applySettingDefaults=i,qr.validateSupabaseUrl=a;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var u=Math.random()*16|0,d=o=="x"?u:u&3|8;return d.toString(16)})}function e(o){return o.endsWith("/")?o:o+"/"}const r=()=>typeof window<"u";qr.isBrowser=r;function i(o,u){var d,c;const{db:p,auth:y,realtime:m,global:w}=o,{db:b,auth:x,realtime:E,global:C}=u,P={db:Object.assign(Object.assign({},b),p),auth:Object.assign(Object.assign({},x),y),realtime:Object.assign(Object.assign({},E),m),storage:{},global:Object.assign(Object.assign(Object.assign({},C),w),{headers:Object.assign(Object.assign({},(d=C==null?void 0:C.headers)!==null&&d!==void 0?d:{}),(c=w==null?void 0:w.headers)!==null&&c!==void 0?c:{})}),accessToken:async()=>""};return o.accessToken?P.accessToken=o.accessToken:delete P.accessToken,P}function a(o){const u=o==null?void 0:o.trim();if(!u)throw new Error("supabaseUrl is required.");if(!u.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(u))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return qr}var Us={};const Vw="2.86.2",Ii=30*1e3,Rd=3,Vc=Rd*Ii,VA="http://localhost:9999",KA="supabase.auth.token",qA={"X-Client-Info":`gotrue-js/${Vw}`},Od="X-Supabase-Api-Version",Kw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},WA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,GA=600*1e3;let Hi=class extends Error{constructor(e,r,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}};function Te(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let qw=class extends Hi{constructor(e,r,i){super(e,r,i),this.name="AuthApiError",this.status=r,this.code=i}};function Ww(t){return Te(t)&&t.name==="AuthApiError"}let Sn=class extends Hi{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},Xr=class extends Hi{constructor(e,r,i,a){super(e,i,a),this.name=r,this.status=i}},Ht=class extends Xr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Gw(t){return Te(t)&&t.name==="AuthSessionMissingError"}let Jn=class extends Xr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Ws=class extends Xr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Gs=class extends Xr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Hw(t){return Te(t)&&t.name==="AuthImplicitGrantRedirectError"}let Nd=class extends Xr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},cl=class extends Xr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function Yo(t){return Te(t)&&t.name==="AuthRetryableFetchError"}let Id=class extends Xr{constructor(e,r,i){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}};function HA(t){return Te(t)&&t.name==="AuthWeakPasswordError"}let dl=class extends Xr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const hl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),by=` 	
\r=`.split(""),YA=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<by.length;e+=1)t[by[e].charCodeAt(0)]=-2;for(let e=0;e<hl.length;e+=1)t[hl[e].charCodeAt(0)]=e;return t})();function xy(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(hl[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(hl[i]),e.queuedBits-=6}}function Yw(t,e,r){const i=YA[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ky(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=u=>{XA(u,i,r)};for(let u=0;u<t.length;u+=1)Yw(t.charCodeAt(u),a,o);return e.join("")}function JA(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function QA(t,e){for(let r=0;r<t.length;r+=1){let i=t.charCodeAt(r);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}JA(i,e)}}function XA(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function $i(t){const e=[],r={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)Yw(t.charCodeAt(a),r,i);return new Uint8Array(e)}function ZA(t){const e=[];return QA(t,r=>e.push(r)),new Uint8Array(e)}function ri(t){const e=[],r={queue:0,queuedBits:0},i=a=>{e.push(a)};return t.forEach(a=>xy(a,r,i)),xy(null,r,i),e.join("")}function eP(t){return Math.round(Date.now()/1e3)+t}function tP(){return Symbol("auth-callback")}const Rt=()=>typeof window<"u"&&typeof document<"u",Wn={tested:!1,writable:!1},Jw=()=>{if(!Rt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wn.tested)return Wn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Wn.tested=!0,Wn.writable=!0}catch{Wn.tested=!0,Wn.writable=!1}return Wn.writable};function rP(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,o)=>{e[o]=a})}catch{}return r.searchParams.forEach((i,a)=>{e[a]=i}),e}const Qw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),nP=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Di=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Gn=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},jt=async(t,e)=>{await t.removeItem(e)};class Pl{constructor(){this.promise=new Pl.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Pl.promiseConstructor=Promise;function Kc(t){const e=t.split(".");if(e.length!==3)throw new dl("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!WA.test(e[i]))throw new dl("JWT not in base64url format");return{header:JSON.parse(ky(e[0])),payload:JSON.parse(ky(e[1])),signature:$i(e[2]),raw:{header:e[0],payload:e[1]}}}async function iP(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function sP(t,e){return new Promise((i,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await t(o);if(!e(o,null,u)){i(u);return}}catch(u){if(!e(o,u)){a(u);return}}})()})}function aP(t){return("0"+t.toString(16)).substr(-2)}function oP(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let a="";for(let o=0;o<56;o++)a+=r.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,aP).join("")}async function lP(t){const r=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(i);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function uP(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await lP(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ri(t,e,r=!1){const i=oP();let a=i;r&&(a+="/PASSWORD_RECOVERY"),await Di(t,`${e}-code-verifier`,a);const o=await uP(i);return[o,i===o?"plain":"s256"]}const cP=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dP(t){const e=t.headers.get(Od);if(!e||!e.match(cP))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function hP(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function fP(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const pP=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Oi(t){if(!pP.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qc(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mP(t,e){return new Proxy(t,{get:(r,i,a)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,a)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,i,a)}})}function Sy(t){return JSON.parse(JSON.stringify(t))}const Qn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),gP=[502,503,504];async function Ey(t){var e;if(!nP(t))throw new cl(Qn(t),0);if(gP.includes(t.status))throw new cl(Qn(t),t.status);let r;try{r=await t.json()}catch(o){throw new Sn(Qn(o),o)}let i;const a=dP(t);if(a&&a.getTime()>=Kw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new Id(Qn(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Ht}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0))throw new Id(Qn(r),t.status,r.weak_password.reasons);throw new qw(Qn(r),t.status||500,i)}const yP=(t,e,r,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),r))};async function Ne(t,e,r,i){var a;const o=Object.assign({},i==null?void 0:i.headers);o[Od]||(o[Od]=Kw["2024-01-01"].name),i!=null&&i.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const u=(a=i==null?void 0:i.query)!==null&&a!==void 0?a:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",c=await vP(t,e,r+d,{headers:o,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(c):{data:Object.assign({},c),error:null}}async function vP(t,e,r,i,a,o){const u=yP(e,i,a,o);let d;try{d=await t(r,Object.assign({},u))}catch(c){throw console.error(c),new cl(Qn(c),0)}if(d.ok||await Ey(d),i!=null&&i.noResolveJson)return d;try{return await d.json()}catch(c){await Ey(c)}}function vr(t){var e;let r=null;bP(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=eP(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:i},error:null}}function Cy(t){const e=vr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function En(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function wP(t){return{data:t,error:null}}function _P(t){const{action_link:e,email_otp:r,hashed_token:i,redirect_to:a,verification_type:o}=t,u=Zi(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:i,redirect_to:a,verification_type:o},c=Object.assign({},u);return{data:{properties:d,user:c},error:null}}function Ty(t){return t}function bP(t){return t.access_token&&t.refresh_token&&t.expires_in}const Jo=["global","local","others"];let Rh=class{constructor({url:e="",headers:r={},fetch:i}){this.url=e,this.headers=r,this.fetch=Qw(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Jo[0]){if(Jo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jo.join(", ")}`);try{return await Ne(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Te(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,r={}){try{return await Ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:En})}catch(i){if(Te(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:r}=e,i=Zi(e,["options"]),a=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(a.new_email=i==null?void 0:i.newEmail,delete a.newEmail),await Ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:_P,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ne(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:En})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,i,a,o,u,d,c;try{const p={nextPage:null,lastPage:0,total:0},y=await Ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Ty});if(y.error)throw y.error;const m=await y.json(),w=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(c=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&c!==void 0?c:[];return b.length>0&&(b.forEach(x=>{const E=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(x.split(";")[1].split("=")[1]);p[`${C}Page`]=E}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},m),p),error:null}}catch(p){if(Te(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Oi(e);try{return await Ne(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:En})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Oi(e);try{return await Ne(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:En})}catch(i){if(Te(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,r=!1){Oi(e);try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:En})}catch(i){if(Te(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Oi(e.userId);try{const{data:r,error:i}=await Ne(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:i}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Oi(e.userId),Oi(e.id);try{return{data:await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,i,a,o,u,d,c;try{const p={nextPage:null,lastPage:0,total:0},y=await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Ty});if(y.error)throw y.error;const m=await y.json(),w=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(c=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&c!==void 0?c:[];return b.length>0&&(b.forEach(x=>{const E=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(x.split(";")[1].split("=")[1]);p[`${C}Page`]=E}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},m),p),error:null}}catch(p){if(Te(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Te(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}};function Ay(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Xn={debug:!!(globalThis&&Jw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Oh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let Xw=class extends Oh{};class xP extends Oh{}async function Zw(t,e,r){Xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Xn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){Xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{Xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Xw(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Xn.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const Py={};async function kP(t,e,r){var i;const a=(i=Py[t])!==null&&i!==void 0?i:Promise.resolve(),o=Promise.race([a.catch(()=>null),e>=0?new Promise((u,d)=>{setTimeout(()=>{d(new xP(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(u=>u)).catch(u=>{if(u&&u.isAcquireTimeout)throw u;return null}).then(async()=>await r());return Py[t]=o.catch(async u=>{if(u&&u.isAcquireTimeout)return await a,null;throw u}),await o}function SP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function e_(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function EP(t){return parseInt(t,16)}function CP(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function TP(t){var e;const{chainId:r,domain:i,expirationTime:a,issuedAt:o=new Date,nonce:u,notBefore:d,requestId:c,resources:p,scheme:y,uri:m,version:w}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=e_(t.address),x=y?`${y}://${i}`:i,E=t.statement?`${t.statement}
`:"",C=`${x} wants you to sign in with your Ethereum account:
${b}

${E}`;let P=`URI: ${m}
Version: ${w}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${o.toISOString()}`;if(a&&(P+=`
Expiration Time: ${a.toISOString()}`),d&&(P+=`
Not Before: ${d.toISOString()}`),c&&(P+=`
Request ID: ${c}`),p){let O=`
Resources:`;for(const S of p){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);O+=`
- ${S}`}P+=O}return`${C}
${P}`}class _t extends Error{constructor({message:e,code:r,cause:i,name:a}){var o;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(o=a??(i instanceof Error?i.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class fl extends _t{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function AP({error:t,options:e}){var r,i,a;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _t({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new _t({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new _t({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new _t({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new _t({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new _t({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new _t({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new _t({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(t_(u)){if(o.rp.id!==u)return new _t({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new _t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new _t({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new _t({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function PP({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _t({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new _t({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(t_(i)){if(r.rpId!==i)return new _t({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new _t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new _t({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class jP{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const RP=new jP;function OP(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:i}=t,a=Zi(t,["challenge","user","excludeCredentials"]),o=$i(e).buffer,u=Object.assign(Object.assign({},r),{id:$i(r.id).buffer}),d=Object.assign(Object.assign({},a),{challenge:o,user:u});if(i&&i.length>0){d.excludeCredentials=new Array(i.length);for(let c=0;c<i.length;c++){const p=i[c];d.excludeCredentials[c]=Object.assign(Object.assign({},p),{id:$i(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function NP(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,i=Zi(t,["challenge","allowCredentials"]),a=$i(e).buffer,o=Object.assign(Object.assign({},i),{challenge:a});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];o.allowCredentials[u]=Object.assign(Object.assign({},d),{id:$i(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function IP(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:ri(new Uint8Array(t.response.attestationObject)),clientDataJSON:ri(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function DP(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,i=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ri(new Uint8Array(a.authenticatorData)),clientDataJSON:ri(new Uint8Array(a.clientDataJSON)),signature:ri(new Uint8Array(a.signature)),userHandle:a.userHandle?ri(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function t_(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function jy(){var t,e;return!!(Rt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function LP(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new fl("Browser returned unexpected credential type",e)}:{data:null,error:new fl("Empty credential response",e)}}catch(e){return{data:null,error:AP({error:e,options:t})}}}async function MP(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new fl("Browser returned unexpected credential type",e)}:{data:null,error:new fl("Empty credential response",e)}}catch(e){return{data:null,error:PP({error:e,options:t})}}}const zP={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},BP={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function pl(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of t)if(a)for(const o in a){const u=a[o];if(u!==void 0)if(Array.isArray(u))i[o]=u;else if(r(u))i[o]=u;else if(e(u)){const d=i[o];e(d)?i[o]=pl(d,u):i[o]=pl(u)}else i[o]=u}return i}function UP(t,e){return pl(zP,t,e||{})}function FP(t,e){return pl(BP,t,e||{})}class $P{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:i,signal:a},o){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:d};const c=a??RP.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${i}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=UP(u.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:y,error:m}=await LP({publicKey:p,signal:c});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:m}}case"request":{const p=FP(u.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:y,error:m}=await MP(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:c}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:m}}}}catch(u){return Te(u)?{data:null,error:u}:{data:null,error:new Sn("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!r)return{data:null,error:new Hi("rpId is required for WebAuthn authentication")};try{if(!jy())return{data:null,error:new Sn("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:i},signal:a},{request:o});if(!u)return{data:null,error:d};const{webauthn:c}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:i,credential_response:c.credential_response}})}catch(u){return Te(u)?{data:null,error:u}:{data:null,error:new Sn("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!r)return{data:null,error:new Hi("rpId is required for WebAuthn registration")};try{if(!jy())return{data:null,error:new Sn("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var m;return(m=y.data)===null||m===void 0?void 0:m.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:d};const{data:c,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:a},{create:o});return c?this._verify({factorId:u.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:i,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:p}}catch(u){return Te(u)?{data:null,error:u}:{data:null,error:new Sn("Unexpected error in register",u)}}}}SP();const VP={url:VA,storageKey:KA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ry(t,e,r){return await r()}const Ni={};let Nh=class Dd{get jwks(){var e,r;return(r=(e=Ni[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ni[this.storageKey]=Object.assign(Object.assign({},Ni[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ni[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ni[this.storageKey]=Object.assign(Object.assign({},Ni[this.storageKey]),{cachedAt:e})}constructor(e){var r,i,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},VP),e);if(this.storageKey=o.storageKey,this.instanceID=(r=Dd.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Dd.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Rt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Rh({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Qw(o.fetch),this.lock=o.lock||Ry,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:Rt()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=Zw:this.lock=Ry,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $P(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Jw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ay(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Ay(this.memoryStorage)),Rt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Vw}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},i="none";if(Rt()&&(r=rP(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),Rt()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:o}=await this._getSessionFromURL(r,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Hw(o)){const c=(e=o.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:u,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Te(r)?this._returnResult({error:r}):this._returnResult({error:new Sn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,i,a;try{const o=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:vr}),{data:u,error:d}=o;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const c=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:p,session:c},error:null})}catch(o){if(Te(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,i,a;try{let o;if("email"in e){const{email:y,password:m,options:w}=e;let b=null,x=null;this.flowType==="pkce"&&([b,x]=await Ri(this.storage,this.storageKey)),o=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:y,password:m,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:b,code_challenge_method:x},xform:vr})}else if("phone"in e){const{phone:y,password:m,options:w}=e;o=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:m,data:(i=w==null?void 0:w.data)!==null&&i!==void 0?i:{},channel:(a=w==null?void 0:w.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:vr})}else throw new Ws("You must provide either an email or phone number and a password");const{data:u,error:d}=o;if(d||!u)return await jt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const c=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:p,session:c},error:null})}catch(o){if(await jt(this.storage,`${this.storageKey}-code-verifier`),Te(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:u,options:d}=e;r=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Cy})}else if("phone"in e){const{phone:o,password:u,options:d}=e;r=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Cy})}else throw new Ws("You must provide either an email or phone number and a password");const{data:i,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!i||!i.session||!i.user){const o=new Jn;return this._returnResult({data:{user:null,session:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(r){if(Te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,i,a,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,i,a,o,u,d,c,p,y,m,w;let b,x;if("message"in e)b=e.message,x=e.signature;else{const{chain:E,wallet:C,statement:P,options:O}=e;let S;if(Rt())if(typeof C=="object")S=C;else{const Q=window;if("ethereum"in Q&&typeof Q.ethereum=="object"&&"request"in Q.ethereum&&typeof Q.ethereum.request=="function")S=Q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=C}const j=new URL((r=O==null?void 0:O.url)!==null&&r!==void 0?r:window.location.href),R=await S.request({method:"eth_requestAccounts"}).then(Q=>Q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=e_(R[0]);let I=(i=O==null?void 0:O.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!I){const Q=await S.request({method:"eth_chainId"});I=EP(Q)}const M={domain:j.host,address:D,statement:P,uri:j.href,version:"1",chainId:I,nonce:(a=O==null?void 0:O.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(o=O==null?void 0:O.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=O==null?void 0:O.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(c=O==null?void 0:O.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(p=O==null?void 0:O.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=O==null?void 0:O.signInWithEthereum)===null||y===void 0?void 0:y.resources};b=TP(M),x=await S.request({method:"personal_sign",params:[CP(b),D]})}try{const{data:E,error:C}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:x},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:vr});if(C)throw C;if(!E||!E.session||!E.user){const P=new Jn;return this._returnResult({data:{user:null,session:null},error:P})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:C})}catch(E){if(Te(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var r,i,a,o,u,d,c,p,y,m,w,b;let x,E;if("message"in e)x=e.message,E=e.signature;else{const{chain:C,wallet:P,statement:O,options:S}=e;let j;if(Rt())if(typeof P=="object")j=P;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))j=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=P}const R=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const D=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),O?{statement:O}:null));let I;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")I=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)I=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)x=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),E=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${R.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(a=(i=S==null?void 0:S.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((d=S==null?void 0:S.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((p=S==null?void 0:S.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((m=(y=S==null?void 0:S.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||m===void 0)&&m.length?["Resources",...S.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const D=await j.signMessage(new TextEncoder().encode(x),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=D}}try{const{data:C,error:P}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:ri(E)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:vr});if(P)throw P;if(!C||!C.session||!C.user){const O=new Jn;return this._returnResult({data:{user:null,session:null},error:O})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:P})}catch(C){if(Te(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const r=await Gn(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(r??"").split("/");try{const{data:o,error:u}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:vr});if(await jt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!o||!o.session||!o.user){const d=new Jn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:u})}catch(o){if(await jt(this.storage,`${this.storageKey}-code-verifier`),Te(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:i,token:a,access_token:o,nonce:u}=e,d=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:vr}),{data:c,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!c||!c.session||!c.user){const y=new Jn;return this._returnResult({data:{user:null,session:null},error:y})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:p})}catch(r){if(Te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,i,a,o,u;try{if("email"in e){const{email:d,options:c}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Ri(this.storage,this.storageKey));const{error:m}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:d,options:c}=e,{data:p,error:y}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(u=c==null?void 0:c.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:y})}throw new Ws("You must provide either an email or phone number.")}catch(d){if(await jt(this.storage,`${this.storageKey}-code-verifier`),Te(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var r,i;try{let a,o;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:d}=await Ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:vr});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const c=u.session,p=u.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:p,session:c},error:null})}catch(a){if(Te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var r,i,a,o,u;try{let d=null,c=null;this.flowType==="pkce"&&([d,c]=await Ri(this.storage,this.storageKey));const p=await Ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:c}),headers:this.headers,xform:wP});return!((o=p.data)===null||o===void 0)&&o.url&&Rt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(await jt(this.storage,`${this.storageKey}-code-verifier`),Te(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new Ht;const{error:a}=await Ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(Te(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:o}=e,{error:u}=await Ne(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:i,type:a,options:o}=e,{data:u,error:d}=await Ne(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Ws("You must provide either an email or phone number and a type")}catch(r){if(Te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Gn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Vc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await Gn(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=qc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=mP(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:En}):await this._useSession(async r=>{var i,a,o;const{data:u,error:d}=r;if(d)throw d;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ht}:await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:En})})}catch(r){if(Te(r))return Gw(r)&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{const{data:a,error:o}=i;if(o)throw o;if(!a.session)throw new Ht;const u=a.session;let d=null,c=null;this.flowType==="pkce"&&e.email!=null&&([d,c]=await Ri(this.storage,this.storageKey));const{data:p,error:y}=await Ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:c}),jwt:u.access_token,xform:En});if(y)throw y;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(i){if(await jt(this.storage,`${this.storageKey}-code-verifier`),Te(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ht;const r=Date.now()/1e3;let i=r,a=!0,o=null;const{payload:u}=Kc(e.access_token);if(u.exp&&(i=u.exp,a=i<=r),a){const{data:d,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:c}=await this._getUser(e.access_token);if(c)throw c;o={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(Te(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){const{data:u,error:d}=r;if(d)throw d;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new Ht;const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Rt())throw new Gs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Gs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Nd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Nd("No code detected.");const{data:O,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:o,refresh_token:u,expires_in:d,expires_at:c,token_type:p}=e;if(!o||!d||!u||!p)throw new Gs("No session defined in URL");const y=Math.round(Date.now()/1e3),m=parseInt(d);let w=y+m;c&&(w=parseInt(c));const b=w-y;b*1e3<=Ii&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${m}s`);const x=w-m;y-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,w,y):y-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,w,y);const{data:E,error:C}=await this._getUser(o);if(C)throw C;const P={provider_token:i,provider_refresh_token:a,access_token:o,expires_in:m,expires_at:w,refresh_token:u,token_type:p,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:P,redirectType:e.type},error:null})}catch(i){if(Te(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Gn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:a,error:o}=r;if(o)return this._returnResult({error:o});const u=(i=a.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(Ww(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=tP(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,a;try{const{data:{session:o},error:u}=r;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await Ri(this.storage,this.storageKey,!0));try{return await Ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await jt(this.storage,`${this.storageKey}-code-verifier`),Te(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:i,error:a}=await this._useSession(async o=>{var u,d,c,p,y;const{data:m,error:w}=o;if(w)throw w;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ne(this.fetch,"GET",b,{headers:this.headers,jwt:(y=(p=m.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return Rt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(Te(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var i;try{const{error:a,data:{session:o}}=r;if(a)throw a;const{options:u,provider:d,token:c,access_token:p,nonce:y}=e,m=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=o==null?void 0:o.access_token)!==null&&i!==void 0?i:void 0,body:{provider:d,id_token:c,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:vr}),{data:w,error:b}=m;return b?this._returnResult({data:{user:null,session:null},error:b}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Jn}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:b}))}catch(a){if(await jt(this.storage,`${this.storageKey}-code-verifier`),Te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,a;const{data:o,error:u}=r;if(u)throw u;return await Ne(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await sP(async a=>(a>0&&await iP(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:vr})),(a,o)=>{const u=200*Math.pow(2,a);return o&&Yo(o)&&Date.now()+u-i<Ii})}catch(i){if(this._debug(r,"error",i),Te(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),Rt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await Gn(this.storage,this.storageKey);if(a&&this.userStorage){let u=await Gn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await Di(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:qc()}else if(a&&!a.user&&!a.user){const u=await Gn(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(a.user=u.user,await jt(this.storage,this.storageKey+"-user"),await Di(this.storage,this.storageKey,a)):a.user=qc()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const o=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Vc;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${Vc}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),Yo(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(a.access_token);!d&&(u!=null&&u.user)?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new Ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Pl;const{data:o,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!o.session)throw new Ht;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={data:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(a,"error",o),Te(o)){const u={data:null,error:o};return Yo(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(c){o.push(c)}});if(await Promise.all(u),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await jt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Di(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const o=Sy(a);await Di(this.storage,this.storageKey,o)}else{const a=Sy(r);await Di(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await jt(this.storage,this.storageKey),await jt(this.storage,this.storageKey+"-code-verifier"),await jt(this.storage,this.storageKey+"-user"),this.userStorage&&await jt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Rt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ii);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/Ii);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ii}ms, refresh threshold is ${Rd} ticks`),a<=Rd&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Oh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Rt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){const a=[`provider=${encodeURIComponent(r)}`];if(i!=null&&i.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,u]=await Ri(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(d.toString())}if(i!=null&&i.queryParams){const o=new URLSearchParams(i.queryParams);a.push(o.toString())}return i!=null&&i.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;const{data:a,error:o}=r;return o?this._returnResult({data:null,error:o}):await Ne(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,a;const{data:o,error:u}=r;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:p}=await Ne(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?IP(e.webauthn.credential_response):DP(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:c}=await Ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:c}))})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const u=await Ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:OP(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:NP(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])a.all.push(o),o.status==="verified"&&a[o.factor_type].push(o);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Kc(i.access_token);let u=null;o.aal&&(u=o.aal);let d=u;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const p=o.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;return a?this._returnResult({data:null,error:a}):i?await Ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:a},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new Ht});const u=await Ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&Rt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(Te(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:a},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new Ht});const u=await Ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&Rt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(Te(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;return i?this._returnResult({data:null,error:i}):r?await Ne(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(e){if(Te(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;return a?this._returnResult({data:null,error:a}):i?(await Ne(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ht})})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let i=r.keys.find(d=>d.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(d=>d.kid===e),i&&this.jwks_cached_at+GA>a)return i;const{data:o,error:u}=await Ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,i=o.keys.find(d=>d.kid===e),!i)?null:i}async getClaims(e,r={}){try{let i=e;if(!i){const{data:b,error:x}=await this.getSession();if(x||!b.session)return this._returnResult({data:null,error:x});i=b.session.access_token}const{header:a,payload:o,signature:u,raw:{header:d,payload:c}}=Kc(i);r!=null&&r.allowExpired||hP(o.exp);const p=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!p){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:o,header:a,signature:u},error:null}}const y=fP(a.alg),m=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,m,u,ZA(`${d}.${c}`)))throw new dl("Invalid JWT signature");return{data:{claims:o,header:a,signature:u},error:null}}catch(i){if(Te(i))return this._returnResult({data:null,error:i});throw i}}};Nh.nextInstanceID={};const KP=Rh,qP=Nh,WP=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:KP,AuthApiError:qw,AuthClient:qP,AuthError:Hi,AuthImplicitGrantRedirectError:Gs,AuthInvalidCredentialsError:Ws,AuthInvalidJwtError:dl,AuthInvalidTokenResponseError:Jn,AuthPKCEGrantCodeExchangeError:Nd,AuthRetryableFetchError:cl,AuthSessionMissingError:Ht,AuthUnknownError:Sn,AuthWeakPasswordError:Id,CustomAuthError:Xr,GoTrueAdminApi:Rh,GoTrueClient:Nh,NavigatorLockAcquireTimeoutError:Xw,SIGN_OUT_SCOPES:Jo,isAuthApiError:Ww,isAuthError:Te,isAuthImplicitGrantRedirectError:Hw,isAuthRetryableFetchError:Yo,isAuthSessionMissingError:Gw,isAuthWeakPasswordError:HA,lockInternals:Xn,navigatorLock:Zw,processLock:kP},Symbol.toStringTag,{value:"Module"})),r_=ha(WP);var Oy;function GP(){if(Oy)return Us;Oy=1,Object.defineProperty(Us,"__esModule",{value:!0}),Us.SupabaseAuthClient=void 0;const t=r_;let e=class extends t.AuthClient{constructor(i){super(i)}};return Us.SupabaseAuthClient=e,Us}var Ny;function Iy(){if(Ny)return Oo;Ny=1,Object.defineProperty(Oo,"__esModule",{value:!0});const t=pw,e=_w(),r=Pw,i=zA,a=UA(),o=FA(),u=$A(),d=GP();class c{constructor(y,m,w){var b,x,E;this.supabaseUrl=y,this.supabaseKey=m;const C=(0,u.validateSupabaseUrl)(y);if(!m)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",C),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",C),this.storageUrl=new URL("storage/v1",C),this.functionsUrl=new URL("functions/v1",C);const P=`sb-${C.hostname.split(".")[0]}-auth-token`,O={db:a.DEFAULT_DB_OPTIONS,realtime:a.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},a.DEFAULT_AUTH_OPTIONS),{storageKey:P}),global:a.DEFAULT_GLOBAL_OPTIONS},S=(0,u.applySettingDefaults)(w??{},O);this.storageKey=(b=S.auth.storageKey)!==null&&b!==void 0?b:"",this.headers=(x=S.global.headers)!==null&&x!==void 0?x:{},S.accessToken?(this.accessToken=S.accessToken,this.auth=new Proxy({},{get:(j,R)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(R)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((E=S.auth)!==null&&E!==void 0?E:{},this.headers,S.global.fetch),this.fetch=(0,o.fetchWithAuth)(m,this._getAccessToken.bind(this),S.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},S.realtime)),this.accessToken&&this.accessToken().then(j=>this.realtime.setAuth(j)).catch(j=>console.warn("Failed to set initial Realtime auth token:",j)),this.rest=new e.PostgrestClient(new URL("rest/v1",C).href,{headers:this.headers,schema:S.db.schema,fetch:this.fetch}),this.storage=new i.StorageClient(this.storageUrl.href,this.headers,this.fetch,w==null?void 0:w.storage),S.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(y){return this.rest.from(y)}schema(y){return this.rest.schema(y)}rpc(y,m={},w={head:!1,get:!1,count:void 0}){return this.rest.rpc(y,m,w)}channel(y,m={config:{}}){return this.realtime.channel(y,m)}getChannels(){return this.realtime.getChannels()}removeChannel(y){return this.realtime.removeChannel(y)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var y,m;if(this.accessToken)return await this.accessToken();const{data:w}=await this.auth.getSession();return(m=(y=w.session)===null||y===void 0?void 0:y.access_token)!==null&&m!==void 0?m:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:y,persistSession:m,detectSessionInUrl:w,storage:b,userStorage:x,storageKey:E,flowType:C,lock:P,debug:O,throwOnError:S},j,R){const D={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new d.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},D),j),storageKey:E,autoRefreshToken:y,persistSession:m,detectSessionInUrl:w,storage:b,userStorage:x,flowType:C,lock:P,debug:O,throwOnError:S,fetch:R,hasCustomAuthorizationHeader:Object.keys(this.headers).some(I=>I.toLowerCase()==="authorization")})}_initRealtimeClient(y){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},y),{params:Object.assign({apikey:this.supabaseKey},y==null?void 0:y.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((m,w)=>{this._handleTokenChanged(m,"CLIENT",w==null?void 0:w.access_token)})}_handleTokenChanged(y,m,w){(y==="TOKEN_REFRESHED"||y==="SIGNED_IN")&&this.changedAccessToken!==w?(this.changedAccessToken=w,this.realtime.setAuth(w)):y==="SIGNED_OUT"&&(this.realtime.setAuth(),m=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Oo.default=c,Oo}var Dy;function HP(){return Dy||(Dy=1,(function(t){var e=Kr&&Kr.__createBinding||(Object.create?(function(y,m,w,b){b===void 0&&(b=w);var x=Object.getOwnPropertyDescriptor(m,w);(!x||("get"in x?!m.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return m[w]}}),Object.defineProperty(y,b,x)}):(function(y,m,w,b){b===void 0&&(b=w),y[b]=m[w]})),r=Kr&&Kr.__exportStar||function(y,m){for(var w in y)w!=="default"&&!Object.prototype.hasOwnProperty.call(m,w)&&e(m,y,w)},i=Kr&&Kr.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const a=i(Iy());r(r_,t);var o=_w();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return o.PostgrestError}});var u=pw;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return u.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return u.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return u.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return u.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return u.FunctionRegion}}),r(Pw,t);var d=Iy();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return i(d).default}});const c=(y,m,w)=>new a.default(y,m,w);t.createClient=c;function p(){if(typeof window<"u"||typeof process>"u")return!1;const y=process.version;if(y==null)return!1;const m=y.match(/^v(\d+)\./);return m?parseInt(m[1],10)<=18:!1}p()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Kr)),Kr}var n_=HP();const i_=yl(n_),YP=Gy({__proto__:null,default:i_},[n_]),{PostgrestError:LR,FunctionsHttpError:MR,FunctionsFetchError:zR,FunctionsRelayError:BR,FunctionsError:UR,FunctionRegion:FR,SupabaseClient:$R,createClient:JP,GoTrueAdminApi:VR,GoTrueClient:KR,AuthAdminApi:qR,AuthClient:WR,navigatorLock:GR,NavigatorLockAcquireTimeoutError:HR,lockInternals:YR,processLock:JR,SIGN_OUT_SCOPES:QR,AuthError:XR,AuthApiError:ZR,AuthUnknownError:e2,CustomAuthError:t2,AuthSessionMissingError:r2,AuthInvalidTokenResponseError:n2,AuthInvalidCredentialsError:i2,AuthImplicitGrantRedirectError:s2,AuthPKCEGrantCodeExchangeError:a2,AuthRetryableFetchError:o2,AuthWeakPasswordError:l2,AuthInvalidJwtError:u2,isAuthError:c2,isAuthApiError:d2,isAuthSessionMissingError:h2,isAuthImplicitGrantRedirectError:f2,isAuthRetryableFetchError:p2,isAuthWeakPasswordError:m2,RealtimePresence:g2,RealtimeChannel:y2,RealtimeClient:v2,REALTIME_LISTEN_TYPES:w2,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:_2,REALTIME_PRESENCE_LISTEN_EVENTS:b2,REALTIME_SUBSCRIBE_STATES:x2,REALTIME_CHANNEL_STATES:k2}=i_||YP,Vi={},s_=(Vi==null?void 0:Vi.VITE_SUPABASE_URL)||"https://uwslxmciglqxpvfbgjzm.supabase.co",a_=(Vi==null?void 0:Vi.VITE_SUPABASE_ANON_KEY)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV3c2x4bWNpZ2xxeHB2ZmJnanptIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQzMzU3NDcsImV4cCI6MjA3OTkxMTc0N30.Pzk2Zrp08-f93VoApIj6QjWx_9nEQSkZFRU_t1UX_ow",Wc=s_,Ly=a_,W=JP(s_,a_,{auth:{autoRefreshToken:!1,persistSession:!1,detectSessionInUrl:!1,storage:void 0,flowType:"pkce"},realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Client-Info":"yolmov-web"}}}),ie=(t,e)=>{throw console.error(`[Supabase API Error] ${e}:`,t),new Error(`${e} failed: ${t.message||"Unknown error"}`)},Ye=async()=>{try{const t=localStorage.getItem("yolmov-auth-session"),e=localStorage.getItem("yolmov_admin"),r=localStorage.getItem("yolmov_partner");if(!t&&!e&&!r)return!1;const i=t?JSON.parse(t):null;return e||r?!0:!(i!=null&&i.access_token)||!(i!=null&&i.refresh_token)?(localStorage.removeItem("yolmov-auth-session"),!1):i.expires_at&&new Date(i.expires_at*1e3)<=new Date?(console.log(" Session expired in ensureAuthSession, clearing..."),localStorage.removeItem("yolmov-auth-session"),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"session-expired"}})),!1):(await W.auth.setSession({access_token:i.access_token,refresh_token:i.refresh_token}),!0)}catch(t){return console.warn("ensureAuthSession failed",t),localStorage.removeItem("yolmov-auth-session"),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"session-error"}})),!1}},Ih={signUpCustomer:async(t,e,r)=>{try{if(!r.phone||r.phone.length<10)throw new Error("Telefon numaras gerekli (minimum 10 karakter)");const{data:i,error:a}=await W.auth.signUp({email:t,password:e,options:{emailRedirectTo:`${window.location.origin}/email-dogrulama`,data:{user_type:"customer",first_name:r.firstName,last_name:r.lastName}}});if(a)throw a;if(!i.user)throw new Error("Kullanc oluturulamad");const o={id:i.user.id,first_name:r.firstName||"",last_name:r.lastName||"",phone:r.phone,email:t,avatar_url:r.avatarUrl||null,city:r.city||null,district:r.district||null},{data:u,error:d}=await W.from("customers").insert(o).select().single();if(d){if(console.error(" Customer insert failed, rolling back auth user:",d),await W.auth.admin.deleteUser(i.user.id).catch(()=>{}),d.code==="23505"){if(d.message.includes("phone"))throw new Error("Bu telefon numaras zaten kaytl");if(d.message.includes("email"))throw new Error("Bu email adresi zaten kaytl")}throw d}const c={id:u.id,firstName:u.first_name,lastName:u.last_name,phone:u.phone,email:u.email||void 0,avatarUrl:u.avatar_url||void 0,city:u.city||void 0,district:u.district||void 0,createdAt:u.created_at};return{user:i.user,customer:c,session:i.session}}catch(i){throw ie(i,"Customer Sign Up"),i}},signUpPartner:async(t,e,r)=>{try{if(!t||!e)throw new Error("Email ve ifre gereklidir");const{data:i,error:a}=await W.auth.signUp({email:t,password:e,options:{emailRedirectTo:`${window.location.origin}/email-dogrulama`,data:{user_type:"partner",first_name:r.first_name,last_name:r.last_name}}});if(a)throw a;if(!i.user)throw new Error("Auth kullancs oluturulamad");const o={id:i.user.id,name:r.company_name||r.name||"",first_name:r.first_name||"",last_name:r.last_name||"",company_name:r.company_name||"",tax_number:r.tax_number||null,sector:r.sector||null,city:r.city||null,district:r.district||null,phone:r.phone||null,email:t,vehicle_count:r.vehicle_count||0,vehicle_types:r.vehicle_types||null,service_types:r.service_types||null,commercial_registry_url:r.commercial_registry_url||null,vehicle_license_url:r.vehicle_license_url||null,status:"pending",rating:0,completed_jobs:0,credits:0},{data:u,error:d}=await W.from("partners").insert(o).select().single();if(d)throw d;return{user:i.user,partner:u}}catch(i){throw console.error(" signUpPartner error:",i),new Error(i.message||"Partner kayd baarsz")}},signInPartner:async(t,e)=>{var r;try{if(!t||!e)throw new Error("Email ve ifre gereklidir");const{data:i,error:a}=await W.auth.signInWithPassword({email:t,password:e});if(a)throw a;const o=(r=i.user)==null?void 0:r.id;if(!o)throw new Error("Kullanc bulunamad");const{data:u,error:d}=await W.from("partners").select("*").eq("id",o).maybeSingle();if(d)throw d;if(!u)throw new Error("Partner kayd bulunamad");return u.status!=="active"?{user:i.user,session:i.session,partner:u,approved:!1}:{user:i.user,session:i.session,partner:u,approved:!0}}catch(i){throw console.error(" signInPartner error:",i),new Error(i.message||"Partner girii baarsz")}},sendMagicLinkPartner:async t=>{try{if(!t)throw new Error("Email gerekli");const{data:e,error:r}=await W.auth.signInWithOtp({email:t,options:{emailRedirectTo:`${window.location.origin}/partner`,data:{user_type:"partner"}}});if(r)throw r;return e}catch(e){throw console.error(" Partner magic link error:",e),new Error(e.message||"Sihirli link gnderilemedi")}},sendPartnerActivationEmail:async t=>{try{if(!t)throw new Error("Email gerekli");const{data:e,error:r}=await W.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/sifre-olustur`});if(r)throw r;return e}catch(e){throw console.error(" Partner activation email error:",e),new Error(e.message||"Aktivasyon maili gnderilemedi")}},signIn:async(t,e)=>{var r,i,a;try{console.log(" signIn started for:",t);const o=`${Wc}/auth/v1/token?grant_type=password`,u=Ly;console.log(" Using RAW FETCH to Supabase auth...");const d=Date.now(),c=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",apikey:u,Authorization:`Bearer ${u}`},body:JSON.stringify({email:t,password:e})}),p=Date.now()-d;if(console.log(" Auth response received in",`${p}ms`),!c.ok){const x=await c.json();throw console.error(" Auth failed:",x),(r=x.error_description)!=null&&r.includes("Invalid login credentials")?new Error("Email veya ifre hatal"):(i=x.error_description)!=null&&i.includes("Email not confirmed")?new Error("Email adresinizi dorulamanz gerekiyor. Ltfen mail kutunuzu kontrol edin."):new Error(x.error_description||"Giri baarsz")}const y=await c.json();if(console.log(" Auth successful:",{hasAccessToken:!!y.access_token,hasUser:!!y.user,userId:(a=y.user)==null?void 0:a.id}),!y.user)throw new Error("Kullanc bilgisi alnamad");const m={access_token:y.access_token,refresh_token:y.refresh_token,expires_in:y.expires_in,expires_at:y.expires_at,user:y.user};localStorage.setItem("yolmov-auth-session",JSON.stringify(m)),console.log(" Session saved to localStorage"),await W.auth.setSession({access_token:y.access_token,refresh_token:y.refresh_token}),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"login",session:m}})),console.log(" Checking customer record...");const b=await(await fetch(`${Wc}/rest/v1/customers?id=eq.${y.user.id}&select=id`,{headers:{apikey:u,Authorization:`Bearer ${y.access_token}`}})).json();if(console.log(" Customer check result:",{count:b==null?void 0:b.length}),!b||b.length===0)throw console.error(" Customer record not found"),new Error("Kayt ileminiz tamamlanmam. Ltfen tekrar kayt olmay deneyin.");return console.log(" signIn successful"),{user:y.user,session:m}}catch(o){throw console.error(" Sign In Error:",o),o}},signInAdmin:async(t,e)=>{var r,i,a,o,u,d;try{console.log(" Admin signIn started for:",t);const c=`${Wc}/auth/v1/token?grant_type=password`,p=Ly,y=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json",apikey:p,Authorization:`Bearer ${p}`},body:JSON.stringify({email:t,password:e})});if(!y.ok){const b=await y.json();throw(r=b.error_description)!=null&&r.includes("Invalid login credentials")?new Error("Email veya ifre hatal"):(i=b.error_description)!=null&&i.includes("Email not confirmed")?new Error("Email adresinizi dorulamanz gerekiyor. Ltfen mail kutunuzu kontrol edin."):new Error(b.error_description||"Giri baarsz")}const m=await y.json();if(!m.user)throw new Error("Kullanc bilgisi alnamad");const w={access_token:m.access_token,refresh_token:m.refresh_token,expires_in:m.expires_in,expires_at:m.expires_at,user:m.user};localStorage.setItem("yolmov-auth-session",JSON.stringify(w)),await W.auth.setSession({access_token:m.access_token,refresh_token:m.refresh_token}),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"login",session:w}})),console.log(" Admin signIn successful");try{const b=((o=(a=m.user)==null?void 0:a.user_metadata)==null?void 0:o.first_name)||"Admin",x=((d=(u=m.user)==null?void 0:u.user_metadata)==null?void 0:d.last_name)||"User",E=await fetch("/api/bootstrap-admin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e,firstName:b,lastName:x})});E.ok?console.log(" bootstrap-admin ensured admin_users row"):console.warn(" bootstrap-admin failed:",await E.text().catch(()=>""))}catch(b){console.warn("bootstrap-admin call error",b)}return{user:m.user,session:w}}catch(c){throw console.error(" Admin Sign In Error:",c),c}},signOut:async()=>{try{localStorage.removeItem("yolmov-auth-session"),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"logout"}}))}catch(t){ie(t,"Sign Out")}},getCurrentUser:async()=>{try{const{data:{user:t},error:e}=await W.auth.getUser();if(e)throw e;return t}catch(t){return console.error(" Get Current User Error:",t),null}},getSession:async()=>{try{const t=localStorage.getItem("yolmov-auth-session");if(!t)return null;const e=JSON.parse(t);return e.expires_at&&new Date(e.expires_at*1e3)<new Date?(console.log(" Session expired, clearing..."),localStorage.removeItem("yolmov-auth-session"),null):e}catch(t){return console.error(" Get Session Error:",t),null}},onAuthStateChange:t=>{const e=async r=>{if(r.key==="yolmov-auth-session"){const i=r.newValue;if(i){const a=JSON.parse(i);t("SIGNED_IN",a)}else t("SIGNED_OUT",null)}};return window.addEventListener("storage",e),{data:{subscription:{unsubscribe:()=>{window.removeEventListener("storage",e)}}}}},getUserRole:async()=>{try{const t=await Ih.getCurrentUser();if(!t)return null;const{data:e}=await W.from("partners").select("status").eq("id",t.id).maybeSingle();if(e)return{type:"partner",status:e.status};const{data:r}=await W.from("customers").select("id").eq("id",t.id).maybeSingle();if(r)return{type:"customer"};try{const{data:i}=await W.from("admin_users").select("role").eq("id",t.id).maybeSingle();if(i)return{type:"admin",role:i.role}}catch{}return null}catch(t){ie(t,"Get User Role")}}},o_={getAll:async()=>{try{const{data:t,error:e}=await W.from("customers").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(r=>({id:r.id,firstName:r.first_name,lastName:r.last_name,phone:r.phone,email:r.email,avatarUrl:r.avatar_url,city:r.city,district:r.district,createdAt:r.created_at}))}catch(t){return ie(t,"Get All Customers"),[]}},getById:async t=>{try{const{data:e,error:r}=await W.from("customers").select("*").eq("id",t).maybeSingle();if(r)throw r;return e?{id:e.id,firstName:e.first_name,lastName:e.last_name,phone:e.phone,email:e.email,avatarUrl:e.avatar_url,city:e.city,district:e.district,createdAt:e.created_at}:null}catch(e){return ie(e,`Get Customer ${t}`),null}},create:async t=>{try{const e={first_name:t.firstName,last_name:t.lastName,phone:t.phone||"",email:t.email||null,avatar_url:t.avatarUrl||null,city:t.city||null,district:t.district||null},{data:r,error:i}=await W.from("customers").insert(e).select().single();if(i)throw i;return{id:r.id,firstName:r.first_name,lastName:r.last_name,phone:r.phone,email:r.email||void 0,avatarUrl:r.avatar_url||void 0,city:r.city||void 0,district:r.district||void 0,createdAt:r.created_at}}catch(e){throw ie(e,"Create Customer"),e}},update:async(t,e)=>{try{const r={};e.firstName!==void 0&&(r.first_name=e.firstName),e.lastName!==void 0&&(r.last_name=e.lastName),e.phone!==void 0&&(r.phone=e.phone),e.email!==void 0&&(r.email=e.email),e.avatarUrl!==void 0&&(r.avatar_url=e.avatarUrl),e.city!==void 0&&(r.city=e.city),e.district!==void 0&&(r.district=e.district);const{data:i,error:a}=await W.from("customers").update(r).eq("id",t).select().single();if(a)throw a;return{id:i.id,firstName:i.first_name,lastName:i.last_name,phone:i.phone,email:i.email,avatarUrl:i.avatar_url,city:i.city,district:i.district,createdAt:i.created_at}}catch(r){throw ie(r,`Update Customer ${t}`),r}},delete:async t=>{try{const{error:e}=await W.from("customers").delete().eq("id",t);if(e)throw e}catch(e){ie(e,`Delete Customer ${t}`)}}},ml={getAll:async()=>{try{const{data:t,error:e}=await W.from("partners").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return ie(t,"Get All Partners"),[]}},getActive:async()=>{try{const{data:t,error:e}=await W.from("partners").select("*").eq("status","active").order("rating",{ascending:!1});if(e)throw e;return t||[]}catch(t){return ie(t,"Get Active Partners"),[]}},getById:async t=>{try{const{data:e,error:r}=await W.from("partners").select("*").eq("id",t).maybeSingle();if(r)throw r;return e}catch(e){return ie(e,`Get Partner ${t}`),null}},update:async(t,e)=>{try{console.log(" [partnersApi.update] Updating partner:",t,e);const r={...e,updated_at:new Date().toISOString()},{data:i,error:a,count:o}=await W.from("partners").update(r).eq("id",t).select();if(console.log(" [partnersApi.update] Result:",{data:i,error:a,count:o}),a)throw console.error(" [partnersApi.update] Error:",a),a;if(!i||i.length===0)throw console.warn(" [partnersApi.update] No rows updated - RLS may be blocking"),new Error("Partner gncellenemedi. Yetki sorunu olabilir.");return console.log(" [partnersApi.update] Success:",i[0]),i[0]}catch(r){throw ie(r,`Update Partner ${t}`),r}},approve:async t=>ml.update(t,{status:"active"}),suspend:async t=>ml.update(t,{status:"suspended"}),delete:async t=>{try{const{error:e}=await W.from("partners").delete().eq("id",t);if(e)throw e}catch(e){ie(e,`Delete Partner ${t}`)}}},l_={getByCustomerId:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const{data:r,error:i}=await W.from("customer_favorites").select("id, customer_id, partner_id, created_at, partners!partner_id(id, name, phone, rating, city, district, service_types)").eq("customer_id",t).order("created_at",{ascending:!1});if(i)throw i;return(r||[]).map(o=>({id:o.id,customer_id:o.customer_id,partner_id:o.partner_id,created_at:o.created_at,partners:Array.isArray(o.partners)&&o.partners.length>0?o.partners[0]:null}))}catch(e){return ie(e,"Get Favorites"),[]}},add:async(t,e)=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const{error:i}=await W.from("customer_favorites").insert({customer_id:t,partner_id:e});if(i)throw i}catch(r){throw ie(r,"Add Favorite"),r}},remove:async(t,e)=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const{error:i}=await W.from("customer_favorites").delete().eq("customer_id",t).eq("partner_id",e);if(i)throw i}catch(r){throw ie(r,"Remove Favorite"),r}}},u_={getByCustomerId:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const{data:r,error:i}=await W.from("customer_addresses").select("*").eq("customer_id",t).order("created_at",{ascending:!1});if(i)throw i;return(r||[]).map(a=>({id:a.id,customer_id:a.customer_id,label:a.label,type:a.type,address:a.address,city:a.city,district:a.district,created_at:a.created_at}))}catch(e){return ie(e,"Get Addresses"),[]}},add:async(t,e)=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const i={customer_id:t,label:e.label,type:e.type,address:e.address,city:e.city,district:e.district},{data:a,error:o}=await W.from("customer_addresses").insert(i).select("*").single();if(o)throw o;return{id:a.id,customer_id:a.customer_id,label:a.label,type:a.type,address:a.address,city:a.city,district:a.district,created_at:a.created_at}}catch(r){throw ie(r,"Add Address"),r}},remove:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const{error:r}=await W.from("customer_addresses").delete().eq("id",t);if(r)throw r}catch(e){throw ie(e,"Remove Address"),e}}},c_={getByCustomerId:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const{data:r,error:i}=await W.from("notifications").select("*").eq("customer_id",t).order("created_at",{ascending:!1});if(i)throw i;return(r||[]).map(a=>({id:a.id,customerId:a.customer_id,type:a.type,title:a.title,message:a.message,read:a.read,relatedId:a.related_id,relatedType:a.related_type,actionUrl:a.action_url,createdAt:a.created_at,readAt:a.read_at}))}catch(e){throw ie(e,"Get Notifications"),e}},getUnreadCount:async t=>{try{if(!await Ye())return 0;const{count:r,error:i}=await W.from("notifications").select("*",{count:"exact",head:!0}).eq("customer_id",t).eq("read",!1);if(i)throw i;return r||0}catch(e){return console.error("Get Unread Count Error:",e),0}},markAsRead:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const{error:r}=await W.from("notifications").update({read:!0}).eq("id",t);if(r)throw r}catch(e){throw ie(e,"Mark Notification As Read"),e}},markAllAsRead:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const{error:r}=await W.from("notifications").update({read:!0}).eq("customer_id",t).eq("read",!1);if(r)throw r}catch(e){throw ie(e,"Mark All Notifications As Read"),e}},create:async t=>{try{const e={customer_id:t.customerId,type:t.type,title:t.title,message:t.message,read:t.read,related_id:t.relatedId,related_type:t.relatedType,action_url:t.actionUrl},{data:r,error:i}=await W.from("notifications").insert(e).select().single();if(i)throw i;return{id:r.id,customerId:r.customer_id,type:r.type,title:r.title,message:r.message,read:r.read,relatedId:r.related_id,relatedType:r.related_type,actionUrl:r.action_url,createdAt:r.created_at,readAt:r.read_at}}catch(e){throw ie(e,"Create Notification"),e}},delete:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const{error:r}=await W.from("notifications").delete().eq("id",t);if(r)throw r}catch(e){throw ie(e,"Delete Notification"),e}},deleteAll:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const{error:r}=await W.from("notifications").delete().eq("customer_id",t);if(r)throw r}catch(e){throw ie(e,"Delete All Notifications"),e}}},d_={getByCustomerId:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const{data:r,error:i}=await W.from("customer_notification_preferences").select("*").eq("customer_id",t).single();if(i&&i.code!=="PGRST116")throw i;if(r)return{id:r.id,customerId:r.customer_id,emailEnabled:r.email_enabled,pushEnabled:r.push_enabled,orderUpdates:r.order_updates,promotions:r.promotions,newsletter:r.newsletter,createdAt:r.created_at,updatedAt:r.updated_at};const a={customer_id:t,email_enabled:!0,push_enabled:!0,order_updates:!0,promotions:!1,newsletter:!0},{data:o,error:u}=await W.from("customer_notification_preferences").insert(a).select().single();if(u)throw u;return{id:o.id,customerId:o.customer_id,emailEnabled:o.email_enabled,pushEnabled:o.push_enabled,orderUpdates:o.order_updates,promotions:o.promotions,newsletter:o.newsletter,createdAt:o.created_at,updatedAt:o.updated_at}}catch(e){throw ie(e,"Get Notification Preferences"),e}},update:async(t,e)=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const i={};e.emailEnabled!==void 0&&(i.email_enabled=e.emailEnabled),e.pushEnabled!==void 0&&(i.push_enabled=e.pushEnabled),e.orderUpdates!==void 0&&(i.order_updates=e.orderUpdates),e.promotions!==void 0&&(i.promotions=e.promotions),e.newsletter!==void 0&&(i.newsletter=e.newsletter);const{data:a,error:o}=await W.from("customer_notification_preferences").update(i).eq("customer_id",t).select().single();if(o)throw o;return{id:a.id,customerId:a.customer_id,emailEnabled:a.email_enabled,pushEnabled:a.push_enabled,orderUpdates:a.order_updates,promotions:a.promotions,newsletter:a.newsletter,createdAt:a.created_at,updatedAt:a.updated_at}}catch(r){throw ie(r,"Update Notification Preferences"),r}}},My=t=>{const e={};return t.customerId!==void 0&&(e.customer_id=t.customerId),t.customerName!==void 0&&(e.customer_name=t.customerName),t.serviceType!==void 0&&(e.service_type=t.serviceType),t.description!==void 0&&(e.description=t.description),t.fromLocation!==void 0&&(e.from_location=t.fromLocation),t.toLocation!==void 0&&(e.to_location=t.toLocation),t.vehicleInfo!==void 0&&(e.vehicle_info=t.vehicleInfo),t.status!==void 0&&(e.status=t.status),t.amount!==void 0&&(e.amount=t.amount),t.jobStage!==void 0&&(e.job_stage=t.jobStage),t.assignedPartnerId!==void 0&&(e.assigned_partner_id=t.assignedPartnerId),t.assignedPartnerName!==void 0&&(e.assigned_partner_name=t.assignedPartnerName),t.stageUpdatedAt!==void 0&&(e.stage_updated_at=t.stageUpdatedAt),t.vehicleCondition!==void 0&&(e.vehicle_condition=t.vehicleCondition),t.hasLoad!==void 0&&(e.has_load=t.hasLoad),t.loadDescription!==void 0&&(e.load_description=t.loadDescription),t.damagePhotoUrls!==void 0&&(e.damage_photo_urls=t.damagePhotoUrls),t.timing!==void 0&&(e.timing=t.timing),t.customerPhone!==void 0&&(e.customer_phone=t.customerPhone),t.fromCoordinates!==void 0&&(e.from_coordinates=t.fromCoordinates),t.toCoordinates!==void 0&&(e.to_coordinates=t.toCoordinates),t.archived!==void 0&&(e.archived=t.archived),t.archivedAt!==void 0&&(e.archived_at=t.archivedAt),t.start_proof_photo!==void 0&&(e.start_proof_photo=t.start_proof_photo),t.end_proof_photo!==void 0&&(e.end_proof_photo=t.end_proof_photo),e},xn=t=>({id:t.id,customerId:t.customer_id,customerName:t.customer_name,serviceType:t.service_type,description:t.description,fromLocation:t.from_location,toLocation:t.to_location,vehicleInfo:t.vehicle_info,status:t.status,createdAt:t.created_at,amount:t.amount,jobStage:t.job_stage,assignedPartnerId:t.assigned_partner_id,assignedPartnerName:t.assigned_partner_name,stageUpdatedAt:t.stage_updated_at,vehicleCondition:t.vehicle_condition,hasLoad:t.has_load,loadDescription:t.load_description,damagePhotoUrls:t.damage_photo_urls,timing:t.timing,customerPhone:t.customer_phone,fromCoordinates:t.from_coordinates,toCoordinates:t.to_coordinates,archived:t.archived,archivedAt:t.archived_at}),Wr={getAll:async()=>{try{await Ye();const{data:t,error:e}=await W.from("requests").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(xn)}catch(t){return ie(t,"Get All Requests"),[]}},getByCustomerId:async(t,e=!1)=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");let i=W.from("requests").select("*").eq("customer_id",t);e||(i=i.or("archived.is.null,archived.eq.false"));const{data:a,error:o}=await i.order("created_at",{ascending:!1});if(o)throw o;return(a||[]).map(xn)}catch(r){return ie(r,`Get Requests for Customer ${t}`),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await W.from("requests").select("*").eq("assigned_partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return(e||[]).map(xn)}catch(e){return ie(e,`Get Requests for Partner ${t}`),[]}},getOpen:async()=>{try{const{data:t,error:e}=await W.from("requests").select("*").eq("status","open").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(xn)}catch(t){return ie(t,"Get Open Requests"),[]}},getOpenByServiceAreas:async t=>{try{if(!t||t.length===0)return console.warn(" [getOpenByServiceAreas] No service area cities provided, returning all open requests"),Wr.getOpen();const{data:e,error:r}=await W.from("requests").select("*").eq("status","open").order("created_at",{ascending:!1});if(r)throw r;const i=(e||[]).map(xn),a=i.filter(o=>{if(!o.fromLocation)return!1;const u=o.fromLocation.toLowerCase().replace(//g,"i").replace(//g,"g").replace(//g,"u").replace(//g,"s").replace(//g,"o").replace(//g,"c");return t.some(d=>{const c=d.toLowerCase().replace(//g,"i").replace(//g,"g").replace(//g,"u").replace(//g,"s").replace(//g,"o").replace(//g,"c");return u.includes(c)})});return console.log(` [getOpenByServiceAreas] Filtered ${i.length}  ${a.length} requests for cities:`,t),a}catch(e){return ie(e,"Get Open Requests by Service Areas"),[]}},getById:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const{data:r,error:i}=await W.from("requests").select("*").eq("id",t).single();if(i)throw i;return r?xn(r):null}catch(e){return ie(e,`Get Request ${t}`),null}},create:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const r=My(t),{data:i,error:a}=await W.from("requests").insert(r).select().single();if(a)throw a;return xn(i)}catch(e){throw ie(e,"Create Request"),e}},update:async(t,e)=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const i=My(e),{data:a,error:o}=await W.from("requests").update(i).eq("id",t).select().single();if(o)throw o;return xn(a)}catch(r){throw ie(r,`Update Request ${t}`),r}},updateStatus:async(t,e)=>Wr.update(t,{status:e}),updateJobStage:async(t,e,r,i)=>Wr.update(t,{jobStage:e,assignedPartnerId:r,assignedPartnerName:i,stageUpdatedAt:new Date().toISOString()}),assignPartner:async(t,e,r)=>Wr.update(t,{assignedPartnerId:e,assignedPartnerName:r,status:"matched",jobStage:0,stageUpdatedAt:new Date().toISOString()}),delete:async t=>{try{await Ye();const{error:e}=await W.from("requests").delete().eq("id",t);if(e)throw e}catch(e){throw ie(e,`Delete Request ${t}`),e}},archive:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");return Wr.update(t,{archived:!0,archivedAt:new Date().toISOString()})}catch(e){throw ie(e,`Archive Request ${t}`),e}},unarchive:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");return Wr.update(t,{archived:!1,archivedAt:void 0})}catch(e){throw ie(e,`Unarchive Request ${t}`),e}}},Fs=t=>({id:t.id,requestId:t.request_id,partnerId:t.partner_id,partnerName:t.partner_name,price:t.price,etaMinutes:t.eta_minutes,message:t.message,status:t.status,createdAt:t.created_at}),gl={getAll:async()=>{try{const{data:t,error:e}=await W.from("offers").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(Fs)}catch(t){return ie(t,"Get All Offers"),[]}},getByRequestId:async t=>{try{const{data:e,error:r}=await W.from("offers").select("*").eq("request_id",t).order("price",{ascending:!0});if(r)throw r;return(e||[]).map(Fs)}catch(e){return ie(e,`Get Offers for Request ${t}`),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await W.from("offers").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return(e||[]).map(Fs)}catch(e){return ie(e,`Get Offers for Partner ${t}`),[]}},create:async t=>{try{const e={request_id:t.requestId,partner_id:t.partnerId,partner_name:t.partnerName,price:t.price,eta_minutes:t.etaMinutes,message:t.message,status:t.status},{data:r,error:i}=await W.from("offers").insert(e).select().single();if(i)throw i;return Fs(r)}catch(e){throw ie(e,"Create Offer"),e}},update:async(t,e)=>{try{const r={};e.requestId!==void 0&&(r.request_id=e.requestId),e.partnerId!==void 0&&(r.partner_id=e.partnerId),e.partnerName!==void 0&&(r.partner_name=e.partnerName),e.price!==void 0&&(r.price=e.price),e.etaMinutes!==void 0&&(r.eta_minutes=e.etaMinutes),e.message!==void 0&&(r.message=e.message),e.status!==void 0&&(r.status=e.status);const{data:i,error:a}=await W.from("offers").update(r).eq("id",t).select().single();if(a)throw a;return Fs(i)}catch(r){throw ie(r,`Update Offer ${t}`),r}},accept:async t=>{try{const e=await gl.update(t,{status:"accepted"}),{error:r}=await W.from("offers").update({status:"rejected"}).eq("request_id",e.requestId).neq("id",t);if(r)throw r;return await Wr.assignPartner(e.requestId,e.partnerId,e.partnerName||"Partner"),e}catch(e){throw ie(e,`Accept Offer ${t}`),e}},reject:async t=>gl.update(t,{status:"rejected"}),delete:async t=>{try{const{error:e}=await W.from("offers").delete().eq("id",t);if(e)throw e}catch(e){ie(e,`Delete Offer ${t}`)}}},$s=t=>({id:t.id,requestId:t.request_id,partnerId:t.partner_id,partnerName:t.partner_name,customerId:t.customer_id,customerName:t.customer_name,customerPhone:t.customer_phone,serviceType:t.service_type,startLocation:t.start_location,endLocation:t.end_location,distance:t.distance,startTime:t.start_time,completionTime:t.completion_time,duration:t.duration,totalAmount:t.total_amount,commission:t.commission,partnerEarning:t.partner_earning,paymentMethod:t.payment_method,rating:t.rating,vehicleType:t.vehicle_type,vehiclePlate:t.vehicle_plate,status:t.status}),h_={getAll:async()=>{try{const{data:t,error:e}=await W.from("completed_jobs").select("*").order("completion_time",{ascending:!1});if(e)throw e;return(t||[]).map($s)}catch(t){return ie(t,"Get All Completed Jobs"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await W.from("completed_jobs").select("*").eq("partner_id",t).order("completion_time",{ascending:!1});if(r)throw r;return(e||[]).map($s)}catch(e){return ie(e,`Get Completed Jobs for Partner ${t}`),[]}},getByCustomerId:async t=>{try{const{data:e,error:r}=await W.from("completed_jobs").select("*").eq("customer_id",t).order("completion_time",{ascending:!1});if(r)throw r;return(e||[]).map($s)}catch(e){return ie(e,`Get Completed Jobs for Customer ${t}`),[]}},create:async t=>{try{const e={request_id:t.requestId,partner_id:t.partnerId,partner_name:t.partnerName,customer_id:t.customerId,customer_name:t.customerName,customer_phone:t.customerPhone,service_type:t.serviceType,start_location:t.startLocation,end_location:t.endLocation,distance:t.distance,start_time:t.startTime,completion_time:t.completionTime,duration:t.duration,total_amount:t.totalAmount,commission:t.commission,partner_earning:t.partnerEarning,payment_method:t.paymentMethod,rating:t.rating,vehicle_type:t.vehicleType,vehicle_plate:t.vehiclePlate,status:t.status},{data:r,error:i}=await W.from("completed_jobs").insert(e).select().single();if(i)throw i;return $s(r)}catch(e){throw ie(e,"Create Completed Job"),e}},update:async(t,e)=>{try{const r={};e.requestId!==void 0&&(r.request_id=e.requestId),e.partnerId!==void 0&&(r.partner_id=e.partnerId),e.partnerName!==void 0&&(r.partner_name=e.partnerName),e.customerId!==void 0&&(r.customer_id=e.customerId),e.customerName!==void 0&&(r.customer_name=e.customerName),e.customerPhone!==void 0&&(r.customer_phone=e.customerPhone),e.serviceType!==void 0&&(r.service_type=e.serviceType),e.startLocation!==void 0&&(r.start_location=e.startLocation),e.endLocation!==void 0&&(r.end_location=e.endLocation),e.distance!==void 0&&(r.distance=e.distance),e.startTime!==void 0&&(r.start_time=e.startTime),e.completionTime!==void 0&&(r.completion_time=e.completionTime),e.duration!==void 0&&(r.duration=e.duration),e.totalAmount!==void 0&&(r.total_amount=e.totalAmount),e.commission!==void 0&&(r.commission=e.commission),e.partnerEarning!==void 0&&(r.partner_earning=e.partnerEarning),e.paymentMethod!==void 0&&(r.payment_method=e.paymentMethod),e.rating!==void 0&&(r.rating=e.rating),e.vehicleType!==void 0&&(r.vehicle_type=e.vehicleType),e.vehiclePlate!==void 0&&(r.vehicle_plate=e.vehiclePlate),e.status!==void 0&&(r.status=e.status);const{data:i,error:a}=await W.from("completed_jobs").update(r).eq("id",t).select().single();if(a)throw a;return $s(i)}catch(r){throw ie(r,`Update Completed Job ${t}`),r}}},f_={getAll:async()=>{try{const{data:t,error:e}=await W.from("partner_reviews").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(r=>({id:r.id,jobId:r.job_id,partnerId:r.partner_id,partnerName:r.partner_name,customerId:r.customer_id,customerName:r.customer_name,service:r.service,rating:r.rating,comment:r.comment,tags:r.tags||[],date:r.created_at}))}catch(t){return ie(t,"Get All Partner Reviews"),[]}},getById:async t=>{try{const{data:e,error:r}=await W.from("partner_reviews").select("*").eq("id",t).single();if(r)throw r;return e?{id:e.id,jobId:e.job_id,partnerId:e.partner_id,partnerName:e.partner_name,customerId:e.customer_id,customerName:e.customer_name,service:e.service,rating:e.rating,comment:e.comment,tags:e.tags||[],date:e.created_at}:null}catch(e){return ie(e,`Get Review ${t}`),null}},getByPartnerId:async t=>{try{const{data:e,error:r}=await W.from("partner_reviews").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return(e||[]).map(i=>({id:i.id,jobId:i.job_id,partnerId:i.partner_id,partnerName:i.partner_name,customerId:i.customer_id,customerName:i.customer_name,service:i.service,rating:i.rating,comment:i.comment,tags:i.tags||[],date:i.created_at}))}catch(e){return ie(e,`Get Reviews for Partner ${t}`),[]}},create:async t=>{try{const e={job_id:t.jobId,partner_id:t.partnerId,partner_name:t.partnerName,customer_id:t.customerId,customer_name:t.customerName,service:t.service,rating:t.rating,comment:t.comment,tags:t.tags},{data:r,error:i}=await W.from("partner_reviews").insert(e).select().single();if(i)throw i;return r}catch(e){throw ie(e,"Create Partner Review"),e}},delete:async t=>{try{const{error:e}=await W.from("partner_reviews").delete().eq("id",t);if(e)throw e}catch(e){ie(e,`Delete Review ${t}`)}}},zy=t=>({id:t.id,partnerId:t.partner_id,partnerName:t.partner_name,type:t.type,fileName:t.file_name,fileUrl:t.file_url,fileSize:t.file_size,status:t.status,uploadDate:t.upload_date,expiryDate:t.expiry_date,rejectionReason:t.rejection_reason,reviewedBy:t.reviewed_by,reviewedAt:t.reviewed_at}),da={getAll:async()=>{try{const{data:t,error:e}=await W.from("partner_documents").select("*").order("upload_date",{ascending:!1});if(e)throw e;return(t||[]).map(zy)}catch(t){return ie(t,"Get All Partner Documents"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await W.from("partner_documents").select("*").eq("partner_id",t).order("upload_date",{ascending:!1});if(r)throw r;return(e||[]).map(zy)}catch(e){return ie(e,`Get Documents for Partner ${t}`),[]}},create:async t=>{try{const e={partner_id:t.partnerId,partner_name:t.partnerName,type:t.type,file_name:t.fileName,file_url:t.fileData||t.fileUrl,file_size:typeof t.fileSize=="number"?`${(t.fileSize/1024).toFixed(1)} KB`:t.fileSize,status:t.status||"pending",expiry_date:t.expiryDate},{data:r,error:i}=await W.from("partner_documents").insert(e).select().single();if(i)throw i;return r}catch(e){throw ie(e,"Create Partner Document"),e}},update:async(t,e)=>{try{const r={};e.status&&(r.status=e.status),e.reviewedBy&&(r.reviewed_by=e.reviewedBy),e.reviewedAt&&(r.reviewed_at=e.reviewedAt),e.rejectionReason&&(r.rejection_reason=e.rejectionReason),e.fileName&&(r.file_name=e.fileName),e.fileUrl&&(r.file_url=e.fileUrl),e.expiryDate&&(r.expiry_date=e.expiryDate);const{data:i,error:a}=await W.from("partner_documents").update(r).eq("id",t).select().single();if(a)throw a;return i}catch(r){throw ie(r,`Update Document ${t}`),r}},approve:async(t,e)=>da.update(t,{status:"approved",reviewedBy:e,reviewedAt:new Date().toISOString()}),reject:async(t,e,r)=>da.update(t,{status:"rejected",reviewedBy:e,reviewedAt:new Date().toISOString(),rejectionReason:r}),uploadFile:async(t,e,r)=>{try{const i=`${t}/${r}/${Date.now()}_${e.name}`,{data:a,error:o}=await W.storage.from("partner-documents").upload(i,e);if(o)throw o;const{data:{publicUrl:u}}=W.storage.from("partner-documents").getPublicUrl(i);return u}catch(i){throw ie(i,"Upload Partner Document"),i}}},Dh={getAll:async()=>{try{const{data:t,error:e}=await W.from("support_tickets").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return ie(t,"Get All Support Tickets"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await W.from("support_tickets").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(e){return ie(e,`Get Tickets for Partner ${t}`),[]}},create:async t=>{try{const{data:e,error:r}=await W.from("support_tickets").insert(t).select().single();if(r)throw r;return e}catch(e){throw ie(e,"Create Support Ticket"),e}},update:async(t,e)=>{try{const{data:r,error:i}=await W.from("support_tickets").update(e).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw ie(r,`Update Ticket ${t}`),r}},resolve:async(t,e,r)=>Dh.update(t,{status:"resolved",resolution:e,assignedTo:r})},p_={getAll:async()=>{try{const{data:t,error:e}=await W.from("partner_vehicles").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return ie(t,"Get All Partner Vehicles"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await W.from("partner_vehicles").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(e){return ie(e,`Get Vehicles for Partner ${t}`),[]}},create:async t=>{try{const{data:e,error:r}=await W.from("partner_vehicles").insert(t).select().single();if(r)throw r;return e}catch(e){throw ie(e,"Create Partner Vehicle"),e}},update:async(t,e)=>{try{const{data:r,error:i}=await W.from("partner_vehicles").update(e).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw ie(r,`Update Vehicle ${t}`),r}},delete:async t=>{try{const{error:e}=await W.from("partner_vehicles").delete().eq("id",t);if(e)throw e}catch(e){ie(e,`Delete Vehicle ${t}`)}},getVehicleStats:async(t,e)=>{try{const{data:r,error:i}=await W.from("completed_jobs").select("id, rating, partner_earning, completion_time").eq("vehicle_plate",t).eq("partner_id",e);if(i)throw i;const a=(r==null?void 0:r.length)||0,o=new Date;o.setDate(o.getDate()-30);const u=(r==null?void 0:r.filter(y=>new Date(y.completion_time)>=o).length)||0,d=(r==null?void 0:r.filter(y=>y.rating).map(y=>y.rating))||[],c=d.length>0?d.reduce((y,m)=>y+m,0)/d.length:0,p=(r==null?void 0:r.reduce((y,m)=>y+(m.partner_earning||0),0))||0;return{totalJobs:a,monthlyJobs:u,averageRating:Number(c.toFixed(1)),totalEarnings:Number(p.toFixed(2))}}catch(r){return ie(r,`Get Vehicle Stats for ${t}`),{totalJobs:0,monthlyJobs:0,averageRating:0,totalEarnings:0}}}},Zs={getAll:async()=>{try{const{data:t,error:e}=await W.from("partner_credits").select("*").order("balance",{ascending:!1});if(e)throw e;return(t||[]).map(r=>({partnerId:r.partner_id,partnerName:r.partner_name,balance:r.balance||0,totalPurchased:r.total_purchased||0,totalUsed:r.total_used||0,lastTransaction:r.last_updated||r.updated_at||""}))}catch(t){return ie(t,"Get All Partner Credits"),[]}},getAllTransactions:async()=>{try{const{data:t,error:e}=await W.from("credit_transactions").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(r=>({id:r.id,partnerId:r.partner_id,partnerName:r.partner_name,type:r.type,amount:r.amount,balanceBefore:r.balance_before,balanceAfter:r.balance_after,description:r.description,date:r.created_at,requestId:r.request_id,adminUser:r.admin_user}))}catch(t){return ie(t,"Get All Credit Transactions"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await W.from("partner_credits").select("*").eq("partner_id",t).maybeSingle();if(r)throw r;return e}catch(e){return ie(e,`Get Credits for Partner ${t}`),null}},addCredits:async(t,e,r,i)=>{try{const a=await Zs.getByPartnerId(t),o=(a==null?void 0:a.balance)||0,u=o+r,{data:d,error:c}=await W.from("credit_transactions").insert({partner_id:t,partner_name:e,type:"purchase",amount:r,balance_before:o,balance_after:u,description:i}).select().single();if(c)throw c;return d}catch(a){throw ie(a,"Add Partner Credits"),a}},useCredits:async(t,e,r,i,a)=>{try{const o=await Zs.getByPartnerId(t),u=(o==null?void 0:o.balance)||0;if(u<r)throw new Error("Yetersiz kredi bakiyesi");const d=u-r,{data:c,error:p}=await W.from("credit_transactions").insert({partner_id:t,partner_name:e,type:"usage",amount:-r,balance_before:u,balance_after:d,description:i,request_id:a}).select().single();if(p)throw p;return c}catch(o){throw ie(o,"Use Partner Credits"),o}},getTransactions:async t=>{try{const{data:e,error:r}=await W.from("credit_transactions").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(e){return ie(e,`Get Transactions for Partner ${t}`),[]}},adjustCredits:async(t,e,r,i,a)=>{try{const o=await Zs.getByPartnerId(t),u=(o==null?void 0:o.balance)||0,d=u+r;if(d<0)throw new Error("Bakiye negatif olamaz");const{error:c}=await W.from("partner_credits").upsert({partner_id:t,partner_name:e,balance:d,total_purchased:((o==null?void 0:o.total_purchased)||0)+(r>0?r:0),total_used:((o==null?void 0:o.total_used)||0)+(r<0?Math.abs(r):0),updated_at:new Date().toISOString()},{onConflict:"partner_id"});if(c)throw c;const{data:p,error:y}=await W.from("credit_transactions").insert({partner_id:t,partner_name:e,type:"adjustment",amount:r,balance_before:u,balance_after:d,description:`Admin tarafndan ${r>0?"eklendi":"drld"}: ${i}`}).select().single();if(y)throw y;return{transaction:{id:p.id,partnerId:p.partner_id,partnerName:p.partner_name,type:p.type,amount:p.amount,balanceBefore:p.balance_before,balanceAfter:p.balance_after,description:p.description,date:p.created_at,adminUser:p.admin_user},newBalance:d}}catch(o){throw ie(o,"Adjust Partner Credits"),o}}},m_={getAll:async()=>{try{const{data:t,error:e}=await W.from("empty_truck_routes").select("*").eq("status","active").order("departure_date",{ascending:!0});if(e)throw e;return t||[]}catch(t){return ie(t,"Get All Empty Truck Routes"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await W.from("empty_truck_routes").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(e){return ie(e,`Get Routes for Partner ${t}`),[]}},create:async t=>{try{const{data:e,error:r}=await W.from("empty_truck_routes").insert(t).select().single();if(r)throw r;return e}catch(e){throw ie(e,"Create Empty Truck Route"),e}},update:async(t,e)=>{try{const{data:r,error:i}=await W.from("empty_truck_routes").update(e).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw ie(r,`Update Route ${t}`),r}},delete:async t=>{try{const{error:e}=await W.from("empty_truck_routes").delete().eq("id",t);if(e)throw e}catch(e){ie(e,`Delete Route ${t}`)}}},g_={getAll:async()=>{try{const{data:t,error:e}=await W.from("admin_users").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return ie(t,"Get All Admin Users"),[]}},create:async t=>{try{const{data:e,error:r}=await W.from("admin_users").insert(t).select().single();if(r)throw r;return e}catch(e){throw ie(e,"Create Admin User"),e}},update:async(t,e)=>{try{const{data:r,error:i}=await W.from("admin_users").update(e).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw ie(r,`Update Admin User ${t}`),r}},delete:async t=>{try{const{error:e}=await W.from("admin_users").delete().eq("id",t);if(e)throw e}catch(e){ie(e,`Delete Admin User ${t}`)}}},y_={create:async t=>{try{const{data:e,error:r}=await W.from("system_logs").insert(t).select().single();if(r)throw r;return e}catch(e){throw ie(e,"Create System Log"),e}},getAll:async(t=100)=>{try{const{data:e,error:r}=await W.from("system_logs").select("*").order("created_at",{ascending:!1}).limit(t);if(r)throw r;return e||[]}catch(e){return ie(e,"Get System Logs"),[]}},getByEntity:async(t,e)=>{try{const{data:r,error:i}=await W.from("system_logs").select("*").eq("entity",t).eq("entity_id",e).order("created_at",{ascending:!1});if(i)throw i;return r||[]}catch(r){return ie(r,`Get Logs for ${t} ${e}`),[]}}},v_={subscribeToRequests:t=>W.channel("requests-changes").on("postgres_changes",{event:"*",schema:"public",table:"requests"},t).subscribe(),subscribeToOffers:(t,e)=>W.channel(`offers-${t}`).on("postgres_changes",{event:"*",schema:"public",table:"offers",filter:`request_id=eq.${t}`},e).subscribe(),subscribeToJobStages:(t,e)=>W.channel(`job-stages-${t}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"requests",filter:`id=eq.${t}`},e).subscribe(),unsubscribe:t=>{W.removeChannel(t)}},w_={getPartnerStats:async()=>{try{const{data:t,error:e}=await W.from("partner_stats").select("*");if(e)throw e;return t}catch(t){return ie(t,"Get Partner Stats"),[]}},getCustomerStats:async()=>{try{const{data:t,error:e}=await W.from("customer_stats").select("*");if(e)throw e;return t}catch(t){return ie(t,"Get Customer Stats"),[]}},getDailyStats:async(t=30)=>{try{const{data:e,error:r}=await W.from("daily_stats").select("*").limit(t);if(r)throw r;return e}catch(e){return ie(e,"Get Daily Stats"),[]}}},Lh={getByPartnerId:async t=>{try{const{data:e,error:r}=await W.from("partner_service_areas").select("*").eq("partner_id",t).order("is_primary",{ascending:!1}).order("city",{ascending:!0});if(r)throw r;return(e||[]).map(i=>({id:i.id,partnerId:i.partner_id,city:i.city,districts:i.districts,isPrimary:i.is_primary,priceMultiplier:i.price_multiplier,isActive:i.is_active,notes:i.notes,createdAt:i.created_at,updatedAt:i.updated_at}))}catch(e){return ie(e,"Get Service Areas by Partner"),[]}},getPartnersByCity:async t=>{try{const{data:e,error:r}=await W.from("partner_service_areas").select(`
          *,
          partners!inner (
            id, name, company_name, phone, email, rating, status, city, district, service_types, profile_photo_url, logo_url
          )
        `).eq("city",t).eq("is_active",!0).eq("partners.status","active").order("is_primary",{ascending:!1});if(r)throw r;return e||[]}catch(e){return ie(e,`Get Partners by City: ${t}`),[]}},create:async t=>{try{const{data:e,error:r}=await W.from("partner_service_areas").insert({partner_id:t.partnerId,city:t.city,districts:t.districts||null,is_primary:t.isPrimary||!1,price_multiplier:t.priceMultiplier||1,notes:t.notes||null,is_active:!0}).select().single();if(r)throw r;return{id:e.id,partnerId:e.partner_id,city:e.city,districts:e.districts,isPrimary:e.is_primary,priceMultiplier:e.price_multiplier,isActive:e.is_active,notes:e.notes,createdAt:e.created_at,updatedAt:e.updated_at}}catch(e){throw ie(e,"Create Service Area"),e}},update:async(t,e)=>{try{const r={};e.districts!==void 0&&(r.districts=e.districts),e.isPrimary!==void 0&&(r.is_primary=e.isPrimary),e.priceMultiplier!==void 0&&(r.price_multiplier=e.priceMultiplier),e.isActive!==void 0&&(r.is_active=e.isActive),e.notes!==void 0&&(r.notes=e.notes);const{data:i,error:a}=await W.from("partner_service_areas").update(r).eq("id",t).select().single();if(a)throw a;return{id:i.id,partnerId:i.partner_id,city:i.city,districts:i.districts,isPrimary:i.is_primary,priceMultiplier:i.price_multiplier,isActive:i.is_active,notes:i.notes,createdAt:i.created_at,updatedAt:i.updated_at}}catch(r){throw ie(r,`Update Service Area ${t}`),r}},delete:async t=>{try{const{error:e}=await W.from("partner_service_areas").delete().eq("id",t);if(e)throw e}catch(e){throw ie(e,`Delete Service Area ${t}`),e}},setPrimary:async(t,e)=>{try{await W.from("partner_service_areas").update({is_primary:!1}).eq("partner_id",t);const{error:r}=await W.from("partner_service_areas").update({is_primary:!0}).eq("id",e);if(r)throw r}catch(r){throw ie(r,"Set Primary Service Area"),r}}},Mh={getByPartnerId:async t=>{try{const{data:e,error:r}=await W.from("vehicle_return_routes").select("*").eq("partner_id",t).order("departure_date",{ascending:!0});if(r)throw r;return(e||[]).map(i=>({id:i.id,partnerId:i.partner_id,vehicleId:i.vehicle_id,originCity:i.origin_city,destinationCity:i.destination_city,routeCities:i.route_cities,departureDate:i.departure_date,departureTime:i.departure_time,estimatedArrival:i.estimated_arrival,vehicleType:i.vehicle_type,vehiclePlate:i.vehicle_plate,driverName:i.driver_name,driverPhone:i.driver_phone,availableCapacity:i.available_capacity,pricePerKm:i.price_per_km,discountPercent:i.discount_percent,minPrice:i.min_price,status:i.status,notes:i.notes,createdAt:i.created_at,updatedAt:i.updated_at}))}catch(e){return ie(e,"Get Return Routes by Partner"),[]}},getActiveByPartnerId:async t=>{try{const e=new Date().toISOString().split("T")[0],{data:r,error:i}=await W.from("vehicle_return_routes").select("*").eq("partner_id",t).eq("status","active").gte("departure_date",e).order("departure_date",{ascending:!0});if(i)throw i;return(r||[]).map(a=>({id:a.id,partnerId:a.partner_id,vehicleId:a.vehicle_id,originCity:a.origin_city,destinationCity:a.destination_city,routeCities:a.route_cities,departureDate:a.departure_date,departureTime:a.departure_time,estimatedArrival:a.estimated_arrival,vehicleType:a.vehicle_type,vehiclePlate:a.vehicle_plate,driverName:a.driver_name,driverPhone:a.driver_phone,availableCapacity:a.available_capacity,pricePerKm:a.price_per_km,discountPercent:a.discount_percent,minPrice:a.min_price,status:a.status,notes:a.notes,createdAt:a.created_at,updatedAt:a.updated_at}))}catch(e){return ie(e,"Get Active Return Routes by Partner"),[]}},getByCity:async t=>{try{const e=new Date().toISOString().split("T")[0],{data:r,error:i}=await W.from("vehicle_return_routes").select(`
          *,
          partners!inner (
            id, name, company_name, phone, email, rating, status, profile_photo_url, logo_url
          )
        `).contains("route_cities",[t]).eq("status","active").gte("departure_date",e).eq("partners.status","active").order("departure_date",{ascending:!0});if(i)throw i;return(r||[]).map(a=>{var o,u,d,c,p;return{id:a.id,partnerId:a.partner_id,partnerName:(o=a.partners)==null?void 0:o.name,companyName:(u=a.partners)==null?void 0:u.company_name,partnerRating:(d=a.partners)==null?void 0:d.rating,profilePhotoUrl:(c=a.partners)==null?void 0:c.profile_photo_url,logoUrl:(p=a.partners)==null?void 0:p.logo_url,vehicleId:a.vehicle_id,originCity:a.origin_city,destinationCity:a.destination_city,routeCities:a.route_cities,departureDate:a.departure_date,departureTime:a.departure_time,vehicleType:a.vehicle_type,vehiclePlate:a.vehicle_plate,discountPercent:a.discount_percent,availableCapacity:a.available_capacity,status:a.status,createdAt:a.created_at}})}catch(e){return ie(e,`Get Return Routes by City: ${t}`),[]}},create:async t=>{try{const{data:e,error:r}=await W.from("vehicle_return_routes").insert({partner_id:t.partnerId,vehicle_id:t.vehicleId||null,origin_city:t.originCity,destination_city:t.destinationCity,route_cities:t.routeCities,departure_date:t.departureDate,departure_time:t.departureTime||null,estimated_arrival:t.estimatedArrival||null,vehicle_type:t.vehicleType,vehicle_plate:t.vehiclePlate,driver_name:t.driverName||null,driver_phone:t.driverPhone||null,available_capacity:t.availableCapacity||null,price_per_km:t.pricePerKm||null,discount_percent:t.discountPercent||0,min_price:t.minPrice||null,notes:t.notes||null,status:"active"}).select().single();if(r)throw r;return{id:e.id,partnerId:e.partner_id,vehicleId:e.vehicle_id,originCity:e.origin_city,destinationCity:e.destination_city,routeCities:e.route_cities,departureDate:e.departure_date,departureTime:e.departure_time,estimatedArrival:e.estimated_arrival,vehicleType:e.vehicle_type,vehiclePlate:e.vehicle_plate,driverName:e.driver_name,driverPhone:e.driver_phone,availableCapacity:e.available_capacity,pricePerKm:e.price_per_km,discountPercent:e.discount_percent,minPrice:e.min_price,status:e.status,notes:e.notes,createdAt:e.created_at,updatedAt:e.updated_at}}catch(e){throw ie(e,"Create Return Route"),e}},update:async(t,e)=>{try{const r={};e.originCity!==void 0&&(r.origin_city=e.originCity),e.destinationCity!==void 0&&(r.destination_city=e.destinationCity),e.routeCities!==void 0&&(r.route_cities=e.routeCities),e.departureDate!==void 0&&(r.departure_date=e.departureDate),e.departureTime!==void 0&&(r.departure_time=e.departureTime),e.estimatedArrival!==void 0&&(r.estimated_arrival=e.estimatedArrival),e.vehicleType!==void 0&&(r.vehicle_type=e.vehicleType),e.vehiclePlate!==void 0&&(r.vehicle_plate=e.vehiclePlate),e.driverName!==void 0&&(r.driver_name=e.driverName),e.driverPhone!==void 0&&(r.driver_phone=e.driverPhone),e.availableCapacity!==void 0&&(r.available_capacity=e.availableCapacity),e.pricePerKm!==void 0&&(r.price_per_km=e.pricePerKm),e.discountPercent!==void 0&&(r.discount_percent=e.discountPercent),e.minPrice!==void 0&&(r.min_price=e.minPrice),e.status!==void 0&&(r.status=e.status),e.notes!==void 0&&(r.notes=e.notes);const{error:i}=await W.from("vehicle_return_routes").update(r).eq("id",t);if(i)throw i}catch(r){throw ie(r,`Update Return Route ${t}`),r}},delete:async t=>{try{const{error:e}=await W.from("vehicle_return_routes").delete().eq("id",t);if(e)throw e}catch(e){throw ie(e,`Delete Return Route ${t}`),e}},cancel:async t=>{try{const{error:e}=await W.from("vehicle_return_routes").update({status:"cancelled"}).eq("id",t);if(e)throw e}catch(e){throw ie(e,`Cancel Return Route ${t}`),e}},complete:async t=>{try{const{error:e}=await W.from("vehicle_return_routes").update({status:"completed"}).eq("id",t);if(e)throw e}catch(e){throw ie(e,`Complete Return Route ${t}`),e}}},__={getAvailablePartners:async t=>{try{const e=await Lh.getPartnersByCity(t),r=await Mh.getByCity(t),i=new Set,a=[];for(const o of e){const u=o.partners;u&&!i.has(u.id)&&(i.add(u.id),a.push({partnerId:u.id,partnerName:u.name,companyName:u.company_name,partnerRating:u.rating,partnerPhone:u.phone,partnerEmail:u.email,serviceTypes:u.service_types,profilePhotoUrl:u.profile_photo_url,logoUrl:u.logo_url,city:u.city,district:u.district,source:"service_area",isPrimaryArea:o.is_primary,priceMultiplier:o.price_multiplier,routeId:null,discountPercent:null,departureDate:null}))}for(const o of r)i.has(o.partnerId)||(i.add(o.partnerId),a.push({partnerId:o.partnerId,partnerName:o.partnerName,companyName:o.companyName,partnerRating:o.partnerRating,profilePhotoUrl:o.profilePhotoUrl,logoUrl:o.logoUrl,source:"return_route",isPrimaryArea:!1,priceMultiplier:1,routeId:o.id,discountPercent:o.discountPercent,departureDate:o.departureDate,vehicleType:o.vehicleType,vehiclePlate:o.vehiclePlate,originCity:o.originCity,destinationCity:o.destinationCity}));return a.sort((o,u)=>(u.partnerRating||0)-(o.partnerRating||0)),a}catch(e){return ie(e,`Get Available Partners for City: ${t}`),[]}}},b_={getShowcaseData:async t=>{try{const{data:e,error:r}=await W.from("partners").select(`
          id, name, company_name, email, phone, rating, completed_jobs, status,
          city, district, logo_url, profile_photo_url,
          showcase_description, showcase_working_hours, showcase_payment_methods,
          showcase_is_24_7, showcase_satisfaction_rate, showcase_response_time, showcase_total_reviews
        `).eq("id",t).single();if(r)throw r;if(!e)throw new Error("Partner not found");const{data:i}=await W.from("partner_vehicles").select(`
          id, partner_id, brand, model, model_name, year, type, vehicle_type, plate_number,
          image_url, front_photo_url, side_photo_url, back_photo_url, status,
          showcase_capacity, showcase_insurance_type, showcase_equipment, showcase_description, is_showcase_vehicle
        `).eq("partner_id",t),a=(i||[]).map(c=>({...c,plate:c.plate_number,partnerId:c.partner_id})),{data:o}=await W.from("partner_reviews").select("id, customer_id, rating, comment, created_at").eq("partner_id",t).order("created_at",{ascending:!1}).limit(5),{count:u}=await W.from("partner_reviews").select("id",{count:"exact",head:!0}).eq("partner_id",t),d=await Promise.all((o||[]).map(async c=>{const{data:p}=await W.from("customers").select("first_name, last_name").eq("id",c.customer_id).single(),y=p?`${p.first_name||""} ${(p.last_name||"").charAt(0)}.`:"Anonim";return{id:c.id,customer_name:y,rating:c.rating,comment:c.comment,created_at:c.created_at}}));return{partner:e,vehicles:a,showcaseVehicle:a.find(c=>c.is_showcase_vehicle)||a[0]||null,reviews:d,totalReviews:u||0}}catch(e){return ie(e,`Get Showcase Data for Partner: ${t}`),null}},updateShowcase:async(t,e)=>{try{await Ye();const{data:r,error:i}=await W.from("partners").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(i)throw i;return r}catch(r){return ie(r,`Update Showcase for Partner: ${t}`),null}},updateVehicleShowcase:async(t,e)=>{try{await Ye();const{data:r,error:i}=await W.from("partner_vehicles").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(i)throw i;return r}catch(r){return ie(r,`Update Vehicle Showcase: ${t}`),null}},setShowcaseVehicle:async(t,e)=>{try{await Ye(),await W.from("partner_vehicles").update({is_showcase_vehicle:!1}).eq("partner_id",t);const{data:r,error:i}=await W.from("partner_vehicles").update({is_showcase_vehicle:!0}).eq("id",e).select().single();if(i)throw i;return r}catch(r){return ie(r,`Set Showcase Vehicle: ${e}`),null}}},jr={auth:Ih,customers:o_,partners:ml,requests:Wr,offers:gl,completedJobs:h_,partnerReviews:f_,partnerDocuments:da,supportTickets:Dh,partnerVehicles:p_,partnerCredits:Zs,emptyTruckRoutes:m_,adminUsers:g_,systemLogs:y_,realtime:v_,analytics:w_,favorites:l_,addresses:u_,notifications:c_,notificationPreferences:d_,documents:da,serviceAreas:Lh,returnRoutes:Mh,partnerSearch:__,partnerShowcase:b_,storage:{uploadCustomerPhoto:async(t,e)=>{try{await Ye();const r=t.name.replace(/[^a-zA-Z0-9_.-]/g,"_"),i=e||"guest",a=Date.now(),o=`${i}/${a}_${r}`;console.log(` Uploading to: request-photos/${o}`);const{data:u,error:d}=await W.storage.from("request-photos").upload(o,t,{upsert:!0,contentType:t.type});if(d)throw console.error("Storage upload error:",d),d;const{data:c}=W.storage.from("request-photos").getPublicUrl(o);return console.log(` Photo uploaded: ${c.publicUrl}`),c.publicUrl}catch(r){throw console.error(" Upload failed:",r),ie(r,"Upload Customer Photo"),r}},uploadPartnerDocument:async(t,e,r,i)=>{try{await Ye();const a=t.name.replace(/[^a-zA-Z0-9_.-]/g,"_"),o=Date.now(),u=r?`${e}/${r}/${o}_${a}`:`${e}/${i}/${o}_${a}`;console.log(` Uploading partner document to: partner-documents/${u}`);const{data:d,error:c}=await W.storage.from("partner-documents").upload(u,t,{upsert:!0,contentType:t.type});if(c)return console.error("Partner document upload error:",c),{success:!1,error:c.message};const{data:p}=W.storage.from("partner-documents").getPublicUrl(u);return console.log(` Partner document uploaded: ${p.publicUrl}`),{success:!0,url:p.publicUrl}}catch(a){return console.error(" Partner document upload failed:",a),{success:!1,error:a.message}}}}},x_={getAll:async()=>{try{await Ye();const{data:t,error:e}=await W.from("campaigns").select("*").order("sort_order",{ascending:!0});if(e)throw e;return t||[]}catch(t){throw ie(t,"Get All Campaigns"),t}},getActive:async()=>{try{const{data:t,error:e}=await W.from("campaigns").select("*").eq("is_active",!0).order("sort_order",{ascending:!0});if(e)throw e;return t||[]}catch(t){return console.error("Get Active Campaigns Error:",t),[]}},getById:async t=>{try{const{data:e,error:r}=await W.from("campaigns").select("*").eq("id",t).single();if(r&&r.code!=="PGRST116")throw r;return e}catch(e){return console.error("Get Campaign By ID Error:",e),null}},create:async t=>{try{await Ye();const{data:e,error:r}=await W.from("campaigns").insert({title:t.title,description:t.description,image_url:t.image_url,badge_text:t.badge_text||null,valid_until:t.valid_until||null,discount:t.discount||null,code:t.code||null,is_active:t.is_active??!0,sort_order:t.sort_order??0}).select().single();if(r)throw r;return e}catch(e){throw ie(e,"Create Campaign"),e}},update:async(t,e)=>{try{await Ye();const{data:r,error:i}=await W.from("campaigns").update({...e.title&&{title:e.title},...e.description&&{description:e.description},...e.image_url&&{image_url:e.image_url},badge_text:e.badge_text,valid_until:e.valid_until,discount:e.discount,code:e.code,...e.is_active!==void 0&&{is_active:e.is_active},...e.sort_order!==void 0&&{sort_order:e.sort_order}}).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw ie(r,"Update Campaign"),r}},delete:async t=>{try{await Ye();const{error:e}=await W.from("campaigns").delete().eq("id",t);if(e)throw e}catch(e){throw ie(e,"Delete Campaign"),e}},toggleActive:async(t,e)=>{try{await Ye();const{data:r,error:i}=await W.from("campaigns").update({is_active:e}).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw ie(r,"Toggle Campaign Active"),r}}},S2=Object.freeze(Object.defineProperty({__proto__:null,addressesApi:u_,adminUsersApi:g_,analyticsApi:w_,authApi:Ih,campaignsApi:x_,completedJobsApi:h_,customersApi:o_,default:jr,emptyTruckRoutesApi:m_,favoritesApi:l_,notificationPreferencesApi:d_,notificationsApi:c_,offersApi:gl,partnerCreditsApi:Zs,partnerDocumentsApi:da,partnerReviewsApi:f_,partnerSearchApi:__,partnerShowcaseApi:b_,partnerVehiclesApi:p_,partnersApi:ml,realtimeApi:v_,requestsApi:Wr,returnRoutesApi:Mh,serviceAreasApi:Lh,supabase:W,supabaseApi:jr,supportTicketsApi:Dh,systemLogsApi:y_},Symbol.toStringTag,{value:"Module"})),QP=()=>{const[t,e]=F.useState(!1),[r,i]=F.useState([]),[a,o]=F.useState(0),[u,d]=F.useState(!0),c=async()=>{var x;try{const E=localStorage.getItem("yolmov-auth-session");if(!E){i([]),o(0),d(!1);return}const C=JSON.parse(E),P=(x=C==null?void 0:C.user)==null?void 0:x.id;if(!P){i([]),o(0),d(!1);return}const[O,S]=await Promise.all([jr.notifications.getByCustomerId(P),jr.notifications.getUnreadCount(P)]);i(O),o(S)}catch(E){console.error("Bildirimler yklenemedi:",E),i([]),o(0)}finally{d(!1)}};F.useEffect(()=>{c();const x=setInterval(c,3e4),E=()=>{c()};return window.addEventListener("yolmov-auth-change",E),()=>{clearInterval(x),window.removeEventListener("yolmov-auth-change",E)}},[]);const p=async x=>{try{await jr.notifications.markAsRead(x),await c()}catch(E){console.error("Bildirim okundu iaretlenemedi:",E)}},y=async()=>{var x;try{const E=localStorage.getItem("yolmov-auth-session");if(!E)return;const C=JSON.parse(E),P=(x=C==null?void 0:C.user)==null?void 0:x.id;if(!P)return;await jr.notifications.markAllAsRead(P),await c()}catch(E){console.error("Tm bildirimler okundu iaretlenemedi:",E)}},m=async(x,E)=>{E.stopPropagation();try{await jr.notifications.delete(x),await c()}catch(C){console.error("Bildirim silinemedi:",C)}},w=async()=>{var x;if(confirm("Tm bildirimleri silmek istediinizden emin misiniz?"))try{const E=localStorage.getItem("yolmov-auth-session");if(!E)return;const C=JSON.parse(E);if(!((x=C==null?void 0:C.user)==null?void 0:x.id))return;await Promise.all(r.map(O=>jr.notifications.delete(O.id))),await c()}catch(E){console.error("Bildirimler silinemedi:",E)}},b=x=>{switch(x){case"offer_received":return"";case"offer_accepted":return"";case"offer_rejected":return"";case"request_matched":return"";case"system":return"";default:return""}};return v.jsxs("div",{className:"relative",children:[v.jsxs("button",{onClick:()=>e(!t),className:"relative p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-xl transition-all","aria-label":"Bildirimler",children:[v.jsx(Sc,{size:24}),a>0&&v.jsx("span",{className:"absolute top-0 right-0 w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:a>9?"9+":a})]}),v.jsx(Rr,{children:t&&v.jsxs(v.Fragment,{children:[v.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:()=>e(!1)}),v.jsxs(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute right-0 top-full mt-2 w-96 max-w-[calc(100vw-2rem)] bg-white rounded-2xl shadow-2xl border border-slate-200 overflow-hidden z-50",children:[v.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-200 flex items-center justify-between",children:[v.jsxs("h3",{className:"text-sm font-bold text-slate-900",children:["Bildirimler",a>0&&v.jsxs("span",{className:"ml-2 text-xs text-slate-500",children:["(",a," okunmam)"]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[a>0&&v.jsxs("button",{onClick:y,className:"text-xs text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1",children:[v.jsx(ed,{size:14}),"Tmn Okundu aretle"]}),r.length>0&&v.jsxs("button",{onClick:w,className:"text-xs text-red-600 hover:text-red-700 font-medium flex items-center gap-1",children:[v.jsx(na,{size:14}),"Tmn Sil"]})]})]}),v.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:u?v.jsxs("div",{className:"p-8 text-center",children:[v.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-3 animate-pulse",children:v.jsx(Sc,{size:32,className:"text-slate-400"})}),v.jsx("p",{className:"text-sm text-slate-500",children:"Ykleniyor..."})]}):r.length===0?v.jsxs("div",{className:"p-8 text-center",children:[v.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-3",children:v.jsx(Sc,{size:32,className:"text-slate-400"})}),v.jsx("p",{className:"text-sm text-slate-500",children:"Henz bildiriminiz yok"})]}):v.jsx("div",{className:"divide-y divide-slate-100",children:r.map(x=>v.jsxs("div",{className:`p-4 hover:bg-slate-50 transition-colors relative group ${x.read?"":"bg-blue-50/30"}`,children:[v.jsxs("div",{className:"flex items-start gap-3 cursor-pointer",onClick:()=>p(x.id),children:[v.jsx("span",{className:"text-2xl shrink-0",children:b(x.type)}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[v.jsx("h4",{className:"text-sm font-bold text-slate-900 truncate",children:x.title}),!x.read&&v.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full shrink-0 mt-1"})]}),v.jsx("p",{className:"text-xs text-slate-600 mb-2 line-clamp-2",children:x.message}),v.jsx("p",{className:"text-xs text-slate-400",children:new Date(x.createdAt).toLocaleString("tr-TR",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]})]}),v.jsx("button",{onClick:E=>m(x.id,E),className:"absolute top-2 right-2 p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Sil",children:v.jsx(na,{size:16})})]},x.id))})})]})]})})]})},XP=()=>{const t=ii();Qr();const[e,r]=F.useState(!1),[i,a]=F.useState(!1),[o,u]=F.useState(null),[d,c]=F.useState(!0);F.useEffect(()=>{let m=!0;const w=async P=>{try{const O=await jr.customers.getById(P);m&&O&&u(O)}catch(O){console.error("Customer ykleme hatas:",O)}},b=async()=>{var P;try{const O=localStorage.getItem("yolmov-auth-session");if(O){const S=JSON.parse(O);if(S.expires_at&&new Date(S.expires_at*1e3)<=new Date){console.log(" Session expired in Header, clearing..."),localStorage.removeItem("yolmov-auth-session"),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"session-expired"}})),m&&u(null);return}(P=S==null?void 0:S.user)!=null&&P.id&&await w(S.user.id)}else m&&u(null)}catch(O){console.error("Session kontrol hatas:",O),localStorage.removeItem("yolmov-auth-session"),m&&u(null)}finally{m&&c(!1)}};b();const x=P=>{P.key==="yolmov-auth-session"&&b()},E=P=>{var S;console.log(" Auth change event received:",(S=P.detail)==null?void 0:S.type),b()};window.addEventListener("storage",x),window.addEventListener("yolmov-auth-change",E);const C=setInterval(b,3e4);return()=>{m=!1,window.removeEventListener("storage",x),window.removeEventListener("yolmov-auth-change",E),clearInterval(C)}},[]);const p=async()=>{try{localStorage.removeItem("yolmov-auth-session"),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"logout"}})),u(null),a(!1),t("/")}catch(m){console.error("k hatas:",m),t("/")}},y=()=>r(!e);return v.jsxs("header",{className:"sticky top-0 z-50 w-full bg-white shadow-sm border-b border-gray-100 h-[80px] flex items-center",children:[v.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32 flex items-center justify-between h-full",children:[v.jsxs("div",{className:"flex items-center gap-8 lg:gap-12",children:[v.jsx("button",{className:"flex items-center cursor-pointer shrink-0 bg-transparent border-0 p-0",onClick:()=>t("/"),"aria-label":"Anasayfaya git",children:v.jsx("span",{className:"yolmov-logo text-3xl font-bold",style:{color:"#FF7A00"},children:"yolmov"})}),v.jsxs("nav",{className:"hidden md:flex items-center space-x-6 lg:space-x-8",children:[v.jsx("button",{onClick:()=>t("/hakkimizda"),className:"text-gray-600 hover:text-brand-orange font-medium transition-colors text-sm lg:text-base whitespace-nowrap",children:"Hakkmzda"}),v.jsx("button",{onClick:()=>t("/hizmetler"),className:"text-gray-600 hover:text-brand-orange font-medium transition-colors text-sm lg:text-base whitespace-nowrap",children:"Hizmetler"}),v.jsx("button",{onClick:()=>t("/iletisim"),className:"text-gray-600 hover:text-brand-orange font-medium transition-colors text-sm lg:text-base whitespace-nowrap",children:"letiim"}),v.jsx("button",{onClick:()=>t("/sss"),className:"text-gray-600 hover:text-brand-orange font-medium transition-colors text-sm lg:text-base whitespace-nowrap",children:"SSS"})]})]}),v.jsxs("div",{className:"hidden md:flex items-center gap-3 shrink-0",children:[o&&v.jsx(QP,{}),!o&&v.jsxs(v.Fragment,{children:[v.jsxs("button",{onClick:()=>t("/giris/partner"),"aria-label":"Acente giri sayfasna git",className:"text-sm font-bold text-gray-700 hover:text-blue-600 px-3 py-2 transition-colors flex items-center gap-1",children:[v.jsx($m,{size:16}),"Acente Girii"]}),v.jsx("div",{className:"w-px h-6 bg-gray-200 mx-1"}),v.jsx("button",{onClick:()=>t("/giris/musteri"),"aria-label":"Mteri giri sayfasna git",className:"px-6 py-2.5 rounded-xl border-2 font-semibold hover:bg-orange-50 transition-colors",style:{borderColor:"#FF7A00",color:"#FF7A00"},children:"Giri Yap"}),v.jsx("button",{onClick:()=>t("/partner/kayit"),"aria-label":"Partner kayt sayfasna git",className:"px-6 py-2.5 rounded-xl text-white font-semibold shadow-md hover:shadow-lg hover:opacity-95 transition-all transform hover:-translate-y-0.5",style:{background:"linear-gradient(to right, #FF7A00, #FF9933)"},children:"Partner Ol"})]}),o&&v.jsxs("div",{className:"relative",children:[v.jsxs("button",{onClick:()=>a(m=>!m),className:"flex items-center gap-3 px-3 py-2 rounded-xl border border-gray-200 hover:border-brand-orange hover:bg-orange-50 transition-colors",children:[v.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-orange-300 to-orange-500 text-white flex items-center justify-center font-bold text-sm overflow-hidden",children:o.avatarUrl?v.jsx("img",{src:o.avatarUrl,alt:"avatar",className:"w-full h-full object-cover"}):o.firstName.charAt(0)}),v.jsx("span",{className:"font-semibold text-gray-700",children:o.firstName})]}),i&&v.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-100 py-2 z-50 animate-fade-in",children:[v.jsx("button",{onClick:()=>{t("/musteri/profil"),a(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Profilim"}),v.jsx("div",{className:"my-1 h-px bg-gray-100"}),v.jsx("button",{onClick:()=>{p(),a(!1)},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"k Yap"})]})]})]}),v.jsx("div",{className:"md:hidden flex items-center gap-3",children:v.jsx("button",{className:"text-gray-600",onClick:y,"aria-label":e?"Meny kapat":"Meny a","aria-expanded":e,children:e?v.jsx(na,{size:28}):v.jsx(nk,{size:28})})})]}),v.jsx(Rr,{children:e&&v.jsx(De.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"absolute top-[80px] left-0 w-full bg-white shadow-lg overflow-hidden md:hidden border-t border-gray-100",children:v.jsxs("div",{className:"flex flex-col p-6 space-y-4",children:[v.jsx("button",{onClick:()=>{t("/hakkimizda"),r(!1)},className:"text-lg font-medium text-gray-700 py-2 border-b border-gray-50 text-left",children:"Hakkmzda"}),v.jsx("button",{onClick:()=>{t("/hizmetler"),r(!1)},className:"text-lg font-medium text-gray-700 py-2 border-b border-gray-50 text-left",children:"Hizmetler"}),v.jsx("button",{onClick:()=>{t("/iletisim"),r(!1)},className:"text-lg font-medium text-gray-700 py-2 border-b border-gray-50 text-left",children:"letiim"}),v.jsx("button",{onClick:()=>{t("/sss"),r(!1)},className:"text-lg font-medium text-gray-700 py-2 border-b border-gray-50 text-left",children:"SSS"}),v.jsxs("div",{className:"pt-4 flex flex-col gap-3",children:[!o&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>{t("/giris/musteri"),r(!1)},className:"w-full py-3 rounded-xl border border-brand-orange text-brand-orange font-semibold",children:"Giri Yap"}),v.jsxs("button",{onClick:()=>{t("/giris/partner"),r(!1)},className:"w-full py-3 rounded-xl border border-blue-600 text-blue-600 font-semibold flex items-center justify-center gap-2",children:[v.jsx($m,{size:18})," Acente Girii"]}),v.jsx("button",{onClick:()=>{t("/partner/kayit"),r(!1)},className:"w-full py-3 rounded-xl bg-brand-orange text-white font-semibold shadow-md",children:"Partner Ol"})]}),o&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>{t("/musteri/profil"),r(!1)},className:"w-full py-3 rounded-xl bg-gray-100 text-gray-700 font-semibold",children:"Profilim"}),v.jsx("button",{onClick:()=>{p(),r(!1)},className:"w-full py-3 rounded-xl bg-red-50 text-red-600 font-semibold",children:"k Yap"})]})]})]})})})]})},Ld=[{id:"tow",title:"ekici Hizmeti",description:"Aracnz bozulduunda veya kaza durumunda en yakn ekici.",icon:wl},{id:"battery",title:"Ak Takviyesi",description:"Aknz m bitti? Hzlca takviye veya deiim destei.",icon:ov},{id:"tire",title:"Lastik Deiimi",description:"Lastiiniz patladysa yerinde deiim veya tamir.",icon:uv},{id:"fuel",title:"Yakt Getirme",description:"Yolda yaktnz bittiyse size en yakn istasyondan yakt.",icon:cv},{id:"rescue",title:"Ara Kurtarma",description:"Zorlu koullarda yolda kalan aracnz iin kurtarma.",icon:J1},{id:"general",title:"Genel Yol Yardm",description:"Anahtar kayb ve dier teknik sorunlar iin destek.",icon:pk}],ZP=[{id:1,title:"Konumunu Belirt",description:"GPS zerinden konumunu payla veya adresi manuel gir.",icon:Vd},{id:2,title:"Hizmeti Se",description:"htiyacn olan yol yardm hizmetini kategorilerden se.",icon:rd},{id:3,title:"Yardm Yola ksn",description:"En yakn uzman ekipten teklif al ve onayla.",icon:wl}],ej=[{id:"trust",title:"Gvenilir Hizmet",icon:uk},{id:"network",title:"Dorulanm Acente A",icon:dk},{id:"speed",title:"Hzl Eriim",icon:td},{id:"support",title:"7/24 Canl Destek",icon:hv}],Fo={Adana:["Alada","Ceyhan","ukurova","Feke","mamolu","Karaisal","Karata","Kozan","Pozant","Saimbeyli","Saram","Seyhan","Tufanbeyli","Yumurtalk","Yreir"],Adyaman:["Besni","elikhan","Gerger","Glba","Kahta","Merkez","Samsat","Sincik","Tut"],Afyonkarahisar:["Bamak","Bayat","Bolvadin","ay","obanlar","Dazkr","Dinar","Emirda","Evciler","Hocalar","hsaniye","scehisar","Kzlren","Merkez","Sandkl","Sinanpaa","Sultanda","uhut"],Ar:["Diyadin","Doubayazt","Elekirt","Hamur","Merkez","Patnos","Talay","Tutak"],Aksaray:["Aaren","Eskil","Glaa","Gzelyurt","Merkez","Ortaky","Saryahi","Sultanhan"],Amasya:["Gyncek","Gmhacky","Hamamz","Merkez","Merzifon","Suluova","Taova"],Ankara:["Akyurt","Altnda","Aya","Bala","Beypazar","amldere","ankaya","ubuk","Elmada","Etimesgut","Evren","Glba","Gdl","Haymana","Kalecik","Kahramankazan","Keiren","Kzlcahamam","Mamak","Nallhan","Polatl","Pursaklar","Sincan","ereflikohisar","Yenimahalle"],Antalya:["Akseki","Aksu","Alanya","Demre","Demealt","Elmal","Finike","Gazipaa","Gndomu","brad","Ka","Kemer","Kepez","Konyaalt","Korkuteli","Kumluca","Manavgat","Muratpaa","Serik"],Ardahan:["ldr","Damal","Gle","Hanak","Merkez","Posof"],Artvin:["Ardanu","Arhavi","Borka","Hopa","Kemalpaa","Merkez","Murgul","avat","Yusufeli"],Aydn:["Bozdoan","Buharkent","ine","Didim","Efeler","Germencik","ncirliova","Karacasu","Karpuzlu","Koarl","Kk","Kuadas","Kuyucak","Nazilli","Ske","Sultanhisar","Yenipazar"],Balkesir:["Altnyayla","Ayvalk","Balya","Bandrma","Bigadi","Burhaniye","Dursunbey","Edremit","Erdek","Gme","Gnen","Havran","vrindi","Karesi","Kepsut","Manyas","Marmara","Savatepe","Sndrg","Susurluk"],Bartn:["Amasra","Kurucaile","Merkez","Ulus"],Batman:["Beiri","Gerc","Hasankeyf","Kozluk","Merkez","Sason"],Bayburt:["Aydntepe","Demirz","Merkez"],Bilecik:["Bozyk","Glpazar","nhisar","Merkez","Osmaneli","Pazaryeri","St","Yenipazar"],Bingl:["Adakl","Gen","Karlova","Ki","Merkez","Solhan","Yayladere","Yedisu"],Bitlis:["Adilcevaz","Ahlat","Groymak","Hizan","Merkez","Mutki","Tatvan"],Bolu:["Drtdivan","Gerede","Gynk","Kbrsck","Mengen","Merkez","Mudurnu","Seben","Yeniaa"],Burdur:["Alasun","Altnyayla","Bucak","avdr","eltiki","Glhisar","Karamanl","Kemer","Merkez","Tefenni","Yeilova"],Bursa:["Bykorhan","Gemlik","Grsu","Harmanck","negl","znik","Karacabey","Keles","Kestel","Mudanya","Mustafakemalpaa","Nilfer","Orhaneli","Orhangazi","Osmangazi","Yeniehir","Yldrm"],anakkale:["Ayvack","Bayrami","Biga","Bozcaada","an","Eceabat","Ezine","Gelibolu","Gkeada","Lapseki","Merkez","Yenice"],ankr:["Atkaracalar","Bayramren","erke","Eldivan","Ilgaz","Kzlrmak","Korgun","Kurunlu","Merkez","Orta","abanz","Yaprakl"],orum:["Alaca","Bayat","Boazkale","Dodurga","skilip","Karg","Lain","Mecitz","Merkez","Ouzlar","Ortaky","Osmanck","Sungurlu","Uurluda"],Denizli:["Acpayam","Babada","Baklan","Bekilli","Beyaa","Bozkurt","Buldan","al","ameli","ardak","ivril","Gney","Honaz","Kale","Merkezefendi","Pamukkale","Sarayky","Serinhisar","Tavas"],Diyarbakr:["Balar","Bismil","ermik","nar","ng","Dicle","Eil","Ergani","Hani","Hazro","Kayapnar","Kocaky","Kulp","Lice","Silvan","Sur","Yeniehir"],Dzce:["Akakoca","Cumayeri","ilimli","Glyaka","Gmova","Kaynal","Merkez","Ylca"],Edirne:["Enez","Havsa","psala","Kean","Lalapaa","Meri","Merkez","Slolu","Uzunkpr"],Elaz:["An","Alacakaya","Arcak","Baskil","Karakoan","Keban","Kovanclar","Maden","Merkez","Palu","Sivrice"],Erzincan:["ayrl","li","Kemah","Kemaliye","Merkez","Otlukbeli","Refahiye","Tercan","zml"],Erzurum:["Akale","Aziziye","at","Hns","Horasan","spir","Karaoban","Karayaz","Kprky","Narman","Oltu","Olur","Palandken","Pasinler","Pazaryolu","enkaya","Tekman","Tortum","Uzundere","Yakutiye"],Eskiehir:["Alpu","Beylikova","ifteler","Gnyz","Han","nn","Mahmudiye","Mihalgazi","Mihalk","Odunpazar","Sarcakaya","Seyitgazi","Sivrihisar","Tepeba"],Gaziantep:["Araban","slahiye","Karkam","Nizip","Nurda","Ouzeli","ahinbey","ehitkamil","Yavuzeli"],Giresun:["Alucra","Bulancak","amoluk","anak","Dereli","Doankent","Espiye","Eynesil","Grele","Gce","Keap","Merkez","Piraziz","ebinkarahisar","Tirebolu","Yaldere"],Gmhane:["Kelkit","Kse","Krtn","Merkez","iran","Torul"],Hakkari:["ukurca","Derecik","Merkez","emdinli","Yksekova"],Hatay:["Altnz","Antakya","Arsuz","Belen","Defne","Drtyol","Erzin","Hassa","skenderun","Krkhan","Kumlu","Payas","Reyhanl","Samanda","Yaylada"],Idr:["Aralk","Karakoyunlu","Merkez","Tuzluca"],Isparta:["Aksu","Atabey","Eirdir","Gelendost","Gnen","Keiborlu","Merkez","Senirkent","Stler","arkikaraaa","Uluborlu","Yalva","Yeniarbademli"],stanbul:["Adalar","Arnavutky","Ataehir","Avclar","Baclar","Bahelievler","Bakrky","Baakehir","Bayrampaa","Beikta","Beykoz","Beylikdz","Beyolu","Bykekmece","atalca","ekmeky","Esenler","Esenyurt","Eypsultan","Fatih","Gaziosmanpaa","Gngren","Kadky","Kathane","Kartal","Kkekmece","Maltepe","Pendik","Sancaktepe","Saryer","Silivri","Sultanbeyli","Sultangazi","ile","ili","Tuzla","mraniye","skdar","Zeytinburnu"],zmir:["Aliaa","Balova","Bayndr","Bayrakl","Bergama","Beyda","Bornova","Buca","eme","ili","Dikili","Foa","Gaziemir","Gzelbahe","Karabalar","Karaburun","Karyaka","Kemalpaa","Knk","Kiraz","Konak","Menderes","Menemen","Narldere","demi","Seferihisar","Seluk","Tire","Torbal","Urla"],Kahramanmara:["Afin","Andrn","alayancerit","Dulkadirolu","Ekinz","Elbistan","Gksun","Nurhak","Onikiubat","Pazarck","Trkolu"],Karabk:["Eflani","Eskipazar","Merkez","Ovack","Safranbolu","Yenice"],Karaman:["Ayranc","Bayayla","Ermenek","Kazmkarabekir","Merkez","Sarveliler"],Kars:["Akyaka","Arpaay","Digor","Kazman","Merkez","Sarkam","Selim","Susuz"],Kastamonu:["Abana","Al","Ara","Azdavay","Bozkurt","Cide","atalzeytin","Daday","Devrekani","Doanyurt","Hann","hsangazi","nebolu","Kre","Merkez","Pnarba","Seydiler","enpazar","Takpr","Tosya"],Kayseri:["Akkla","Bnyan","Develi","Felahiye","Haclar","ncesu","Kocasinan","Melikgazi","zvatan","Pnarba","Sarolan","Sarz","Talas","Tomarza","Yahyal","Yeilhisar"],Krkkale:["Bahl","Baleyh","elebi","Delice","Karakeili","Keskin","Merkez","Sulakyurt","Yahihan"],Krklareli:["Babaeski","Demirky","Kofaz","Lleburgaz","Merkez","Pehlivanky","Pnarhisar","Vize"],Krehir:["Akakent","Akpnar","Boztepe","iekda","Kaman","Merkez","Mucur"],Kilis:["Elbeyli","Merkez","Musabeyli","Polateli"],Kocaeli:["Baiskele","ayrova","Darca","Derince","Dilovas","Gebze","Glck","zmit","Kandra","Karamrsel","Kartepe","Krfez"],Konya:["Ahrl","Akren","Akehir","Altnekin","Beyehir","Bozkr","Cihanbeyli","eltik","umra","Derbent","Derebucak","Doanhisar","Emirgazi","Ereli","Gneysnr","Hadim","Halkapnar","Hyk","Ilgn","Kadnhan","Karapnar","Karatay","Kulu","Meram","Sarayn","Seluklu","Seydiehir","Takent","Tuzluku","Yalhyk","Yunak"],Ktahya:["Altnta","Aslanapa","avdarhisar","Domani","Dumlupnar","Emet","Gediz","Hisarck","Merkez","Pazarlar","Simav","aphane","Tavanl"],Malatya:["Akada","Arapgir","Arguvan","Battalgazi","Darende","Doanehir","Doanyol","Hekimhan","Kale","Kuluncak","Ptrge","Yazhan","Yeilyurt"],Manisa:["Ahmetli","Akhisar","Alaehir","Demirci","Glmarmara","Grdes","Krkaa","Kprba","Kula","Salihli","Sargl","Saruhanl","Selendi","Soma","ehzadeler","Turgutlu","Yunusemre"],Mardin:["Artuklu","Dargeit","Derik","Kzltepe","Mazda","Midyat","Nusaybin","merli","Savur","Yeilli"],Mersin:["Akdeniz","Anamur","Aydnck","Bozyaz","amlyayla","Erdemli","Glnar","Mezitli","Mut","Silifke","Tarsus","Toroslar","Yeniehir"],Mula:["Bodrum","Dalaman","Data","Fethiye","Kavakldere","Kyceiz","Marmaris","Mentee","Milas","Ortaca","Seydikemer","Ula","Yataan"],Mu:["Bulank","Hasky","Korkut","Malazgirt","Merkez","Varto"],Nevehir:["Acgl","Avanos","Derinkuyu","Glehir","Hacbekta","Kozakl","Merkez","rgp"],Nide:["Altunhisar","Bor","amard","iftlik","Merkez","Ulukla"],Ordu:["Akku","Altnordu","Aybast","ama","atalpnar","ayba","Fatsa","Glky","Glyal","Grgentepe","kizce","Kabadz","Kabata","Korgan","Kumru","Mesudiye","Perembe","Ulubey","nye"],Osmaniye:["Bahe","Dzii","Hasanbeyli","Kadirli","Merkez","Sumbas","Toprakkale"],Rize:["Ardeen","amlhemin","ayeli","Derepazar","Fndkl","Gneysu","Hemin","kizdere","yidere","Kalkandere","Merkez","Pazar"],Sakarya:["Adapazar","Akyaz","Arifiye","Erenler","Ferizli","Geyve","Hendek","Karaprek","Karasu","Kaynarca","Kocaali","Pamukova","Sapanca","Serdivan","Stl","Tarakl"],Samsun:["19 Mays","Alaam","Asarck","Atakum","Ayvack","Bafra","Canik","aramba","Havza","lkadm","Kavak","Ladik","Salpazar","Tekkeky","Terme","Vezirkpr","Yakakent"],Siirt:["Baykan","Eruh","Kurtalan","Merkez","Pervari","irvan","Tillo"],Sinop:["Ayanck","Boyabat","Dikmen","Duraan","Erfelek","Gerze","Merkez","Saraydz","Trkeli"],Sivas:["Aknclar","Altnyayla","Divrii","Doanar","Gemerek","Glova","Grn","Hafik","mranl","Kangal","Koyulhisar","Merkez","Suehri","arkla","Ula","Yldzeli","Zara"],anlurfa:["Akakale","Birecik","Bozova","Ceylanpnar","Eyybiye","Halfeti","Haliliye","Harran","Hilvan","Karakpr","Siverek","Suru","Viranehir"],rnak:["Beytebap","Cizre","Glkonak","dil","Merkez","Silopi","Uludere"],Tekirda:["erkezky","orlu","Ergene","Hayrabolu","Kapakl","Malkara","Marmaraerelisi","Muratl","Saray","Sleymanpaa","arky"],Tokat:["Almus","Artova","Baiftlik","Erbaa","Merkez","Niksar","Pazar","Readiye","Sulusaray","Turhal","Yeilyurt","Zile"],Trabzon:["Akaabat","Arakl","Arsin","Beikdz","arba","aykara","Dernekpazar","Dzky","Hayrat","Kprba","Maka","Of","Ortahisar","Srmene","alpazar","Tonya","Vakfkebir","Yomra"],Tunceli:["emigezek","Hozat","Mazgirt","Merkez","Nazmiye","Ovack","Pertek","Plmr"],Uak:["Banaz","Eme","Karahall","Merkez","Sivasl","Ulubey"],Van:["Bahesaray","Bakale","aldran","atak","Edremit","Erci","Geva","Grpnar","pekyolu","Muradiye","zalp","Saray","Tuba"],Yalova:["Altnova","Armutlu","narck","iftlikky","Merkez","Termal"],Yozgat:["Akdamadeni","Aydnck","Boazlyan","andr","ayralan","ekerek","Kadehri","Merkez","Saraykent","Sarkaya","Sorgun","efaatli","Yenifakl","Yerky"],Zonguldak:["Alapl","aycuma","Devrek","Ereli","Gkebey","Kilimli","Kozlu","Merkez"]},E2={highDemand:[{from:"istanbul",to:"ankara",fromName:"stanbul",toName:"Ankara"},{from:"istanbul",to:"izmir",fromName:"stanbul",toName:"zmir"},{from:"istanbul",to:"antalya",fromName:"stanbul",toName:"Antalya"},{from:"ankara",to:"izmir",fromName:"Ankara",toName:"zmir"},{from:"ankara",to:"antalya",fromName:"Ankara",toName:"Antalya"},{from:"izmir",to:"antalya",fromName:"zmir",toName:"Antalya"}]},C2=[{id:"tekne",name:"Tekne Tama",slug:"tekne",description:"Tekne, yat ve deniz arac tama hizmeti",avgPrice:8e3,icon:"",targetCities:["mugla","antalya","izmir","istanbul"]},{id:"forklift",name:"Forklift Tama",slug:"forklift",description:" makinesi ve forklift nakliyesi",avgPrice:6500,icon:"",targetCities:["kocaeli","bursa","ankara","istanbul","izmir"]},{id:"karavan",name:"Karavan Tama",slug:"karavan",description:"Karavan ve motorhome ekici hizmeti",avgPrice:5500,icon:"",targetCities:["antalya","mugla","aydin","izmir"]},{id:"motosiklet",name:"Motosiklet ekici",slug:"motosiklet",description:"Motorsiklet ve ATV tama",avgPrice:2500,icon:"",targetCities:["istanbul","ankara","izmir","antalya"]},{id:"klasik-arac",name:"Klasik Ara Tama",slug:"klasik-arac",description:"Antika ve koleksiyon ara nakliyesi",avgPrice:9e3,icon:"",targetCities:["istanbul","ankara","izmir"]},{id:"is-makinesi",name:" Makinesi Tama",slug:"is-makinesi",description:"Vin, greyder, kazc tama",avgPrice:12e3,icon:"",targetCities:["ankara","istanbul","izmir","kocaeli","bursa"]}],T2=[{id:"lastikci",name:"Nbeti Lastiki",slug:"lastikci"},{id:"aku",name:"Nbeti Ak",slug:"aku"},{id:"cekici",name:"Nbeti ekici",slug:"cekici"},{id:"oto-elektrik",name:"Nbeti Oto Elektrik",slug:"oto-elektrik"},{id:"cam",name:"Nbeti Cam Tamiri",slug:"cam"}],A2=[{slug:"tem-otoyolu",name:"TEM Otoyolu",city:"stanbul",type:"highway"},{slug:"kuzey-marmara-otoyolu",name:"Kuzey Marmara Otoyolu",city:"stanbul",type:"highway"},{slug:"o-3-otoyolu",name:"O-3 Otoyolu (Avrupa)",city:"stanbul",type:"highway"},{slug:"o-4-otoyolu",name:"O-4 Otoyolu",city:"stanbul",type:"highway"},{slug:"ankara-izmir-otoyolu",name:"Ankara-zmir Otoyolu",city:"Ankara",type:"highway"},{slug:"istanbul-havalimani",name:"stanbul Havaliman",city:"stanbul",type:"airport"},{slug:"sabiha-gokcen",name:"Sabiha Gken Havaliman",city:"stanbul",type:"airport"},{slug:"esenboga-havalimani",name:"Esenboa Havaliman",city:"Ankara",type:"airport"},{slug:"izmir-adnan-menderes",name:"zmir Adnan Menderes Havaliman",city:"zmir",type:"airport"},{slug:"antalya-havalimani",name:"Antalya Havaliman",city:"Antalya",type:"airport"},{slug:"ostim-sanayi",name:"OSTM Sanayi Sitesi",city:"Ankara",type:"industrial"},{slug:"ikitelli-osb",name:"kitelli OSB",city:"stanbul",type:"industrial"},{slug:"dudullu-osb",name:"Dudullu OSB",city:"stanbul",type:"industrial"},{slug:"gebze-osb",name:"Gebze Organize Sanayi",city:"Kocaeli",type:"industrial"},{slug:"ege-serbest-bolge",name:"Ege Serbest Blgesi",city:"zmir",type:"industrial"},{slug:"maslak-oto-sanayi",name:"Maslak Oto Sanayi",city:"stanbul",type:"automotive"},{slug:"mecidiyekoy-oto-sanayi",name:"Mecidiyeky Oto Sanayi",city:"stanbul",type:"automotive"},{slug:"topkapi-oto-sanayi",name:"Topkap Oto Sanayi",city:"stanbul",type:"automotive"},{slug:"kozyatagi-oto-sanayi",name:"Kozyata Oto Sanayi",city:"stanbul",type:"automotive"}],P2=[{id:"cekici",name:"ekici Fiyatlar",slug:"cekici"},{id:"oto-kurtarma",name:"Oto Kurtarma Fiyatlar",slug:"oto-kurtarma"},{id:"lastik-degisimi",name:"Lastik Deiimi Fiyatlar",slug:"lastik-degisimi"},{id:"aku-takviyesi",name:"Ak Takviyesi Fiyatlar",slug:"aku-takviyesi"},{id:"sehirler-arasi",name:"ehirler Aras ekici Fiyatlar",slug:"sehirler-arasi"},{id:"yakit-yardimi",name:"Yakt Yardm Fiyatlar",slug:"yakit-yardimi"}],j2=2025,tj="/assets/1765057362098_kis-2.webp",rj=({onSearch:t})=>{const[e,r]=F.useState(!1),[i,a]=F.useState("city"),[o,u]=F.useState(""),[d,c]=F.useState(!1),[p,y]=F.useState("Konum alnyor..."),[m,w]=F.useState(""),[b,x]=F.useState(""),[E,C]=F.useState(!1),[P,O]=F.useState(""),[S,j]=F.useState(!1),[R,D]=F.useState("Arama balatlyor..."),[I,M]=F.useState(null),Q=F.useRef(null),z=F.useRef(null),K=F.useRef(null),re=F.useRef(null);F.useEffect(()=>{function Z(he){Q.current&&!Q.current.contains(he.target)&&r(!1),z.current&&!z.current.contains(he.target)&&C(!1)}return document.addEventListener("mousedown",Z),()=>document.removeEventListener("mousedown",Z)},[]);const ue=Object.keys(Fo),xe=m?Fo[m]:[],Pe=i==="city"?ue.filter(Z=>Z.toLocaleLowerCase("tr").includes(o.toLocaleLowerCase("tr"))):xe.filter(Z=>Z.toLocaleLowerCase("tr").includes(o.toLocaleLowerCase("tr"))),je=Ld.find(Z=>Z.id===P),ke=Z=>{O(Z),C(!1)},oe=Z=>{var he;w(Z),a("district"),u(""),(he=K.current)==null||he.focus()},se=Z=>{x(Z),u(""),r(!1)},me=Z=>{var he;Z==null||Z.stopPropagation(),w(""),x(""),a("city"),u(""),r(!0),(he=K.current)==null||he.focus()},V=()=>{var Z;a("city"),x(""),w(""),u(""),(Z=K.current)==null||Z.focus()},G=()=>{if(!navigator.geolocation){alert("Taraycnz konum zelliini desteklemiyor.");return}console.log(" Konum servisi isteniyor (Hero)..."),c(!0),y("GPS konumunuz alnyor..."),r(!1),navigator.geolocation.getCurrentPosition(async Z=>{console.log(" Konum alnd:",Z.coords),y("Adres bilgileri zlyor...");const{latitude:he,longitude:_e}=Z.coords;try{console.log(" Reverse geocoding balatlyor...");const Me=await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${he}&lon=${_e}&format=json&accept-language=tr`,{headers:{"User-Agent":"YOLMOV App"}});if(!Me.ok)throw new Error("Geocoding API hatas");const Fe=await Me.json();console.log(" Geocoding sonucu:",Fe),y("ehir ve ile eletiriliyor...");const We=Fe.address||{};let kt=We.province||We.state||We.city||We.town,ft=We.county||We.district||We.suburb||We.neighbourhood;console.log(" Tespit edilen ehir:",kt,"/ le:",ft);const at=Object.keys(Fo).find(St=>St.toLowerCase()===(kt==null?void 0:kt.toLowerCase()));if(at){console.log(" ehir eleti:",at),oe(at);const Y=Fo[at].find(ee=>ee.toLowerCase().includes(ft==null?void 0:ft.toLowerCase())||(ft==null?void 0:ft.toLowerCase().includes(ee.toLowerCase())));Y?(console.log(" le eleti:",Y),y("Konum baaryla belirlendi!"),setTimeout(()=>{se(Y),c(!1)},500)):(console.warn(" le elemedi, ehir seildi"),a("district"),r(!0),c(!1))}else console.warn(" ehir sistemde bulunamad:",kt),c(!1),r(!0)}catch(Me){console.error(" Reverse geocoding error:",Me),alert("Konum bilgisi alnamad. Ltfen manuel olarak sein."),c(!1),r(!0)}},Z=>{console.error(" Geolocation error:",Z);let he="Konum eriimi reddedildi.";switch(Z.code){case Z.PERMISSION_DENIED:he="Konum izni reddedildi. Tarayc ayarlarndan konum iznini an.";break;case Z.POSITION_UNAVAILABLE:he="Konum bilgisi kullanlamyor. GPS/Wi-Fi ak olduundan emin olun.";break;case Z.TIMEOUT:he="Konum tespiti zaman amna urad. Tekrar deneyin.";break}console.error("Konum hatas:",he),c(!1),r(!0)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},ce=async()=>{if(re.current){const Z=re.current.getBoundingClientRect();M({top:Z.top,left:Z.left,width:Z.width,height:Z.height}),j(!0),D("Konumunuz analiz ediliyor...");const he=setTimeout(()=>{D("Blgedeki uzmanlar taranyor...")},800),_e=setTimeout(()=>{D("Msaitlik durumlar kontrol ediliyor...")},1800),Me=2500,Fe=Date.now();try{const We=await jr.partnerSearch.getAvailablePartners(m,b);sessionStorage.setItem("yolmov_search_results",JSON.stringify({partners:We,city:m,district:b,timestamp:Date.now()}));const kt=Date.now()-Fe,ft=Math.max(0,Me-kt);await new Promise(at=>setTimeout(at,ft)),D("Sonular hazr!"),setTimeout(()=>{clearTimeout(he),clearTimeout(_e),t&&t(m,b,P)},400)}catch(We){console.error("Partner arama hatas:",We),D("Sonular hazr!"),setTimeout(()=>{clearTimeout(he),clearTimeout(_e),t&&t(m,b,P)},400)}}},ne=()=>{if(!P)return v.jsx(Vm,{size:64,className:"text-white",strokeWidth:1.5});switch(P){case"tow":return v.jsx(wl,{size:64,className:"text-white",strokeWidth:1.5});case"battery":return v.jsx(ov,{size:64,className:"text-white",strokeWidth:1.5});case"tire":return v.jsx(uv,{size:64,className:"text-white",strokeWidth:1.5});case"fuel":return v.jsx(cv,{size:64,className:"text-white",strokeWidth:1.5});default:return v.jsx(Vm,{size:64,className:"text-white",strokeWidth:1.5})}};return v.jsxs("section",{className:"relative w-full min-h-[700px] flex items-center z-30",children:[S&&I&&v.jsx(De.div,{initial:{position:"fixed",top:I.top,left:I.left,width:I.width,height:I.height,borderRadius:"1.5rem",backgroundColor:"#FF7A00",zIndex:9999,opacity:1},animate:{top:0,left:0,width:"100vw",height:"100vh",borderRadius:0},transition:{duration:.6,ease:[.645,.045,.355,1]},className:"flex flex-col items-center justify-center overflow-hidden",children:v.jsxs(De.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3,duration:.4},className:"flex flex-col items-center text-white p-6 text-center w-full max-w-lg",children:[v.jsx(De.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-10",children:v.jsx("h1",{className:"yolmov-logo text-5xl font-bold text-white",children:"yolmov"})}),v.jsxs("div",{className:"relative w-full h-40 flex items-center justify-center mb-8 overflow-hidden",children:[v.jsx("div",{className:"absolute w-32 h-32 bg-white/10 rounded-full animate-ping opacity-20"}),v.jsx("div",{className:"absolute w-48 h-48 bg-white/5 rounded-full animate-ping opacity-10 delay-150"}),v.jsx("div",{className:"absolute bottom-10 w-[200%] flex gap-12 animate-move-left opacity-30",children:[1,2,3,4,5,6,7,8].map(Z=>v.jsx("div",{className:"w-16 h-1 bg-white rounded-full"},Z))}),v.jsxs(De.div,{animate:{y:[0,-4,0]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},className:"relative z-10 drop-shadow-[0_10px_20px_rgba(0,0,0,0.3)]",children:[ne(),v.jsx("div",{className:"absolute -bottom-2 left-2 right-2 h-1.5 bg-black/20 rounded-[100%] blur-sm"})]}),v.jsx(De.div,{className:"absolute top-10 right-10 w-10 h-0.5 bg-white/40 rounded-full",animate:{x:[50,-100],opacity:[0,1,0]},transition:{repeat:1/0,duration:.8,delay:.2}}),v.jsx(De.div,{className:"absolute bottom-12 right-0 w-16 h-0.5 bg-white/30 rounded-full",animate:{x:[50,-100],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.1}})]}),v.jsx("div",{className:"h-20 flex flex-col items-center justify-center",children:v.jsx(Rr,{mode:"wait",children:v.jsx(De.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"text-3xl md:text-4xl font-display font-bold tracking-tight leading-tight text-white",children:R},R)})}),v.jsx(De.div,{className:"w-64 h-1.5 bg-black/10 rounded-full mt-8 overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:v.jsx(De.div,{className:"h-full bg-white rounded-full",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:2.8,ease:"easeInOut"}})})]})}),v.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden",children:[v.jsx("img",{src:tj,className:"absolute inset-0 w-full h-full object-cover",alt:"Yolmov K Manzaras"}),v.jsx("div",{className:"absolute inset-0 bg-black/20 z-10"})]}),v.jsx("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32 relative z-20 pt-4 md:pt-10 pb-10",children:v.jsxs("div",{className:"flex flex-col items-center text-center max-w-5xl mx-auto",children:[v.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"mb-4 md:mb-10",children:[v.jsxs("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-display font-black text-white leading-tight mb-1 md:mb-6 tracking-tight",style:{textShadow:"0 4px 12px rgba(0,0,0,0.6), 0 2px 4px rgba(0,0,0,0.4)"},children:["Yolda Kaldnzda ",v.jsx("br",{className:"hidden md:block"}),v.jsx("span",{className:"inline-block mt-1 md:mt-2",style:{color:"#FF7A00",textShadow:"0 4px 12px rgba(255,122,0,0.6), 0 2px 4px rgba(0,0,0,0.4)"},children:"Yannzdayz."})]}),v.jsx("p",{className:"text-sm md:text-lg text-white max-w-xl mx-auto font-medium leading-snug",style:{textShadow:"0 2px 8px rgba(0,0,0,0.6)"},children:"ekici, ak takviyesi, yakt, lastik ve yol yardm hizmetlerine tek tkla, gvenle ulan."})]}),v.jsx(De.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"w-full max-w-5xl relative z-50",children:v.jsxs("div",{className:"bg-white rounded-[2rem] shadow-[0_20px_50px_rgba(0,0,0,0.4)] border border-white/20 flex flex-col md:flex-row p-3 items-center backdrop-blur-sm bg-white/95 relative z-50",children:[v.jsxs("div",{className:"relative w-full md:flex-1 group",ref:Q,children:[v.jsxs("div",{className:`flex items-center h-20 px-6 cursor-pointer rounded-[1.5rem] transition-all duration-200 border border-transparent ${e?"bg-white shadow-lg border-gray-100":"hover:bg-gray-50"}`,onClick:()=>{var Z;S||(r(!0),C(!1),(Z=K.current)==null||Z.focus())},children:[v.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mr-4 transition-colors ${e?"bg-brand-orange text-white":"bg-orange-50 text-brand-orange"}`,children:v.jsx(Vd,{size:22,strokeWidth:2.5})}),v.jsxs("div",{className:"flex-1 flex flex-col items-start overflow-hidden",children:[v.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:m&&i==="district"?"Hangi le?":"Neredesin?"}),!e&&m?v.jsxs("div",{className:"w-full text-gray-800 font-bold text-lg truncate",children:[m," ",b?`/ ${b}`:""]}):v.jsx("input",{ref:K,type:"text",className:"w-full bg-transparent border-none p-0 text-gray-800 font-bold text-lg placeholder-gray-300 focus:ring-0 leading-tight truncate",placeholder:i==="city"?"l ara...":`${m} > le ara...`,value:o,onChange:Z=>{u(Z.target.value),e||r(!0)},onFocus:()=>r(!0),autoComplete:"off",disabled:S})]}),m&&v.jsx("button",{onClick:me,className:"p-1 text-gray-300 hover:text-red-500 transition-colors z-20",disabled:S,children:v.jsx(Z1,{size:20})})]}),v.jsx(Rr,{children:e&&!S&&v.jsxs(De.div,{initial:{opacity:0,scale:.98,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.98,y:10},transition:{duration:.2},className:"absolute top-[110%] left-0 w-full md:min-w-[350px] bg-white rounded-2xl shadow-2xl border border-gray-100 max-h-[350px] overflow-y-auto z-[60] py-2 scrollbar-thin scrollbar-thumb-gray-200",children:[v.jsxs("div",{className:"px-2 pb-2 mb-2 border-b border-gray-50 sticky top-0 bg-white z-10 flex flex-col gap-1",children:[i==="district"&&v.jsxs("button",{onClick:V,className:"flex items-center gap-2 text-gray-500 hover:text-brand-orange text-sm px-4 py-2 transition-colors font-medium",children:[v.jsx(lv,{size:16}),"l Seimine Dn (",m,")"]}),i==="city"&&v.jsxs("button",{className:"w-full flex items-center gap-3 text-brand-orange font-semibold p-3 hover:bg-orange-50 rounded-xl transition-colors text-sm disabled:opacity-50",onClick:G,disabled:d,children:[v.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center",children:v.jsx(ok,{size:14,fill:"currentColor",className:d?"animate-spin":""})}),d?"Konum Alnyor...":"Mevcut Konumumu Kullan"]})]}),v.jsxs("div",{className:"px-2",children:[v.jsx("div",{className:"px-4 py-1 text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:i==="city"?"ehirler":`${m} leleri`}),Pe.length>0?Pe.map(Z=>v.jsxs("div",{className:`px-4 py-3 hover:bg-gray-50 cursor-pointer rounded-xl flex items-center justify-between group transition-colors mb-1 
                                ${i==="city"&&m===Z||i==="district"&&b===Z?"bg-gray-50":""}`,onClick:()=>{i==="city"?oe(Z):se(Z)},children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300 group-hover:bg-brand-orange transition-colors"}),v.jsx("span",{className:`text-sm font-medium ${i==="city"&&m===Z||i==="district"&&b===Z?"text-brand-orange":"text-gray-700"}`,children:Z})]}),(i==="city"&&m===Z||i==="district"&&b===Z)&&v.jsx(ed,{size:18,className:"text-brand-orange"})]},Z)):v.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"Sonu bulunamad."})]})]})})]}),v.jsx("div",{className:"hidden md:block w-[1px] h-12 bg-gray-100 mx-2"}),v.jsxs("div",{className:"relative w-full md:flex-1 group border-t border-gray-100 md:border-0",ref:z,children:[v.jsxs("div",{className:`flex items-center h-20 px-6 cursor-pointer rounded-[1.5rem] transition-all duration-200 border border-transparent ${E?"bg-white shadow-lg border-gray-100":"hover:bg-gray-50"}`,onClick:()=>{S||(C(!E),r(!1))},children:[v.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mr-4 transition-colors ${E?"bg-brand-orange text-white":"bg-orange-50 text-brand-orange"}`,children:je?v.jsx(je.icon,{size:22,strokeWidth:2.5}):v.jsx(rd,{size:22,strokeWidth:2.5})}),v.jsxs("div",{className:"flex-1 flex flex-col items-start",children:[v.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"htiyacn Nedir?"}),v.jsxs("div",{className:"flex items-center justify-between w-full pr-2",children:[v.jsx("span",{className:`text-lg font-bold truncate ${je?"text-gray-800":"text-gray-300"}`,children:je?je.title:"Hizmet Sein"}),v.jsx(Q1,{size:18,className:`text-gray-400 transition-transform duration-300 ${E?"rotate-180 text-brand-orange":""}`})]})]})]}),v.jsx(Rr,{children:E&&!S&&v.jsx(De.div,{initial:{opacity:0,scale:.98,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.98,y:10},transition:{duration:.2},className:"absolute top-[110%] left-0 md:-left-12 w-full md:w-[120%] bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden z-[60]",children:v.jsx("div",{className:"p-3 grid grid-cols-1 md:grid-cols-2 gap-2 max-h-[400px] overflow-y-auto",children:Ld.map(Z=>v.jsxs("div",{onClick:()=>ke(Z.id),className:`flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all border border-transparent hover:border-orange-100 hover:bg-orange-50/50 ${P===Z.id?"bg-orange-50 border-orange-200":""}`,children:[v.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 shadow-sm ${P===Z.id?"bg-brand-orange text-white":"bg-white text-brand-orange"}`,children:v.jsx(Z.icon,{size:18})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h4",{className:`text-sm font-bold ${P===Z.id?"text-brand-orange":"text-gray-800"}`,children:Z.title}),v.jsx("p",{className:"text-[11px] text-gray-400 line-clamp-1 leading-normal mt-0.5",children:Z.description})]}),P===Z.id&&v.jsx(ed,{size:16,className:"text-brand-orange"})]},Z.id))})})})]}),v.jsx("div",{className:"p-2 w-full md:w-auto",children:v.jsxs("button",{ref:re,onClick:ce,disabled:S,"aria-label":"Hizmet ara ve talep olutur",className:"w-full md:w-auto h-16 md:h-20 px-8 text-white rounded-[1.5rem] shadow-lg shadow-orange-200 transition-all transform hover:scale-105 active:scale-95 flex items-center justify-center gap-3 whitespace-nowrap group disabled:opacity-0",style:{backgroundColor:"#FF7A00"},children:[v.jsx("span",{className:"font-bold text-lg",children:"Hemen Bul"}),v.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center group-hover:bg-white/30 transition-colors",children:v.jsx(rd,{size:18,strokeWidth:3})})]})})]})})]})}),v.jsx(Rr,{children:d&&v.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:v.jsxs(De.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",damping:20},className:"bg-white rounded-3xl p-10 flex flex-col items-center shadow-2xl max-w-md mx-4",children:[v.jsxs("div",{className:"relative mb-6",children:[v.jsx(dv,{className:"animate-spin text-brand-orange",size:64,strokeWidth:2.5}),v.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-orange-100 animate-pulse"})]}),v.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Konumunuz Belirleniyor"}),v.jsx("p",{className:"text-lg text-gray-600 text-center",children:p})]})})}),v.jsx("style",{children:`
        @keyframes move-left {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
        .animate-move-left {
          animation: move-left 1s linear infinite;
        }
      `})]})},nj=()=>v.jsx("section",{className:"relative z-10 py-16 md:py-24 bg-white",id:"services",children:v.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32",children:[v.jsxs("div",{className:"text-center mb-16",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-brand-dark mb-4",children:"Hangi Hizmete htiyacnz Var?"}),v.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto",children:"Aracnzla ilgili her trl sorunda uzman ekiplerimiz bir tk uzanzda."})]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:Ld.map((t,e)=>v.jsxs(De.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.1,duration:.5},className:"group p-8 rounded-2xl border border-gray-100 bg-white hover:shadow-[0_8px_30px_rgb(0,0,0,0.06)] hover:border-orange-100 transition-all duration-300 cursor-pointer",children:[v.jsx("div",{className:"w-14 h-14 rounded-xl bg-orange-50 flex items-center justify-center mb-6 group-hover:bg-brand-orange transition-colors duration-300",children:v.jsx(t.icon,{className:"w-7 h-7 text-brand-orange group-hover:text-white transition-colors duration-300",strokeWidth:2})}),v.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3 group-hover:text-brand-orange transition-colors",children:t.title}),v.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:t.description})]},t.id))})]})}),ij=()=>v.jsxs("section",{className:"py-24 bg-gray-50 relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 right-0 w-1/3 h-1/3 bg-orange-100/40 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/3 pointer-events-none"}),v.jsx("div",{className:"absolute bottom-0 left-0 w-1/3 h-1/3 bg-blue-100/40 rounded-full blur-[100px] translate-y-1/2 -translate-x-1/3 pointer-events-none"}),v.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32 relative z-10",children:[v.jsxs("div",{className:"text-center mb-20 max-w-3xl mx-auto",children:[v.jsx(De.span,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-brand-orange font-bold uppercase tracking-wider text-xs md:text-sm mb-3 block",children:"Kolay Kullanm"}),v.jsx(De.h2,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-3xl md:text-4xl font-display font-bold text-brand-dark mb-6",children:"Yolmov Nasl alr?"}),v.jsx(De.p,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-gray-500 text-lg font-light",children:"Karmak srelerle uramayn. Sadece 3 basit admda, ihtiyacnz olan uzman yardm bulunduunuz konuma ynlendiriyoruz."})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 relative",children:[v.jsx("div",{className:"hidden md:block absolute top-[40%] left-10 right-10 h-0.5 bg-gradient-to-r from-gray-200 via-brand-orange/30 to-gray-200 -z-0 border-t border-dashed border-gray-300"}),ZP.map((t,e)=>v.jsxs(De.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.2},className:"relative bg-white p-8 rounded-[2rem] shadow-xl shadow-gray-100/50 border border-gray-100 hover:-translate-y-2 transition-transform duration-500 z-10 group overflow-hidden",children:[v.jsxs("div",{className:"absolute -top-6 -right-6 text-[8rem] font-display font-black text-gray-50 group-hover:text-orange-50/60 transition-colors select-none -z-10 pointer-events-none leading-none",children:["0",t.id]}),v.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-50 to-white border border-orange-100 rounded-2xl flex items-center justify-center mb-8 shadow-sm group-hover:shadow-md group-hover:scale-110 transition-all duration-300 group-hover:bg-brand-orange group-hover:border-brand-orange",children:v.jsx(t.icon,{className:"w-7 h-7 text-brand-orange group-hover:text-white transition-colors duration-300",strokeWidth:2})}),v.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3 group-hover:text-brand-orange transition-colors",children:t.title}),v.jsx("p",{className:"text-gray-500 leading-relaxed text-sm md:text-base",children:t.description}),e<2&&v.jsx("div",{className:"md:hidden absolute bottom-4 right-4 text-orange-100",children:v.jsx(Zc,{className:"rotate-90 w-6 h-6"})})]},t.id))]})]})]}),sj=()=>v.jsx("section",{className:"py-16 bg-white",children:v.jsx("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32",children:v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-8",children:ej.map(t=>v.jsxs("div",{className:"flex flex-col items-center text-center p-6 bg-gray-50 rounded-xl hover:bg-orange-50/50 transition-colors",children:[v.jsx("div",{className:"mb-4 p-3 bg-white rounded-xl shadow-sm",children:v.jsx(t.icon,{className:"w-6 h-6 text-brand-orange"})}),v.jsx("h4",{className:"font-bold text-gray-800 text-sm md:text-base",children:t.title})]},t.id))})})}),aj=()=>{const t=F.useRef(null),e=ii(),[r,i]=F.useState([]),[a,o]=F.useState(!0);F.useEffect(()=>{(async()=>{try{const c=await x_.getActive();i(c)}catch(c){console.error("Kampanyalar yklenemedi:",c),i([])}finally{o(!1)}})()},[]);const u=d=>{if(t.current){const{current:c}=t,p=d==="left"?-c.offsetWidth/2:c.offsetWidth/2;c.scrollBy({left:p,behavior:"smooth"})}};return!a&&r.length===0?null:a?v.jsx("section",{className:"py-20 bg-white border-t border-gray-100 overflow-hidden",children:v.jsx("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32",children:v.jsxs("div",{className:"animate-pulse",children:[v.jsx("div",{className:"h-4 w-24 bg-slate-200 rounded mb-4"}),v.jsx("div",{className:"h-8 w-64 bg-slate-200 rounded mb-2"}),v.jsx("div",{className:"h-4 w-96 bg-slate-200 rounded mb-10"}),v.jsxs("div",{className:"flex gap-6",children:[v.jsx("div",{className:"min-w-[85vw] md:min-w-[calc(50%-12px)] lg:min-w-[calc(33.33%-16px)] h-[450px] bg-slate-200 rounded-3xl"}),v.jsx("div",{className:"min-w-[85vw] md:min-w-[calc(50%-12px)] lg:min-w-[calc(33.33%-16px)] h-[450px] bg-slate-200 rounded-3xl"})]})]})})}):v.jsx("section",{className:"py-20 bg-white border-t border-gray-100 overflow-hidden","aria-label":"Frsatlar ve Kampanyalar blm",children:v.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32",children:[v.jsxs("div",{className:"flex justify-between items-end mb-10",children:[v.jsxs("div",{children:[v.jsx("span",{className:"font-bold uppercase tracking-wider text-xs md:text-sm mb-2 block",style:{color:"#FF7A00"},children:"Avantajlar"}),v.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-brand-dark",children:"Frsatlar ve Kampanyalar"}),v.jsx("p",{className:"text-gray-500 mt-2 max-w-xl",children:"Yolmov kullanclarna zel indirimler, i birlikleri ve mevsimsel avantajlar kefedin."})]}),v.jsxs("div",{className:"hidden md:flex gap-3",children:[v.jsx("button",{onClick:()=>u("left"),"aria-label":"nceki kampanyalar",className:"w-12 h-12 rounded-full border border-gray-200 flex items-center justify-center text-gray-600 hover:text-white hover:border-brand-orange transition-all",style:{hover:{backgroundColor:"#FF6B35"}},children:v.jsx(lv,{size:24})}),v.jsx("button",{onClick:()=>u("right"),"aria-label":"Sonraki kampanyalar",className:"w-12 h-12 rounded-full border border-gray-200 flex items-center justify-center text-gray-600 hover:text-white hover:border-brand-orange transition-all",style:{hover:{backgroundColor:"#FF6B35"}},children:v.jsx(X1,{size:24})})]})]}),v.jsxs("div",{ref:t,className:"flex gap-6 overflow-x-auto pb-8 snap-x snap-mandatory scrollbar-hide -mx-4 px-4 md:mx-0 md:px-0",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[r.map((d,c)=>v.jsxs(De.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:c*.1},onClick:()=>e(`/kampanya/${d.id}`),className:"min-w-[85vw] md:min-w-[calc(50%-12px)] lg:min-w-[calc(33.33%-16px)] snap-center group relative h-[450px] rounded-3xl overflow-hidden cursor-pointer shadow-md",children:[v.jsx("img",{src:d.image_url,alt:d.title,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent opacity-90 group-hover:opacity-100 transition-opacity"}),v.jsxs("div",{className:"absolute inset-0 p-8 flex flex-col justify-between",children:[v.jsx("div",{className:"flex justify-start",children:d.badge_text&&v.jsx("span",{className:"px-4 py-2 bg-white/20 backdrop-blur-md text-white text-xs font-bold uppercase tracking-wider rounded-xl border border-white/30 shadow-sm",children:d.badge_text})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-2xl font-bold text-white mb-3 leading-tight group-hover:text-brand-orange transition-colors",children:d.title}),v.jsx("p",{className:"text-gray-300 text-sm mb-6 line-clamp-2 leading-relaxed",children:d.description}),v.jsxs("div",{className:"flex items-center gap-2 text-white font-bold text-sm group/btn",children:[v.jsx("span",{className:"border-b-2 border-white/30 group-hover/btn:border-brand-orange pb-1 transition-colors",children:"Detayl Bilgi"}),v.jsx(Zc,{size:16,className:"group-hover/btn:translate-x-1 transition-transform"})]})]})]})]},d.id)),v.jsxs(De.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:r.length*.1},onClick:()=>e("/kampanyalar"),className:"min-w-[85vw] md:min-w-[calc(50%-12px)] lg:min-w-[calc(33.33%-16px)] snap-center bg-gray-50 rounded-3xl flex flex-col items-center justify-center p-8 border-2 border-dashed border-gray-200 hover:border-brand-orange hover:bg-orange-50 transition-all cursor-pointer group h-[450px]",children:[v.jsx("div",{className:"w-20 h-20 rounded-full bg-white shadow-md flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:v.jsx(Zc,{size:32,className:"text-brand-orange"})}),v.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2 group-hover:text-brand-orange transition-colors",children:"Tm Kampanyalar"}),v.jsx("p",{className:"text-gray-500 text-center text-base max-w-xs",children:"Gemi ve gelecek tm frsatlar incelemek iin tklayn."})]})]})]})})},oj=()=>{const t=ii(),e=r=>{t(r),window.scrollTo({top:0,behavior:"smooth"})};return v.jsx("footer",{className:"bg-gradient-to-br from-gray-900 to-gray-800 text-white pt-16 pb-8",children:v.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 mb-12",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"mb-6 cursor-pointer",onClick:()=>e("/"),children:[v.jsx("span",{className:"yolmov-logo text-3xl font-bold text-white block mb-4",children:"yolmov"}),v.jsx("span",{className:"hidden"})]}),v.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Yolda kaldnz her an yannzdayz. Modern, hzl ve gvenilir yol yardm platformu."})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-lg font-bold mb-6 text-white/90",children:"Kurumsal"}),v.jsxs("ul",{className:"space-y-3 text-sm text-gray-400",children:[v.jsx("li",{children:v.jsx("button",{onClick:()=>e("/hakkimizda"),className:"hover:text-brand-orange transition-colors text-left",children:"Hakkmzda"})}),v.jsx("li",{children:v.jsx("button",{onClick:()=>e("/hizmetler"),className:"hover:text-brand-orange transition-colors text-left",children:"Hizmetler"})}),v.jsx("li",{children:v.jsx("button",{onClick:()=>e("/kariyer"),className:"hover:text-brand-orange transition-colors text-left",children:"Kariyer"})}),v.jsx("li",{children:v.jsx("button",{onClick:()=>e("/blog"),className:"hover:text-brand-orange transition-colors text-left",children:"Blog"})}),v.jsx("li",{children:v.jsx("button",{onClick:()=>e("/iletisim"),className:"hover:text-brand-orange transition-colors text-left",children:"letiim"})})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-lg font-bold mb-6 text-white/90",children:"Hizmetler"}),v.jsx("ul",{className:"space-y-3 text-sm text-gray-400",children:["ekici Hizmeti","Ak Takviyesi","Lastik Deiimi","Yakt Destei","Oto Kurtarma"].map(r=>v.jsx("li",{children:v.jsx("button",{onClick:()=>e("/hizmetler"),className:"hover:text-brand-orange transition-colors text-left",children:r})},r))})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-lg font-bold mb-6 text-white/90",children:"Bize Ulan"}),v.jsx("ul",{className:"space-y-4 text-sm text-gray-400",children:v.jsxs("li",{className:"flex items-start gap-3",children:[v.jsx(Vd,{className:"w-5 h-5 text-brand-orange shrink-0"}),v.jsx("span",{children:"Platform zerinden 7/24 hizmet talebinde bulunabilirsiniz"})]})})]})]}),v.jsxs("div",{className:"border-t border-gray-700 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[v.jsxs("p",{className:"text-gray-500 text-xs text-center md:text-left",children:[" ",new Date().getFullYear()," Yolmov Teknoloji A.. Tm haklar sakldr."]}),v.jsxs("div",{className:"flex space-x-6 text-xs text-gray-500",children:[v.jsx("button",{onClick:()=>e("/gizlilik-politikasi"),className:"hover:text-white transition-colors",children:"Gizlilik Politikas"}),v.jsx("button",{onClick:()=>e("/kullanim-kosullari"),className:"hover:text-white transition-colors",children:"Kullanm Koullar"})]})]})]})})},lj=({onAccept:t,onReject:e})=>{const[r,i]=F.useState(!1);F.useEffect(()=>{localStorage.getItem("yolmov_cookie_consent")||setTimeout(()=>i(!0),1500)},[]);const a=()=>{localStorage.setItem("yolmov_cookie_consent","accepted"),i(!1),t&&t()},o=()=>{localStorage.setItem("yolmov_cookie_consent","rejected"),i(!1),e&&e()},u=()=>{i(!1)};return v.jsx(Rr,{children:r&&v.jsx(De.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 z-50 p-4 md:p-6",children:v.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-3xl shadow-2xl border-2 border-gray-200 overflow-hidden",children:[v.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 p-6 md:p-8",children:[v.jsx("div",{className:"shrink-0",children:v.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-2xl flex items-center justify-center",children:v.jsx(tk,{size:32,className:"text-brand-orange"})})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-2",children:" erez Bildirimi"}),v.jsxs("p",{className:"text-sm md:text-base text-gray-600 leading-relaxed",children:["Yolmov olarak, size daha iyi bir deneyim sunmak, platformumuzu gelitirmek ve yasal ykmllklerimizi yerine getirmek amacyla",v.jsx("strong",{className:"text-gray-800",children:" erezler ve benzer teknolojiler "})," kullanyoruz. Platformumuzu kullanmaya devam ederek,",v.jsx("button",{onClick:()=>{const d=new CustomEvent("yolmov:navigate",{detail:{page:"privacy-policy"}});window.dispatchEvent(d)},className:"text-brand-orange hover:underline font-bold ml-1",children:"Gizlilik Politikamz"})," ","ve erez kullanmn kabul etmi olursunuz."]})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto md:shrink-0",children:[v.jsx("button",{onClick:o,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transition-colors text-sm whitespace-nowrap",children:"Reddet"}),v.jsx("button",{onClick:a,className:"px-6 py-3 bg-brand-orange text-white rounded-xl font-bold hover:bg-orange-600 transition-colors text-sm shadow-lg whitespace-nowrap",children:"Kabul Et"})]}),v.jsx("button",{onClick:u,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Kapat",children:v.jsx(na,{size:20})})]}),v.jsx("div",{className:"bg-gray-50 border-t border-gray-200 px-6 md:px-8 py-3",children:v.jsxs("p",{className:"text-xs text-gray-500 text-center",children:[v.jsx("strong",{className:"text-gray-700",children:"KVKK Uyars:"})," Kiisel verileriniz,",v.jsx("button",{onClick:()=>{const d=new CustomEvent("yolmov:navigate",{detail:{page:"privacy-policy"}});window.dispatchEvent(d)},className:"text-brand-orange hover:underline mx-1",children:"6698 sayl Kiisel Verilerin Korunmas Kanunu"}),"kapsamnda ilenmektedir. Detayl bilgi iin Gizlilik Politikamz inceleyebilirsiniz."]})})]})})})},$o=({children:t})=>{const e=Qr(),[r,i]=F.useState(!0),[a,o]=F.useState(!1);return F.useEffect(()=>{const u=localStorage.getItem("yolmov_customer");console.log(" ProtectedRoute Auth Check:",{hasCustomer:!!u,path:e.pathname}),o(!!u),i(!1)},[e.pathname]),r?v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-16 h-16 border-4 border-brand-orange border-t-transparent rounded-full animate-spin mx-auto mb-4"}),v.jsx("p",{className:"text-gray-600",children:"Ykleniyor..."})]})}):a?v.jsx(v.Fragment,{children:t}):v.jsx(k1,{to:"/giris-gerekli",state:{message:"Bu sayfaya erimek iin ye girii yapmanz gerekiyor.",returnUrl:e.pathname+e.search},replace:!0})};class By extends F.Component{constructor(){super(...arguments);bn(this,"state",{hasError:!1,error:null,errorInfo:null,countdown:5,autoReload:!0});bn(this,"countdownInterval",null);bn(this,"startCountdown",()=>{this.countdownInterval&&clearInterval(this.countdownInterval),this.countdownInterval=setInterval(()=>{this.setState(r=>{const i=r.countdown-1;return i<=0&&r.autoReload?(this.countdownInterval&&clearInterval(this.countdownInterval),window.location.reload(),r):{countdown:i}})},1e3)});bn(this,"cancelAutoReload",()=>{this.countdownInterval&&clearInterval(this.countdownInterval),this.setState({autoReload:!1})});bn(this,"handleReload",()=>{window.location.reload()});bn(this,"handleGoHome",()=>{window.location.href="/"});bn(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,i){console.error(" [ErrorBoundary] Caught error:",r),console.error(" [ErrorBoundary] Error info:",i),this.setState({errorInfo:i,countdown:5,autoReload:!0}),this.startCountdown()}componentWillUnmount(){this.countdownInterval&&clearInterval(this.countdownInterval)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full p-8 text-center",children:[v.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:v.jsx(ck,{className:"w-8 h-8 text-red-500"})}),v.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Bir eyler Yanl Gitti"}),this.state.autoReload?v.jsxs("div",{className:"mb-6",children:[v.jsx("p",{className:"text-slate-600 mb-3",children:"Sayfa yklenirken beklenmeyen bir hata olutu."}),v.jsxs("div",{className:"flex items-center justify-center gap-2 text-brand-orange",children:[v.jsx(Km,{className:"w-5 h-5 animate-spin"}),v.jsxs("span",{className:"font-bold text-lg",children:[this.state.countdown," saniye iinde otomatik yenileniyor..."]})]}),v.jsx("button",{onClick:this.cancelAutoReload,className:"text-sm text-slate-500 hover:text-slate-700 underline mt-2",children:"Otomatik yenilemeyi iptal et"})]}):v.jsx("p",{className:"text-slate-600 mb-6",children:"Sayfa yklenirken beklenmeyen bir hata olutu. Ltfen sayfay yenileyin veya ana sayfaya dnn."}),!1,!this.state.autoReload&&v.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[v.jsxs("button",{onClick:this.handleReload,className:"flex items-center justify-center gap-2 px-6 py-3 bg-brand-orange text-white rounded-xl font-medium hover:bg-orange-600 transition-colors",children:[v.jsx(Km,{size:18}),"imdi Yenile"]}),v.jsxs("button",{onClick:this.handleGoHome,className:"flex items-center justify-center gap-2 px-6 py-3 bg-slate-600 text-white rounded-xl font-medium hover:bg-slate-700 transition-colors",children:[v.jsx(rk,{size:18}),"Ana Sayfa"]})]}),v.jsx("p",{className:"text-xs text-slate-400 mt-6",children:"Sorun devam ederse ltfen destek ekibimizle iletiime gein."})]})}):this.props.children}}function Vo(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Gc={exports:{}},Uy;function uj(){return Uy||(Uy=1,(function(t,e){(function(r){t.exports=r()})(function(){var r=Math.floor,i=Math.abs,a=Math.pow;return(function(){function o(u,d,c){function p(w,b){if(!d[w]){if(!u[w]){var x=typeof Vo=="function"&&Vo;if(!b&&x)return x(w,!0);if(y)return y(w,!0);var E=new Error("Cannot find module '"+w+"'");throw E.code="MODULE_NOT_FOUND",E}var C=d[w]={exports:{}};u[w][0].call(C.exports,function(P){var O=u[w][1][P];return p(O||P)},C,C.exports,o,u,d,c)}return d[w].exports}for(var y=typeof Vo=="function"&&Vo,m=0;m<c.length;m++)p(c[m]);return p}return o})()({1:[function(o,u,d){function c(j){var R=j.length;if(0<R%4)throw new Error("Invalid string. Length must be a multiple of 4");var D=j.indexOf("=");D===-1&&(D=R);var I=D===R?0:4-D%4;return[D,I]}function p(j,R,D){return 3*(R+D)/4-D}function y(j){var R,D,I=c(j),M=I[0],Q=I[1],z=new C(p(j,M,Q)),K=0,re=0<Q?M-4:M;for(D=0;D<re;D+=4)R=E[j.charCodeAt(D)]<<18|E[j.charCodeAt(D+1)]<<12|E[j.charCodeAt(D+2)]<<6|E[j.charCodeAt(D+3)],z[K++]=255&R>>16,z[K++]=255&R>>8,z[K++]=255&R;return Q===2&&(R=E[j.charCodeAt(D)]<<2|E[j.charCodeAt(D+1)]>>4,z[K++]=255&R),Q===1&&(R=E[j.charCodeAt(D)]<<10|E[j.charCodeAt(D+1)]<<4|E[j.charCodeAt(D+2)]>>2,z[K++]=255&R>>8,z[K++]=255&R),z}function m(j){return x[63&j>>18]+x[63&j>>12]+x[63&j>>6]+x[63&j]}function w(j,R,D){for(var I,M=[],Q=R;Q<D;Q+=3)I=(16711680&j[Q]<<16)+(65280&j[Q+1]<<8)+(255&j[Q+2]),M.push(m(I));return M.join("")}function b(j){for(var R,D=j.length,I=D%3,M=[],Q=16383,z=0,K=D-I;z<K;z+=Q)M.push(w(j,z,z+Q>K?K:z+Q));return I===1?(R=j[D-1],M.push(x[R>>2]+x[63&R<<4]+"==")):I===2&&(R=(j[D-2]<<8)+j[D-1],M.push(x[R>>10]+x[63&R>>4]+x[63&R<<2]+"=")),M.join("")}d.byteLength=function(j){var R=c(j),D=R[0],I=R[1];return 3*(D+I)/4-I},d.toByteArray=y,d.fromByteArray=b;for(var x=[],E=[],C=typeof Uint8Array>"u"?Array:Uint8Array,P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=0,S=P.length;O<S;++O)x[O]=P[O],E[P.charCodeAt(O)]=O;E[45]=62,E[95]=63},{}],2:[function(){},{}],3:[function(o,u,d){(function(){(function(){var c=String.fromCharCode,p=Math.min;function y(f){if(2147483647<f)throw new RangeError('The value "'+f+'" is invalid for option "size"');var k=new Uint8Array(f);return k.__proto__=m.prototype,k}function m(f,k,A){if(typeof f=="number"){if(typeof k=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(f)}return w(f,k,A)}function w(f,k,A){if(typeof f=="string")return C(f,k);if(ArrayBuffer.isView(f))return P(f);if(f==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(Y(f,ArrayBuffer)||f&&Y(f.buffer,ArrayBuffer))return O(f,k,A);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var U=f.valueOf&&f.valueOf();if(U!=null&&U!==f)return m.from(U,k,A);var q=S(f);if(q)return q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return m.from(f[Symbol.toPrimitive]("string"),k,A);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}function b(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(0>f)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function x(f,k,A){return b(f),0>=f||k===void 0?y(f):typeof A=="string"?y(f).fill(k,A):y(f).fill(k)}function E(f){return b(f),y(0>f?0:0|j(f))}function C(f,k){if((typeof k!="string"||k==="")&&(k="utf8"),!m.isEncoding(k))throw new TypeError("Unknown encoding: "+k);var A=0|R(f,k),U=y(A),q=U.write(f,k);return q!==A&&(U=U.slice(0,q)),U}function P(f){for(var k=0>f.length?0:0|j(f.length),A=y(k),U=0;U<k;U+=1)A[U]=255&f[U];return A}function O(f,k,A){if(0>k||f.byteLength<k)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<k+(A||0))throw new RangeError('"length" is outside of buffer bounds');var U;return U=k===void 0&&A===void 0?new Uint8Array(f):A===void 0?new Uint8Array(f,k):new Uint8Array(f,k,A),U.__proto__=m.prototype,U}function S(f){if(m.isBuffer(f)){var k=0|j(f.length),A=y(k);return A.length===0||f.copy(A,0,0,k),A}return f.length===void 0?f.type==="Buffer"&&Array.isArray(f.data)?P(f.data):void 0:typeof f.length!="number"||ee(f.length)?y(0):P(f)}function j(f){if(f>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|f}function R(f,k){if(m.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||Y(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);var A=f.length,U=2<arguments.length&&arguments[2]===!0;if(!U&&A===0)return 0;for(var q=!1;;)switch(k){case"ascii":case"latin1":case"binary":return A;case"utf8":case"utf-8":return We(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*A;case"hex":return A>>>1;case"base64":return at(f).length;default:if(q)return U?-1:We(f).length;k=(""+k).toLowerCase(),q=!0}}function D(f,k,A){var U=!1;if((k===void 0||0>k)&&(k=0),k>this.length||((A===void 0||A>this.length)&&(A=this.length),0>=A)||(A>>>=0,k>>>=0,A<=k))return"";for(f||(f="utf8");;)switch(f){case"hex":return V(this,k,A);case"utf8":case"utf-8":return ke(this,k,A);case"ascii":return se(this,k,A);case"latin1":case"binary":return me(this,k,A);case"base64":return je(this,k,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,k,A);default:if(U)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),U=!0}}function I(f,k,A){var U=f[k];f[k]=f[A],f[A]=U}function M(f,k,A,U,q){if(f.length===0)return-1;if(typeof A=="string"?(U=A,A=0):2147483647<A?A=2147483647:-2147483648>A&&(A=-2147483648),A=+A,ee(A)&&(A=q?0:f.length-1),0>A&&(A=f.length+A),A>=f.length){if(q)return-1;A=f.length-1}else if(0>A)if(q)A=0;else return-1;if(typeof k=="string"&&(k=m.from(k,U)),m.isBuffer(k))return k.length===0?-1:Q(f,k,A,U,q);if(typeof k=="number")return k&=255,typeof Uint8Array.prototype.indexOf=="function"?q?Uint8Array.prototype.indexOf.call(f,k,A):Uint8Array.prototype.lastIndexOf.call(f,k,A):Q(f,[k],A,U,q);throw new TypeError("val must be string, number or Buffer")}function Q(f,k,A,U,q){function te(Dr,Zr){return Ee===1?Dr[Zr]:Dr.readUInt16BE(Zr*Ee)}var Ee=1,$e=f.length,Je=k.length;if(U!==void 0&&(U=(U+"").toLowerCase(),U==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(2>f.length||2>k.length)return-1;Ee=2,$e/=2,Je/=2,A/=2}var Ve;if(q){var Ue=-1;for(Ve=A;Ve<$e;Ve++)if(te(f,Ve)!==te(k,Ue===-1?0:Ve-Ue))Ue!==-1&&(Ve-=Ve-Ue),Ue=-1;else if(Ue===-1&&(Ue=Ve),Ve-Ue+1===Je)return Ue*Ee}else for(A+Je>$e&&(A=$e-Je),Ve=A;0<=Ve;Ve--){for(var ot=!0,Ir=0;Ir<Je;Ir++)if(te(f,Ve+Ir)!==te(k,Ir)){ot=!1;break}if(ot)return Ve}return-1}function z(f,k,A,U){A=+A||0;var q=f.length-A;U?(U=+U,U>q&&(U=q)):U=q;var te=k.length;U>te/2&&(U=te/2);for(var Ee,$e=0;$e<U;++$e){if(Ee=parseInt(k.substr(2*$e,2),16),ee(Ee))return $e;f[A+$e]=Ee}return $e}function K(f,k,A,U){return St(We(k,f.length-A),f,A,U)}function re(f,k,A,U){return St(kt(k),f,A,U)}function ue(f,k,A,U){return re(f,k,A,U)}function xe(f,k,A,U){return St(at(k),f,A,U)}function Pe(f,k,A,U){return St(ft(k,f.length-A),f,A,U)}function je(f,k,A){return k===0&&A===f.length?fe.fromByteArray(f):fe.fromByteArray(f.slice(k,A))}function ke(f,k,A){A=p(f.length,A);for(var U=[],q=k;q<A;){var te=f[q],Ee=null,$e=239<te?4:223<te?3:191<te?2:1;if(q+$e<=A){var Je,Ve,Ue,ot;$e===1?128>te&&(Ee=te):$e===2?(Je=f[q+1],(192&Je)==128&&(ot=(31&te)<<6|63&Je,127<ot&&(Ee=ot))):$e===3?(Je=f[q+1],Ve=f[q+2],(192&Je)==128&&(192&Ve)==128&&(ot=(15&te)<<12|(63&Je)<<6|63&Ve,2047<ot&&(55296>ot||57343<ot)&&(Ee=ot))):$e===4&&(Je=f[q+1],Ve=f[q+2],Ue=f[q+3],(192&Je)==128&&(192&Ve)==128&&(192&Ue)==128&&(ot=(15&te)<<18|(63&Je)<<12|(63&Ve)<<6|63&Ue,65535<ot&&1114112>ot&&(Ee=ot)))}Ee===null?(Ee=65533,$e=1):65535<Ee&&(Ee-=65536,U.push(55296|1023&Ee>>>10),Ee=56320|1023&Ee),U.push(Ee),q+=$e}return oe(U)}function oe(f){var k=f.length;if(k<=4096)return c.apply(String,f);for(var A="",U=0;U<k;)A+=c.apply(String,f.slice(U,U+=4096));return A}function se(f,k,A){var U="";A=p(f.length,A);for(var q=k;q<A;++q)U+=c(127&f[q]);return U}function me(f,k,A){var U="";A=p(f.length,A);for(var q=k;q<A;++q)U+=c(f[q]);return U}function V(f,k,A){var U=f.length;(!k||0>k)&&(k=0),(!A||0>A||A>U)&&(A=U);for(var q="",te=k;te<A;++te)q+=Fe(f[te]);return q}function G(f,k,A){for(var U=f.slice(k,A),q="",te=0;te<U.length;te+=2)q+=c(U[te]+256*U[te+1]);return q}function ce(f,k,A){if(f%1!=0||0>f)throw new RangeError("offset is not uint");if(f+k>A)throw new RangeError("Trying to access beyond buffer length")}function ne(f,k,A,U,q,te){if(!m.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>q||k<te)throw new RangeError('"value" argument is out of bounds');if(A+U>f.length)throw new RangeError("Index out of range")}function Z(f,k,A,U){if(A+U>f.length)throw new RangeError("Index out of range");if(0>A)throw new RangeError("Index out of range")}function he(f,k,A,U,q){return k=+k,A>>>=0,q||Z(f,k,A,4),Ae.write(f,k,A,U,23,4),A+4}function _e(f,k,A,U,q){return k=+k,A>>>=0,q||Z(f,k,A,8),Ae.write(f,k,A,U,52,8),A+8}function Me(f){if(f=f.split("=")[0],f=f.trim().replace(N,""),2>f.length)return"";for(;f.length%4!=0;)f+="=";return f}function Fe(f){return 16>f?"0"+f.toString(16):f.toString(16)}function We(f,k){k=k||1/0;for(var A,U=f.length,q=null,te=[],Ee=0;Ee<U;++Ee){if(A=f.charCodeAt(Ee),55295<A&&57344>A){if(!q){if(56319<A){-1<(k-=3)&&te.push(239,191,189);continue}else if(Ee+1===U){-1<(k-=3)&&te.push(239,191,189);continue}q=A;continue}if(56320>A){-1<(k-=3)&&te.push(239,191,189),q=A;continue}A=(q-55296<<10|A-56320)+65536}else q&&-1<(k-=3)&&te.push(239,191,189);if(q=null,128>A){if(0>(k-=1))break;te.push(A)}else if(2048>A){if(0>(k-=2))break;te.push(192|A>>6,128|63&A)}else if(65536>A){if(0>(k-=3))break;te.push(224|A>>12,128|63&A>>6,128|63&A)}else if(1114112>A){if(0>(k-=4))break;te.push(240|A>>18,128|63&A>>12,128|63&A>>6,128|63&A)}else throw new Error("Invalid code point")}return te}function kt(f){for(var k=[],A=0;A<f.length;++A)k.push(255&f.charCodeAt(A));return k}function ft(f,k){for(var A,U,q,te=[],Ee=0;Ee<f.length&&!(0>(k-=2));++Ee)A=f.charCodeAt(Ee),U=A>>8,q=A%256,te.push(q),te.push(U);return te}function at(f){return fe.toByteArray(Me(f))}function St(f,k,A,U){for(var q=0;q<U&&!(q+A>=k.length||q>=f.length);++q)k[q+A]=f[q];return q}function Y(f,k){return f instanceof k||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===k.name}function ee(f){return f!==f}var fe=o("base64-js"),Ae=o("ieee754");d.Buffer=m,d.SlowBuffer=function(f){return+f!=f&&(f=0),m.alloc(+f)},d.INSPECT_MAX_BYTES=50,d.kMaxLength=2147483647,m.TYPED_ARRAY_SUPPORT=(function(){try{var f=new Uint8Array(1);return f.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},f.foo()===42}catch{return!1}})(),m.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){return m.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){return m.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol<"u"&&Symbol.species!=null&&m[Symbol.species]===m&&Object.defineProperty(m,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),m.poolSize=8192,m.from=function(f,k,A){return w(f,k,A)},m.prototype.__proto__=Uint8Array.prototype,m.__proto__=Uint8Array,m.alloc=function(f,k,A){return x(f,k,A)},m.allocUnsafe=function(f){return E(f)},m.allocUnsafeSlow=function(f){return E(f)},m.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==m.prototype},m.compare=function(f,k){if(Y(f,Uint8Array)&&(f=m.from(f,f.offset,f.byteLength)),Y(k,Uint8Array)&&(k=m.from(k,k.offset,k.byteLength)),!m.isBuffer(f)||!m.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===k)return 0;for(var A=f.length,U=k.length,q=0,te=p(A,U);q<te;++q)if(f[q]!==k[q]){A=f[q],U=k[q];break}return A<U?-1:U<A?1:0},m.isEncoding=function(f){switch((f+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(f,k){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return m.alloc(0);var A;if(k===void 0)for(k=0,A=0;A<f.length;++A)k+=f[A].length;var U=m.allocUnsafe(k),q=0;for(A=0;A<f.length;++A){var te=f[A];if(Y(te,Uint8Array)&&(te=m.from(te)),!m.isBuffer(te))throw new TypeError('"list" argument must be an Array of Buffers');te.copy(U,q),q+=te.length}return U},m.byteLength=R,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var f=this.length;if(f%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var k=0;k<f;k+=2)I(this,k,k+1);return this},m.prototype.swap32=function(){var f=this.length;if(f%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var k=0;k<f;k+=4)I(this,k,k+3),I(this,k+1,k+2);return this},m.prototype.swap64=function(){var f=this.length;if(f%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var k=0;k<f;k+=8)I(this,k,k+7),I(this,k+1,k+6),I(this,k+2,k+5),I(this,k+3,k+4);return this},m.prototype.toString=function(){var f=this.length;return f===0?"":arguments.length===0?ke(this,0,f):D.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(f){if(!m.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f||m.compare(this,f)===0},m.prototype.inspect=function(){var f="",k=d.INSPECT_MAX_BYTES;return f=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(f+=" ... "),"<Buffer "+f+">"},m.prototype.compare=function(f,k,A,U,q){if(Y(f,Uint8Array)&&(f=m.from(f,f.offset,f.byteLength)),!m.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(k===void 0&&(k=0),A===void 0&&(A=f?f.length:0),U===void 0&&(U=0),q===void 0&&(q=this.length),0>k||A>f.length||0>U||q>this.length)throw new RangeError("out of range index");if(U>=q&&k>=A)return 0;if(U>=q)return-1;if(k>=A)return 1;if(k>>>=0,A>>>=0,U>>>=0,q>>>=0,this===f)return 0;for(var te=q-U,Ee=A-k,$e=p(te,Ee),Je=this.slice(U,q),Ve=f.slice(k,A),Ue=0;Ue<$e;++Ue)if(Je[Ue]!==Ve[Ue]){te=Je[Ue],Ee=Ve[Ue];break}return te<Ee?-1:Ee<te?1:0},m.prototype.includes=function(f,k,A){return this.indexOf(f,k,A)!==-1},m.prototype.indexOf=function(f,k,A){return M(this,f,k,A,!0)},m.prototype.lastIndexOf=function(f,k,A){return M(this,f,k,A,!1)},m.prototype.write=function(f,k,A,U){if(k===void 0)U="utf8",A=this.length,k=0;else if(A===void 0&&typeof k=="string")U=k,A=this.length,k=0;else if(isFinite(k))k>>>=0,isFinite(A)?(A>>>=0,U===void 0&&(U="utf8")):(U=A,A=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var q=this.length-k;if((A===void 0||A>q)&&(A=q),0<f.length&&(0>A||0>k)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");U||(U="utf8");for(var te=!1;;)switch(U){case"hex":return z(this,f,k,A);case"utf8":case"utf-8":return K(this,f,k,A);case"ascii":return re(this,f,k,A);case"latin1":case"binary":return ue(this,f,k,A);case"base64":return xe(this,f,k,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pe(this,f,k,A);default:if(te)throw new TypeError("Unknown encoding: "+U);U=(""+U).toLowerCase(),te=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},m.prototype.slice=function(f,k){var A=this.length;f=~~f,k=k===void 0?A:~~k,0>f?(f+=A,0>f&&(f=0)):f>A&&(f=A),0>k?(k+=A,0>k&&(k=0)):k>A&&(k=A),k<f&&(k=f);var U=this.subarray(f,k);return U.__proto__=m.prototype,U},m.prototype.readUIntLE=function(f,k,A){f>>>=0,k>>>=0,A||ce(f,k,this.length);for(var U=this[f],q=1,te=0;++te<k&&(q*=256);)U+=this[f+te]*q;return U},m.prototype.readUIntBE=function(f,k,A){f>>>=0,k>>>=0,A||ce(f,k,this.length);for(var U=this[f+--k],q=1;0<k&&(q*=256);)U+=this[f+--k]*q;return U},m.prototype.readUInt8=function(f,k){return f>>>=0,k||ce(f,1,this.length),this[f]},m.prototype.readUInt16LE=function(f,k){return f>>>=0,k||ce(f,2,this.length),this[f]|this[f+1]<<8},m.prototype.readUInt16BE=function(f,k){return f>>>=0,k||ce(f,2,this.length),this[f]<<8|this[f+1]},m.prototype.readUInt32LE=function(f,k){return f>>>=0,k||ce(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+16777216*this[f+3]},m.prototype.readUInt32BE=function(f,k){return f>>>=0,k||ce(f,4,this.length),16777216*this[f]+(this[f+1]<<16|this[f+2]<<8|this[f+3])},m.prototype.readIntLE=function(f,k,A){f>>>=0,k>>>=0,A||ce(f,k,this.length);for(var U=this[f],q=1,te=0;++te<k&&(q*=256);)U+=this[f+te]*q;return q*=128,U>=q&&(U-=a(2,8*k)),U},m.prototype.readIntBE=function(f,k,A){f>>>=0,k>>>=0,A||ce(f,k,this.length);for(var U=k,q=1,te=this[f+--U];0<U&&(q*=256);)te+=this[f+--U]*q;return q*=128,te>=q&&(te-=a(2,8*k)),te},m.prototype.readInt8=function(f,k){return f>>>=0,k||ce(f,1,this.length),128&this[f]?-1*(255-this[f]+1):this[f]},m.prototype.readInt16LE=function(f,k){f>>>=0,k||ce(f,2,this.length);var A=this[f]|this[f+1]<<8;return 32768&A?4294901760|A:A},m.prototype.readInt16BE=function(f,k){f>>>=0,k||ce(f,2,this.length);var A=this[f+1]|this[f]<<8;return 32768&A?4294901760|A:A},m.prototype.readInt32LE=function(f,k){return f>>>=0,k||ce(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},m.prototype.readInt32BE=function(f,k){return f>>>=0,k||ce(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},m.prototype.readFloatLE=function(f,k){return f>>>=0,k||ce(f,4,this.length),Ae.read(this,f,!0,23,4)},m.prototype.readFloatBE=function(f,k){return f>>>=0,k||ce(f,4,this.length),Ae.read(this,f,!1,23,4)},m.prototype.readDoubleLE=function(f,k){return f>>>=0,k||ce(f,8,this.length),Ae.read(this,f,!0,52,8)},m.prototype.readDoubleBE=function(f,k){return f>>>=0,k||ce(f,8,this.length),Ae.read(this,f,!1,52,8)},m.prototype.writeUIntLE=function(f,k,A,U){if(f=+f,k>>>=0,A>>>=0,!U){var q=a(2,8*A)-1;ne(this,f,k,A,q,0)}var te=1,Ee=0;for(this[k]=255&f;++Ee<A&&(te*=256);)this[k+Ee]=255&f/te;return k+A},m.prototype.writeUIntBE=function(f,k,A,U){if(f=+f,k>>>=0,A>>>=0,!U){var q=a(2,8*A)-1;ne(this,f,k,A,q,0)}var te=A-1,Ee=1;for(this[k+te]=255&f;0<=--te&&(Ee*=256);)this[k+te]=255&f/Ee;return k+A},m.prototype.writeUInt8=function(f,k,A){return f=+f,k>>>=0,A||ne(this,f,k,1,255,0),this[k]=255&f,k+1},m.prototype.writeUInt16LE=function(f,k,A){return f=+f,k>>>=0,A||ne(this,f,k,2,65535,0),this[k]=255&f,this[k+1]=f>>>8,k+2},m.prototype.writeUInt16BE=function(f,k,A){return f=+f,k>>>=0,A||ne(this,f,k,2,65535,0),this[k]=f>>>8,this[k+1]=255&f,k+2},m.prototype.writeUInt32LE=function(f,k,A){return f=+f,k>>>=0,A||ne(this,f,k,4,4294967295,0),this[k+3]=f>>>24,this[k+2]=f>>>16,this[k+1]=f>>>8,this[k]=255&f,k+4},m.prototype.writeUInt32BE=function(f,k,A){return f=+f,k>>>=0,A||ne(this,f,k,4,4294967295,0),this[k]=f>>>24,this[k+1]=f>>>16,this[k+2]=f>>>8,this[k+3]=255&f,k+4},m.prototype.writeIntLE=function(f,k,A,U){if(f=+f,k>>>=0,!U){var q=a(2,8*A-1);ne(this,f,k,A,q-1,-q)}var te=0,Ee=1,$e=0;for(this[k]=255&f;++te<A&&(Ee*=256);)0>f&&$e===0&&this[k+te-1]!==0&&($e=1),this[k+te]=255&(f/Ee>>0)-$e;return k+A},m.prototype.writeIntBE=function(f,k,A,U){if(f=+f,k>>>=0,!U){var q=a(2,8*A-1);ne(this,f,k,A,q-1,-q)}var te=A-1,Ee=1,$e=0;for(this[k+te]=255&f;0<=--te&&(Ee*=256);)0>f&&$e===0&&this[k+te+1]!==0&&($e=1),this[k+te]=255&(f/Ee>>0)-$e;return k+A},m.prototype.writeInt8=function(f,k,A){return f=+f,k>>>=0,A||ne(this,f,k,1,127,-128),0>f&&(f=255+f+1),this[k]=255&f,k+1},m.prototype.writeInt16LE=function(f,k,A){return f=+f,k>>>=0,A||ne(this,f,k,2,32767,-32768),this[k]=255&f,this[k+1]=f>>>8,k+2},m.prototype.writeInt16BE=function(f,k,A){return f=+f,k>>>=0,A||ne(this,f,k,2,32767,-32768),this[k]=f>>>8,this[k+1]=255&f,k+2},m.prototype.writeInt32LE=function(f,k,A){return f=+f,k>>>=0,A||ne(this,f,k,4,2147483647,-2147483648),this[k]=255&f,this[k+1]=f>>>8,this[k+2]=f>>>16,this[k+3]=f>>>24,k+4},m.prototype.writeInt32BE=function(f,k,A){return f=+f,k>>>=0,A||ne(this,f,k,4,2147483647,-2147483648),0>f&&(f=4294967295+f+1),this[k]=f>>>24,this[k+1]=f>>>16,this[k+2]=f>>>8,this[k+3]=255&f,k+4},m.prototype.writeFloatLE=function(f,k,A){return he(this,f,k,!0,A)},m.prototype.writeFloatBE=function(f,k,A){return he(this,f,k,!1,A)},m.prototype.writeDoubleLE=function(f,k,A){return _e(this,f,k,!0,A)},m.prototype.writeDoubleBE=function(f,k,A){return _e(this,f,k,!1,A)},m.prototype.copy=function(f,k,A,U){if(!m.isBuffer(f))throw new TypeError("argument should be a Buffer");if(A||(A=0),U||U===0||(U=this.length),k>=f.length&&(k=f.length),k||(k=0),0<U&&U<A&&(U=A),U===A||f.length===0||this.length===0)return 0;if(0>k)throw new RangeError("targetStart out of bounds");if(0>A||A>=this.length)throw new RangeError("Index out of range");if(0>U)throw new RangeError("sourceEnd out of bounds");U>this.length&&(U=this.length),f.length-k<U-A&&(U=f.length-k+A);var q=U-A;if(this===f&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(k,A,U);else if(this===f&&A<k&&k<U)for(var te=q-1;0<=te;--te)f[te+k]=this[te+A];else Uint8Array.prototype.set.call(f,this.subarray(A,U),k);return q},m.prototype.fill=function(f,k,A,U){if(typeof f=="string"){if(typeof k=="string"?(U=k,k=0,A=this.length):typeof A=="string"&&(U=A,A=this.length),U!==void 0&&typeof U!="string")throw new TypeError("encoding must be a string");if(typeof U=="string"&&!m.isEncoding(U))throw new TypeError("Unknown encoding: "+U);if(f.length===1){var q=f.charCodeAt(0);(U==="utf8"&&128>q||U==="latin1")&&(f=q)}}else typeof f=="number"&&(f&=255);if(0>k||this.length<k||this.length<A)throw new RangeError("Out of range index");if(A<=k)return this;k>>>=0,A=A===void 0?this.length:A>>>0,f||(f=0);var te;if(typeof f=="number")for(te=k;te<A;++te)this[te]=f;else{var Ee=m.isBuffer(f)?f:m.from(f,U),$e=Ee.length;if($e===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(te=0;te<A-k;++te)this[te+k]=Ee[te%$e]}return this};var N=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,o("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:9}],4:[function(o,u,d){(function(c){(function(){function p(){let m;try{m=d.storage.getItem("debug")}catch{}return!m&&typeof c<"u"&&"env"in c&&(m=c.env.DEBUG),m}d.formatArgs=function(m){if(m[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+m[0]+(this.useColors?"%c ":" ")+"+"+u.exports.humanize(this.diff),!this.useColors)return;const w="color: "+this.color;m.splice(1,0,w,"color: inherit");let b=0,x=0;m[0].replace(/%[a-zA-Z%]/g,E=>{E==="%%"||(b++,E==="%c"&&(x=b))}),m.splice(x,0,w)},d.save=function(m){try{m?d.storage.setItem("debug",m):d.storage.removeItem("debug")}catch{}},d.load=p,d.useColors=function(){return!!(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},d.storage=(function(){try{return localStorage}catch{}})(),d.destroy=(()=>{let m=!1;return()=>{m||(m=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),d.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],d.log=console.debug||console.log||(()=>{}),u.exports=o("./common")(d);const{formatters:y}=u.exports;y.j=function(m){try{return JSON.stringify(m)}catch(w){return"[UnexpectedJSONParseError]: "+w.message}}}).call(this)}).call(this,o("_process"))},{"./common":5,_process:12}],5:[function(o,u){u.exports=function(d){function c(m){function w(...E){if(!w.enabled)return;const C=w,P=+new Date,O=P-(b||P);C.diff=O,C.prev=b,C.curr=P,b=P,E[0]=c.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let S=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(R,D)=>{if(R==="%%")return"%";S++;const I=c.formatters[D];if(typeof I=="function"){const M=E[S];R=I.call(C,M),E.splice(S,1),S--}return R}),c.formatArgs.call(C,E),(C.log||c.log).apply(C,E)}let b,x=null;return w.namespace=m,w.useColors=c.useColors(),w.color=c.selectColor(m),w.extend=p,w.destroy=c.destroy,Object.defineProperty(w,"enabled",{enumerable:!0,configurable:!1,get:()=>x===null?c.enabled(m):x,set:E=>{x=E}}),typeof c.init=="function"&&c.init(w),w}function p(m,w){const b=c(this.namespace+(typeof w>"u"?":":w)+m);return b.log=this.log,b}function y(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}return c.debug=c,c.default=c,c.coerce=function(m){return m instanceof Error?m.stack||m.message:m},c.disable=function(){const m=[...c.names.map(y),...c.skips.map(y).map(w=>"-"+w)].join(",");return c.enable(""),m},c.enable=function(m){c.save(m),c.names=[],c.skips=[];let w;const b=(typeof m=="string"?m:"").split(/[\s,]+/),x=b.length;for(w=0;w<x;w++)b[w]&&(m=b[w].replace(/\*/g,".*?"),m[0]==="-"?c.skips.push(new RegExp("^"+m.substr(1)+"$")):c.names.push(new RegExp("^"+m+"$")))},c.enabled=function(m){if(m[m.length-1]==="*")return!0;let w,b;for(w=0,b=c.skips.length;w<b;w++)if(c.skips[w].test(m))return!1;for(w=0,b=c.names.length;w<b;w++)if(c.names[w].test(m))return!0;return!1},c.humanize=o("ms"),c.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(d).forEach(m=>{c[m]=d[m]}),c.names=[],c.skips=[],c.formatters={},c.selectColor=function(m){let w=0;for(let b=0;b<m.length;b++)w=(w<<5)-w+m.charCodeAt(b),w|=0;return c.colors[i(w)%c.colors.length]},c.enable(c.load()),c}},{ms:11}],6:[function(o,u){function d(c,p){for(const y in p)Object.defineProperty(c,y,{value:p[y],enumerable:!0,configurable:!0});return c}u.exports=function(c,p,y){if(!c||typeof c=="string")throw new TypeError("Please pass an Error to err-code");y||(y={}),typeof p=="object"&&(y=p,p=""),p&&(y.code=p);try{return d(c,y)}catch{y.message=c.message,y.stack=c.stack;const w=function(){};return w.prototype=Object.create(Object.getPrototypeOf(c)),d(new w,y)}}},{}],7:[function(o,u){function d(z){console&&console.warn&&console.warn(z)}function c(){c.init.call(this)}function p(z){if(typeof z!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof z)}function y(z){return z._maxListeners===void 0?c.defaultMaxListeners:z._maxListeners}function m(z,K,re,ue){var xe,Pe,je;if(p(re),Pe=z._events,Pe===void 0?(Pe=z._events=Object.create(null),z._eventsCount=0):(Pe.newListener!==void 0&&(z.emit("newListener",K,re.listener?re.listener:re),Pe=z._events),je=Pe[K]),je===void 0)je=Pe[K]=re,++z._eventsCount;else if(typeof je=="function"?je=Pe[K]=ue?[re,je]:[je,re]:ue?je.unshift(re):je.push(re),xe=y(z),0<xe&&je.length>xe&&!je.warned){je.warned=!0;var ke=new Error("Possible EventEmitter memory leak detected. "+je.length+" "+(K+" listeners added. Use emitter.setMaxListeners() to increase limit"));ke.name="MaxListenersExceededWarning",ke.emitter=z,ke.type=K,ke.count=je.length,d(ke)}return z}function w(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(z,K,re){var ue={fired:!1,wrapFn:void 0,target:z,type:K,listener:re},xe=w.bind(ue);return xe.listener=re,ue.wrapFn=xe,xe}function x(z,K,re){var ue=z._events;if(ue===void 0)return[];var xe=ue[K];return xe===void 0?[]:typeof xe=="function"?re?[xe.listener||xe]:[xe]:re?O(xe):C(xe,xe.length)}function E(z){var K=this._events;if(K!==void 0){var re=K[z];if(typeof re=="function")return 1;if(re!==void 0)return re.length}return 0}function C(z,K){for(var re=Array(K),ue=0;ue<K;++ue)re[ue]=z[ue];return re}function P(z,K){for(;K+1<z.length;K++)z[K]=z[K+1];z.pop()}function O(z){for(var K=Array(z.length),re=0;re<K.length;++re)K[re]=z[re].listener||z[re];return K}function S(z,K,re){typeof z.on=="function"&&j(z,"error",K,re)}function j(z,K,re,ue){if(typeof z.on=="function")ue.once?z.once(K,re):z.on(K,re);else if(typeof z.addEventListener=="function")z.addEventListener(K,function xe(Pe){ue.once&&z.removeEventListener(K,xe),re(Pe)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof z)}var R,D=typeof Reflect=="object"?Reflect:null,I=D&&typeof D.apply=="function"?D.apply:function(z,K,re){return Function.prototype.apply.call(z,K,re)};R=D&&typeof D.ownKeys=="function"?D.ownKeys:Object.getOwnPropertySymbols?function(z){return Object.getOwnPropertyNames(z).concat(Object.getOwnPropertySymbols(z))}:function(z){return Object.getOwnPropertyNames(z)};var M=Number.isNaN||function(z){return z!==z};u.exports=c,u.exports.once=function(z,K){return new Promise(function(re,ue){function xe(je){z.removeListener(K,Pe),ue(je)}function Pe(){typeof z.removeListener=="function"&&z.removeListener("error",xe),re([].slice.call(arguments))}j(z,K,Pe,{once:!0}),K!=="error"&&S(z,xe,{once:!0})})},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var Q=10;Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return Q},set:function(z){if(typeof z!="number"||0>z||M(z))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+z+".");Q=z}}),c.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(z){if(typeof z!="number"||0>z||M(z))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+z+".");return this._maxListeners=z,this},c.prototype.getMaxListeners=function(){return y(this)},c.prototype.emit=function(z){for(var K=[],re=1;re<arguments.length;re++)K.push(arguments[re]);var ue=z==="error",xe=this._events;if(xe!==void 0)ue=ue&&xe.error===void 0;else if(!ue)return!1;if(ue){var Pe;if(0<K.length&&(Pe=K[0]),Pe instanceof Error)throw Pe;var je=new Error("Unhandled error."+(Pe?" ("+Pe.message+")":""));throw je.context=Pe,je}var ke=xe[z];if(ke===void 0)return!1;if(typeof ke=="function")I(ke,this,K);else for(var oe=ke.length,se=C(ke,oe),re=0;re<oe;++re)I(se[re],this,K);return!0},c.prototype.addListener=function(z,K){return m(this,z,K,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(z,K){return m(this,z,K,!0)},c.prototype.once=function(z,K){return p(K),this.on(z,b(this,z,K)),this},c.prototype.prependOnceListener=function(z,K){return p(K),this.prependListener(z,b(this,z,K)),this},c.prototype.removeListener=function(z,K){var re,ue,xe,Pe,je;if(p(K),ue=this._events,ue===void 0)return this;if(re=ue[z],re===void 0)return this;if(re===K||re.listener===K)--this._eventsCount==0?this._events=Object.create(null):(delete ue[z],ue.removeListener&&this.emit("removeListener",z,re.listener||K));else if(typeof re!="function"){for(xe=-1,Pe=re.length-1;0<=Pe;Pe--)if(re[Pe]===K||re[Pe].listener===K){je=re[Pe].listener,xe=Pe;break}if(0>xe)return this;xe===0?re.shift():P(re,xe),re.length===1&&(ue[z]=re[0]),ue.removeListener!==void 0&&this.emit("removeListener",z,je||K)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(z){var K,re,ue;if(re=this._events,re===void 0)return this;if(re.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):re[z]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete re[z]),this;if(arguments.length===0){var xe,Pe=Object.keys(re);for(ue=0;ue<Pe.length;++ue)xe=Pe[ue],xe!=="removeListener"&&this.removeAllListeners(xe);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(K=re[z],typeof K=="function")this.removeListener(z,K);else if(K!==void 0)for(ue=K.length-1;0<=ue;ue--)this.removeListener(z,K[ue]);return this},c.prototype.listeners=function(z){return x(this,z,!0)},c.prototype.rawListeners=function(z){return x(this,z,!1)},c.listenerCount=function(z,K){return typeof z.listenerCount=="function"?z.listenerCount(K):E.call(z,K)},c.prototype.listenerCount=E,c.prototype.eventNames=function(){return 0<this._eventsCount?R(this._events):[]}},{}],8:[function(o,u){u.exports=function(){if(typeof globalThis>"u")return null;var d={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return d.RTCPeerConnection?d:null}},{}],9:[function(o,u,d){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */d.read=function(c,p,y,m,w){var b,x,E=8*w-m-1,C=(1<<E)-1,P=C>>1,O=-7,S=y?w-1:0,j=y?-1:1,R=c[p+S];for(S+=j,b=R&(1<<-O)-1,R>>=-O,O+=E;0<O;b=256*b+c[p+S],S+=j,O-=8);for(x=b&(1<<-O)-1,b>>=-O,O+=m;0<O;x=256*x+c[p+S],S+=j,O-=8);if(b===0)b=1-P;else{if(b===C)return x?NaN:(R?-1:1)*(1/0);x+=a(2,m),b-=P}return(R?-1:1)*x*a(2,b-m)},d.write=function(c,p,y,m,w,b){var x,E,C,P=Math.LN2,O=Math.log,S=8*b-w-1,j=(1<<S)-1,R=j>>1,D=w===23?a(2,-24)-a(2,-77):0,I=m?0:b-1,M=m?1:-1,Q=0>p||p===0&&0>1/p?1:0;for(p=i(p),isNaN(p)||p===1/0?(E=isNaN(p)?1:0,x=j):(x=r(O(p)/P),1>p*(C=a(2,-x))&&(x--,C*=2),p+=1<=x+R?D/C:D*a(2,1-R),2<=p*C&&(x++,C/=2),x+R>=j?(E=0,x=j):1<=x+R?(E=(p*C-1)*a(2,w),x+=R):(E=p*a(2,R-1)*a(2,w),x=0));8<=w;c[y+I]=255&E,I+=M,E/=256,w-=8);for(x=x<<w|E,S+=w;0<S;c[y+I]=255&x,I+=M,x/=256,S-=8);c[y+I-M]|=128*Q}},{}],10:[function(o,u){u.exports=typeof Object.create=="function"?function(d,c){c&&(d.super_=c,d.prototype=Object.create(c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}))}:function(d,c){if(c){d.super_=c;var p=function(){};p.prototype=c.prototype,d.prototype=new p,d.prototype.constructor=d}}},{}],11:[function(o,u){var d=Math.round;function c(w){if(w+="",!(100<w.length)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(w);if(b){var x=parseFloat(b[1]),E=(b[2]||"ms").toLowerCase();return E==="years"||E==="year"||E==="yrs"||E==="yr"||E==="y"?315576e5*x:E==="weeks"||E==="week"||E==="w"?6048e5*x:E==="days"||E==="day"||E==="d"?864e5*x:E==="hours"||E==="hour"||E==="hrs"||E==="hr"||E==="h"?36e5*x:E==="minutes"||E==="minute"||E==="mins"||E==="min"||E==="m"?6e4*x:E==="seconds"||E==="second"||E==="secs"||E==="sec"||E==="s"?1e3*x:E==="milliseconds"||E==="millisecond"||E==="msecs"||E==="msec"||E==="ms"?x:void 0}}}function p(w){var b=i(w);return 864e5<=b?d(w/864e5)+"d":36e5<=b?d(w/36e5)+"h":6e4<=b?d(w/6e4)+"m":1e3<=b?d(w/1e3)+"s":w+"ms"}function y(w){var b=i(w);return 864e5<=b?m(w,b,864e5,"day"):36e5<=b?m(w,b,36e5,"hour"):6e4<=b?m(w,b,6e4,"minute"):1e3<=b?m(w,b,1e3,"second"):w+" ms"}function m(w,b,x,E){return d(w/x)+" "+E+(b>=1.5*x?"s":"")}u.exports=function(w,b){b=b||{};var x=typeof w;if(x=="string"&&0<w.length)return c(w);if(x==="number"&&isFinite(w))return b.long?y(w):p(w);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(w))}},{}],12:[function(o,u){function d(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function p(D){if(E===setTimeout)return setTimeout(D,0);if((E===d||!E)&&setTimeout)return E=setTimeout,setTimeout(D,0);try{return E(D,0)}catch{try{return E.call(null,D,0)}catch{return E.call(this,D,0)}}}function y(D){if(C===clearTimeout)return clearTimeout(D);if((C===c||!C)&&clearTimeout)return C=clearTimeout,clearTimeout(D);try{return C(D)}catch{try{return C.call(null,D)}catch{return C.call(this,D)}}}function m(){j&&O&&(j=!1,O.length?S=O.concat(S):R=-1,S.length&&w())}function w(){if(!j){var D=p(m);j=!0;for(var I=S.length;I;){for(O=S,S=[];++R<I;)O&&O[R].run();R=-1,I=S.length}O=null,j=!1,y(D)}}function b(D,I){this.fun=D,this.array=I}function x(){}var E,C,P=u.exports={};(function(){try{E=typeof setTimeout=="function"?setTimeout:d}catch{E=d}try{C=typeof clearTimeout=="function"?clearTimeout:c}catch{C=c}})();var O,S=[],j=!1,R=-1;P.nextTick=function(D){var I=Array(arguments.length-1);if(1<arguments.length)for(var M=1;M<arguments.length;M++)I[M-1]=arguments[M];S.push(new b(D,I)),S.length!==1||j||p(w)},b.prototype.run=function(){this.fun.apply(null,this.array)},P.title="browser",P.browser=!0,P.env={},P.argv=[],P.version="",P.versions={},P.on=x,P.addListener=x,P.once=x,P.off=x,P.removeListener=x,P.removeAllListeners=x,P.emit=x,P.prependListener=x,P.prependOnceListener=x,P.listeners=function(){return[]},P.binding=function(){throw new Error("process.binding is not supported")},P.cwd=function(){return"/"},P.chdir=function(){throw new Error("process.chdir is not supported")},P.umask=function(){return 0}},{}],13:[function(o,u){(function(d){(function(){/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let c;u.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window>"u"?d:window):p=>(c||(c=Promise.resolve())).then(p).catch(y=>setTimeout(()=>{throw y},0))}).call(this)}).call(this,typeof Ar>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Ar)},{}],14:[function(o,u){(function(d,c){(function(){var p=o("safe-buffer").Buffer,y=c.crypto||c.msCrypto;u.exports=y&&y.getRandomValues?function(m,w){if(m>4294967295)throw new RangeError("requested too many random bytes");var b=p.allocUnsafe(m);if(0<m)if(65536<m)for(var x=0;x<m;x+=65536)y.getRandomValues(b.slice(x,x+65536));else y.getRandomValues(b);return typeof w=="function"?d.nextTick(function(){w(null,b)}):b}:function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,o("_process"),typeof Ar>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Ar)},{_process:12,"safe-buffer":30}],15:[function(o,u){function d(x,E){x.prototype=Object.create(E.prototype),x.prototype.constructor=x,x.__proto__=E}function c(x,E,C){function P(S,j,R){return typeof E=="string"?E:E(S,j,R)}C||(C=Error);var O=(function(S){function j(R,D,I){return S.call(this,P(R,D,I))||this}return d(j,S),j})(C);O.prototype.name=C.name,O.prototype.code=x,b[x]=O}function p(x,E){if(Array.isArray(x)){var C=x.length;return x=x.map(function(P){return P+""}),2<C?"one of ".concat(E," ").concat(x.slice(0,C-1).join(", "),", or ")+x[C-1]:C===2?"one of ".concat(E," ").concat(x[0]," or ").concat(x[1]):"of ".concat(E," ").concat(x[0])}return"of ".concat(E," ").concat(x+"")}function y(x,E,C){return x.substr(0,E.length)===E}function m(x,E,C){return(C===void 0||C>x.length)&&(C=x.length),x.substring(C-E.length,C)===E}function w(x,E,C){return typeof C!="number"&&(C=0),!(C+E.length>x.length)&&x.indexOf(E,C)!==-1}var b={};c("ERR_INVALID_OPT_VALUE",function(x,E){return'The value "'+E+'" is invalid for option "'+x+'"'},TypeError),c("ERR_INVALID_ARG_TYPE",function(x,E,C){var P;typeof E=="string"&&y(E,"not ")?(P="must not be",E=E.replace(/^not /,"")):P="must be";var O;if(m(x," argument"))O="The ".concat(x," ").concat(P," ").concat(p(E,"type"));else{var S=w(x,".")?"property":"argument";O='The "'.concat(x,'" ').concat(S," ").concat(P," ").concat(p(E,"type"))}return O+=". Received type ".concat(typeof C),O},TypeError),c("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),c("ERR_METHOD_NOT_IMPLEMENTED",function(x){return"The "+x+" method is not implemented"}),c("ERR_STREAM_PREMATURE_CLOSE","Premature close"),c("ERR_STREAM_DESTROYED",function(x){return"Cannot call "+x+" after a stream was destroyed"}),c("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),c("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),c("ERR_STREAM_WRITE_AFTER_END","write after end"),c("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),c("ERR_UNKNOWN_ENCODING",function(x){return"Unknown encoding: "+x},TypeError),c("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),u.exports.codes=b},{}],16:[function(o,u){(function(d){(function(){function c(P){return this instanceof c?(w.call(this,P),b.call(this,P),this.allowHalfOpen=!0,void(P&&(P.readable===!1&&(this.readable=!1),P.writable===!1&&(this.writable=!1),P.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",p))))):new c(P)}function p(){this._writableState.ended||d.nextTick(y,this)}function y(P){P.end()}var m=Object.keys||function(P){var O=[];for(var S in P)O.push(S);return O};u.exports=c;var w=o("./_stream_readable"),b=o("./_stream_writable");o("inherits")(c,w);for(var x,E=m(b.prototype),C=0;C<E.length;C++)x=E[C],c.prototype[x]||(c.prototype[x]=b.prototype[x]);Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(P){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=P,this._writableState.destroyed=P)}})}).call(this)}).call(this,o("_process"))},{"./_stream_readable":18,"./_stream_writable":20,_process:12,inherits:10}],17:[function(o,u){function d(p){return this instanceof d?void c.call(this,p):new d(p)}u.exports=d;var c=o("./_stream_transform");o("inherits")(d,c),d.prototype._transform=function(p,y,m){m(null,p)}},{"./_stream_transform":19,inherits:10}],18:[function(o,u){(function(d,c){(function(){function p(N){return G.from(N)}function y(N){return G.isBuffer(N)||N instanceof ce}function m(N,f,k){return typeof N.prependListener=="function"?N.prependListener(f,k):void(N._events&&N._events[f]?Array.isArray(N._events[f])?N._events[f].unshift(k):N._events[f]=[k,N._events[f]]:N.on(f,k))}function w(N,f,k){oe=oe||o("./_stream_duplex"),N=N||{},typeof k!="boolean"&&(k=f instanceof oe),this.objectMode=!!N.objectMode,k&&(this.objectMode=this.objectMode||!!N.readableObjectMode),this.highWaterMark=kt(this,N,"readableHighWaterMark",k),this.buffer=new Me,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=N.emitClose!==!1,this.autoDestroy=!!N.autoDestroy,this.destroyed=!1,this.defaultEncoding=N.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,N.encoding&&(!Z&&(Z=o("string_decoder/").StringDecoder),this.decoder=new Z(N.encoding),this.encoding=N.encoding)}function b(N){if(oe=oe||o("./_stream_duplex"),!(this instanceof b))return new b(N);var f=this instanceof oe;this._readableState=new w(N,this,f),this.readable=!0,N&&(typeof N.read=="function"&&(this._read=N.read),typeof N.destroy=="function"&&(this._destroy=N.destroy)),V.call(this)}function x(N,f,k,A,U){se("readableAddChunk",f);var q=N._readableState;if(f===null)q.reading=!1,S(N,q);else{var te;if(U||(te=C(q,f)),te)fe(N,te);else if(!(q.objectMode||f&&0<f.length))A||(q.reading=!1,D(N,q));else if(typeof f=="string"||q.objectMode||Object.getPrototypeOf(f)===G.prototype||(f=p(f)),A)q.endEmitted?fe(N,new ee):E(N,q,f,!0);else if(q.ended)fe(N,new St);else{if(q.destroyed)return!1;q.reading=!1,q.decoder&&!k?(f=q.decoder.write(f),q.objectMode||f.length!==0?E(N,q,f,!1):D(N,q)):E(N,q,f,!1)}}return!q.ended&&(q.length<q.highWaterMark||q.length===0)}function E(N,f,k,A){f.flowing&&f.length===0&&!f.sync?(f.awaitDrain=0,N.emit("data",k)):(f.length+=f.objectMode?1:k.length,A?f.buffer.unshift(k):f.buffer.push(k),f.needReadable&&j(N)),D(N,f)}function C(N,f){var k;return y(f)||typeof f=="string"||f===void 0||N.objectMode||(k=new at("chunk",["string","Buffer","Uint8Array"],f)),k}function P(N){return 1073741824<=N?N=1073741824:(N--,N|=N>>>1,N|=N>>>2,N|=N>>>4,N|=N>>>8,N|=N>>>16,N++),N}function O(N,f){return 0>=N||f.length===0&&f.ended?0:f.objectMode?1:N===N?(N>f.highWaterMark&&(f.highWaterMark=P(N)),N<=f.length?N:f.ended?f.length:(f.needReadable=!0,0)):f.flowing&&f.length?f.buffer.head.data.length:f.length}function S(N,f){if(se("onEofChunk"),!f.ended){if(f.decoder){var k=f.decoder.end();k&&k.length&&(f.buffer.push(k),f.length+=f.objectMode?1:k.length)}f.ended=!0,f.sync?j(N):(f.needReadable=!1,!f.emittedReadable&&(f.emittedReadable=!0,R(N)))}}function j(N){var f=N._readableState;se("emitReadable",f.needReadable,f.emittedReadable),f.needReadable=!1,f.emittedReadable||(se("emitReadable",f.flowing),f.emittedReadable=!0,d.nextTick(R,N))}function R(N){var f=N._readableState;se("emitReadable_",f.destroyed,f.length,f.ended),!f.destroyed&&(f.length||f.ended)&&(N.emit("readable"),f.emittedReadable=!1),f.needReadable=!f.flowing&&!f.ended&&f.length<=f.highWaterMark,ue(N)}function D(N,f){f.readingMore||(f.readingMore=!0,d.nextTick(I,N,f))}function I(N,f){for(;!f.reading&&!f.ended&&(f.length<f.highWaterMark||f.flowing&&f.length===0);){var k=f.length;if(se("maybeReadMore read 0"),N.read(0),k===f.length)break}f.readingMore=!1}function M(N){return function(){var f=N._readableState;se("pipeOnDrain",f.awaitDrain),f.awaitDrain&&f.awaitDrain--,f.awaitDrain===0&&me(N,"data")&&(f.flowing=!0,ue(N))}}function Q(N){var f=N._readableState;f.readableListening=0<N.listenerCount("readable"),f.resumeScheduled&&!f.paused?f.flowing=!0:0<N.listenerCount("data")&&N.resume()}function z(N){se("readable nexttick read 0"),N.read(0)}function K(N,f){f.resumeScheduled||(f.resumeScheduled=!0,d.nextTick(re,N,f))}function re(N,f){se("resume",f.reading),f.reading||N.read(0),f.resumeScheduled=!1,N.emit("resume"),ue(N),f.flowing&&!f.reading&&N.read(0)}function ue(N){var f=N._readableState;for(se("flow",f.flowing);f.flowing&&N.read()!==null;);}function xe(N,f){if(f.length===0)return null;var k;return f.objectMode?k=f.buffer.shift():!N||N>=f.length?(k=f.decoder?f.buffer.join(""):f.buffer.length===1?f.buffer.first():f.buffer.concat(f.length),f.buffer.clear()):k=f.buffer.consume(N,f.decoder),k}function Pe(N){var f=N._readableState;se("endReadable",f.endEmitted),f.endEmitted||(f.ended=!0,d.nextTick(je,f,N))}function je(N,f){if(se("endReadableNT",N.endEmitted,N.length),!N.endEmitted&&N.length===0&&(N.endEmitted=!0,f.readable=!1,f.emit("end"),N.autoDestroy)){var k=f._writableState;(!k||k.autoDestroy&&k.finished)&&f.destroy()}}function ke(N,f){for(var k=0,A=N.length;k<A;k++)if(N[k]===f)return k;return-1}u.exports=b;var oe;b.ReadableState=w;var se;o("events").EventEmitter;var me=function(N,f){return N.listeners(f).length},V=o("./internal/streams/stream"),G=o("buffer").Buffer,ce=c.Uint8Array||function(){},ne=o("util");se=ne&&ne.debuglog?ne.debuglog("stream"):function(){};var Z,he,_e,Me=o("./internal/streams/buffer_list"),Fe=o("./internal/streams/destroy"),We=o("./internal/streams/state"),kt=We.getHighWaterMark,ft=o("../errors").codes,at=ft.ERR_INVALID_ARG_TYPE,St=ft.ERR_STREAM_PUSH_AFTER_EOF,Y=ft.ERR_METHOD_NOT_IMPLEMENTED,ee=ft.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;o("inherits")(b,V);var fe=Fe.errorOrDestroy,Ae=["error","close","destroy","pause","resume"];Object.defineProperty(b.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(N){this._readableState&&(this._readableState.destroyed=N)}}),b.prototype.destroy=Fe.destroy,b.prototype._undestroy=Fe.undestroy,b.prototype._destroy=function(N,f){f(N)},b.prototype.push=function(N,f){var k,A=this._readableState;return A.objectMode?k=!0:typeof N=="string"&&(f=f||A.defaultEncoding,f!==A.encoding&&(N=G.from(N,f),f=""),k=!0),x(this,N,f,!1,k)},b.prototype.unshift=function(N){return x(this,N,null,!0,!1)},b.prototype.isPaused=function(){return this._readableState.flowing===!1},b.prototype.setEncoding=function(N){Z||(Z=o("string_decoder/").StringDecoder);var f=new Z(N);this._readableState.decoder=f,this._readableState.encoding=this._readableState.decoder.encoding;for(var k=this._readableState.buffer.head,A="";k!==null;)A+=f.write(k.data),k=k.next;return this._readableState.buffer.clear(),A!==""&&this._readableState.buffer.push(A),this._readableState.length=A.length,this},b.prototype.read=function(N){se("read",N),N=parseInt(N,10);var f=this._readableState,k=N;if(N!==0&&(f.emittedReadable=!1),N===0&&f.needReadable&&((f.highWaterMark===0?0<f.length:f.length>=f.highWaterMark)||f.ended))return se("read: emitReadable",f.length,f.ended),f.length===0&&f.ended?Pe(this):j(this),null;if(N=O(N,f),N===0&&f.ended)return f.length===0&&Pe(this),null;var A=f.needReadable;se("need readable",A),(f.length===0||f.length-N<f.highWaterMark)&&(A=!0,se("length less than watermark",A)),f.ended||f.reading?(A=!1,se("reading or ended",A)):A&&(se("do read"),f.reading=!0,f.sync=!0,f.length===0&&(f.needReadable=!0),this._read(f.highWaterMark),f.sync=!1,!f.reading&&(N=O(k,f)));var U;return U=0<N?xe(N,f):null,U===null?(f.needReadable=f.length<=f.highWaterMark,N=0):(f.length-=N,f.awaitDrain=0),f.length===0&&(!f.ended&&(f.needReadable=!0),k!==N&&f.ended&&Pe(this)),U!==null&&this.emit("data",U),U},b.prototype._read=function(){fe(this,new Y("_read()"))},b.prototype.pipe=function(N,f){function k(en,xr){se("onunpipe"),en===Ve&&xr&&xr.hasUnpiped===!1&&(xr.hasUnpiped=!0,U())}function A(){se("onend"),N.end()}function U(){se("cleanup"),N.removeListener("close",Ee),N.removeListener("finish",$e),N.removeListener("drain",Dr),N.removeListener("error",te),N.removeListener("unpipe",k),Ve.removeListener("end",A),Ve.removeListener("end",Je),Ve.removeListener("data",q),Zr=!0,Ue.awaitDrain&&(!N._writableState||N._writableState.needDrain)&&Dr()}function q(en){se("ondata");var xr=N.write(en);se("dest.write",xr),xr===!1&&((Ue.pipesCount===1&&Ue.pipes===N||1<Ue.pipesCount&&ke(Ue.pipes,N)!==-1)&&!Zr&&(se("false write response, pause",Ue.awaitDrain),Ue.awaitDrain++),Ve.pause())}function te(en){se("onerror",en),Je(),N.removeListener("error",te),me(N,"error")===0&&fe(N,en)}function Ee(){N.removeListener("finish",$e),Je()}function $e(){se("onfinish"),N.removeListener("close",Ee),Je()}function Je(){se("unpipe"),Ve.unpipe(N)}var Ve=this,Ue=this._readableState;switch(Ue.pipesCount){case 0:Ue.pipes=N;break;case 1:Ue.pipes=[Ue.pipes,N];break;default:Ue.pipes.push(N)}Ue.pipesCount+=1,se("pipe count=%d opts=%j",Ue.pipesCount,f);var ot=(!f||f.end!==!1)&&N!==d.stdout&&N!==d.stderr,Ir=ot?A:Je;Ue.endEmitted?d.nextTick(Ir):Ve.once("end",Ir),N.on("unpipe",k);var Dr=M(Ve);N.on("drain",Dr);var Zr=!1;return Ve.on("data",q),m(N,"error",te),N.once("close",Ee),N.once("finish",$e),N.emit("pipe",Ve),Ue.flowing||(se("pipe resume"),Ve.resume()),N},b.prototype.unpipe=function(N){var f=this._readableState,k={hasUnpiped:!1};if(f.pipesCount===0)return this;if(f.pipesCount===1)return N&&N!==f.pipes?this:(N||(N=f.pipes),f.pipes=null,f.pipesCount=0,f.flowing=!1,N&&N.emit("unpipe",this,k),this);if(!N){var A=f.pipes,U=f.pipesCount;f.pipes=null,f.pipesCount=0,f.flowing=!1;for(var q=0;q<U;q++)A[q].emit("unpipe",this,{hasUnpiped:!1});return this}var te=ke(f.pipes,N);return te===-1?this:(f.pipes.splice(te,1),f.pipesCount-=1,f.pipesCount===1&&(f.pipes=f.pipes[0]),N.emit("unpipe",this,k),this)},b.prototype.on=function(N,f){var k=V.prototype.on.call(this,N,f),A=this._readableState;return N==="data"?(A.readableListening=0<this.listenerCount("readable"),A.flowing!==!1&&this.resume()):N=="readable"&&!A.endEmitted&&!A.readableListening&&(A.readableListening=A.needReadable=!0,A.flowing=!1,A.emittedReadable=!1,se("on readable",A.length,A.reading),A.length?j(this):!A.reading&&d.nextTick(z,this)),k},b.prototype.addListener=b.prototype.on,b.prototype.removeListener=function(N,f){var k=V.prototype.removeListener.call(this,N,f);return N==="readable"&&d.nextTick(Q,this),k},b.prototype.removeAllListeners=function(N){var f=V.prototype.removeAllListeners.apply(this,arguments);return(N==="readable"||N===void 0)&&d.nextTick(Q,this),f},b.prototype.resume=function(){var N=this._readableState;return N.flowing||(se("resume"),N.flowing=!N.readableListening,K(this,N)),N.paused=!1,this},b.prototype.pause=function(){return se("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(se("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},b.prototype.wrap=function(N){var f=this,k=this._readableState,A=!1;for(var U in N.on("end",function(){if(se("wrapped end"),k.decoder&&!k.ended){var te=k.decoder.end();te&&te.length&&f.push(te)}f.push(null)}),N.on("data",function(te){if(se("wrapped data"),k.decoder&&(te=k.decoder.write(te)),!(k.objectMode&&te==null)&&(k.objectMode||te&&te.length)){var Ee=f.push(te);Ee||(A=!0,N.pause())}}),N)this[U]===void 0&&typeof N[U]=="function"&&(this[U]=(function(te){return function(){return N[te].apply(N,arguments)}})(U));for(var q=0;q<Ae.length;q++)N.on(Ae[q],this.emit.bind(this,Ae[q]));return this._read=function(te){se("wrapped _read",te),A&&(A=!1,N.resume())},this},typeof Symbol=="function"&&(b.prototype[Symbol.asyncIterator]=function(){return he===void 0&&(he=o("./internal/streams/async_iterator")),he(this)}),Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(b.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(b.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(N){this._readableState&&(this._readableState.flowing=N)}}),b._fromList=xe,Object.defineProperty(b.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(b.from=function(N,f){return _e===void 0&&(_e=o("./internal/streams/from")),_e(b,N,f)})}).call(this)}).call(this,o("_process"),typeof Ar>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Ar)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/async_iterator":21,"./internal/streams/buffer_list":22,"./internal/streams/destroy":23,"./internal/streams/from":25,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,events:7,inherits:10,"string_decoder/":31,util:2}],19:[function(o,u){function d(P,O){var S=this._transformState;S.transforming=!1;var j=S.writecb;if(j===null)return this.emit("error",new b);S.writechunk=null,S.writecb=null,O!=null&&this.push(O),j(P);var R=this._readableState;R.reading=!1,(R.needReadable||R.length<R.highWaterMark)&&this._read(R.highWaterMark)}function c(P){return this instanceof c?(C.call(this,P),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,P&&(typeof P.transform=="function"&&(this._transform=P.transform),typeof P.flush=="function"&&(this._flush=P.flush)),void this.on("prefinish",p)):new c(P)}function p(){var P=this;typeof this._flush!="function"||this._readableState.destroyed?y(this,null,null):this._flush(function(O,S){y(P,O,S)})}function y(P,O,S){if(O)return P.emit("error",O);if(S!=null&&P.push(S),P._writableState.length)throw new E;if(P._transformState.transforming)throw new x;return P.push(null)}u.exports=c;var m=o("../errors").codes,w=m.ERR_METHOD_NOT_IMPLEMENTED,b=m.ERR_MULTIPLE_CALLBACK,x=m.ERR_TRANSFORM_ALREADY_TRANSFORMING,E=m.ERR_TRANSFORM_WITH_LENGTH_0,C=o("./_stream_duplex");o("inherits")(c,C),c.prototype.push=function(P,O){return this._transformState.needTransform=!1,C.prototype.push.call(this,P,O)},c.prototype._transform=function(P,O,S){S(new w("_transform()"))},c.prototype._write=function(P,O,S){var j=this._transformState;if(j.writecb=S,j.writechunk=P,j.writeencoding=O,!j.transforming){var R=this._readableState;(j.needTransform||R.needReadable||R.length<R.highWaterMark)&&this._read(R.highWaterMark)}},c.prototype._read=function(){var P=this._transformState;P.writechunk===null||P.transforming?P.needTransform=!0:(P.transforming=!0,this._transform(P.writechunk,P.writeencoding,P.afterTransform))},c.prototype._destroy=function(P,O){C.prototype._destroy.call(this,P,function(S){O(S)})}},{"../errors":15,"./_stream_duplex":16,inherits:10}],20:[function(o,u){(function(d,c){(function(){function p(Y){var ee=this;this.next=null,this.entry=null,this.finish=function(){Pe(ee,Y)}}function y(Y){return se.from(Y)}function m(Y){return se.isBuffer(Y)||Y instanceof me}function w(){}function b(Y,ee,fe){je=je||o("./_stream_duplex"),Y=Y||{},typeof fe!="boolean"&&(fe=ee instanceof je),this.objectMode=!!Y.objectMode,fe&&(this.objectMode=this.objectMode||!!Y.writableObjectMode),this.highWaterMark=ce(this,Y,"writableHighWaterMark",fe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ae=Y.decodeStrings===!1;this.decodeStrings=!Ae,this.defaultEncoding=Y.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(N){D(ee,N)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Y.emitClose!==!1,this.autoDestroy=!!Y.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new p(this)}function x(Y){je=je||o("./_stream_duplex");var ee=this instanceof je;return ee||St.call(x,this)?(this._writableState=new b(Y,this,ee),this.writable=!0,Y&&(typeof Y.write=="function"&&(this._write=Y.write),typeof Y.writev=="function"&&(this._writev=Y.writev),typeof Y.destroy=="function"&&(this._destroy=Y.destroy),typeof Y.final=="function"&&(this._final=Y.final)),void oe.call(this)):new x(Y)}function E(Y,ee){var fe=new kt;at(Y,fe),d.nextTick(ee,fe)}function C(Y,ee,fe,Ae){var N;return fe===null?N=new We:typeof fe!="string"&&!ee.objectMode&&(N=new Z("chunk",["string","Buffer"],fe)),!N||(at(Y,N),d.nextTick(Ae,N),!1)}function P(Y,ee,fe){return Y.objectMode||Y.decodeStrings===!1||typeof ee!="string"||(ee=se.from(ee,fe)),ee}function O(Y,ee,fe,Ae,N,f){if(!fe){var k=P(ee,Ae,N);Ae!==k&&(fe=!0,N="buffer",Ae=k)}var A=ee.objectMode?1:Ae.length;ee.length+=A;var U=ee.length<ee.highWaterMark;if(U||(ee.needDrain=!0),ee.writing||ee.corked){var q=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:Ae,encoding:N,isBuf:fe,callback:f,next:null},q?q.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else S(Y,ee,!1,A,Ae,N,f);return U}function S(Y,ee,fe,Ae,N,f,k){ee.writelen=Ae,ee.writecb=k,ee.writing=!0,ee.sync=!0,ee.destroyed?ee.onwrite(new Fe("write")):fe?Y._writev(N,ee.onwrite):Y._write(N,f,ee.onwrite),ee.sync=!1}function j(Y,ee,fe,Ae,N){--ee.pendingcb,fe?(d.nextTick(N,Ae),d.nextTick(ue,Y,ee),Y._writableState.errorEmitted=!0,at(Y,Ae)):(N(Ae),Y._writableState.errorEmitted=!0,at(Y,Ae),ue(Y,ee))}function R(Y){Y.writing=!1,Y.writecb=null,Y.length-=Y.writelen,Y.writelen=0}function D(Y,ee){var fe=Y._writableState,Ae=fe.sync,N=fe.writecb;if(typeof N!="function")throw new _e;if(R(fe),ee)j(Y,fe,Ae,ee,N);else{var f=z(fe)||Y.destroyed;f||fe.corked||fe.bufferProcessing||!fe.bufferedRequest||Q(Y,fe),Ae?d.nextTick(I,Y,fe,f,N):I(Y,fe,f,N)}}function I(Y,ee,fe,Ae){fe||M(Y,ee),ee.pendingcb--,Ae(),ue(Y,ee)}function M(Y,ee){ee.length===0&&ee.needDrain&&(ee.needDrain=!1,Y.emit("drain"))}function Q(Y,ee){ee.bufferProcessing=!0;var fe=ee.bufferedRequest;if(Y._writev&&fe&&fe.next){var Ae=ee.bufferedRequestCount,N=Array(Ae),f=ee.corkedRequestsFree;f.entry=fe;for(var k=0,A=!0;fe;)N[k]=fe,fe.isBuf||(A=!1),fe=fe.next,k+=1;N.allBuffers=A,S(Y,ee,!0,ee.length,N,"",f.finish),ee.pendingcb++,ee.lastBufferedRequest=null,f.next?(ee.corkedRequestsFree=f.next,f.next=null):ee.corkedRequestsFree=new p(ee),ee.bufferedRequestCount=0}else{for(;fe;){var U=fe.chunk,q=fe.encoding,te=fe.callback,Ee=ee.objectMode?1:U.length;if(S(Y,ee,!1,Ee,U,q,te),fe=fe.next,ee.bufferedRequestCount--,ee.writing)break}fe===null&&(ee.lastBufferedRequest=null)}ee.bufferedRequest=fe,ee.bufferProcessing=!1}function z(Y){return Y.ending&&Y.length===0&&Y.bufferedRequest===null&&!Y.finished&&!Y.writing}function K(Y,ee){Y._final(function(fe){ee.pendingcb--,fe&&at(Y,fe),ee.prefinished=!0,Y.emit("prefinish"),ue(Y,ee)})}function re(Y,ee){ee.prefinished||ee.finalCalled||(typeof Y._final!="function"||ee.destroyed?(ee.prefinished=!0,Y.emit("prefinish")):(ee.pendingcb++,ee.finalCalled=!0,d.nextTick(K,Y,ee)))}function ue(Y,ee){var fe=z(ee);if(fe&&(re(Y,ee),ee.pendingcb===0&&(ee.finished=!0,Y.emit("finish"),ee.autoDestroy))){var Ae=Y._readableState;(!Ae||Ae.autoDestroy&&Ae.endEmitted)&&Y.destroy()}return fe}function xe(Y,ee,fe){ee.ending=!0,ue(Y,ee),fe&&(ee.finished?d.nextTick(fe):Y.once("finish",fe)),ee.ended=!0,Y.writable=!1}function Pe(Y,ee,fe){var Ae=Y.entry;for(Y.entry=null;Ae;){var N=Ae.callback;ee.pendingcb--,N(fe),Ae=Ae.next}ee.corkedRequestsFree.next=Y}u.exports=x;var je;x.WritableState=b;var ke={deprecate:o("util-deprecate")},oe=o("./internal/streams/stream"),se=o("buffer").Buffer,me=c.Uint8Array||function(){},V=o("./internal/streams/destroy"),G=o("./internal/streams/state"),ce=G.getHighWaterMark,ne=o("../errors").codes,Z=ne.ERR_INVALID_ARG_TYPE,he=ne.ERR_METHOD_NOT_IMPLEMENTED,_e=ne.ERR_MULTIPLE_CALLBACK,Me=ne.ERR_STREAM_CANNOT_PIPE,Fe=ne.ERR_STREAM_DESTROYED,We=ne.ERR_STREAM_NULL_VALUES,kt=ne.ERR_STREAM_WRITE_AFTER_END,ft=ne.ERR_UNKNOWN_ENCODING,at=V.errorOrDestroy;o("inherits")(x,oe),b.prototype.getBuffer=function(){for(var Y=this.bufferedRequest,ee=[];Y;)ee.push(Y),Y=Y.next;return ee},(function(){try{Object.defineProperty(b.prototype,"buffer",{get:ke.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var St;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(St=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(Y){return!!St.call(this,Y)||this===x&&Y&&Y._writableState instanceof b}})):St=function(Y){return Y instanceof this},x.prototype.pipe=function(){at(this,new Me)},x.prototype.write=function(Y,ee,fe){var Ae=this._writableState,N=!1,f=!Ae.objectMode&&m(Y);return f&&!se.isBuffer(Y)&&(Y=y(Y)),typeof ee=="function"&&(fe=ee,ee=null),f?ee="buffer":!ee&&(ee=Ae.defaultEncoding),typeof fe!="function"&&(fe=w),Ae.ending?E(this,fe):(f||C(this,Ae,Y,fe))&&(Ae.pendingcb++,N=O(this,Ae,f,Y,ee,fe)),N},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var Y=this._writableState;Y.corked&&(Y.corked--,!Y.writing&&!Y.corked&&!Y.bufferProcessing&&Y.bufferedRequest&&Q(this,Y))},x.prototype.setDefaultEncoding=function(Y){if(typeof Y=="string"&&(Y=Y.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Y+"").toLowerCase())))throw new ft(Y);return this._writableState.defaultEncoding=Y,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(Y,ee,fe){fe(new he("_write()"))},x.prototype._writev=null,x.prototype.end=function(Y,ee,fe){var Ae=this._writableState;return typeof Y=="function"?(fe=Y,Y=null,ee=null):typeof ee=="function"&&(fe=ee,ee=null),Y!=null&&this.write(Y,ee),Ae.corked&&(Ae.corked=1,this.uncork()),Ae.ending||xe(this,Ae,fe),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Y){this._writableState&&(this._writableState.destroyed=Y)}}),x.prototype.destroy=V.destroy,x.prototype._undestroy=V.undestroy,x.prototype._destroy=function(Y,ee){ee(Y)}}).call(this)}).call(this,o("_process"),typeof Ar>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Ar)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/destroy":23,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,inherits:10,"util-deprecate":32}],21:[function(o,u){(function(d){(function(){function c(M,Q,z){return Q in M?Object.defineProperty(M,Q,{value:z,enumerable:!0,configurable:!0,writable:!0}):M[Q]=z,M}function p(M,Q){return{value:M,done:Q}}function y(M){var Q=M[E];if(Q!==null){var z=M[R].read();z!==null&&(M[S]=null,M[E]=null,M[C]=null,Q(p(z,!1)))}}function m(M){d.nextTick(y,M)}function w(M,Q){return function(z,K){M.then(function(){return Q[O]?void z(p(void 0,!0)):void Q[j](z,K)},K)}}var b,x=o("./end-of-stream"),E=Symbol("lastResolve"),C=Symbol("lastReject"),P=Symbol("error"),O=Symbol("ended"),S=Symbol("lastPromise"),j=Symbol("handlePromise"),R=Symbol("stream"),D=Object.getPrototypeOf(function(){}),I=Object.setPrototypeOf((b={get stream(){return this[R]},next:function(){var M=this,Q=this[P];if(Q!==null)return Promise.reject(Q);if(this[O])return Promise.resolve(p(void 0,!0));if(this[R].destroyed)return new Promise(function(ue,xe){d.nextTick(function(){M[P]?xe(M[P]):ue(p(void 0,!0))})});var z,K=this[S];if(K)z=new Promise(w(K,this));else{var re=this[R].read();if(re!==null)return Promise.resolve(p(re,!1));z=new Promise(this[j])}return this[S]=z,z}},c(b,Symbol.asyncIterator,function(){return this}),c(b,"return",function(){var M=this;return new Promise(function(Q,z){M[R].destroy(null,function(K){return K?void z(K):void Q(p(void 0,!0))})})}),b),D);u.exports=function(M){var Q,z=Object.create(I,(Q={},c(Q,R,{value:M,writable:!0}),c(Q,E,{value:null,writable:!0}),c(Q,C,{value:null,writable:!0}),c(Q,P,{value:null,writable:!0}),c(Q,O,{value:M._readableState.endEmitted,writable:!0}),c(Q,j,{value:function(K,re){var ue=z[R].read();ue?(z[S]=null,z[E]=null,z[C]=null,K(p(ue,!1))):(z[E]=K,z[C]=re)},writable:!0}),Q));return z[S]=null,x(M,function(K){if(K&&K.code!=="ERR_STREAM_PREMATURE_CLOSE"){var re=z[C];return re!==null&&(z[S]=null,z[E]=null,z[C]=null,re(K)),void(z[P]=K)}var ue=z[E];ue!==null&&(z[S]=null,z[E]=null,z[C]=null,ue(p(void 0,!0))),z[O]=!0}),M.on("readable",m.bind(null,z)),z}}).call(this)}).call(this,o("_process"))},{"./end-of-stream":24,_process:12}],22:[function(o,u){function d(S,j){var R=Object.keys(S);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(S);j&&(D=D.filter(function(I){return Object.getOwnPropertyDescriptor(S,I).enumerable})),R.push.apply(R,D)}return R}function c(S){for(var j,R=1;R<arguments.length;R++)j=arguments[R]==null?{}:arguments[R],R%2?d(Object(j),!0).forEach(function(D){p(S,D,j[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(j)):d(Object(j)).forEach(function(D){Object.defineProperty(S,D,Object.getOwnPropertyDescriptor(j,D))});return S}function p(S,j,R){return j in S?Object.defineProperty(S,j,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[j]=R,S}function y(S,j){if(!(S instanceof j))throw new TypeError("Cannot call a class as a function")}function m(S,j){for(var R,D=0;D<j.length;D++)R=j[D],R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(S,R.key,R)}function w(S,j,R){return j&&m(S.prototype,j),S}function b(S,j,R){E.prototype.copy.call(S,j,R)}var x=o("buffer"),E=x.Buffer,C=o("util"),P=C.inspect,O=P&&P.custom||"inspect";u.exports=(function(){function S(){y(this,S),this.head=null,this.tail=null,this.length=0}return w(S,[{key:"push",value:function(j){var R={data:j,next:null};0<this.length?this.tail.next=R:this.head=R,this.tail=R,++this.length}},{key:"unshift",value:function(j){var R={data:j,next:this.head};this.length===0&&(this.tail=R),this.head=R,++this.length}},{key:"shift",value:function(){if(this.length!==0){var j=this.head.data;return this.head=this.length===1?this.tail=null:this.head.next,--this.length,j}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(j){if(this.length===0)return"";for(var R=this.head,D=""+R.data;R=R.next;)D+=j+R.data;return D}},{key:"concat",value:function(j){if(this.length===0)return E.alloc(0);for(var R=E.allocUnsafe(j>>>0),D=this.head,I=0;D;)b(D.data,R,I),I+=D.data.length,D=D.next;return R}},{key:"consume",value:function(j,R){var D;return j<this.head.data.length?(D=this.head.data.slice(0,j),this.head.data=this.head.data.slice(j)):j===this.head.data.length?D=this.shift():D=R?this._getString(j):this._getBuffer(j),D}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(j){var R=this.head,D=1,I=R.data;for(j-=I.length;R=R.next;){var M=R.data,Q=j>M.length?M.length:j;if(I+=Q===M.length?M:M.slice(0,j),j-=Q,j===0){Q===M.length?(++D,this.head=R.next?R.next:this.tail=null):(this.head=R,R.data=M.slice(Q));break}++D}return this.length-=D,I}},{key:"_getBuffer",value:function(j){var R=E.allocUnsafe(j),D=this.head,I=1;for(D.data.copy(R),j-=D.data.length;D=D.next;){var M=D.data,Q=j>M.length?M.length:j;if(M.copy(R,R.length-j,0,Q),j-=Q,j===0){Q===M.length?(++I,this.head=D.next?D.next:this.tail=null):(this.head=D,D.data=M.slice(Q));break}++I}return this.length-=I,R}},{key:O,value:function(j,R){return P(this,c({},R,{depth:0,customInspect:!1}))}}]),S})()},{buffer:3,util:2}],23:[function(o,u){(function(d){(function(){function c(m,w){y(m,w),p(m)}function p(m){m._writableState&&!m._writableState.emitClose||m._readableState&&!m._readableState.emitClose||m.emit("close")}function y(m,w){m.emit("error",w)}u.exports={destroy:function(m,w){var b=this,x=this._readableState&&this._readableState.destroyed,E=this._writableState&&this._writableState.destroyed;return x||E?(w?w(m):m&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,d.nextTick(y,this,m)):d.nextTick(y,this,m)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(m||null,function(C){!w&&C?b._writableState?b._writableState.errorEmitted?d.nextTick(p,b):(b._writableState.errorEmitted=!0,d.nextTick(c,b,C)):d.nextTick(c,b,C):w?(d.nextTick(p,b),w(C)):d.nextTick(p,b)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(m,w){var b=m._readableState,x=m._writableState;b&&b.autoDestroy||x&&x.autoDestroy?m.destroy(w):m.emit("error",w)}}}).call(this)}).call(this,o("_process"))},{_process:12}],24:[function(o,u){function d(w){var b=!1;return function(){if(!b){b=!0;for(var x=arguments.length,E=Array(x),C=0;C<x;C++)E[C]=arguments[C];w.apply(this,E)}}}function c(){}function p(w){return w.setHeader&&typeof w.abort=="function"}function y(w,b,x){if(typeof b=="function")return y(w,null,b);b||(b={}),x=d(x||c);var E=b.readable||b.readable!==!1&&w.readable,C=b.writable||b.writable!==!1&&w.writable,P=function(){w.writable||S()},O=w._writableState&&w._writableState.finished,S=function(){C=!1,O=!0,E||x.call(w)},j=w._readableState&&w._readableState.endEmitted,R=function(){E=!1,j=!0,C||x.call(w)},D=function(Q){x.call(w,Q)},I=function(){var Q;return E&&!j?(w._readableState&&w._readableState.ended||(Q=new m),x.call(w,Q)):C&&!O?(w._writableState&&w._writableState.ended||(Q=new m),x.call(w,Q)):void 0},M=function(){w.req.on("finish",S)};return p(w)?(w.on("complete",S),w.on("abort",I),w.req?M():w.on("request",M)):C&&!w._writableState&&(w.on("end",P),w.on("close",P)),w.on("end",R),w.on("finish",S),b.error!==!1&&w.on("error",D),w.on("close",I),function(){w.removeListener("complete",S),w.removeListener("abort",I),w.removeListener("request",M),w.req&&w.req.removeListener("finish",S),w.removeListener("end",P),w.removeListener("close",P),w.removeListener("finish",S),w.removeListener("end",R),w.removeListener("error",D),w.removeListener("close",I)}}var m=o("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;u.exports=y},{"../../../errors":15}],25:[function(o,u){u.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],26:[function(o,u){function d(O){var S=!1;return function(){S||(S=!0,O.apply(void 0,arguments))}}function c(O){if(O)throw O}function p(O){return O.setHeader&&typeof O.abort=="function"}function y(O,S,j,R){R=d(R);var D=!1;O.on("close",function(){D=!0}),x===void 0&&(x=o("./end-of-stream")),x(O,{readable:S,writable:j},function(M){return M?R(M):(D=!0,void R())});var I=!1;return function(M){if(!D)return I?void 0:(I=!0,p(O)?O.abort():typeof O.destroy=="function"?O.destroy():void R(M||new P("pipe")))}}function m(O){O()}function w(O,S){return O.pipe(S)}function b(O){return O.length&&typeof O[O.length-1]=="function"?O.pop():c}var x,E=o("../../../errors").codes,C=E.ERR_MISSING_ARGS,P=E.ERR_STREAM_DESTROYED;u.exports=function(){for(var O=arguments.length,S=Array(O),j=0;j<O;j++)S[j]=arguments[j];var R=b(S);if(Array.isArray(S[0])&&(S=S[0]),2>S.length)throw new C("streams");var D,I=S.map(function(M,Q){var z=Q<S.length-1;return y(M,z,0<Q,function(K){D||(D=K),K&&I.forEach(m),z||(I.forEach(m),R(D))})});return S.reduce(w)}},{"../../../errors":15,"./end-of-stream":24}],27:[function(o,u){function d(p,y,m){return p.highWaterMark==null?y?p[m]:null:p.highWaterMark}var c=o("../../../errors").codes.ERR_INVALID_OPT_VALUE;u.exports={getHighWaterMark:function(p,y,m,w){var b=d(y,w,m);if(b!=null){if(!(isFinite(b)&&r(b)===b)||0>b){var x=w?m:"highWaterMark";throw new c(x,b)}return r(b)}return p.objectMode?16:16384}}},{"../../../errors":15}],28:[function(o,u){u.exports=o("events").EventEmitter},{events:7}],29:[function(o,u,d){d=u.exports=o("./lib/_stream_readable.js"),d.Stream=d,d.Readable=d,d.Writable=o("./lib/_stream_writable.js"),d.Duplex=o("./lib/_stream_duplex.js"),d.Transform=o("./lib/_stream_transform.js"),d.PassThrough=o("./lib/_stream_passthrough.js"),d.finished=o("./lib/internal/streams/end-of-stream.js"),d.pipeline=o("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":16,"./lib/_stream_passthrough.js":17,"./lib/_stream_readable.js":18,"./lib/_stream_transform.js":19,"./lib/_stream_writable.js":20,"./lib/internal/streams/end-of-stream.js":24,"./lib/internal/streams/pipeline.js":26}],30:[function(o,u,d){function c(w,b){for(var x in w)b[x]=w[x]}function p(w,b,x){return m(w,b,x)}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var y=o("buffer"),m=y.Buffer;m.from&&m.alloc&&m.allocUnsafe&&m.allocUnsafeSlow?u.exports=y:(c(y,d),d.Buffer=p),p.prototype=Object.create(m.prototype),c(m,p),p.from=function(w,b,x){if(typeof w=="number")throw new TypeError("Argument must not be a number");return m(w,b,x)},p.alloc=function(w,b,x){if(typeof w!="number")throw new TypeError("Argument must be a number");var E=m(w);return b===void 0?E.fill(0):typeof x=="string"?E.fill(b,x):E.fill(b),E},p.allocUnsafe=function(w){if(typeof w!="number")throw new TypeError("Argument must be a number");return m(w)},p.allocUnsafeSlow=function(w){if(typeof w!="number")throw new TypeError("Argument must be a number");return y.SlowBuffer(w)}},{buffer:3}],31:[function(o,u,d){function c(I){if(!I)return"utf8";for(var M;;)switch(I){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return I;default:if(M)return;I=(""+I).toLowerCase(),M=!0}}function p(I){var M=c(I);if(typeof M!="string"&&(R.isEncoding===D||!D(I)))throw new Error("Unknown encoding: "+I);return M||I}function y(I){this.encoding=p(I);var M;switch(this.encoding){case"utf16le":this.text=E,this.end=C,M=4;break;case"utf8":this.fillLast=x,M=4;break;case"base64":this.text=P,this.end=O,M=3;break;default:return this.write=S,void(this.end=j)}this.lastNeed=0,this.lastTotal=0,this.lastChar=R.allocUnsafe(M)}function m(I){return 127>=I?0:I>>5==6?2:I>>4==14?3:I>>3==30?4:I>>6==2?-1:-2}function w(I,M,Q){var z=M.length-1;if(z<Q)return 0;var K=m(M[z]);return 0<=K?(0<K&&(I.lastNeed=K-1),K):--z<Q||K===-2?0:(K=m(M[z]),0<=K?(0<K&&(I.lastNeed=K-2),K):--z<Q||K===-2?0:(K=m(M[z]),0<=K?(0<K&&(K===2?K=0:I.lastNeed=K-3),K):0))}function b(I,M){if((192&M[0])!=128)return I.lastNeed=0,"";if(1<I.lastNeed&&1<M.length){if((192&M[1])!=128)return I.lastNeed=1,"";if(2<I.lastNeed&&2<M.length&&(192&M[2])!=128)return I.lastNeed=2,""}}function x(I){var M=this.lastTotal-this.lastNeed,Q=b(this,I);return Q===void 0?this.lastNeed<=I.length?(I.copy(this.lastChar,M,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(I.copy(this.lastChar,M,0,I.length),void(this.lastNeed-=I.length)):Q}function E(I,M){if((I.length-M)%2==0){var Q=I.toString("utf16le",M);if(Q){var z=Q.charCodeAt(Q.length-1);if(55296<=z&&56319>=z)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=I[I.length-2],this.lastChar[1]=I[I.length-1],Q.slice(0,-1)}return Q}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=I[I.length-1],I.toString("utf16le",M,I.length-1)}function C(I){var M=I&&I.length?this.write(I):"";if(this.lastNeed){var Q=this.lastTotal-this.lastNeed;return M+this.lastChar.toString("utf16le",0,Q)}return M}function P(I,M){var Q=(I.length-M)%3;return Q==0?I.toString("base64",M):(this.lastNeed=3-Q,this.lastTotal=3,Q==1?this.lastChar[0]=I[I.length-1]:(this.lastChar[0]=I[I.length-2],this.lastChar[1]=I[I.length-1]),I.toString("base64",M,I.length-Q))}function O(I){var M=I&&I.length?this.write(I):"";return this.lastNeed?M+this.lastChar.toString("base64",0,3-this.lastNeed):M}function S(I){return I.toString(this.encoding)}function j(I){return I&&I.length?this.write(I):""}var R=o("safe-buffer").Buffer,D=R.isEncoding||function(I){switch(I=""+I,I&&I.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};d.StringDecoder=y,y.prototype.write=function(I){if(I.length===0)return"";var M,Q;if(this.lastNeed){if(M=this.fillLast(I),M===void 0)return"";Q=this.lastNeed,this.lastNeed=0}else Q=0;return Q<I.length?M?M+this.text(I,Q):this.text(I,Q):M||""},y.prototype.end=function(I){var M=I&&I.length?this.write(I):"";return this.lastNeed?M+"":M},y.prototype.text=function(I,M){var Q=w(this,I,M);if(!this.lastNeed)return I.toString("utf8",M);this.lastTotal=Q;var z=I.length-(Q-this.lastNeed);return I.copy(this.lastChar,0,z),I.toString("utf8",M,z)},y.prototype.fillLast=function(I){return this.lastNeed<=I.length?(I.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(I.copy(this.lastChar,this.lastTotal-this.lastNeed,0,I.length),void(this.lastNeed-=I.length))}},{"safe-buffer":30}],32:[function(o,u){(function(d){(function(){function c(p){try{if(!d.localStorage)return!1}catch{return!1}var y=d.localStorage[p];return y!=null&&(y+"").toLowerCase()==="true"}u.exports=function(p,y){function m(){if(!w){if(c("throwDeprecation"))throw new Error(y);c("traceDeprecation")?console.trace(y):console.warn(y),w=!0}return p.apply(this,arguments)}if(c("noDeprecation"))return p;var w=!1;return m}}).call(this)}).call(this,typeof Ar>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Ar)},{}],"/":[function(o,u){function d(O){return O.replace(/a=ice-options:trickle\s\n/g,"")}function c(O){console.warn(O)}/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const p=o("debug")("simple-peer"),y=o("get-browser-rtc"),m=o("randombytes"),w=o("readable-stream"),b=o("queue-microtask"),x=o("err-code"),{Buffer:E}=o("buffer"),C=65536;class P extends w.Duplex{constructor(S){if(S=Object.assign({allowHalfOpen:!1},S),super(S),this._id=m(4).toString("hex").slice(0,7),this._debug("new peer %o",S),this.channelName=S.initiator?S.channelName||m(20).toString("hex"):null,this.initiator=S.initiator||!1,this.channelConfig=S.channelConfig||P.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},P.config,S.config),this.offerOptions=S.offerOptions||{},this.answerOptions=S.answerOptions||{},this.sdpTransform=S.sdpTransform||(j=>j),this.streams=S.streams||(S.stream?[S.stream]:[]),this.trickle=S.trickle===void 0||S.trickle,this.allowHalfTrickle=S.allowHalfTrickle!==void 0&&S.allowHalfTrickle,this.iceCompleteTimeout=S.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=S.wrtc&&typeof S.wrtc=="object"?S.wrtc:y(),!this._wrtc)throw x(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(j){return void this.destroy(x(j,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=j=>{this._onIceCandidate(j)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(j=>{this.destroy(x(j,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=j=>{this._setupData(j)},this.streams&&this.streams.forEach(j=>{this.addStream(j)}),this._pc.ontrack=j=>{this._onTrack(j)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(S){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof S=="string")try{S=JSON.parse(S)}catch{S={}}this._debug("signal()"),S.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),S.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(S.transceiverRequest.kind,S.transceiverRequest.init)),S.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(S.candidate):this._pendingCandidates.push(S.candidate)),S.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(S)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(j=>{this._addIceCandidate(j)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(j=>{this.destroy(x(j,"ERR_SET_REMOTE_DESCRIPTION"))}),S.sdp||S.candidate||S.renegotiate||S.transceiverRequest||this.destroy(x(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(S){const j=new this._wrtc.RTCIceCandidate(S);this._pc.addIceCandidate(j).catch(R=>{!j.address||j.address.endsWith(".local")?c("Ignoring unsupported ICE candidate."):this.destroy(x(R,"ERR_ADD_ICE_CANDIDATE"))})}send(S){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(S)}}addTransceiver(S,j){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(S,j),this._needsNegotiation()}catch(R){this.destroy(x(R,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:S,init:j}})}}addStream(S){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),S.getTracks().forEach(j=>{this.addTrack(j,S)})}}addTrack(S,j){if(this.destroying)return;if(this.destroyed)throw x(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const R=this._senderMap.get(S)||new Map;let D=R.get(j);if(!D)D=this._pc.addTrack(S,j),R.set(j,D),this._senderMap.set(S,R),this._needsNegotiation();else throw D.removed?x(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):x(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(S,j,R){if(this.destroying)return;if(this.destroyed)throw x(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const D=this._senderMap.get(S),I=D?D.get(R):null;if(!I)throw x(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");j&&this._senderMap.set(j,D),I.replaceTrack==null?this.destroy(x(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):I.replaceTrack(j)}removeTrack(S,j){if(this.destroying)return;if(this.destroyed)throw x(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const R=this._senderMap.get(S),D=R?R.get(j):null;if(!D)throw x(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{D.removed=!0,this._pc.removeTrack(D)}catch(I){I.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(D):this.destroy(x(I,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(S){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),S.getTracks().forEach(j=>{this.removeTrack(j,S)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,b(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(S){this._destroy(S,()=>{})}_destroy(S,j){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",S&&(S.message||S)),b(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",S&&(S.message||S)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,S&&this.emit("error",S),this.emit("close"),j()}))}_setupData(S){if(!S.channel)return this.destroy(x(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=S.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=C),this.channelName=this._channel.label,this._channel.onmessage=R=>{this._onChannelMessage(R)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=R=>{const D=R.error instanceof Error?R.error:new Error(`Datachannel error: ${R.message} ${R.filename}:${R.lineno}:${R.colno}`);this.destroy(x(D,"ERR_DATA_CHANNEL"))};let j=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(j&&this._onChannelClose(),j=!0):j=!1},5e3)}_read(){}_write(S,j,R){if(this.destroyed)return R(x(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(S)}catch(D){return this.destroy(x(D,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>C?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=R):R(null)}else this._debug("write before connect"),this._chunk=S,this._cb=R}_onFinish(){if(!this.destroyed){const S=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?S():this.once("connect",S)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(S=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(S.sdp=d(S.sdp)),S.sdp=this.sdpTransform(S.sdp);const j=()=>{if(!this.destroyed){const R=this._pc.localDescription||S;this._debug("signal"),this.emit("signal",{type:R.type,sdp:R.sdp})}};this._pc.setLocalDescription(S).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?j():this.once("_iceComplete",j))}).catch(R=>{this.destroy(x(R,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(S=>{this.destroy(x(S,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(S=>{S.mid||!S.sender.track||S.requested||(S.requested=!0,this.addTransceiver(S.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(S=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(S.sdp=d(S.sdp)),S.sdp=this.sdpTransform(S.sdp);const j=()=>{if(!this.destroyed){const R=this._pc.localDescription||S;this._debug("signal"),this.emit("signal",{type:R.type,sdp:R.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(S).then(()=>{this.destroyed||(this.trickle||this._iceComplete?j():this.once("_iceComplete",j))}).catch(R=>{this.destroy(x(R,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(S=>{this.destroy(x(S,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(x(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const S=this._pc.iceConnectionState,j=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",S,j),this.emit("iceStateChange",S,j),(S==="connected"||S==="completed")&&(this._pcReady=!0,this._maybeReady()),S==="failed"&&this.destroy(x(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),S==="closed"&&this.destroy(x(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(S){const j=R=>(Object.prototype.toString.call(R.values)==="[object Array]"&&R.values.forEach(D=>{Object.assign(R,D)}),R);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(R=>{const D=[];R.forEach(I=>{D.push(j(I))}),S(null,D)},R=>S(R)):0<this._pc.getStats.length?this._pc.getStats(R=>{if(this.destroyed)return;const D=[];R.result().forEach(I=>{const M={};I.names().forEach(Q=>{M[Q]=I.stat(Q)}),M.id=I.id,M.type=I.type,M.timestamp=I.timestamp,D.push(j(M))}),S(null,D)},R=>S(R)):S(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const S=()=>{this.destroyed||this.getStats((j,R)=>{if(this.destroyed)return;j&&(R=[]);const D={},I={},M={};let Q=!1;R.forEach(K=>{(K.type==="remotecandidate"||K.type==="remote-candidate")&&(D[K.id]=K),(K.type==="localcandidate"||K.type==="local-candidate")&&(I[K.id]=K),(K.type==="candidatepair"||K.type==="candidate-pair")&&(M[K.id]=K)});const z=K=>{Q=!0;let re=I[K.localCandidateId];re&&(re.ip||re.address)?(this.localAddress=re.ip||re.address,this.localPort=+re.port):re&&re.ipAddress?(this.localAddress=re.ipAddress,this.localPort=+re.portNumber):typeof K.googLocalAddress=="string"&&(re=K.googLocalAddress.split(":"),this.localAddress=re[0],this.localPort=+re[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let ue=D[K.remoteCandidateId];ue&&(ue.ip||ue.address)?(this.remoteAddress=ue.ip||ue.address,this.remotePort=+ue.port):ue&&ue.ipAddress?(this.remoteAddress=ue.ipAddress,this.remotePort=+ue.portNumber):typeof K.googRemoteAddress=="string"&&(ue=K.googRemoteAddress.split(":"),this.remoteAddress=ue[0],this.remotePort=+ue[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(R.forEach(K=>{K.type==="transport"&&K.selectedCandidatePairId&&z(M[K.selectedCandidatePairId]),(K.type==="googCandidatePair"&&K.googActiveConnection==="true"||(K.type==="candidatepair"||K.type==="candidate-pair")&&K.selected)&&z(K)}),!Q&&(!Object.keys(M).length||Object.keys(I).length))return void setTimeout(S,100);if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(re){return this.destroy(x(re,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const K=this._cb;this._cb=null,K(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};S()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>C)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(S=>{this._pc.removeTrack(S),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(S){this.destroyed||(S.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:S.candidate.candidate,sdpMLineIndex:S.candidate.sdpMLineIndex,sdpMid:S.candidate.sdpMid}}):!S.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),S.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(S){if(this.destroyed)return;let j=S.data;j instanceof ArrayBuffer&&(j=E.from(j)),this.push(j)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const S=this._cb;this._cb=null,S(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(S){this.destroyed||S.streams.forEach(j=>{this._debug("on track"),this.emit("track",S.track,j),this._remoteTracks.push({track:S.track,stream:j}),this._remoteStreams.some(R=>R.id===j.id)||(this._remoteStreams.push(j),b(()=>{this._debug("on stream"),this.emit("stream",j)}))})}_debug(){const S=[].slice.call(arguments);S[0]="["+this._id+"] "+S[0],p.apply(null,S)}}P.WEBRTC_SUPPORT=!!y(),P.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},P.channelConfig={},u.exports=P},{buffer:3,debug:4,"err-code":6,"get-browser-rtc":8,"queue-microtask":13,randombytes:14,"readable-stream":29}]},{},[])("/")})})(Gc)),Gc.exports}var cj=uj();const Fy=yl(cj),k_=F.createContext(null),dj=({children:t})=>{const[e,r]=F.useState("idle"),[i,a]=F.useState(!1),[o,u]=F.useState(null),[d,c]=F.useState(null),[p,y]=F.useState(null),[m,w]=F.useState(!1),[b,x]=F.useState(!0),[E,C]=F.useState(0),P=F.useRef(null),O=F.useRef(null),S=F.useRef(null),j=F.useRef(null),R=F.useRef(null),D=F.useRef(null),I=F.useCallback(()=>{const G=localStorage.getItem("yolmov_partner");if(G)try{const Z=JSON.parse(G),he=Z.id||Z.partner_id;return console.log(" [CallContext] getCurrentUser - Partner found:",he),{id:he,type:"partner",name:Z.company_name||Z.name,phone:Z.phone}}catch(Z){console.error(" [CallContext] Error parsing partner data:",Z)}const ce=localStorage.getItem("yolmov_customer");if(ce)try{const Z=JSON.parse(ce);return console.log(" [CallContext] getCurrentUser - Customer found:",Z.id),{id:Z.id,type:"customer",name:Z.name,phone:Z.phone}}catch(Z){console.error(" [CallContext] Error parsing customer data:",Z)}let ne=localStorage.getItem("yolmov_anonymous_caller_id");return ne||(ne="anon_"+crypto.randomUUID(),localStorage.setItem("yolmov_anonymous_caller_id",ne)),console.log(" [CallContext] getCurrentUser - Anonymous:",ne),{id:ne,type:"customer",name:"Anonim Arayan",isAnonymous:!0}},[]);F.useEffect(()=>{console.log(" [CallContext] Setting up realtime subscription (global channel)");const G=W.channel("calls_global_incoming").on("postgres_changes",{event:"INSERT",schema:"public",table:"calls"},async ce=>{const ne=ce.new,Z=I();if(!Z){console.log(" [CallContext] No user found, ignoring call");return}if(console.log(" [CallContext] New call detected:",ne.id,"receiver:",ne.receiver_id,"my id:",Z.id),ne.receiver_id!==Z.id){console.log(" [CallContext] Call not for me, ignoring");return}if(ne.status!=="ringing")return;console.log(" [CallContext] Incoming call FOR ME!",ne);let he=null;if(ne.caller_id.startsWith("anon_"))he={name:"Anonim Arayan",phone:null};else if(ne.caller_type==="customer"){const{data:_e}=await W.from("customers").select("id, first_name, last_name, phone").eq("id",ne.caller_id).single();_e&&(he={name:`${_e.first_name||""} ${_e.last_name||""}`.trim()||"Mteri",phone:_e.phone})}else if(ne.caller_type==="partner"){const{data:_e}=await W.from("partners").select("id, company_name, phone").eq("id",ne.caller_id).single();_e&&(he={name:_e.company_name,phone:_e.phone})}a(!0),r("ringing"),c(he),u({id:ne.id,callerId:ne.caller_id,callerName:(he==null?void 0:he.name)||"Arayan",callerPhone:he==null?void 0:he.phone,callerType:ne.caller_type,receiverId:ne.receiver_id,receiverType:ne.receiver_type,status:"ringing",startedAt:ne.started_at}),R.current=ne.id,M()}).subscribe(ce=>{console.log(" [CallContext] Realtime subscription status:",ce)});return()=>{W.removeChannel(G)}},[]),F.useEffect(()=>{if(e!=="calling")return;console.log(" [CallContext] Setting up SDP answer listener...");const G=W.channel("call_updates_global").on("postgres_changes",{event:"UPDATE",schema:"public",table:"calls"},ce=>{const ne=ce.new,Z=R.current;if(!Z||ne.id!==Z){console.log(` [CallContext] Update received for call ${ne.id}, but my call is ${Z} - ignoring`);return}if(console.log(" [CallContext]  My call updated:",ne.status,"has answer:",!!ne.sdp_answer),ne.status==="rejected"||ne.status==="missed"){ue(ne.status);return}if(ne.sdp_answer&&S.current){console.log(" [CallContext] Got SDP answer from partner, signaling peer...");try{!S.current.destroyed&&!S.current.connected?(S.current.signal(ne.sdp_answer),console.log(" [CallContext]  SDP answer signaled to peer!")):console.log(" [CallContext] Peer already connected or destroyed, skipping signal")}catch(he){console.error(" [CallContext]  Error signaling peer:",he)}}}).subscribe(ce=>{console.log(" [CallContext] SDP answer subscription status:",ce)});return()=>{console.log(" [CallContext] Removing SDP answer subscription"),W.removeChannel(G)}},[e]);const M=()=>{try{const G=new Audio("/sounds/ringtone.mp3");G.loop=!0,G.play().catch(()=>{}),window.__yolmov_ringtone=G}catch{}},Q=()=>{try{const G=window.__yolmov_ringtone;G&&(G.pause(),G.currentTime=0,delete window.__yolmov_ringtone)}catch{}},z=()=>{C(0),D.current=setInterval(()=>{C(G=>G+1)},1e3)},K=()=>{D.current&&(clearInterval(D.current),D.current=null)},re=()=>{S.current&&(S.current.destroy(),S.current=null),j.current&&(j.current.getTracks().forEach(G=>G.stop()),j.current=null),Q(),K(),r("idle"),a(!1),u(null),c(null),y(null),w(!1),C(0),R.current=null},ue=G=>{console.log(" [CallContext] Call ended:",G),re(),r("ended"),setTimeout(()=>{r("idle")},2e3)},xe=async(G,ce="partner")=>{const ne=I();try{r("calling"),y(null),console.log(" [CallContext] Starting call to:",G);const Z=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1});j.current=Z,P.current&&(P.current.srcObject=Z,P.current.muted=!0);const he=new Fy({initiator:!0,trickle:!1,stream:Z,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]}});S.current=he,he.on("signal",async _e=>{console.log(" [CallContext] Got SDP offer, saving to DB...");const{data:Me,error:Fe}=await W.from("calls").insert({caller_id:ne.id,caller_type:ne.type,receiver_id:G,receiver_type:ce,status:"ringing",sdp_offer:_e}).select().single();if(Fe){console.error(" [CallContext] Error creating call:",Fe),y("Arama balatlamad"),re();return}if(R.current=Me.id,u({id:Me.id,callerId:ne.id,callerName:ne.name,callerType:ne.type,receiverId:G,receiverType:ce,status:"calling",startedAt:Me.started_at}),ce==="partner"){console.log(" [CallContext] Sending push notification to partner:",G);try{await fetch("/api/send-call-notification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({partnerId:G,callerName:ne.name||"Mteri",callerPhone:ne.phone||"",callId:Me.id})}),console.log(" [CallContext] Push notification sent")}catch(We){console.warn(" [CallContext] Push notification failed:",We)}}}),he.on("connect",()=>{console.log(" [CallContext] Peer connected!"),r("connected"),z(),R.current&&W.from("calls").update({status:"connected",connected_at:new Date().toISOString()}).eq("id",R.current).then(()=>{})}),he.on("stream",_e=>{console.log(" [CallContext] Got remote stream"),O.current&&(O.current.srcObject=_e,O.current.play().catch(()=>{}))}),he.on("error",_e=>{console.error(" [CallContext] Peer error:",_e),y("Balant hatas"),ue("error")}),he.on("close",()=>{console.log(" [CallContext] Peer closed"),ue("peer_closed")}),setTimeout(()=>{e==="calling"&&R.current&&(console.log(" [CallContext] Call timeout - no answer"),W.from("calls").update({status:"missed",ended_at:new Date().toISOString()}).eq("id",R.current).then(()=>{}),ue("timeout"))},3e4)}catch(Z){console.error(" [CallContext] Error starting call:",Z),y(Z.message||"Mikrofon eriimi reddedildi"),re()}},Pe=async()=>{if(!R.current||!o){y("Geersiz arama");return}const G=I();if((G==null?void 0:G.type)==="partner"&&!G.isAnonymous)try{const{data:ce}=await W.from("partner_credits").select("balance").eq("partner_id",G.id).maybeSingle(),ne=(ce==null?void 0:ce.balance)||0;if(ne<1){y("Yetersiz kredi! Aramay cevaplayabilmek iin en az 1 krediniz olmal."),await W.from("calls").update({status:"rejected",ended_at:new Date().toISOString(),end_reason:"insufficient_credits"}).eq("id",R.current),re();return}console.log(" [CallContext] Partner has",ne,"credits, deducting 1...");const{error:Z}=await W.from("partner_credits").update({balance:ne-1,updated_at:new Date().toISOString()}).eq("partner_id",G.id);if(Z)console.error(" [CallContext] Credit deduction failed:",Z);else{console.log(" [CallContext] Credit deducted! New balance:",ne-1);const{data:he}=await W.from("partners").select("company_name").eq("id",G.id).single(),{error:_e}=await W.from("credit_transactions").insert({partner_id:G.id,partner_name:(he==null?void 0:he.company_name)||"Partner",amount:-1,type:"usage",balance_before:ne,balance_after:ne-1,description:`Gelen arama cevaplanp - Arayan: ${(d==null?void 0:d.name)||"Anonim"}`});_e?console.error(" [CallContext] Credit transaction log failed:",_e):console.log(" [CallContext] Credit transaction logged")}}catch(ce){console.error(" [CallContext] Credit check error:",ce)}try{Q(),a(!1),r("connected"),console.log(" [CallContext] Answering call:",R.current);const ce=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1});j.current=ce,P.current&&(P.current.srcObject=ce,P.current.muted=!0);const{data:ne,error:Z}=await W.from("calls").select("*").eq("id",R.current).single();if(Z||!(ne!=null&&ne.sdp_offer)){y("Arama verisi alnamad"),re();return}const he=new Fy({initiator:!1,trickle:!1,stream:ce,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]}});S.current=he,he.on("signal",async _e=>{console.log(" [CallContext] Got SDP answer, saving to DB..."),await W.from("calls").update({sdp_answer:_e,status:"connected",connected_at:new Date().toISOString()}).eq("id",R.current)}),he.on("connect",()=>{console.log(" [CallContext] Peer connected!"),z()}),he.on("stream",_e=>{console.log(" [CallContext] Got remote stream"),O.current&&(O.current.srcObject=_e,O.current.play().catch(()=>{}))}),he.on("error",_e=>{console.error(" [CallContext] Peer error:",_e),y("Balant hatas"),ue("error")}),he.on("close",()=>{console.log(" [CallContext] Peer closed"),ue("peer_closed")}),he.signal(ne.sdp_offer)}catch(ce){console.error(" [CallContext] Error answering call:",ce),y(ce.message||"Mikrofon eriimi reddedildi"),re()}},je=async G=>{console.log(" [CallContext] answerCallById:",G),R.current=G;const{data:ce,error:ne}=await W.from("calls").select("*").eq("id",G).single();if(ne||!ce){console.error(" [CallContext] Call not found:",ne),y("Arama bulunamad");return}c({name:"Arayan",phone:null}),u({id:ce.id,callerId:ce.caller_id,callerName:"Arayan",callerType:ce.caller_type,receiverId:ce.receiver_id,receiverType:ce.receiver_type,status:"ringing",startedAt:ce.started_at}),await Pe()},ke=async G=>{console.log(" [CallContext] rejectCallById:",G),await W.from("calls").update({status:"rejected",ended_at:new Date().toISOString(),end_reason:"receiver_rejected"}).eq("id",G),re()},oe=async()=>{R.current&&(console.log(" [CallContext] Rejecting call:",R.current),Q(),await W.from("calls").update({status:"rejected",ended_at:new Date().toISOString(),end_reason:"receiver_rejected"}).eq("id",R.current),re())},se=async()=>{if(!R.current){re();return}const G=I();console.log(" [CallContext] Ending call:",R.current),await W.from("calls").update({status:"ended",ended_at:new Date().toISOString(),end_reason:(G==null?void 0:G.type)==="customer"?"caller_ended":"receiver_ended",duration_seconds:E}).eq("id",R.current),ue("user_ended")},me=()=>{if(j.current){const G=j.current.getAudioTracks()[0];G&&(G.enabled=!G.enabled,w(!G.enabled))}},V=()=>{O.current&&(O.current.muted=b,x(!b))};return v.jsxs(k_.Provider,{value:{callStatus:e,isIncoming:i,currentCall:o,callerInfo:d,error:p,startCall:xe,answerCall:Pe,answerCallById:je,rejectCall:oe,rejectCallById:ke,endCall:se,isMuted:m,toggleMute:me,isSpeakerOn:b,toggleSpeaker:V,callDuration:E,localAudioRef:P,remoteAudioRef:O},children:[t,v.jsx("audio",{ref:P,autoPlay:!0,muted:!0,playsInline:!0,style:{display:"none"}}),v.jsx("audio",{ref:O,autoPlay:!0,playsInline:!0,style:{display:"none"}})]})},jl=()=>{const t=F.useContext(k_);if(!t)throw new Error("useCall must be used within a CallProvider");return t},hj=async()=>{try{const t=document.documentElement;t.requestFullscreen?await t.requestFullscreen():t.webkitRequestFullscreen?await t.webkitRequestFullscreen():t.msRequestFullscreen&&await t.msRequestFullscreen()}catch{console.log("Fullscreen not supported or denied")}},fj=async()=>{try{document.fullscreenElement?await document.exitFullscreen():document.webkitFullscreenElement?await document.webkitExitFullscreen():document.msFullscreenElement&&await document.msExitFullscreen()}catch{console.log("Exit fullscreen failed")}},pj=()=>{const{isIncoming:t,callStatus:e,callerInfo:r,answerCall:i,rejectCall:a,error:o}=jl();if(console.log(" [IncomingCallModal] isIncoming:",t,"callStatus:",e,"callerInfo:",r),F.useEffect(()=>{t&&e==="ringing"&&hj()},[t,e]),!t||e!=="ringing")return null;const u=(r==null?void 0:r.name)||(r==null?void 0:r.company_name)||"Mteri",d=(r==null?void 0:r.phone)||"",c=async()=>{await fj(),a()},p=async()=>{i()};return v.jsx(Rr,{children:v.jsxs(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 flex flex-col items-center justify-between py-12 px-6",children:[v.jsx("div",{className:"flex flex-col items-center",children:v.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white/10 rounded-full backdrop-blur-sm",children:[v.jsx(ra,{size:14,className:"text-green-400"}),v.jsx("span",{className:"text-white/80 text-sm font-medium",children:"Yolmov Voice"})]})}),v.jsxs("div",{className:"flex flex-col items-center text-center",children:[v.jsxs(De.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"relative mb-8",children:[v.jsx("div",{className:"absolute inset-0 w-36 h-36 rounded-full bg-green-500/20 animate-ping"}),v.jsx("div",{className:"absolute inset-2 w-32 h-32 rounded-full bg-green-500/30 animate-pulse"}),v.jsx("div",{className:"relative w-32 h-32 rounded-full bg-gradient-to-br from-slate-600 to-slate-700 flex items-center justify-center text-white shadow-2xl border-4 border-white/10",children:v.jsx(Kd,{size:56,strokeWidth:1.5})})]}),v.jsx(De.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl font-bold text-white mb-2",children:u}),d&&v.jsx(De.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-lg text-white/60 mb-4",children:d}),v.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex items-center gap-2 px-4 py-2 bg-orange-500/20 rounded-full",children:[v.jsx(wl,{size:16,className:"text-orange-400"}),v.jsx("span",{className:"text-orange-300 text-sm font-medium",children:"Yol Yardm Talebi"})]}),v.jsx(De.p,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},className:"text-white/50 text-lg mt-8",children:"Mteri aryor..."}),v.jsxs(De.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-4 flex items-center gap-2 px-4 py-2 bg-yellow-500/20 rounded-full",children:[v.jsx(ek,{size:14,className:"text-yellow-400"}),v.jsx("span",{className:"text-yellow-300 text-xs font-medium",children:"Cevaplamak 1 kredi harcar"})]})]}),v.jsxs(De.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.5},className:"flex items-center justify-center gap-12",children:[v.jsxs("button",{onClick:c,className:"group flex flex-col items-center gap-3",children:[v.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500 flex items-center justify-center shadow-lg shadow-red-500/30 transition-transform group-hover:scale-110 group-active:scale-95",children:v.jsx(Xo,{size:28,className:"text-white"})}),v.jsx("span",{className:"text-white/60 text-sm font-medium",children:"Reddet"})]}),v.jsxs("button",{onClick:p,className:"group flex flex-col items-center gap-3",children:[v.jsx(De.div,{animate:{scale:[1,1.15,1]},transition:{duration:1,repeat:1/0},className:"w-20 h-20 rounded-full bg-green-500 flex items-center justify-center shadow-lg shadow-green-500/30 transition-transform group-hover:scale-110 group-active:scale-95",children:v.jsx(ra,{size:36,className:"text-white"})}),v.jsx("span",{className:"text-white/60 text-sm font-medium",children:"Cevapla"})]})]})]})})},$y=async()=>{try{document.fullscreenElement?await document.exitFullscreen():document.webkitFullscreenElement?await document.webkitExitFullscreen():document.msFullscreenElement&&await document.msExitFullscreen()}catch{console.log("Exit fullscreen failed")}},mj=({minimized:t=!1,onMinimize:e,onMaximize:r})=>{const{callStatus:i,currentCall:a,callerInfo:o,endCall:u,isMuted:d,toggleMute:c,isSpeakerOn:p,toggleSpeaker:y,callDuration:m}=jl();if(F.useEffect(()=>{(i==="ended"||i==="idle")&&$y()},[i]),i!=="connected")return null;const w=E=>{const C=Math.floor(E/60),P=E%60;return`${C.toString().padStart(2,"0")}:${P.toString().padStart(2,"0")}`},b=async()=>{await $y(),u()},x=(o==null?void 0:o.name)||(o==null?void 0:o.company_name)||(a==null?void 0:a.callerName)||"Grme";return t?v.jsx(De.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},onClick:r,className:"fixed bottom-20 left-4 right-4 z-[9998] bg-green-600 rounded-2xl p-4 shadow-2xl cursor-pointer",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:v.jsx(ra,{size:20,className:"text-white"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-white font-bold text-sm",children:x}),v.jsxs("p",{className:"text-white/70 text-xs flex items-center gap-1",children:[v.jsx(td,{size:12}),w(m)]})]})]}),v.jsx("button",{onClick:E=>{E.stopPropagation(),b()},className:"w-10 h-10 rounded-full bg-red-500 flex items-center justify-center",children:v.jsx(Xo,{size:18,className:"text-white"})})]})}):v.jsx(Rr,{children:v.jsxs(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] bg-gradient-to-b from-green-900 via-green-800 to-slate-900 flex flex-col items-center justify-between py-12 px-6",children:[v.jsxs("div",{className:"w-full flex items-center justify-between",children:[v.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-colors",children:v.jsx(ak,{size:20,className:"text-white"})}),v.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-green-500/30 rounded-full",children:[v.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),v.jsx("span",{className:"text-green-300 text-sm font-medium",children:"Grme Devam Ediyor"})]}),v.jsx("div",{className:"w-10"})," "]}),v.jsxs("div",{className:"flex flex-col items-center text-center",children:[v.jsxs("div",{className:"relative mb-6",children:[v.jsx(De.div,{animate:{scale:[1,1.2,1],opacity:[.3,.1,.3]},transition:{duration:1.5,repeat:1/0},className:"absolute inset-0 w-32 h-32 rounded-full bg-green-400"}),v.jsx("div",{className:"relative w-32 h-32 rounded-full bg-gradient-to-br from-green-600 to-green-700 flex items-center justify-center text-white shadow-2xl border-4 border-green-400/30",children:v.jsx(Kd,{size:56,strokeWidth:1.5})})]}),v.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:x}),v.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-xl",children:[v.jsx(td,{size:20}),v.jsx("span",{className:"font-mono",children:w(m)})]})]}),v.jsxs("div",{className:"flex flex-col items-center gap-8",children:[v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsx("button",{onClick:c,className:`w-14 h-14 rounded-full flex items-center justify-center transition-all ${d?"bg-red-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:d?v.jsx(ik,{size:24}):v.jsx(sk,{size:24})}),v.jsx("button",{onClick:y,className:`w-14 h-14 rounded-full flex items-center justify-center transition-all ${p?"bg-white/10 text-white hover:bg-white/20":"bg-red-500 text-white"}`,children:p?v.jsx(hk,{size:24}):v.jsx(fk,{size:24})})]}),v.jsx("button",{onClick:b,className:"w-20 h-20 rounded-full bg-red-500 flex items-center justify-center shadow-lg shadow-red-500/30 hover:bg-red-600 transition-colors active:scale-95",children:v.jsx(Xo,{size:32,className:"text-white"})}),v.jsx("span",{className:"text-white/50 text-sm",children:"Grmeyi Sonlandr"})]})]})})},gj=async t=>{if(t)try{t.requestFullscreen?await t.requestFullscreen():t.webkitRequestFullscreen?await t.webkitRequestFullscreen():t.msRequestFullscreen&&await t.msRequestFullscreen()}catch{console.log("Fullscreen not supported or denied")}},Vy=async()=>{try{document.fullscreenElement?await document.exitFullscreen():document.webkitFullscreenElement?await document.webkitExitFullscreen():document.msFullscreenElement&&await document.msExitFullscreen()}catch{console.log("Exit fullscreen failed")}},yj=()=>{const{callStatus:t,currentCall:e,endCall:r,error:i,isIncoming:a}=jl(),[o,u]=F.useState(""),d=F.useRef(null);if(F.useEffect(()=>(t==="calling"&&!a&&gj(document.documentElement),()=>{t!=="calling"&&t!=="connected"&&Vy()}),[t,a]),F.useEffect(()=>{if(t==="calling"){const p=setInterval(()=>{u(y=>y.length>=3?"":y+".")},500);return()=>clearInterval(p)}},[t]),t!=="calling"||a)return null;const c=async()=>{await Vy(),r()};return v.jsx(Rr,{children:v.jsxs(De.div,{ref:d,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] bg-gradient-to-b from-orange-900 via-orange-800 to-slate-900 flex flex-col items-center justify-between py-12 px-6",children:[v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white/10 rounded-full backdrop-blur-sm",children:[v.jsx(ra,{size:14,className:"text-orange-400"}),v.jsx("span",{className:"text-white/80 text-sm font-medium",children:"Yolmov Voice"})]}),i&&v.jsx(De.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-4 px-4 py-2 bg-red-500/20 rounded-lg",children:v.jsx("span",{className:"text-red-300 text-sm",children:i})})]}),v.jsxs("div",{className:"flex flex-col items-center text-center",children:[v.jsxs(De.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},className:"relative mb-8",children:[v.jsx(De.div,{animate:{scale:[1,1.5],opacity:[.5,0]},transition:{duration:1.5,repeat:1/0},className:"absolute inset-0 w-32 h-32 rounded-full bg-orange-500"}),v.jsx(De.div,{animate:{scale:[1,1.3],opacity:[.3,0]},transition:{duration:1.5,repeat:1/0,delay:.5},className:"absolute inset-0 w-32 h-32 rounded-full bg-orange-400"}),v.jsx("div",{className:"relative w-32 h-32 rounded-full bg-gradient-to-br from-orange-600 to-orange-700 flex items-center justify-center text-white shadow-2xl border-4 border-white/10",children:v.jsx(Kd,{size:56,strokeWidth:1.5})})]}),v.jsx(De.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl font-bold text-white mb-2",children:(e==null?void 0:e.receiverName)||"Partner"}),v.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex items-center gap-3 mt-4",children:[v.jsx(dv,{size:20,className:"text-orange-400 animate-spin"}),v.jsxs("span",{className:"text-white/70 text-lg",children:["Aranyor",o]})]}),v.jsx(De.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-white/40 text-sm mt-8 max-w-xs",children:"Partner cevapladnda grme balayacak"})]}),v.jsxs(De.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex flex-col items-center gap-4",children:[v.jsx("button",{onClick:c,className:"group w-20 h-20 rounded-full bg-red-500 flex items-center justify-center shadow-lg shadow-red-500/30 hover:bg-red-600 transition-all active:scale-95",children:v.jsx(Xo,{size:32,className:"text-white"})}),v.jsx("span",{className:"text-white/50 text-sm",children:"Aramay ptal Et"})]})]})})},vj=({onClick:t})=>{const{callStatus:e,isIncoming:r,currentCall:i,endCall:a,callDuration:o}=jl();if(e==="idle"||e==="ended")return null;const u=y=>{const m=Math.floor(y/60),w=y%60;return`${m.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}`},c=r&&e==="ringing"?{bg:"bg-blue-500",icon:lk,text:"Gelen Arama",animate:!0}:e==="calling"?{bg:"bg-yellow-500",icon:ra,text:"Aranyor...",animate:!0}:e==="connected"?{bg:"bg-green-500",icon:hv,text:u(o),animate:!1}:null;if(!c)return null;const p=c.icon;return v.jsxs(De.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},onClick:t,className:`
        fixed top-4 left-1/2 -translate-x-1/2 z-[9990]
        ${c.bg} rounded-full px-4 py-2 shadow-lg cursor-pointer
        flex items-center gap-2
      `,children:[v.jsx(De.div,{animate:c.animate?{scale:[1,1.2,1]}:{},transition:{duration:1,repeat:1/0},children:v.jsx(p,{size:18,className:"text-white"})}),v.jsx("span",{className:"text-white font-medium text-sm",children:c.text}),e==="connected"&&v.jsx("button",{onClick:y=>{y.stopPropagation(),a()},className:"ml-1 w-6 h-6 rounded-full bg-red-500 flex items-center justify-center hover:bg-red-600 transition-colors",children:v.jsx(na,{size:14,className:"text-white"})})]})},wj=Le.lazy(()=>Be(()=>import("./AboutPage-B5Za9Cxf.js"),__vite__mapDeps([0,1,2,3,4,5]))),_j=Le.lazy(()=>Be(()=>import("./ServicesPage-Dmj_RRFr.js"),__vite__mapDeps([6,7,4,8]))),bj=Le.lazy(()=>Be(()=>import("./FAQPage-DAa8em29.js"),__vite__mapDeps([9,10]))),xj=Le.lazy(()=>Be(()=>import("./ContactPage-DxMHdEd2.js"),__vite__mapDeps([11,12,13]))),kj=Le.lazy(()=>Be(()=>import("./CareerPage-Uk7MrvOW.js"),__vite__mapDeps([14,5,3,2,15,13]))),Sj=Le.lazy(()=>Be(()=>import("./BlogPage-CuzoZbFL.js"),__vite__mapDeps([16,17,18]))),Ej=Le.lazy(()=>Be(()=>import("./CampaignsPage-D35y4-4V.js"),__vite__mapDeps([19,20,21,22,17]))),Cj=Le.lazy(()=>Be(()=>import("./CampaignDetailPage-DCXiXvHA.js"),__vite__mapDeps([23,21,20,22,24,17]))),Ky=Le.lazy(()=>Be(()=>import("./LoginPage-CNz23wuJ.js"),__vite__mapDeps([25,26,27,28,29,30]))),Tj=Le.lazy(()=>Be(()=>import("./AuthRequiredPage-DjihHlB2.js"),__vite__mapDeps([31,28,32]))),Aj=Le.lazy(()=>Be(()=>import("./PartnerRegisterPage-7fCD2rzM.js"),__vite__mapDeps([33,34,35,36,28,37,5,38]))),Pj=Le.lazy(()=>Be(()=>import("./PartnerDashboard-B9Fls2Qb.js"),__vite__mapDeps([39,40,24,8,41,5,42,43,30,34,44,37,45,46,47,48,49,17,22,50,51,38,52,27,4,2,53,54,13,55,56,57,58,28,59]))),jj=Le.lazy(()=>Be(()=>import("./CustomerProfilePage-ChVFzlHh.js"),__vite__mapDeps([60,26,36,57,61,3,28,48,27,47,37,58,30,46,29]))),Rj=Le.lazy(()=>Be(()=>import("./OffersPanel-B7XEx-vw.js"),__vite__mapDeps([62,20,63,27,30,37,8]))),Oj=Le.lazy(()=>Be(()=>import("./QuotePage-CXMitT5q.js"),__vite__mapDeps([64,34,44,37,45,46,65,20,38,66]))),Nj=Le.lazy(()=>Be(()=>import("./ListingPage-BHt0x2Oz.js"),__vite__mapDeps([67,55,37,27,59,17]))),Ij=Le.lazy(()=>Be(()=>import("./ProviderDetailPage-CqG8E-yp.js"),__vite__mapDeps([68,46,20,27,37,42,38,53]))),qy=Le.lazy(()=>Be(()=>import("./AdminLoginPage-DrmPcA33.js"),__vite__mapDeps([69,4,46,36,28,29,30]))),Wy=Le.lazy(()=>Be(()=>import("./AdminSignupPage-h6yu5abX.js"),__vite__mapDeps([70,37,36,28]))),Xe=Le.lazy(()=>Be(()=>import("./AdminDashboard-CTJLgA-3.js").then(t=>t.a),__vite__mapDeps([71,66,18,51,42,27,57,40,17,8,24,72,4,32,30,73,47,36]))),Dj=Le.lazy(()=>Be(()=>import("./AdminSystemLogs-BBYQNPsT.js"),__vite__mapDeps([74,40,17,24,4,30,48,73,47])));Le.lazy(()=>Be(()=>import("./AdminUserDetailPage-Dbkekn-i.js"),__vite__mapDeps([75,20,36,17,61,8,27])));Le.lazy(()=>Be(()=>import("./AdminPartnerDetailPage-AovzbDiT.js"),__vite__mapDeps([76,20,27,24,8,42,36,17])));Le.lazy(()=>Be(()=>import("./AdminRequestDetailPage-BK6vIPId.js"),__vite__mapDeps([77,20,24,61,17,8])));Le.lazy(()=>Be(()=>import("./AdminOfferDetailPage-Cv_Jw1V0.js"),__vite__mapDeps([78,20,24,13,17])));Le.lazy(()=>Be(()=>import("./AdminFleetDetailPage-Doifu1cl.js"),__vite__mapDeps([79,72,20,17,30,24,8])));Le.lazy(()=>Be(()=>import("./AdminReviewDetailPage-B_E-DT1G.js"),__vite__mapDeps([80,20,49,30,29,27,24])));Le.lazy(()=>Be(()=>import("./AdminLeadRequestDetailPage-LyScPaFx.js"),__vite__mapDeps([81,20,42,17,24])));Le.lazy(()=>Be(()=>import("./AdminAreaRequestDetailPage-C-otPbzD.js"),__vite__mapDeps([82,20,56,17,24])));Le.lazy(()=>Be(()=>import("./AdminSupportRequestDetailPage-Dsuk-NDf.js"),__vite__mapDeps([83,20,40,24,17])));const Lj=Le.lazy(()=>Be(()=>import("./NotificationTestPage-BBGaCdpT.js"),__vite__mapDeps([84,46,13]))),Mj=Le.lazy(()=>Be(()=>import("./EmailConfirmationPage-B4A3cni9.js"),__vite__mapDeps([85,37]))),zj=Le.lazy(()=>Be(()=>import("./PrivacyPolicyPage-CFnmewII.js"),__vite__mapDeps([86,20,4]))),Bj=Le.lazy(()=>Be(()=>import("./TermsOfServicePage-BUNuUzQy.js"),__vite__mapDeps([87,20,40]))),Uj=Le.lazy(()=>Be(()=>import("./NotFoundPage-ncUWmiyj.js"),__vite__mapDeps([88,46]))),Fj=Le.lazy(()=>Be(()=>import("./SEOServicePage-B-J_51fW.js"),__vite__mapDeps([89,90,46,24,91,4,27,92,10,5,12]))),$j=Le.lazy(()=>Be(()=>import("./SEOStatsPage-DDlqQnJC.js"),__vite__mapDeps([93,91,15,5]))),Vj=Le.lazy(()=>Be(()=>import("./SEOBrandPage-CETKMcum.js"),__vite__mapDeps([94,91,90,46,24,2,38,4,7,27,92,10,5]))),Kj=Le.lazy(()=>Be(()=>import("./PartnerSEOPage-Bx6fB5j8.js"),__vite__mapDeps([95,91,8,1,5,92,38,42,40,24,27,2]))),qj=Le.lazy(()=>Be(()=>import("./PriceCalculatorWizard-CCUvtjaC.js"),__vite__mapDeps([96,97,92,37,65,45,5]))),Wj=Le.lazy(()=>Be(()=>import("./PasswordSetupPage-BRjk9zPt.js"),__vite__mapDeps([98,28]))),Gj=Le.lazy(()=>Be(()=>import("./PartnerReviewPendingPage-D6xjbVfk.js"),__vite__mapDeps([99,4,36]))),Hj=Le.lazy(()=>Be(()=>import("./SpecialVehiclePage-D35TGqOL.js"),__vite__mapDeps([100,90,46,24,4,27,61,10]))),Yj=Le.lazy(()=>Be(()=>import("./OnDutyPage-BMjxDUqr.js"),__vite__mapDeps([101,90,46,24,38,4,27,10]))),Jj=Le.lazy(()=>Be(()=>import("./IntercityPage-CsEyNeKP.js"),__vite__mapDeps([102,90,46,24,55,4,92,59,27,10]))),Qj=Le.lazy(()=>Be(()=>import("./SpecialLocationPage-DT9pZEL9.js"),__vite__mapDeps([103,90,46,24,4,10]))),Xj=Le.lazy(()=>Be(()=>import("./PricingPage-CGer_9C1.js"),__vite__mapDeps([104,90,46,24,92,45,5,27,10]))),Zj=()=>v.jsx("div",{className:"flex items-center justify-center h-screen",children:v.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-brand-orange"})}),eR=()=>{const t=ii(),e=(r,i,a)=>{t(`/liste?city=${encodeURIComponent(r)}&district=${encodeURIComponent(i)}&serviceId=${encodeURIComponent(a)}&fromHero=1`)};return v.jsxs(v.Fragment,{children:[v.jsx(rj,{onSearch:e}),v.jsx(nj,{}),v.jsx(ij,{}),v.jsx(sj,{}),v.jsx(aj,{})]})},tR=({children:t})=>{const e=Qr(),r=["/partner","/admin","/admin/giris","/admin/sistem-loglari"].some(i=>e.pathname===i||e.pathname.startsWith(i+"/"));return F.useEffect(()=>{window.scrollTo(0,0)},[e.pathname]),v.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 font-sans text-brand-dark selection:bg-brand-orange selection:text-white",children:[!r&&v.jsx(XP,{}),v.jsx("main",{className:"flex-grow",children:t}),!r&&v.jsx(oj,{}),v.jsx(lj,{})]})};function rR(){const[t,e]=F.useState(!1);return v.jsxs(N1,{children:[v.jsx(dj,{children:v.jsxs(By,{children:[v.jsx(tR,{children:v.jsx(F.Suspense,{fallback:v.jsx(Zj,{}),children:v.jsx(By,{children:v.jsxs(E1,{children:[v.jsx(ge,{path:"/",element:v.jsx(eR,{})}),v.jsx(ge,{path:"/hakkimizda",element:v.jsx(wj,{})}),v.jsx(ge,{path:"/hizmetler",element:v.jsx(_j,{})}),v.jsx(ge,{path:"/sss",element:v.jsx(bj,{})}),v.jsx(ge,{path:"/iletisim",element:v.jsx(xj,{})}),v.jsx(ge,{path:"/kariyer",element:v.jsx(kj,{})}),v.jsx(ge,{path:"/blog",element:v.jsx(Sj,{})}),v.jsx(ge,{path:"/kampanyalar",element:v.jsx(Ej,{})}),v.jsx(ge,{path:"/kampanya/:id",element:v.jsx(Cj,{})}),v.jsx(ge,{path:"/giris-gerekli",element:v.jsx(Tj,{})}),v.jsx(ge,{path:"/giris/musteri",element:v.jsx(Ky,{userType:"customer"})}),v.jsx(ge,{path:"/giris/partner",element:v.jsx(Ky,{userType:"partner"})}),v.jsx(ge,{path:"/partner/kayit",element:v.jsx(Aj,{})}),v.jsx(ge,{path:"/email-dogrulama",element:v.jsx(Mj,{})}),v.jsx(ge,{path:"/partner",element:v.jsx(Pj,{})}),v.jsx(ge,{path:"/partner/inceleniyor",element:v.jsx(Gj,{})}),v.jsx(ge,{path:"/sifre-olustur",element:v.jsx(Wj,{})}),v.jsx(ge,{path:"/musteri/profil",element:v.jsx($o,{children:v.jsx(jj,{})})}),v.jsx(ge,{path:"/musteri/teklifler",element:v.jsx($o,{children:v.jsx(Rj,{})})}),v.jsx(ge,{path:"/liste",element:v.jsx(Nj,{})}),v.jsx(ge,{path:"/hizmet/:id",element:v.jsx(Ij,{})}),v.jsx(ge,{path:"/teklif",element:v.jsx($o,{children:v.jsx(Oj,{})})}),v.jsx(ge,{path:"/fiyat-hesapla",element:v.jsx($o,{children:v.jsx(qj,{})})}),v.jsx(ge,{path:"/admin/giris",element:v.jsx(qy,{})}),v.jsx(ge,{path:"/admin/kayit",element:v.jsx(Wy,{})}),v.jsx(ge,{path:"/operasyon/kayit",element:v.jsx(Wy,{})}),v.jsx(ge,{path:"/admin",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/kullanicilar",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/kullanicilar/:id",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/partnerler",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/partnerler/:id",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/partner-onay",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/talepler",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/musteri-talepleri",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/musteri-talepleri/:id",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/teklifler",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/teklifler/:id",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/raporlar",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/belgeler",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/filo",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/filo/:vehicleId",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/degerlendirmeler",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/degerlendirmeler/:id",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/finansal",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/krediler",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/is-gecmisi",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/admin-kullanicilari",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/partner-vitrin",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/hizmet-bolgeleri",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/kampanyalar",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/canli-gorusmeler",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/cagri-kayitlari",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/talepler/lead/:id",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/talepler/alan/:id",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/talepler/destek/:id",element:v.jsx(Xe,{})}),v.jsx(ge,{path:"/admin/sistem-loglari",element:v.jsx(Dj,{})}),v.jsx(ge,{path:"/bildirim-test",element:v.jsx(Lj,{})}),v.jsx(ge,{path:"/seo-istatistikler",element:v.jsx($j,{})}),v.jsx(ge,{path:"/gizlilik-politikasi",element:v.jsx(zj,{})}),v.jsx(ge,{path:"/kullanim-kosullari",element:v.jsx(Bj,{})}),v.jsx(ge,{path:"/operasyon",element:v.jsx(qy,{})}),v.jsx(ge,{path:"/partner-ol/:service/:city/:district",element:v.jsx(Kj,{})}),v.jsx(ge,{path:"/tasima/:vehicleType/:city/:district",element:v.jsx(Hj,{})}),v.jsx(ge,{path:"/nobetci/:service/:city/:district",element:v.jsx(Yj,{})}),v.jsx(ge,{path:"/sehirlerarasi/:from/:to",element:v.jsx(Jj,{})}),v.jsx(ge,{path:"/lokasyon/:slug",element:v.jsx(Qj,{})}),v.jsx(ge,{path:"/fiyat/:service/:city",element:v.jsx(Xj,{})}),v.jsx(ge,{path:"/:service/:city/:district",element:v.jsx(Fj,{})}),v.jsx(ge,{path:"/marka/:brandSlug",element:v.jsx(Vj,{})}),v.jsx(ge,{path:"*",element:v.jsx(Uj,{})})]})})})}),v.jsx(pj,{}),v.jsx(yj,{}),v.jsx(mj,{minimized:t,onMinimize:()=>e(!0),onMaximize:()=>e(!1)}),v.jsx(vj,{onClick:()=>e(!1)})]})}),v.jsx(W1,{})]})}function nR(){"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{const t=await navigator.serviceWorker.register("/sw.js",{updateViaCache:"none"});console.log(" PWA Service Worker registered:",t.scope),t.addEventListener("updatefound",()=>{const e=t.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&console.log(" New Service Worker available")})})}catch(t){console.error(" Service Worker registration failed:",t)}})}let Hs=null;function iR(){window.addEventListener("beforeinstallprompt",t=>{console.log(" PWA install prompt available"),t.preventDefault(),Hs=t,sR()}),window.addEventListener("appinstalled",()=>{console.log(" YOLMOV PWA has been installed"),localStorage.setItem("pwa-installed","true");const t=document.getElementById("pwa-install-banner");t&&t.remove()}),window.matchMedia("(display-mode: standalone)").matches&&(console.log(" Running as installed PWA"),document.documentElement.classList.add("pwa-mode"))}function sR(){if(sessionStorage.getItem("pwa-install-prompt-shown")||localStorage.getItem("pwa-install-dismissed")==="true"||localStorage.getItem("pwa-installed")==="true")return;const i=document.createElement("div");i.id="pwa-install-banner",i.style.cssText=`
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(to right, #FF7A00, #FF9A2A);
    color: white;
    padding: 1rem;
    box-shadow: 0 -4px 20px rgba(0,0,0,0.2);
    z-index: 9999;
    animation: slideUp 0.3s ease-out;
  `,i.innerHTML=`
    <style>
      @keyframes slideUp {
        from { transform: translateY(100%); }
        to { transform: translateY(0); }
      }
    </style>
    <div style="max-width: 1200px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; gap: 1rem; flex-wrap: wrap;">
      <div style="display: flex; align-items: center; gap: 1rem;">
        <div style="width: 48px; height: 48px; background: white; border-radius: 12px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
          <img 
            src="https://raw.githubusercontent.com/yosoyorhan/repo2/refs/heads/main/yolmov-logo-cutter.png" 
            alt="YOLMOV" 
            style="width: 32px; height: 32px; object-fit: contain;"
          />
        </div>
        <div>
          <p style="font-weight: 700; margin: 0; font-size: 1rem;">YOLMOV'u Telefonunuza Ekleyin</p>
          <p style="margin: 0; font-size: 0.875rem; opacity: 0.9;">Daha hzl eriim iin uygulamay ykleyin</p>
        </div>
      </div>
      <div style="display: flex; align-items: center; gap: 0.5rem; flex-shrink: 0;">
        <button 
          id="pwa-install-button" 
          style="padding: 0.5rem 1.5rem; background: white; color: #FF7A00; border: none; border-radius: 8px; font-weight: 700; font-size: 0.875rem; cursor: pointer; transition: all 0.2s;"
          onmouseover="this.style.background='#FFF5F0'"
          onmouseout="this.style.background='white'"
        >
          Ykle
        </button>
        <button 
          id="pwa-dismiss-button" 
          style="padding: 0.5rem 0.75rem; background: transparent; color: white; border: none; font-size: 1.5rem; cursor: pointer; opacity: 0.8; transition: opacity 0.2s;"
          onmouseover="this.style.opacity='1'"
          onmouseout="this.style.opacity='0.8'"
        >
          
        </button>
      </div>
    </div>
  `,document.body.appendChild(i),sessionStorage.setItem("pwa-install-prompt-shown","true");const a=document.getElementById("pwa-install-button");a&&a.addEventListener("click",async()=>{if(!Hs)return;Hs.prompt();const{outcome:u}=await Hs.userChoice;console.log(`User response to install prompt: ${u}`),console.log(u==="accepted"?" User accepted the install prompt":" User dismissed the install prompt"),Hs=null,i.remove()});const o=document.getElementById("pwa-dismiss-button");o&&o.addEventListener("click",()=>{i.remove(),localStorage.setItem("pwa-install-dismissed","true")}),setTimeout(()=>{const u=document.getElementById("pwa-install-banner");u&&u.remove()},15e3)}const S_=document.getElementById("root");if(!S_)throw new Error("Could not find root element to mount to");const aR=jx.createRoot(S_);aR.render(v.jsx(Le.StrictMode,{children:v.jsx(rR,{})}));nR();iR();export{T2 as $,Rr as A,$m as B,td as C,uv as D,nk as E,cv as F,Ih as G,rk as H,Vm as I,Km as J,lv as K,dv as L,Vd as M,ok as N,cR as O,ra as P,Ld as Q,Le as R,rd as S,wl as T,dk as U,uR as V,pk as W,na as X,yS as Y,C2 as Z,Be as _,Q1 as a,E2 as a0,A2 as a1,j2 as a2,P2 as a3,ml as a4,hk as a5,S2 as a6,Kd as b,Ke as c,Zc as d,x_ as e,lR as f,ed as g,Qr as h,ov as i,v as j,Fo as k,uk as l,De as m,W as n,Z1 as o,ek as p,ck as q,F as r,jr as s,X1 as t,ii as u,jl as v,hv as w,Xo as x,lk as y,Sc as z};
