const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminOffersTab-vlmE99xE.js","assets/index-BygeAlJs.js","assets/StatusBadge-hIFez1On.js","assets/eye-CsCCJcwi.js","assets/activity-C-frbcuM.js","assets/tag-xvVTRYTv.js","assets/wallet-C8bCL-IY.js","assets/credit-card-DN7faa-Q.js","assets/star-BonZqzJH.js","assets/log-out-DSG-nAeN.js","assets/file-text-BNwfwfuA.js","assets/calendar-DAgwXTtg.js","assets/dollar-sign-BlZ7ljJ0.js","assets/circle-check-big-BdAyo3sb.js","assets/shield-Cpmu6QvL.js","assets/user-plus-COS0cmBj.js","assets/square-pen-DgSd7zil.js","assets/trash-2-Bi5PBs1q.js","assets/mail-4Oqt-M9o.js","assets/AdminReportsTab-CojoH4UM.js","assets/download-DLcwP42s.js","assets/AdminPricingTab-Bxqi49ns.js","assets/priceCalculator-Bv36E9gB.js","assets/refresh-cw-Cj0UHIYn.js","assets/circle-alert-sxYJVYrI.js","assets/save-D8UF03N_.js","assets/circle-check-CT3jX_Zj.js","assets/trending-up-DYo2-wSb.js","assets/AdminDocumentsTab-Ek12znk2.js","assets/filter-BIc7fwI2.js","assets/AdminFleetTab-BfiAa1I7.js","assets/ban-D0OS2SnM.js","assets/building-CYVOQX9y.js","assets/AdminReviewsTab-DQ7SyxRd.js","assets/AdminFinancialTab-5m_R_ett.js","assets/AdminCreditsTab-BYhdOmek.js","assets/plus-BeGC5ptZ.js","assets/AdminJobHistoryTab-DJWPnZEX.js","assets/AdminUsersTab-DCnpgyrX.js","assets/AdminRequestsTab-DDww5fRm.js","assets/AdminCustomerRequestsTab-AMlWuRAf.js","assets/AdminPartnersTab-Dz5-wYmh.js","assets/UIComponents-B3VxjCBW.js","assets/AdminPartnerApprovalTab-BNEmgqND.js","assets/AdminServiceAreasTab-kkaOGxFY.js","assets/route-DdOnrpYE.js","assets/AdminPartnerShowcaseTab-Cm9eFcwh.js","assets/showcaseSanitizer-CU8VnsaU.js","assets/arrow-left-DsP_xmY8.js","assets/zap-BqCF1vxk.js","assets/award-CtRdYlaA.js","assets/message-square-CZKEbhuf.js","assets/AdminCampaignsTab-D2AczniY.js","assets/gift-4RNKZAx1.js","assets/eye-off-MMYqy9CY.js","assets/pen-BPyRgCsq.js","assets/percent-C5p7T_kk.js","assets/AdminActiveCallsTab-D_2P-RMy.js","assets/AdminCallLogsTab-B6mtyGdF.js","assets/phone-missed-BcO98m7M.js"])))=>i.map(i=>d[i]);
import{c as R,y as ke,U as me,l as we,M as U,T as W,j as e,E as _e,z as Ae,X as ue,b as E,r as n,W as Se,u as ze,h as De,f as Ce,s as w,S as ne,R as j,P as se,_ as y,C as M,o as te,n as Te}from"./index-BygeAlJs.js";import{A as Pe}from"./activity-C-frbcuM.js";import{T as Re}from"./tag-xvVTRYTv.js";import{H as Ee,W as Ie,S as Oe,F as $e}from"./wallet-C8bCL-IY.js";import{C as pe}from"./credit-card-DN7faa-Q.js";import{S as X}from"./star-BonZqzJH.js";import{L as Me}from"./log-out-DSG-nAeN.js";import{F as D}from"./file-text-BNwfwfuA.js";import{C as le}from"./calendar-DAgwXTtg.js";import{D as C}from"./dollar-sign-BlZ7ljJ0.js";import{C as I}from"./circle-check-big-BdAyo3sb.js";import{S as ee}from"./StatusBadge-hIFez1On.js";import{S as Y}from"./shield-Cpmu6QvL.js";import{U as Le}from"./user-plus-COS0cmBj.js";import{E as H}from"./eye-CsCCJcwi.js";import{S as ie}from"./square-pen-DgSd7zil.js";import{T as de}from"./trash-2-Bi5PBs1q.js";import{M as he}from"./mail-4Oqt-M9o.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=R("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=R("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=R("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=R("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=R("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=R("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=R("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);var h=(a=>(a.SUPER_ADMIN="super_admin",a.SUPPORT="support",a.FINANCE="finance",a.OPERATIONS="operations",a))(h||{});const Ye=[{id:"overview",label:"Genel Bakƒ±≈ü",icon:Ke,category:"dashboard"},{id:"reports",label:"Detaylƒ± Raporlar",icon:Ue,category:"dashboard",allowedRoles:[h.SUPER_ADMIN,h.FINANCE]},{id:"active-calls",label:"Canlƒ± G√∂r√º≈ümeler",icon:Pe,category:"call-center",allowedRoles:[h.SUPER_ADMIN,h.SUPPORT]},{id:"call-logs",label:"√áaƒürƒ± Kayƒ±tlarƒ±",icon:ke,category:"call-center",allowedRoles:[h.SUPER_ADMIN,h.SUPPORT]},{id:"partner-approval",label:"Partner Onay",icon:Fe,category:"management",allowedRoles:[h.SUPER_ADMIN,h.OPERATIONS]},{id:"partners",label:"Partnerler",icon:me,category:"management"},{id:"users",label:"M√º≈üteriler",icon:Ge,category:"management"},{id:"admin-users",label:"Adminler",icon:we,category:"management",allowedRoles:[h.SUPER_ADMIN]},{id:"customer-requests",label:"ƒ∞≈ü Talepleri",icon:U,category:"operations"},{id:"offers",label:"Verilen Teklifler",icon:Re,category:"operations",allowedRoles:[h.SUPER_ADMIN,h.FINANCE]},{id:"job-history",label:"ƒ∞≈ü Ge√ßmi≈üi",icon:Ee,category:"operations"},{id:"fleet",label:"T√ºm Filo",icon:W,category:"operations",allowedRoles:[h.SUPER_ADMIN,h.OPERATIONS]},{id:"financial",label:"Kasa / Finans",icon:Ie,category:"finance",allowedRoles:[h.SUPER_ADMIN,h.FINANCE]},{id:"credits",label:"Kredi ƒ∞≈ülemleri",icon:pe,category:"finance",allowedRoles:[h.SUPER_ADMIN,h.FINANCE]},{id:"campaigns",label:"Kampanyalar",icon:qe,category:"finance",allowedRoles:[h.SUPER_ADMIN,h.OPERATIONS]},{id:"pricing",label:"Fiyat Listesi",icon:Ve,category:"finance",allowedRoles:[h.SUPER_ADMIN,h.FINANCE]},{id:"partner-showcase",label:"Vitrin D√ºzeni",icon:Oe,category:"system",allowedRoles:[h.SUPER_ADMIN,h.OPERATIONS]},{id:"service-areas",label:"Hizmet B√∂lgeleri",icon:U,category:"system",allowedRoles:[h.SUPER_ADMIN,h.OPERATIONS]},{id:"documents",label:"Belge Y√∂netimi",icon:$e,category:"system",allowedRoles:[h.SUPER_ADMIN,h.OPERATIONS]},{id:"reviews",label:"Yorumlar",icon:X,category:"system",allowedRoles:[h.SUPER_ADMIN,h.SUPPORT]}],ce=({activeTab:a,onSelectTab:i,onLogout:c,role:r,mobile:s,onCloseMobile:p})=>{const d=[{id:"dashboard",label:"Kokpit",color:"text-slate-500"},{id:"call-center",label:"√áaƒürƒ± Merkezi",color:"text-green-500",badge:"CANLI"},{id:"management",label:"Y√∂netim",color:"text-slate-500"},{id:"operations",label:"Operasyon",color:"text-slate-500"},{id:"finance",label:"Finans & B√ºy√ºme",color:"text-slate-500"},{id:"system",label:"Sistem",color:"text-slate-500"}],o=t=>{switch(t){case"call-center":return"group-hover:text-green-500";case"finance":return"group-hover:text-green-500";case"operations":return"group-hover:text-blue-500";case"management":return"group-hover:text-purple-500";default:return"group-hover:text-orange-500"}};return e.jsxs("div",{className:`flex flex-col h-full bg-slate-900 text-white w-64 ${s?"shadow-2xl":""}`,children:[e.jsx("div",{className:"p-6 border-b border-slate-800 flex-shrink-0",children:e.jsxs("div",{className:"cursor-pointer",onClick:()=>i("overview"),children:[e.jsx("span",{className:"yolmov-logo text-3xl font-bold text-white block text-center mb-2",children:"yolmov"}),e.jsx("p",{className:"text-xs text-slate-400 text-center",children:"Admin Panel"})]})}),e.jsx("nav",{className:"flex-1 px-3 py-4 space-y-6 overflow-y-auto scrollbar-hide",children:d.map(t=>{const g=Ye.filter(u=>u.category===t.id&&(!u.allowedRoles||u.allowedRoles.includes(r)));return g.length===0?null:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between px-3 mb-2",children:[e.jsx("p",{className:`text-[10px] font-black ${t.color} uppercase tracking-wider opacity-80`,children:t.label}),t.badge&&e.jsx("span",{className:"bg-green-500/20 text-green-400 text-[9px] px-1.5 py-0.5 rounded font-bold animate-pulse",children:t.badge})]}),e.jsx("div",{className:"space-y-1",children:g.map(u=>e.jsxs("button",{role:"tab","aria-selected":a===u.id,"aria-controls":`panel-${u.id}`,onClick:()=>{i(u.id),s&&p&&p()},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all group ${a===u.id?"bg-orange-500 text-white shadow-lg":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[e.jsx(u.icon,{size:18,className:a===u.id?"":`transition-colors ${o(t.id)}`}),e.jsx("span",{className:"font-medium text-sm",children:u.label})]},u.id))})]},t.id)})}),e.jsxs("div",{className:"p-4 border-t border-slate-800 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-700 overflow-hidden",children:e.jsx("img",{src:"https://i.pravatar.cc/150?img=60",alt:"Admin"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold",children:"Admin User"}),e.jsx("p",{className:"text-xs text-slate-400",children:"admin@platform"})]})]}),e.jsxs("button",{onClick:c,className:"w-full flex items-center justify-center gap-2 p-2 text-slate-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:[e.jsx(Me,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"√áƒ±kƒ±≈ü Yap"})]})]})]})},He={overview:"Genel Bakƒ±≈ü",users:"Kullanƒ±cƒ± Y√∂netimi",partners:"Partner Y√∂netimi",requests:"Talep Y√∂netimi",offers:"Teklif Y√∂netimi",reports:"Raporlar"},We=({activeTab:a,notificationsCount:i=0,onOpenMobileSidebar:c})=>e.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-4 md:px-10 sticky top-0 z-20",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{className:"md:hidden p-2 rounded-lg bg-slate-100 text-slate-600 focus:outline-none focus:ring-2 focus:ring-orange-500","aria-label":"Men√ºy√º A√ß",onClick:c,children:e.jsx(_e,{size:22})}),e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-800",id:"page-title",children:He[a]||"Panel"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("button",{className:"relative p-2 text-slate-400 hover:text-slate-600 focus:outline-none focus:ring-2 focus:ring-orange-500","aria-label":"Bildirimler",children:[e.jsx(Ae,{size:22}),i>0&&e.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]})})]}),Xe=({request:a,onClose:i})=>{if(!a)return null;const r={open:{bg:"bg-yellow-100",text:"text-yellow-700",label:"A√ßƒ±k"},matched:{bg:"bg-blue-100",text:"text-blue-700",label:"E≈üle≈üti"},completed:{bg:"bg-green-100",text:"text-green-700",label:"Tamamlandƒ±"},cancelled:{bg:"bg-red-100",text:"text-red-700",label:"ƒ∞ptal"}}[a.status];return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:i,children:e.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Talep Detaylarƒ±"}),e.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["#",a.id]})]}),e.jsx("button",{onClick:i,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"Kapat",children:e.jsx(ue,{size:24,className:"text-slate-400"})})]}),e.jsx("div",{className:"mb-6",children:e.jsx("span",{className:`inline-block px-4 py-2 rounded-full text-sm font-bold ${r.bg} ${r.text}`,children:r.label})}),e.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-xl",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-600 mb-3",children:"M√º≈üteri Bilgileri"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(E,{size:18,className:"text-slate-400"}),e.jsx("p",{className:"text-sm font-medium text-slate-900",children:a.customerName})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl",children:[e.jsx(D,{size:20,className:"text-blue-600 mb-2"}),e.jsx("p",{className:"text-xs text-blue-600 mb-1",children:"Hizmet T√ºr√º"}),e.jsx("p",{className:"text-lg font-bold text-blue-900",children:a.serviceType})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-xl",children:[e.jsx(le,{size:20,className:"text-green-600 mb-2"}),e.jsx("p",{className:"text-xs text-green-600 mb-1",children:"Olu≈üturma Tarihi"}),e.jsx("p",{className:"text-lg font-bold text-green-900",children:a.createdAt})]}),a.amount&&e.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl col-span-2",children:[e.jsx(C,{size:20,className:"text-orange-600 mb-2"}),e.jsx("p",{className:"text-xs text-orange-600 mb-1",children:"Tutar"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-900",children:["‚Ç∫",a.amount]})]})]}),e.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-xl",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-600 mb-2",children:"A√ßƒ±klama"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Kadƒ±k√∂y - Be≈üikta≈ü arasƒ± ara√ß √ßekme hizmeti talep edilmi≈ütir. Ara√ß ba≈ülatƒ±lamƒ±yor."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"flex-1 py-3 bg-blue-500 text-white rounded-xl font-bold hover:bg-blue-600 transition-colors",children:"M√º≈üteri Profiline Git"}),a.status==="open"&&e.jsx("button",{className:"flex-1 py-3 bg-red-50 text-red-600 rounded-xl font-bold hover:bg-red-100 transition-colors",children:"Talebi ƒ∞ptal Et"})]})]})})},Je=({vehicle:a,onClose:i})=>{const[c,r]=n.useState((a==null?void 0:a.status)||"active");if(!a)return null;const p={active:{bg:"bg-green-100",text:"text-green-700",label:"Aktif"},maintenance:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Bakƒ±mda"},disabled:{bg:"bg-red-100",text:"text-red-700",label:"Devre Dƒ±≈üƒ±"}}[c];return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:i,children:e.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:a.plate}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:a.model}),e.jsx("span",{className:`inline-block mt-2 px-3 py-1 rounded-full text-xs font-bold ${p.bg} ${p.text}`,children:p.label})]}),e.jsx("button",{onClick:i,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"Kapat",children:e.jsx(ue,{size:24,className:"text-slate-400"})})]}),e.jsx("div",{className:"mb-6 rounded-2xl overflow-hidden h-64 bg-slate-100",children:e.jsx("img",{src:a.image,alt:a.plate,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Ara√ß Detaylarƒ±"}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[e.jsx(W,{size:18,className:"text-slate-400 mb-2"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Ara√ß Tipi"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:a.type})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[e.jsx(E,{size:18,className:"text-slate-400 mb-2"}),e.jsx("p",{className:"text-xs text-slate-500",children:"S√ºr√ºc√º"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:a.driver})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[e.jsx(le,{size:18,className:"text-slate-400 mb-2"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Kayƒ±t Tarihi"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:a.registrationDate})]}),a.lastService&&e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[e.jsx(Se,{size:18,className:"text-slate-400 mb-2"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Son Bakƒ±m"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:a.lastService})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl",children:[e.jsx("p",{className:"text-xs text-blue-600 mb-1",children:"Partner"}),e.jsx("p",{className:"text-sm font-bold text-blue-900",children:a.partnerName}),e.jsx("button",{className:"mt-2 text-xs text-blue-600 hover:text-blue-700 font-medium",children:"Partner Profiline Git ‚Üí"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"ƒ∞statistikler & Y√∂netim"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 rounded-xl",children:[e.jsx(I,{size:18,className:"text-green-600 mb-2"}),e.jsx("p",{className:"text-xs text-green-600",children:"Tamamlanan"}),e.jsx("p",{className:"text-xl font-bold text-green-900",children:a.totalJobs})]}),e.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl",children:[e.jsx(C,{size:18,className:"text-orange-600 mb-2"}),e.jsx("p",{className:"text-xs text-orange-600",children:"Kazan√ß"}),e.jsxs("p",{className:"text-xl font-bold text-orange-900",children:["‚Ç∫",a.totalEarnings.toLocaleString()]})]})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[e.jsx("p",{className:"text-xs font-bold text-slate-600 mb-3",children:"Durum Y√∂netimi"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>r("active"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-colors ${c==="active"?"bg-green-500 text-white":"bg-slate-200 text-slate-600 hover:bg-slate-300"}`,children:"Aktif"}),e.jsx("button",{onClick:()=>r("maintenance"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-colors ${c==="maintenance"?"bg-yellow-500 text-white":"bg-slate-200 text-slate-600 hover:bg-slate-300"}`,children:"Bakƒ±mda"}),e.jsx("button",{onClick:()=>r("disabled"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-colors ${c==="disabled"?"bg-red-500 text-white":"bg-slate-200 text-slate-600 hover:bg-slate-300"}`,children:"Devre Dƒ±≈üƒ±"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{className:"w-full py-2.5 bg-blue-500 text-white rounded-xl text-sm font-bold hover:bg-blue-600 transition-colors",children:"Bakƒ±m Kaydƒ± Ekle"}),e.jsx("button",{className:"w-full py-2.5 bg-slate-500 text-white rounded-xl text-sm font-bold hover:bg-slate-600 transition-colors",children:"S√ºr√ºc√º Deƒüi≈ütir"}),e.jsx("button",{className:"w-full py-2.5 bg-orange-500 text-white rounded-xl text-sm font-bold hover:bg-orange-600 transition-colors",children:"Belgeleri G√∂r√ºnt√ºle"})]})]})]})]})})};function oe(a,i){const{searchKeys:c,statusKey:r}=i,[s,p]=n.useState(""),[d,o]=n.useState("all");return{filtered:n.useMemo(()=>a.filter(g=>{if(r&&d!=="all"&&String(g[r])!==d)return!1;if(s.trim()==="")return!0;const u=s.toLowerCase();return c.some(z=>String(g[z]).toLowerCase().includes(u))}),[a,s,d,r,c]),searchTerm:s,setSearchTerm:p,filterType:d,setFilterType:o}}const xe=({title:a="Kayƒ±t Yok",description:i="G√∂sterilecek veri bulunamadƒ±."})=>e.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-slate-500",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-100 flex items-center justify-center mb-4",children:e.jsx(Be,{size:28,className:"text-slate-400"})}),e.jsx("p",{className:"font-bold mb-1",children:a}),e.jsx("p",{className:"text-sm text-slate-400",children:i})]}),v=({rows:a=5})=>e.jsx("div",{className:"animate-pulse",children:Array.from({length:a}).map((i,c)=>e.jsx("div",{className:"h-12 bg-slate-100 rounded-xl mb-3"},c))}),Qe=n.lazy(()=>y(()=>import("./AdminOffersTab-vlmE99xE.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]))),Ze=n.lazy(()=>y(()=>import("./AdminReportsTab-CojoH4UM.js"),__vite__mapDeps([19,1,11,20,4,5,6,7,8,9,10,12,13,2,14,15,3,16,17,18]))),es=n.lazy(()=>y(()=>import("./AdminPricingTab-Bxqi49ns.js"),__vite__mapDeps([21,1,22,23,24,12,25,26,27]))),ss=n.lazy(()=>y(()=>import("./AdminDocumentsTab-Ek12znk2.js"),__vite__mapDeps([28,1,2,10,13,29,3,20,4,5,6,7,8,9,11,12,14,15,16,17,18]))),ts=n.lazy(()=>y(()=>import("./AdminFleetTab-BfiAa1I7.js"),__vite__mapDeps([30,1,2,26,31,29,32,11,3,4,5,6,7,8,9,10,12,13,14,15,16,17,18]))),ls=n.lazy(()=>y(()=>import("./AdminReviewsTab-DQ7SyxRd.js"),__vite__mapDeps([33,1,8,3,4,5,6,7,9,10,11,12,13,2,14,15,16,17,18]))),as=n.lazy(()=>y(()=>import("./AdminFinancialTab-5m_R_ett.js"),__vite__mapDeps([34,1,2,24,27,13,32,20,3,4,5,6,7,8,9,10,11,12,14,15,16,17,18]))),rs=n.lazy(()=>y(()=>import("./AdminCreditsTab-BYhdOmek.js"),__vite__mapDeps([35,1,24,6,11,36,32,29,4,5,7,8,9,10,12,13,2,14,15,3,16,17,18]))),ns=n.lazy(()=>y(()=>import("./AdminJobHistoryTab-DJWPnZEX.js"),__vite__mapDeps([37,1,13,12,27,20,3,4,5,6,7,8,9,10,11,2,14,15,16,17,18]))),is=n.lazy(()=>y(()=>import("./AdminUsersTab-DCnpgyrX.js"),__vite__mapDeps([38,1,15,18,14,11,16,17,4,5,6,7,8,9,10,12,13,2,3]))),ds=n.lazy(()=>y(()=>import("./AdminRequestsTab-DDww5fRm.js"),__vite__mapDeps([39,1,2,13,3,27,4,5,6,7,8,9,10,11,12,14,15,16,17,18]))),cs=n.lazy(()=>y(()=>import("./AdminCustomerRequestsTab-AMlWuRAf.js"),__vite__mapDeps([40,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18])));n.lazy(()=>y(()=>import("./AdminPartnersTab-Dz5-wYmh.js"),__vite__mapDeps([41,1,42,26])));const os=n.lazy(()=>y(()=>import("./AdminPartnerApprovalTab-BNEmgqND.js"),__vite__mapDeps([43,1,32,18,11,3,13,4,5,6,7,8,9,10,12,2,14,15,16,17]))),xs=n.lazy(()=>y(()=>import("./AdminServiceAreasTab-kkaOGxFY.js"),__vite__mapDeps([44,1,23,45,3,11,26]))),ms=n.lazy(()=>y(()=>import("./AdminPartnerShowcaseTab-Cm9eFcwh.js"),__vite__mapDeps([46,1,47,6,14,8,48,24,13,32,7,49,25,10,50,51]))),us=n.lazy(()=>y(()=>import("./AdminCampaignsTab-D2AczniY.js"),__vite__mapDeps([52,1,42,36,53,54,3,55,17,5,56,11,25]))),ps=n.lazy(()=>y(()=>import("./AdminActiveCallsTab-D_2P-RMy.js"),__vite__mapDeps([57,1]))),hs=n.lazy(()=>y(()=>import("./AdminCallLogsTab-B6mtyGdF.js"),__vite__mapDeps([58,1,59,13]))),bs=()=>{const a=ze(),i=De(),c=Ce(),[r,s]=n.useState("overview"),[p,d]=n.useState(!1),[o,t]=n.useState("all"),[g,u]=n.useState(null),[z,b]=n.useState(null),[f,A]=n.useState(!1),B=h.SUPER_ADMIN,[T,J]=n.useState([]),[q,G]=n.useState([]),[m,N]=n.useState([]),[k,_]=n.useState([]),[O,Q]=n.useState([]),[L,be]=n.useState([]),[K,ge]=n.useState([]);n.useEffect(()=>{ae()},[]),n.useEffect(()=>{ae()},[r]);const ae=async()=>{try{const l=localStorage.getItem("yolmov_admin");if(l){const S=JSON.parse(l);if(S!=null&&S.role){await je();return}}console.warn("Not an admin user, skipping data load")}catch(l){console.warn("Admin check failed, skipping data load:",l)}},je=async()=>{try{const S=(await w.requests.getAll()).map(x=>({id:x.id,customerId:x.customer_id,customerName:"M√º≈üteri",serviceType:x.service_type,location:`${x.from_district}, ${x.from_city}`,from:`${x.from_district}, ${x.from_city}`,to:x.to_city?`${x.to_district}, ${x.to_city}`:"",status:x.status,createdAt:x.created_at,estimatedPrice:x.estimated_price}));ge(S);const Z=await w.customers.getAll(),P=await w.partners.getAll(),Ne=[...Z.map(x=>({id:x.id,name:x.full_name||`${x.first_name||""} ${x.last_name||""}`.trim()||x.name||x.email,email:x.email,phone:x.phone,role:"customer",type:"customer",createdAt:x.created_at,status:"active",joinDate:new Date(x.created_at).toLocaleDateString("tr-TR"),totalSpent:0,totalEarned:0})),...P.map(x=>({id:x.id,name:x.company_name||x.name||`${x.first_name||""} ${x.last_name||""}`.trim()||x.email,email:x.email,phone:x.phone,role:"partner",type:"partner",createdAt:x.created_at,status:x.status||"pending",joinDate:new Date(x.created_at).toLocaleDateString("tr-TR"),totalSpent:0,totalEarned:0}))];J(Ne),G(P);const ve=await w.offers.getAll();be(ve);const ye=await w.supportTickets.getAll();Q(ye),console.log("‚úÖ [AdminDashboard] T√ºm veriler y√ºklendi"),console.log("üìä Partners loaded:",P.length,"items"),console.log("üìä Partners status breakdown:",{total:P.length,active:P.filter(x=>x.status==="active").length,pending:P.filter(x=>x.status==="pending").length,suspended:P.filter(x=>x.status==="suspended").length})}catch(l){console.error("‚ùå Admin verileri y√ºklenemedi:",l)}};n.useEffect(()=>{const l={"/admin":"overview","/admin/kullanicilar":"users","/admin/partnerler":"partners","/admin/partner-onay":"partner-approval","/admin/partner-vitrin":"partner-showcase","/admin/canli-gorusmeler":"active-calls","/admin/cagri-kayitlari":"call-logs","/admin/talepler":"requests","/admin/musteri-talepleri":"customer-requests","/admin/teklifler":"offers","/admin/raporlar":"reports","/admin/belgeler":"documents","/admin/filo":"fleet","/admin/degerlendirmeler":"reviews","/admin/finansal":"financial","/admin/krediler":"credits","/admin/is-gecmisi":"job-history","/admin/admin-kullanicilari":"admin-users","/admin/hizmet-bolgeleri":"service-areas","/admin/kampanyalar":"campaigns"};if(i.pathname.startsWith("/admin/kullanicilar/")){s("users");return}if(i.pathname.startsWith("/admin/partnerler/")){s("partners");return}if(i.pathname.startsWith("/admin/talepler/")){s("requests");return}if(i.pathname.startsWith("/admin/teklifler/")){s("offers");return}if(i.pathname.startsWith("/admin/filo/")){s("fleet");return}if(i.pathname.startsWith("/admin/degerlendirmeler/")){s("reviews");return}const S=l[i.pathname];S&&s(S)},[i.pathname]);const re=l=>{const Z={overview:"/admin",users:"/admin/kullanicilar",partners:"/admin/partnerler","partner-approval":"/admin/partner-onay","partner-showcase":"/admin/partner-vitrin","active-calls":"/admin/canli-gorusmeler","call-logs":"/admin/cagri-kayitlari",requests:"/admin/talepler","customer-requests":"/admin/musteri-talepleri",offers:"/admin/teklifler",reports:"/admin/raporlar",documents:"/admin/belgeler",fleet:"/admin/filo",reviews:"/admin/degerlendirmeler",financial:"/admin/finansal",credits:"/admin/krediler","job-history":"/admin/is-gecmisi","admin-users":"/admin/admin-kullanicilari","service-areas":"/admin/hizmet-bolgeleri",campaigns:"/admin/kampanyalar"}[l]||"/admin";a(Z)},fe=o==="all"?T:T.filter(l=>l.role===o),V=oe(fe,{searchKeys:["name","email"]}),$=oe(q,{searchKeys:["name","email","company_name"],statusKey:"status"}),F={totalUsers:T.filter(l=>l.role==="customer").length,totalPartners:q.length,pendingLeadRequests:m.filter(l=>l.status==="pending").length,pendingAreaRequests:k.filter(l=>l.status==="pending").length,openSupportRequests:O.filter(l=>l.status==="open"||l.status==="in_progress").length,activeCustomerRequests:K.filter(l=>l.status==="open").length,completedCustomerRequests:K.filter(l=>l.status==="completed").length,totalRevenue:K.filter(l=>l.amount).reduce((l,S)=>l+(S.amount||0),0),b2cUsers:T.filter(l=>l.role==="customer").length,b2bUsers:T.filter(l=>l.role==="partner").length};return e.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden",children:[p&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>d(!1)}),e.jsx("div",{className:"hidden md:block",children:e.jsx(ce,{activeTab:r,onSelectTab:re,onLogout:()=>a("/"),role:B})}),e.jsx("div",{className:`fixed inset-y-0 left-0 z-40 transform md:hidden transition-transform duration-300 ${p?"translate-x-0":"-translate-x-full"}`,children:e.jsx(ce,{activeTab:r,onSelectTab:re,onLogout:()=>a("/"),role:B,mobile:!0,onCloseMobile:()=>d(!1)})}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(We,{activeTab:r,notificationsCount:3,onOpenMobileSidebar:()=>d(!0)}),e.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:[r==="overview"&&e.jsxs("div",{className:"space-y-6",id:"panel-overview",role:"tabpanel","aria-labelledby":"overview",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:e.jsx(me,{size:24,className:"text-blue-600"})}),e.jsx("span",{className:"text-xs font-bold text-green-600",children:"+12%"})]}),e.jsx("h3",{className:"text-3xl font-black text-slate-900 mb-1",children:F.totalUsers}),e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Toplam Kullanƒ±cƒ±"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center",children:e.jsx(Y,{size:24,className:"text-orange-600"})}),e.jsx("span",{className:"text-xs font-bold text-green-600",children:"+8%"})]}),e.jsx("h3",{className:"text-3xl font-black text-slate-900 mb-1",children:F.totalPartners}),e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Aktif Partner"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:e.jsx(I,{size:24,className:"text-green-600"})}),e.jsx("span",{className:"text-xs font-bold text-green-600",children:"+23%"})]}),e.jsx("h3",{className:"text-3xl font-black text-slate-900 mb-1",children:F.completedCustomerRequests}),e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Tamamlanan ƒ∞≈ü"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:e.jsx(C,{size:24,className:"text-purple-600"})}),e.jsx("span",{className:"text-xs font-bold text-green-600",children:"+31%"})]}),e.jsxs("h3",{className:"text-3xl font-black text-slate-900 mb-1",children:["‚Ç∫",F.totalRevenue.toLocaleString()]}),e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Toplam Ciro"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",role:"region","aria-label":"Son Aktiviteler",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Son M√º≈üteri Talepleri"}),e.jsx("div",{className:"space-y-3",children:K.slice(0,5).map(l=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl hover:bg-slate-100 cursor-pointer transition-colors",onClick:()=>{s("customer-requests"),a("/admin/musteri-talepleri")},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(D,{size:20,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-slate-900",children:l.customerName}),e.jsxs("p",{className:"text-xs text-slate-500",children:[l.serviceType," - ",l.id]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(ee,{type:"request",status:l.status}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:l.createdAt})]})]},l.id))})]})]}),r==="users"&&e.jsx("div",{className:"space-y-6",id:"panel-users",role:"tabpanel","aria-labelledby":"users",children:c.id?e.jsx(ws,{userId:c.id,onBack:()=>a("/admin/kullanicilar")}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(ne,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Kullanƒ±cƒ± ara...",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",value:V.searchTerm,onChange:l=>V.setSearchTerm(l.target.value),"aria-label":"Kullanƒ±cƒ± arama"})]}),e.jsxs("select",{className:"px-4 py-3 bg-white border border-slate-200 rounded-xl font-medium text-slate-700 focus:ring-2 focus:ring-blue-500 outline-none",value:o,onChange:l=>t(l.target.value),"aria-label":"Kullanƒ±cƒ± tipi filtresi",children:[e.jsx("option",{value:"all",children:"T√ºm Kullanƒ±cƒ±lar"}),e.jsx("option",{value:"customer",children:"Sadece M√º≈üteriler (B2C)"}),e.jsx("option",{value:"partner",children:"Sadece Partnerler (B2B)"})]}),e.jsxs("button",{onClick:()=>A(!0),className:"px-6 py-3 bg-orange-500 text-white rounded-xl font-bold hover:bg-orange-600 flex items-center gap-2","aria-label":"Yeni kullanƒ±cƒ± olu≈ütur",children:[e.jsx(Le,{size:20})," Yeni Kullanƒ±cƒ±"]})]}),e.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 overflow-hidden",role:"region","aria-label":"Kullanƒ±cƒ± listesi",children:V.filtered.length===0?e.jsx(xe,{title:"Kullanƒ±cƒ± Yok",description:"Arama kriterine uygun kullanƒ±cƒ± bulunamadƒ±."}):e.jsxs("table",{className:"w-full",role:"table",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",role:"rowgroup",children:e.jsxs("tr",{role:"row",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"Kullanƒ±cƒ±"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"Tip"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"Durum"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"Kayƒ±t Tarihi"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"Toplam"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"ƒ∞≈ülemler"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",role:"rowgroup",children:V.filtered.map(l=>e.jsxs("tr",{className:"hover:bg-slate-50",role:"row",children:[e.jsx("td",{className:"px-6 py-4",role:"cell",children:e.jsxs("div",{className:"cursor-pointer hover:text-orange-600 transition-colors",onClick:()=>a(`/admin/kullanicilar/${l.id}`),children:[e.jsx("p",{className:"font-bold text-slate-900",children:l.name}),e.jsx("p",{className:"text-xs text-slate-500",children:l.email})]})}),e.jsx("td",{className:"px-6 py-4",role:"cell",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${l.type==="customer"?"bg-blue-100 text-blue-700":"bg-orange-100 text-orange-700"}`,children:l.type==="customer"?"M√º≈üteri":"Partner"})}),e.jsx("td",{className:"px-6 py-4",role:"cell",children:e.jsx(ee,{type:"user",status:l.status||"active"})}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",role:"cell",children:l.joinDate}),e.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",role:"cell",children:["‚Ç∫",(l.totalSpent||l.totalEarned||0).toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 text-right",role:"cell",children:[e.jsx("button",{onClick:()=>a(`/admin/kullanicilar/${l.id}`),className:"p-2 text-slate-400 hover:text-blue-600","aria-label":`Kullanƒ±cƒ± ${l.id} g√∂r√ºnt√ºle`,children:e.jsx(H,{size:18})}),e.jsx("button",{className:"p-2 text-slate-400 hover:text-orange-600","aria-label":`Kullanƒ±cƒ± ${l.id} d√ºzenle`,children:e.jsx(ie,{size:18})}),e.jsx("button",{className:"p-2 text-slate-400 hover:text-red-600","aria-label":`Kullanƒ±cƒ± ${l.id} sil`,children:e.jsx(de,{size:18})})]})]},l.id))})]})})]})}),r==="partners"&&e.jsx("div",{className:"space-y-6",id:"panel-partners",role:"tabpanel","aria-labelledby":"partners",children:c.id?e.jsx(_s,{partnerId:c.id,onBack:()=>a("/admin/partnerler")}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(ne,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Partner ara...",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",value:$.searchTerm,onChange:l=>$.setSearchTerm(l.target.value),"aria-label":"Partner arama"})]}),e.jsxs("select",{className:"px-4 py-3 bg-white border border-slate-200 rounded-xl font-medium text-slate-700 focus:ring-2 focus:ring-blue-500 outline-none",value:$.filterType,onChange:l=>$.setFilterType(l.target.value),"aria-label":"Partner durum filtresi",children:[e.jsx("option",{value:"all",children:"T√ºm Durumlar"}),e.jsx("option",{value:"active",children:"Aktif"}),e.jsx("option",{value:"pending",children:"Onay Bekliyor"}),e.jsx("option",{value:"suspended",children:"Askƒ±da"})]})]}),e.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 overflow-hidden",role:"region","aria-label":"Partner listesi",children:$.filtered.length===0?e.jsx(xe,{title:"Partner Yok",description:"Arama kriterine uygun partner yok."}):e.jsxs("table",{className:"w-full",role:"table",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",role:"rowgroup",children:e.jsxs("tr",{role:"row",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"Partner"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"ƒ∞leti≈üim"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"Puan"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"ƒ∞≈ü Sayƒ±sƒ±"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"Kredi"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"Durum"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-600 uppercase",role:"columnheader",children:"ƒ∞≈ülemler"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",role:"rowgroup",children:$.filtered.map(l=>e.jsxs("tr",{className:"hover:bg-slate-50",role:"row",children:[e.jsx("td",{className:"px-6 py-4",role:"cell",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(Y,{size:20,className:"text-orange-600"})}),e.jsxs("div",{className:"cursor-pointer hover:text-orange-600 transition-colors",onClick:()=>a(`/admin/partnerler/${l.id}`),children:[e.jsx("p",{className:"font-bold text-slate-900",children:l.company_name||l.name||`${l.first_name||""} ${l.last_name||""}`.trim()||l.email}),e.jsx("p",{className:"text-xs text-slate-500",children:l.company_name?l.first_name&&l.last_name?`${l.first_name} ${l.last_name}`:l.email:l.id})]})]})}),e.jsx("td",{className:"px-6 py-4",role:"cell",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"text-slate-900",children:l.email}),e.jsx("p",{className:"text-slate-500",children:l.phone})]})}),e.jsx("td",{className:"px-6 py-4",role:"cell",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(X,{size:16,className:"text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"font-bold text-slate-900",children:l.rating||0})]})}),e.jsx("td",{className:"px-6 py-4 font-bold text-slate-900",role:"cell",children:l.completed_jobs||l.completedJobs||0}),e.jsx("td",{className:"px-6 py-4",role:"cell",children:e.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-sm font-bold",children:l.credits})}),e.jsx("td",{className:"px-6 py-4",role:"cell",children:e.jsx(ee,{type:"partner",status:l.status||"active"})}),e.jsxs("td",{className:"px-6 py-4 text-right",role:"cell",children:[e.jsx("button",{onClick:()=>a(`/admin/partnerler/${l.id}`),className:"p-2 text-slate-400 hover:text-blue-600","aria-label":`Partner ${l.id} g√∂r√ºnt√ºle`,children:e.jsx(H,{size:18})}),e.jsx("button",{className:"p-2 text-slate-400 hover:text-orange-600","aria-label":`Partner ${l.id} d√ºzenle`,children:e.jsx(ie,{size:18})}),e.jsx("button",{className:"p-2 text-slate-400 hover:text-red-600","aria-label":`Partner ${l.id} sil`,children:e.jsx(de,{size:18})})]})]},l.id))})]})})]})}),r==="partner-approval"&&e.jsx("div",{className:"space-y-6",id:"panel-partner-approval",role:"tabpanel","aria-labelledby":"partner-approval",children:e.jsx(n.Suspense,{fallback:e.jsx(v,{}),children:e.jsx(os,{})})}),r==="partner-showcase"&&e.jsx("div",{className:"space-y-6",id:"panel-partner-showcase",role:"tabpanel","aria-labelledby":"partner-showcase",children:e.jsx(n.Suspense,{fallback:e.jsx(v,{}),children:e.jsx(ms,{})})}),r==="active-calls"&&e.jsx("div",{className:"space-y-6",id:"panel-active-calls",role:"tabpanel","aria-labelledby":"active-calls",children:e.jsx(n.Suspense,{fallback:e.jsx(v,{}),children:e.jsx(ps,{})})}),r==="call-logs"&&e.jsx("div",{className:"space-y-6",id:"panel-call-logs",role:"tabpanel","aria-labelledby":"call-logs",children:e.jsx(n.Suspense,{fallback:e.jsx(v,{}),children:e.jsx(hs,{})})}),r==="requests"&&e.jsx("div",{children:i.pathname.startsWith("/admin/talepler/lead/")&&c.id?e.jsx(gs,{requestId:c.id,onBack:()=>a("/admin/talepler")}):i.pathname.startsWith("/admin/talepler/alan/")&&c.id?e.jsx(js,{requestId:c.id,onBack:()=>a("/admin/talepler")}):i.pathname.startsWith("/admin/talepler/destek/")&&c.id?e.jsx(fs,{requestId:c.id,onBack:()=>a("/admin/talepler")}):e.jsx(n.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(ds,{leadRequests:m,areaRequests:k,supportRequests:O})})}),r==="customer-requests"&&e.jsx("div",{children:c.id?e.jsx(ks,{requestId:c.id,onBack:()=>a("/admin/musteri-talepleri")}):e.jsx(n.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(cs,{requests:K})})}),r==="offers"&&e.jsx("div",{children:c.id?e.jsx(Ns,{offerId:c.id,onBack:()=>a("/admin/teklifler")}):e.jsx(n.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(Qe,{data:L,onViewOffer:l=>a(`/admin/teklifler/${l.id}`)})})}),r==="reports"&&e.jsx(n.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(Ze,{})}),r==="pricing"&&e.jsx(n.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(es,{})}),r==="documents"&&e.jsx(n.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(ss,{})}),r==="fleet"&&e.jsx("div",{children:c.vehicleId?e.jsx(vs,{vehicleId:c.vehicleId,onBack:()=>a("/admin/filo")}):e.jsx(n.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(ts,{onViewVehicle:l=>a(`/admin/filo/${l.id}`)})})}),r==="reviews"&&e.jsx("div",{children:c.id?e.jsx(ys,{reviewId:c.id,onBack:()=>a("/admin/degerlendirmeler")}):e.jsx(n.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(ls,{})})}),r==="financial"&&e.jsx(n.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(as,{})}),r==="credits"&&e.jsx(n.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(rs,{})}),r==="job-history"&&e.jsx(n.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(ns,{})}),r==="admin-users"&&e.jsx(n.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(is,{})}),r==="service-areas"&&e.jsx(n.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(xs,{})}),r==="campaigns"&&e.jsx(n.Suspense,{fallback:e.jsx(v,{rows:6}),children:e.jsx(us,{})})]})]}),e.jsx(Xe,{request:g,onClose:()=>u(null)}),e.jsx(Je,{vehicle:z,onClose:()=>b(null)}),f&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>A(!1),children:e.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-md w-full",onClick:l=>l.stopPropagation(),children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Yeni Kullanƒ±cƒ± Ekle"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ad Soyad"}),e.jsx("input",{type:"text",placeholder:"√ñrn: Ahmet Yƒ±lmaz",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",placeholder:"ornek@email.com",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Telefon"}),e.jsx("input",{type:"tel",placeholder:"05XX XXX XX XX",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Kullanƒ±cƒ± Tipi"}),e.jsxs("select",{className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none",children:[e.jsx("option",{value:"customer",children:"M√º≈üteri (B2C)"}),e.jsx("option",{value:"partner",children:"Partner (B2B)"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>A(!1),className:"flex-1 px-4 py-3 bg-slate-200 text-slate-700 rounded-xl font-bold hover:bg-slate-300",children:"ƒ∞ptal"}),e.jsx("button",{onClick:()=>{alert("Kullanƒ±cƒ± eklendi!"),A(!1)},className:"flex-1 px-4 py-3 bg-orange-600 text-white rounded-xl font-bold hover:bg-orange-700",children:"Ekle"})]})]})]})})]})},gs=({requestId:a,onBack:i})=>{const[c,r]=j.useState(null);j.useEffect(()=>{r(null)},[a]);const s=c,p=()=>{s&&confirm(`${s.partnerName} i√ßin lead talebi onaylanacak. Devam edilsin mi?`)&&(r({...s,status:"approved",resolvedAt:new Date().toISOString(),resolvedBy:"Admin"}),alert("Lead talebi onaylandƒ±."))},d=()=>{if(!s)return;const o=prompt("Red nedeni (opsiyonel):");confirm(`${s.partnerName} i√ßin lead talebi reddedilecek. Devam edilsin mi?`)&&(r({...s,status:"rejected",resolvedAt:new Date().toISOString(),resolvedBy:"Admin",adminNotes:o||void 0}),alert("Lead talebi reddedildi."))};return s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:i,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:"‚Üê Geri"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Lead Talebi Detayƒ±"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:s.partnerName}),e.jsx("p",{className:"text-slate-500",children:s.id})]}),e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold ${s.status==="approved"?"bg-green-100 text-green-700":s.status==="rejected"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:s.status==="approved"?"Onaylandƒ±":s.status==="rejected"?"Reddedildi":"Bekliyor"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(U,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"B√∂lge"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.serviceArea})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(se,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Hizmet Tipi"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.serviceType})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsx(pe,{size:20,className:"text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-700 font-bold",children:"Maliyet"}),e.jsxs("p",{className:"font-black text-2xl text-blue-900",children:[s.creditCost," Kredi"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(M,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Olu≈üturulma"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.createdAt})]})]})]}),s.status==="pending"&&e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsxs("button",{onClick:p,className:"px-6 py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(I,{size:20}),"Onayla"]}),e.jsxs("button",{onClick:d,className:"px-6 py-3 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-colors flex items-center gap-2",children:[e.jsx(te,{size:20}),"Reddet"]})]}),s.status!=="pending"&&s.resolvedAt&&e.jsxs("div",{className:"mt-6 p-4 bg-slate-50 rounded-xl",children:[e.jsxs("p",{className:"text-sm text-slate-600",children:[e.jsx("strong",{children:"√á√∂z√ºld√º:"})," ",s.resolvedAt," - ",s.resolvedBy]}),s.adminNotes&&e.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:[e.jsx("strong",{children:"Not:"})," ",s.adminNotes]})]})]})]}):e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8",children:[e.jsx("button",{onClick:i,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4",children:"‚Üê Geri D√∂n"}),e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl",children:"Lead talebi bulunamadƒ±."})]})},js=({requestId:a,onBack:i})=>{var o,t;const[c,r]=j.useState(null);j.useEffect(()=>{r(null)},[a]);const s=c,p=()=>{s&&confirm(`${s.partnerName} i√ßin alan geni≈ületme talebi onaylanacak. Devam edilsin mi?`)&&(r({...s,status:"approved",resolvedAt:new Date().toISOString(),resolvedBy:"Admin"}),alert("Alan geni≈ületme talebi onaylandƒ±."))},d=()=>{if(!s)return;const g=prompt("Red nedeni:");g&&confirm(`${s.partnerName} i√ßin alan geni≈ületme talebi reddedilecek. Devam edilsin mi?`)&&(r({...s,status:"rejected",resolvedAt:new Date().toISOString(),resolvedBy:"Admin",adminNotes:g}),alert("Alan geni≈ületme talebi reddedildi."))};return s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:i,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:"‚Üê Geri"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Alan Geni≈ületme Talebi"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:s.partnerName}),e.jsx("p",{className:"text-slate-500",children:s.id})]}),e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold ${s.status==="approved"?"bg-green-100 text-green-700":s.status==="rejected"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:s.status==="approved"?"Onaylandƒ±":s.status==="rejected"?"Reddedildi":"Bekliyor"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Mevcut B√∂lgeler"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(o=s.currentAreas)==null?void 0:o.map((g,u)=>e.jsx("span",{className:"px-3 py-1 bg-slate-200 text-slate-700 rounded-lg text-sm font-medium",children:g},u))})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-xl border border-green-200",children:[e.jsx("p",{className:"text-xs text-green-700 font-bold mb-2",children:"ƒ∞stenen Yeni B√∂lgeler"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(t=s.requestedAreas)==null?void 0:t.map((g,u)=>e.jsx("span",{className:"px-3 py-1 bg-green-200 text-green-800 rounded-lg text-sm font-bold",children:g},u))})]}),s.reason&&e.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsx("p",{className:"text-xs text-blue-700 font-bold mb-1",children:"Gerek√ße"}),e.jsx("p",{className:"text-sm text-blue-900",children:s.reason})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(M,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Olu≈üturulma"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.createdAt})]})]})]}),s.status==="pending"&&e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsxs("button",{onClick:p,className:"px-6 py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(I,{size:20}),"Onayla"]}),e.jsxs("button",{onClick:d,className:"px-6 py-3 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-colors flex items-center gap-2",children:[e.jsx(te,{size:20}),"Reddet"]})]}),s.status!=="pending"&&s.resolvedAt&&e.jsxs("div",{className:"mt-6 p-4 bg-slate-50 rounded-xl",children:[e.jsxs("p",{className:"text-sm text-slate-600",children:[e.jsx("strong",{children:"√á√∂z√ºld√º:"})," ",s.resolvedAt," - ",s.resolvedBy]}),s.adminNotes&&e.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:[e.jsx("strong",{children:"Not:"})," ",s.adminNotes]})]})]})]}):e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8",children:[e.jsx("button",{onClick:i,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4",children:"‚Üê Geri D√∂n"}),e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl",children:"Alan geni≈ületme talebi bulunamadƒ±."})]})},fs=({requestId:a,onBack:i})=>{const[c,r]=j.useState(null);j.useEffect(()=>{r(null)},[a]);const s=c,p=()=>{if(!s)return;const t=prompt("√á√∂z√ºm a√ßƒ±klamasƒ±:");t&&confirm("Destek talebi √ß√∂z√ºld√º olarak i≈üaretlenecek. Devam edilsin mi?")&&(r({...s,status:"resolved",updatedAt:new Date().toISOString(),resolution:t}),alert("Destek talebi √ß√∂z√ºld√º olarak i≈üaretlendi."))},d=()=>{s&&confirm("Destek talebi kapatƒ±lacak. Devam edilsin mi?")&&(r({...s,status:"closed",updatedAt:new Date().toISOString()}),alert("Destek talebi kapatƒ±ldƒ±."))};if(!s)return e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8",children:[e.jsx("button",{onClick:i,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4",children:"‚Üê Geri D√∂n"}),e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl",children:"Destek talebi bulunamadƒ±."})]});const o=t=>{switch(t){case"urgent":return"bg-red-100 text-red-700 border-red-200";case"high":return"bg-orange-100 text-orange-700 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"low":return"bg-blue-100 text-blue-700 border-blue-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:i,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:"‚Üê Geri"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Destek Talebi Detayƒ±"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:s.partnerName}),e.jsx("p",{className:"text-slate-500",children:s.id})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${o(s.priority)}`,children:s.priority.toUpperCase()}),e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold ${s.status==="resolved"?"bg-green-100 text-green-700":s.status==="closed"?"bg-slate-100 text-slate-700":s.status==="in_progress"?"bg-blue-100 text-blue-700":"bg-orange-100 text-orange-700"}`,children:s.status==="resolved"?"√á√∂z√ºld√º":s.status==="closed"?"Kapatƒ±ldƒ±":s.status==="in_progress"?"ƒ∞≈ülemde":"A√ßƒ±k"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Konu"}),e.jsx("p",{className:"font-bold text-lg text-slate-900",children:s.subject})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsx("p",{className:"text-xs text-blue-700 font-bold mb-2",children:"A√ßƒ±klama"}),e.jsx("p",{className:"text-sm text-blue-900 whitespace-pre-wrap",children:s.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(M,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Olu≈üturulma"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.createdAt})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(E,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Atanan"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.assignedTo||"Hen√ºz atanmadƒ±"})]})]})]}),s.resolution&&e.jsxs("div",{className:"p-4 bg-green-50 rounded-xl border border-green-200",children:[e.jsx("p",{className:"text-xs text-green-700 font-bold mb-1",children:"√á√∂z√ºm"}),e.jsx("p",{className:"text-sm text-green-900",children:s.resolution})]})]}),(s.status==="open"||s.status==="in_progress")&&e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsxs("button",{onClick:p,className:"px-6 py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(I,{size:20}),"√á√∂z√ºld√º ƒ∞≈üaretle"]}),e.jsxs("button",{onClick:d,className:"px-6 py-3 bg-slate-600 text-white rounded-xl font-bold hover:bg-slate-700 transition-colors flex items-center gap-2",children:[e.jsx(te,{size:20}),"Kapat"]})]})]})]})},Ns=({offerId:a,onBack:i})=>{const[c,r]=j.useState(null);j.useEffect(()=>{r(null)},[a]);const s=c,p=d=>{s&&confirm(`Teklif durumu "${d}" olarak g√ºncellenecek. Onaylƒ±yor musunuz?`)&&(r({...s,status:d}),alert("Teklif durumu g√ºncellendi."))};return s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:i,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:"‚Üê Geri"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Teklif Detayƒ±"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:s.partnerName}),e.jsx("p",{className:"text-slate-500 font-mono text-sm",children:s.id})]}),e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold ${s.status==="accepted"?"bg-green-100 text-green-700":s.status==="rejected"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:s.status==="accepted"?"Kabul Edildi":s.status==="rejected"?"Reddedildi":"G√∂nderildi"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(E,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Partner ID"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.partnerId})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(D,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Talep ID"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.requestId})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-xl border border-green-200",children:[e.jsx(C,{size:20,className:"text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-green-700 font-bold",children:"Fiyat"}),e.jsxs("p",{className:"font-black text-2xl text-green-900",children:["‚Ç∫",s.price.toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(M,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Olu≈üturulma"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.createdAt})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("p",{className:"text-sm font-bold text-slate-700 mb-3",children:"Durum Deƒüi≈ütir:"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:["sent","accepted","rejected"].map(d=>e.jsx("button",{onClick:()=>p(d),disabled:s.status===d,className:`px-4 py-2 rounded-lg font-bold text-sm transition-colors ${s.status===d?"bg-slate-200 text-slate-500 cursor-not-allowed":d==="accepted"?"bg-green-100 text-green-700 hover:bg-green-200":d==="rejected"?"bg-red-100 text-red-700 hover:bg-red-200":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:d==="accepted"?"Kabul Et":d==="rejected"?"Reddet":"G√∂nderildi"},d))})]})]})]}):e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8",children:[e.jsx("button",{onClick:i,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4",children:"‚Üê Geri D√∂n"}),e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl",children:"Teklif bulunamadƒ±."})]})},vs=({vehicleId:a,onBack:i})=>{const[c,r]=j.useState(null);j.useEffect(()=>{r(null)},[a]);const s=c,p=d=>{s&&confirm(`Ara√ß durumu "${d}" olarak g√ºncellenecek. Onaylƒ±yor musunuz?`)&&(r({...s,status:d}),alert("Ara√ß durumu g√ºncellendi."))};return s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:i,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:"‚Üê Geri"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Ara√ß Detayƒ±"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:s.plate}),e.jsx("p",{className:"text-slate-500",children:s.model})]}),e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold ${s.status==="active"?"bg-green-100 text-green-700":s.status==="maintenance"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:s.status==="active"?"Aktif":s.status==="maintenance"?"Bakƒ±mda":"Devre Dƒ±≈üƒ±"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(Y,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Partner"}),e.jsx("p",{className:"font-bold text-slate-900",children:s.partnerName})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(W,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Ara√ß Tipi"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.type})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(E,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"S√ºr√ºc√º"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.driver})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(le,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Kayƒ±t Tarihi"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.registrationDate})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsx(I,{size:20,className:"text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-700 font-bold",children:"Toplam ƒ∞≈ü"}),e.jsx("p",{className:"font-black text-2xl text-blue-900",children:s.totalJobs})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-xl border border-green-200",children:[e.jsx(C,{size:20,className:"text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-green-700 font-bold",children:"Toplam Kazan√ß"}),e.jsxs("p",{className:"font-black text-2xl text-green-900",children:["‚Ç∫",s.totalEarnings.toLocaleString()]})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("p",{className:"text-sm font-bold text-slate-700 mb-3",children:"Durum Deƒüi≈ütir:"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:["active","maintenance","disabled"].map(d=>e.jsx("button",{onClick:()=>p(d),disabled:s.status===d,className:`px-4 py-2 rounded-lg font-bold text-sm transition-colors ${s.status===d?"bg-slate-200 text-slate-500 cursor-not-allowed":d==="active"?"bg-green-100 text-green-700 hover:bg-green-200":d==="maintenance"?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:d==="active"?"Aktif Et":d==="maintenance"?"Bakƒ±ma Al":"Devre Dƒ±≈üƒ± Bƒ±rak"},d))})]})]})]}):e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8",children:[e.jsx("button",{onClick:i,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4",children:"‚Üê Geri D√∂n"}),e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl",children:"Ara√ß bulunamadƒ±."})]})},ys=({reviewId:a,onBack:i})=>{const[c,r]=j.useState(null),[s,p]=j.useState(!0),[d,o]=j.useState(null);if(j.useEffect(()=>{(async()=>{p(!0),o(null);try{const u=await w.partnerReviews.getById(a);r(u)}catch(u){console.error("Review load error:",u),o("Deƒüerlendirme y√ºklenirken hata olu≈ütu.")}finally{p(!1)}})()},[a]),s)return e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8",children:[e.jsx("button",{onClick:i,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4",children:"‚Üê Geri D√∂n"}),e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]});const t=c;return t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:i,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:"‚Üê Geri"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Deƒüerlendirme Detayƒ±"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:t.partnerName}),e.jsx("p",{className:"text-slate-500",children:t.id})]}),e.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(g=>e.jsx(X,{size:24,className:g<=t.rating?"text-yellow-500 fill-yellow-500":"text-slate-300"},g))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(E,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"M√º≈üteri"}),e.jsx("p",{className:"font-bold text-slate-900",children:t.customerName})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(D,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"ƒ∞≈ü ID"}),e.jsx("p",{className:"font-medium text-slate-900",children:t.jobId})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(W,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Hizmet"}),e.jsx("p",{className:"font-medium text-slate-900",children:t.service})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(M,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Tarih"}),e.jsx("p",{className:"font-medium text-slate-900",children:t.createdAt?new Date(t.createdAt).toLocaleDateString("tr-TR"):"-"})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsx("p",{className:"text-xs text-blue-700 font-bold mb-2",children:"Yorum"}),e.jsx("p",{className:"text-sm text-blue-900",children:t.comment})]}),t.tags&&t.tags.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-xs text-slate-500 font-bold mb-2",children:"Etiketler"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((g,u)=>e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:g},u))})]})]})]}):e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8",children:[e.jsx("button",{onClick:i,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4",children:"‚Üê Geri D√∂n"}),e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl",children:"Deƒüerlendirme bulunamadƒ±."})]})},ks=({requestId:a,onBack:i})=>{const[c,r]=j.useState(null);j.useEffect(()=>{const t=getCustomerRequestsForAdmin().find(g=>g.id===a);r(t||null)},[a]);const s=c,p=o=>{s&&confirm(`Talep durumu "${o}" olarak g√ºncellenecek. Onaylƒ±yor musunuz?`)&&(r({...s,status:o}),alert("Talep durumu g√ºncellendi."))};if(!s)return e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8",children:[e.jsx("button",{onClick:i,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4",children:"‚Üê Geri D√∂n"}),e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl",children:"M√º≈üteri talebi bulunamadƒ±."})]});const d=o=>({towing:"√áekici",battery:"Ak√º Takviye",fuel:"Yakƒ±t",locksmith:"Anahtar",tire:"Lastik",winch:"Vin√ß"})[o]||o;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:i,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:"‚Üê Geri"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"M√º≈üteri Talebi Detayƒ±"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:s.customerName}),e.jsx("p",{className:"text-slate-500 font-mono text-sm",children:s.id})]}),e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold ${s.status==="completed"?"bg-green-100 text-green-700":s.status==="matched"?"bg-blue-100 text-blue-700":s.status==="cancelled"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:s.status==="completed"?"Tamamlandƒ±":s.status==="matched"?"E≈üle≈üti":s.status==="cancelled"?"ƒ∞ptal":"A√ßƒ±k"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(E,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"M√º≈üteri ID"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.customerId})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(se,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Hizmet Tipi"}),e.jsx("p",{className:"font-bold text-slate-900",children:d(s.serviceType)})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(U,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Konum"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.location})]})]}),s.amount&&e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-xl border border-green-200",children:[e.jsx(C,{size:20,className:"text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-green-700 font-bold",children:"Tutar"}),e.jsxs("p",{className:"font-black text-2xl text-green-900",children:["‚Ç∫",s.amount.toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(M,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Olu≈üturulma"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.createdAt})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("p",{className:"text-sm font-bold text-slate-700 mb-3",children:"Durum Deƒüi≈ütir:"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:["open","matched","completed","cancelled"].map(o=>e.jsx("button",{onClick:()=>p(o),disabled:s.status===o,className:`px-4 py-2 rounded-lg font-bold text-sm transition-colors ${s.status===o?"bg-slate-200 text-slate-500 cursor-not-allowed":o==="completed"?"bg-green-100 text-green-700 hover:bg-green-200":o==="matched"?"bg-blue-100 text-blue-700 hover:bg-blue-200":o==="cancelled"?"bg-red-100 text-red-700 hover:bg-red-200":"bg-yellow-100 text-yellow-700 hover:bg-yellow-200"}`,children:o==="completed"?"Tamamlandƒ±":o==="matched"?"E≈üle≈üti":o==="cancelled"?"ƒ∞ptal Et":"A√ßƒ±k"},o))})]})]})]})},ws=({userId:a,onBack:i})=>{const[c,r]=j.useState(null);j.useEffect(()=>{(async()=>{try{const t=await w.customers.getAll(),g=await w.partners.getAll(),z=[...t.map(b=>({id:b.id,name:b.full_name||`${b.first_name||""} ${b.last_name||""}`.trim()||b.name||b.email,email:b.email,phone:b.phone,role:"customer",type:"customer",createdAt:b.created_at,status:"active",joinDate:new Date(b.created_at).toLocaleDateString("tr-TR"),totalSpent:0,totalEarned:0})),...g.map(b=>({id:b.id,name:b.company_name||b.name||`${b.first_name||""} ${b.last_name||""}`.trim()||b.email,email:b.email,phone:b.phone,role:"partner",type:"partner",createdAt:b.created_at,status:b.status||"pending",joinDate:new Date(b.created_at).toLocaleDateString("tr-TR"),totalSpent:0,totalEarned:0}))].find(b=>b.id===a);r(z||null)}catch(t){console.error("Kullanƒ±cƒ± detayƒ± y√ºklenirken hata:",t),r(null)}})()},[a]);const s=c,p=()=>{alert(`${s==null?void 0:s.name} kullanƒ±cƒ±sƒ± d√ºzenleme √∂zelliƒüi yakƒ±nda eklenecek.`)},d=()=>{if(!s)return;const o=s.status==="active"?"suspended":"active",t=o==="active"?"aktif edildi":"askƒ±ya alƒ±ndƒ±";confirm(`${s.name} kullanƒ±cƒ±sƒ± ${t}. Onaylƒ±yor musunuz?`)&&(r({...s,status:o}),alert(`Kullanƒ±cƒ± ba≈üarƒ±yla ${t}.`))};return s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:i,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:"‚Üê Geri"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Kullanƒ±cƒ± Detayƒ±"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center text-white text-2xl font-bold",children:s.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:s.name}),e.jsx("p",{className:"text-slate-500",children:s.id})]})]}),e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold ${s.status==="active"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:s.status==="active"?"Aktif":"Askƒ±da"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(he,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Email"}),e.jsx("p",{className:"font-medium text-slate-900",children:s.email})]})]}),e.jsx("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${s.type==="customer"?"bg-blue-100 text-blue-700":"bg-orange-100 text-orange-700"}`,children:s.type==="customer"?"M√º≈üteri (B2C)":"Partner (B2B)"})}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(C,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Harcama"}),e.jsxs("p",{className:"font-bold text-slate-900",children:["‚Ç∫",(s.totalSpent||0).toLocaleString()]})]})]}),e.jsx("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:e.jsxs("span",{className:"text-xs text-slate-500",children:["Kayƒ±t Tarihi: ",s.joinDate]})})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:p,className:"px-6 py-3 bg-orange-600 text-white rounded-xl font-bold hover:bg-orange-700 transition-colors",children:"D√ºzenle"}),e.jsx("button",{onClick:d,className:"px-6 py-3 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-colors",children:s.status==="active"?"Askƒ±ya Al":"Aktif Et"})]})]})]}):e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8",children:[e.jsx("button",{onClick:i,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4",children:"‚Üê Geri D√∂n"}),e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl",children:"Kullanƒ±cƒ± bulunamadƒ±."})]})},_s=({partnerId:a,onBack:i})=>{var G;const[c,r]=j.useState(null),[s,p]=j.useState(!0),[d,o]=j.useState(null);j.useEffect(()=>{(async()=>{try{p(!0);const k=(await w.partners.getAll()).find(_=>_.id===a);if(k){const _=await w.partnerCredits.getByPartnerId(k.id);_?(k.credits=_.balance,console.log("üí∞ [Admin] Partner credits loaded from partner_credits:",_.balance)):console.log("‚ö†Ô∏è [Admin] No credit record found for partner:",k.id)}r(k||null)}catch(N){console.error("Partner detaylarƒ± y√ºklenemedi:",N)}finally{p(!1)}})()},[a]);const t=c,[g,u]=j.useState(!1),[z,b]=j.useState(!1),[f,A]=j.useState({name:"",email:"",phone:"",city:"",district:""});j.useEffect(()=>{t&&A({name:t.company_name||t.name||"",email:t.email||"",phone:t.phone||"",city:t.city||"",district:t.district||""})},[t]);const B=()=>{u(!0)},T=async()=>{if(t)try{await w.partners.update(t.id,{name:f.name,company_name:f.name,email:f.email,phone:f.phone,city:f.city,district:f.district}),r({...t,name:f.name,company_name:f.name,email:f.email,phone:f.phone,city:f.city,district:f.district}),u(!1),alert("‚úÖ Partner bilgileri g√ºncellendi.")}catch(m){console.error("Partner g√ºncelleme hatasƒ±:",m),alert("‚ùå Partner g√ºncellenirken hata olu≈ütu.")}},J=async()=>{const m=prompt(`${t==null?void 0:t.name} i√ßin eklenecek kredi miktarƒ±nƒ± girin:`);if(m&&t){const N=parseInt(m);if(!isNaN(N)&&N>0)try{if(console.log("üí∞ [Admin] Adding credits to partner:",t.id,N),!await w.partnerCredits.getByPartnerId(t.id)){console.log("üìù [Admin] Creating partner_credits record for:",t.id);const{data:Q,error:L}=await Te.from("partner_credits").insert({partner_id:t.id,partner_name:t.name,balance:0,total_purchased:0,total_used:0}).select().single();if(L)throw console.error("‚ùå [Admin] Error creating partner_credits:",L),L;console.log("‚úÖ [Admin] Partner_credits record created:",Q)}await w.partnerCredits.addCredits(t.id,t.name,N,"Admin tarafƒ±ndan eklendi");const _=await w.partnerCredits.getByPartnerId(t.id),O=(_==null?void 0:_.balance)||t.credits+N;r({...t,credits:O}),alert(`‚úÖ ${N} kredi ba≈üarƒ±yla eklendi. Yeni bakiye: ${O}`),console.log("‚úÖ [Admin] Credits added successfully. New balance:",O)}catch(k){console.error("‚ùå [Admin] Error adding credits:",k),alert("‚ùå Kredi eklenirken hata olu≈ütu. L√ºtfen tekrar deneyin.")}else alert("Ge√ßerli bir kredi miktarƒ± girin.")}},q=async()=>{if(!t||z)return;let m,N;if(t.status==="pending"?(m="active",N="onaylandƒ±"):t.status==="active"?(m="suspended",N="askƒ±ya alƒ±ndƒ±"):(m="active",N="aktif edildi"),confirm(`${t.name||t.company_name} partner ${N}. Onaylƒ±yor musunuz?`)){b(!0);try{console.log("üîÑ [PartnerDetail] Updating status to:",m);const k=await w.partners.update(t.id,{status:m});console.log("‚úÖ [PartnerDetail] Status updated, result:",k),r(_=>_?{..._,status:m}:null),alert(`‚úÖ Partner ba≈üarƒ±yla ${N}.`)}catch(k){console.error("‚ùå [PartnerDetail] Status g√ºncelleme hatasƒ±:",k),alert("‚ùå Partner durumu g√ºncellenirken hata olu≈ütu.")}finally{b(!1)}}};return s?e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8",children:[e.jsx("button",{onClick:i,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4",children:"‚Üê Geri D√∂n"}),e.jsx(v,{rows:8})]}):t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:i,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:"‚Üê Geri"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Partner Detayƒ±"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center text-white text-2xl font-bold",children:e.jsx(Y,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:t.company_name||t.name}),e.jsxs("p",{className:"text-sm text-slate-600",children:[t.first_name," ",t.last_name]}),e.jsx("p",{className:"text-xs text-slate-500",children:t.id})]})]}),e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold ${t.status==="active"?"bg-green-100 text-green-700":t.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:t.status==="active"?"Aktif":t.status==="pending"?"Onay Bekliyor":"Askƒ±da"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(he,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Email"}),e.jsx("p",{className:"font-medium text-slate-900",children:t.email})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(se,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Telefon"}),e.jsx("p",{className:"font-medium text-slate-900",children:t.phone})]})]}),t.tax_number&&e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(D,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Vergi Numarasƒ±"}),e.jsx("p",{className:"font-medium text-slate-900",children:t.tax_number})]})]}),t.city&&e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(U,{size:20,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Konum"}),e.jsxs("p",{className:"font-medium text-slate-900",children:[t.district,", ",t.city]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(X,{size:20,className:"text-yellow-500 fill-yellow-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Puan"}),e.jsx("p",{className:"font-bold text-slate-900",children:((G=t.rating)==null?void 0:G.toFixed(2))||"0.00"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx(I,{size:20,className:"text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Tamamlanan ƒ∞≈üler"}),e.jsx("p",{className:"font-bold text-slate-900",children:t.completed_jobs||0})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-orange-50 rounded-xl border border-orange-200",children:[e.jsx(C,{size:20,className:"text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-orange-700 font-bold",children:"Kredi Bakiyesi"}),e.jsx("p",{className:"font-black text-2xl text-orange-900",children:t.credits||0})]})]})]}),t.service_types&&t.service_types.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"text-sm font-bold text-slate-900 mb-2",children:"Hizmet Tipleri"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.service_types.map((m,N)=>e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg text-sm font-medium",children:m},N))})]}),(t.commercial_registry_url||t.vehicle_license_url)&&e.jsxs("div",{className:"mt-6 p-4 bg-slate-50 rounded-xl",children:[e.jsx("h4",{className:"text-sm font-bold text-slate-900 mb-3",children:"Y√ºklenen Belgeler"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.commercial_registry_url&&e.jsxs("button",{onClick:()=>o({url:t.commercial_registry_url,title:"Ticari Sicil Belgesi"}),className:"flex items-center gap-2 p-3 bg-white border border-slate-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors text-left",children:[e.jsx(D,{size:18,className:"text-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-sm font-medium text-slate-900 block",children:"Ticari Sicil"}),e.jsx("span",{className:"text-xs text-slate-500",children:"Tƒ±klayarak √∂nizleyin"})]}),e.jsx(H,{size:16,className:"text-slate-400"})]}),t.vehicle_license_url&&e.jsxs("button",{onClick:()=>o({url:t.vehicle_license_url,title:"Ara√ß Ruhsatƒ±"}),className:"flex items-center gap-2 p-3 bg-white border border-slate-200 rounded-lg hover:bg-green-50 hover:border-green-300 transition-colors text-left",children:[e.jsx(D,{size:18,className:"text-green-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-sm font-medium text-slate-900 block",children:"Ara√ß Ruhsatƒ±"}),e.jsx("span",{className:"text-xs text-slate-500",children:"Tƒ±klayarak √∂nizleyin"})]}),e.jsx(H,{size:16,className:"text-slate-400"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:B,className:"px-6 py-3 bg-orange-600 text-white rounded-xl font-bold hover:bg-orange-700 transition-colors",children:"D√ºzenle"}),e.jsx("button",{onClick:J,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition-colors",children:"Kredi Ekle"}),e.jsx("button",{onClick:q,disabled:z,className:`px-6 py-3 rounded-xl font-bold transition-colors ${z?"bg-gray-400 cursor-not-allowed":t.status==="active"?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"}`,children:z?"ƒ∞≈üleniyor...":t.status==="active"?"Askƒ±ya Al":"Onayla"})]})]}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>u(!1),children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full",onClick:m=>m.stopPropagation(),children:[e.jsx("div",{className:"p-4 border-b border-slate-200",children:e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Partner D√ºzenle"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Firma Adƒ±"}),e.jsx("input",{type:"text",value:f.name,onChange:m=>A({...f,name:m.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:f.email,onChange:m=>A({...f,email:m.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Telefon"}),e.jsx("input",{type:"tel",value:f.phone,onChange:m=>A({...f,phone:m.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"ƒ∞l"}),e.jsx("input",{type:"text",value:f.city,onChange:m=>A({...f,city:m.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"ƒ∞l√ße"}),e.jsx("input",{type:"text",value:f.district,onChange:m=>A({...f,district:m.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]})]}),e.jsxs("div",{className:"p-4 border-t border-slate-200 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-slate-700 hover:bg-slate-100 rounded-lg transition-colors",children:"ƒ∞ptal"}),e.jsx("button",{onClick:T,className:"px-6 py-2 bg-orange-600 text-white rounded-lg font-bold hover:bg-orange-700 transition-colors",children:"Kaydet"})]})]})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",onClick:()=>o(null),children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:m=>m.stopPropagation(),children:[e.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between bg-slate-50",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:d.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("a",{href:d.url,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(D,{size:16}),"Yeni Sekmede A√ß"]}),e.jsx("button",{onClick:()=>o(null),className:"p-2 text-slate-400 hover:text-slate-600 rounded-lg hover:bg-slate-100 transition-colors",children:"‚úï"})]})]}),e.jsx("div",{className:"p-4 bg-slate-100 flex items-center justify-center",style:{minHeight:"500px"},children:e.jsx("img",{src:d.url,alt:d.title,className:"max-w-full max-h-[70vh] object-contain rounded-lg shadow-lg",onError:m=>{const N=m.target;N.style.display="none";const k=N.parentElement;k&&(k.innerHTML=`
                      <div class="text-center p-8">
                        <p class="text-slate-600 mb-4">√ñnizleme yapƒ±lamƒ±yor. Belgeyi yeni sekmede a√ßƒ±n.</p>
                        <a href="${d.url}" target="_blank" class="px-6 py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 inline-block">
                          Belgeyi A√ß
                        </a>
                      </div>
                    `)}})})]})})]}):e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8",children:[e.jsx("button",{onClick:i,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4",children:"‚Üê Geri D√∂n"}),e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl",children:"Partner bulunamadƒ±."})]})},Gs=Object.freeze(Object.defineProperty({__proto__:null,default:bs},Symbol.toStringTag,{value:"Module"}));export{h as A,Ke as C,xe as E,v as L,Gs as a,oe as u};
