const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AboutPage-Ybs3cboJ.js","assets/target-iySQnlCJ.js","assets/award-wKMnLWc1.js","assets/heart-D8t-xQ0D.js","assets/shield-BMnRQou0.js","assets/trending-up-Cb2cPmhS.js","assets/ServicesPage-DB9Gc5wC.js","assets/battery-Ct-O04eS.js","assets/dollar-sign-Bf2m5oMO.js","assets/FAQPage-B-D5VjnB.js","assets/chevron-up-ClQEZB4p.js","assets/ContactPage-B5C4Ffli.js","assets/message-circle-CoCH4yNN.js","assets/send-TxbcjFsW.js","assets/CareerPage-BsDxRoJf.js","assets/globe-xl2HCnDE.js","assets/BlogPage-BAAL4oXG.js","assets/calendar-D1b0Y_--.js","assets/tag-Bh9lHVCH.js","assets/CampaignsPage-BPXNMfKG.js","assets/arrow-left-k2daj2hw.js","assets/gift-pp32O7DX.js","assets/percent-DZcpiFjj.js","assets/CampaignDetailPage-TvhZHb41.js","assets/circle-check-big-CqcM81E1.js","assets/LoginPage-COq-Yvpc.js","assets/notifications-5RW3RhV8.js","assets/star-PgN-DMKj.js","assets/lock-ij3f4Lxo.js","assets/eye-off-DYqFBWuh.js","assets/eye-BAKrK0sx.js","assets/AuthRequiredPage-BDJ3Rz44.js","assets/log-in-qmuZZq_H.js","assets/user-plus-CLbt5XDw.js","assets/PartnerRegisterPage-D8iXVYRx.js","assets/email-CODH2vT4.js","assets/UIComponents-CaGO4_EX.js","assets/circle-check-9KAPtrfx.js","assets/mail-CrakdI5j.js","assets/zap-CarEtdGw.js","assets/PartnerRegisterPageV2-D_33hDwT.js","assets/PartnerRegistrationSuccess--mF5h48-.js","assets/sparkles-DlQlh3nx.js","assets/download-Cz1TmO8w.js","assets/PartnerDashboard-CJSD0-Kn.js","assets/file-text-BpDBG9mG.js","assets/filter-CM8BCxMB.js","assets/credit-card-hvE0CsZZ.js","assets/useToast-CMlZ-U3d.js","assets/image-B6MDZTmA.js","assets/info-Cpj1Ov-g.js","assets/circle-alert-CZ2Yj6Nd.js","assets/trash-2-Bc35tyai.js","assets/plus-2Jnc3o5h.js","assets/pen-CtDx7eJ1.js","assets/showcaseSanitizer-CU8VnsaU.js","assets/wallet-Tjg30cx9.js","assets/save-DQpAmNA1.js","assets/phone-missed-UtB6_wLb.js","assets/camera-0cmzxOS5.js","assets/circle-help-ezEH5GJv.js","assets/building-W4VAz1vY.js","assets/map-Sif122Ob.js","assets/route-_bOphmBL.js","assets/log-out-dkc2aDMM.js","assets/CustomerProfilePage-5s8RAnu-.js","assets/package-Dk8GUvYJ.js","assets/OffersPanel-BJieamNm.js","assets/ban-DZ0viQ38.js","assets/QuotePage-BhszCTKV.js","assets/bus-BX4XzGLU.js","assets/activity-CVwg66jl.js","assets/ListingPage-HDs63Kxy.js","assets/ProviderDetailPage-DxrSjUx1.js","assets/AdminLoginPage-BbUMbX0N.js","assets/AdminSignupPage-qyv0ojgK.js","assets/AdminDashboard-BGdob1JS.js","assets/StatusBadge-CMGzEr0u.js","assets/square-pen-DdApCbRh.js","assets/AdminSystemLogs-DzW_UFjI.js","assets/AdminUserDetailPage-DLki26Uu.js","assets/AdminPartnerDetailPage-2mRwKZFZ.js","assets/AdminRequestDetailPage-BYJEzaKk.js","assets/AdminOfferDetailPage-Cg5l9whM.js","assets/AdminFleetDetailPage-DZUOCEB2.js","assets/AdminReviewDetailPage-DizdO7Av.js","assets/AdminLeadRequestDetailPage-OCSEcOk0.js","assets/AdminAreaRequestDetailPage-CqSUGcIa.js","assets/AdminSupportRequestDetailPage-D0NS5um7.js","assets/NotificationTestPage-DcRSGBlJ.js","assets/EmailConfirmationPage-BAbYJZc2.js","assets/PrivacyPolicyPage-BSGAFhL0.js","assets/TermsOfServicePage-BWHjmZ_p.js","assets/NotFoundPage-Cd9WoSEs.js","assets/SEOServicePage-C7DDWgVD.js","assets/EmergencyFloatingButton-BjLkGoOt.js","assets/SEOSearchWidget-C9Rnb1ai.js","assets/seoData-DUMDePs_.js","assets/SEOStatsPage-DC7qHtnD.js","assets/external-link-BZCRn-rb.js","assets/SEOBrandPage-CuDPBlgN.js","assets/calculator-EM9sXa58.js","assets/PartnerSEOPage-BhDEQnlc.js","assets/PriceCalculatorWizard-DLH0lDi6.js","assets/priceCalculator-Bv36E9gB.js","assets/PasswordSetupPage-DTji1ZTD.js","assets/PartnerReviewPendingPage-D3geY94N.js","assets/SpecialVehiclePage-DJV-83f1.js","assets/OnDutyPage-BLnS-Wgw.js","assets/IntercityPage-DwEUqh2V.js","assets/SpecialLocationPage-B3CV54yX.js","assets/PricingPage-i9a_7ol_.js"])))=>i.map(i=>d[i]);
var sS=Object.defineProperty;var aS=(t,e,r)=>e in t?sS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Yt=(t,e,r)=>aS(t,typeof e!="symbol"?e+"":e,r);function gv(t,e){for(var r=0;r<e.length;r++){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(i,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var Lr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xa(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var a=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:function(){return t[i]}})}),r}var ju={exports:{}},Ws={},Ou={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function oS(){if(Fm)return We;Fm=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function w(G){return G===null||typeof G!="object"?null:(G=m&&G[m]||G["@@iterator"],typeof G=="function"?G:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,C={};function E(G,ae,xe){this.props=G,this.context=ae,this.refs=C,this.updater=xe||b}E.prototype.isReactComponent={},E.prototype.setState=function(G,ae){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ae,"setState")},E.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function j(){}j.prototype=E.prototype;function D(G,ae,xe){this.props=G,this.context=ae,this.refs=C,this.updater=xe||b}var k=D.prototype=new j;k.constructor=D,x(k,E.prototype),k.isPureReactComponent=!0;var A=Array.isArray,R=Object.prototype.hasOwnProperty,M={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function N(G,ae,xe){var ye,ie={},Te=null,$e=null;if(ae!=null)for(ye in ae.ref!==void 0&&($e=ae.ref),ae.key!==void 0&&(Te=""+ae.key),ae)R.call(ae,ye)&&!O.hasOwnProperty(ye)&&(ie[ye]=ae[ye]);var Be=arguments.length-2;if(Be===1)ie.children=xe;else if(1<Be){for(var Ke=Array(Be),Ge=0;Ge<Be;Ge++)Ke[Ge]=arguments[Ge+2];ie.children=Ke}if(G&&G.defaultProps)for(ye in Be=G.defaultProps,Be)ie[ye]===void 0&&(ie[ye]=Be[ye]);return{$$typeof:t,type:G,key:Te,ref:$e,props:ie,_owner:M.current}}function K(G,ae){return{$$typeof:t,type:G.type,key:ae,ref:G.ref,props:G.props,_owner:G._owner}}function L(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function $(G){var ae={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(xe){return ae[xe]})}var Y=/\/+/g;function te(G,ae){return typeof G=="object"&&G!==null&&G.key!=null?$(""+G.key):ae.toString(36)}function ue(G,ae,xe,ye,ie){var Te=typeof G;(Te==="undefined"||Te==="boolean")&&(G=null);var $e=!1;if(G===null)$e=!0;else switch(Te){case"string":case"number":$e=!0;break;case"object":switch(G.$$typeof){case t:case e:$e=!0}}if($e)return $e=G,ie=ie($e),G=ye===""?"."+te($e,0):ye,A(ie)?(xe="",G!=null&&(xe=G.replace(Y,"$&/")+"/"),ue(ie,ae,xe,"",function(Ge){return Ge})):ie!=null&&(L(ie)&&(ie=K(ie,xe+(!ie.key||$e&&$e.key===ie.key?"":(""+ie.key).replace(Y,"$&/")+"/")+G)),ae.push(ie)),1;if($e=0,ye=ye===""?".":ye+":",A(G))for(var Be=0;Be<G.length;Be++){Te=G[Be];var Ke=ye+te(Te,Be);$e+=ue(Te,ae,xe,Ke,ie)}else if(Ke=w(G),typeof Ke=="function")for(G=Ke.call(G),Be=0;!(Te=G.next()).done;)Te=Te.value,Ke=ye+te(Te,Be++),$e+=ue(Te,ae,xe,Ke,ie);else if(Te==="object")throw ae=String(G),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.");return $e}function _e(G,ae,xe){if(G==null)return G;var ye=[],ie=0;return ue(G,ye,"","",function(Te){return ae.call(xe,Te,ie++)}),ye}function Se(G){if(G._status===-1){var ae=G._result;ae=ae(),ae.then(function(xe){(G._status===0||G._status===-1)&&(G._status=1,G._result=xe)},function(xe){(G._status===0||G._status===-1)&&(G._status=2,G._result=xe)}),G._status===-1&&(G._status=0,G._result=ae)}if(G._status===1)return G._result.default;throw G._result}var we={current:null},de={transition:null},oe={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:de,ReactCurrentOwner:M};function ge(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:_e,forEach:function(G,ae,xe){_e(G,function(){ae.apply(this,arguments)},xe)},count:function(G){var ae=0;return _e(G,function(){ae++}),ae},toArray:function(G){return _e(G,function(ae){return ae})||[]},only:function(G){if(!L(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},We.Component=E,We.Fragment=r,We.Profiler=a,We.PureComponent=D,We.StrictMode=i,We.Suspense=d,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,We.act=ge,We.cloneElement=function(G,ae,xe){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var ye=x({},G.props),ie=G.key,Te=G.ref,$e=G._owner;if(ae!=null){if(ae.ref!==void 0&&(Te=ae.ref,$e=M.current),ae.key!==void 0&&(ie=""+ae.key),G.type&&G.type.defaultProps)var Be=G.type.defaultProps;for(Ke in ae)R.call(ae,Ke)&&!O.hasOwnProperty(Ke)&&(ye[Ke]=ae[Ke]===void 0&&Be!==void 0?Be[Ke]:ae[Ke])}var Ke=arguments.length-2;if(Ke===1)ye.children=xe;else if(1<Ke){Be=Array(Ke);for(var Ge=0;Ge<Ke;Ge++)Be[Ge]=arguments[Ge+2];ye.children=Be}return{$$typeof:t,type:G.type,key:ie,ref:Te,props:ye,_owner:$e}},We.createContext=function(G){return G={$$typeof:c,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:o,_context:G},G.Consumer=G},We.createElement=N,We.createFactory=function(G){var ae=N.bind(null,G);return ae.type=G,ae},We.createRef=function(){return{current:null}},We.forwardRef=function(G){return{$$typeof:u,render:G}},We.isValidElement=L,We.lazy=function(G){return{$$typeof:g,_payload:{_status:-1,_result:G},_init:Se}},We.memo=function(G,ae){return{$$typeof:f,type:G,compare:ae===void 0?null:ae}},We.startTransition=function(G){var ae=de.transition;de.transition={};try{G()}finally{de.transition=ae}},We.unstable_act=ge,We.useCallback=function(G,ae){return we.current.useCallback(G,ae)},We.useContext=function(G){return we.current.useContext(G)},We.useDebugValue=function(){},We.useDeferredValue=function(G){return we.current.useDeferredValue(G)},We.useEffect=function(G,ae){return we.current.useEffect(G,ae)},We.useId=function(){return we.current.useId()},We.useImperativeHandle=function(G,ae,xe){return we.current.useImperativeHandle(G,ae,xe)},We.useInsertionEffect=function(G,ae){return we.current.useInsertionEffect(G,ae)},We.useLayoutEffect=function(G,ae){return we.current.useLayoutEffect(G,ae)},We.useMemo=function(G,ae){return we.current.useMemo(G,ae)},We.useReducer=function(G,ae,xe){return we.current.useReducer(G,ae,xe)},We.useRef=function(G){return we.current.useRef(G)},We.useState=function(G){return we.current.useState(G)},We.useSyncExternalStore=function(G,ae,xe){return we.current.useSyncExternalStore(G,ae,xe)},We.useTransition=function(){return we.current.useTransition()},We.version="18.3.1",We}var Vm;function Qd(){return Vm||(Vm=1,Ou.exports=oS()),Ou.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function lS(){if(qm)return Ws;qm=1;var t=Qd(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(u,d,f){var g,m={},w=null,b=null;f!==void 0&&(w=""+f),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(b=d.ref);for(g in d)i.call(d,g)&&!o.hasOwnProperty(g)&&(m[g]=d[g]);if(u&&u.defaultProps)for(g in d=u.defaultProps,d)m[g]===void 0&&(m[g]=d[g]);return{$$typeof:e,type:u,key:w,ref:b,props:m,_owner:a.current}}return Ws.Fragment=r,Ws.jsx=c,Ws.jsxs=c,Ws}var Km;function cS(){return Km||(Km=1,ju.exports=lS()),ju.exports}var y=cS(),z=Qd();const Ie=Rl(z),uS=gv({__proto__:null,default:Ie},[z]);var Mo={},Nu={exports:{}},Jt={},Iu={exports:{}},Du={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm;function dS(){return Wm||(Wm=1,(function(t){function e(de,oe){var ge=de.length;de.push(oe);e:for(;0<ge;){var G=ge-1>>>1,ae=de[G];if(0<a(ae,oe))de[G]=oe,de[ge]=ae,ge=G;else break e}}function r(de){return de.length===0?null:de[0]}function i(de){if(de.length===0)return null;var oe=de[0],ge=de.pop();if(ge!==oe){de[0]=ge;e:for(var G=0,ae=de.length,xe=ae>>>1;G<xe;){var ye=2*(G+1)-1,ie=de[ye],Te=ye+1,$e=de[Te];if(0>a(ie,ge))Te<ae&&0>a($e,ie)?(de[G]=$e,de[Te]=ge,G=Te):(de[G]=ie,de[ye]=ge,G=ye);else if(Te<ae&&0>a($e,ge))de[G]=$e,de[Te]=ge,G=Te;else break e}}return oe}function a(de,oe){var ge=de.sortIndex-oe.sortIndex;return ge!==0?ge:de.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var d=[],f=[],g=1,m=null,w=3,b=!1,x=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(de){for(var oe=r(f);oe!==null;){if(oe.callback===null)i(f);else if(oe.startTime<=de)i(f),oe.sortIndex=oe.expirationTime,e(d,oe);else break;oe=r(f)}}function A(de){if(C=!1,k(de),!x)if(r(d)!==null)x=!0,Se(R);else{var oe=r(f);oe!==null&&we(A,oe.startTime-de)}}function R(de,oe){x=!1,C&&(C=!1,j(N),N=-1),b=!0;var ge=w;try{for(k(oe),m=r(d);m!==null&&(!(m.expirationTime>oe)||de&&!$());){var G=m.callback;if(typeof G=="function"){m.callback=null,w=m.priorityLevel;var ae=G(m.expirationTime<=oe);oe=t.unstable_now(),typeof ae=="function"?m.callback=ae:m===r(d)&&i(d),k(oe)}else i(d);m=r(d)}if(m!==null)var xe=!0;else{var ye=r(f);ye!==null&&we(A,ye.startTime-oe),xe=!1}return xe}finally{m=null,w=ge,b=!1}}var M=!1,O=null,N=-1,K=5,L=-1;function $(){return!(t.unstable_now()-L<K)}function Y(){if(O!==null){var de=t.unstable_now();L=de;var oe=!0;try{oe=O(!0,de)}finally{oe?te():(M=!1,O=null)}}else M=!1}var te;if(typeof D=="function")te=function(){D(Y)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,_e=ue.port2;ue.port1.onmessage=Y,te=function(){_e.postMessage(null)}}else te=function(){E(Y,0)};function Se(de){O=de,M||(M=!0,te())}function we(de,oe){N=E(function(){de(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(de){de.callback=null},t.unstable_continueExecution=function(){x||b||(x=!0,Se(R))},t.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<de?Math.floor(1e3/de):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(de){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var ge=w;w=oe;try{return de()}finally{w=ge}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(de,oe){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var ge=w;w=de;try{return oe()}finally{w=ge}},t.unstable_scheduleCallback=function(de,oe,ge){var G=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?G+ge:G):ge=G,de){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=ge+ae,de={id:g++,callback:oe,priorityLevel:de,startTime:ge,expirationTime:ae,sortIndex:-1},ge>G?(de.sortIndex=ge,e(f,de),r(d)===null&&de===r(f)&&(C?(j(N),N=-1):C=!0,we(A,ge-G))):(de.sortIndex=ae,e(d,de),x||b||(x=!0,Se(R))),de},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(de){var oe=w;return function(){var ge=w;w=oe;try{return de.apply(this,arguments)}finally{w=ge}}}})(Du)),Du}var Gm;function hS(){return Gm||(Gm=1,Iu.exports=dS()),Iu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm;function fS(){if(Hm)return Jt;Hm=1;var t=Qd(),e=hS();function r(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function o(n,s){c(n,s),c(n+"Capture",s)}function c(n,s){for(a[n]=s,n=0;n<s.length;n++)i.add(s[n])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function w(n){return d.call(m,n)?!0:d.call(g,n)?!1:f.test(n)?m[n]=!0:(g[n]=!0,!1)}function b(n,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function x(n,s,l,h){if(s===null||typeof s>"u"||b(n,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function C(n,s,l,h,v,_,P){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=v,this.mustUseProperty=l,this.propertyName=n,this.type=s,this.sanitizeURL=_,this.removeEmptyString=P}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){E[n]=new C(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];E[s]=new C(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){E[n]=new C(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){E[n]=new C(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){E[n]=new C(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){E[n]=new C(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){E[n]=new C(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){E[n]=new C(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){E[n]=new C(n,5,!1,n.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function D(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(j,D);E[s]=new C(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(j,D);E[s]=new C(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(j,D);E[s]=new C(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){E[n]=new C(n,1,!1,n.toLowerCase(),null,!1,!1)}),E.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){E[n]=new C(n,1,!1,n.toLowerCase(),null,!0,!0)});function k(n,s,l,h){var v=E.hasOwnProperty(s)?E[s]:null;(v!==null?v.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(x(s,l,v,h)&&(l=null),h||v===null?w(s)&&(l===null?n.removeAttribute(s):n.setAttribute(s,""+l)):v.mustUseProperty?n[v.propertyName]=l===null?v.type===3?!1:"":l:(s=v.attributeName,h=v.attributeNamespace,l===null?n.removeAttribute(s):(v=v.type,l=v===3||v===4&&l===!0?"":""+l,h?n.setAttributeNS(h,s,l):n.setAttribute(s,l))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),M=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),$=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),de=Symbol.iterator;function oe(n){return n===null||typeof n!="object"?null:(n=de&&n[de]||n["@@iterator"],typeof n=="function"?n:null)}var ge=Object.assign,G;function ae(n){if(G===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);G=s&&s[1]||""}return`
`+G+n}var xe=!1;function ye(n,s){if(!n||xe)return"";xe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(ee){var h=ee}Reflect.construct(n,[],s)}else{try{s.call()}catch(ee){h=ee}n.call(s.prototype)}else{try{throw Error()}catch(ee){h=ee}n()}}catch(ee){if(ee&&h&&typeof ee.stack=="string"){for(var v=ee.stack.split(`
`),_=h.stack.split(`
`),P=v.length-1,B=_.length-1;1<=P&&0<=B&&v[P]!==_[B];)B--;for(;1<=P&&0<=B;P--,B--)if(v[P]!==_[B]){if(P!==1||B!==1)do if(P--,B--,0>B||v[P]!==_[B]){var q=`
`+v[P].replace(" at new "," at ");return n.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",n.displayName)),q}while(1<=P&&0<=B);break}}}finally{xe=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?ae(n):""}function ie(n){switch(n.tag){case 5:return ae(n.type);case 16:return ae("Lazy");case 13:return ae("Suspense");case 19:return ae("SuspenseList");case 0:case 2:case 15:return n=ye(n.type,!1),n;case 11:return n=ye(n.type.render,!1),n;case 1:return n=ye(n.type,!0),n;default:return""}}function Te(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case O:return"Fragment";case M:return"Portal";case K:return"Profiler";case N:return"StrictMode";case te:return"Suspense";case ue:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case $:return(n.displayName||"Context")+".Consumer";case L:return(n._context.displayName||"Context")+".Provider";case Y:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _e:return s=n.displayName||null,s!==null?s:Te(n.type)||"Memo";case Se:s=n._payload,n=n._init;try{return Te(n(s))}catch{}}return null}function $e(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(s);case 8:return s===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Be(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ke(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ge(n){var s=Ke(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),h=""+n[s];if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var v=l.get,_=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return v.call(this)},set:function(P){h=""+P,_.call(this,P)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(P){h=""+P},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function bt(n){n._valueTracker||(n._valueTracker=Ge(n))}function ut(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return n&&(h=Ke(n)?n.checked?"true":"false":n.value),n=h,n!==l?(s.setValue(n),!0):!1}function it(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function le(n,s){var l=s.checked;return ge({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function F(n,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Be(s.value!=null?s.value:l),n._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function J(n,s){s=s.checked,s!=null&&k(n,"checked",s,!1)}function re(n,s){J(n,s);var l=Be(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(h==="submit"||h==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?I(n,s.type,l):s.hasOwnProperty("defaultValue")&&I(n,s.type,Be(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function ne(n,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,l||s===n.value||(n.value=s),n.defaultValue=s}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function I(n,s,l){(s!=="number"||it(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var p=Array.isArray;function S(n,s,l,h){if(n=n.options,s){s={};for(var v=0;v<l.length;v++)s["$"+l[v]]=!0;for(l=0;l<n.length;l++)v=s.hasOwnProperty("$"+n[l].value),n[l].selected!==v&&(n[l].selected=v),v&&h&&(n[l].defaultSelected=!0)}else{for(l=""+Be(l),s=null,v=0;v<n.length;v++){if(n[v].value===l){n[v].selected=!0,h&&(n[v].defaultSelected=!0);return}s!==null||n[v].disabled||(s=n[v])}s!==null&&(s.selected=!0)}}function T(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return ge({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function V(n,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(r(92));if(p(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),l=s}n._wrapperState={initialValue:Be(l)}}function H(n,s){var l=Be(s.value),h=Be(s.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),s.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),h!=null&&(n.defaultValue=""+h)}function Z(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function me(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ze(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?me(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Xe,Ve=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,v){MSApp.execUnsafeLocalFunction(function(){return n(s,l,h,v)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Xe=Xe||document.createElement("div"),Xe.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Xe.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Fe(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$r=["Webkit","ms","Moz","O"];Object.keys(dt).forEach(function(n){$r.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),dt[s]=dt[n]})});function Fr(n,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||dt.hasOwnProperty(n)&&dt[n]?(""+s).trim():s+"px"}function an(n,s){n=n.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,v=Fr(l,s[l],h);l==="float"&&(l="cssFloat"),h?n.setProperty(l,v):n[l]=v}}var on=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rr(n,s){if(s){if(on[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function ql(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kl=null;function Wl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Gl=null,fi=null,pi=null;function sf(n){if(n=js(n)){if(typeof Gl!="function")throw Error(r(280));var s=n.stateNode;s&&(s=Qa(s),Gl(n.stateNode,n.type,s))}}function af(n){fi?pi?pi.push(n):pi=[n]:fi=n}function of(){if(fi){var n=fi,s=pi;if(pi=fi=null,sf(n),s)for(n=0;n<s.length;n++)sf(s[n])}}function lf(n,s){return n(s)}function cf(){}var Hl=!1;function uf(n,s,l){if(Hl)return n(s,l);Hl=!0;try{return lf(n,s,l)}finally{Hl=!1,(fi!==null||pi!==null)&&(cf(),of())}}function us(n,s){var l=n.stateNode;if(l===null)return null;var h=Qa(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Yl=!1;if(u)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){Yl=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{Yl=!1}function db(n,s,l,h,v,_,P,B,q){var ee=Array.prototype.slice.call(arguments,3);try{s.apply(l,ee)}catch(he){this.onError(he)}}var hs=!1,Aa=null,Ra=!1,Jl=null,hb={onError:function(n){hs=!0,Aa=n}};function fb(n,s,l,h,v,_,P,B,q){hs=!1,Aa=null,db.apply(hb,arguments)}function pb(n,s,l,h,v,_,P,B,q){if(fb.apply(this,arguments),hs){if(hs){var ee=Aa;hs=!1,Aa=null}else throw Error(r(198));Ra||(Ra=!0,Jl=ee)}}function zn(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function df(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function hf(n){if(zn(n)!==n)throw Error(r(188))}function mb(n){var s=n.alternate;if(!s){if(s=zn(n),s===null)throw Error(r(188));return s!==n?null:n}for(var l=n,h=s;;){var v=l.return;if(v===null)break;var _=v.alternate;if(_===null){if(h=v.return,h!==null){l=h;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===l)return hf(v),n;if(_===h)return hf(v),s;_=_.sibling}throw Error(r(188))}if(l.return!==h.return)l=v,h=_;else{for(var P=!1,B=v.child;B;){if(B===l){P=!0,l=v,h=_;break}if(B===h){P=!0,h=v,l=_;break}B=B.sibling}if(!P){for(B=_.child;B;){if(B===l){P=!0,l=_,h=v;break}if(B===h){P=!0,h=_,l=v;break}B=B.sibling}if(!P)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:s}function ff(n){return n=mb(n),n!==null?pf(n):null}function pf(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=pf(n);if(s!==null)return s;n=n.sibling}return null}var mf=e.unstable_scheduleCallback,gf=e.unstable_cancelCallback,gb=e.unstable_shouldYield,yb=e.unstable_requestPaint,yt=e.unstable_now,vb=e.unstable_getCurrentPriorityLevel,Ql=e.unstable_ImmediatePriority,yf=e.unstable_UserBlockingPriority,ja=e.unstable_NormalPriority,wb=e.unstable_LowPriority,vf=e.unstable_IdlePriority,Oa=null,jr=null;function _b(n){if(jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(Oa,n,void 0,(n.current.flags&128)===128)}catch{}}var pr=Math.clz32?Math.clz32:Sb,bb=Math.log,xb=Math.LN2;function Sb(n){return n>>>=0,n===0?32:31-(bb(n)/xb|0)|0}var Na=64,Ia=4194304;function fs(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Da(n,s){var l=n.pendingLanes;if(l===0)return 0;var h=0,v=n.suspendedLanes,_=n.pingedLanes,P=l&268435455;if(P!==0){var B=P&~v;B!==0?h=fs(B):(_&=P,_!==0&&(h=fs(_)))}else P=l&~v,P!==0?h=fs(P):_!==0&&(h=fs(_));if(h===0)return 0;if(s!==0&&s!==h&&(s&v)===0&&(v=h&-h,_=s&-s,v>=_||v===16&&(_&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=h;0<s;)l=31-pr(s),v=1<<l,h|=n[l],s&=~v;return h}function kb(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cb(n,s){for(var l=n.suspendedLanes,h=n.pingedLanes,v=n.expirationTimes,_=n.pendingLanes;0<_;){var P=31-pr(_),B=1<<P,q=v[P];q===-1?((B&l)===0||(B&h)!==0)&&(v[P]=kb(B,s)):q<=s&&(n.expiredLanes|=B),_&=~B}}function Xl(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function wf(){var n=Na;return Na<<=1,(Na&4194240)===0&&(Na=64),n}function Zl(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function ps(n,s,l){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-pr(s),n[s]=l}function Eb(n,s){var l=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var h=n.eventTimes;for(n=n.expirationTimes;0<l;){var v=31-pr(l),_=1<<v;s[v]=0,h[v]=-1,n[v]=-1,l&=~_}}function ec(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var h=31-pr(l),v=1<<h;v&s|n[h]&s&&(n[h]|=s),l&=~v}}var et=0;function _f(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var bf,tc,xf,Sf,kf,rc=!1,La=[],ln=null,cn=null,un=null,ms=new Map,gs=new Map,dn=[],Tb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cf(n,s){switch(n){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":cn=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":ms.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(s.pointerId)}}function ys(n,s,l,h,v,_){return n===null||n.nativeEvent!==_?(n={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[v]},s!==null&&(s=js(s),s!==null&&tc(s)),n):(n.eventSystemFlags|=h,s=n.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),n)}function Pb(n,s,l,h,v){switch(s){case"focusin":return ln=ys(ln,n,s,l,h,v),!0;case"dragenter":return cn=ys(cn,n,s,l,h,v),!0;case"mouseover":return un=ys(un,n,s,l,h,v),!0;case"pointerover":var _=v.pointerId;return ms.set(_,ys(ms.get(_)||null,n,s,l,h,v)),!0;case"gotpointercapture":return _=v.pointerId,gs.set(_,ys(gs.get(_)||null,n,s,l,h,v)),!0}return!1}function Ef(n){var s=Un(n.target);if(s!==null){var l=zn(s);if(l!==null){if(s=l.tag,s===13){if(s=df(l),s!==null){n.blockedOn=s,kf(n.priority,function(){xf(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ma(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=ic(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var h=new l.constructor(l.type,l);Kl=h,l.target.dispatchEvent(h),Kl=null}else return s=js(l),s!==null&&tc(s),n.blockedOn=l,!1;s.shift()}return!0}function Tf(n,s,l){Ma(n)&&l.delete(s)}function Ab(){rc=!1,ln!==null&&Ma(ln)&&(ln=null),cn!==null&&Ma(cn)&&(cn=null),un!==null&&Ma(un)&&(un=null),ms.forEach(Tf),gs.forEach(Tf)}function vs(n,s){n.blockedOn===s&&(n.blockedOn=null,rc||(rc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ab)))}function ws(n){function s(v){return vs(v,n)}if(0<La.length){vs(La[0],n);for(var l=1;l<La.length;l++){var h=La[l];h.blockedOn===n&&(h.blockedOn=null)}}for(ln!==null&&vs(ln,n),cn!==null&&vs(cn,n),un!==null&&vs(un,n),ms.forEach(s),gs.forEach(s),l=0;l<dn.length;l++)h=dn[l],h.blockedOn===n&&(h.blockedOn=null);for(;0<dn.length&&(l=dn[0],l.blockedOn===null);)Ef(l),l.blockedOn===null&&dn.shift()}var mi=A.ReactCurrentBatchConfig,za=!0;function Rb(n,s,l,h){var v=et,_=mi.transition;mi.transition=null;try{et=1,nc(n,s,l,h)}finally{et=v,mi.transition=_}}function jb(n,s,l,h){var v=et,_=mi.transition;mi.transition=null;try{et=4,nc(n,s,l,h)}finally{et=v,mi.transition=_}}function nc(n,s,l,h){if(za){var v=ic(n,s,l,h);if(v===null)bc(n,s,h,Ua,l),Cf(n,h);else if(Pb(v,n,s,l,h))h.stopPropagation();else if(Cf(n,h),s&4&&-1<Tb.indexOf(n)){for(;v!==null;){var _=js(v);if(_!==null&&bf(_),_=ic(n,s,l,h),_===null&&bc(n,s,h,Ua,l),_===v)break;v=_}v!==null&&h.stopPropagation()}else bc(n,s,h,null,l)}}var Ua=null;function ic(n,s,l,h){if(Ua=null,n=Wl(h),n=Un(n),n!==null)if(s=zn(n),s===null)n=null;else if(l=s.tag,l===13){if(n=df(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Ua=n,null}function Pf(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vb()){case Ql:return 1;case yf:return 4;case ja:case wb:return 16;case vf:return 536870912;default:return 16}default:return 16}}var hn=null,sc=null,Ba=null;function Af(){if(Ba)return Ba;var n,s=sc,l=s.length,h,v="value"in hn?hn.value:hn.textContent,_=v.length;for(n=0;n<l&&s[n]===v[n];n++);var P=l-n;for(h=1;h<=P&&s[l-h]===v[_-h];h++);return Ba=v.slice(n,1<h?1-h:void 0)}function $a(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Fa(){return!0}function Rf(){return!1}function Zt(n){function s(l,h,v,_,P){this._reactName=l,this._targetInst=v,this.type=h,this.nativeEvent=_,this.target=P,this.currentTarget=null;for(var B in n)n.hasOwnProperty(B)&&(l=n[B],this[B]=l?l(_):_[B]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Fa:Rf,this.isPropagationStopped=Rf,this}return ge(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Fa)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Fa)},persist:function(){},isPersistent:Fa}),s}var gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ac=Zt(gi),_s=ge({},gi,{view:0,detail:0}),Ob=Zt(_s),oc,lc,bs,Va=ge({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==bs&&(bs&&n.type==="mousemove"?(oc=n.screenX-bs.screenX,lc=n.screenY-bs.screenY):lc=oc=0,bs=n),oc)},movementY:function(n){return"movementY"in n?n.movementY:lc}}),jf=Zt(Va),Nb=ge({},Va,{dataTransfer:0}),Ib=Zt(Nb),Db=ge({},_s,{relatedTarget:0}),cc=Zt(Db),Lb=ge({},gi,{animationName:0,elapsedTime:0,pseudoElement:0}),Mb=Zt(Lb),zb=ge({},gi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ub=Zt(zb),Bb=ge({},gi,{data:0}),Of=Zt(Bb),$b={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qb(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Vb[n])?!!s[n]:!1}function uc(){return qb}var Kb=ge({},_s,{key:function(n){if(n.key){var s=$b[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=$a(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Fb[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uc,charCode:function(n){return n.type==="keypress"?$a(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?$a(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Wb=Zt(Kb),Gb=ge({},Va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nf=Zt(Gb),Hb=ge({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uc}),Yb=Zt(Hb),Jb=ge({},gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qb=Zt(Jb),Xb=ge({},Va,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Zb=Zt(Xb),ex=[9,13,27,32],dc=u&&"CompositionEvent"in window,xs=null;u&&"documentMode"in document&&(xs=document.documentMode);var tx=u&&"TextEvent"in window&&!xs,If=u&&(!dc||xs&&8<xs&&11>=xs),Df=" ",Lf=!1;function Mf(n,s){switch(n){case"keyup":return ex.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var yi=!1;function rx(n,s){switch(n){case"compositionend":return zf(s);case"keypress":return s.which!==32?null:(Lf=!0,Df);case"textInput":return n=s.data,n===Df&&Lf?null:n;default:return null}}function nx(n,s){if(yi)return n==="compositionend"||!dc&&Mf(n,s)?(n=Af(),Ba=sc=hn=null,yi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return If&&s.locale!=="ko"?null:s.data;default:return null}}var ix={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!ix[n.type]:s==="textarea"}function Bf(n,s,l,h){af(h),s=Ha(s,"onChange"),0<s.length&&(l=new ac("onChange","change",null,l,h),n.push({event:l,listeners:s}))}var Ss=null,ks=null;function sx(n){ip(n,0)}function qa(n){var s=xi(n);if(ut(s))return n}function ax(n,s){if(n==="change")return s}var $f=!1;if(u){var hc;if(u){var fc="oninput"in document;if(!fc){var Ff=document.createElement("div");Ff.setAttribute("oninput","return;"),fc=typeof Ff.oninput=="function"}hc=fc}else hc=!1;$f=hc&&(!document.documentMode||9<document.documentMode)}function Vf(){Ss&&(Ss.detachEvent("onpropertychange",qf),ks=Ss=null)}function qf(n){if(n.propertyName==="value"&&qa(ks)){var s=[];Bf(s,ks,n,Wl(n)),uf(sx,s)}}function ox(n,s,l){n==="focusin"?(Vf(),Ss=s,ks=l,Ss.attachEvent("onpropertychange",qf)):n==="focusout"&&Vf()}function lx(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return qa(ks)}function cx(n,s){if(n==="click")return qa(s)}function ux(n,s){if(n==="input"||n==="change")return qa(s)}function dx(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var mr=typeof Object.is=="function"?Object.is:dx;function Cs(n,s){if(mr(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var v=l[h];if(!d.call(s,v)||!mr(n[v],s[v]))return!1}return!0}function Kf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Wf(n,s){var l=Kf(n);n=0;for(var h;l;){if(l.nodeType===3){if(h=n+l.textContent.length,n<=s&&h>=s)return{node:l,offset:s-n};n=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Kf(l)}}function Gf(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Gf(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Hf(){for(var n=window,s=it();s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=it(n.document)}return s}function pc(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function hx(n){var s=Hf(),l=n.focusedElem,h=n.selectionRange;if(s!==l&&l&&l.ownerDocument&&Gf(l.ownerDocument.documentElement,l)){if(h!==null&&pc(l)){if(s=h.start,n=h.end,n===void 0&&(n=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(n,l.value.length);else if(n=(s=l.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var v=l.textContent.length,_=Math.min(h.start,v);h=h.end===void 0?_:Math.min(h.end,v),!n.extend&&_>h&&(v=h,h=_,_=v),v=Wf(l,_);var P=Wf(l,h);v&&P&&(n.rangeCount!==1||n.anchorNode!==v.node||n.anchorOffset!==v.offset||n.focusNode!==P.node||n.focusOffset!==P.offset)&&(s=s.createRange(),s.setStart(v.node,v.offset),n.removeAllRanges(),_>h?(n.addRange(s),n.extend(P.node,P.offset)):(s.setEnd(P.node,P.offset),n.addRange(s)))}}for(s=[],n=l;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)n=s[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var fx=u&&"documentMode"in document&&11>=document.documentMode,vi=null,mc=null,Es=null,gc=!1;function Yf(n,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;gc||vi==null||vi!==it(h)||(h=vi,"selectionStart"in h&&pc(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Es&&Cs(Es,h)||(Es=h,h=Ha(mc,"onSelect"),0<h.length&&(s=new ac("onSelect","select",null,s,l),n.push({event:s,listeners:h}),s.target=vi)))}function Ka(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var wi={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionend:Ka("Transition","TransitionEnd")},yc={},Jf={};u&&(Jf=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);function Wa(n){if(yc[n])return yc[n];if(!wi[n])return n;var s=wi[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in Jf)return yc[n]=s[l];return n}var Qf=Wa("animationend"),Xf=Wa("animationiteration"),Zf=Wa("animationstart"),ep=Wa("transitionend"),tp=new Map,rp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fn(n,s){tp.set(n,s),o(s,[n])}for(var vc=0;vc<rp.length;vc++){var wc=rp[vc],px=wc.toLowerCase(),mx=wc[0].toUpperCase()+wc.slice(1);fn(px,"on"+mx)}fn(Qf,"onAnimationEnd"),fn(Xf,"onAnimationIteration"),fn(Zf,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(ep,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ts));function np(n,s,l){var h=n.type||"unknown-event";n.currentTarget=l,pb(h,s,void 0,n),n.currentTarget=null}function ip(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var h=n[l],v=h.event;h=h.listeners;e:{var _=void 0;if(s)for(var P=h.length-1;0<=P;P--){var B=h[P],q=B.instance,ee=B.currentTarget;if(B=B.listener,q!==_&&v.isPropagationStopped())break e;np(v,B,ee),_=q}else for(P=0;P<h.length;P++){if(B=h[P],q=B.instance,ee=B.currentTarget,B=B.listener,q!==_&&v.isPropagationStopped())break e;np(v,B,ee),_=q}}}if(Ra)throw n=Jl,Ra=!1,Jl=null,n}function st(n,s){var l=s[Tc];l===void 0&&(l=s[Tc]=new Set);var h=n+"__bubble";l.has(h)||(sp(s,n,2,!1),l.add(h))}function _c(n,s,l){var h=0;s&&(h|=4),sp(l,n,h,s)}var Ga="_reactListening"+Math.random().toString(36).slice(2);function Ps(n){if(!n[Ga]){n[Ga]=!0,i.forEach(function(l){l!=="selectionchange"&&(gx.has(l)||_c(l,!1,n),_c(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Ga]||(s[Ga]=!0,_c("selectionchange",!1,s))}}function sp(n,s,l,h){switch(Pf(s)){case 1:var v=Rb;break;case 4:v=jb;break;default:v=nc}l=v.bind(null,s,l,n),v=void 0,!Yl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),h?v!==void 0?n.addEventListener(s,l,{capture:!0,passive:v}):n.addEventListener(s,l,!0):v!==void 0?n.addEventListener(s,l,{passive:v}):n.addEventListener(s,l,!1)}function bc(n,s,l,h,v){var _=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var P=h.tag;if(P===3||P===4){var B=h.stateNode.containerInfo;if(B===v||B.nodeType===8&&B.parentNode===v)break;if(P===4)for(P=h.return;P!==null;){var q=P.tag;if((q===3||q===4)&&(q=P.stateNode.containerInfo,q===v||q.nodeType===8&&q.parentNode===v))return;P=P.return}for(;B!==null;){if(P=Un(B),P===null)return;if(q=P.tag,q===5||q===6){h=_=P;continue e}B=B.parentNode}}h=h.return}uf(function(){var ee=_,he=Wl(l),fe=[];e:{var ce=tp.get(n);if(ce!==void 0){var be=ac,Ee=n;switch(n){case"keypress":if($a(l)===0)break e;case"keydown":case"keyup":be=Wb;break;case"focusin":Ee="focus",be=cc;break;case"focusout":Ee="blur",be=cc;break;case"beforeblur":case"afterblur":be=cc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=jf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=Ib;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=Yb;break;case Qf:case Xf:case Zf:be=Mb;break;case ep:be=Qb;break;case"scroll":be=Ob;break;case"wheel":be=Zb;break;case"copy":case"cut":case"paste":be=Ub;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=Nf}var Pe=(s&4)!==0,vt=!Pe&&n==="scroll",Q=Pe?ce!==null?ce+"Capture":null:ce;Pe=[];for(var W=ee,X;W!==null;){X=W;var pe=X.stateNode;if(X.tag===5&&pe!==null&&(X=pe,Q!==null&&(pe=us(W,Q),pe!=null&&Pe.push(As(W,pe,X)))),vt)break;W=W.return}0<Pe.length&&(ce=new be(ce,Ee,null,l,he),fe.push({event:ce,listeners:Pe}))}}if((s&7)===0){e:{if(ce=n==="mouseover"||n==="pointerover",be=n==="mouseout"||n==="pointerout",ce&&l!==Kl&&(Ee=l.relatedTarget||l.fromElement)&&(Un(Ee)||Ee[Vr]))break e;if((be||ce)&&(ce=he.window===he?he:(ce=he.ownerDocument)?ce.defaultView||ce.parentWindow:window,be?(Ee=l.relatedTarget||l.toElement,be=ee,Ee=Ee?Un(Ee):null,Ee!==null&&(vt=zn(Ee),Ee!==vt||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(be=null,Ee=ee),be!==Ee)){if(Pe=jf,pe="onMouseLeave",Q="onMouseEnter",W="mouse",(n==="pointerout"||n==="pointerover")&&(Pe=Nf,pe="onPointerLeave",Q="onPointerEnter",W="pointer"),vt=be==null?ce:xi(be),X=Ee==null?ce:xi(Ee),ce=new Pe(pe,W+"leave",be,l,he),ce.target=vt,ce.relatedTarget=X,pe=null,Un(he)===ee&&(Pe=new Pe(Q,W+"enter",Ee,l,he),Pe.target=X,Pe.relatedTarget=vt,pe=Pe),vt=pe,be&&Ee)t:{for(Pe=be,Q=Ee,W=0,X=Pe;X;X=_i(X))W++;for(X=0,pe=Q;pe;pe=_i(pe))X++;for(;0<W-X;)Pe=_i(Pe),W--;for(;0<X-W;)Q=_i(Q),X--;for(;W--;){if(Pe===Q||Q!==null&&Pe===Q.alternate)break t;Pe=_i(Pe),Q=_i(Q)}Pe=null}else Pe=null;be!==null&&ap(fe,ce,be,Pe,!1),Ee!==null&&vt!==null&&ap(fe,vt,Ee,Pe,!0)}}e:{if(ce=ee?xi(ee):window,be=ce.nodeName&&ce.nodeName.toLowerCase(),be==="select"||be==="input"&&ce.type==="file")var Ae=ax;else if(Uf(ce))if($f)Ae=ux;else{Ae=lx;var je=ox}else(be=ce.nodeName)&&be.toLowerCase()==="input"&&(ce.type==="checkbox"||ce.type==="radio")&&(Ae=cx);if(Ae&&(Ae=Ae(n,ee))){Bf(fe,Ae,l,he);break e}je&&je(n,ce,ee),n==="focusout"&&(je=ce._wrapperState)&&je.controlled&&ce.type==="number"&&I(ce,"number",ce.value)}switch(je=ee?xi(ee):window,n){case"focusin":(Uf(je)||je.contentEditable==="true")&&(vi=je,mc=ee,Es=null);break;case"focusout":Es=mc=vi=null;break;case"mousedown":gc=!0;break;case"contextmenu":case"mouseup":case"dragend":gc=!1,Yf(fe,l,he);break;case"selectionchange":if(fx)break;case"keydown":case"keyup":Yf(fe,l,he)}var Oe;if(dc)e:{switch(n){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else yi?Mf(n,l)&&(Ue="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Ue="onCompositionStart");Ue&&(If&&l.locale!=="ko"&&(yi||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&yi&&(Oe=Af()):(hn=he,sc="value"in hn?hn.value:hn.textContent,yi=!0)),je=Ha(ee,Ue),0<je.length&&(Ue=new Of(Ue,n,null,l,he),fe.push({event:Ue,listeners:je}),Oe?Ue.data=Oe:(Oe=zf(l),Oe!==null&&(Ue.data=Oe)))),(Oe=tx?rx(n,l):nx(n,l))&&(ee=Ha(ee,"onBeforeInput"),0<ee.length&&(he=new Of("onBeforeInput","beforeinput",null,l,he),fe.push({event:he,listeners:ee}),he.data=Oe))}ip(fe,s)})}function As(n,s,l){return{instance:n,listener:s,currentTarget:l}}function Ha(n,s){for(var l=s+"Capture",h=[];n!==null;){var v=n,_=v.stateNode;v.tag===5&&_!==null&&(v=_,_=us(n,l),_!=null&&h.unshift(As(n,_,v)),_=us(n,s),_!=null&&h.push(As(n,_,v))),n=n.return}return h}function _i(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function ap(n,s,l,h,v){for(var _=s._reactName,P=[];l!==null&&l!==h;){var B=l,q=B.alternate,ee=B.stateNode;if(q!==null&&q===h)break;B.tag===5&&ee!==null&&(B=ee,v?(q=us(l,_),q!=null&&P.unshift(As(l,q,B))):v||(q=us(l,_),q!=null&&P.push(As(l,q,B)))),l=l.return}P.length!==0&&n.push({event:s,listeners:P})}var yx=/\r\n?/g,vx=/\u0000|\uFFFD/g;function op(n){return(typeof n=="string"?n:""+n).replace(yx,`
`).replace(vx,"")}function Ya(n,s,l){if(s=op(s),op(n)!==s&&l)throw Error(r(425))}function Ja(){}var xc=null,Sc=null;function kc(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Cc=typeof setTimeout=="function"?setTimeout:void 0,wx=typeof clearTimeout=="function"?clearTimeout:void 0,lp=typeof Promise=="function"?Promise:void 0,_x=typeof queueMicrotask=="function"?queueMicrotask:typeof lp<"u"?function(n){return lp.resolve(null).then(n).catch(bx)}:Cc;function bx(n){setTimeout(function(){throw n})}function Ec(n,s){var l=s,h=0;do{var v=l.nextSibling;if(n.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(h===0){n.removeChild(v),ws(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=v}while(l);ws(s)}function pn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function cp(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return n;s--}else l==="/$"&&s++}n=n.previousSibling}return null}var bi=Math.random().toString(36).slice(2),Or="__reactFiber$"+bi,Rs="__reactProps$"+bi,Vr="__reactContainer$"+bi,Tc="__reactEvents$"+bi,xx="__reactListeners$"+bi,Sx="__reactHandles$"+bi;function Un(n){var s=n[Or];if(s)return s;for(var l=n.parentNode;l;){if(s=l[Vr]||l[Or]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=cp(n);n!==null;){if(l=n[Or])return l;n=cp(n)}return s}n=l,l=n.parentNode}return null}function js(n){return n=n[Or]||n[Vr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function xi(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Qa(n){return n[Rs]||null}var Pc=[],Si=-1;function mn(n){return{current:n}}function at(n){0>Si||(n.current=Pc[Si],Pc[Si]=null,Si--)}function rt(n,s){Si++,Pc[Si]=n.current,n.current=s}var gn={},Dt=mn(gn),qt=mn(!1),Bn=gn;function ki(n,s){var l=n.type.contextTypes;if(!l)return gn;var h=n.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var v={},_;for(_ in l)v[_]=s[_];return h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=v),v}function Kt(n){return n=n.childContextTypes,n!=null}function Xa(){at(qt),at(Dt)}function up(n,s,l){if(Dt.current!==gn)throw Error(r(168));rt(Dt,s),rt(qt,l)}function dp(n,s,l){var h=n.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var v in h)if(!(v in s))throw Error(r(108,$e(n)||"Unknown",v));return ge({},l,h)}function Za(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||gn,Bn=Dt.current,rt(Dt,n),rt(qt,qt.current),!0}function hp(n,s,l){var h=n.stateNode;if(!h)throw Error(r(169));l?(n=dp(n,s,Bn),h.__reactInternalMemoizedMergedChildContext=n,at(qt),at(Dt),rt(Dt,n)):at(qt),rt(qt,l)}var qr=null,eo=!1,Ac=!1;function fp(n){qr===null?qr=[n]:qr.push(n)}function kx(n){eo=!0,fp(n)}function yn(){if(!Ac&&qr!==null){Ac=!0;var n=0,s=et;try{var l=qr;for(et=1;n<l.length;n++){var h=l[n];do h=h(!0);while(h!==null)}qr=null,eo=!1}catch(v){throw qr!==null&&(qr=qr.slice(n+1)),mf(Ql,yn),v}finally{et=s,Ac=!1}}return null}var Ci=[],Ei=0,to=null,ro=0,ar=[],or=0,$n=null,Kr=1,Wr="";function Fn(n,s){Ci[Ei++]=ro,Ci[Ei++]=to,to=n,ro=s}function pp(n,s,l){ar[or++]=Kr,ar[or++]=Wr,ar[or++]=$n,$n=n;var h=Kr;n=Wr;var v=32-pr(h)-1;h&=~(1<<v),l+=1;var _=32-pr(s)+v;if(30<_){var P=v-v%5;_=(h&(1<<P)-1).toString(32),h>>=P,v-=P,Kr=1<<32-pr(s)+v|l<<v|h,Wr=_+n}else Kr=1<<_|l<<v|h,Wr=n}function Rc(n){n.return!==null&&(Fn(n,1),pp(n,1,0))}function jc(n){for(;n===to;)to=Ci[--Ei],Ci[Ei]=null,ro=Ci[--Ei],Ci[Ei]=null;for(;n===$n;)$n=ar[--or],ar[or]=null,Wr=ar[--or],ar[or]=null,Kr=ar[--or],ar[or]=null}var er=null,tr=null,lt=!1,gr=null;function mp(n,s){var l=dr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=n,s=n.deletions,s===null?(n.deletions=[l],n.flags|=16):s.push(l)}function gp(n,s){switch(n.tag){case 5:var l=n.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,er=n,tr=pn(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,er=n,tr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=$n!==null?{id:Kr,overflow:Wr}:null,n.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=dr(18,null,null,0),l.stateNode=s,l.return=n,n.child=l,er=n,tr=null,!0):!1;default:return!1}}function Oc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Nc(n){if(lt){var s=tr;if(s){var l=s;if(!gp(n,s)){if(Oc(n))throw Error(r(418));s=pn(l.nextSibling);var h=er;s&&gp(n,s)?mp(h,l):(n.flags=n.flags&-4097|2,lt=!1,er=n)}}else{if(Oc(n))throw Error(r(418));n.flags=n.flags&-4097|2,lt=!1,er=n}}}function yp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;er=n}function no(n){if(n!==er)return!1;if(!lt)return yp(n),lt=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!kc(n.type,n.memoizedProps)),s&&(s=tr)){if(Oc(n))throw vp(),Error(r(418));for(;s;)mp(n,s),s=pn(s.nextSibling)}if(yp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(s===0){tr=pn(n.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}n=n.nextSibling}tr=null}}else tr=er?pn(n.stateNode.nextSibling):null;return!0}function vp(){for(var n=tr;n;)n=pn(n.nextSibling)}function Ti(){tr=er=null,lt=!1}function Ic(n){gr===null?gr=[n]:gr.push(n)}var Cx=A.ReactCurrentBatchConfig;function Os(n,s,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var h=l.stateNode}if(!h)throw Error(r(147,n));var v=h,_=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===_?s.ref:(s=function(P){var B=v.refs;P===null?delete B[_]:B[_]=P},s._stringRef=_,s)}if(typeof n!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,n))}return n}function io(n,s){throw n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function wp(n){var s=n._init;return s(n._payload)}function _p(n){function s(Q,W){if(n){var X=Q.deletions;X===null?(Q.deletions=[W],Q.flags|=16):X.push(W)}}function l(Q,W){if(!n)return null;for(;W!==null;)s(Q,W),W=W.sibling;return null}function h(Q,W){for(Q=new Map;W!==null;)W.key!==null?Q.set(W.key,W):Q.set(W.index,W),W=W.sibling;return Q}function v(Q,W){return Q=Cn(Q,W),Q.index=0,Q.sibling=null,Q}function _(Q,W,X){return Q.index=X,n?(X=Q.alternate,X!==null?(X=X.index,X<W?(Q.flags|=2,W):X):(Q.flags|=2,W)):(Q.flags|=1048576,W)}function P(Q){return n&&Q.alternate===null&&(Q.flags|=2),Q}function B(Q,W,X,pe){return W===null||W.tag!==6?(W=Cu(X,Q.mode,pe),W.return=Q,W):(W=v(W,X),W.return=Q,W)}function q(Q,W,X,pe){var Ae=X.type;return Ae===O?he(Q,W,X.props.children,pe,X.key):W!==null&&(W.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===Se&&wp(Ae)===W.type)?(pe=v(W,X.props),pe.ref=Os(Q,W,X),pe.return=Q,pe):(pe=Ao(X.type,X.key,X.props,null,Q.mode,pe),pe.ref=Os(Q,W,X),pe.return=Q,pe)}function ee(Q,W,X,pe){return W===null||W.tag!==4||W.stateNode.containerInfo!==X.containerInfo||W.stateNode.implementation!==X.implementation?(W=Eu(X,Q.mode,pe),W.return=Q,W):(W=v(W,X.children||[]),W.return=Q,W)}function he(Q,W,X,pe,Ae){return W===null||W.tag!==7?(W=Jn(X,Q.mode,pe,Ae),W.return=Q,W):(W=v(W,X),W.return=Q,W)}function fe(Q,W,X){if(typeof W=="string"&&W!==""||typeof W=="number")return W=Cu(""+W,Q.mode,X),W.return=Q,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case R:return X=Ao(W.type,W.key,W.props,null,Q.mode,X),X.ref=Os(Q,null,W),X.return=Q,X;case M:return W=Eu(W,Q.mode,X),W.return=Q,W;case Se:var pe=W._init;return fe(Q,pe(W._payload),X)}if(p(W)||oe(W))return W=Jn(W,Q.mode,X,null),W.return=Q,W;io(Q,W)}return null}function ce(Q,W,X,pe){var Ae=W!==null?W.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return Ae!==null?null:B(Q,W,""+X,pe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case R:return X.key===Ae?q(Q,W,X,pe):null;case M:return X.key===Ae?ee(Q,W,X,pe):null;case Se:return Ae=X._init,ce(Q,W,Ae(X._payload),pe)}if(p(X)||oe(X))return Ae!==null?null:he(Q,W,X,pe,null);io(Q,X)}return null}function be(Q,W,X,pe,Ae){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return Q=Q.get(X)||null,B(W,Q,""+pe,Ae);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case R:return Q=Q.get(pe.key===null?X:pe.key)||null,q(W,Q,pe,Ae);case M:return Q=Q.get(pe.key===null?X:pe.key)||null,ee(W,Q,pe,Ae);case Se:var je=pe._init;return be(Q,W,X,je(pe._payload),Ae)}if(p(pe)||oe(pe))return Q=Q.get(X)||null,he(W,Q,pe,Ae,null);io(W,pe)}return null}function Ee(Q,W,X,pe){for(var Ae=null,je=null,Oe=W,Ue=W=0,At=null;Oe!==null&&Ue<X.length;Ue++){Oe.index>Ue?(At=Oe,Oe=null):At=Oe.sibling;var Ye=ce(Q,Oe,X[Ue],pe);if(Ye===null){Oe===null&&(Oe=At);break}n&&Oe&&Ye.alternate===null&&s(Q,Oe),W=_(Ye,W,Ue),je===null?Ae=Ye:je.sibling=Ye,je=Ye,Oe=At}if(Ue===X.length)return l(Q,Oe),lt&&Fn(Q,Ue),Ae;if(Oe===null){for(;Ue<X.length;Ue++)Oe=fe(Q,X[Ue],pe),Oe!==null&&(W=_(Oe,W,Ue),je===null?Ae=Oe:je.sibling=Oe,je=Oe);return lt&&Fn(Q,Ue),Ae}for(Oe=h(Q,Oe);Ue<X.length;Ue++)At=be(Oe,Q,Ue,X[Ue],pe),At!==null&&(n&&At.alternate!==null&&Oe.delete(At.key===null?Ue:At.key),W=_(At,W,Ue),je===null?Ae=At:je.sibling=At,je=At);return n&&Oe.forEach(function(En){return s(Q,En)}),lt&&Fn(Q,Ue),Ae}function Pe(Q,W,X,pe){var Ae=oe(X);if(typeof Ae!="function")throw Error(r(150));if(X=Ae.call(X),X==null)throw Error(r(151));for(var je=Ae=null,Oe=W,Ue=W=0,At=null,Ye=X.next();Oe!==null&&!Ye.done;Ue++,Ye=X.next()){Oe.index>Ue?(At=Oe,Oe=null):At=Oe.sibling;var En=ce(Q,Oe,Ye.value,pe);if(En===null){Oe===null&&(Oe=At);break}n&&Oe&&En.alternate===null&&s(Q,Oe),W=_(En,W,Ue),je===null?Ae=En:je.sibling=En,je=En,Oe=At}if(Ye.done)return l(Q,Oe),lt&&Fn(Q,Ue),Ae;if(Oe===null){for(;!Ye.done;Ue++,Ye=X.next())Ye=fe(Q,Ye.value,pe),Ye!==null&&(W=_(Ye,W,Ue),je===null?Ae=Ye:je.sibling=Ye,je=Ye);return lt&&Fn(Q,Ue),Ae}for(Oe=h(Q,Oe);!Ye.done;Ue++,Ye=X.next())Ye=be(Oe,Q,Ue,Ye.value,pe),Ye!==null&&(n&&Ye.alternate!==null&&Oe.delete(Ye.key===null?Ue:Ye.key),W=_(Ye,W,Ue),je===null?Ae=Ye:je.sibling=Ye,je=Ye);return n&&Oe.forEach(function(iS){return s(Q,iS)}),lt&&Fn(Q,Ue),Ae}function vt(Q,W,X,pe){if(typeof X=="object"&&X!==null&&X.type===O&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case R:e:{for(var Ae=X.key,je=W;je!==null;){if(je.key===Ae){if(Ae=X.type,Ae===O){if(je.tag===7){l(Q,je.sibling),W=v(je,X.props.children),W.return=Q,Q=W;break e}}else if(je.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===Se&&wp(Ae)===je.type){l(Q,je.sibling),W=v(je,X.props),W.ref=Os(Q,je,X),W.return=Q,Q=W;break e}l(Q,je);break}else s(Q,je);je=je.sibling}X.type===O?(W=Jn(X.props.children,Q.mode,pe,X.key),W.return=Q,Q=W):(pe=Ao(X.type,X.key,X.props,null,Q.mode,pe),pe.ref=Os(Q,W,X),pe.return=Q,Q=pe)}return P(Q);case M:e:{for(je=X.key;W!==null;){if(W.key===je)if(W.tag===4&&W.stateNode.containerInfo===X.containerInfo&&W.stateNode.implementation===X.implementation){l(Q,W.sibling),W=v(W,X.children||[]),W.return=Q,Q=W;break e}else{l(Q,W);break}else s(Q,W);W=W.sibling}W=Eu(X,Q.mode,pe),W.return=Q,Q=W}return P(Q);case Se:return je=X._init,vt(Q,W,je(X._payload),pe)}if(p(X))return Ee(Q,W,X,pe);if(oe(X))return Pe(Q,W,X,pe);io(Q,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,W!==null&&W.tag===6?(l(Q,W.sibling),W=v(W,X),W.return=Q,Q=W):(l(Q,W),W=Cu(X,Q.mode,pe),W.return=Q,Q=W),P(Q)):l(Q,W)}return vt}var Pi=_p(!0),bp=_p(!1),so=mn(null),ao=null,Ai=null,Dc=null;function Lc(){Dc=Ai=ao=null}function Mc(n){var s=so.current;at(so),n._currentValue=s}function zc(n,s,l){for(;n!==null;){var h=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),n===l)break;n=n.return}}function Ri(n,s){ao=n,Dc=Ai=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Wt=!0),n.firstContext=null)}function lr(n){var s=n._currentValue;if(Dc!==n)if(n={context:n,memoizedValue:s,next:null},Ai===null){if(ao===null)throw Error(r(308));Ai=n,ao.dependencies={lanes:0,firstContext:n}}else Ai=Ai.next=n;return s}var Vn=null;function Uc(n){Vn===null?Vn=[n]:Vn.push(n)}function xp(n,s,l,h){var v=s.interleaved;return v===null?(l.next=l,Uc(s)):(l.next=v.next,v.next=l),s.interleaved=l,Gr(n,h)}function Gr(n,s){n.lanes|=s;var l=n.alternate;for(l!==null&&(l.lanes|=s),l=n,n=n.return;n!==null;)n.childLanes|=s,l=n.alternate,l!==null&&(l.childLanes|=s),l=n,n=n.return;return l.tag===3?l.stateNode:null}var vn=!1;function Bc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sp(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Hr(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function wn(n,s,l){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(He&2)!==0){var v=h.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),h.pending=s,Gr(n,l)}return v=h.interleaved,v===null?(s.next=s,Uc(h)):(s.next=v.next,v.next=s),h.interleaved=s,Gr(n,l)}function oo(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=n.pendingLanes,l|=h,s.lanes=l,ec(n,l)}}function kp(n,s){var l=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var v=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var P={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};_===null?v=_=P:_=_.next=P,l=l.next}while(l!==null);_===null?v=_=s:_=_.next=s}else v=_=s;l={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:h.shared,effects:h.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}function lo(n,s,l,h){var v=n.updateQueue;vn=!1;var _=v.firstBaseUpdate,P=v.lastBaseUpdate,B=v.shared.pending;if(B!==null){v.shared.pending=null;var q=B,ee=q.next;q.next=null,P===null?_=ee:P.next=ee,P=q;var he=n.alternate;he!==null&&(he=he.updateQueue,B=he.lastBaseUpdate,B!==P&&(B===null?he.firstBaseUpdate=ee:B.next=ee,he.lastBaseUpdate=q))}if(_!==null){var fe=v.baseState;P=0,he=ee=q=null,B=_;do{var ce=B.lane,be=B.eventTime;if((h&ce)===ce){he!==null&&(he=he.next={eventTime:be,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Ee=n,Pe=B;switch(ce=s,be=l,Pe.tag){case 1:if(Ee=Pe.payload,typeof Ee=="function"){fe=Ee.call(be,fe,ce);break e}fe=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Pe.payload,ce=typeof Ee=="function"?Ee.call(be,fe,ce):Ee,ce==null)break e;fe=ge({},fe,ce);break e;case 2:vn=!0}}B.callback!==null&&B.lane!==0&&(n.flags|=64,ce=v.effects,ce===null?v.effects=[B]:ce.push(B))}else be={eventTime:be,lane:ce,tag:B.tag,payload:B.payload,callback:B.callback,next:null},he===null?(ee=he=be,q=fe):he=he.next=be,P|=ce;if(B=B.next,B===null){if(B=v.shared.pending,B===null)break;ce=B,B=ce.next,ce.next=null,v.lastBaseUpdate=ce,v.shared.pending=null}}while(!0);if(he===null&&(q=fe),v.baseState=q,v.firstBaseUpdate=ee,v.lastBaseUpdate=he,s=v.shared.interleaved,s!==null){v=s;do P|=v.lane,v=v.next;while(v!==s)}else _===null&&(v.shared.lanes=0);Wn|=P,n.lanes=P,n.memoizedState=fe}}function Cp(n,s,l){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var h=n[s],v=h.callback;if(v!==null){if(h.callback=null,h=l,typeof v!="function")throw Error(r(191,v));v.call(h)}}}var Ns={},Nr=mn(Ns),Is=mn(Ns),Ds=mn(Ns);function qn(n){if(n===Ns)throw Error(r(174));return n}function $c(n,s){switch(rt(Ds,s),rt(Is,n),rt(Nr,Ns),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ze(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=ze(s,n)}at(Nr),rt(Nr,s)}function ji(){at(Nr),at(Is),at(Ds)}function Ep(n){qn(Ds.current);var s=qn(Nr.current),l=ze(s,n.type);s!==l&&(rt(Is,n),rt(Nr,l))}function Fc(n){Is.current===n&&(at(Nr),at(Is))}var ht=mn(0);function co(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Vc=[];function qc(){for(var n=0;n<Vc.length;n++)Vc[n]._workInProgressVersionPrimary=null;Vc.length=0}var uo=A.ReactCurrentDispatcher,Kc=A.ReactCurrentBatchConfig,Kn=0,ft=null,Ct=null,Tt=null,ho=!1,Ls=!1,Ms=0,Ex=0;function Lt(){throw Error(r(321))}function Wc(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!mr(n[l],s[l]))return!1;return!0}function Gc(n,s,l,h,v,_){if(Kn=_,ft=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,uo.current=n===null||n.memoizedState===null?Rx:jx,n=l(h,v),Ls){_=0;do{if(Ls=!1,Ms=0,25<=_)throw Error(r(301));_+=1,Tt=Ct=null,s.updateQueue=null,uo.current=Ox,n=l(h,v)}while(Ls)}if(uo.current=mo,s=Ct!==null&&Ct.next!==null,Kn=0,Tt=Ct=ft=null,ho=!1,s)throw Error(r(300));return n}function Hc(){var n=Ms!==0;return Ms=0,n}function Ir(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?ft.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function cr(){if(Ct===null){var n=ft.alternate;n=n!==null?n.memoizedState:null}else n=Ct.next;var s=Tt===null?ft.memoizedState:Tt.next;if(s!==null)Tt=s,Ct=n;else{if(n===null)throw Error(r(310));Ct=n,n={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Tt===null?ft.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function zs(n,s){return typeof s=="function"?s(n):s}function Yc(n){var s=cr(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var h=Ct,v=h.baseQueue,_=l.pending;if(_!==null){if(v!==null){var P=v.next;v.next=_.next,_.next=P}h.baseQueue=v=_,l.pending=null}if(v!==null){_=v.next,h=h.baseState;var B=P=null,q=null,ee=_;do{var he=ee.lane;if((Kn&he)===he)q!==null&&(q=q.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),h=ee.hasEagerState?ee.eagerState:n(h,ee.action);else{var fe={lane:he,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};q===null?(B=q=fe,P=h):q=q.next=fe,ft.lanes|=he,Wn|=he}ee=ee.next}while(ee!==null&&ee!==_);q===null?P=h:q.next=B,mr(h,s.memoizedState)||(Wt=!0),s.memoizedState=h,s.baseState=P,s.baseQueue=q,l.lastRenderedState=h}if(n=l.interleaved,n!==null){v=n;do _=v.lane,ft.lanes|=_,Wn|=_,v=v.next;while(v!==n)}else v===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Jc(n){var s=cr(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var h=l.dispatch,v=l.pending,_=s.memoizedState;if(v!==null){l.pending=null;var P=v=v.next;do _=n(_,P.action),P=P.next;while(P!==v);mr(_,s.memoizedState)||(Wt=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,h]}function Tp(){}function Pp(n,s){var l=ft,h=cr(),v=s(),_=!mr(h.memoizedState,v);if(_&&(h.memoizedState=v,Wt=!0),h=h.queue,Qc(jp.bind(null,l,h,n),[n]),h.getSnapshot!==s||_||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,Us(9,Rp.bind(null,l,h,v,s),void 0,null),Pt===null)throw Error(r(349));(Kn&30)!==0||Ap(l,s,v)}return v}function Ap(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=ft.updateQueue,s===null?(s={lastEffect:null,stores:null},ft.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function Rp(n,s,l,h){s.value=l,s.getSnapshot=h,Op(s)&&Np(n)}function jp(n,s,l){return l(function(){Op(s)&&Np(n)})}function Op(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!mr(n,l)}catch{return!0}}function Np(n){var s=Gr(n,1);s!==null&&_r(s,n,1,-1)}function Ip(n){var s=Ir();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:n},s.queue=n,n=n.dispatch=Ax.bind(null,ft,n),[s.memoizedState,n]}function Us(n,s,l,h){return n={tag:n,create:s,destroy:l,deps:h,next:null},s=ft.updateQueue,s===null?(s={lastEffect:null,stores:null},ft.updateQueue=s,s.lastEffect=n.next=n):(l=s.lastEffect,l===null?s.lastEffect=n.next=n:(h=l.next,l.next=n,n.next=h,s.lastEffect=n)),n}function Dp(){return cr().memoizedState}function fo(n,s,l,h){var v=Ir();ft.flags|=n,v.memoizedState=Us(1|s,l,void 0,h===void 0?null:h)}function po(n,s,l,h){var v=cr();h=h===void 0?null:h;var _=void 0;if(Ct!==null){var P=Ct.memoizedState;if(_=P.destroy,h!==null&&Wc(h,P.deps)){v.memoizedState=Us(s,l,_,h);return}}ft.flags|=n,v.memoizedState=Us(1|s,l,_,h)}function Lp(n,s){return fo(8390656,8,n,s)}function Qc(n,s){return po(2048,8,n,s)}function Mp(n,s){return po(4,2,n,s)}function zp(n,s){return po(4,4,n,s)}function Up(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Bp(n,s,l){return l=l!=null?l.concat([n]):null,po(4,4,Up.bind(null,s,n),l)}function Xc(){}function $p(n,s){var l=cr();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Wc(s,h[1])?h[0]:(l.memoizedState=[n,s],n)}function Fp(n,s){var l=cr();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Wc(s,h[1])?h[0]:(n=n(),l.memoizedState=[n,s],n)}function Vp(n,s,l){return(Kn&21)===0?(n.baseState&&(n.baseState=!1,Wt=!0),n.memoizedState=l):(mr(l,s)||(l=wf(),ft.lanes|=l,Wn|=l,n.baseState=!0),s)}function Tx(n,s){var l=et;et=l!==0&&4>l?l:4,n(!0);var h=Kc.transition;Kc.transition={};try{n(!1),s()}finally{et=l,Kc.transition=h}}function qp(){return cr().memoizedState}function Px(n,s,l){var h=Sn(n);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Kp(n))Wp(s,l);else if(l=xp(n,s,l,h),l!==null){var v=Vt();_r(l,n,h,v),Gp(l,s,h)}}function Ax(n,s,l){var h=Sn(n),v={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Kp(n))Wp(s,v);else{var _=n.alternate;if(n.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var P=s.lastRenderedState,B=_(P,l);if(v.hasEagerState=!0,v.eagerState=B,mr(B,P)){var q=s.interleaved;q===null?(v.next=v,Uc(s)):(v.next=q.next,q.next=v),s.interleaved=v;return}}catch{}finally{}l=xp(n,s,v,h),l!==null&&(v=Vt(),_r(l,n,h,v),Gp(l,s,h))}}function Kp(n){var s=n.alternate;return n===ft||s!==null&&s===ft}function Wp(n,s){Ls=ho=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function Gp(n,s,l){if((l&4194240)!==0){var h=s.lanes;h&=n.pendingLanes,l|=h,s.lanes=l,ec(n,l)}}var mo={readContext:lr,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},Rx={readContext:lr,useCallback:function(n,s){return Ir().memoizedState=[n,s===void 0?null:s],n},useContext:lr,useEffect:Lp,useImperativeHandle:function(n,s,l){return l=l!=null?l.concat([n]):null,fo(4194308,4,Up.bind(null,s,n),l)},useLayoutEffect:function(n,s){return fo(4194308,4,n,s)},useInsertionEffect:function(n,s){return fo(4,2,n,s)},useMemo:function(n,s){var l=Ir();return s=s===void 0?null:s,n=n(),l.memoizedState=[n,s],n},useReducer:function(n,s,l){var h=Ir();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},h.queue=n,n=n.dispatch=Px.bind(null,ft,n),[h.memoizedState,n]},useRef:function(n){var s=Ir();return n={current:n},s.memoizedState=n},useState:Ip,useDebugValue:Xc,useDeferredValue:function(n){return Ir().memoizedState=n},useTransition:function(){var n=Ip(!1),s=n[0];return n=Tx.bind(null,n[1]),Ir().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,l){var h=ft,v=Ir();if(lt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Pt===null)throw Error(r(349));(Kn&30)!==0||Ap(h,s,l)}v.memoizedState=l;var _={value:l,getSnapshot:s};return v.queue=_,Lp(jp.bind(null,h,_,n),[n]),h.flags|=2048,Us(9,Rp.bind(null,h,_,l,s),void 0,null),l},useId:function(){var n=Ir(),s=Pt.identifierPrefix;if(lt){var l=Wr,h=Kr;l=(h&~(1<<32-pr(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=Ms++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=Ex++,s=":"+s+"r"+l.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},jx={readContext:lr,useCallback:$p,useContext:lr,useEffect:Qc,useImperativeHandle:Bp,useInsertionEffect:Mp,useLayoutEffect:zp,useMemo:Fp,useReducer:Yc,useRef:Dp,useState:function(){return Yc(zs)},useDebugValue:Xc,useDeferredValue:function(n){var s=cr();return Vp(s,Ct.memoizedState,n)},useTransition:function(){var n=Yc(zs)[0],s=cr().memoizedState;return[n,s]},useMutableSource:Tp,useSyncExternalStore:Pp,useId:qp,unstable_isNewReconciler:!1},Ox={readContext:lr,useCallback:$p,useContext:lr,useEffect:Qc,useImperativeHandle:Bp,useInsertionEffect:Mp,useLayoutEffect:zp,useMemo:Fp,useReducer:Jc,useRef:Dp,useState:function(){return Jc(zs)},useDebugValue:Xc,useDeferredValue:function(n){var s=cr();return Ct===null?s.memoizedState=n:Vp(s,Ct.memoizedState,n)},useTransition:function(){var n=Jc(zs)[0],s=cr().memoizedState;return[n,s]},useMutableSource:Tp,useSyncExternalStore:Pp,useId:qp,unstable_isNewReconciler:!1};function yr(n,s){if(n&&n.defaultProps){s=ge({},s),n=n.defaultProps;for(var l in n)s[l]===void 0&&(s[l]=n[l]);return s}return s}function Zc(n,s,l,h){s=n.memoizedState,l=l(h,s),l=l==null?s:ge({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var go={isMounted:function(n){return(n=n._reactInternals)?zn(n)===n:!1},enqueueSetState:function(n,s,l){n=n._reactInternals;var h=Vt(),v=Sn(n),_=Hr(h,v);_.payload=s,l!=null&&(_.callback=l),s=wn(n,_,v),s!==null&&(_r(s,n,v,h),oo(s,n,v))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var h=Vt(),v=Sn(n),_=Hr(h,v);_.tag=1,_.payload=s,l!=null&&(_.callback=l),s=wn(n,_,v),s!==null&&(_r(s,n,v,h),oo(s,n,v))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=Vt(),h=Sn(n),v=Hr(l,h);v.tag=2,s!=null&&(v.callback=s),s=wn(n,v,h),s!==null&&(_r(s,n,h,l),oo(s,n,h))}};function Hp(n,s,l,h,v,_,P){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,_,P):s.prototype&&s.prototype.isPureReactComponent?!Cs(l,h)||!Cs(v,_):!0}function Yp(n,s,l){var h=!1,v=gn,_=s.contextType;return typeof _=="object"&&_!==null?_=lr(_):(v=Kt(s)?Bn:Dt.current,h=s.contextTypes,_=(h=h!=null)?ki(n,v):gn),s=new s(l,_),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=go,n.stateNode=s,s._reactInternals=n,h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=v,n.__reactInternalMemoizedMaskedChildContext=_),s}function Jp(n,s,l,h){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==n&&go.enqueueReplaceState(s,s.state,null)}function eu(n,s,l,h){var v=n.stateNode;v.props=l,v.state=n.memoizedState,v.refs={},Bc(n);var _=s.contextType;typeof _=="object"&&_!==null?v.context=lr(_):(_=Kt(s)?Bn:Dt.current,v.context=ki(n,_)),v.state=n.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Zc(n,s,_,l),v.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(s=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),s!==v.state&&go.enqueueReplaceState(v,v.state,null),lo(n,l,v,h),v.state=n.memoizedState),typeof v.componentDidMount=="function"&&(n.flags|=4194308)}function Oi(n,s){try{var l="",h=s;do l+=ie(h),h=h.return;while(h);var v=l}catch(_){v=`
Error generating stack: `+_.message+`
`+_.stack}return{value:n,source:s,stack:v,digest:null}}function tu(n,s,l){return{value:n,source:null,stack:l??null,digest:s??null}}function ru(n,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var Nx=typeof WeakMap=="function"?WeakMap:Map;function Qp(n,s,l){l=Hr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){So||(So=!0,yu=h),ru(n,s)},l}function Xp(n,s,l){l=Hr(-1,l),l.tag=3;var h=n.type.getDerivedStateFromError;if(typeof h=="function"){var v=s.value;l.payload=function(){return h(v)},l.callback=function(){ru(n,s)}}var _=n.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(l.callback=function(){ru(n,s),typeof h!="function"&&(bn===null?bn=new Set([this]):bn.add(this));var P=s.stack;this.componentDidCatch(s.value,{componentStack:P!==null?P:""})}),l}function Zp(n,s,l){var h=n.pingCache;if(h===null){h=n.pingCache=new Nx;var v=new Set;h.set(s,v)}else v=h.get(s),v===void 0&&(v=new Set,h.set(s,v));v.has(l)||(v.add(l),n=Gx.bind(null,n,s,l),s.then(n,n))}function em(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function tm(n,s,l,h,v){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Hr(-1,1),s.tag=2,wn(l,s,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=v,n)}var Ix=A.ReactCurrentOwner,Wt=!1;function Ft(n,s,l,h){s.child=n===null?bp(s,null,l,h):Pi(s,n.child,l,h)}function rm(n,s,l,h,v){l=l.render;var _=s.ref;return Ri(s,v),h=Gc(n,s,l,h,_,v),l=Hc(),n!==null&&!Wt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~v,Yr(n,s,v)):(lt&&l&&Rc(s),s.flags|=1,Ft(n,s,h,v),s.child)}function nm(n,s,l,h,v){if(n===null){var _=l.type;return typeof _=="function"&&!ku(_)&&_.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=_,im(n,s,_,h,v)):(n=Ao(l.type,null,h,s,s.mode,v),n.ref=s.ref,n.return=s,s.child=n)}if(_=n.child,(n.lanes&v)===0){var P=_.memoizedProps;if(l=l.compare,l=l!==null?l:Cs,l(P,h)&&n.ref===s.ref)return Yr(n,s,v)}return s.flags|=1,n=Cn(_,h),n.ref=s.ref,n.return=s,s.child=n}function im(n,s,l,h,v){if(n!==null){var _=n.memoizedProps;if(Cs(_,h)&&n.ref===s.ref)if(Wt=!1,s.pendingProps=h=_,(n.lanes&v)!==0)(n.flags&131072)!==0&&(Wt=!0);else return s.lanes=n.lanes,Yr(n,s,v)}return nu(n,s,l,h,v)}function sm(n,s,l){var h=s.pendingProps,v=h.children,_=n!==null?n.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Ii,rr),rr|=l;else{if((l&1073741824)===0)return n=_!==null?_.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,rt(Ii,rr),rr|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=_!==null?_.baseLanes:l,rt(Ii,rr),rr|=h}else _!==null?(h=_.baseLanes|l,s.memoizedState=null):h=l,rt(Ii,rr),rr|=h;return Ft(n,s,v,l),s.child}function am(n,s){var l=s.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function nu(n,s,l,h,v){var _=Kt(l)?Bn:Dt.current;return _=ki(s,_),Ri(s,v),l=Gc(n,s,l,h,_,v),h=Hc(),n!==null&&!Wt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~v,Yr(n,s,v)):(lt&&h&&Rc(s),s.flags|=1,Ft(n,s,l,v),s.child)}function om(n,s,l,h,v){if(Kt(l)){var _=!0;Za(s)}else _=!1;if(Ri(s,v),s.stateNode===null)vo(n,s),Yp(s,l,h),eu(s,l,h,v),h=!0;else if(n===null){var P=s.stateNode,B=s.memoizedProps;P.props=B;var q=P.context,ee=l.contextType;typeof ee=="object"&&ee!==null?ee=lr(ee):(ee=Kt(l)?Bn:Dt.current,ee=ki(s,ee));var he=l.getDerivedStateFromProps,fe=typeof he=="function"||typeof P.getSnapshotBeforeUpdate=="function";fe||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(B!==h||q!==ee)&&Jp(s,P,h,ee),vn=!1;var ce=s.memoizedState;P.state=ce,lo(s,h,P,v),q=s.memoizedState,B!==h||ce!==q||qt.current||vn?(typeof he=="function"&&(Zc(s,l,he,h),q=s.memoizedState),(B=vn||Hp(s,l,B,h,ce,q,ee))?(fe||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(s.flags|=4194308)):(typeof P.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=q),P.props=h,P.state=q,P.context=ee,h=B):(typeof P.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{P=s.stateNode,Sp(n,s),B=s.memoizedProps,ee=s.type===s.elementType?B:yr(s.type,B),P.props=ee,fe=s.pendingProps,ce=P.context,q=l.contextType,typeof q=="object"&&q!==null?q=lr(q):(q=Kt(l)?Bn:Dt.current,q=ki(s,q));var be=l.getDerivedStateFromProps;(he=typeof be=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(B!==fe||ce!==q)&&Jp(s,P,h,q),vn=!1,ce=s.memoizedState,P.state=ce,lo(s,h,P,v);var Ee=s.memoizedState;B!==fe||ce!==Ee||qt.current||vn?(typeof be=="function"&&(Zc(s,l,be,h),Ee=s.memoizedState),(ee=vn||Hp(s,l,ee,h,ce,Ee,q)||!1)?(he||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(h,Ee,q),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(h,Ee,q)),typeof P.componentDidUpdate=="function"&&(s.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof P.componentDidUpdate!="function"||B===n.memoizedProps&&ce===n.memoizedState||(s.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||B===n.memoizedProps&&ce===n.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Ee),P.props=h,P.state=Ee,P.context=q,h=ee):(typeof P.componentDidUpdate!="function"||B===n.memoizedProps&&ce===n.memoizedState||(s.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||B===n.memoizedProps&&ce===n.memoizedState||(s.flags|=1024),h=!1)}return iu(n,s,l,h,_,v)}function iu(n,s,l,h,v,_){am(n,s);var P=(s.flags&128)!==0;if(!h&&!P)return v&&hp(s,l,!1),Yr(n,s,_);h=s.stateNode,Ix.current=s;var B=P&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,n!==null&&P?(s.child=Pi(s,n.child,null,_),s.child=Pi(s,null,B,_)):Ft(n,s,B,_),s.memoizedState=h.state,v&&hp(s,l,!0),s.child}function lm(n){var s=n.stateNode;s.pendingContext?up(n,s.pendingContext,s.pendingContext!==s.context):s.context&&up(n,s.context,!1),$c(n,s.containerInfo)}function cm(n,s,l,h,v){return Ti(),Ic(v),s.flags|=256,Ft(n,s,l,h),s.child}var su={dehydrated:null,treeContext:null,retryLane:0};function au(n){return{baseLanes:n,cachePool:null,transitions:null}}function um(n,s,l){var h=s.pendingProps,v=ht.current,_=!1,P=(s.flags&128)!==0,B;if((B=P)||(B=n!==null&&n.memoizedState===null?!1:(v&2)!==0),B?(_=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(v|=1),rt(ht,v&1),n===null)return Nc(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(P=h.children,n=h.fallback,_?(h=s.mode,_=s.child,P={mode:"hidden",children:P},(h&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=P):_=Ro(P,h,0,null),n=Jn(n,h,l,null),_.return=s,n.return=s,_.sibling=n,s.child=_,s.child.memoizedState=au(l),s.memoizedState=su,n):ou(s,P));if(v=n.memoizedState,v!==null&&(B=v.dehydrated,B!==null))return Dx(n,s,P,h,B,v,l);if(_){_=h.fallback,P=s.mode,v=n.child,B=v.sibling;var q={mode:"hidden",children:h.children};return(P&1)===0&&s.child!==v?(h=s.child,h.childLanes=0,h.pendingProps=q,s.deletions=null):(h=Cn(v,q),h.subtreeFlags=v.subtreeFlags&14680064),B!==null?_=Cn(B,_):(_=Jn(_,P,l,null),_.flags|=2),_.return=s,h.return=s,h.sibling=_,s.child=h,h=_,_=s.child,P=n.child.memoizedState,P=P===null?au(l):{baseLanes:P.baseLanes|l,cachePool:null,transitions:P.transitions},_.memoizedState=P,_.childLanes=n.childLanes&~l,s.memoizedState=su,h}return _=n.child,n=_.sibling,h=Cn(_,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,n!==null&&(l=s.deletions,l===null?(s.deletions=[n],s.flags|=16):l.push(n)),s.child=h,s.memoizedState=null,h}function ou(n,s){return s=Ro({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function yo(n,s,l,h){return h!==null&&Ic(h),Pi(s,n.child,null,l),n=ou(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Dx(n,s,l,h,v,_,P){if(l)return s.flags&256?(s.flags&=-257,h=tu(Error(r(422))),yo(n,s,P,h)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(_=h.fallback,v=s.mode,h=Ro({mode:"visible",children:h.children},v,0,null),_=Jn(_,v,P,null),_.flags|=2,h.return=s,_.return=s,h.sibling=_,s.child=h,(s.mode&1)!==0&&Pi(s,n.child,null,P),s.child.memoizedState=au(P),s.memoizedState=su,_);if((s.mode&1)===0)return yo(n,s,P,null);if(v.data==="$!"){if(h=v.nextSibling&&v.nextSibling.dataset,h)var B=h.dgst;return h=B,_=Error(r(419)),h=tu(_,h,void 0),yo(n,s,P,h)}if(B=(P&n.childLanes)!==0,Wt||B){if(h=Pt,h!==null){switch(P&-P){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(h.suspendedLanes|P))!==0?0:v,v!==0&&v!==_.retryLane&&(_.retryLane=v,Gr(n,v),_r(h,n,v,-1))}return Su(),h=tu(Error(r(421))),yo(n,s,P,h)}return v.data==="$?"?(s.flags|=128,s.child=n.child,s=Hx.bind(null,n),v._reactRetry=s,null):(n=_.treeContext,tr=pn(v.nextSibling),er=s,lt=!0,gr=null,n!==null&&(ar[or++]=Kr,ar[or++]=Wr,ar[or++]=$n,Kr=n.id,Wr=n.overflow,$n=s),s=ou(s,h.children),s.flags|=4096,s)}function dm(n,s,l){n.lanes|=s;var h=n.alternate;h!==null&&(h.lanes|=s),zc(n.return,s,l)}function lu(n,s,l,h,v){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:v}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=l,_.tailMode=v)}function hm(n,s,l){var h=s.pendingProps,v=h.revealOrder,_=h.tail;if(Ft(n,s,h.children,l),h=ht.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&dm(n,l,s);else if(n.tag===19)dm(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}if(rt(ht,h),(s.mode&1)===0)s.memoizedState=null;else switch(v){case"forwards":for(l=s.child,v=null;l!==null;)n=l.alternate,n!==null&&co(n)===null&&(v=l),l=l.sibling;l=v,l===null?(v=s.child,s.child=null):(v=l.sibling,l.sibling=null),lu(s,!1,v,l,_);break;case"backwards":for(l=null,v=s.child,s.child=null;v!==null;){if(n=v.alternate,n!==null&&co(n)===null){s.child=v;break}n=v.sibling,v.sibling=l,l=v,v=n}lu(s,!0,l,null,_);break;case"together":lu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function vo(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Yr(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),Wn|=s.lanes,(l&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,l=Cn(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=Cn(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function Lx(n,s,l){switch(s.tag){case 3:lm(s),Ti();break;case 5:Ep(s);break;case 1:Kt(s.type)&&Za(s);break;case 4:$c(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,v=s.memoizedProps.value;rt(so,h._currentValue),h._currentValue=v;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(rt(ht,ht.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?um(n,s,l):(rt(ht,ht.current&1),n=Yr(n,s,l),n!==null?n.sibling:null);rt(ht,ht.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(n.flags&128)!==0){if(h)return hm(n,s,l);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),rt(ht,ht.current),h)break;return null;case 22:case 23:return s.lanes=0,sm(n,s,l)}return Yr(n,s,l)}var fm,cu,pm,mm;fm=function(n,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},cu=function(){},pm=function(n,s,l,h){var v=n.memoizedProps;if(v!==h){n=s.stateNode,qn(Nr.current);var _=null;switch(l){case"input":v=le(n,v),h=le(n,h),_=[];break;case"select":v=ge({},v,{value:void 0}),h=ge({},h,{value:void 0}),_=[];break;case"textarea":v=T(n,v),h=T(n,h),_=[];break;default:typeof v.onClick!="function"&&typeof h.onClick=="function"&&(n.onclick=Ja)}Rr(l,h);var P;l=null;for(ee in v)if(!h.hasOwnProperty(ee)&&v.hasOwnProperty(ee)&&v[ee]!=null)if(ee==="style"){var B=v[ee];for(P in B)B.hasOwnProperty(P)&&(l||(l={}),l[P]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(a.hasOwnProperty(ee)?_||(_=[]):(_=_||[]).push(ee,null));for(ee in h){var q=h[ee];if(B=v!=null?v[ee]:void 0,h.hasOwnProperty(ee)&&q!==B&&(q!=null||B!=null))if(ee==="style")if(B){for(P in B)!B.hasOwnProperty(P)||q&&q.hasOwnProperty(P)||(l||(l={}),l[P]="");for(P in q)q.hasOwnProperty(P)&&B[P]!==q[P]&&(l||(l={}),l[P]=q[P])}else l||(_||(_=[]),_.push(ee,l)),l=q;else ee==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,B=B?B.__html:void 0,q!=null&&B!==q&&(_=_||[]).push(ee,q)):ee==="children"?typeof q!="string"&&typeof q!="number"||(_=_||[]).push(ee,""+q):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(a.hasOwnProperty(ee)?(q!=null&&ee==="onScroll"&&st("scroll",n),_||B===q||(_=[])):(_=_||[]).push(ee,q))}l&&(_=_||[]).push("style",l);var ee=_;(s.updateQueue=ee)&&(s.flags|=4)}},mm=function(n,s,l,h){l!==h&&(s.flags|=4)};function Bs(n,s){if(!lt)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function Mt(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,h=0;if(s)for(var v=n.child;v!==null;)l|=v.lanes|v.childLanes,h|=v.subtreeFlags&14680064,h|=v.flags&14680064,v.return=n,v=v.sibling;else for(v=n.child;v!==null;)l|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=n,v=v.sibling;return n.subtreeFlags|=h,n.childLanes=l,s}function Mx(n,s,l){var h=s.pendingProps;switch(jc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(s),null;case 1:return Kt(s.type)&&Xa(),Mt(s),null;case 3:return h=s.stateNode,ji(),at(qt),at(Dt),qc(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(n===null||n.child===null)&&(no(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,gr!==null&&(_u(gr),gr=null))),cu(n,s),Mt(s),null;case 5:Fc(s);var v=qn(Ds.current);if(l=s.type,n!==null&&s.stateNode!=null)pm(n,s,l,h,v),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Mt(s),null}if(n=qn(Nr.current),no(s)){h=s.stateNode,l=s.type;var _=s.memoizedProps;switch(h[Or]=s,h[Rs]=_,n=(s.mode&1)!==0,l){case"dialog":st("cancel",h),st("close",h);break;case"iframe":case"object":case"embed":st("load",h);break;case"video":case"audio":for(v=0;v<Ts.length;v++)st(Ts[v],h);break;case"source":st("error",h);break;case"img":case"image":case"link":st("error",h),st("load",h);break;case"details":st("toggle",h);break;case"input":F(h,_),st("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!_.multiple},st("invalid",h);break;case"textarea":V(h,_),st("invalid",h)}Rr(l,_),v=null;for(var P in _)if(_.hasOwnProperty(P)){var B=_[P];P==="children"?typeof B=="string"?h.textContent!==B&&(_.suppressHydrationWarning!==!0&&Ya(h.textContent,B,n),v=["children",B]):typeof B=="number"&&h.textContent!==""+B&&(_.suppressHydrationWarning!==!0&&Ya(h.textContent,B,n),v=["children",""+B]):a.hasOwnProperty(P)&&B!=null&&P==="onScroll"&&st("scroll",h)}switch(l){case"input":bt(h),ne(h,_,!0);break;case"textarea":bt(h),Z(h);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(h.onclick=Ja)}h=v,s.updateQueue=h,h!==null&&(s.flags|=4)}else{P=v.nodeType===9?v:v.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=me(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=P.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof h.is=="string"?n=P.createElement(l,{is:h.is}):(n=P.createElement(l),l==="select"&&(P=n,h.multiple?P.multiple=!0:h.size&&(P.size=h.size))):n=P.createElementNS(n,l),n[Or]=s,n[Rs]=h,fm(n,s,!1,!1),s.stateNode=n;e:{switch(P=ql(l,h),l){case"dialog":st("cancel",n),st("close",n),v=h;break;case"iframe":case"object":case"embed":st("load",n),v=h;break;case"video":case"audio":for(v=0;v<Ts.length;v++)st(Ts[v],n);v=h;break;case"source":st("error",n),v=h;break;case"img":case"image":case"link":st("error",n),st("load",n),v=h;break;case"details":st("toggle",n),v=h;break;case"input":F(n,h),v=le(n,h),st("invalid",n);break;case"option":v=h;break;case"select":n._wrapperState={wasMultiple:!!h.multiple},v=ge({},h,{value:void 0}),st("invalid",n);break;case"textarea":V(n,h),v=T(n,h),st("invalid",n);break;default:v=h}Rr(l,v),B=v;for(_ in B)if(B.hasOwnProperty(_)){var q=B[_];_==="style"?an(n,q):_==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&Ve(n,q)):_==="children"?typeof q=="string"?(l!=="textarea"||q!=="")&&Fe(n,q):typeof q=="number"&&Fe(n,""+q):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(a.hasOwnProperty(_)?q!=null&&_==="onScroll"&&st("scroll",n):q!=null&&k(n,_,q,P))}switch(l){case"input":bt(n),ne(n,h,!1);break;case"textarea":bt(n),Z(n);break;case"option":h.value!=null&&n.setAttribute("value",""+Be(h.value));break;case"select":n.multiple=!!h.multiple,_=h.value,_!=null?S(n,!!h.multiple,_,!1):h.defaultValue!=null&&S(n,!!h.multiple,h.defaultValue,!0);break;default:typeof v.onClick=="function"&&(n.onclick=Ja)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Mt(s),null;case 6:if(n&&s.stateNode!=null)mm(n,s,n.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(l=qn(Ds.current),qn(Nr.current),no(s)){if(h=s.stateNode,l=s.memoizedProps,h[Or]=s,(_=h.nodeValue!==l)&&(n=er,n!==null))switch(n.tag){case 3:Ya(h.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ya(h.nodeValue,l,(n.mode&1)!==0)}_&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Or]=s,s.stateNode=h}return Mt(s),null;case 13:if(at(ht),h=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(lt&&tr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)vp(),Ti(),s.flags|=98560,_=!1;else if(_=no(s),h!==null&&h.dehydrated!==null){if(n===null){if(!_)throw Error(r(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Or]=s}else Ti(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Mt(s),_=!1}else gr!==null&&(_u(gr),gr=null),_=!0;if(!_)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(n!==null&&n.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(ht.current&1)!==0?Et===0&&(Et=3):Su())),s.updateQueue!==null&&(s.flags|=4),Mt(s),null);case 4:return ji(),cu(n,s),n===null&&Ps(s.stateNode.containerInfo),Mt(s),null;case 10:return Mc(s.type._context),Mt(s),null;case 17:return Kt(s.type)&&Xa(),Mt(s),null;case 19:if(at(ht),_=s.memoizedState,_===null)return Mt(s),null;if(h=(s.flags&128)!==0,P=_.rendering,P===null)if(h)Bs(_,!1);else{if(Et!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(P=co(n),P!==null){for(s.flags|=128,Bs(_,!1),h=P.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)_=l,n=h,_.flags&=14680066,P=_.alternate,P===null?(_.childLanes=0,_.lanes=n,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=P.childLanes,_.lanes=P.lanes,_.child=P.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=P.memoizedProps,_.memoizedState=P.memoizedState,_.updateQueue=P.updateQueue,_.type=P.type,n=P.dependencies,_.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return rt(ht,ht.current&1|2),s.child}n=n.sibling}_.tail!==null&&yt()>Di&&(s.flags|=128,h=!0,Bs(_,!1),s.lanes=4194304)}else{if(!h)if(n=co(P),n!==null){if(s.flags|=128,h=!0,l=n.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Bs(_,!0),_.tail===null&&_.tailMode==="hidden"&&!P.alternate&&!lt)return Mt(s),null}else 2*yt()-_.renderingStartTime>Di&&l!==1073741824&&(s.flags|=128,h=!0,Bs(_,!1),s.lanes=4194304);_.isBackwards?(P.sibling=s.child,s.child=P):(l=_.last,l!==null?l.sibling=P:s.child=P,_.last=P)}return _.tail!==null?(s=_.tail,_.rendering=s,_.tail=s.sibling,_.renderingStartTime=yt(),s.sibling=null,l=ht.current,rt(ht,h?l&1|2:l&1),s):(Mt(s),null);case 22:case 23:return xu(),h=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(rr&1073741824)!==0&&(Mt(s),s.subtreeFlags&6&&(s.flags|=8192)):Mt(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function zx(n,s){switch(jc(s),s.tag){case 1:return Kt(s.type)&&Xa(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ji(),at(qt),at(Dt),qc(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return Fc(s),null;case 13:if(at(ht),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ti()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return at(ht),null;case 4:return ji(),null;case 10:return Mc(s.type._context),null;case 22:case 23:return xu(),null;case 24:return null;default:return null}}var wo=!1,zt=!1,Ux=typeof WeakSet=="function"?WeakSet:Set,ke=null;function Ni(n,s){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){mt(n,s,h)}else l.current=null}function uu(n,s,l){try{l()}catch(h){mt(n,s,h)}}var gm=!1;function Bx(n,s){if(xc=za,n=Hf(),pc(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var v=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var P=0,B=-1,q=-1,ee=0,he=0,fe=n,ce=null;t:for(;;){for(var be;fe!==l||v!==0&&fe.nodeType!==3||(B=P+v),fe!==_||h!==0&&fe.nodeType!==3||(q=P+h),fe.nodeType===3&&(P+=fe.nodeValue.length),(be=fe.firstChild)!==null;)ce=fe,fe=be;for(;;){if(fe===n)break t;if(ce===l&&++ee===v&&(B=P),ce===_&&++he===h&&(q=P),(be=fe.nextSibling)!==null)break;fe=ce,ce=fe.parentNode}fe=be}l=B===-1||q===-1?null:{start:B,end:q}}else l=null}l=l||{start:0,end:0}}else l=null;for(Sc={focusedElem:n,selectionRange:l},za=!1,ke=s;ke!==null;)if(s=ke,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,ke=n;else for(;ke!==null;){s=ke;try{var Ee=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Pe=Ee.memoizedProps,vt=Ee.memoizedState,Q=s.stateNode,W=Q.getSnapshotBeforeUpdate(s.elementType===s.type?Pe:yr(s.type,Pe),vt);Q.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var X=s.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(pe){mt(s,s.return,pe)}if(n=s.sibling,n!==null){n.return=s.return,ke=n;break}ke=s.return}return Ee=gm,gm=!1,Ee}function $s(n,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var v=h=h.next;do{if((v.tag&n)===n){var _=v.destroy;v.destroy=void 0,_!==void 0&&uu(s,l,_)}v=v.next}while(v!==h)}}function _o(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&n)===n){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function du(n){var s=n.ref;if(s!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof s=="function"?s(n):s.current=n}}function ym(n){var s=n.alternate;s!==null&&(n.alternate=null,ym(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Or],delete s[Rs],delete s[Tc],delete s[xx],delete s[Sx])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function vm(n){return n.tag===5||n.tag===3||n.tag===4}function wm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||vm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function hu(n,s,l){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(n,s):l.insertBefore(n,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(n,l)):(s=l,s.appendChild(n)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ja));else if(h!==4&&(n=n.child,n!==null))for(hu(n,s,l),n=n.sibling;n!==null;)hu(n,s,l),n=n.sibling}function fu(n,s,l){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(h!==4&&(n=n.child,n!==null))for(fu(n,s,l),n=n.sibling;n!==null;)fu(n,s,l),n=n.sibling}var Rt=null,vr=!1;function _n(n,s,l){for(l=l.child;l!==null;)_m(n,s,l),l=l.sibling}function _m(n,s,l){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(Oa,l)}catch{}switch(l.tag){case 5:zt||Ni(l,s);case 6:var h=Rt,v=vr;Rt=null,_n(n,s,l),Rt=h,vr=v,Rt!==null&&(vr?(n=Rt,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):Rt.removeChild(l.stateNode));break;case 18:Rt!==null&&(vr?(n=Rt,l=l.stateNode,n.nodeType===8?Ec(n.parentNode,l):n.nodeType===1&&Ec(n,l),ws(n)):Ec(Rt,l.stateNode));break;case 4:h=Rt,v=vr,Rt=l.stateNode.containerInfo,vr=!0,_n(n,s,l),Rt=h,vr=v;break;case 0:case 11:case 14:case 15:if(!zt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){v=h=h.next;do{var _=v,P=_.destroy;_=_.tag,P!==void 0&&((_&2)!==0||(_&4)!==0)&&uu(l,s,P),v=v.next}while(v!==h)}_n(n,s,l);break;case 1:if(!zt&&(Ni(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(B){mt(l,s,B)}_n(n,s,l);break;case 21:_n(n,s,l);break;case 22:l.mode&1?(zt=(h=zt)||l.memoizedState!==null,_n(n,s,l),zt=h):_n(n,s,l);break;default:_n(n,s,l)}}function bm(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new Ux),s.forEach(function(h){var v=Yx.bind(null,n,h);l.has(h)||(l.add(h),h.then(v,v))})}}function wr(n,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var v=l[h];try{var _=n,P=s,B=P;e:for(;B!==null;){switch(B.tag){case 5:Rt=B.stateNode,vr=!1;break e;case 3:Rt=B.stateNode.containerInfo,vr=!0;break e;case 4:Rt=B.stateNode.containerInfo,vr=!0;break e}B=B.return}if(Rt===null)throw Error(r(160));_m(_,P,v),Rt=null,vr=!1;var q=v.alternate;q!==null&&(q.return=null),v.return=null}catch(ee){mt(v,s,ee)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)xm(s,n),s=s.sibling}function xm(n,s){var l=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(wr(s,n),Dr(n),h&4){try{$s(3,n,n.return),_o(3,n)}catch(Pe){mt(n,n.return,Pe)}try{$s(5,n,n.return)}catch(Pe){mt(n,n.return,Pe)}}break;case 1:wr(s,n),Dr(n),h&512&&l!==null&&Ni(l,l.return);break;case 5:if(wr(s,n),Dr(n),h&512&&l!==null&&Ni(l,l.return),n.flags&32){var v=n.stateNode;try{Fe(v,"")}catch(Pe){mt(n,n.return,Pe)}}if(h&4&&(v=n.stateNode,v!=null)){var _=n.memoizedProps,P=l!==null?l.memoizedProps:_,B=n.type,q=n.updateQueue;if(n.updateQueue=null,q!==null)try{B==="input"&&_.type==="radio"&&_.name!=null&&J(v,_),ql(B,P);var ee=ql(B,_);for(P=0;P<q.length;P+=2){var he=q[P],fe=q[P+1];he==="style"?an(v,fe):he==="dangerouslySetInnerHTML"?Ve(v,fe):he==="children"?Fe(v,fe):k(v,he,fe,ee)}switch(B){case"input":re(v,_);break;case"textarea":H(v,_);break;case"select":var ce=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!_.multiple;var be=_.value;be!=null?S(v,!!_.multiple,be,!1):ce!==!!_.multiple&&(_.defaultValue!=null?S(v,!!_.multiple,_.defaultValue,!0):S(v,!!_.multiple,_.multiple?[]:"",!1))}v[Rs]=_}catch(Pe){mt(n,n.return,Pe)}}break;case 6:if(wr(s,n),Dr(n),h&4){if(n.stateNode===null)throw Error(r(162));v=n.stateNode,_=n.memoizedProps;try{v.nodeValue=_}catch(Pe){mt(n,n.return,Pe)}}break;case 3:if(wr(s,n),Dr(n),h&4&&l!==null&&l.memoizedState.isDehydrated)try{ws(s.containerInfo)}catch(Pe){mt(n,n.return,Pe)}break;case 4:wr(s,n),Dr(n);break;case 13:wr(s,n),Dr(n),v=n.child,v.flags&8192&&(_=v.memoizedState!==null,v.stateNode.isHidden=_,!_||v.alternate!==null&&v.alternate.memoizedState!==null||(gu=yt())),h&4&&bm(n);break;case 22:if(he=l!==null&&l.memoizedState!==null,n.mode&1?(zt=(ee=zt)||he,wr(s,n),zt=ee):wr(s,n),Dr(n),h&8192){if(ee=n.memoizedState!==null,(n.stateNode.isHidden=ee)&&!he&&(n.mode&1)!==0)for(ke=n,he=n.child;he!==null;){for(fe=ke=he;ke!==null;){switch(ce=ke,be=ce.child,ce.tag){case 0:case 11:case 14:case 15:$s(4,ce,ce.return);break;case 1:Ni(ce,ce.return);var Ee=ce.stateNode;if(typeof Ee.componentWillUnmount=="function"){h=ce,l=ce.return;try{s=h,Ee.props=s.memoizedProps,Ee.state=s.memoizedState,Ee.componentWillUnmount()}catch(Pe){mt(h,l,Pe)}}break;case 5:Ni(ce,ce.return);break;case 22:if(ce.memoizedState!==null){Cm(fe);continue}}be!==null?(be.return=ce,ke=be):Cm(fe)}he=he.sibling}e:for(he=null,fe=n;;){if(fe.tag===5){if(he===null){he=fe;try{v=fe.stateNode,ee?(_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(B=fe.stateNode,q=fe.memoizedProps.style,P=q!=null&&q.hasOwnProperty("display")?q.display:null,B.style.display=Fr("display",P))}catch(Pe){mt(n,n.return,Pe)}}}else if(fe.tag===6){if(he===null)try{fe.stateNode.nodeValue=ee?"":fe.memoizedProps}catch(Pe){mt(n,n.return,Pe)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===n)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===n)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===n)break e;he===fe&&(he=null),fe=fe.return}he===fe&&(he=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:wr(s,n),Dr(n),h&4&&bm(n);break;case 21:break;default:wr(s,n),Dr(n)}}function Dr(n){var s=n.flags;if(s&2){try{e:{for(var l=n.return;l!==null;){if(vm(l)){var h=l;break e}l=l.return}throw Error(r(160))}switch(h.tag){case 5:var v=h.stateNode;h.flags&32&&(Fe(v,""),h.flags&=-33);var _=wm(n);fu(n,_,v);break;case 3:case 4:var P=h.stateNode.containerInfo,B=wm(n);hu(n,B,P);break;default:throw Error(r(161))}}catch(q){mt(n,n.return,q)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function $x(n,s,l){ke=n,Sm(n)}function Sm(n,s,l){for(var h=(n.mode&1)!==0;ke!==null;){var v=ke,_=v.child;if(v.tag===22&&h){var P=v.memoizedState!==null||wo;if(!P){var B=v.alternate,q=B!==null&&B.memoizedState!==null||zt;B=wo;var ee=zt;if(wo=P,(zt=q)&&!ee)for(ke=v;ke!==null;)P=ke,q=P.child,P.tag===22&&P.memoizedState!==null?Em(v):q!==null?(q.return=P,ke=q):Em(v);for(;_!==null;)ke=_,Sm(_),_=_.sibling;ke=v,wo=B,zt=ee}km(n)}else(v.subtreeFlags&8772)!==0&&_!==null?(_.return=v,ke=_):km(n)}}function km(n){for(;ke!==null;){var s=ke;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:zt||_o(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!zt)if(l===null)h.componentDidMount();else{var v=s.elementType===s.type?l.memoizedProps:yr(s.type,l.memoizedProps);h.componentDidUpdate(v,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var _=s.updateQueue;_!==null&&Cp(s,_,h);break;case 3:var P=s.updateQueue;if(P!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Cp(s,P,l)}break;case 5:var B=s.stateNode;if(l===null&&s.flags&4){l=B;var q=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&l.focus();break;case"img":q.src&&(l.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var ee=s.alternate;if(ee!==null){var he=ee.memoizedState;if(he!==null){var fe=he.dehydrated;fe!==null&&ws(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}zt||s.flags&512&&du(s)}catch(ce){mt(s,s.return,ce)}}if(s===n){ke=null;break}if(l=s.sibling,l!==null){l.return=s.return,ke=l;break}ke=s.return}}function Cm(n){for(;ke!==null;){var s=ke;if(s===n){ke=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ke=l;break}ke=s.return}}function Em(n){for(;ke!==null;){var s=ke;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{_o(4,s)}catch(q){mt(s,l,q)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var v=s.return;try{h.componentDidMount()}catch(q){mt(s,v,q)}}var _=s.return;try{du(s)}catch(q){mt(s,_,q)}break;case 5:var P=s.return;try{du(s)}catch(q){mt(s,P,q)}}}catch(q){mt(s,s.return,q)}if(s===n){ke=null;break}var B=s.sibling;if(B!==null){B.return=s.return,ke=B;break}ke=s.return}}var Fx=Math.ceil,bo=A.ReactCurrentDispatcher,pu=A.ReactCurrentOwner,ur=A.ReactCurrentBatchConfig,He=0,Pt=null,xt=null,jt=0,rr=0,Ii=mn(0),Et=0,Fs=null,Wn=0,xo=0,mu=0,Vs=null,Gt=null,gu=0,Di=1/0,Jr=null,So=!1,yu=null,bn=null,ko=!1,xn=null,Co=0,qs=0,vu=null,Eo=-1,To=0;function Vt(){return(He&6)!==0?yt():Eo!==-1?Eo:Eo=yt()}function Sn(n){return(n.mode&1)===0?1:(He&2)!==0&&jt!==0?jt&-jt:Cx.transition!==null?(To===0&&(To=wf()),To):(n=et,n!==0||(n=window.event,n=n===void 0?16:Pf(n.type)),n)}function _r(n,s,l,h){if(50<qs)throw qs=0,vu=null,Error(r(185));ps(n,l,h),((He&2)===0||n!==Pt)&&(n===Pt&&((He&2)===0&&(xo|=l),Et===4&&kn(n,jt)),Ht(n,h),l===1&&He===0&&(s.mode&1)===0&&(Di=yt()+500,eo&&yn()))}function Ht(n,s){var l=n.callbackNode;Cb(n,s);var h=Da(n,n===Pt?jt:0);if(h===0)l!==null&&gf(l),n.callbackNode=null,n.callbackPriority=0;else if(s=h&-h,n.callbackPriority!==s){if(l!=null&&gf(l),s===1)n.tag===0?kx(Pm.bind(null,n)):fp(Pm.bind(null,n)),_x(function(){(He&6)===0&&yn()}),l=null;else{switch(_f(h)){case 1:l=Ql;break;case 4:l=yf;break;case 16:l=ja;break;case 536870912:l=vf;break;default:l=ja}l=Lm(l,Tm.bind(null,n))}n.callbackPriority=s,n.callbackNode=l}}function Tm(n,s){if(Eo=-1,To=0,(He&6)!==0)throw Error(r(327));var l=n.callbackNode;if(Li()&&n.callbackNode!==l)return null;var h=Da(n,n===Pt?jt:0);if(h===0)return null;if((h&30)!==0||(h&n.expiredLanes)!==0||s)s=Po(n,h);else{s=h;var v=He;He|=2;var _=Rm();(Pt!==n||jt!==s)&&(Jr=null,Di=yt()+500,Hn(n,s));do try{Kx();break}catch(B){Am(n,B)}while(!0);Lc(),bo.current=_,He=v,xt!==null?s=0:(Pt=null,jt=0,s=Et)}if(s!==0){if(s===2&&(v=Xl(n),v!==0&&(h=v,s=wu(n,v))),s===1)throw l=Fs,Hn(n,0),kn(n,h),Ht(n,yt()),l;if(s===6)kn(n,h);else{if(v=n.current.alternate,(h&30)===0&&!Vx(v)&&(s=Po(n,h),s===2&&(_=Xl(n),_!==0&&(h=_,s=wu(n,_))),s===1))throw l=Fs,Hn(n,0),kn(n,h),Ht(n,yt()),l;switch(n.finishedWork=v,n.finishedLanes=h,s){case 0:case 1:throw Error(r(345));case 2:Yn(n,Gt,Jr);break;case 3:if(kn(n,h),(h&130023424)===h&&(s=gu+500-yt(),10<s)){if(Da(n,0)!==0)break;if(v=n.suspendedLanes,(v&h)!==h){Vt(),n.pingedLanes|=n.suspendedLanes&v;break}n.timeoutHandle=Cc(Yn.bind(null,n,Gt,Jr),s);break}Yn(n,Gt,Jr);break;case 4:if(kn(n,h),(h&4194240)===h)break;for(s=n.eventTimes,v=-1;0<h;){var P=31-pr(h);_=1<<P,P=s[P],P>v&&(v=P),h&=~_}if(h=v,h=yt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Fx(h/1960))-h,10<h){n.timeoutHandle=Cc(Yn.bind(null,n,Gt,Jr),h);break}Yn(n,Gt,Jr);break;case 5:Yn(n,Gt,Jr);break;default:throw Error(r(329))}}}return Ht(n,yt()),n.callbackNode===l?Tm.bind(null,n):null}function wu(n,s){var l=Vs;return n.current.memoizedState.isDehydrated&&(Hn(n,s).flags|=256),n=Po(n,s),n!==2&&(s=Gt,Gt=l,s!==null&&_u(s)),n}function _u(n){Gt===null?Gt=n:Gt.push.apply(Gt,n)}function Vx(n){for(var s=n;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var v=l[h],_=v.getSnapshot;v=v.value;try{if(!mr(_(),v))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function kn(n,s){for(s&=~mu,s&=~xo,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var l=31-pr(s),h=1<<l;n[l]=-1,s&=~h}}function Pm(n){if((He&6)!==0)throw Error(r(327));Li();var s=Da(n,0);if((s&1)===0)return Ht(n,yt()),null;var l=Po(n,s);if(n.tag!==0&&l===2){var h=Xl(n);h!==0&&(s=h,l=wu(n,h))}if(l===1)throw l=Fs,Hn(n,0),kn(n,s),Ht(n,yt()),l;if(l===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Yn(n,Gt,Jr),Ht(n,yt()),null}function bu(n,s){var l=He;He|=1;try{return n(s)}finally{He=l,He===0&&(Di=yt()+500,eo&&yn())}}function Gn(n){xn!==null&&xn.tag===0&&(He&6)===0&&Li();var s=He;He|=1;var l=ur.transition,h=et;try{if(ur.transition=null,et=1,n)return n()}finally{et=h,ur.transition=l,He=s,(He&6)===0&&yn()}}function xu(){rr=Ii.current,at(Ii)}function Hn(n,s){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,wx(l)),xt!==null)for(l=xt.return;l!==null;){var h=l;switch(jc(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Xa();break;case 3:ji(),at(qt),at(Dt),qc();break;case 5:Fc(h);break;case 4:ji();break;case 13:at(ht);break;case 19:at(ht);break;case 10:Mc(h.type._context);break;case 22:case 23:xu()}l=l.return}if(Pt=n,xt=n=Cn(n.current,null),jt=rr=s,Et=0,Fs=null,mu=xo=Wn=0,Gt=Vs=null,Vn!==null){for(s=0;s<Vn.length;s++)if(l=Vn[s],h=l.interleaved,h!==null){l.interleaved=null;var v=h.next,_=l.pending;if(_!==null){var P=_.next;_.next=v,h.next=P}l.pending=h}Vn=null}return n}function Am(n,s){do{var l=xt;try{if(Lc(),uo.current=mo,ho){for(var h=ft.memoizedState;h!==null;){var v=h.queue;v!==null&&(v.pending=null),h=h.next}ho=!1}if(Kn=0,Tt=Ct=ft=null,Ls=!1,Ms=0,pu.current=null,l===null||l.return===null){Et=1,Fs=s,xt=null;break}e:{var _=n,P=l.return,B=l,q=s;if(s=jt,B.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var ee=q,he=B,fe=he.tag;if((he.mode&1)===0&&(fe===0||fe===11||fe===15)){var ce=he.alternate;ce?(he.updateQueue=ce.updateQueue,he.memoizedState=ce.memoizedState,he.lanes=ce.lanes):(he.updateQueue=null,he.memoizedState=null)}var be=em(P);if(be!==null){be.flags&=-257,tm(be,P,B,_,s),be.mode&1&&Zp(_,ee,s),s=be,q=ee;var Ee=s.updateQueue;if(Ee===null){var Pe=new Set;Pe.add(q),s.updateQueue=Pe}else Ee.add(q);break e}else{if((s&1)===0){Zp(_,ee,s),Su();break e}q=Error(r(426))}}else if(lt&&B.mode&1){var vt=em(P);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),tm(vt,P,B,_,s),Ic(Oi(q,B));break e}}_=q=Oi(q,B),Et!==4&&(Et=2),Vs===null?Vs=[_]:Vs.push(_),_=P;do{switch(_.tag){case 3:_.flags|=65536,s&=-s,_.lanes|=s;var Q=Qp(_,q,s);kp(_,Q);break e;case 1:B=q;var W=_.type,X=_.stateNode;if((_.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(bn===null||!bn.has(X)))){_.flags|=65536,s&=-s,_.lanes|=s;var pe=Xp(_,B,s);kp(_,pe);break e}}_=_.return}while(_!==null)}Om(l)}catch(Ae){s=Ae,xt===l&&l!==null&&(xt=l=l.return);continue}break}while(!0)}function Rm(){var n=bo.current;return bo.current=mo,n===null?mo:n}function Su(){(Et===0||Et===3||Et===2)&&(Et=4),Pt===null||(Wn&268435455)===0&&(xo&268435455)===0||kn(Pt,jt)}function Po(n,s){var l=He;He|=2;var h=Rm();(Pt!==n||jt!==s)&&(Jr=null,Hn(n,s));do try{qx();break}catch(v){Am(n,v)}while(!0);if(Lc(),He=l,bo.current=h,xt!==null)throw Error(r(261));return Pt=null,jt=0,Et}function qx(){for(;xt!==null;)jm(xt)}function Kx(){for(;xt!==null&&!gb();)jm(xt)}function jm(n){var s=Dm(n.alternate,n,rr);n.memoizedProps=n.pendingProps,s===null?Om(n):xt=s,pu.current=null}function Om(n){var s=n;do{var l=s.alternate;if(n=s.return,(s.flags&32768)===0){if(l=Mx(l,s,rr),l!==null){xt=l;return}}else{if(l=zx(l,s),l!==null){l.flags&=32767,xt=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Et=6,xt=null;return}}if(s=s.sibling,s!==null){xt=s;return}xt=s=n}while(s!==null);Et===0&&(Et=5)}function Yn(n,s,l){var h=et,v=ur.transition;try{ur.transition=null,et=1,Wx(n,s,l,h)}finally{ur.transition=v,et=h}return null}function Wx(n,s,l,h){do Li();while(xn!==null);if((He&6)!==0)throw Error(r(327));l=n.finishedWork;var v=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var _=l.lanes|l.childLanes;if(Eb(n,_),n===Pt&&(xt=Pt=null,jt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||ko||(ko=!0,Lm(ja,function(){return Li(),null})),_=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||_){_=ur.transition,ur.transition=null;var P=et;et=1;var B=He;He|=4,pu.current=null,Bx(n,l),xm(l,n),hx(Sc),za=!!xc,Sc=xc=null,n.current=l,$x(l),yb(),He=B,et=P,ur.transition=_}else n.current=l;if(ko&&(ko=!1,xn=n,Co=v),_=n.pendingLanes,_===0&&(bn=null),_b(l.stateNode),Ht(n,yt()),s!==null)for(h=n.onRecoverableError,l=0;l<s.length;l++)v=s[l],h(v.value,{componentStack:v.stack,digest:v.digest});if(So)throw So=!1,n=yu,yu=null,n;return(Co&1)!==0&&n.tag!==0&&Li(),_=n.pendingLanes,(_&1)!==0?n===vu?qs++:(qs=0,vu=n):qs=0,yn(),null}function Li(){if(xn!==null){var n=_f(Co),s=ur.transition,l=et;try{if(ur.transition=null,et=16>n?16:n,xn===null)var h=!1;else{if(n=xn,xn=null,Co=0,(He&6)!==0)throw Error(r(331));var v=He;for(He|=4,ke=n.current;ke!==null;){var _=ke,P=_.child;if((ke.flags&16)!==0){var B=_.deletions;if(B!==null){for(var q=0;q<B.length;q++){var ee=B[q];for(ke=ee;ke!==null;){var he=ke;switch(he.tag){case 0:case 11:case 15:$s(8,he,_)}var fe=he.child;if(fe!==null)fe.return=he,ke=fe;else for(;ke!==null;){he=ke;var ce=he.sibling,be=he.return;if(ym(he),he===ee){ke=null;break}if(ce!==null){ce.return=be,ke=ce;break}ke=be}}}var Ee=_.alternate;if(Ee!==null){var Pe=Ee.child;if(Pe!==null){Ee.child=null;do{var vt=Pe.sibling;Pe.sibling=null,Pe=vt}while(Pe!==null)}}ke=_}}if((_.subtreeFlags&2064)!==0&&P!==null)P.return=_,ke=P;else e:for(;ke!==null;){if(_=ke,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:$s(9,_,_.return)}var Q=_.sibling;if(Q!==null){Q.return=_.return,ke=Q;break e}ke=_.return}}var W=n.current;for(ke=W;ke!==null;){P=ke;var X=P.child;if((P.subtreeFlags&2064)!==0&&X!==null)X.return=P,ke=X;else e:for(P=W;ke!==null;){if(B=ke,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:_o(9,B)}}catch(Ae){mt(B,B.return,Ae)}if(B===P){ke=null;break e}var pe=B.sibling;if(pe!==null){pe.return=B.return,ke=pe;break e}ke=B.return}}if(He=v,yn(),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(Oa,n)}catch{}h=!0}return h}finally{et=l,ur.transition=s}}return!1}function Nm(n,s,l){s=Oi(l,s),s=Qp(n,s,1),n=wn(n,s,1),s=Vt(),n!==null&&(ps(n,1,s),Ht(n,s))}function mt(n,s,l){if(n.tag===3)Nm(n,n,l);else for(;s!==null;){if(s.tag===3){Nm(s,n,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(bn===null||!bn.has(h))){n=Oi(l,n),n=Xp(s,n,1),s=wn(s,n,1),n=Vt(),s!==null&&(ps(s,1,n),Ht(s,n));break}}s=s.return}}function Gx(n,s,l){var h=n.pingCache;h!==null&&h.delete(s),s=Vt(),n.pingedLanes|=n.suspendedLanes&l,Pt===n&&(jt&l)===l&&(Et===4||Et===3&&(jt&130023424)===jt&&500>yt()-gu?Hn(n,0):mu|=l),Ht(n,s)}function Im(n,s){s===0&&((n.mode&1)===0?s=1:(s=Ia,Ia<<=1,(Ia&130023424)===0&&(Ia=4194304)));var l=Vt();n=Gr(n,s),n!==null&&(ps(n,s,l),Ht(n,l))}function Hx(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),Im(n,l)}function Yx(n,s){var l=0;switch(n.tag){case 13:var h=n.stateNode,v=n.memoizedState;v!==null&&(l=v.retryLane);break;case 19:h=n.stateNode;break;default:throw Error(r(314))}h!==null&&h.delete(s),Im(n,l)}var Dm;Dm=function(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps||qt.current)Wt=!0;else{if((n.lanes&l)===0&&(s.flags&128)===0)return Wt=!1,Lx(n,s,l);Wt=(n.flags&131072)!==0}else Wt=!1,lt&&(s.flags&1048576)!==0&&pp(s,ro,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;vo(n,s),n=s.pendingProps;var v=ki(s,Dt.current);Ri(s,l),v=Gc(null,s,h,n,v,l);var _=Hc();return s.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Kt(h)?(_=!0,Za(s)):_=!1,s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Bc(s),v.updater=go,s.stateNode=v,v._reactInternals=s,eu(s,h,n,l),s=iu(null,s,h,!0,_,l)):(s.tag=0,lt&&_&&Rc(s),Ft(null,s,v,l),s=s.child),s;case 16:h=s.elementType;e:{switch(vo(n,s),n=s.pendingProps,v=h._init,h=v(h._payload),s.type=h,v=s.tag=Qx(h),n=yr(h,n),v){case 0:s=nu(null,s,h,n,l);break e;case 1:s=om(null,s,h,n,l);break e;case 11:s=rm(null,s,h,n,l);break e;case 14:s=nm(null,s,h,yr(h.type,n),l);break e}throw Error(r(306,h,""))}return s;case 0:return h=s.type,v=s.pendingProps,v=s.elementType===h?v:yr(h,v),nu(n,s,h,v,l);case 1:return h=s.type,v=s.pendingProps,v=s.elementType===h?v:yr(h,v),om(n,s,h,v,l);case 3:e:{if(lm(s),n===null)throw Error(r(387));h=s.pendingProps,_=s.memoizedState,v=_.element,Sp(n,s),lo(s,h,null,l);var P=s.memoizedState;if(h=P.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){v=Oi(Error(r(423)),s),s=cm(n,s,h,l,v);break e}else if(h!==v){v=Oi(Error(r(424)),s),s=cm(n,s,h,l,v);break e}else for(tr=pn(s.stateNode.containerInfo.firstChild),er=s,lt=!0,gr=null,l=bp(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ti(),h===v){s=Yr(n,s,l);break e}Ft(n,s,h,l)}s=s.child}return s;case 5:return Ep(s),n===null&&Nc(s),h=s.type,v=s.pendingProps,_=n!==null?n.memoizedProps:null,P=v.children,kc(h,v)?P=null:_!==null&&kc(h,_)&&(s.flags|=32),am(n,s),Ft(n,s,P,l),s.child;case 6:return n===null&&Nc(s),null;case 13:return um(n,s,l);case 4:return $c(s,s.stateNode.containerInfo),h=s.pendingProps,n===null?s.child=Pi(s,null,h,l):Ft(n,s,h,l),s.child;case 11:return h=s.type,v=s.pendingProps,v=s.elementType===h?v:yr(h,v),rm(n,s,h,v,l);case 7:return Ft(n,s,s.pendingProps,l),s.child;case 8:return Ft(n,s,s.pendingProps.children,l),s.child;case 12:return Ft(n,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,v=s.pendingProps,_=s.memoizedProps,P=v.value,rt(so,h._currentValue),h._currentValue=P,_!==null)if(mr(_.value,P)){if(_.children===v.children&&!qt.current){s=Yr(n,s,l);break e}}else for(_=s.child,_!==null&&(_.return=s);_!==null;){var B=_.dependencies;if(B!==null){P=_.child;for(var q=B.firstContext;q!==null;){if(q.context===h){if(_.tag===1){q=Hr(-1,l&-l),q.tag=2;var ee=_.updateQueue;if(ee!==null){ee=ee.shared;var he=ee.pending;he===null?q.next=q:(q.next=he.next,he.next=q),ee.pending=q}}_.lanes|=l,q=_.alternate,q!==null&&(q.lanes|=l),zc(_.return,l,s),B.lanes|=l;break}q=q.next}}else if(_.tag===10)P=_.type===s.type?null:_.child;else if(_.tag===18){if(P=_.return,P===null)throw Error(r(341));P.lanes|=l,B=P.alternate,B!==null&&(B.lanes|=l),zc(P,l,s),P=_.sibling}else P=_.child;if(P!==null)P.return=_;else for(P=_;P!==null;){if(P===s){P=null;break}if(_=P.sibling,_!==null){_.return=P.return,P=_;break}P=P.return}_=P}Ft(n,s,v.children,l),s=s.child}return s;case 9:return v=s.type,h=s.pendingProps.children,Ri(s,l),v=lr(v),h=h(v),s.flags|=1,Ft(n,s,h,l),s.child;case 14:return h=s.type,v=yr(h,s.pendingProps),v=yr(h.type,v),nm(n,s,h,v,l);case 15:return im(n,s,s.type,s.pendingProps,l);case 17:return h=s.type,v=s.pendingProps,v=s.elementType===h?v:yr(h,v),vo(n,s),s.tag=1,Kt(h)?(n=!0,Za(s)):n=!1,Ri(s,l),Yp(s,h,v),eu(s,h,v,l),iu(null,s,h,!0,n,l);case 19:return hm(n,s,l);case 22:return sm(n,s,l)}throw Error(r(156,s.tag))};function Lm(n,s){return mf(n,s)}function Jx(n,s,l,h){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(n,s,l,h){return new Jx(n,s,l,h)}function ku(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Qx(n){if(typeof n=="function")return ku(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Y)return 11;if(n===_e)return 14}return 2}function Cn(n,s){var l=n.alternate;return l===null?(l=dr(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function Ao(n,s,l,h,v,_){var P=2;if(h=n,typeof n=="function")ku(n)&&(P=1);else if(typeof n=="string")P=5;else e:switch(n){case O:return Jn(l.children,v,_,s);case N:P=8,v|=8;break;case K:return n=dr(12,l,s,v|2),n.elementType=K,n.lanes=_,n;case te:return n=dr(13,l,s,v),n.elementType=te,n.lanes=_,n;case ue:return n=dr(19,l,s,v),n.elementType=ue,n.lanes=_,n;case we:return Ro(l,v,_,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case L:P=10;break e;case $:P=9;break e;case Y:P=11;break e;case _e:P=14;break e;case Se:P=16,h=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return s=dr(P,l,s,v),s.elementType=n,s.type=h,s.lanes=_,s}function Jn(n,s,l,h){return n=dr(7,n,h,s),n.lanes=l,n}function Ro(n,s,l,h){return n=dr(22,n,h,s),n.elementType=we,n.lanes=l,n.stateNode={isHidden:!1},n}function Cu(n,s,l){return n=dr(6,n,null,s),n.lanes=l,n}function Eu(n,s,l){return s=dr(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function Xx(n,s,l,h,v){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zl(0),this.expirationTimes=Zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zl(0),this.identifierPrefix=h,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Tu(n,s,l,h,v,_,P,B,q){return n=new Xx(n,s,l,B,q),s===1?(s=1,_===!0&&(s|=8)):s=0,_=dr(3,null,null,s),n.current=_,_.stateNode=n,_.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bc(_),n}function Zx(n,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:h==null?null:""+h,children:n,containerInfo:s,implementation:l}}function Mm(n){if(!n)return gn;n=n._reactInternals;e:{if(zn(n)!==n||n.tag!==1)throw Error(r(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Kt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(n.tag===1){var l=n.type;if(Kt(l))return dp(n,l,s)}return s}function zm(n,s,l,h,v,_,P,B,q){return n=Tu(l,h,!0,n,v,_,P,B,q),n.context=Mm(null),l=n.current,h=Vt(),v=Sn(l),_=Hr(h,v),_.callback=s??null,wn(l,_,v),n.current.lanes=v,ps(n,v,h),Ht(n,h),n}function jo(n,s,l,h){var v=s.current,_=Vt(),P=Sn(v);return l=Mm(l),s.context===null?s.context=l:s.pendingContext=l,s=Hr(_,P),s.payload={element:n},h=h===void 0?null:h,h!==null&&(s.callback=h),n=wn(v,s,P),n!==null&&(_r(n,v,P,_),oo(n,v,P)),P}function Oo(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Um(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function Pu(n,s){Um(n,s),(n=n.alternate)&&Um(n,s)}function eS(){return null}var Bm=typeof reportError=="function"?reportError:function(n){console.error(n)};function Au(n){this._internalRoot=n}No.prototype.render=Au.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));jo(n,s,null,null)},No.prototype.unmount=Au.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Gn(function(){jo(null,n,null,null)}),s[Vr]=null}};function No(n){this._internalRoot=n}No.prototype.unstable_scheduleHydration=function(n){if(n){var s=Sf();n={blockedOn:null,target:n,priority:s};for(var l=0;l<dn.length&&s!==0&&s<dn[l].priority;l++);dn.splice(l,0,n),l===0&&Ef(n)}};function Ru(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Io(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function $m(){}function tS(n,s,l,h,v){if(v){if(typeof h=="function"){var _=h;h=function(){var ee=Oo(P);_.call(ee)}}var P=zm(s,h,n,0,null,!1,!1,"",$m);return n._reactRootContainer=P,n[Vr]=P.current,Ps(n.nodeType===8?n.parentNode:n),Gn(),P}for(;v=n.lastChild;)n.removeChild(v);if(typeof h=="function"){var B=h;h=function(){var ee=Oo(q);B.call(ee)}}var q=Tu(n,0,!1,null,null,!1,!1,"",$m);return n._reactRootContainer=q,n[Vr]=q.current,Ps(n.nodeType===8?n.parentNode:n),Gn(function(){jo(s,q,l,h)}),q}function Do(n,s,l,h,v){var _=l._reactRootContainer;if(_){var P=_;if(typeof v=="function"){var B=v;v=function(){var q=Oo(P);B.call(q)}}jo(s,P,n,v)}else P=tS(l,s,n,v,h);return Oo(P)}bf=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var l=fs(s.pendingLanes);l!==0&&(ec(s,l|1),Ht(s,yt()),(He&6)===0&&(Di=yt()+500,yn()))}break;case 13:Gn(function(){var h=Gr(n,1);if(h!==null){var v=Vt();_r(h,n,1,v)}}),Pu(n,1)}},tc=function(n){if(n.tag===13){var s=Gr(n,134217728);if(s!==null){var l=Vt();_r(s,n,134217728,l)}Pu(n,134217728)}},xf=function(n){if(n.tag===13){var s=Sn(n),l=Gr(n,s);if(l!==null){var h=Vt();_r(l,n,s,h)}Pu(n,s)}},Sf=function(){return et},kf=function(n,s){var l=et;try{return et=n,s()}finally{et=l}},Gl=function(n,s,l){switch(s){case"input":if(re(n,l),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==n&&h.form===n.form){var v=Qa(h);if(!v)throw Error(r(90));ut(h),re(h,v)}}}break;case"textarea":H(n,l);break;case"select":s=l.value,s!=null&&S(n,!!l.multiple,s,!1)}},lf=bu,cf=Gn;var rS={usingClientEntryPoint:!1,Events:[js,xi,Qa,af,of,bu]},Ks={findFiberByHostInstance:Un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nS={bundleType:Ks.bundleType,version:Ks.version,rendererPackageName:Ks.rendererPackageName,rendererConfig:Ks.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=ff(n),n===null?null:n.stateNode},findFiberByHostInstance:Ks.findFiberByHostInstance||eS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lo.isDisabled&&Lo.supportsFiber)try{Oa=Lo.inject(nS),jr=Lo}catch{}}return Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rS,Jt.createPortal=function(n,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ru(s))throw Error(r(200));return Zx(n,s,null,l)},Jt.createRoot=function(n,s){if(!Ru(n))throw Error(r(299));var l=!1,h="",v=Bm;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=Tu(n,1,!1,null,null,l,!1,h,v),n[Vr]=s.current,Ps(n.nodeType===8?n.parentNode:n),new Au(s)},Jt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=ff(s),n=n===null?null:n.stateNode,n},Jt.flushSync=function(n){return Gn(n)},Jt.hydrate=function(n,s,l){if(!Io(s))throw Error(r(200));return Do(null,n,s,!0,l)},Jt.hydrateRoot=function(n,s,l){if(!Ru(n))throw Error(r(405));var h=l!=null&&l.hydratedSources||null,v=!1,_="",P=Bm;if(l!=null&&(l.unstable_strictMode===!0&&(v=!0),l.identifierPrefix!==void 0&&(_=l.identifierPrefix),l.onRecoverableError!==void 0&&(P=l.onRecoverableError)),s=zm(s,null,n,1,l??null,v,!1,_,P),n[Vr]=s.current,Ps(n),h)for(n=0;n<h.length;n++)l=h[n],v=l._getVersion,v=v(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,v]:s.mutableSourceEagerHydrationData.push(l,v);return new No(s)},Jt.render=function(n,s,l){if(!Io(s))throw Error(r(200));return Do(null,n,s,!1,l)},Jt.unmountComponentAtNode=function(n){if(!Io(n))throw Error(r(40));return n._reactRootContainer?(Gn(function(){Do(null,null,n,!1,function(){n._reactRootContainer=null,n[Vr]=null})}),!0):!1},Jt.unstable_batchedUpdates=bu,Jt.unstable_renderSubtreeIntoContainer=function(n,s,l,h){if(!Io(l))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return Do(n,s,l,!1,h)},Jt.version="18.3.1-next-f1338f8080-20240426",Jt}var Ym;function yv(){if(Ym)return Nu.exports;Ym=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Nu.exports=fS(),Nu.exports}var Jm;function pS(){if(Jm)return Mo;Jm=1;var t=yv();return Mo.createRoot=t.createRoot,Mo.hydrateRoot=t.hydrateRoot,Mo}var mS=pS();const gS=Rl(mS),yS="modulepreload",vS=function(t){return"/"+t},Qm={},Me=function(e,r,i){let a=Promise.resolve();if(r&&r.length>0){let c=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=c(r.map(f=>{if(f=vS(f),f in Qm)return;Qm[f]=!0;const g=f.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":yS,g||(w.as="script"),w.crossOrigin="",w.href=f,d&&w.setAttribute("nonce",d),document.head.appendChild(w),g)return new Promise((b,x)=>{w.addEventListener("load",b),w.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return a.then(c=>{for(const u of c||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};yv();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ha(){return ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ha.apply(this,arguments)}var jn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(jn||(jn={}));const Xm="popstate";function wS(t){t===void 0&&(t={});function e(i,a){let{pathname:o,search:c,hash:u}=i.location;return ld("",{pathname:o,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){return typeof a=="string"?a:ul(a)}return bS(e,r,null,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _S(){return Math.random().toString(36).substr(2,8)}function Zm(t,e){return{usr:t.state,key:t.key,idx:e}}function ld(t,e,r,i){return r===void 0&&(r=null),ha({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?is(e):e,{state:r,key:e&&e.key||i||_S()})}function ul(t){let{pathname:e="/",search:r="",hash:i=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function is(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function bS(t,e,r,i){i===void 0&&(i={});let{window:a=document.defaultView,v5Compat:o=!1}=i,c=a.history,u=jn.Pop,d=null,f=g();f==null&&(f=0,c.replaceState(ha({},c.state,{idx:f}),""));function g(){return(c.state||{idx:null}).idx}function m(){u=jn.Pop;let E=g(),j=E==null?null:E-f;f=E,d&&d({action:u,location:C.location,delta:j})}function w(E,j){u=jn.Push;let D=ld(C.location,E,j);f=g()+1;let k=Zm(D,f),A=C.createHref(D);try{c.pushState(k,"",A)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;a.location.assign(A)}o&&d&&d({action:u,location:C.location,delta:1})}function b(E,j){u=jn.Replace;let D=ld(C.location,E,j);f=g();let k=Zm(D,f),A=C.createHref(D);c.replaceState(k,"",A),o&&d&&d({action:u,location:C.location,delta:0})}function x(E){let j=a.location.origin!=="null"?a.location.origin:a.location.href,D=typeof E=="string"?E:ul(E);return D=D.replace(/ $/,"%20"),_t(j,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,j)}let C={get action(){return u},get location(){return t(a,c)},listen(E){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Xm,m),d=E,()=>{a.removeEventListener(Xm,m),d=null}},createHref(E){return e(a,E)},createURL:x,encodeLocation(E){let j=x(E);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:w,replace:b,go(E){return c.go(E)}};return C}var eg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(eg||(eg={}));function xS(t,e,r){return r===void 0&&(r="/"),SS(t,e,r)}function SS(t,e,r,i){let a=typeof e=="string"?is(e):e,o=Zd(a.pathname||"/",r);if(o==null)return null;let c=vv(t);kS(c);let u=null;for(let d=0;u==null&&d<c.length;++d){let f=LS(o);u=NS(c[d],f)}return u}function vv(t,e,r,i){e===void 0&&(e=[]),r===void 0&&(r=[]),i===void 0&&(i="");let a=(o,c,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};d.relativePath.startsWith("/")&&(_t(d.relativePath.startsWith(i),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(i.length));let f=On([i,d.relativePath]),g=r.concat(d);o.children&&o.children.length>0&&(_t(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),vv(o.children,e,g,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:jS(f,o.index),routesMeta:g})};return t.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,c);else for(let d of wv(o.path))a(o,c,d)}),e}function wv(t){let e=t.split("/");if(e.length===0)return[];let[r,...i]=e,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let c=wv(i.join("/")),u=[];return u.push(...c.map(d=>d===""?o:[o,d].join("/"))),a&&u.push(...c),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function kS(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:OS(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const CS=/^:[\w-]+$/,ES=3,TS=2,PS=1,AS=10,RS=-2,tg=t=>t==="*";function jS(t,e){let r=t.split("/"),i=r.length;return r.some(tg)&&(i+=RS),e&&(i+=TS),r.filter(a=>!tg(a)).reduce((a,o)=>a+(CS.test(o)?ES:o===""?PS:AS),i)}function OS(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function NS(t,e,r){let{routesMeta:i}=t,a={},o="/",c=[];for(let u=0;u<i.length;++u){let d=i[u],f=u===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",m=IS({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),w=d.route;if(!m)return null;Object.assign(a,m.params),c.push({params:a,pathname:On([o,m.pathname]),pathnameBase:$S(On([o,m.pathnameBase])),route:w}),m.pathnameBase!=="/"&&(o=On([o,m.pathnameBase]))}return c}function IS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,i]=DS(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:i.reduce((f,g,m)=>{let{paramName:w,isOptional:b}=g;if(w==="*"){let C=u[m]||"";c=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const x=u[m];return b&&!x?f[w]=void 0:f[w]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:t}}function DS(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Xd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,d)=>(i.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function LS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Zd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=t.charAt(r);return i&&i!=="/"?null:t.slice(r)||"/"}const MS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zS=t=>MS.test(t);function US(t,e){e===void 0&&(e="/");let{pathname:r,search:i="",hash:a=""}=typeof t=="string"?is(t):t,o;if(r)if(zS(r))o=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),Xd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+r))}r.startsWith("/")?o=rg(r.substring(1),"/"):o=rg(r,e)}else o=e;return{pathname:o,search:FS(i),hash:VS(a)}}function rg(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Lu(t,e,r,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BS(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function eh(t,e){let r=BS(t);return e?r.map((i,a)=>a===r.length-1?i.pathname:i.pathnameBase):r.map(i=>i.pathnameBase)}function th(t,e,r,i){i===void 0&&(i=!1);let a;typeof t=="string"?a=is(t):(a=ha({},t),_t(!a.pathname||!a.pathname.includes("?"),Lu("?","pathname","search",a)),_t(!a.pathname||!a.pathname.includes("#"),Lu("#","pathname","hash",a)),_t(!a.search||!a.search.includes("#"),Lu("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,u;if(c==null)u=r;else{let m=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),m-=1;a.pathname=w.join("/")}u=m>=0?e[m]:"/"}let d=US(a,u),f=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}const On=t=>t.join("/").replace(/\/\/+/g,"/"),$S=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,VS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _v=["post","put","patch","delete"];new Set(_v);const KS=["get",..._v];new Set(KS);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fa(){return fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},fa.apply(this,arguments)}const rh=z.createContext(null),WS=z.createContext(null),Ln=z.createContext(null),jl=z.createContext(null),nn=z.createContext({outlet:null,matches:[],isDataRoute:!1}),bv=z.createContext(null);function GS(t,e){let{relative:r}=e===void 0?{}:e;ss()||_t(!1);let{basename:i,navigator:a}=z.useContext(Ln),{hash:o,pathname:c,search:u}=Sv(t,{relative:r}),d=c;return i!=="/"&&(d=c==="/"?i:On([i,c])),a.createHref({pathname:d,search:u,hash:o})}function ss(){return z.useContext(jl)!=null}function Pr(){return ss()||_t(!1),z.useContext(jl).location}function xv(t){z.useContext(Ln).static||z.useLayoutEffect(t)}function di(){let{isDataRoute:t}=z.useContext(nn);return t?ak():HS()}function HS(){ss()||_t(!1);let t=z.useContext(rh),{basename:e,future:r,navigator:i}=z.useContext(Ln),{matches:a}=z.useContext(nn),{pathname:o}=Pr(),c=JSON.stringify(eh(a,r.v7_relativeSplatPath)),u=z.useRef(!1);return xv(()=>{u.current=!0}),z.useCallback(function(f,g){if(g===void 0&&(g={}),!u.current)return;if(typeof f=="number"){i.go(f);return}let m=th(f,JSON.parse(c),o,g.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:On([e,m.pathname])),(g.replace?i.replace:i.push)(m,g.state,g)},[e,i,c,o,t])}function W2(){let{matches:t}=z.useContext(nn),e=t[t.length-1];return e?e.params:{}}function Sv(t,e){let{relative:r}=e===void 0?{}:e,{future:i}=z.useContext(Ln),{matches:a}=z.useContext(nn),{pathname:o}=Pr(),c=JSON.stringify(eh(a,i.v7_relativeSplatPath));return z.useMemo(()=>th(t,JSON.parse(c),o,r==="path"),[t,c,o,r])}function YS(t,e){return JS(t,e)}function JS(t,e,r,i){ss()||_t(!1);let{navigator:a}=z.useContext(Ln),{matches:o}=z.useContext(nn),c=o[o.length-1],u=c?c.params:{};c&&c.pathname;let d=c?c.pathnameBase:"/";c&&c.route;let f=Pr(),g;if(e){var m;let E=typeof e=="string"?is(e):e;d==="/"||(m=E.pathname)!=null&&m.startsWith(d)||_t(!1),g=E}else g=f;let w=g.pathname||"/",b=w;if(d!=="/"){let E=d.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(E.length).join("/")}let x=xS(t,{pathname:b}),C=tk(x&&x.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:On([d,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:On([d,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,r,i);return e&&C?z.createElement(jl.Provider,{value:{location:fa({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:jn.Pop}},C):C}function QS(){let t=sk(),e=qS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),r?z.createElement("pre",{style:a},r):null,null)}const XS=z.createElement(QS,null);class ZS extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?z.createElement(nn.Provider,{value:this.props.routeContext},z.createElement(bv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ek(t){let{routeContext:e,match:r,children:i}=t,a=z.useContext(rh);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),z.createElement(nn.Provider,{value:e},i)}function tk(t,e,r,i){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),i===void 0&&(i=null),t==null){var o;if(!r)return null;if(r.errors)t=r.matches;else if((o=i)!=null&&o.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let c=t,u=(a=r)==null?void 0:a.errors;if(u!=null){let g=c.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);g>=0||_t(!1),c=c.slice(0,Math.min(c.length,g+1))}let d=!1,f=-1;if(r&&i&&i.v7_partialHydration)for(let g=0;g<c.length;g++){let m=c[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=g),m.route.id){let{loaderData:w,errors:b}=r,x=m.route.loader&&w[m.route.id]===void 0&&(!b||b[m.route.id]===void 0);if(m.route.lazy||x){d=!0,f>=0?c=c.slice(0,f+1):c=[c[0]];break}}}return c.reduceRight((g,m,w)=>{let b,x=!1,C=null,E=null;r&&(b=u&&m.route.id?u[m.route.id]:void 0,C=m.route.errorElement||XS,d&&(f<0&&w===0?(ok("route-fallback"),x=!0,E=null):f===w&&(x=!0,E=m.route.hydrateFallbackElement||null)));let j=e.concat(c.slice(0,w+1)),D=()=>{let k;return b?k=C:x?k=E:m.route.Component?k=z.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=g,z.createElement(ek,{match:m,routeContext:{outlet:g,matches:j,isDataRoute:r!=null},children:k})};return r&&(m.route.ErrorBoundary||m.route.errorElement||w===0)?z.createElement(ZS,{location:r.location,revalidation:r.revalidation,component:C,error:b,children:D(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):D()},null)}var kv=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(kv||{}),Cv=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Cv||{});function rk(t){let e=z.useContext(rh);return e||_t(!1),e}function nk(t){let e=z.useContext(WS);return e||_t(!1),e}function ik(t){let e=z.useContext(nn);return e||_t(!1),e}function Ev(t){let e=ik(),r=e.matches[e.matches.length-1];return r.route.id||_t(!1),r.route.id}function sk(){var t;let e=z.useContext(bv),r=nk(),i=Ev();return e!==void 0?e:(t=r.errors)==null?void 0:t[i]}function ak(){let{router:t}=rk(kv.UseNavigateStable),e=Ev(Cv.UseNavigateStable),r=z.useRef(!1);return xv(()=>{r.current=!0}),z.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,fa({fromRouteId:e},o)))},[t,e])}const ng={};function ok(t,e,r){ng[t]||(ng[t]=!0)}function lk(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Tv(t){let{to:e,replace:r,state:i,relative:a}=t;ss()||_t(!1);let{future:o,static:c}=z.useContext(Ln),{matches:u}=z.useContext(nn),{pathname:d}=Pr(),f=di(),g=th(e,eh(u,o.v7_relativeSplatPath),d,a==="path"),m=JSON.stringify(g);return z.useEffect(()=>f(JSON.parse(m),{replace:r,state:i,relative:a}),[f,m,a,r,i]),null}function ve(t){_t(!1)}function ck(t){let{basename:e="/",children:r=null,location:i,navigationType:a=jn.Pop,navigator:o,static:c=!1,future:u}=t;ss()&&_t(!1);let d=e.replace(/^\/*/,"/"),f=z.useMemo(()=>({basename:d,navigator:o,static:c,future:fa({v7_relativeSplatPath:!1},u)}),[d,u,o,c]);typeof i=="string"&&(i=is(i));let{pathname:g="/",search:m="",hash:w="",state:b=null,key:x="default"}=i,C=z.useMemo(()=>{let E=Zd(g,d);return E==null?null:{location:{pathname:E,search:m,hash:w,state:b,key:x},navigationType:a}},[d,g,m,w,b,x,a]);return C==null?null:z.createElement(Ln.Provider,{value:f},z.createElement(jl.Provider,{children:r,value:C}))}function uk(t){let{children:e,location:r}=t;return YS(cd(e),r)}new Promise(()=>{});function cd(t,e){e===void 0&&(e=[]);let r=[];return z.Children.forEach(t,(i,a)=>{if(!z.isValidElement(i))return;let o=[...e,a];if(i.type===z.Fragment){r.push.apply(r,cd(i.props.children,o));return}i.type!==ve&&_t(!1),!i.props.index||!i.props.children||_t(!1);let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=cd(i.props.children,o)),r.push(c)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ud(){return ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ud.apply(this,arguments)}function dk(t,e){if(t==null)return{};var r={},i=Object.keys(t),a,o;for(o=0;o<i.length;o++)a=i[o],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function hk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fk(t,e){return t.button===0&&(!e||e==="_self")&&!hk(t)}function dd(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let i=t[r];return e.concat(Array.isArray(i)?i.map(a=>[r,a]):[[r,i]])},[]))}function pk(t,e){let r=dd(t);return e&&e.forEach((i,a)=>{r.has(a)||e.getAll(a).forEach(o=>{r.append(a,o)})}),r}const mk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],gk="6";try{window.__reactRouterVersion=gk}catch{}const yk="startTransition",ig=uS[yk];function vk(t){let{basename:e,children:r,future:i,window:a}=t,o=z.useRef();o.current==null&&(o.current=wS({window:a,v5Compat:!0}));let c=o.current,[u,d]=z.useState({action:c.action,location:c.location}),{v7_startTransition:f}=i||{},g=z.useCallback(m=>{f&&ig?ig(()=>d(m)):d(m)},[d,f]);return z.useLayoutEffect(()=>c.listen(g),[c,g]),z.useEffect(()=>lk(i),[i]),z.createElement(ck,{basename:e,children:r,location:u.location,navigationType:u.action,navigator:c,future:i})}const wk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_k=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G2=z.forwardRef(function(e,r){let{onClick:i,relative:a,reloadDocument:o,replace:c,state:u,target:d,to:f,preventScrollReset:g,viewTransition:m}=e,w=dk(e,mk),{basename:b}=z.useContext(Ln),x,C=!1;if(typeof f=="string"&&_k.test(f)&&(x=f,wk))try{let k=new URL(window.location.href),A=f.startsWith("//")?new URL(k.protocol+f):new URL(f),R=Zd(A.pathname,b);A.origin===k.origin&&R!=null?f=R+A.search+A.hash:C=!0}catch{}let E=GS(f,{relative:a}),j=bk(f,{replace:c,state:u,target:d,preventScrollReset:g,relative:a,viewTransition:m});function D(k){i&&i(k),k.defaultPrevented||j(k)}return z.createElement("a",ud({},w,{href:x||E,onClick:C||o?i:D,ref:r,target:d}))});var sg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(sg||(sg={}));var ag;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ag||(ag={}));function bk(t,e){let{target:r,replace:i,state:a,preventScrollReset:o,relative:c,viewTransition:u}=e===void 0?{}:e,d=di(),f=Pr(),g=Sv(t,{relative:c});return z.useCallback(m=>{if(fk(m,r)){m.preventDefault();let w=i!==void 0?i:ul(f)===ul(g);d(t,{replace:w,state:a,preventScrollReset:o,relative:c,viewTransition:u})}},[f,d,g,i,a,r,t,o,c,u])}function H2(t){let e=z.useRef(dd(t)),r=z.useRef(!1),i=Pr(),a=z.useMemo(()=>pk(i.search,r.current?null:e.current),[i.search]),o=di(),c=z.useCallback((u,d)=>{const f=dd(typeof u=="function"?u(a):u);r.current=!0,o("?"+f,d)},[o,a]);return[a,c]}var og={},xk="@vercel/analytics",Sk="1.6.1",kk=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function Pv(){return typeof window<"u"}function Av(){try{const t="production"}catch{}return"production"}function Ck(t="auto"){if(t==="auto"){window.vam=Av();return}window.vam=t}function Ek(){return(Pv()?window.vam:Av())||"production"}function hd(){return Ek()==="development"}function Tk(t){return t.scriptSrc?t.scriptSrc:hd()?"https://va.vercel-scripts.com/v1/script.debug.js":t.basePath?`${t.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function Pk(t={debug:!0}){var e;if(!Pv())return;Ck(t.mode),kk(),t.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",t.beforeSend));const r=Tk(t);if(document.head.querySelector(`script[src*="${r}"]`))return;const i=document.createElement("script");i.src=r,i.defer=!0,i.dataset.sdkn=xk+(t.framework?`/${t.framework}`:""),i.dataset.sdkv=Sk,t.disableAutoTrack&&(i.dataset.disableAutoTrack="1"),t.endpoint?i.dataset.endpoint=t.endpoint:t.basePath&&(i.dataset.endpoint=`${t.basePath}/insights`),t.dsn&&(i.dataset.dsn=t.dsn),i.onerror=()=>{const a=hd()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${r}. ${a}`)},hd()&&t.debug===!1&&(i.dataset.debug="false"),document.head.appendChild(i)}function Ak({route:t,path:e}){var r;(r=window.va)==null||r.call(window,"pageview",{route:t,path:e})}function Rk(){if(!(typeof process>"u"||typeof og>"u"))return og.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function jk(t){return z.useEffect(()=>{var e;t.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",t.beforeSend))},[t.beforeSend]),z.useEffect(()=>{Pk({framework:t.framework||"react",basePath:t.basePath??Rk(),...t.route!==void 0&&{disableAutoTrack:!0},...t})},[]),z.useEffect(()=>{t.route&&t.path&&Ak({route:t.route,path:t.path})},[t.route,t.path]),null}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rv=(...t)=>t.filter((e,r,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=z.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:c,...u},d)=>z.createElement("svg",{ref:d,...Nk,width:e,height:e,stroke:t,strokeWidth:i?Number(r)*24/Number(e):r,className:Rv("lucide",a),...u},[...c.map(([f,g])=>z.createElement(f,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(t,e)=>{const r=z.forwardRef(({className:i,...a},o)=>z.createElement(Ik,{ref:o,iconNode:e,className:Rv(`lucide-${Ok(t)}`,i),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=qe("BatteryCharging",[["path",{d:"M15 7h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2",key:"1sdynx"}],["path",{d:"M6 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h1",key:"1gkd3k"}],["path",{d:"m11 7-3 5h4l-3 5",key:"b4a64w"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=qe("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=qe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=qe("CarFront",[["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=qe("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=qe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=qe("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=qe("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=qe("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=qe("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=qe("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=qe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=qe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=qe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=qe("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=qe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=qe("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=qe("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=qe("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=qe("PhoneIncoming",[["polyline",{points:"16 2 16 8 22 8",key:"1ygljm"}],["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=qe("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=qe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=qe("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=qe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=qe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=qe("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=qe("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=qe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),sh=z.createContext({});function ah(t){const e=z.useRef(null);return e.current===null&&(e.current=t()),e.current}const Il=z.createContext(null),oh=z.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class r1 extends z.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function n1({children:t,isPresent:e}){const r=z.useId(),i=z.useRef(null),a=z.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=z.useContext(oh);return z.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:f}=a.current;if(e||!i.current||!c||!u)return;i.current.dataset.motionPopId=r;const g=document.createElement("style");return o&&(g.nonce=o),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            top: ${d}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[e]),y.jsx(r1,{isPresent:e,childRef:i,sizeRef:a,children:z.cloneElement(t,{ref:i})})}const i1=({children:t,initial:e,isPresent:r,onExitComplete:i,custom:a,presenceAffectsLayout:o,mode:c})=>{const u=ah(s1),d=z.useId(),f=z.useCallback(m=>{u.set(m,!0);for(const w of u.values())if(!w)return;i&&i()},[u,i]),g=z.useMemo(()=>({id:d,initial:e,isPresent:r,custom:a,onExitComplete:f,register:m=>(u.set(m,!1),()=>u.delete(m))}),o?[Math.random(),f]:[r,f]);return z.useMemo(()=>{u.forEach((m,w)=>u.set(w,!1))},[r]),z.useEffect(()=>{!r&&!u.size&&i&&i()},[r]),c==="popLayout"&&(t=y.jsx(n1,{isPresent:r,children:t})),y.jsx(Il.Provider,{value:g,children:t})};function s1(){return new Map}function Lv(t=!0){const e=z.useContext(Il);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:i,register:a}=e,o=z.useId();z.useEffect(()=>{t&&a(o)},[t]);const c=z.useCallback(()=>t&&i&&i(o),[o,i,t]);return!r&&i?[!1,c]:[!0]}const zo=t=>t.key||"";function dg(t){const e=[];return z.Children.forEach(t,r=>{z.isValidElement(r)&&e.push(r)}),e}const lh=typeof window<"u",Mv=lh?z.useLayoutEffect:z.useEffect,Tr=({children:t,custom:e,initial:r=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:o="sync",propagate:c=!1})=>{const[u,d]=Lv(c),f=z.useMemo(()=>dg(t),[t]),g=c&&!u?[]:f.map(zo),m=z.useRef(!0),w=z.useRef(f),b=ah(()=>new Map),[x,C]=z.useState(f),[E,j]=z.useState(f);Mv(()=>{m.current=!1,w.current=f;for(let A=0;A<E.length;A++){const R=zo(E[A]);g.includes(R)?b.delete(R):b.get(R)!==!0&&b.set(R,!1)}},[E,g.length,g.join("-")]);const D=[];if(f!==x){let A=[...f];for(let R=0;R<E.length;R++){const M=E[R],O=zo(M);g.includes(O)||(A.splice(R,0,M),D.push(M))}o==="wait"&&D.length&&(A=D),j(dg(A)),C(f);return}const{forceRender:k}=z.useContext(sh);return y.jsx(y.Fragment,{children:E.map(A=>{const R=zo(A),M=c&&!u?!1:f===E||g.includes(R),O=()=>{if(b.has(R))b.set(R,!0);else return;let N=!0;b.forEach(K=>{K||(N=!1)}),N&&(k==null||k(),j(w.current),c&&(d==null||d()),i&&i())};return y.jsx(i1,{isPresent:M,initial:!m.current||r?void 0:!1,custom:M?void 0:e,presenceAffectsLayout:a,mode:o,onExitComplete:M?void 0:O,children:A},R)})})},ir=t=>t;let zv=ir;function ch(t){let e;return()=>(e===void 0&&(e=t()),e)}const Zi=(t,e,r)=>{const i=e-t;return i===0?1:(r-t)/i},en=t=>t*1e3,tn=t=>t/1e3,a1={useManualTiming:!1};function o1(t){let e=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(f){o.has(f)&&(d.schedule(f),t()),f(c)}const d={schedule:(f,g=!1,m=!1)=>{const b=m&&i?e:r;return g&&o.add(f),b.has(f)||b.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(c=f,i){a=!0;return}i=!0,[e,r]=[r,e],e.forEach(u),e.clear(),i=!1,a&&(a=!1,d.process(f))}};return d}const Uo=["read","resolveKeyframes","update","preRender","render","postRender"],l1=40;function Uv(t,e){let r=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>r=!0,c=Uo.reduce((j,D)=>(j[D]=o1(o),j),{}),{read:u,resolveKeyframes:d,update:f,preRender:g,render:m,postRender:w}=c,b=()=>{const j=performance.now();r=!1,a.delta=i?1e3/60:Math.max(Math.min(j-a.timestamp,l1),1),a.timestamp=j,a.isProcessing=!0,u.process(a),d.process(a),f.process(a),g.process(a),m.process(a),w.process(a),a.isProcessing=!1,r&&e&&(i=!1,t(b))},x=()=>{r=!0,i=!0,a.isProcessing||t(b)};return{schedule:Uo.reduce((j,D)=>{const k=c[D];return j[D]=(A,R=!1,M=!1)=>(r||x(),k.schedule(A,R,M)),j},{}),cancel:j=>{for(let D=0;D<Uo.length;D++)c[Uo[D]].cancel(j)},state:a,steps:c}}const{schedule:ot,cancel:Nn,state:It,steps:zu}=Uv(typeof requestAnimationFrame<"u"?requestAnimationFrame:ir,!0),Bv=z.createContext({strict:!1}),hg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},es={};for(const t in hg)es[t]={isEnabled:e=>hg[t].some(r=>!!e[r])};function c1(t){for(const e in t)es[e]={...es[e],...t[e]}}const u1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||u1.has(t)}let $v=t=>!hl(t);function d1(t){t&&($v=e=>e.startsWith("on")?!hl(e):t(e))}try{d1(require("@emotion/is-prop-valid").default)}catch{}function h1(t,e,r){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||($v(a)||r===!0&&hl(a)||!e&&!hl(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}function f1(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...i)=>t(...i);return new Proxy(r,{get:(i,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const Dl=z.createContext({});function pa(t){return typeof t=="string"||Array.isArray(t)}function Ll(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const uh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dh=["initial",...uh];function Ml(t){return Ll(t.animate)||dh.some(e=>pa(t[e]))}function Fv(t){return!!(Ml(t)||t.variants)}function p1(t,e){if(Ml(t)){const{initial:r,animate:i}=t;return{initial:r===!1||pa(r)?r:void 0,animate:pa(i)?i:void 0}}return t.inherit!==!1?e:{}}function m1(t){const{initial:e,animate:r}=p1(t,z.useContext(Dl));return z.useMemo(()=>({initial:e,animate:r}),[fg(e),fg(r)])}function fg(t){return Array.isArray(t)?t.join(" "):t}const g1=Symbol.for("motionComponentSymbol");function qi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function y1(t,e,r){return z.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),r&&(typeof r=="function"?r(i):qi(r)&&(r.current=i))},[e])}const hh=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),v1="framerAppearId",Vv="data-"+hh(v1),{schedule:fh}=Uv(queueMicrotask,!1),qv=z.createContext({});function w1(t,e,r,i,a){var o,c;const{visualElement:u}=z.useContext(Dl),d=z.useContext(Bv),f=z.useContext(Il),g=z.useContext(oh).reducedMotion,m=z.useRef(null);i=i||d.renderer,!m.current&&i&&(m.current=i(t,{visualState:e,parent:u,props:r,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:g}));const w=m.current,b=z.useContext(qv);w&&!w.projection&&a&&(w.type==="html"||w.type==="svg")&&_1(m.current,r,a,b);const x=z.useRef(!1);z.useInsertionEffect(()=>{w&&x.current&&w.update(r,f)});const C=r[Vv],E=z.useRef(!!C&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,C))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,C)));return Mv(()=>{w&&(x.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),fh.render(w.render),E.current&&w.animationState&&w.animationState.animateChanges())}),z.useEffect(()=>{w&&(!E.current&&w.animationState&&w.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)===null||j===void 0||j.call(window,C)}),E.current=!1))}),w}function _1(t,e,r,i){const{layoutId:a,layout:o,drag:c,dragConstraints:u,layoutScroll:d,layoutRoot:f}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:Kv(t.parent)),t.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!c||u&&qi(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,layoutScroll:d,layoutRoot:f})}function Kv(t){if(t)return t.options.allowProjection!==!1?t.projection:Kv(t.parent)}function b1({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:i,Component:a}){var o,c;t&&c1(t);function u(f,g){let m;const w={...z.useContext(oh),...f,layoutId:x1(f)},{isStatic:b}=w,x=m1(f),C=i(f,b);if(!b&&lh){S1();const E=k1(w);m=E.MeasureLayout,x.visualElement=w1(a,C,w,e,E.ProjectionNode)}return y.jsxs(Dl.Provider,{value:x,children:[m&&x.visualElement?y.jsx(m,{visualElement:x.visualElement,...w}):null,r(a,f,y1(C,x.visualElement,g),C,b,x.visualElement)]})}u.displayName=`motion.${typeof a=="string"?a:`create(${(c=(o=a.displayName)!==null&&o!==void 0?o:a.name)!==null&&c!==void 0?c:""})`}`;const d=z.forwardRef(u);return d[g1]=a,d}function x1({layoutId:t}){const e=z.useContext(sh).id;return e&&t!==void 0?e+"-"+t:t}function S1(t,e){z.useContext(Bv).strict}function k1(t){const{drag:e,layout:r}=es;if(!e&&!r)return{};const i={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const C1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ph(t){return typeof t!="string"||t.includes("-")?!1:!!(C1.indexOf(t)>-1||/[A-Z]/u.test(t))}function pg(t){const e=[{},{}];return t==null||t.values.forEach((r,i)=>{e[0][i]=r.get(),e[1][i]=r.getVelocity()}),e}function mh(t,e,r,i){if(typeof e=="function"){const[a,o]=pg(i);e=e(r!==void 0?r:t.custom,a,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,o]=pg(i);e=e(r!==void 0?r:t.custom,a,o)}return e}const yd=t=>Array.isArray(t),E1=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),T1=t=>yd(t)?t[t.length-1]||0:t,$t=t=>!!(t&&t.getVelocity);function tl(t){const e=$t(t)?t.get():t;return E1(e)?e.toValue():e}function P1({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:r},i,a,o){const c={latestValues:A1(i,a,o,t),renderState:e()};return r&&(c.onMount=u=>r({props:i,current:u,...c}),c.onUpdate=u=>r(u)),c}const Wv=t=>(e,r)=>{const i=z.useContext(Dl),a=z.useContext(Il),o=()=>P1(t,e,i,a);return r?o():ah(o)};function A1(t,e,r,i){const a={},o=i(t,{});for(const w in o)a[w]=tl(o[w]);let{initial:c,animate:u}=t;const d=Ml(t),f=Fv(t);e&&f&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let g=r?r.initial===!1:!1;g=g||c===!1;const m=g?u:c;if(m&&typeof m!="boolean"&&!Ll(m)){const w=Array.isArray(m)?m:[m];for(let b=0;b<w.length;b++){const x=mh(t,w[b]);if(x){const{transitionEnd:C,transition:E,...j}=x;for(const D in j){let k=j[D];if(Array.isArray(k)){const A=g?k.length-1:0;k=k[A]}k!==null&&(a[D]=k)}for(const D in C)a[D]=C[D]}}}return a}const as=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hi=new Set(as),Gv=t=>e=>typeof e=="string"&&e.startsWith(t),Hv=Gv("--"),R1=Gv("var(--"),gh=t=>R1(t)?j1.test(t.split("/*")[0].trim()):!1,j1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Yv=(t,e)=>e&&typeof t=="number"?e.transform(t):t,rn=(t,e,r)=>r>e?e:r<t?t:r,os={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ma={...os,transform:t=>rn(0,1,t)},Bo={...os,default:1},Sa=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Pn=Sa("deg"),Ur=Sa("%"),Le=Sa("px"),O1=Sa("vh"),N1=Sa("vw"),mg={...Ur,parse:t=>Ur.parse(t)/100,transform:t=>Ur.transform(t*100)},I1={borderWidth:Le,borderTopWidth:Le,borderRightWidth:Le,borderBottomWidth:Le,borderLeftWidth:Le,borderRadius:Le,radius:Le,borderTopLeftRadius:Le,borderTopRightRadius:Le,borderBottomRightRadius:Le,borderBottomLeftRadius:Le,width:Le,maxWidth:Le,height:Le,maxHeight:Le,top:Le,right:Le,bottom:Le,left:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,backgroundPositionX:Le,backgroundPositionY:Le},D1={rotate:Pn,rotateX:Pn,rotateY:Pn,rotateZ:Pn,scale:Bo,scaleX:Bo,scaleY:Bo,scaleZ:Bo,skew:Pn,skewX:Pn,skewY:Pn,distance:Le,translateX:Le,translateY:Le,translateZ:Le,x:Le,y:Le,z:Le,perspective:Le,transformPerspective:Le,opacity:ma,originX:mg,originY:mg,originZ:Le},gg={...os,transform:Math.round},yh={...I1,...D1,zIndex:gg,size:Le,fillOpacity:ma,strokeOpacity:ma,numOctaves:gg},L1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},M1=as.length;function z1(t,e,r){let i="",a=!0;for(let o=0;o<M1;o++){const c=as[o],u=t[c];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(c.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||r){const f=Yv(u,yh[c]);if(!d){a=!1;const g=L1[c]||c;i+=`${g}(${f}) `}r&&(e[c]=f)}}return i=i.trim(),r?i=r(e,a?"":i):a&&(i="none"),i}function vh(t,e,r){const{style:i,vars:a,transformOrigin:o}=t;let c=!1,u=!1;for(const d in e){const f=e[d];if(hi.has(d)){c=!0;continue}else if(Hv(d)){a[d]=f;continue}else{const g=Yv(f,yh[d]);d.startsWith("origin")?(u=!0,o[d]=g):i[d]=g}}if(e.transform||(c||r?i.transform=z1(e,t.transform,r):i.transform&&(i.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:g=0}=o;i.transformOrigin=`${d} ${f} ${g}`}}const U1={offset:"stroke-dashoffset",array:"stroke-dasharray"},B1={offset:"strokeDashoffset",array:"strokeDasharray"};function $1(t,e,r=1,i=0,a=!0){t.pathLength=1;const o=a?U1:B1;t[o.offset]=Le.transform(-i);const c=Le.transform(e),u=Le.transform(r);t[o.array]=`${c} ${u}`}function yg(t,e,r){return typeof t=="string"?t:Le.transform(e+r*t)}function F1(t,e,r){const i=yg(e,t.x,t.width),a=yg(r,t.y,t.height);return`${i} ${a}`}function wh(t,{attrX:e,attrY:r,attrScale:i,originX:a,originY:o,pathLength:c,pathSpacing:u=1,pathOffset:d=0,...f},g,m){if(vh(t,f,m),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:b,dimensions:x}=t;w.transform&&(x&&(b.transform=w.transform),delete w.transform),x&&(a!==void 0||o!==void 0||b.transform)&&(b.transformOrigin=F1(x,a!==void 0?a:.5,o!==void 0?o:.5)),e!==void 0&&(w.x=e),r!==void 0&&(w.y=r),i!==void 0&&(w.scale=i),c!==void 0&&$1(w,c,u,d,!1)}const _h=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Jv=()=>({..._h(),attrs:{}}),bh=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Qv(t,{style:e,vars:r},i,a){Object.assign(t.style,e,a&&a.getProjectionStyles(i));for(const o in r)t.style.setProperty(o,r[o])}const Xv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Zv(t,e,r,i){Qv(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(Xv.has(a)?a:hh(a),e.attrs[a])}const fl={};function V1(t){Object.assign(fl,t)}function e0(t,{layout:e,layoutId:r}){return hi.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!fl[t]||t==="opacity")}function xh(t,e,r){var i;const{style:a}=t,o={};for(const c in a)($t(a[c])||e.style&&$t(e.style[c])||e0(c,t)||((i=r==null?void 0:r.getValue(c))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(o[c]=a[c]);return o}function t0(t,e,r){const i=xh(t,e,r);for(const a in t)if($t(t[a])||$t(e[a])){const o=as.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[o]=t[a]}return i}function q1(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const vg=["x","y","width","height","cx","cy","r"],K1={useVisualState:Wv({scrapeMotionValuesFromProps:t0,createRenderState:Jv,onUpdate:({props:t,prevProps:e,current:r,renderState:i,latestValues:a})=>{if(!r)return;let o=!!t.drag;if(!o){for(const u in a)if(hi.has(u)){o=!0;break}}if(!o)return;let c=!e;if(e)for(let u=0;u<vg.length;u++){const d=vg[u];t[d]!==e[d]&&(c=!0)}c&&ot.read(()=>{q1(r,i),ot.render(()=>{wh(i,a,bh(r.tagName),t.transformTemplate),Zv(r,i)})})}})},W1={useVisualState:Wv({scrapeMotionValuesFromProps:xh,createRenderState:_h})};function r0(t,e,r){for(const i in e)!$t(e[i])&&!e0(i,r)&&(t[i]=e[i])}function G1({transformTemplate:t},e){return z.useMemo(()=>{const r=_h();return vh(r,e,t),Object.assign({},r.vars,r.style)},[e])}function H1(t,e){const r=t.style||{},i={};return r0(i,r,t),Object.assign(i,G1(t,e)),i}function Y1(t,e){const r={},i=H1(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}function J1(t,e,r,i){const a=z.useMemo(()=>{const o=Jv();return wh(o,e,bh(i),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};r0(o,t.style,t),a.style={...o,...a.style}}return a}function Q1(t=!1){return(r,i,a,{latestValues:o},c)=>{const d=(ph(r)?J1:Y1)(i,o,c,r),f=h1(i,typeof r=="string",t),g=r!==z.Fragment?{...f,...d,ref:a}:{},{children:m}=i,w=z.useMemo(()=>$t(m)?m.get():m,[m]);return z.createElement(r,{...g,children:w})}}function X1(t,e){return function(i,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...ph(i)?K1:W1,preloadedFeatures:t,useRender:Q1(a),createVisualElement:e,Component:i};return b1(c)}}function n0(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}function zl(t,e,r){const i=t.getProps();return mh(i,e,r!==void 0?r:i.custom,t)}const Z1=ch(()=>window.ScrollTimeline!==void 0);class eC{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,r){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=r}attachTimeline(e,r){const i=this.animations.map(a=>{if(Z1()&&a.attachTimeline)return a.attachTimeline(e);if(typeof r=="function")return r(a)});return()=>{i.forEach((a,o)=>{a&&a(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class tC extends eC{then(e,r){return Promise.all(this.animations).then(e).catch(r)}}function Sh(t,e){return t?t[e]||t.default||t:void 0}const vd=2e4;function i0(t){let e=0;const r=50;let i=t.next(e);for(;!i.done&&e<vd;)e+=r,i=t.next(e);return e>=vd?1/0:e}function kh(t){return typeof t=="function"}function wg(t,e){t.timeline=e,t.onfinish=null}const Ch=t=>Array.isArray(t)&&typeof t[0]=="number",rC={linearEasing:void 0};function nC(t,e){const r=ch(t);return()=>{var i;return(i=rC[e])!==null&&i!==void 0?i:r()}}const pl=nC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),s0=(t,e,r=10)=>{let i="";const a=Math.max(Math.round(e/r),2);for(let o=0;o<a;o++)i+=t(Zi(0,a-1,o))+", ";return`linear(${i.substring(0,i.length-2)})`};function a0(t){return!!(typeof t=="function"&&pl()||!t||typeof t=="string"&&(t in wd||pl())||Ch(t)||Array.isArray(t)&&t.every(a0))}const ta=([t,e,r,i])=>`cubic-bezier(${t}, ${e}, ${r}, ${i})`,wd={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ta([0,.65,.55,1]),circOut:ta([.55,0,1,.45]),backIn:ta([.31,.01,.66,-.59]),backOut:ta([.33,1.53,.69,.99])};function o0(t,e){if(t)return typeof t=="function"&&pl()?s0(t,e):Ch(t)?ta(t):Array.isArray(t)?t.map(r=>o0(r,e)||wd.easeOut):wd[t]}const xr={x:!1,y:!1};function l0(){return xr.x||xr.y}function iC(t,e,r){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let a=document;const o=(i=void 0)!==null&&i!==void 0?i:a.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function c0(t,e){const r=iC(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[r,a,()=>i.abort()]}function _g(t){return e=>{e.pointerType==="touch"||l0()||t(e)}}function sC(t,e,r={}){const[i,a,o]=c0(t,r),c=_g(u=>{const{target:d}=u,f=e(u);if(typeof f!="function"||!d)return;const g=_g(m=>{f(m),d.removeEventListener("pointerleave",g)});d.addEventListener("pointerleave",g,a)});return i.forEach(u=>{u.addEventListener("pointerenter",c,a)}),o}const u0=(t,e)=>e?t===e?!0:u0(t,e.parentElement):!1,Eh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,aC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function oC(t){return aC.has(t.tagName)||t.tabIndex!==-1}const ra=new WeakSet;function bg(t){return e=>{e.key==="Enter"&&t(e)}}function Uu(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const lC=(t,e)=>{const r=t.currentTarget;if(!r)return;const i=bg(()=>{if(ra.has(r))return;Uu(r,"down");const a=bg(()=>{Uu(r,"up")}),o=()=>Uu(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",o,e)});r.addEventListener("keydown",i,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),e)};function xg(t){return Eh(t)&&!l0()}function cC(t,e,r={}){const[i,a,o]=c0(t,r),c=u=>{const d=u.currentTarget;if(!xg(u)||ra.has(d))return;ra.add(d);const f=e(u),g=(b,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",w),!(!xg(b)||!ra.has(d))&&(ra.delete(d),typeof f=="function"&&f(b,{success:x}))},m=b=>{g(b,r.useGlobalTarget||u0(d,b.target))},w=b=>{g(b,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",w,a)};return i.forEach(u=>{!oC(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(r.useGlobalTarget?window:u).addEventListener("pointerdown",c,a),u.addEventListener("focus",f=>lC(f,a),a)}),o}function uC(t){return t==="x"||t==="y"?xr[t]?null:(xr[t]=!0,()=>{xr[t]=!1}):xr.x||xr.y?null:(xr.x=xr.y=!0,()=>{xr.x=xr.y=!1})}const d0=new Set(["width","height","top","left","right","bottom",...as]);let rl;function dC(){rl=void 0}const Br={now:()=>(rl===void 0&&Br.set(It.isProcessing||a1.useManualTiming?It.timestamp:performance.now()),rl),set:t=>{rl=t,queueMicrotask(dC)}};function Th(t,e){t.indexOf(e)===-1&&t.push(e)}function Ph(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class Ah{constructor(){this.subscriptions=[]}add(e){return Th(this.subscriptions,e),()=>Ph(this.subscriptions,e)}notify(e,r,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,i);else for(let o=0;o<a;o++){const c=this.subscriptions[o];c&&c(e,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function h0(t,e){return e?t*(1e3/e):0}const Sg=30,hC=t=>!isNaN(parseFloat(t));class fC{constructor(e,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,a=!0)=>{const o=Br.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Br.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=hC(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Ah);const i=this.events[e].add(r);return e==="change"?()=>{i(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,i){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Br.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Sg)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Sg);return h0(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ga(t,e){return new fC(t,e)}function pC(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,ga(r))}function mC(t,e){const r=zl(t,e);let{transitionEnd:i={},transition:a={},...o}=r||{};o={...o,...i};for(const c in o){const u=T1(o[c]);pC(t,c,u)}}function gC(t){return!!($t(t)&&t.add)}function _d(t,e){const r=t.getValue("willChange");if(gC(r))return r.add(e)}function f0(t){return t.props[Vv]}const p0=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,yC=1e-7,vC=12;function wC(t,e,r,i,a){let o,c,u=0;do c=e+(r-e)/2,o=p0(c,i,a)-t,o>0?r=c:e=c;while(Math.abs(o)>yC&&++u<vC);return c}function ka(t,e,r,i){if(t===e&&r===i)return ir;const a=o=>wC(o,0,1,t,r);return o=>o===0||o===1?o:p0(a(o),e,i)}const m0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,g0=t=>e=>1-t(1-e),y0=ka(.33,1.53,.69,.99),Rh=g0(y0),v0=m0(Rh),w0=t=>(t*=2)<1?.5*Rh(t):.5*(2-Math.pow(2,-10*(t-1))),jh=t=>1-Math.sin(Math.acos(t)),_0=g0(jh),b0=m0(jh),x0=t=>/^0[^.\s]+$/u.test(t);function _C(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||x0(t):!0}const oa=t=>Math.round(t*1e5)/1e5,Oh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bC(t){return t==null}const xC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Nh=(t,e)=>r=>!!(typeof r=="string"&&xC.test(r)&&r.startsWith(t)||e&&!bC(r)&&Object.prototype.hasOwnProperty.call(r,e)),S0=(t,e,r)=>i=>{if(typeof i!="string")return i;const[a,o,c,u]=i.match(Oh);return{[t]:parseFloat(a),[e]:parseFloat(o),[r]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},SC=t=>rn(0,255,t),Bu={...os,transform:t=>Math.round(SC(t))},li={test:Nh("rgb","red"),parse:S0("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:i=1})=>"rgba("+Bu.transform(t)+", "+Bu.transform(e)+", "+Bu.transform(r)+", "+oa(ma.transform(i))+")"};function kC(t){let e="",r="",i="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const bd={test:Nh("#"),parse:kC,transform:li.transform},Ki={test:Nh("hsl","hue"),parse:S0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:i=1})=>"hsla("+Math.round(t)+", "+Ur.transform(oa(e))+", "+Ur.transform(oa(r))+", "+oa(ma.transform(i))+")"},Bt={test:t=>li.test(t)||bd.test(t)||Ki.test(t),parse:t=>li.test(t)?li.parse(t):Ki.test(t)?Ki.parse(t):bd.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?li.transform(t):Ki.transform(t)},CC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function EC(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Oh))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(CC))===null||r===void 0?void 0:r.length)||0)>0}const k0="number",C0="color",TC="var",PC="var(",kg="${}",AC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ya(t){const e=t.toString(),r=[],i={color:[],number:[],var:[]},a=[];let o=0;const u=e.replace(AC,d=>(Bt.test(d)?(i.color.push(o),a.push(C0),r.push(Bt.parse(d))):d.startsWith(PC)?(i.var.push(o),a.push(TC),r.push(d)):(i.number.push(o),a.push(k0),r.push(parseFloat(d))),++o,kg)).split(kg);return{values:r,split:u,indexes:i,types:a}}function E0(t){return ya(t).values}function T0(t){const{split:e,types:r}=ya(t),i=e.length;return a=>{let o="";for(let c=0;c<i;c++)if(o+=e[c],a[c]!==void 0){const u=r[c];u===k0?o+=oa(a[c]):u===C0?o+=Bt.transform(a[c]):o+=a[c]}return o}}const RC=t=>typeof t=="number"?0:t;function jC(t){const e=E0(t);return T0(t)(e.map(RC))}const In={test:EC,parse:E0,createTransformer:T0,getAnimatableNone:jC},OC=new Set(["brightness","contrast","saturate","opacity"]);function NC(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=r.match(Oh)||[];if(!i)return t;const a=r.replace(i,"");let o=OC.has(e)?1:0;return i!==r&&(o*=100),e+"("+o+a+")"}const IC=/\b([a-z-]*)\(.*?\)/gu,xd={...In,getAnimatableNone:t=>{const e=t.match(IC);return e?e.map(NC).join(" "):t}},DC={...yh,color:Bt,backgroundColor:Bt,outlineColor:Bt,fill:Bt,stroke:Bt,borderColor:Bt,borderTopColor:Bt,borderRightColor:Bt,borderBottomColor:Bt,borderLeftColor:Bt,filter:xd,WebkitFilter:xd},Ih=t=>DC[t];function P0(t,e){let r=Ih(t);return r!==xd&&(r=In),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const LC=new Set(["auto","none","0"]);function MC(t,e,r){let i=0,a;for(;i<t.length&&!a;){const o=t[i];typeof o=="string"&&!LC.has(o)&&ya(o).values.length&&(a=t[i]),i++}if(a&&r)for(const o of e)t[o]=P0(r,a)}const Cg=t=>t===os||t===Le,Eg=(t,e)=>parseFloat(t.split(", ")[e]),Tg=(t,e)=>(r,{transform:i})=>{if(i==="none"||!i)return 0;const a=i.match(/^matrix3d\((.+)\)$/u);if(a)return Eg(a[1],e);{const o=i.match(/^matrix\((.+)\)$/u);return o?Eg(o[1],t):0}},zC=new Set(["x","y","z"]),UC=as.filter(t=>!zC.has(t));function BC(t){const e=[];return UC.forEach(r=>{const i=t.getValue(r);i!==void 0&&(e.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),e}const ts={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Tg(4,13),y:Tg(5,14)};ts.translateX=ts.x;ts.translateY=ts.y;const ui=new Set;let Sd=!1,kd=!1;function A0(){if(kd){const t=Array.from(ui).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),r=new Map;e.forEach(i=>{const a=BC(i);a.length&&(r.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=r.get(i);a&&a.forEach(([o,c])=>{var u;(u=i.getValue(o))===null||u===void 0||u.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}kd=!1,Sd=!1,ui.forEach(t=>t.complete()),ui.clear()}function R0(){ui.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(kd=!0)})}function $C(){R0(),A0()}class Dh{constructor(e,r,i,a,o,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=i,this.motionValue=a,this.element=o,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ui.add(this),Sd||(Sd=!0,ot.read(R0),ot.resolveKeyframes(A0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:i,motionValue:a}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const c=a==null?void 0:a.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&r){const d=i.readValue(r,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),a&&c===void 0&&a.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ui.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ui.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const j0=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),FC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function VC(t){const e=FC.exec(t);if(!e)return[,];const[,r,i,a]=e;return[`--${r??i}`,a]}function O0(t,e,r=1){const[i,a]=VC(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const c=o.trim();return j0(c)?parseFloat(c):c}return gh(a)?O0(a,e,r+1):a}const N0=t=>e=>e.test(t),qC={test:t=>t==="auto",parse:t=>t},I0=[os,Le,Ur,Pn,N1,O1,qC],Pg=t=>I0.find(N0(t));class D0 extends Dh{constructor(e,r,i,a,o){super(e,r,i,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:i}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),gh(f))){const g=O0(f,r.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!d0.has(i)||e.length!==2)return;const[a,o]=e,c=Pg(a),u=Pg(o);if(c!==u)if(Cg(c)&&Cg(u))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,i=[];for(let a=0;a<e.length;a++)_C(e[a])&&i.push(a);i.length&&MC(e,i,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ts[i](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var e;const{element:r,name:i,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const o=r.getValue(i);o&&o.jump(this.measuredOrigin,!1);const c=a.length-1,u=a[c];a[c]=ts[i](r.measureViewportBox(),window.getComputedStyle(r.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,f])=>{r.getValue(d).set(f)}),this.resolveNoneKeyframes()}}const Ag=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(In.test(t)||t==="0")&&!t.startsWith("url("));function KC(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function WC(t,e,r,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=Ag(a,e),u=Ag(o,e);return!c||!u?!1:KC(t)||(r==="spring"||kh(r))&&i}const GC=t=>t!==null;function Ul(t,{repeat:e,repeatType:r="loop"},i){const a=t.filter(GC),o=e&&r!=="loop"&&e%2===1?0:a.length-1;return!o||i===void 0?a[o]:i}const HC=40;class L0{constructor({autoplay:e=!0,delay:r=0,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:c="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Br.now(),this.options={autoplay:e,delay:r,type:i,repeat:a,repeatDelay:o,repeatType:c,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>HC?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&$C(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=Br.now(),this.hasAttemptedResolve=!0;const{name:i,type:a,velocity:o,delay:c,onComplete:u,onUpdate:d,isGenerator:f}=this.options;if(!f&&!WC(e,i,a,o))if(c)this.options.duration=0;else{d&&d(Ul(e,this.options,r)),u&&u(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,r);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...g},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const pt=(t,e,r)=>t+(e-t)*r;function $u(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function YC({hue:t,saturation:e,lightness:r,alpha:i}){t/=360,e/=100,r/=100;let a=0,o=0,c=0;if(!e)a=o=c=r;else{const u=r<.5?r*(1+e):r+e-r*e,d=2*r-u;a=$u(d,u,t+1/3),o=$u(d,u,t),c=$u(d,u,t-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:i}}function ml(t,e){return r=>r>0?e:t}const Fu=(t,e,r)=>{const i=t*t,a=r*(e*e-i)+i;return a<0?0:Math.sqrt(a)},JC=[bd,li,Ki],QC=t=>JC.find(e=>e.test(t));function Rg(t){const e=QC(t);if(!e)return!1;let r=e.parse(t);return e===Ki&&(r=YC(r)),r}const jg=(t,e)=>{const r=Rg(t),i=Rg(e);if(!r||!i)return ml(t,e);const a={...r};return o=>(a.red=Fu(r.red,i.red,o),a.green=Fu(r.green,i.green,o),a.blue=Fu(r.blue,i.blue,o),a.alpha=pt(r.alpha,i.alpha,o),li.transform(a))},XC=(t,e)=>r=>e(t(r)),Ca=(...t)=>t.reduce(XC),Cd=new Set(["none","hidden"]);function ZC(t,e){return Cd.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function eE(t,e){return r=>pt(t,e,r)}function Lh(t){return typeof t=="number"?eE:typeof t=="string"?gh(t)?ml:Bt.test(t)?jg:nE:Array.isArray(t)?M0:typeof t=="object"?Bt.test(t)?jg:tE:ml}function M0(t,e){const r=[...t],i=r.length,a=t.map((o,c)=>Lh(o)(o,e[c]));return o=>{for(let c=0;c<i;c++)r[c]=a[c](o);return r}}function tE(t,e){const r={...t,...e},i={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Lh(t[a])(t[a],e[a]));return a=>{for(const o in i)r[o]=i[o](a);return r}}function rE(t,e){var r;const i=[],a={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const c=e.types[o],u=t.indexes[c][a[c]],d=(r=t.values[u])!==null&&r!==void 0?r:0;i[o]=d,a[c]++}return i}const nE=(t,e)=>{const r=In.createTransformer(e),i=ya(t),a=ya(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Cd.has(t)&&!a.values.length||Cd.has(e)&&!i.values.length?ZC(t,e):Ca(M0(rE(i,a),a.values),r):ml(t,e)};function z0(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?pt(t,e,r):Lh(t)(t,e)}const iE=5;function U0(t,e,r){const i=Math.max(e-iE,0);return h0(r-t(i),e-i)}const gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Vu=.001;function sE({duration:t=gt.duration,bounce:e=gt.bounce,velocity:r=gt.velocity,mass:i=gt.mass}){let a,o,c=1-e;c=rn(gt.minDamping,gt.maxDamping,c),t=rn(gt.minDuration,gt.maxDuration,tn(t)),c<1?(a=f=>{const g=f*c,m=g*t,w=g-r,b=Ed(f,c),x=Math.exp(-m);return Vu-w/b*x},o=f=>{const m=f*c*t,w=m*r+r,b=Math.pow(c,2)*Math.pow(f,2)*t,x=Math.exp(-m),C=Ed(Math.pow(f,2),c);return(-a(f)+Vu>0?-1:1)*((w-b)*x)/C}):(a=f=>{const g=Math.exp(-f*t),m=(f-r)*t+1;return-Vu+g*m},o=f=>{const g=Math.exp(-f*t),m=(r-f)*(t*t);return g*m});const u=5/t,d=oE(a,o,u);if(t=en(t),isNaN(d))return{stiffness:gt.stiffness,damping:gt.damping,duration:t};{const f=Math.pow(d,2)*i;return{stiffness:f,damping:c*2*Math.sqrt(i*f),duration:t}}}const aE=12;function oE(t,e,r){let i=r;for(let a=1;a<aE;a++)i=i-t(i)/e(i);return i}function Ed(t,e){return t*Math.sqrt(1-e*e)}const lE=["duration","bounce"],cE=["stiffness","damping","mass"];function Og(t,e){return e.some(r=>t[r]!==void 0)}function uE(t){let e={velocity:gt.velocity,stiffness:gt.stiffness,damping:gt.damping,mass:gt.mass,isResolvedFromDuration:!1,...t};if(!Og(t,cE)&&Og(t,lE))if(t.visualDuration){const r=t.visualDuration,i=2*Math.PI/(r*1.2),a=i*i,o=2*rn(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:gt.mass,stiffness:a,damping:o}}else{const r=sE(t);e={...e,...r,mass:gt.mass},e.isResolvedFromDuration=!0}return e}function B0(t=gt.visualDuration,e=gt.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=r;const o=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],u={done:!1,value:o},{stiffness:d,damping:f,mass:g,duration:m,velocity:w,isResolvedFromDuration:b}=uE({...r,velocity:-tn(r.velocity||0)}),x=w||0,C=f/(2*Math.sqrt(d*g)),E=c-o,j=tn(Math.sqrt(d/g)),D=Math.abs(E)<5;i||(i=D?gt.restSpeed.granular:gt.restSpeed.default),a||(a=D?gt.restDelta.granular:gt.restDelta.default);let k;if(C<1){const R=Ed(j,C);k=M=>{const O=Math.exp(-C*j*M);return c-O*((x+C*j*E)/R*Math.sin(R*M)+E*Math.cos(R*M))}}else if(C===1)k=R=>c-Math.exp(-j*R)*(E+(x+j*E)*R);else{const R=j*Math.sqrt(C*C-1);k=M=>{const O=Math.exp(-C*j*M),N=Math.min(R*M,300);return c-O*((x+C*j*E)*Math.sinh(N)+R*E*Math.cosh(N))/R}}const A={calculatedDuration:b&&m||null,next:R=>{const M=k(R);if(b)u.done=R>=m;else{let O=0;C<1&&(O=R===0?en(x):U0(k,R,M));const N=Math.abs(O)<=i,K=Math.abs(c-M)<=a;u.done=N&&K}return u.value=u.done?c:M,u},toString:()=>{const R=Math.min(i0(A),vd),M=s0(O=>A.next(R*O).value,R,30);return R+"ms "+M}};return A}function Ng({keyframes:t,velocity:e=0,power:r=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:c,min:u,max:d,restDelta:f=.5,restSpeed:g}){const m=t[0],w={done:!1,value:m},b=N=>u!==void 0&&N<u||d!==void 0&&N>d,x=N=>u===void 0?d:d===void 0||Math.abs(u-N)<Math.abs(d-N)?u:d;let C=r*e;const E=m+C,j=c===void 0?E:c(E);j!==E&&(C=j-m);const D=N=>-C*Math.exp(-N/i),k=N=>j+D(N),A=N=>{const K=D(N),L=k(N);w.done=Math.abs(K)<=f,w.value=w.done?j:L};let R,M;const O=N=>{b(w.value)&&(R=N,M=B0({keyframes:[w.value,x(w.value)],velocity:U0(k,N,w.value),damping:a,stiffness:o,restDelta:f,restSpeed:g}))};return O(0),{calculatedDuration:null,next:N=>{let K=!1;return!M&&R===void 0&&(K=!0,A(N),O(N)),R!==void 0&&N>=R?M.next(N-R):(!K&&A(N),w)}}}const dE=ka(.42,0,1,1),hE=ka(0,0,.58,1),$0=ka(.42,0,.58,1),fE=t=>Array.isArray(t)&&typeof t[0]!="number",pE={linear:ir,easeIn:dE,easeInOut:$0,easeOut:hE,circIn:jh,circInOut:b0,circOut:_0,backIn:Rh,backInOut:v0,backOut:y0,anticipate:w0},Ig=t=>{if(Ch(t)){zv(t.length===4);const[e,r,i,a]=t;return ka(e,r,i,a)}else if(typeof t=="string")return pE[t];return t};function mE(t,e,r){const i=[],a=r||z0,o=t.length-1;for(let c=0;c<o;c++){let u=a(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||ir:e;u=Ca(d,u)}i.push(u)}return i}function gE(t,e,{clamp:r=!0,ease:i,mixer:a}={}){const o=t.length;if(zv(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=mE(e,i,a),d=u.length,f=g=>{if(c&&g<t[0])return e[0];let m=0;if(d>1)for(;m<t.length-2&&!(g<t[m+1]);m++);const w=Zi(t[m],t[m+1],g);return u[m](w)};return r?g=>f(rn(t[0],t[o-1],g)):f}function yE(t,e){const r=t[t.length-1];for(let i=1;i<=e;i++){const a=Zi(0,e,i);t.push(pt(r,1,a))}}function vE(t){const e=[0];return yE(e,t.length-1),e}function wE(t,e){return t.map(r=>r*e)}function _E(t,e){return t.map(()=>e||$0).splice(0,t.length-1)}function gl({duration:t=300,keyframes:e,times:r,ease:i="easeInOut"}){const a=fE(i)?i.map(Ig):Ig(i),o={done:!1,value:e[0]},c=wE(r&&r.length===e.length?r:vE(e),t),u=gE(c,e,{ease:Array.isArray(a)?a:_E(e,a)});return{calculatedDuration:t,next:d=>(o.value=u(d),o.done=d>=t,o)}}const bE=t=>{const e=({timestamp:r})=>t(r);return{start:()=>ot.update(e,!0),stop:()=>Nn(e),now:()=>It.isProcessing?It.timestamp:Br.now()}},xE={decay:Ng,inertia:Ng,tween:gl,keyframes:gl,spring:B0},SE=t=>t/100;class Mh extends L0{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:r,motionValue:i,element:a,keyframes:o}=this.options,c=(a==null?void 0:a.KeyframeResolver)||Dh,u=(d,f)=>this.onKeyframesResolved(d,f);this.resolver=new c(o,u,r,i,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o,velocity:c=0}=this.options,u=kh(r)?r:xE[r]||gl;let d,f;u!==gl&&typeof e[0]!="number"&&(d=Ca(SE,z0(e[0],e[1])),e=[0,100]);const g=u({...this.options,keyframes:e});o==="mirror"&&(f=u({...this.options,keyframes:[...e].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=i0(g));const{calculatedDuration:m}=g,w=m+a,b=w*(i+1)-a;return{generator:g,mirroredGenerator:f,mapPercentToKeyframes:d,calculatedDuration:m,resolvedDuration:w,totalDuration:b}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:i}=this;if(!i){const{keyframes:N}=this.options;return{done:!0,value:N[N.length-1]}}const{finalKeyframe:a,generator:o,mirroredGenerator:c,mapPercentToKeyframes:u,keyframes:d,calculatedDuration:f,totalDuration:g,resolvedDuration:m}=i;if(this.startTime===null)return o.next(0);const{delay:w,repeat:b,repeatType:x,repeatDelay:C,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const j=this.currentTime-w*(this.speed>=0?1:-1),D=this.speed>=0?j<0:j>g;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let k=this.currentTime,A=o;if(b){const N=Math.min(this.currentTime,g)/m;let K=Math.floor(N),L=N%1;!L&&N>=1&&(L=1),L===1&&K--,K=Math.min(K,b+1),!!(K%2)&&(x==="reverse"?(L=1-L,C&&(L-=C/m)):x==="mirror"&&(A=c)),k=rn(0,1,L)*m}const R=D?{done:!1,value:d[0]}:A.next(k);u&&(R.value=u(R.value));let{done:M}=R;!D&&f!==null&&(M=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return O&&a!==void 0&&(R.value=Ul(d,this.options,a)),E&&E(R.value),O&&this.finish(),R}get duration(){const{resolved:e}=this;return e?tn(e.calculatedDuration):0}get time(){return tn(this.currentTime)}set time(e){e=en(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=tn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=bE,onPlay:r,startTime:i}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),r&&r();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const kE=new Set(["opacity","clipPath","filter","transform"]);function CE(t,e,r,{delay:i=0,duration:a=300,repeat:o=0,repeatType:c="loop",ease:u="easeInOut",times:d}={}){const f={[e]:r};d&&(f.offset=d);const g=o0(u,a);return Array.isArray(g)&&(f.easing=g),t.animate(f,{delay:i,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"})}const EE=ch(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),yl=10,TE=2e4;function PE(t){return kh(t.type)||t.type==="spring"||!a0(t.ease)}function AE(t,e){const r=new Mh({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const a=[];let o=0;for(;!i.done&&o<TE;)i=r.sample(o),a.push(i.value),o+=yl;return{times:void 0,keyframes:a,duration:o-yl,ease:"linear"}}const F0={anticipate:w0,backInOut:v0,circInOut:b0};function RE(t){return t in F0}class Dg extends L0{constructor(e){super(e);const{name:r,motionValue:i,element:a,keyframes:o}=this.options;this.resolver=new D0(o,(c,u)=>this.onKeyframesResolved(c,u),r,i,a),this.resolver.scheduleResolve()}initPlayback(e,r){let{duration:i=300,times:a,ease:o,type:c,motionValue:u,name:d,startTime:f}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof o=="string"&&pl()&&RE(o)&&(o=F0[o]),PE(this.options)){const{onComplete:m,onUpdate:w,motionValue:b,element:x,...C}=this.options,E=AE(e,C);e=E.keyframes,e.length===1&&(e[1]=e[0]),i=E.duration,a=E.times,o=E.ease,c="keyframes"}const g=CE(u.owner.current,d,e,{...this.options,duration:i,times:a,ease:o});return g.startTime=f??this.calcStartTime(),this.pendingTimeline?(wg(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:m}=this.options;u.set(Ul(e,this.options,r)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:i,times:a,type:c,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return tn(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return tn(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:i}=r;i.currentTime=en(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:i}=r;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return ir;const{animation:i}=r;wg(i,e)}return ir}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:i,duration:a,type:o,ease:c,times:u}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:g,onComplete:m,element:w,...b}=this.options,x=new Mh({...b,keyframes:i,duration:a,type:o,ease:c,times:u,isGenerator:!0}),C=en(this.time);f.setWithVelocity(x.sample(C-yl).value,x.sample(C).value,yl)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:i,repeatDelay:a,repeatType:o,damping:c,type:u}=e;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=r.owner.getProps();return EE()&&i&&kE.has(i)&&!d&&!f&&!a&&o!=="mirror"&&c!==0&&u!=="inertia"}}const jE={type:"spring",stiffness:500,damping:25,restSpeed:10},OE=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),NE={type:"keyframes",duration:.8},IE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},DE=(t,{keyframes:e})=>e.length>2?NE:hi.has(t)?t.startsWith("scale")?OE(e[1]):jE:IE;function LE({when:t,delay:e,delayChildren:r,staggerChildren:i,staggerDirection:a,repeat:o,repeatType:c,repeatDelay:u,from:d,elapsed:f,...g}){return!!Object.keys(g).length}const zh=(t,e,r,i={},a,o)=>c=>{const u=Sh(i,t)||{},d=u.delay||i.delay||0;let{elapsed:f=0}=i;f=f-en(d);let g={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:w=>{e.set(w),u.onUpdate&&u.onUpdate(w)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:a};LE(u)||(g={...g,...DE(t,g)}),g.duration&&(g.duration=en(g.duration)),g.repeatDelay&&(g.repeatDelay=en(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let m=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(m=!0)),m&&!o&&e.get()!==void 0){const w=Ul(g.keyframes,u);if(w!==void 0)return ot.update(()=>{g.onUpdate(w),g.onComplete()}),new tC([])}return!o&&Dg.supports(g)?new Dg(g):new Mh(g)};function ME({protectedKeys:t,needsAnimating:e},r){const i=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,i}function V0(t,e,{delay:r=0,transitionOverride:i,type:a}={}){var o;let{transition:c=t.getDefaultTransition(),transitionEnd:u,...d}=e;i&&(c=i);const f=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const m in d){const w=t.getValue(m,(o=t.latestValues[m])!==null&&o!==void 0?o:null),b=d[m];if(b===void 0||g&&ME(g,m))continue;const x={delay:r,...Sh(c||{},m)};let C=!1;if(window.MotionHandoffAnimation){const j=f0(t);if(j){const D=window.MotionHandoffAnimation(j,m,ot);D!==null&&(x.startTime=D,C=!0)}}_d(t,m),w.start(zh(m,w,b,t.shouldReduceMotion&&d0.has(m)?{type:!1}:x,t,C));const E=w.animation;E&&f.push(E)}return u&&Promise.all(f).then(()=>{ot.update(()=>{u&&mC(t,u)})}),f}function Td(t,e,r={}){var i;const a=zl(t,e,r.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(o=r.transitionOverride);const c=a?()=>Promise.all(V0(t,a,r)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:g=0,staggerChildren:m,staggerDirection:w}=o;return zE(t,e,g+f,m,w,r)}:()=>Promise.resolve(),{when:d}=o;if(d){const[f,g]=d==="beforeChildren"?[c,u]:[u,c];return f().then(()=>g())}else return Promise.all([c(),u(r.delay)])}function zE(t,e,r=0,i=0,a=1,o){const c=[],u=(t.variantChildren.size-1)*i,d=a===1?(f=0)=>f*i:(f=0)=>u-f*i;return Array.from(t.variantChildren).sort(UE).forEach((f,g)=>{f.notify("AnimationStart",e),c.push(Td(f,e,{...o,delay:r+d(g)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(c)}function UE(t,e){return t.sortNodePosition(e)}function BE(t,e,r={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(o=>Td(t,o,r));i=Promise.all(a)}else if(typeof e=="string")i=Td(t,e,r);else{const a=typeof e=="function"?zl(t,e,r.custom):e;i=Promise.all(V0(t,a,r))}return i.then(()=>{t.notify("AnimationComplete",e)})}const $E=dh.length;function q0(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?q0(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<$E;r++){const i=dh[r],a=t.props[i];(pa(a)||a===!1)&&(e[i]=a)}return e}const FE=[...uh].reverse(),VE=uh.length;function qE(t){return e=>Promise.all(e.map(({animation:r,options:i})=>BE(t,r,i)))}function KE(t){let e=qE(t),r=Lg(),i=!0;const a=d=>(f,g)=>{var m;const w=zl(t,g,d==="exit"?(m=t.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(w){const{transition:b,transitionEnd:x,...C}=w;f={...f,...C,...x}}return f};function o(d){e=d(t)}function c(d){const{props:f}=t,g=q0(t.parent)||{},m=[],w=new Set;let b={},x=1/0;for(let E=0;E<VE;E++){const j=FE[E],D=r[j],k=f[j]!==void 0?f[j]:g[j],A=pa(k),R=j===d?D.isActive:null;R===!1&&(x=E);let M=k===g[j]&&k!==f[j]&&A;if(M&&i&&t.manuallyAnimateOnMount&&(M=!1),D.protectedKeys={...b},!D.isActive&&R===null||!k&&!D.prevProp||Ll(k)||typeof k=="boolean")continue;const O=WE(D.prevProp,k);let N=O||j===d&&D.isActive&&!M&&A||E>x&&A,K=!1;const L=Array.isArray(k)?k:[k];let $=L.reduce(a(j),{});R===!1&&($={});const{prevResolvedValues:Y={}}=D,te={...Y,...$},ue=we=>{N=!0,w.has(we)&&(K=!0,w.delete(we)),D.needsAnimating[we]=!0;const de=t.getValue(we);de&&(de.liveStyle=!1)};for(const we in te){const de=$[we],oe=Y[we];if(b.hasOwnProperty(we))continue;let ge=!1;yd(de)&&yd(oe)?ge=!n0(de,oe):ge=de!==oe,ge?de!=null?ue(we):w.add(we):de!==void 0&&w.has(we)?ue(we):D.protectedKeys[we]=!0}D.prevProp=k,D.prevResolvedValues=$,D.isActive&&(b={...b,...$}),i&&t.blockInitialAnimation&&(N=!1),N&&(!(M&&O)||K)&&m.push(...L.map(we=>({animation:we,options:{type:j}})))}if(w.size){const E={};w.forEach(j=>{const D=t.getBaseTarget(j),k=t.getValue(j);k&&(k.liveStyle=!0),E[j]=D??null}),m.push({animation:E})}let C=!!m.length;return i&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(C=!1),i=!1,C?e(m):Promise.resolve()}function u(d,f){var g;if(r[d].isActive===f)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(w=>{var b;return(b=w.animationState)===null||b===void 0?void 0:b.setActive(d,f)}),r[d].isActive=f;const m=c(d);for(const w in r)r[w].protectedKeys={};return m}return{animateChanges:c,setActive:u,setAnimateFunction:o,getState:()=>r,reset:()=>{r=Lg(),i=!0}}}function WE(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!n0(e,t):!1}function Qn(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Lg(){return{animate:Qn(!0),whileInView:Qn(),whileHover:Qn(),whileTap:Qn(),whileDrag:Qn(),whileFocus:Qn(),exit:Qn()}}class Mn{constructor(e){this.isMounted=!1,this.node=e}update(){}}class GE extends Mn{constructor(e){super(e),e.animationState||(e.animationState=KE(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ll(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let HE=0;class YE extends Mn{constructor(){super(...arguments),this.id=HE++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const JE={animation:{Feature:GE},exit:{Feature:YE}};function va(t,e,r,i={passive:!0}){return t.addEventListener(e,r,i),()=>t.removeEventListener(e,r)}function Ea(t){return{point:{x:t.pageX,y:t.pageY}}}const QE=t=>e=>Eh(e)&&t(e,Ea(e));function la(t,e,r,i){return va(t,e,QE(r),i)}const Mg=(t,e)=>Math.abs(t-e);function XE(t,e){const r=Mg(t.x,e.x),i=Mg(t.y,e.y);return Math.sqrt(r**2+i**2)}class K0{constructor(e,r,{transformPagePoint:i,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Ku(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,b=XE(m.offset,{x:0,y:0})>=3;if(!w&&!b)return;const{point:x}=m,{timestamp:C}=It;this.history.push({...x,timestamp:C});const{onStart:E,onMove:j}=this.handlers;w||(E&&E(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,m)},this.handlePointerMove=(m,w)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=qu(w,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(m,w)=>{this.end();const{onEnd:b,onSessionEnd:x,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Ku(m.type==="pointercancel"?this.lastMoveEventInfo:qu(w,this.transformPagePoint),this.history);this.startEvent&&b&&b(m,E),x&&x(m,E)},!Eh(e))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=i,this.contextWindow=a||window;const c=Ea(e),u=qu(c,this.transformPagePoint),{point:d}=u,{timestamp:f}=It;this.history=[{...d,timestamp:f}];const{onSessionStart:g}=r;g&&g(e,Ku(u,this.history)),this.removeListeners=Ca(la(this.contextWindow,"pointermove",this.handlePointerMove),la(this.contextWindow,"pointerup",this.handlePointerUp),la(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Nn(this.updatePoint)}}function qu(t,e){return e?{point:e(t.point)}:t}function zg(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ku({point:t},e){return{point:t,delta:zg(t,W0(e)),offset:zg(t,ZE(e)),velocity:eT(e,.1)}}function ZE(t){return t[0]}function W0(t){return t[t.length-1]}function eT(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,i=null;const a=W0(t);for(;r>=0&&(i=t[r],!(a.timestamp-i.timestamp>en(e)));)r--;if(!i)return{x:0,y:0};const o=tn(a.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const c={x:(a.x-i.x)/o,y:(a.y-i.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const G0=1e-4,tT=1-G0,rT=1+G0,H0=.01,nT=0-H0,iT=0+H0;function sr(t){return t.max-t.min}function sT(t,e,r){return Math.abs(t-e)<=r}function Ug(t,e,r,i=.5){t.origin=i,t.originPoint=pt(e.min,e.max,t.origin),t.scale=sr(r)/sr(e),t.translate=pt(r.min,r.max,t.origin)-t.originPoint,(t.scale>=tT&&t.scale<=rT||isNaN(t.scale))&&(t.scale=1),(t.translate>=nT&&t.translate<=iT||isNaN(t.translate))&&(t.translate=0)}function ca(t,e,r,i){Ug(t.x,e.x,r.x,i?i.originX:void 0),Ug(t.y,e.y,r.y,i?i.originY:void 0)}function Bg(t,e,r){t.min=r.min+e.min,t.max=t.min+sr(e)}function aT(t,e,r){Bg(t.x,e.x,r.x),Bg(t.y,e.y,r.y)}function $g(t,e,r){t.min=e.min-r.min,t.max=t.min+sr(e)}function ua(t,e,r){$g(t.x,e.x,r.x),$g(t.y,e.y,r.y)}function oT(t,{min:e,max:r},i){return e!==void 0&&t<e?t=i?pt(e,t,i.min):Math.max(t,e):r!==void 0&&t>r&&(t=i?pt(r,t,i.max):Math.min(t,r)),t}function Fg(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function lT(t,{top:e,left:r,bottom:i,right:a}){return{x:Fg(t.x,r,a),y:Fg(t.y,e,i)}}function Vg(t,e){let r=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,i]=[i,r]),{min:r,max:i}}function cT(t,e){return{x:Vg(t.x,e.x),y:Vg(t.y,e.y)}}function uT(t,e){let r=.5;const i=sr(t),a=sr(e);return a>i?r=Zi(e.min,e.max-i,t.min):i>a&&(r=Zi(t.min,t.max-a,e.min)),rn(0,1,r)}function dT(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Pd=.35;function hT(t=Pd){return t===!1?t=0:t===!0&&(t=Pd),{x:qg(t,"left","right"),y:qg(t,"top","bottom")}}function qg(t,e,r){return{min:Kg(t,e),max:Kg(t,r)}}function Kg(t,e){return typeof t=="number"?t:t[e]||0}const Wg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wi=()=>({x:Wg(),y:Wg()}),Gg=()=>({min:0,max:0}),wt=()=>({x:Gg(),y:Gg()});function fr(t){return[t("x"),t("y")]}function Y0({top:t,left:e,right:r,bottom:i}){return{x:{min:e,max:r},y:{min:t,max:i}}}function fT({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function pT(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function Wu(t){return t===void 0||t===1}function Ad({scale:t,scaleX:e,scaleY:r}){return!Wu(t)||!Wu(e)||!Wu(r)}function ei(t){return Ad(t)||J0(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function J0(t){return Hg(t.x)||Hg(t.y)}function Hg(t){return t&&t!=="0%"}function vl(t,e,r){const i=t-r,a=e*i;return r+a}function Yg(t,e,r,i,a){return a!==void 0&&(t=vl(t,a,i)),vl(t,r,i)+e}function Rd(t,e=0,r=1,i,a){t.min=Yg(t.min,e,r,i,a),t.max=Yg(t.max,e,r,i,a)}function Q0(t,{x:e,y:r}){Rd(t.x,e.translate,e.scale,e.originPoint),Rd(t.y,r.translate,r.scale,r.originPoint)}const Jg=.999999999999,Qg=1.0000000000001;function mT(t,e,r,i=!1){const a=r.length;if(!a)return;e.x=e.y=1;let o,c;for(let u=0;u<a;u++){o=r[u],c=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Hi(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Q0(t,c)),i&&ei(o.latestValues)&&Hi(t,o.latestValues))}e.x<Qg&&e.x>Jg&&(e.x=1),e.y<Qg&&e.y>Jg&&(e.y=1)}function Gi(t,e){t.min=t.min+e,t.max=t.max+e}function Xg(t,e,r,i,a=.5){const o=pt(t.min,t.max,a);Rd(t,e,r,o,i)}function Hi(t,e){Xg(t.x,e.x,e.scaleX,e.scale,e.originX),Xg(t.y,e.y,e.scaleY,e.scale,e.originY)}function X0(t,e){return Y0(pT(t.getBoundingClientRect(),e))}function gT(t,e,r){const i=X0(t,r),{scroll:a}=e;return a&&(Gi(i.x,a.offset.x),Gi(i.y,a.offset.y)),i}const Z0=({current:t})=>t?t.ownerDocument.defaultView:null,yT=new WeakMap;class vT{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wt(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ea(g).point)},o=(g,m)=>{const{drag:w,dragPropagation:b,onDragStart:x}=this.getProps();if(w&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uC(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fr(E=>{let j=this.getAxisMotionValue(E).get()||0;if(Ur.test(j)){const{projection:D}=this.visualElement;if(D&&D.layout){const k=D.layout.layoutBox[E];k&&(j=sr(k)*(parseFloat(j)/100))}}this.originPoint[E]=j}),x&&ot.postRender(()=>x(g,m)),_d(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},c=(g,m)=>{const{dragPropagation:w,dragDirectionLock:b,onDirectionLock:x,onDrag:C}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:E}=m;if(b&&this.currentDirection===null){this.currentDirection=wT(E),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,E),this.updateAxis("y",m.point,E),this.visualElement.render(),C&&C(g,m)},u=(g,m)=>this.stop(g,m),d=()=>fr(g=>{var m;return this.getAnimationState(g)==="paused"&&((m=this.getAxisMotionValue(g).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new K0(e,{onSessionStart:a,onStart:o,onMove:c,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:Z0(this.visualElement)})}stop(e,r){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&ot.postRender(()=>o(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,i){const{drag:a}=this.getProps();if(!i||!$o(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=oT(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:i}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;r&&qi(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=lT(a.layoutBox,r):this.constraints=!1,this.elastic=hT(i),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&fr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=dT(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!qi(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=gT(i,a.root,this.visualElement.getTransformPagePoint());let c=cT(a.layout.layoutBox,o);if(r){const u=r(fT(c));this.hasMutatedConstraints=!!u,u&&(c=Y0(u))}return c}startAnimation(e){const{drag:r,dragMomentum:i,dragElastic:a,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},f=fr(g=>{if(!$o(g,r,this.currentDirection))return;let m=d&&d[g]||{};c&&(m={min:0,max:0});const w=a?200:1e6,b=a?40:1e7,x={type:"inertia",velocity:i?e[g]:0,bounceStiffness:w,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(g,x)});return Promise.all(f).then(u)}startAxisValueAnimation(e,r){const i=this.getAxisMotionValue(e);return _d(this.visualElement,e),i.start(zh(e,i,0,r,this.visualElement,!1))}stopAnimation(){fr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fr(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[r];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){fr(r=>{const{drag:i}=this.getProps();if(!$o(r,i,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(r);if(a&&a.layout){const{min:c,max:u}=a.layout.layoutBox[r];o.set(e[r]-pt(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!qi(r)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};fr(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const d=u.get();a[c]=uT({min:d,max:d},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),fr(c=>{if(!$o(c,e,null))return;const u=this.getAxisMotionValue(c),{min:d,max:f}=this.constraints[c];u.set(pt(d,f,a[c]))})}addListeners(){if(!this.visualElement.current)return;yT.set(this.visualElement,this);const e=this.visualElement.current,r=la(e,"pointerdown",d=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();qi(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ot.read(i);const c=va(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(fr(g=>{const m=this.getAxisMotionValue(g);m&&(this.originPoint[g]+=d[g].translate,m.set(m.get()+d[g].translate))}),this.visualElement.render())}));return()=>{c(),r(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:c=Pd,dragMomentum:u=!0}=e;return{...e,drag:r,dragDirectionLock:i,dragPropagation:a,dragConstraints:o,dragElastic:c,dragMomentum:u}}}function $o(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function wT(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class _T extends Mn{constructor(e){super(e),this.removeGroupControls=ir,this.removeListeners=ir,this.controls=new vT(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ir}unmount(){this.removeGroupControls(),this.removeListeners()}}const Zg=t=>(e,r)=>{t&&ot.postRender(()=>t(e,r))};class bT extends Mn{constructor(){super(...arguments),this.removePointerDownListener=ir}onPointerDown(e){this.session=new K0(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Z0(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Zg(e),onStart:Zg(r),onMove:i,onEnd:(o,c)=>{delete this.session,a&&ot.postRender(()=>a(o,c))}}}mount(){this.removePointerDownListener=la(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const nl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ey(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Gs={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Le.test(t))t=parseFloat(t);else return t;const r=ey(t,e.target.x),i=ey(t,e.target.y);return`${r}% ${i}%`}},xT={correct:(t,{treeScale:e,projectionDelta:r})=>{const i=t,a=In.parse(t);if(a.length>5)return i;const o=In.createTransformer(t),c=typeof a[0]!="number"?1:0,u=r.x.scale*e.x,d=r.y.scale*e.y;a[0+c]/=u,a[1+c]/=d;const f=pt(u,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=f),typeof a[3+c]=="number"&&(a[3+c]/=f),o(a)}};class ST extends z.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i,layoutId:a}=this.props,{projection:o}=e;V1(kT),o&&(r.group&&r.group.add(o),i&&i.register&&a&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),nl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:i,drag:a,isPresent:o}=this.props,c=i.projection;return c&&(c.isPresent=o,a||e.layoutDependency!==r||r===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||ot.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),fh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ew(t){const[e,r]=Lv(),i=z.useContext(sh);return y.jsx(ST,{...t,layoutGroup:i,switchLayoutGroup:z.useContext(qv),isPresent:e,safeToRemove:r})}const kT={borderRadius:{...Gs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gs,borderTopRightRadius:Gs,borderBottomLeftRadius:Gs,borderBottomRightRadius:Gs,boxShadow:xT};function CT(t,e,r){const i=$t(t)?t:ga(t);return i.start(zh("",i,e,r)),i.animation}function ET(t){return t instanceof SVGElement&&t.tagName!=="svg"}const TT=(t,e)=>t.depth-e.depth;class PT{constructor(){this.children=[],this.isDirty=!1}add(e){Th(this.children,e),this.isDirty=!0}remove(e){Ph(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(TT),this.isDirty=!1,this.children.forEach(e)}}function AT(t,e){const r=Br.now(),i=({timestamp:a})=>{const o=a-r;o>=e&&(Nn(i),t(o-e))};return ot.read(i,!0),()=>Nn(i)}const tw=["TopLeft","TopRight","BottomLeft","BottomRight"],RT=tw.length,ty=t=>typeof t=="string"?parseFloat(t):t,ry=t=>typeof t=="number"||Le.test(t);function jT(t,e,r,i,a,o){a?(t.opacity=pt(0,r.opacity!==void 0?r.opacity:1,OT(i)),t.opacityExit=pt(e.opacity!==void 0?e.opacity:1,0,NT(i))):o&&(t.opacity=pt(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,i));for(let c=0;c<RT;c++){const u=`border${tw[c]}Radius`;let d=ny(e,u),f=ny(r,u);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||ry(d)===ry(f)?(t[u]=Math.max(pt(ty(d),ty(f),i),0),(Ur.test(f)||Ur.test(d))&&(t[u]+="%")):t[u]=f}(e.rotate||r.rotate)&&(t.rotate=pt(e.rotate||0,r.rotate||0,i))}function ny(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const OT=rw(0,.5,_0),NT=rw(.5,.95,ir);function rw(t,e,r){return i=>i<t?0:i>e?1:r(Zi(t,e,i))}function iy(t,e){t.min=e.min,t.max=e.max}function hr(t,e){iy(t.x,e.x),iy(t.y,e.y)}function sy(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ay(t,e,r,i,a){return t-=e,t=vl(t,1/r,i),a!==void 0&&(t=vl(t,1/a,i)),t}function IT(t,e=0,r=1,i=.5,a,o=t,c=t){if(Ur.test(e)&&(e=parseFloat(e),e=pt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=pt(o.min,o.max,i);t===o&&(u-=e),t.min=ay(t.min,e,r,u,a),t.max=ay(t.max,e,r,u,a)}function oy(t,e,[r,i,a],o,c){IT(t,e[r],e[i],e[a],e.scale,o,c)}const DT=["x","scaleX","originX"],LT=["y","scaleY","originY"];function ly(t,e,r,i){oy(t.x,e,DT,r?r.x:void 0,i?i.x:void 0),oy(t.y,e,LT,r?r.y:void 0,i?i.y:void 0)}function cy(t){return t.translate===0&&t.scale===1}function nw(t){return cy(t.x)&&cy(t.y)}function uy(t,e){return t.min===e.min&&t.max===e.max}function MT(t,e){return uy(t.x,e.x)&&uy(t.y,e.y)}function dy(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function iw(t,e){return dy(t.x,e.x)&&dy(t.y,e.y)}function hy(t){return sr(t.x)/sr(t.y)}function fy(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class zT{constructor(){this.members=[]}add(e){Th(this.members,e),e.scheduleRender()}remove(e){if(Ph(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let i;for(let a=r;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,r){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,r&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:i}=e;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function UT(t,e,r){let i="";const a=t.x.translate/e.x,o=t.y.translate/e.y,c=(r==null?void 0:r.z)||0;if((a||o||c)&&(i=`translate3d(${a}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:f,rotate:g,rotateX:m,rotateY:w,skewX:b,skewY:x}=r;f&&(i=`perspective(${f}px) ${i}`),g&&(i+=`rotate(${g}deg) `),m&&(i+=`rotateX(${m}deg) `),w&&(i+=`rotateY(${w}deg) `),b&&(i+=`skewX(${b}deg) `),x&&(i+=`skewY(${x}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(i+=`scale(${u}, ${d})`),i||"none"}const ti={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},na=typeof window<"u"&&window.MotionDebug!==void 0,Gu=["","X","Y","Z"],BT={visibility:"hidden"},py=1e3;let $T=0;function Hu(t,e,r,i){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function sw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=f0(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",ot,!(a||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&sw(i)}function aw({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},u=e==null?void 0:e()){this.id=$T++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,na&&(ti.totalNodes=ti.resolvedTargetDeltas=ti.recalculatedProjection=0),this.nodes.forEach(qT),this.nodes.forEach(YT),this.nodes.forEach(JT),this.nodes.forEach(KT),na&&window.MotionDebug.record(ti)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new PT)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Ah),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const d=this.eventHandlers.get(c);d&&d.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ET(c),this.instance=c;const{layoutId:d,layout:f,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(f||d)&&(this.isLayoutDirty=!0),t){let m;const w=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=AT(w,250),nl.hasAnimatedSinceResize&&(nl.hasAnimatedSinceResize=!1,this.nodes.forEach(gy))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:w,hasRelativeTargetChanged:b,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||g.getDefaultTransition()||tP,{onLayoutAnimationStart:E,onLayoutAnimationComplete:j}=g.getProps(),D=!this.targetLayout||!iw(this.targetLayout,x)||b,k=!w&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||w&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,k);const A={...Sh(C,"layout"),onPlay:E,onComplete:j};(g.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else w||gy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Nn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QT),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const m=this.path[g];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(my);return}this.isUpdating||this.nodes.forEach(GT),this.isUpdating=!1,this.nodes.forEach(HT),this.nodes.forEach(FT),this.nodes.forEach(VT),this.clearAllSnapshots();const u=Br.now();It.delta=rn(0,1e3/60,u-It.timestamp),It.timestamp=u,It.isProcessing=!0,zu.update.process(It),zu.preRender.process(It),zu.render.process(It),It.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WT),this.sharedNodes.forEach(XT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!nw(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;c&&(u||ei(this.latestValues)||g)&&(a(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return c&&(d=this.removeTransform(d)),rP(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:u}=this.options;if(!u)return wt();const d=u.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(nP))){const{scroll:g}=this.root;g&&(Gi(d.x,g.offset.x),Gi(d.y,g.offset.y))}return d}removeElementScroll(c){var u;const d=wt();if(hr(d,c),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return d;for(let f=0;f<this.path.length;f++){const g=this.path[f],{scroll:m,options:w}=g;g!==this.root&&m&&w.layoutScroll&&(m.wasRoot&&hr(d,c),Gi(d.x,m.offset.x),Gi(d.y,m.offset.y))}return d}applyTransform(c,u=!1){const d=wt();hr(d,c);for(let f=0;f<this.path.length;f++){const g=this.path[f];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Hi(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ei(g.latestValues)&&Hi(d,g.latestValues)}return ei(this.latestValues)&&Hi(d,this.latestValues),d}removeTransform(c){const u=wt();hr(u,c);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!ei(f.latestValues))continue;Ad(f.latestValues)&&f.updateSnapshot();const g=wt(),m=f.measurePageBox();hr(g,m),ly(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return ei(this.latestValues)&&ly(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==It.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var u;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:w}=this.options;if(!(!this.layout||!(m||w))){if(this.resolvedRelativeTargetAt=It.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),ua(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),hr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=wt(),this.targetWithTransforms=wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hr(this.target,this.layout.layoutBox),Q0(this.target,this.targetDelta)):hr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),ua(this.relativeTargetOrigin,this.target,b.target),hr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}na&&ti.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ad(this.parent.latestValues)||J0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const u=this.getLead(),d=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===It.timestamp&&(f=!1),f)return;const{layout:g,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||m))return;hr(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,b=this.treeScale.y;mT(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=wt());const{target:x}=u;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sy(this.prevProjectionDelta.x,this.projectionDelta.x),sy(this.prevProjectionDelta.y,this.projectionDelta.y)),ca(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==b||!fy(this.projectionDelta.x,this.prevProjectionDelta.x)||!fy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),na&&ti.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wi(),this.projectionDelta=Wi(),this.projectionDeltaWithTransform=Wi()}setAnimationOrigin(c,u=!1){const d=this.snapshot,f=d?d.latestValues:{},g={...this.latestValues},m=Wi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const w=wt(),b=d?d.source:void 0,x=this.layout?this.layout.source:void 0,C=b!==x,E=this.getStack(),j=!E||E.members.length<=1,D=!!(C&&!j&&this.options.crossfade===!0&&!this.path.some(eP));this.animationProgress=0;let k;this.mixTargetDelta=A=>{const R=A/1e3;yy(m.x,c.x,R),yy(m.y,c.y,R),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ua(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ZT(this.relativeTarget,this.relativeTargetOrigin,w,R),k&&MT(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=wt()),hr(k,this.relativeTarget)),C&&(this.animationValues=g,jT(g,f,this.latestValues,R,D,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Nn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{nl.hasAnimatedSinceResize=!0,this.currentAnimation=CT(0,py,{...c,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(py),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:d,layout:f,latestValues:g}=c;if(!(!u||!d||!f)){if(this!==c&&this.layout&&f&&ow(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||wt();const m=sr(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+m;const w=sr(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+w}hr(u,d),Hi(u,g),ca(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new zT),this.sharedNodes.get(c).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:u}=this.options;return u?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:u}=this.options;return u?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const f={};d.z&&Hu("z",c,f,this.animationValues);for(let g=0;g<Gu.length;g++)Hu(`rotate${Gu[g]}`,c,f,this.animationValues),Hu(`skew${Gu[g]}`,c,f,this.animationValues);c.render();for(const g in f)c.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);c.scheduleRender()}getProjectionStyles(c){var u,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return BT;const f={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=tl(c==null?void 0:c.pointerEvents)||"",f.transform=g?g(this.latestValues,""):"none",f;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=tl(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!ei(this.latestValues)&&(C.transform=g?g({},""):"none",this.hasProjected=!1),C}const w=m.animationValues||m.latestValues;this.applyTransformsToTarget(),f.transform=UT(this.projectionDeltaWithTransform,this.treeScale,w),g&&(f.transform=g(w,f.transform));const{x:b,y:x}=this.projectionDelta;f.transformOrigin=`${b.origin*100}% ${x.origin*100}% 0`,m.animationValues?f.opacity=m===this?(d=(u=w.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:f.opacity=m===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const C in fl){if(w[C]===void 0)continue;const{correct:E,applyTo:j}=fl[C],D=f.transform==="none"?w[C]:E(w[C],m);if(j){const k=j.length;for(let A=0;A<k;A++)f[j[A]]=D}else f[C]=D}return this.options.layoutId&&(f.pointerEvents=m===this?tl(c==null?void 0:c.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(my),this.root.sharedNodes.clear()}}}function FT(t){t.updateLayout()}function VT(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=t.layout,{animationType:o}=t.options,c=r.source!==t.layout.source;o==="size"?fr(m=>{const w=c?r.measuredBox[m]:r.layoutBox[m],b=sr(w);w.min=i[m].min,w.max=w.min+b}):ow(o,r.layoutBox,i)&&fr(m=>{const w=c?r.measuredBox[m]:r.layoutBox[m],b=sr(i[m]);w.max=w.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+b)});const u=Wi();ca(u,i,r.layoutBox);const d=Wi();c?ca(d,t.applyTransform(a,!0),r.measuredBox):ca(d,i,r.layoutBox);const f=!nw(u);let g=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:w,layout:b}=m;if(w&&b){const x=wt();ua(x,r.layoutBox,w.layoutBox);const C=wt();ua(C,i,b.layoutBox),iw(x,C)||(g=!0),m.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=x,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:r,delta:d,layoutDelta:u,hasLayoutChanged:f,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function qT(t){na&&ti.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function KT(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function WT(t){t.clearSnapshot()}function my(t){t.clearMeasurements()}function GT(t){t.isLayoutDirty=!1}function HT(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function gy(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function YT(t){t.resolveTargetDelta()}function JT(t){t.calcProjection()}function QT(t){t.resetSkewAndRotation()}function XT(t){t.removeLeadSnapshot()}function yy(t,e,r){t.translate=pt(e.translate,0,r),t.scale=pt(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function vy(t,e,r,i){t.min=pt(e.min,r.min,i),t.max=pt(e.max,r.max,i)}function ZT(t,e,r,i){vy(t.x,e.x,r.x,i),vy(t.y,e.y,r.y,i)}function eP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const tP={duration:.45,ease:[.4,0,.1,1]},wy=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),_y=wy("applewebkit/")&&!wy("chrome/")?Math.round:ir;function by(t){t.min=_y(t.min),t.max=_y(t.max)}function rP(t){by(t.x),by(t.y)}function ow(t,e,r){return t==="position"||t==="preserve-aspect"&&!sT(hy(e),hy(r),.2)}function nP(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const iP=aw({attachResizeListener:(t,e)=>va(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yu={current:void 0},lw=aw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Yu.current){const t=new iP({});t.mount(window),t.setOptions({layoutScroll:!0}),Yu.current=t}return Yu.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),sP={pan:{Feature:bT},drag:{Feature:_T,ProjectionNode:lw,MeasureLayout:ew}};function xy(t,e,r){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,o=i[a];o&&ot.postRender(()=>o(e,Ea(e)))}class aP extends Mn{mount(){const{current:e}=this.node;e&&(this.unmount=sC(e,r=>(xy(this.node,r,"Start"),i=>xy(this.node,i,"End"))))}unmount(){}}class oP extends Mn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ca(va(this.node.current,"focus",()=>this.onFocus()),va(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Sy(t,e,r){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),o=i[a];o&&ot.postRender(()=>o(e,Ea(e)))}class lP extends Mn{mount(){const{current:e}=this.node;e&&(this.unmount=cC(e,r=>(Sy(this.node,r,"Start"),(i,{success:a})=>Sy(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jd=new WeakMap,Ju=new WeakMap,cP=t=>{const e=jd.get(t.target);e&&e(t)},uP=t=>{t.forEach(cP)};function dP({root:t,...e}){const r=t||document;Ju.has(r)||Ju.set(r,{});const i=Ju.get(r),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(uP,{root:t,...e})),i[a]}function hP(t,e,r){const i=dP(e);return jd.set(t,r),i.observe(t),()=>{jd.delete(t),i.unobserve(t)}}const fP={some:0,all:1};class pP extends Mn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:i,amount:a="some",once:o}=e,c={root:r?r.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:fP[a]},u=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:m}=this.node.getProps(),w=f?g:m;w&&w(d)};return hP(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(mP(e,r))&&this.startObserver()}unmount(){}}function mP({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const gP={inView:{Feature:pP},tap:{Feature:lP},focus:{Feature:oP},hover:{Feature:aP}},yP={layout:{ProjectionNode:lw,MeasureLayout:ew}},Od={current:null},cw={current:!1};function vP(){if(cw.current=!0,!!lh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Od.current=t.matches;t.addListener(e),e()}else Od.current=!1}const wP=[...I0,Bt,In],_P=t=>wP.find(N0(t)),ky=new WeakMap;function bP(t,e,r){for(const i in e){const a=e[i],o=r[i];if($t(a))t.addValue(i,a);else if($t(o))t.addValue(i,ga(a,{owner:t}));else if(o!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,ga(c!==void 0?c:a,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const Cy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class xP{scrapeMotionValuesFromProps(e,r,i){return{}}constructor({parent:e,props:r,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:o,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Dh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Br.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ot.render(this.render,!1,!0))};const{latestValues:d,renderState:f,onUpdate:g}=c;this.onUpdate=g,this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=r,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Ml(r),this.isVariantNode=Fv(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...w}=this.scrapeMotionValuesFromProps(r,{},this);for(const b in w){const x=w[b];d[b]!==void 0&&$t(x)&&x.set(d[b],!1)}}mount(e){this.current=e,ky.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),cw.current||vP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Od.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ky.delete(this.current),this.projection&&this.projection.unmount(),Nn(this.notifyUpdate),Nn(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=hi.has(e),a=r.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ot.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=r.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),o(),c&&c(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in es){const r=es[e];if(!r)continue;const{isEnabled:i,Feature:a}=r;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<Cy.length;i++){const a=Cy[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,c=e[o];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=bP(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const i=this.values.get(e);r!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&r!==void 0&&(i=ga(r===null?void 0:r,{owner:this}),this.addValue(e,i)),i}readValue(e,r){var i;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(j0(a)||x0(a))?a=parseFloat(a):!_P(a)&&In.test(r)&&(a=P0(e,r)),this.setBaseTarget(e,$t(a)?a.get():a)),$t(a)?a.get():a}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:i}=this.props;let a;if(typeof i=="string"||typeof i=="object"){const c=mh(this.props,i,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);c&&(a=c[e])}if(i&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!$t(o)?o:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Ah),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class uw extends xP{constructor(){super(...arguments),this.KeyframeResolver=D0}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:i}){delete r[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;$t(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function SP(t){return window.getComputedStyle(t)}class kP extends uw{constructor(){super(...arguments),this.type="html",this.renderInstance=Qv}readValueFromInstance(e,r){if(hi.has(r)){const i=Ih(r);return i&&i.default||0}else{const i=SP(e),a=(Hv(r)?i.getPropertyValue(r):i[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return X0(e,r)}build(e,r,i){vh(e,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,r,i){return xh(e,r,i)}}class CP extends uw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wt}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(hi.has(r)){const i=Ih(r);return i&&i.default||0}return r=Xv.has(r)?r:hh(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,i){return t0(e,r,i)}build(e,r,i){wh(e,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,r,i,a){Zv(e,r,i,a)}mount(e){this.isSVGTag=bh(e.tagName),super.mount(e)}}const EP=(t,e)=>ph(t)?new CP(e):new kP(e,{allowProjection:t!==z.Fragment}),TP=X1({...JE,...gP,...sP,...yP},EP),Ne=f1(TP);var Qr={},Fo={},Nd=function(t,e){return Nd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},Nd(t,e)};function dw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Nd(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var wl=function(){return wl=Object.assign||function(e){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},wl.apply(this,arguments)};function ls(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(r[i[a]]=t[i[a]]);return r}function hw(t,e,r,i){var a=arguments.length,o=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,i);else for(var u=t.length-1;u>=0;u--)(c=t[u])&&(o=(a<3?c(o):a>3?c(e,r,o):c(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o}function fw(t,e){return function(r,i){e(r,i,t)}}function pw(t,e,r,i,a,o){function c(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var u=i.kind,d=u==="getter"?"get":u==="setter"?"set":"value",f=!e&&t?i.static?t:t.prototype:null,g=e||(f?Object.getOwnPropertyDescriptor(f,i.name):{}),m,w=!1,b=r.length-1;b>=0;b--){var x={};for(var C in i)x[C]=C==="access"?{}:i[C];for(var C in i.access)x.access[C]=i.access[C];x.addInitializer=function(j){if(w)throw new TypeError("Cannot add initializers after decoration has completed");o.push(c(j||null))};var E=(0,r[b])(u==="accessor"?{get:g.get,set:g.set}:g[d],x);if(u==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(m=c(E.get))&&(g.get=m),(m=c(E.set))&&(g.set=m),(m=c(E.init))&&a.unshift(m)}else(m=c(E))&&(u==="field"?a.unshift(m):g[d]=m)}f&&Object.defineProperty(f,i.name,g),w=!0}function mw(t,e,r){for(var i=arguments.length>2,a=0;a<e.length;a++)r=i?e[a].call(t,r):e[a].call(t);return i?r:void 0}function gw(t){return typeof t=="symbol"?t:"".concat(t)}function yw(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function vw(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Ce(t,e,r,i){function a(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function u(g){try{f(i.next(g))}catch(m){c(m)}}function d(g){try{f(i.throw(g))}catch(m){c(m)}}function f(g){g.done?o(g.value):a(g.value).then(u,d)}f((i=i.apply(t,e||[])).next())})}function ww(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,a,o,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=u(0),c.throw=u(1),c.return=u(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(g){return d([f,g])}}function d(f){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(r=0)),r;)try{if(i=1,a&&(o=f[0]&2?a.return:f[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,f[1])).done)return o;switch(a=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,a=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){r.label=f[1];break}if(f[0]===6&&r.label<o[1]){r.label=o[1],o=f;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(f);break}o[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(g){f=[6,g],a=0}finally{i=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Bl=Object.create?(function(t,e,r,i){i===void 0&&(i=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,a)}):(function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]});function _w(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Bl(e,t,r)}function _l(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Uh(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),a,o=[],c;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(u){c={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(c)throw c.error}}return o}function bw(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Uh(arguments[e]));return t}function xw(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var i=Array(t),a=0,e=0;e<r;e++)for(var o=arguments[e],c=0,u=o.length;c<u;c++,a++)i[a]=o[c];return i}function Sw(t,e,r){if(r||arguments.length===2)for(var i=0,a=e.length,o;i<a;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))}function rs(t){return this instanceof rs?(this.v=t,this):new rs(t)}function kw(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(t,e||[]),a,o=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(b){return function(x){return Promise.resolve(x).then(b,m)}}function u(b,x){i[b]&&(a[b]=function(C){return new Promise(function(E,j){o.push([b,C,E,j])>1||d(b,C)})},x&&(a[b]=x(a[b])))}function d(b,x){try{f(i[b](x))}catch(C){w(o[0][3],C)}}function f(b){b.value instanceof rs?Promise.resolve(b.value.v).then(g,m):w(o[0][2],b)}function g(b){d("next",b)}function m(b){d("throw",b)}function w(b,x){b(x),o.shift(),o.length&&d(o[0][0],o[0][1])}}function Cw(t){var e,r;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,o){e[a]=t[a]?function(c){return(r=!r)?{value:rs(t[a](c)),done:!1}:o?o(c):c}:o}}function Ew(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof _l=="function"?_l(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(o){r[o]=t[o]&&function(c){return new Promise(function(u,d){c=t[o](c),a(u,d,c.done,c.value)})}}function a(o,c,u,d){Promise.resolve(d).then(function(f){o({value:f,done:u})},c)}}function Tw(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var PP=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Id=function(t){return Id=Object.getOwnPropertyNames||function(e){var r=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[r.length]=i);return r},Id(t)};function Pw(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Id(t),i=0;i<r.length;i++)r[i]!=="default"&&Bl(e,t,r[i]);return PP(e,t),e}function Aw(t){return t&&t.__esModule?t:{default:t}}function Rw(t,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(t):i?i.value:e.get(t)}function jw(t,e,r,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(t,r):a?a.value=r:e.set(t,r),r}function Ow(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Nw(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],r&&(a=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");a&&(i=function(){try{a.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:i,async:r})}else r&&t.stack.push({async:!0});return e}var AP=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var i=new Error(r);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};function Iw(t){function e(o){t.error=t.hasError?new AP(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var r,i=0;function a(){for(;r=t.stack.pop();)try{if(!r.async&&i===1)return i=0,t.stack.push(r),Promise.resolve().then(a);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(o).then(a,function(c){return e(c),a()})}else i|=1}catch(c){e(c)}if(i===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return a()}function Dw(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,i,a,o,c){return i?e?".jsx":".js":a&&(!o||!c)?r:a+o+"."+c.toLowerCase()+"js"}):t}const RP={__extends:dw,__assign:wl,__rest:ls,__decorate:hw,__param:fw,__esDecorate:pw,__runInitializers:mw,__propKey:gw,__setFunctionName:yw,__metadata:vw,__awaiter:Ce,__generator:ww,__createBinding:Bl,__exportStar:_w,__values:_l,__read:Uh,__spread:bw,__spreadArrays:xw,__spreadArray:Sw,__await:rs,__asyncGenerator:kw,__asyncDelegator:Cw,__asyncValues:Ew,__makeTemplateObject:Tw,__importStar:Pw,__importDefault:Aw,__classPrivateFieldGet:Rw,__classPrivateFieldSet:jw,__classPrivateFieldIn:Ow,__addDisposableResource:Nw,__disposeResources:Iw,__rewriteRelativeImportExtension:Dw},jP=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Nw,get __assign(){return wl},__asyncDelegator:Cw,__asyncGenerator:kw,__asyncValues:Ew,__await:rs,__awaiter:Ce,__classPrivateFieldGet:Rw,__classPrivateFieldIn:Ow,__classPrivateFieldSet:jw,__createBinding:Bl,__decorate:hw,__disposeResources:Iw,__esDecorate:pw,__exportStar:_w,__extends:dw,__generator:ww,__importDefault:Aw,__importStar:Pw,__makeTemplateObject:Tw,__metadata:vw,__param:fw,__propKey:gw,__read:Uh,__rest:ls,__rewriteRelativeImportExtension:Dw,__runInitializers:mw,__setFunctionName:yw,__spread:bw,__spreadArray:Sw,__spreadArrays:xw,__values:_l,default:RP},Symbol.toStringTag,{value:"Module"})),OP=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let $l=class extends Error{constructor(e,r="FunctionsError",i){super(e),this.name=r,this.context=i}},Lw=class extends $l{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Dd=class extends $l{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Ld=class extends $l{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var bl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(bl||(bl={}));class NP{constructor(e,{headers:r={},customFetch:i,region:a=bl.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=OP(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ce(this,arguments,void 0,function*(r,i={}){var a;let o,c;try{const{headers:u,method:d,body:f,signal:g,timeout:m}=i;let w={},{region:b}=i;b||(b=this.region);const x=new URL(`${this.url}/${r}`);b&&b!=="any"&&(w["x-region"]=b,x.searchParams.set("forceFunctionRegion",b));let C;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",C=f):typeof f=="string"?(w["Content-Type"]="text/plain",C=f):typeof FormData<"u"&&f instanceof FormData?C=f:(w["Content-Type"]="application/json",C=JSON.stringify(f)):C=f;let E=g;m&&(c=new AbortController,o=setTimeout(()=>c.abort(),m),g?(E=c.signal,g.addEventListener("abort",()=>c.abort())):E=c.signal);const j=yield this.fetch(x.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),u),body:C,signal:E}).catch(R=>{throw new Lw(R)}),D=j.headers.get("x-relay-error");if(D&&D==="true")throw new Dd(j);if(!j.ok)throw new Ld(j);let k=((a=j.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),A;return k==="application/json"?A=yield j.json():k==="application/octet-stream"||k==="application/pdf"?A=yield j.blob():k==="text/event-stream"?A=j:k==="multipart/form-data"?A=yield j.formData():A=yield j.text(),{data:A,error:null,response:j}}catch(u){return{data:null,error:u,response:u instanceof Ld||u instanceof Dd?u.context:void 0}}finally{o&&clearTimeout(o)}})}}const IP=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return bl},FunctionsClient:NP,FunctionsError:$l,FunctionsFetchError:Lw,FunctionsHttpError:Ld,FunctionsRelayError:Dd},Symbol.toStringTag,{value:"Module"})),Mw=xa(IP);var Ut={};const cs=xa(jP);var Vo={},qo={},Ko={},Wo={},Go={},Ho={},Ey;function zw(){if(Ey)return Ho;Ey=1,Object.defineProperty(Ho,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ho.default=t,Ho}var Ty;function Uw(){if(Ty)return Go;Ty=1,Object.defineProperty(Go,"__esModule",{value:!0});const e=cs.__importDefault(zw());let r=class{constructor(a){var o,c;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(o=a.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=a.signal,this.isMaybeSingle=(c=a.isMaybeSingle)!==null&&c!==void 0?c:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=new Headers(this.headers),this.headers.set(a,o),this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let u=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,g,m,w;let b=null,x=null,C=null,E=d.status,j=d.statusText;if(d.ok){if(this.method!=="HEAD"){const R=await d.text();R===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?x=R:x=JSON.parse(R))}const k=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),A=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");k&&A&&A.length>1&&(C=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(b={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,C=null,E=406,j="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const k=await d.text();try{b=JSON.parse(k),Array.isArray(b)&&d.status===404&&(x=[],b=null,E=200,j="OK")}catch{d.status===404&&k===""?(E=204,j="No Content"):b={message:k}}if(b&&this.isMaybeSingle&&(!((w=b==null?void 0:b.details)===null||w===void 0)&&w.includes("0 rows"))&&(b=null,E=200,j="OK"),b&&this.shouldThrowOnError)throw new e.default(b)}return{error:b,data:x,count:C,status:E,statusText:j}});return this.shouldThrowOnError||(u=u.catch(d=>{var f,g,m,w,b,x;let C="";const E=d==null?void 0:d.cause;if(E){const j=(f=E==null?void 0:E.message)!==null&&f!==void 0?f:"",D=(g=E==null?void 0:E.code)!==null&&g!==void 0?g:"";C=`${(m=d==null?void 0:d.name)!==null&&m!==void 0?m:"FetchError"}: ${d==null?void 0:d.message}`,C+=`

Caused by: ${(w=E==null?void 0:E.name)!==null&&w!==void 0?w:"Error"}: ${j}`,D&&(C+=` (${D})`),E!=null&&E.stack&&(C+=`
${E.stack}`)}else C=(b=d==null?void 0:d.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(x=d==null?void 0:d.name)!==null&&x!==void 0?x:"FetchError"}: ${d==null?void 0:d.message}`,details:C,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(a,o)}returns(){return this}overrideTypes(){return this}};return Go.default=r,Go}var Py;function Bw(){if(Py)return Wo;Py=1,Object.defineProperty(Wo,"__esModule",{value:!0});const e=cs.__importDefault(Uw());let r=class extends e.default{select(a){let o=!1;const c=(a??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:o=!0,nullsFirst:c,foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.order`:"order",g=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${g?`${g},`:""}${a}.${o?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:o,referencedTable:c=o}={}){const u=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,o,{foreignTable:c,referencedTable:u=c}={}){const d=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(f,`${o-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:o=!1,settings:c=!1,buffers:u=!1,wal:d=!1,format:f="text"}={}){var g;const m=[a?"analyze":null,o?"verbose":null,c?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),w=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${w}"; options=${m};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};return Wo.default=r,Wo}var Ay;function Bh(){if(Ay)return Ko;Ay=1,Object.defineProperty(Ko,"__esModule",{value:!0});const e=cs.__importDefault(Bw()),r=new RegExp("[,()]");let i=class extends e.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}regexMatch(o,c){return this.url.searchParams.append(o,`match.${c}`),this}regexIMatch(o,c){return this.url.searchParams.append(o,`imatch.${c}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}isDistinct(o,c){return this.url.searchParams.append(o,`isdistinct.${c}`),this}in(o,c){const u=Array.from(new Set(c)).map(d=>typeof d=="string"&&r.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(o,`in.(${u})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:u,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const g=u===void 0?"":`(${u})`;return this.url.searchParams.append(o,`${f}fts${g}.${c}`),this}match(o){return Object.entries(o).forEach(([c,u])=>{this.url.searchParams.append(c,`eq.${u}`)}),this}not(o,c,u){return this.url.searchParams.append(o,`not.${c}.${u}`),this}or(o,{foreignTable:c,referencedTable:u=c}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${o})`),this}filter(o,c,u){return this.url.searchParams.append(o,`${c}.${u}`),this}};return Ko.default=i,Ko}var Ry;function $w(){if(Ry)return qo;Ry=1,Object.defineProperty(qo,"__esModule",{value:!0});const e=cs.__importDefault(Bh());let r=class{constructor(a,{headers:o={},schema:c,fetch:u}){this.url=a,this.headers=new Headers(o),this.schema=c,this.fetch=u}select(a,o){const{head:c=!1,count:u}=o??{},d=c?"HEAD":"GET";let f=!1;const g=(a??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",g),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:o,defaultToNull:c=!0}={}){var u;const d="POST";if(o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((g,m)=>g.concat(Object.keys(m)),[]);if(f.length>0){const g=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(a,{onConflict:o,ignoreDuplicates:c=!1,count:u,defaultToNull:d=!0}={}){var f;const g="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((w,b)=>w.concat(Object.keys(b)),[]);if(m.length>0){const w=[...new Set(m)].map(b=>`"${b}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(a,{count:o}={}){var c;const u="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:a}={}){var o;const c="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};return qo.default=r,qo}var jy;function DP(){if(jy)return Vo;jy=1,Object.defineProperty(Vo,"__esModule",{value:!0});const t=cs,e=t.__importDefault($w()),r=t.__importDefault(Bh());let i=class Fw{constructor(o,{headers:c={},schema:u,fetch:d}={}){this.url=o,this.headers=new Headers(c),this.schemaName=u,this.fetch=d}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${o}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new Fw(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,c={},{head:u=!1,get:d=!1,count:f}={}){var g;let m;const w=new URL(`${this.url}/rpc/${o}`);let b;u||d?(m=u?"HEAD":"GET",Object.entries(c).filter(([C,E])=>E!==void 0).map(([C,E])=>[C,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([C,E])=>{w.searchParams.append(C,E)})):(m="POST",b=c);const x=new Headers(this.headers);return f&&x.set("Prefer",`count=${f}`),new r.default({method:m,url:w,headers:x,schema:this.schemaName,body:b,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}};return Vo.default=i,Vo}var Oy;function Vw(){if(Oy)return Ut;Oy=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.PostgrestError=Ut.PostgrestBuilder=Ut.PostgrestTransformBuilder=Ut.PostgrestFilterBuilder=Ut.PostgrestQueryBuilder=Ut.PostgrestClient=void 0;const t=cs,e=t.__importDefault(DP());Ut.PostgrestClient=e.default;const r=t.__importDefault($w());Ut.PostgrestQueryBuilder=r.default;const i=t.__importDefault(Bh());Ut.PostgrestFilterBuilder=i.default;const a=t.__importDefault(Bw());Ut.PostgrestTransformBuilder=a.default;const o=t.__importDefault(Uw());Ut.PostgrestBuilder=o.default;const c=t.__importDefault(zw());return Ut.PostgrestError=c.default,Ut.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:o.default,PostgrestError:c.default},Ut}class qw{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const i=this.getWebSocketConstructor();return new i(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const LP="2.86.2",MP=`realtime-js/${LP}`,Kw="1.0.0",zP="2.0.0",Ny=Kw,Md=1e4,UP=1e3,BP=100;var ai;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ai||(ai={}));var St;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(St||(St={}));var kr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(kr||(kr={}));var zd;(function(t){t.websocket="websocket"})(zd||(zd={}));var oi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(oi||(oi={}));class $P{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,i;const a=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var r,i;const a=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,r,i){var a,o;const c=e.topic,u=(a=e.ref)!==null&&a!==void 0?a:"",d=(o=e.join_ref)!==null&&o!==void 0?o:"",f=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(g).length===0?"":JSON.stringify(g);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+c.length+f.length+m.length,b=new ArrayBuffer(this.HEADER_LENGTH+w);let x=new DataView(b),C=0;x.setUint8(C++,this.KINDS.userBroadcastPush),x.setUint8(C++,d.length),x.setUint8(C++,u.length),x.setUint8(C++,c.length),x.setUint8(C++,f.length),x.setUint8(C++,m.length),x.setUint8(C++,r),Array.from(d,j=>x.setUint8(C++,j.charCodeAt(0))),Array.from(u,j=>x.setUint8(C++,j.charCodeAt(0))),Array.from(c,j=>x.setUint8(C++,j.charCodeAt(0))),Array.from(f,j=>x.setUint8(C++,j.charCodeAt(0))),Array.from(m,j=>x.setUint8(C++,j.charCodeAt(0)));var E=new Uint8Array(b.byteLength+i.byteLength);return E.set(new Uint8Array(b),0),E.set(new Uint8Array(i),b.byteLength),E.buffer}decode(e,r){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return r(i)}if(typeof e=="string"){const i=JSON.parse(e),[a,o,c,u,d]=i;return r({join_ref:a,ref:o,topic:c,event:u,payload:d})}return r({})}_binaryDecode(e){const r=new DataView(e),i=r.getUint8(0),a=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,a)}}_decodeUserBroadcast(e,r,i){const a=r.getUint8(1),o=r.getUint8(2),c=r.getUint8(3),u=r.getUint8(4);let d=this.HEADER_LENGTH+4;const f=i.decode(e.slice(d,d+a));d=d+a;const g=i.decode(e.slice(d,d+o));d=d+o;const m=i.decode(e.slice(d,d+c));d=d+c;const w=e.slice(d,e.byteLength),b=u===this.JSON_ENCODING?JSON.parse(i.decode(w)):w,x={type:this.BROADCAST_EVENT,event:g,payload:b};return c>0&&(x.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>r.includes(i)))}}class Ww{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(nt||(nt={}));const Iy=(t,e,r={})=>{var i;const a=(i=r.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((o,c)=>(o[c]=FP(c,t,e,a),o),{}):{}},FP=(t,e,r,i)=>{const a=e.find(u=>u.name===t),o=a==null?void 0:a.type,c=r[t];return o&&!i.includes(o)?Gw(o,c):Ud(c)},Gw=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return WP(e,r)}switch(t){case nt.bool:return VP(e);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return qP(e);case nt.json:case nt.jsonb:return KP(e);case nt.timestamp:return GP(e);case nt.abstime:case nt.date:case nt.daterange:case nt.int4range:case nt.int8range:case nt.money:case nt.reltime:case nt.text:case nt.time:case nt.timestamptz:case nt.timetz:case nt.tsrange:case nt.tstzrange:return Ud(e);default:return Ud(e)}},Ud=t=>t,VP=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},qP=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},KP=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},WP=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,i=t[r];if(t[0]==="{"&&i==="}"){let o;const c=t.slice(1,r);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(u=>Gw(e,u))}return t},GP=t=>typeof t=="string"?t.replace(" ","T"):t,Hw=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Qu{constructor(e,r,i={},a=Md){this.channel=e,this.event=r,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var i;return this._hasReceived(e)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Bd;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Bd||(Bd={}));let Yw=class il{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:o,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=il.syncState(this.state,a,o,c),this.pendingDiffs.forEach(d=>{this.state=il.syncDiff(this.state,d,o,c)}),this.pendingDiffs=[],u()}),this.channel._on(i.diff,{},a=>{const{onJoin:o,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=il.syncDiff(this.state,a,o,c),u())}),this.onJoin((a,o,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:c})}),this.onLeave((a,o,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,i,a){const o=this.cloneDeep(e),c=this.transformState(r),u={},d={};return this.map(o,(f,g)=>{c[f]||(d[f]=g)}),this.map(c,(f,g)=>{const m=o[f];if(m){const w=g.map(E=>E.presence_ref),b=m.map(E=>E.presence_ref),x=g.filter(E=>b.indexOf(E.presence_ref)<0),C=m.filter(E=>w.indexOf(E.presence_ref)<0);x.length>0&&(u[f]=x),C.length>0&&(d[f]=C)}else u[f]=g}),this.syncDiff(o,{joins:u,leaves:d},i,a)}static syncDiff(e,r,i,a){const{joins:o,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(o,(u,d)=>{var f;const g=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(d),g.length>0){const m=e[u].map(b=>b.presence_ref),w=g.filter(b=>m.indexOf(b.presence_ref)<0);e[u].unshift(...w)}i(u,g,d)}),this.map(c,(u,d)=>{let f=e[u];if(!f)return;const g=d.map(m=>m.presence_ref);f=f.filter(m=>g.indexOf(m.presence_ref)<0),e[u]=f,a(u,f,d),f.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(i=>r(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,i)=>{const a=e[i];return"metas"in a?r[i]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[i]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var $d;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})($d||($d={}));var Yi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Yi||(Yi={}));var Mr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Mr||(Mr={}));const HP=St;let Jw=class Qw{constructor(e,r={config:{}},i){var a,o;if(this.topic=e,this.params=r,this.socket=i,this.bindings={},this.state=St.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Qu(this,kr.join,this.params,this.timeout),this.rejoinTimer=new Ww(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=St.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=St.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kr.reply,{},(c,u)=>{this._trigger(this._replyEventName(u),c)}),this.presence=new Yw(this),this.broadcastEndpointURL=Hw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var i,a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==St.closed){const{config:{broadcast:c,presence:u,private:d}}=this.params,f=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(b=>b.filter))!==null&&a!==void 0?a:[],g=!!this.bindings[Yi.PRESENCE]&&this.bindings[Yi.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,m={},w={broadcast:c,presence:Object.assign(Object.assign({},u),{enabled:g}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(Mr.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(Mr.CLOSED)),this.updateJoinPayload(Object.assign({config:w},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var x;if(this.socket.setAuth(),b===void 0){e==null||e(Mr.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,E=(x=C==null?void 0:C.length)!==null&&x!==void 0?x:0,j=[];for(let D=0;D<E;D++){const k=C[D],{filter:{event:A,schema:R,table:M,filter:O}}=k,N=b&&b[D];if(N&&N.event===A&&N.schema===R&&N.table===M&&N.filter===O)j.push(Object.assign(Object.assign({},k),{id:N.id}));else{this.unsubscribe(),this.state=St.errored,e==null||e(Mr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(Mr.SUBSCRIBED);return}}).receive("error",b=>{this.state=St.errored,e==null||e(Mr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Mr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,i){return this.state===St.joined&&e===Yi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,i)}async httpSend(e,r,i={}){var a;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,r={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:c}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,u,d;const f=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=St.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new Qu(this,kr.leave,{},e),i.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=St.closed,this.bindings={}}async _fetchWithTimeout(e,r,i){const a=new AbortController,o=setTimeout(()=>a.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(o),c}_push(e,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Qu(this,e,r,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>BP){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,i){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,i){var a,o;const c=e.toLocaleLowerCase(),{close:u,error:d,leave:f,join:g}=kr;if(i&&[u,d,f,g].indexOf(c)>=0&&i!==this._joinRef())return;let w=this._onMessage(c,r,i);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(b=>{var x,C,E;return((x=b.filter)===null||x===void 0?void 0:x.event)==="*"||((E=(C=b.filter)===null||C===void 0?void 0:C.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===c}).map(b=>b.callback(w,i)):(o=this.bindings[c])===null||o===void 0||o.filter(b=>{var x,C,E,j,D,k;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in b){const A=b.id,R=(x=b.filter)===null||x===void 0?void 0:x.event;return A&&((C=r.ids)===null||C===void 0?void 0:C.includes(A))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const A=(D=(j=b==null?void 0:b.filter)===null||j===void 0?void 0:j.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return A==="*"||A===((k=r==null?void 0:r.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===c}).map(b=>{if(typeof w=="object"&&"ids"in w){const x=w.data,{schema:C,table:E,commit_timestamp:j,type:D,errors:k}=x;w=Object.assign(Object.assign({},{schema:C,table:E,commit_timestamp:j,eventType:D,new:{},old:{},errors:k}),this._getPayloadRecords(x))}b.callback(w,i)})}_isClosed(){return this.state===St.closed}_isJoined(){return this.state===St.joined}_isJoining(){return this.state===St.joining}_isLeaving(){return this.state===St.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,i){const a=e.toLocaleLowerCase(),o={type:a,filter:r,callback:i};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(e,r){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&Qw.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const i in e)if(e[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(kr.close,{},e)}_onError(e){this._on(kr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=St.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Iy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Iy(e.columns,e.old_record)),r}};const Xu=()=>{},Yo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},YP=[1e3,2e3,5e3,1e4],JP=1e4,QP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let XP=class{constructor(e,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Md,this.transport=null,this.heartbeatIntervalMs=Yo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xu,this.ref=0,this.reconnectTimer=null,this.vsn=Ny,this.logger=Xu,this.conn=null,this.sendBuffer=[],this.serializer=new $P,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...o)=>a(...o):(...o)=>fetch(...o),!(!((i=r==null?void 0:r.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${zd.websocket}`,this.httpEndpoint=Hw(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,i){this.logger(e,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ai.connecting:return oi.Connecting;case ai.open:return oi.Open;case ai.closing:return oi.Closing;default:return oi.Closed}}isConnected(){return this.connectionState()===oi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(o=>o.topic===i);if(a)return a;{const o=new Jw(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:i,payload:a,ref:o}=e,c=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${i} (${o})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(UP,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Yo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:o,ref:c}=r,u=c?`(${c})`:"",d=o.status||"";this.log("receive",`${d} ${i} ${a} ${u}`.trim(),o),this.channels.filter(f=>f._isMember(i)).forEach(f=>f._trigger(a,o,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ai.open||this.conn.readyState===ai.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(kr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${i}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const i=new Blob([QP],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:MP};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(kr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Ww(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,i,a,o,c,u,d,f,g,m,w,b;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:Md,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Yo.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:Xu,this.vsn=(d=e==null?void 0:e.vsn)!==null&&d!==void 0?d:Ny,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(x=>YP[x-1]||JP),this.vsn){case Kw:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:((x,C)=>C(JSON.stringify(x))),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:((x,C)=>C(JSON.parse(x)));break;case zP:this.encode=(w=e==null?void 0:e.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const ZP=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:HP,get REALTIME_LISTEN_TYPES(){return Yi},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return $d},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Bd},get REALTIME_SUBSCRIBE_STATES(){return Mr},RealtimeChannel:Jw,RealtimeClient:XP,RealtimePresence:Yw,WebSocketFactory:qw},Symbol.toStringTag,{value:"Module"})),Xw=xa(ZP);class Ta extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ct(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Zw extends Ta{constructor(e,r,i){super(e),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xl extends Ta{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const $h=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),eA=()=>Response,Fd=t=>{if(Array.isArray(t))return t.map(r=>Fd(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,i])=>{const a=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[a]=Fd(i)}),e},tA=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},rA=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Zu=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},nA=(t,e,r)=>Ce(void 0,void 0,void 0,function*(){const i=yield eA();t instanceof i&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{const o=t.status||500,c=(a==null?void 0:a.statusCode)||o+"";e(new Zw(Zu(a),o,c))}).catch(a=>{e(new xl(Zu(a),a))}):e(new xl(Zu(t),t))}),iA=(t,e,r,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!i?a:(tA(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(i)):a.body=i,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function Pa(t,e,r,i,a,o){return Ce(this,void 0,void 0,function*(){return new Promise((c,u)=>{t(r,iA(e,i,a,o)).then(d=>{if(!d.ok)throw d;return i!=null&&i.noResolveJson?d:d.json()}).then(d=>c(d)).catch(d=>nA(d,u,i))})})}function wa(t,e,r,i){return Ce(this,void 0,void 0,function*(){return Pa(t,"GET",e,r,i)})}function Sr(t,e,r,i,a){return Ce(this,void 0,void 0,function*(){return Pa(t,"POST",e,i,a,r)})}function Vd(t,e,r,i,a){return Ce(this,void 0,void 0,function*(){return Pa(t,"PUT",e,i,a,r)})}function sA(t,e,r,i){return Ce(this,void 0,void 0,function*(){return Pa(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function Fh(t,e,r,i,a){return Ce(this,void 0,void 0,function*(){return Pa(t,"DELETE",e,i,a,r)})}class aA{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Ce(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ct(e))return{data:null,error:e};throw e}})}}var e_;class oA{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[e_]="BlobDownloadBuilder",this.promise=null}asStream(){return new aA(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ce(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ct(e))return{data:null,error:e};throw e}})}}e_=Symbol.toStringTag;const lA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Dy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cA{constructor(e,r={},i,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=i,this.fetch=$h(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,i,a){return Ce(this,void 0,void 0,function*(){try{let o;const c=Object.assign(Object.assign({},Dy),a);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const d=c.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.has("cacheControl")||o.append("cacheControl",c.cacheControl),d&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(d))):(o=i,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!c.duplex&&(c.duplex="half")),a!=null&&a.headers&&(u=Object.assign(Object.assign({},u),a.headers));const f=this._removeEmptyFolders(r),g=this._getFinalPath(f),m=yield(e=="PUT"?Vd:Sr)(this.fetch,`${this.url}/object/${g}`,o,Object.assign({headers:u},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}upload(e,r,i){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,i)})}uploadToSignedUrl(e,r,i,a){return Ce(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),c=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${c}`);u.searchParams.set("token",r);try{let d;const f=Object.assign({upsert:Dy.upsert},a),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.append("cacheControl",f.cacheControl)):(d=i,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType);const m=yield Vd(this.fetch,u.toString(),d,{headers:g});return{data:{path:o,fullPath:m.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ct(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,r){return Ce(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const o=yield Sr(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),c=new URL(this.url+o.url),u=c.searchParams.get("token");if(!u)throw new Ta("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:u},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}update(e,r,i){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,i)})}move(e,r,i){return Ce(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}})}copy(e,r,i){return Ce(this,void 0,void 0,function*(){try{return{data:{path:(yield Sr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,i){return Ce(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),o=yield Sr(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,i){return Ce(this,void 0,void 0,function*(){try{const a=yield Sr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}})}download(e,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),c=o?`?${o}`:"",u=this._getFinalPath(e),d=()=>wa(this.fetch,`${this.url}/${a}/${u}${c}`,{headers:this.headers,noResolveJson:!0});return new oA(d,this.shouldThrowOnError)}info(e){return Ce(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const i=yield wa(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Fd(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}exists(e){return Ce(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield sA(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i)&&i instanceof xl){const a=i.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,r){const i=this._getFinalPath(e),a=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&a.push(o);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});d!==""&&a.push(d);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${i}${f}`)}}}remove(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield Fh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}list(e,r,i){return Ce(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},lA),r),{prefix:e||""});return{data:yield Sr(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}})}listV2(e,r){return Ce(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Sr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const t_="2.86.2",r_={"X-Client-Info":`storage-js/${t_}`};class uA{constructor(e,r={},i,a){this.shouldThrowOnError=!1;const o=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r_),r),this.fetch=$h(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Ce(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield wa(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}getBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield wa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}createBucket(e){return Ce(this,arguments,void 0,function*(r,i={public:!1}){try{return{data:yield Sr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}})}updateBucket(e,r){return Ce(this,void 0,void 0,function*(){try{return{data:yield Vd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield Fh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var _a=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function dA(t,e,r){const i=new URL(e,t);if(r)for(const[a,o]of Object.entries(r))o!==void 0&&i.searchParams.set(a,o);return i.toString()}async function hA(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function fA(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:a,body:o,headers:c}){const u=dA(t.baseUrl,i,a),d=await hA(t.auth),f=await e(u,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...d,...c},body:o?JSON.stringify(o):void 0}),g=await f.text(),m=(f.headers.get("content-type")||"").includes("application/json"),w=m&&g?JSON.parse(g):g;if(!f.ok){const b=m?w:void 0,x=b==null?void 0:b.error;throw new _a((x==null?void 0:x.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:b})}return{status:f.status,headers:f.headers,data:w}}}}function Jo(t){return t.join("")}var pA=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Jo(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Jo(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Jo(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Jo(t.namespace)}`}),!0}catch(e){if(e instanceof _a&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof _a&&r.status===409)return;throw r}}};function Mi(t){return t.join("")}var mA=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Mi(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Mi(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Mi(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Mi(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Mi(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Mi(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof _a&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof _a&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},gA=class{constructor(t){var i;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=fA({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(i=t.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new pA(this.client,e),this.tableOps=new mA(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class n_{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r_),r),this.fetch=$h(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}listBuckets(e){return Ce(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const i=r.toString(),a=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield wa(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield Fh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}from(e){if(!rA(e))throw new Ta("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new gA({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>Ce(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Vh={"X-Client-Info":`storage-js/${t_}`,"Content-Type":"application/json"};class qh extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Xt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class sl extends qh{constructor(e,r,i){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class i_ extends qh{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var qd;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(qd||(qd={}));const Fl=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),yA=()=>Response,s_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},vA=t=>Array.from(new Float32Array(t)),wA=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},Ly=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_A=(t,e,r)=>Ce(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const a=t.status||500,o=t;if(typeof o.json=="function")o.json().then(c=>{const u=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||a+"";e(new sl(Ly(c),a,u))}).catch(()=>{const c=a+"",u=o.statusText||`HTTP ${a} error`;e(new sl(u,a,c))});else{const c=a+"",u=o.statusText||`HTTP ${a} error`;e(new sl(u,a,c))}}else e(new i_(Ly(t),t))}),bA=(t,e,r,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return i?(s_(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(i)):a.body=i,Object.assign(Object.assign({},a),r)):a};function xA(t,e,r,i,a,o){return Ce(this,void 0,void 0,function*(){return new Promise((c,u)=>{t(r,bA(e,i,a,o)).then(d=>{if(!d.ok)throw d;if(i!=null&&i.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>c(d)).catch(d=>_A(d,u,i))})})}function nr(t,e,r,i,a){return Ce(this,void 0,void 0,function*(){return xA(t,"POST",e,i,a,r)})}class a_{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vh),r),this.fetch=Fl(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Ce(this,void 0,void 0,function*(){try{return{data:(yield nr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Ce(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}listIndexes(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Ce(this,void 0,void 0,function*(){try{return{data:(yield nr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}}class o_{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vh),r),this.fetch=Fl(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Ce(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield nr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}getVectors(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}listVectors(e){return Ce(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield nr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}queryVectors(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Ce(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield nr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}}class l_{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vh),r),this.fetch=Fl(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:(yield nr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}getBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}listBuckets(){return Ce(this,arguments,void 0,function*(e={}){try{return{data:yield nr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:(yield nr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}}class c_ extends l_{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new u_(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ce(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ce(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ce(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ce(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class u_ extends a_{constructor(e,r,i,a){super(e,r,a),this.vectorBucketName=i}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ce(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ce(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ce(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ce(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new d_(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class d_ extends o_{constructor(e,r,i,a,o){super(e,r,o),this.vectorBucketName=i,this.indexName=a}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ce(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ce(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ce(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ce(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ce(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class SA extends uA{constructor(e,r={},i,a){super(e,r,i,a)}from(e){return new cA(this.url,this.headers,e,this.fetch)}get vectors(){return new c_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new n_(this.url+"/iceberg",this.headers,this.fetch)}}const kA=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:n_,StorageApiError:Zw,StorageClient:SA,StorageError:Ta,StorageUnknownError:xl,StorageVectorsApiError:sl,StorageVectorsClient:c_,StorageVectorsError:qh,get StorageVectorsErrorCode(){return qd},StorageVectorsUnknownError:i_,VectorBucketApi:l_,VectorBucketScope:u_,VectorDataApi:o_,VectorIndexApi:a_,VectorIndexScope:d_,isPlainObject:s_,isStorageError:ct,isStorageVectorsError:Xt,normalizeToFloat32:vA,resolveFetch:Fl,resolveResponse:yA,validateVectorDimension:wA},Symbol.toStringTag,{value:"Module"})),CA=xa(kA);var ed={},Hs={},My;function EA(){return My||(My=1,Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.version=void 0,Hs.version="2.86.2"),Hs}var zy;function TA(){return zy||(zy=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=EA();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(ed)),ed}var td={},Uy;function PA(){return Uy||(Uy=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=a=>a?(...o)=>a(...o):(...o)=>fetch(...o);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const i=(a,o,c)=>{const u=(0,t.resolveFetch)(c),d=(0,t.resolveHeadersConstructor)();return async(f,g)=>{var m;const w=(m=await o())!==null&&m!==void 0?m:a;let b=new d(g==null?void 0:g.headers);return b.has("apikey")||b.set("apikey",a),b.has("Authorization")||b.set("Authorization",`Bearer ${w}`),u(f,Object.assign(Object.assign({},g),{headers:b}))}};t.fetchWithAuth=i})(td)),td}var Xr={},By;function AA(){if(By)return Xr;By=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.isBrowser=void 0,Xr.uuid=t,Xr.ensureTrailingSlash=e,Xr.applySettingDefaults=i,Xr.validateSupabaseUrl=a;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var c=Math.random()*16|0,u=o=="x"?c:c&3|8;return u.toString(16)})}function e(o){return o.endsWith("/")?o:o+"/"}const r=()=>typeof window<"u";Xr.isBrowser=r;function i(o,c){var u,d;const{db:f,auth:g,realtime:m,global:w}=o,{db:b,auth:x,realtime:C,global:E}=c,j={db:Object.assign(Object.assign({},b),f),auth:Object.assign(Object.assign({},x),g),realtime:Object.assign(Object.assign({},C),m),storage:{},global:Object.assign(Object.assign(Object.assign({},E),w),{headers:Object.assign(Object.assign({},(u=E==null?void 0:E.headers)!==null&&u!==void 0?u:{}),(d=w==null?void 0:w.headers)!==null&&d!==void 0?d:{})}),accessToken:async()=>""};return o.accessToken?j.accessToken=o.accessToken:delete j.accessToken,j}function a(o){const c=o==null?void 0:o.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Xr}var Ys={};const h_="2.86.2",Fi=30*1e3,Kd=3,rd=Kd*Fi,RA="http://localhost:9999",jA="supabase.auth.token",OA={"X-Client-Info":`gotrue-js/${h_}`},Wd="X-Supabase-Api-Version",f_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},NA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,IA=600*1e3;let ns=class extends Error{constructor(e,r,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}};function Re(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let p_=class extends ns{constructor(e,r,i){super(e,r,i),this.name="AuthApiError",this.status=r,this.code=i}};function m_(t){return Re(t)&&t.name==="AuthApiError"}let An=class extends ns{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},sn=class extends ns{constructor(e,r,i,a){super(e,i,a),this.name=r,this.status=i}},Qt=class extends sn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function g_(t){return Re(t)&&t.name==="AuthSessionMissingError"}let ri=class extends sn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},ia=class extends sn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},sa=class extends sn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function y_(t){return Re(t)&&t.name==="AuthImplicitGrantRedirectError"}let Gd=class extends sn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Sl=class extends sn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function al(t){return Re(t)&&t.name==="AuthRetryableFetchError"}let Hd=class extends sn{constructor(e,r,i){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}};function DA(t){return Re(t)&&t.name==="AuthWeakPasswordError"}let kl=class extends sn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const Cl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$y=` 	
\r=`.split(""),LA=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<$y.length;e+=1)t[$y[e].charCodeAt(0)]=-2;for(let e=0;e<Cl.length;e+=1)t[Cl[e].charCodeAt(0)]=e;return t})();function Fy(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(Cl[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(Cl[i]),e.queuedBits-=6}}function v_(t,e,r){const i=LA[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Vy(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=c=>{UA(c,i,r)};for(let c=0;c<t.length;c+=1)v_(t.charCodeAt(c),a,o);return e.join("")}function MA(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function zA(t,e){for(let r=0;r<t.length;r+=1){let i=t.charCodeAt(r);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}MA(i,e)}}function UA(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ji(t){const e=[],r={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)v_(t.charCodeAt(a),r,i);return new Uint8Array(e)}function BA(t){const e=[];return zA(t,r=>e.push(r)),new Uint8Array(e)}function ci(t){const e=[],r={queue:0,queuedBits:0},i=a=>{e.push(a)};return t.forEach(a=>Fy(a,r,i)),Fy(null,r,i),e.join("")}function $A(t){return Math.round(Date.now()/1e3)+t}function FA(){return Symbol("auth-callback")}const Nt=()=>typeof window<"u"&&typeof document<"u",Xn={tested:!1,writable:!1},w_=()=>{if(!Nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xn.tested)return Xn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Xn.tested=!0,Xn.writable=!0}catch{Xn.tested=!0,Xn.writable=!1}return Xn.writable};function VA(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,o)=>{e[o]=a})}catch{}return r.searchParams.forEach((i,a)=>{e[a]=i}),e}const __=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),qA=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Vi=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Zn=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ot=async(t,e)=>{await t.removeItem(e)};class Vl{constructor(){this.promise=new Vl.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Vl.promiseConstructor=Promise;function nd(t){const e=t.split(".");if(e.length!==3)throw new kl("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!NA.test(e[i]))throw new kl("JWT not in base64url format");return{header:JSON.parse(Vy(e[0])),payload:JSON.parse(Vy(e[1])),signature:Ji(e[2]),raw:{header:e[0],payload:e[1]}}}async function KA(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function WA(t,e){return new Promise((i,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await t(o);if(!e(o,null,c)){i(c);return}}catch(c){if(!e(o,c)){a(c);return}}})()})}function GA(t){return("0"+t.toString(16)).substr(-2)}function HA(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let a="";for(let o=0;o<56;o++)a+=r.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,GA).join("")}async function YA(t){const r=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(i);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function JA(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await YA(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zi(t,e,r=!1){const i=HA();let a=i;r&&(a+="/PASSWORD_RECOVERY"),await Vi(t,`${e}-code-verifier`,a);const o=await JA(i);return[o,i===o?"plain":"s256"]}const QA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function XA(t){const e=t.headers.get(Wd);if(!e||!e.match(QA))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ZA(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function eR(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const tR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ui(t){if(!tR.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function id(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rR(t,e){return new Proxy(t,{get:(r,i,a)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,a)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,i,a)}})}function qy(t){return JSON.parse(JSON.stringify(t))}const ni=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nR=[502,503,504];async function Ky(t){var e;if(!qA(t))throw new Sl(ni(t),0);if(nR.includes(t.status))throw new Sl(ni(t),t.status);let r;try{r=await t.json()}catch(o){throw new An(ni(o),o)}let i;const a=XA(t);if(a&&a.getTime()>=f_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new Hd(ni(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Qt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new Hd(ni(r),t.status,r.weak_password.reasons);throw new p_(ni(r),t.status||500,i)}const iR=(t,e,r,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),r))};async function De(t,e,r,i){var a;const o=Object.assign({},i==null?void 0:i.headers);o[Wd]||(o[Wd]=f_["2024-01-01"].name),i!=null&&i.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const c=(a=i==null?void 0:i.query)!==null&&a!==void 0?a:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",d=await sR(t,e,r+u,{headers:o,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(d):{data:Object.assign({},d),error:null}}async function sR(t,e,r,i,a,o){const c=iR(e,i,a,o);let u;try{u=await t(r,Object.assign({},c))}catch(d){throw console.error(d),new Sl(ni(d),0)}if(u.ok||await Ky(u),i!=null&&i.noResolveJson)return u;try{return await u.json()}catch(d){await Ky(d)}}function br(t){var e;let r=null;lR(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=$A(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:i},error:null}}function Wy(t){const e=br(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Rn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function aR(t){return{data:t,error:null}}function oR(t){const{action_link:e,email_otp:r,hashed_token:i,redirect_to:a,verification_type:o}=t,c=ls(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:i,redirect_to:a,verification_type:o},d=Object.assign({},c);return{data:{properties:u,user:d},error:null}}function Gy(t){return t}function lR(t){return t.access_token&&t.refresh_token&&t.expires_in}const ol=["global","local","others"];let Kh=class{constructor({url:e="",headers:r={},fetch:i}){this.url=e,this.headers=r,this.fetch=__(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=ol[0]){if(ol.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ol.join(", ")}`);try{return await De(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Re(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,r={}){try{return await De(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Rn})}catch(i){if(Re(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:r}=e,i=ls(e,["options"]),a=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(a.new_email=i==null?void 0:i.newEmail,delete a.newEmail),await De(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:oR,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Re(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await De(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Rn})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,i,a,o,c,u,d;try{const f={nextPage:null,lastPage:0,total:0},g=await De(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Gy});if(g.error)throw g.error;const m=await g.json(),w=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(d=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(x=>{const C=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(x.split(";")[1].split("=")[1]);f[`${E}Page`]=C}),f.total=parseInt(w)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Re(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Ui(e);try{return await De(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Rn})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Ui(e);try{return await De(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Rn})}catch(i){if(Re(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,r=!1){Ui(e);try{return await De(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Rn})}catch(i){if(Re(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Ui(e.userId);try{const{data:r,error:i}=await De(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:i}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Ui(e.userId),Ui(e.id);try{return{data:await De(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,i,a,o,c,u,d;try{const f={nextPage:null,lastPage:0,total:0},g=await De(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Gy});if(g.error)throw g.error;const m=await g.json(),w=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(d=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(x=>{const C=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(x.split(";")[1].split("=")[1]);f[`${E}Page`]=C}),f.total=parseInt(w)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Re(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await De(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await De(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Re(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await De(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}};function Hy(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ii={debug:!!(globalThis&&w_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Wh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let b_=class extends Wh{};class cR extends Wh{}async function x_(t,e,r){ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),ii.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new b_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ii.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const Yy={};async function uR(t,e,r){var i;const a=(i=Yy[t])!==null&&i!==void 0?i:Promise.resolve(),o=Promise.race([a.catch(()=>null),e>=0?new Promise((c,u)=>{setTimeout(()=>{u(new cR(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await r());return Yy[t]=o.catch(async c=>{if(c&&c.isAcquireTimeout)return await a,null;throw c}),await o}function dR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function S_(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function hR(t){return parseInt(t,16)}function fR(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function pR(t){var e;const{chainId:r,domain:i,expirationTime:a,issuedAt:o=new Date,nonce:c,notBefore:u,requestId:d,resources:f,scheme:g,uri:m,version:w}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=S_(t.address),x=g?`${g}://${i}`:i,C=t.statement?`${t.statement}
`:"",E=`${x} wants you to sign in with your Ethereum account:
${b}

${C}`;let j=`URI: ${m}
Version: ${w}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(a&&(j+=`
Expiration Time: ${a.toISOString()}`),u&&(j+=`
Not Before: ${u.toISOString()}`),d&&(j+=`
Request ID: ${d}`),f){let D=`
Resources:`;for(const k of f){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);D+=`
- ${k}`}j+=D}return`${E}
${j}`}class kt extends Error{constructor({message:e,code:r,cause:i,name:a}){var o;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(o=a??(i instanceof Error?i.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class El extends kt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function mR({error:t,options:e}){var r,i,a;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new kt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new kt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new kt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new kt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new kt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new kt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new kt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new kt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(k_(c)){if(o.rp.id!==c)return new kt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new kt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new kt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function gR({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new kt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new kt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(k_(i)){if(r.rpId!==i)return new kt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new kt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class yR{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const vR=new yR;function wR(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:i}=t,a=ls(t,["challenge","user","excludeCredentials"]),o=Ji(e).buffer,c=Object.assign(Object.assign({},r),{id:Ji(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:o,user:c});if(i&&i.length>0){u.excludeCredentials=new Array(i.length);for(let d=0;d<i.length;d++){const f=i[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Ji(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function _R(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,i=ls(t,["challenge","allowCredentials"]),a=Ji(e).buffer,o=Object.assign(Object.assign({},i),{challenge:a});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];o.allowCredentials[c]=Object.assign(Object.assign({},u),{id:Ji(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function bR(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:ci(new Uint8Array(t.response.attestationObject)),clientDataJSON:ci(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function xR(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,i=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ci(new Uint8Array(a.authenticatorData)),clientDataJSON:ci(new Uint8Array(a.clientDataJSON)),signature:ci(new Uint8Array(a.signature)),userHandle:a.userHandle?ci(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function k_(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Jy(){var t,e;return!!(Nt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function SR(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new El("Browser returned unexpected credential type",e)}:{data:null,error:new El("Empty credential response",e)}}catch(e){return{data:null,error:mR({error:e,options:t})}}}async function kR(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new El("Browser returned unexpected credential type",e)}:{data:null,error:new El("Empty credential response",e)}}catch(e){return{data:null,error:gR({error:e,options:t})}}}const CR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ER={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Tl(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of t)if(a)for(const o in a){const c=a[o];if(c!==void 0)if(Array.isArray(c))i[o]=c;else if(r(c))i[o]=c;else if(e(c)){const u=i[o];e(u)?i[o]=Tl(u,c):i[o]=Tl(c)}else i[o]=c}return i}function TR(t,e){return Tl(CR,t,e||{})}function PR(t,e){return Tl(ER,t,e||{})}class AR{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:i,signal:a},o){try{const{data:c,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:u};const d=a??vR.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:f}=c.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${i}`),f.displayName||(f.displayName=f.name)}switch(c.webauthn.type){case"create":{const f=TR(c.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:g,error:m}=await SR({publicKey:f,signal:d});return g?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:m}}case"request":{const f=PR(c.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:g,error:m}=await kR(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:f,signal:d}));return g?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:m}}}}catch(c){return Re(c)?{data:null,error:c}:{data:null,error:new An("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!r)return{data:null,error:new ns("rpId is required for WebAuthn authentication")};try{if(!Jy())return{data:null,error:new An("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:i},signal:a},{request:o});if(!c)return{data:null,error:u};const{webauthn:d}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:i,credential_response:d.credential_response}})}catch(c){return Re(c)?{data:null,error:c}:{data:null,error:new An("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!r)return{data:null,error:new ns("rpId is required for WebAuthn registration")};try{if(!Jy())return{data:null,error:new An("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(g=>{var m;return(m=g.data)===null||m===void 0?void 0:m.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:a},{create:o});return d?this._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:i,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(c){return Re(c)?{data:null,error:c}:{data:null,error:new An("Unexpected error in register",c)}}}}dR();const RR={url:RA,storageKey:jA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:OA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Qy(t,e,r){return await r()}const Bi={};let Gh=class Yd{get jwks(){var e,r;return(r=(e=Bi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Bi[this.storageKey]=Object.assign(Object.assign({},Bi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Bi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Bi[this.storageKey]=Object.assign(Object.assign({},Bi[this.storageKey]),{cachedAt:e})}constructor(e){var r,i,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},RR),e);if(this.storageKey=o.storageKey,this.instanceID=(r=Yd.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Yd.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Nt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Kh({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=__(o.fetch),this.lock=o.lock||Qy,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:Nt()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=x_:this.lock=Qy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new AR(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:w_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Hy(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Hy(this.memoryStorage)),Nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${h_}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},i="none";if(Nt()&&(r=VA(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),Nt()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:o}=await this._getSessionFromURL(r,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),y_(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Re(r)?this._returnResult({error:r}):this._returnResult({error:new An("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,i,a;try{const o=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:br}),{data:c,error:u}=o;if(u||!c)return this._returnResult({data:{user:null,session:null},error:u});const d=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(Re(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,i,a;try{let o;if("email"in e){const{email:g,password:m,options:w}=e;let b=null,x=null;this.flowType==="pkce"&&([b,x]=await zi(this.storage,this.storageKey)),o=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:g,password:m,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:b,code_challenge_method:x},xform:br})}else if("phone"in e){const{phone:g,password:m,options:w}=e;o=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:m,data:(i=w==null?void 0:w.data)!==null&&i!==void 0?i:{},channel:(a=w==null?void 0:w.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:br})}else throw new ia("You must provide either an email or phone number and a password");const{data:c,error:u}=o;if(u||!c)return await Ot(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),Re(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:c,options:u}=e;r=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Wy})}else if("phone"in e){const{phone:o,password:c,options:u}=e;r=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Wy})}else throw new ia("You must provide either an email or phone number and a password");const{data:i,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!i||!i.session||!i.user){const o=new ri;return this._returnResult({data:{user:null,session:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(r){if(Re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,i,a,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,i,a,o,c,u,d,f,g,m,w;let b,x;if("message"in e)b=e.message,x=e.signature;else{const{chain:C,wallet:E,statement:j,options:D}=e;let k;if(Nt())if(typeof E=="object")k=E;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")k=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=E}const A=new URL((r=D==null?void 0:D.url)!==null&&r!==void 0?r:window.location.href),R=await k.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=S_(R[0]);let O=(i=D==null?void 0:D.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!O){const K=await k.request({method:"eth_chainId"});O=hR(K)}const N={domain:A.host,address:M,statement:j,uri:A.href,version:"1",chainId:O,nonce:(a=D==null?void 0:D.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(o=D==null?void 0:D.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(u=D==null?void 0:D.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=D==null?void 0:D.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=D==null?void 0:D.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(g=D==null?void 0:D.signInWithEthereum)===null||g===void 0?void 0:g.resources};b=pR(N),x=await k.request({method:"personal_sign",params:[fR(b),M]})}try{const{data:C,error:E}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:x},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:br});if(E)throw E;if(!C||!C.session||!C.user){const j=new ri;return this._returnResult({data:{user:null,session:null},error:j})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:E})}catch(C){if(Re(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(e){var r,i,a,o,c,u,d,f,g,m,w,b;let x,C;if("message"in e)x=e.message,C=e.signature;else{const{chain:E,wallet:j,statement:D,options:k}=e;let A;if(Nt())if(typeof j=="object")A=j;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))A=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=j}const R=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const M=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),D?{statement:D}:null));let O;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")O=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)O=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)x=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),C=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${R.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(a=(i=k==null?void 0:k.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=k==null?void 0:k.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((c=k==null?void 0:k.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((d=k==null?void 0:k.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((f=k==null?void 0:k.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((m=(g=k==null?void 0:k.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||m===void 0)&&m.length?["Resources",...k.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const M=await A.signMessage(new TextEncoder().encode(x),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=M}}try{const{data:E,error:j}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:ci(C)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:br});if(j)throw j;if(!E||!E.session||!E.user){const D=new ri;return this._returnResult({data:{user:null,session:null},error:D})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:j})}catch(E){if(Re(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const r=await Zn(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(r??"").split("/");try{const{data:o,error:c}=await De(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:br});if(await Ot(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!o||!o.session||!o.user){const u=new ri;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:c})}catch(o){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),Re(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:i,token:a,access_token:o,nonce:c}=e,u=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:br}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const g=new ri;return this._returnResult({data:{user:null,session:null},error:g})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(r){if(Re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,i,a,o,c;try{if("email"in e){const{email:u,options:d}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await zi(this.storage,this.storageKey));const{error:m}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(i=d==null?void 0:d.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:u,options:d}=e,{data:f,error:g}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d==null?void 0:d.data)!==null&&a!==void 0?a:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(c=d==null?void 0:d.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:g})}throw new ia("You must provide either an email or phone number.")}catch(u){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),Re(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var r,i;try{let a,o;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:u}=await De(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:br});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const d=c.session,f=c.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(Re(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var r,i,a,o,c;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await zi(this.storage,this.storageKey));const f=await De(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:aR});return!((o=f.data)===null||o===void 0)&&o.url&&Nt()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),Re(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new Qt;const{error:a}=await De(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(Re(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:o}=e,{error:c}=await De(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:i,type:a,options:o}=e,{data:c,error:u}=await De(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new ia("You must provide either an email or phone number and a type")}catch(r){if(Re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Zn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<rd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const c=await Zn(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=id()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=rR(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Rn}):await this._useSession(async r=>{var i,a,o;const{data:c,error:u}=r;if(u)throw u;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qt}:await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:Rn})})}catch(r){if(Re(r))return g_(r)&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{const{data:a,error:o}=i;if(o)throw o;if(!a.session)throw new Qt;const c=a.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await zi(this.storage,this.storageKey));const{data:f,error:g}=await De(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:c.access_token,xform:Rn});if(g)throw g;return c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(i){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),Re(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qt;const r=Date.now()/1e3;let i=r,a=!0,o=null;const{payload:c}=nd(e.access_token);if(c.exp&&(i=c.exp,a=i<=r),a){const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(Re(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){const{data:c,error:u}=r;if(u)throw u;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new Qt;const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Nt())throw new sa("No browser detected.");if(e.error||e.error_description||e.error_code)throw new sa(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Gd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sa("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Gd("No code detected.");const{data:D,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:o,refresh_token:c,expires_in:u,expires_at:d,token_type:f}=e;if(!o||!u||!c||!f)throw new sa("No session defined in URL");const g=Math.round(Date.now()/1e3),m=parseInt(u);let w=g+m;d&&(w=parseInt(d));const b=w-g;b*1e3<=Fi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${m}s`);const x=w-m;g-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,w,g):g-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,w,g);const{data:C,error:E}=await this._getUser(o);if(E)throw E;const j={provider_token:i,provider_refresh_token:a,access_token:o,expires_in:m,expires_at:w,refresh_token:c,token_type:f,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:e.type},error:null})}catch(i){if(Re(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Zn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:a,error:o}=r;if(o)return this._returnResult({error:o});const c=(i=a.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:u}=await this.admin.signOut(c,e);if(u&&!(m_(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=FA(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,a;try{const{data:{session:o},error:c}=r;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await zi(this.storage,this.storageKey,!0));try{return await De(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),Re(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:i,error:a}=await this._useSession(async o=>{var c,u,d,f,g;const{data:m,error:w}=o;if(w)throw w;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await De(this.fetch,"GET",b,{headers:this.headers,jwt:(g=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return Nt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(Re(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var i;try{const{error:a,data:{session:o}}=r;if(a)throw a;const{options:c,provider:u,token:d,access_token:f,nonce:g}=e,m=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=o==null?void 0:o.access_token)!==null&&i!==void 0?i:void 0,body:{provider:u,id_token:d,access_token:f,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:br}),{data:w,error:b}=m;return b?this._returnResult({data:{user:null,session:null},error:b}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new ri}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:b}))}catch(a){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),Re(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,a;const{data:o,error:c}=r;if(c)throw c;return await De(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await WA(async a=>(a>0&&await KA(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await De(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:br})),(a,o)=>{const c=200*Math.pow(2,a);return o&&al(o)&&Date.now()+c-i<Fi})}catch(i){if(this._debug(r,"error",i),Re(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),Nt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await Zn(this.storage,this.storageKey);if(a&&this.userStorage){let c=await Zn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await Vi(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:id()}else if(a&&!a.user&&!a.user){const c=await Zn(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(a.user=c.user,await Ot(this.storage,this.storageKey+"-user"),await Vi(this.storage,this.storageKey,a)):a.user=id()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const o=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<rd;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${rd}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),al(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:u}=await this._getUser(a.access_token);!u&&(c!=null&&c.user)?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new Qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Vl;const{data:o,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!o.session)throw new Qt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(a,"error",o),Re(o)){const c={data:null,error:o};return al(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,r)}catch(d){o.push(d)}});if(await Promise.all(c),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ot(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Vi(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const o=qy(a);await Vi(this.storage,this.storageKey,o)}else{const a=qy(r);await Vi(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ot(this.storage,this.storageKey),await Ot(this.storage,this.storageKey+"-code-verifier"),await Ot(this.storage,this.storageKey+"-user"),this.userStorage&&await Ot(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Fi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/Fi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Fi}ms, refresh threshold is ${Kd} ticks`),a<=Kd&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Wh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){const a=[`provider=${encodeURIComponent(r)}`];if(i!=null&&i.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,c]=await zi(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(u.toString())}if(i!=null&&i.queryParams){const o=new URLSearchParams(i.queryParams);a.push(o.toString())}return i!=null&&i.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;const{data:a,error:o}=r;return o?this._returnResult({data:null,error:o}):await De(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,a;const{data:o,error:c}=r;if(c)return this._returnResult({data:null,error:c});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await De(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((a=d==null?void 0:d.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?bR(e.webauthn.credential_response):xR(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:d}=await De(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=await De(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});if(c.error)return c;const{data:u}=c;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:wR(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:_R(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])a.all.push(o),o.status==="verified"&&a[o.factor_type].push(o);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=nd(i.access_token);let c=null;o.aal&&(c=o.aal);let u=c;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const f=o.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;return a?this._returnResult({data:null,error:a}):i?await De(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Qt})})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:a},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new Qt});const c=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&Nt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(i){if(Re(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:a},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new Qt});const c=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&Nt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(i){if(Re(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;return i?this._returnResult({data:null,error:i}):r?await De(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Qt})})}catch(e){if(Re(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;return a?this._returnResult({data:null,error:a}):i?(await De(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Qt})})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let i=r.keys.find(u=>u.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(u=>u.kid===e),i&&this.jwks_cached_at+IA>a)return i;const{data:o,error:c}=await De(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,i=o.keys.find(u=>u.kid===e),!i)?null:i}async getClaims(e,r={}){try{let i=e;if(!i){const{data:b,error:x}=await this.getSession();if(x||!b.session)return this._returnResult({data:null,error:x});i=b.session.access_token}const{header:a,payload:o,signature:c,raw:{header:u,payload:d}}=nd(i);r!=null&&r.allowExpired||ZA(o.exp);const f=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!f){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:o,header:a,signature:c},error:null}}const g=eR(a.alg),m=await crypto.subtle.importKey("jwk",f,g,!0,["verify"]);if(!await crypto.subtle.verify(g,m,c,BA(`${u}.${d}`)))throw new kl("Invalid JWT signature");return{data:{claims:o,header:a,signature:c},error:null}}catch(i){if(Re(i))return this._returnResult({data:null,error:i});throw i}}};Gh.nextInstanceID={};const jR=Kh,OR=Gh,NR=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:jR,AuthApiError:p_,AuthClient:OR,AuthError:ns,AuthImplicitGrantRedirectError:sa,AuthInvalidCredentialsError:ia,AuthInvalidJwtError:kl,AuthInvalidTokenResponseError:ri,AuthPKCEGrantCodeExchangeError:Gd,AuthRetryableFetchError:Sl,AuthSessionMissingError:Qt,AuthUnknownError:An,AuthWeakPasswordError:Hd,CustomAuthError:sn,GoTrueAdminApi:Kh,GoTrueClient:Gh,NavigatorLockAcquireTimeoutError:b_,SIGN_OUT_SCOPES:ol,isAuthApiError:m_,isAuthError:Re,isAuthImplicitGrantRedirectError:y_,isAuthRetryableFetchError:al,isAuthSessionMissingError:g_,isAuthWeakPasswordError:DA,lockInternals:ii,navigatorLock:x_,processLock:uR},Symbol.toStringTag,{value:"Module"})),C_=xa(NR);var Xy;function IR(){if(Xy)return Ys;Xy=1,Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.SupabaseAuthClient=void 0;const t=C_;let e=class extends t.AuthClient{constructor(i){super(i)}};return Ys.SupabaseAuthClient=e,Ys}var Zy;function ev(){if(Zy)return Fo;Zy=1,Object.defineProperty(Fo,"__esModule",{value:!0});const t=Mw,e=Vw(),r=Xw,i=CA,a=TA(),o=PA(),c=AA(),u=IR();class d{constructor(g,m,w){var b,x,C;this.supabaseUrl=g,this.supabaseKey=m;const E=(0,c.validateSupabaseUrl)(g);if(!m)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",E),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",E),this.storageUrl=new URL("storage/v1",E),this.functionsUrl=new URL("functions/v1",E);const j=`sb-${E.hostname.split(".")[0]}-auth-token`,D={db:a.DEFAULT_DB_OPTIONS,realtime:a.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},a.DEFAULT_AUTH_OPTIONS),{storageKey:j}),global:a.DEFAULT_GLOBAL_OPTIONS},k=(0,c.applySettingDefaults)(w??{},D);this.storageKey=(b=k.auth.storageKey)!==null&&b!==void 0?b:"",this.headers=(x=k.global.headers)!==null&&x!==void 0?x:{},k.accessToken?(this.accessToken=k.accessToken,this.auth=new Proxy({},{get:(A,R)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(R)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((C=k.auth)!==null&&C!==void 0?C:{},this.headers,k.global.fetch),this.fetch=(0,o.fetchWithAuth)(m,this._getAccessToken.bind(this),k.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},k.realtime)),this.accessToken&&this.accessToken().then(A=>this.realtime.setAuth(A)).catch(A=>console.warn("Failed to set initial Realtime auth token:",A)),this.rest=new e.PostgrestClient(new URL("rest/v1",E).href,{headers:this.headers,schema:k.db.schema,fetch:this.fetch}),this.storage=new i.StorageClient(this.storageUrl.href,this.headers,this.fetch,w==null?void 0:w.storage),k.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(g){return this.rest.from(g)}schema(g){return this.rest.schema(g)}rpc(g,m={},w={head:!1,get:!1,count:void 0}){return this.rest.rpc(g,m,w)}channel(g,m={config:{}}){return this.realtime.channel(g,m)}getChannels(){return this.realtime.getChannels()}removeChannel(g){return this.realtime.removeChannel(g)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var g,m;if(this.accessToken)return await this.accessToken();const{data:w}=await this.auth.getSession();return(m=(g=w.session)===null||g===void 0?void 0:g.access_token)!==null&&m!==void 0?m:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:g,persistSession:m,detectSessionInUrl:w,storage:b,userStorage:x,storageKey:C,flowType:E,lock:j,debug:D,throwOnError:k},A,R){const M={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},M),A),storageKey:C,autoRefreshToken:g,persistSession:m,detectSessionInUrl:w,storage:b,userStorage:x,flowType:E,lock:j,debug:D,throwOnError:k,fetch:R,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(g){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},g),{params:Object.assign({apikey:this.supabaseKey},g==null?void 0:g.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((m,w)=>{this._handleTokenChanged(m,"CLIENT",w==null?void 0:w.access_token)})}_handleTokenChanged(g,m,w){(g==="TOKEN_REFRESHED"||g==="SIGNED_IN")&&this.changedAccessToken!==w?(this.changedAccessToken=w,this.realtime.setAuth(w)):g==="SIGNED_OUT"&&(this.realtime.setAuth(),m=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Fo.default=d,Fo}var tv;function DR(){return tv||(tv=1,(function(t){var e=Qr&&Qr.__createBinding||(Object.create?(function(g,m,w,b){b===void 0&&(b=w);var x=Object.getOwnPropertyDescriptor(m,w);(!x||("get"in x?!m.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return m[w]}}),Object.defineProperty(g,b,x)}):(function(g,m,w,b){b===void 0&&(b=w),g[b]=m[w]})),r=Qr&&Qr.__exportStar||function(g,m){for(var w in g)w!=="default"&&!Object.prototype.hasOwnProperty.call(m,w)&&e(m,g,w)},i=Qr&&Qr.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const a=i(ev());r(C_,t);var o=Vw();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return o.PostgrestError}});var c=Mw;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),r(Xw,t);var u=ev();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return i(u).default}});const d=(g,m,w)=>new a.default(g,m,w);t.createClient=d;function f(){if(typeof window<"u"||typeof process>"u")return!1;const g=process.version;if(g==null)return!1;const m=g.match(/^v(\d+)\./);return m?parseInt(m[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Qr)),Qr}var E_=DR();const T_=Rl(E_),LR=gv({__proto__:null,default:T_},[E_]),{PostgrestError:_O,FunctionsHttpError:bO,FunctionsFetchError:xO,FunctionsRelayError:SO,FunctionsError:kO,FunctionRegion:CO,SupabaseClient:EO,createClient:MR,GoTrueAdminApi:TO,GoTrueClient:PO,AuthAdminApi:AO,AuthClient:RO,navigatorLock:jO,NavigatorLockAcquireTimeoutError:OO,lockInternals:NO,processLock:IO,SIGN_OUT_SCOPES:DO,AuthError:LO,AuthApiError:MO,AuthUnknownError:zO,CustomAuthError:UO,AuthSessionMissingError:BO,AuthInvalidTokenResponseError:$O,AuthInvalidCredentialsError:FO,AuthImplicitGrantRedirectError:VO,AuthPKCEGrantCodeExchangeError:qO,AuthRetryableFetchError:KO,AuthWeakPasswordError:WO,AuthInvalidJwtError:GO,isAuthError:HO,isAuthApiError:YO,isAuthSessionMissingError:JO,isAuthImplicitGrantRedirectError:QO,isAuthRetryableFetchError:XO,isAuthWeakPasswordError:ZO,RealtimePresence:eN,RealtimeChannel:tN,RealtimeClient:rN,REALTIME_LISTEN_TYPES:nN,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:iN,REALTIME_PRESENCE_LISTEN_EVENTS:sN,REALTIME_SUBSCRIBE_STATES:aN,REALTIME_CHANNEL_STATES:oN}=T_||LR,Qi={},P_=(Qi==null?void 0:Qi.VITE_SUPABASE_URL)||"https://uwslxmciglqxpvfbgjzm.supabase.co",A_=(Qi==null?void 0:Qi.VITE_SUPABASE_ANON_KEY)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV3c2x4bWNpZ2xxeHB2ZmJnanptIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQzMzU3NDcsImV4cCI6MjA3OTkxMTc0N30.Pzk2Zrp08-f93VoApIj6QjWx_9nEQSkZFRU_t1UX_ow",sd=P_,rv=A_,U=MR(P_,A_,{auth:{autoRefreshToken:!1,persistSession:!1,detectSessionInUrl:!1,storage:void 0,flowType:"pkce"},realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Client-Info":"yolmov-web"}}});function Hh(){if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")try{return crypto.randomUUID()}catch{}if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"){const t=new Uint8Array(16);crypto.getRandomValues(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128;const e=Array.from(t,r=>r.toString(16).padStart(2,"0")).join("");return`${e.slice(0,8)}-${e.slice(8,12)}-${e.slice(12,16)}-${e.slice(16,20)}-${e.slice(20)}`}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}const se=(t,e)=>{throw console.error(`[Supabase API Error] ${e}:`,t),new Error(`${e} failed: ${t.message||"Unknown error"}`)},Qe=async()=>{try{const t=localStorage.getItem("yolmov-auth-session"),e=localStorage.getItem("yolmov_admin"),r=localStorage.getItem("yolmov_partner");if(!t&&!e&&!r)return!1;const i=t?JSON.parse(t):null;return e||r?!0:!(i!=null&&i.access_token)||!(i!=null&&i.refresh_token)?(localStorage.removeItem("yolmov-auth-session"),!1):i.expires_at&&new Date(i.expires_at*1e3)<=new Date?(console.log(" Session expired in ensureAuthSession, clearing..."),localStorage.removeItem("yolmov-auth-session"),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"session-expired"}})),!1):(await U.auth.setSession({access_token:i.access_token,refresh_token:i.refresh_token}),!0)}catch(t){return console.warn("ensureAuthSession failed",t),localStorage.removeItem("yolmov-auth-session"),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"session-error"}})),!1}},Yh={signUpCustomer:async(t,e,r)=>{try{if(!r.phone||r.phone.length<10)throw new Error("Telefon numaras gerekli (minimum 10 karakter)");const{data:i,error:a}=await U.auth.signUp({email:t,password:e,options:{emailRedirectTo:`${window.location.origin}/email-dogrulama`,data:{user_type:"customer",first_name:r.firstName,last_name:r.lastName}}});if(a)throw a;if(!i.user)throw new Error("Kullanc oluturulamad");const o={id:i.user.id,first_name:r.firstName||"",last_name:r.lastName||"",phone:r.phone,email:t,avatar_url:r.avatarUrl||null,city:r.city||null,district:r.district||null},{data:c,error:u}=await U.from("customers").insert(o).select().single();if(u){if(console.error(" Customer insert failed, rolling back auth user:",u),await U.auth.admin.deleteUser(i.user.id).catch(()=>{}),u.code==="23505"){if(u.message.includes("phone"))throw new Error("Bu telefon numaras zaten kaytl");if(u.message.includes("email"))throw new Error("Bu email adresi zaten kaytl")}throw u}const d={id:c.id,firstName:c.first_name,lastName:c.last_name,phone:c.phone,email:c.email||void 0,avatarUrl:c.avatar_url||void 0,city:c.city||void 0,district:c.district||void 0,createdAt:c.created_at};return{user:i.user,customer:d,session:i.session}}catch(i){throw se(i,"Customer Sign Up"),i}},signUpPartner:async(t,e,r)=>{var i,a;try{if(!t||!e)throw new Error("Email ve ifre gereklidir");console.log(" signUpPartner started for:",t);const o=window.location.hostname==="localhost"?"http://localhost:3000/api/create-partner-user":"/api/create-partner-user";console.log(" Calling partner creation API...");const c=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.toLowerCase(),password:e,first_name:r.first_name||"",last_name:r.last_name||"",company_name:r.company_name||"",sector:r.sector||null,city:r.city||null,district:r.district||null,phone:r.phone||null,service_types:r.service_types||null,vehicle_count:r.vehicle_count||1,vehicle_types:r.vehicle_types||"Genel Servis Arac"})}),u=await c.json();if(!c.ok)throw console.error(" Partner API error:",u),new Error(u.error||"Partner kayd baarsz");return console.log(" Partner created via API:",u),{user:u.user,partner:u.partner}}catch(o){if(console.error(" signUpPartner error:",o),(i=o.message)!=null&&i.includes("fetch")||(a=o.message)!=null&&a.includes("network")){console.log(" API unavailable, falling back to direct Supabase signup...");const{data:c,error:u}=await U.auth.signUp({email:t,password:e,options:{emailRedirectTo:void 0,data:{user_type:"partner",first_name:r.first_name,last_name:r.last_name}}});if(u)throw u;if(!c.user)throw new Error("Auth kullancs oluturulamad");const d={id:c.user.id,name:r.company_name||`${r.first_name} ${r.last_name}`.trim()||"",first_name:r.first_name||"",last_name:r.last_name||"",company_name:r.company_name||"",tax_number:null,sector:r.sector||null,city:r.city||null,district:r.district||null,phone:r.phone||null,email:t,vehicle_count:r.vehicle_count||1,vehicle_types:r.vehicle_types||"Genel Servis Arac",service_types:r.service_types||null,commercial_registry_url:null,vehicle_license_url:null,status:"pending",rating:0,completed_jobs:0,credits:0},{data:f,error:g}=await U.from("partners").insert(d).select().single();if(g)throw g;return{user:c.user,partner:f}}throw new Error(o.message||"Partner kayd baarsz")}},signInPartner:async(t,e)=>{var r,i;try{if(!t||!e)throw new Error("Email ve ifre gereklidir");const{data:a,error:o}=await U.auth.signInWithPassword({email:t,password:e});if(o)throw(r=o.message)!=null&&r.includes("Email not confirmed")?new Error(` Email dorulamas gerekiyor. Ancak bu sistem admin onay ile alr.

 zm: Admin onaynz bekleyin. Onay sonras giri yapabilirsiniz.

 Acil durum: Destek ekibimizle iletiime gein.`):o;const c=(i=a.user)==null?void 0:i.id;if(!c)throw new Error("Kullanc bulunamad");const{data:u,error:d}=await U.from("partners").select("*").eq("id",c).maybeSingle();if(d)throw d;if(!u)throw new Error("Partner kayd bulunamad");return u.status!=="active"?{user:a.user,session:a.session,partner:u,approved:!1}:{user:a.user,session:a.session,partner:u,approved:!0}}catch(a){throw console.error(" signInPartner error:",a),new Error(a.message||"Partner girii baarsz")}},sendMagicLinkPartner:async t=>{try{if(!t)throw new Error("Email gerekli");const{data:e,error:r}=await U.auth.signInWithOtp({email:t,options:{emailRedirectTo:`${window.location.origin}/partner`,data:{user_type:"partner"}}});if(r)throw r;return e}catch(e){throw console.error(" Partner magic link error:",e),new Error(e.message||"Sihirli link gnderilemedi")}},sendPartnerActivationEmail:async t=>{try{if(!t)throw new Error("Email gerekli");const{data:e,error:r}=await U.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/sifre-olustur`});if(r)throw r;return e}catch(e){throw console.error(" Partner activation email error:",e),new Error(e.message||"Aktivasyon maili gnderilemedi")}},signIn:async(t,e)=>{var r,i,a;try{console.log(" signIn started for:",t);const o=`${sd}/auth/v1/token?grant_type=password`,c=rv;console.log(" Using RAW FETCH to Supabase auth...");const u=Date.now(),d=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",apikey:c,Authorization:`Bearer ${c}`},body:JSON.stringify({email:t,password:e})}),f=Date.now()-u;if(console.log(" Auth response received in",`${f}ms`),!d.ok){const x=await d.json();throw console.error(" Auth failed:",x),(r=x.error_description)!=null&&r.includes("Invalid login credentials")?new Error("Email veya ifre hatal"):(i=x.error_description)!=null&&i.includes("Email not confirmed")?new Error("Email adresinizi dorulamanz gerekiyor. Ltfen mail kutunuzu kontrol edin."):new Error(x.error_description||"Giri baarsz")}const g=await d.json();if(console.log(" Auth successful:",{hasAccessToken:!!g.access_token,hasUser:!!g.user,userId:(a=g.user)==null?void 0:a.id}),!g.user)throw new Error("Kullanc bilgisi alnamad");const m={access_token:g.access_token,refresh_token:g.refresh_token,expires_in:g.expires_in,expires_at:g.expires_at,user:g.user};localStorage.setItem("yolmov-auth-session",JSON.stringify(m)),console.log(" Session saved to localStorage"),await U.auth.setSession({access_token:g.access_token,refresh_token:g.refresh_token}),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"login",session:m}})),console.log(" Checking customer record...");const b=await(await fetch(`${sd}/rest/v1/customers?id=eq.${g.user.id}&select=id`,{headers:{apikey:c,Authorization:`Bearer ${g.access_token}`}})).json();if(console.log(" Customer check result:",{count:b==null?void 0:b.length}),!b||b.length===0)throw console.error(" Customer record not found"),new Error("Kayt ileminiz tamamlanmam. Ltfen tekrar kayt olmay deneyin.");return console.log(" signIn successful"),{user:g.user,session:m}}catch(o){throw console.error(" Sign In Error:",o),o}},signInAdmin:async(t,e)=>{var r,i,a,o,c,u;try{console.log(" Admin signIn started for:",t);const d=`${sd}/auth/v1/token?grant_type=password`,f=rv,g=await fetch(d,{method:"POST",headers:{"Content-Type":"application/json",apikey:f,Authorization:`Bearer ${f}`},body:JSON.stringify({email:t,password:e})});if(!g.ok){const b=await g.json();throw(r=b.error_description)!=null&&r.includes("Invalid login credentials")?new Error("Email veya ifre hatal"):(i=b.error_description)!=null&&i.includes("Email not confirmed")?new Error("Email adresinizi dorulamanz gerekiyor. Ltfen mail kutunuzu kontrol edin."):new Error(b.error_description||"Giri baarsz")}const m=await g.json();if(!m.user)throw new Error("Kullanc bilgisi alnamad");const w={access_token:m.access_token,refresh_token:m.refresh_token,expires_in:m.expires_in,expires_at:m.expires_at,user:m.user};localStorage.setItem("yolmov-auth-session",JSON.stringify(w)),await U.auth.setSession({access_token:m.access_token,refresh_token:m.refresh_token}),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"login",session:w}})),console.log(" Admin signIn successful");try{const b=((o=(a=m.user)==null?void 0:a.user_metadata)==null?void 0:o.first_name)||"Admin",x=((u=(c=m.user)==null?void 0:c.user_metadata)==null?void 0:u.last_name)||"User",C=await fetch("/api/bootstrap-admin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e,firstName:b,lastName:x})});C.ok?console.log(" bootstrap-admin ensured admin_users row"):console.warn(" bootstrap-admin failed:",await C.text().catch(()=>""))}catch(b){console.warn("bootstrap-admin call error",b)}return{user:m.user,session:w}}catch(d){throw console.error(" Admin Sign In Error:",d),d}},signOut:async()=>{try{localStorage.removeItem("yolmov-auth-session"),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"logout"}}))}catch(t){se(t,"Sign Out")}},getCurrentUser:async()=>{try{const{data:{user:t},error:e}=await U.auth.getUser();if(e)throw e;return t}catch(t){return console.error(" Get Current User Error:",t),null}},getSession:async()=>{try{const t=localStorage.getItem("yolmov-auth-session");if(!t)return null;const e=JSON.parse(t);return e.expires_at&&new Date(e.expires_at*1e3)<new Date?(console.log(" Session expired, clearing..."),localStorage.removeItem("yolmov-auth-session"),null):e}catch(t){return console.error(" Get Session Error:",t),null}},onAuthStateChange:t=>{const e=async r=>{if(r.key==="yolmov-auth-session"){const i=r.newValue;if(i){const a=JSON.parse(i);t("SIGNED_IN",a)}else t("SIGNED_OUT",null)}};return window.addEventListener("storage",e),{data:{subscription:{unsubscribe:()=>{window.removeEventListener("storage",e)}}}}},getUserRole:async()=>{try{const t=await Yh.getCurrentUser();if(!t)return null;const{data:e}=await U.from("partners").select("status").eq("id",t.id).maybeSingle();if(e)return{type:"partner",status:e.status};const{data:r}=await U.from("customers").select("id").eq("id",t.id).maybeSingle();if(r)return{type:"customer"};try{const{data:i}=await U.from("admin_users").select("role").eq("id",t.id).maybeSingle();if(i)return{type:"admin",role:i.role}}catch{}return null}catch(t){se(t,"Get User Role")}}},R_={getAll:async()=>{try{const{data:t,error:e}=await U.from("customers").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(r=>({id:r.id,firstName:r.first_name,lastName:r.last_name,phone:r.phone,email:r.email,avatarUrl:r.avatar_url,city:r.city,district:r.district,createdAt:r.created_at}))}catch(t){return se(t,"Get All Customers"),[]}},getById:async t=>{try{const{data:e,error:r}=await U.from("customers").select("*").eq("id",t).maybeSingle();if(r)throw r;return e?{id:e.id,firstName:e.first_name,lastName:e.last_name,phone:e.phone,email:e.email,avatarUrl:e.avatar_url,city:e.city,district:e.district,createdAt:e.created_at}:null}catch(e){return se(e,`Get Customer ${t}`),null}},create:async t=>{try{const e={first_name:t.firstName,last_name:t.lastName,phone:t.phone||"",email:t.email||null,avatar_url:t.avatarUrl||null,city:t.city||null,district:t.district||null},{data:r,error:i}=await U.from("customers").insert(e).select().single();if(i)throw i;return{id:r.id,firstName:r.first_name,lastName:r.last_name,phone:r.phone,email:r.email||void 0,avatarUrl:r.avatar_url||void 0,city:r.city||void 0,district:r.district||void 0,createdAt:r.created_at}}catch(e){throw se(e,"Create Customer"),e}},update:async(t,e)=>{try{const r={};e.firstName!==void 0&&(r.first_name=e.firstName),e.lastName!==void 0&&(r.last_name=e.lastName),e.phone!==void 0&&(r.phone=e.phone),e.email!==void 0&&(r.email=e.email),e.avatarUrl!==void 0&&(r.avatar_url=e.avatarUrl),e.city!==void 0&&(r.city=e.city),e.district!==void 0&&(r.district=e.district);const{data:i,error:a}=await U.from("customers").update(r).eq("id",t).select().single();if(a)throw a;return{id:i.id,firstName:i.first_name,lastName:i.last_name,phone:i.phone,email:i.email,avatarUrl:i.avatar_url,city:i.city,district:i.district,createdAt:i.created_at}}catch(r){throw se(r,`Update Customer ${t}`),r}},delete:async t=>{try{const{error:e}=await U.from("customers").delete().eq("id",t);if(e)throw e}catch(e){se(e,`Delete Customer ${t}`)}}},Pl={getAll:async()=>{try{const{data:t,error:e}=await U.from("partners").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return se(t,"Get All Partners"),[]}},getActive:async()=>{try{const{data:t,error:e}=await U.from("partners").select("*").eq("status","active").order("rating",{ascending:!1});if(e)throw e;return t||[]}catch(t){return se(t,"Get Active Partners"),[]}},getById:async t=>{try{const{data:e,error:r}=await U.from("partners").select("*").eq("id",t).maybeSingle();if(r)throw r;return e}catch(e){return se(e,`Get Partner ${t}`),null}},update:async(t,e)=>{try{console.log(" [partnersApi.update] Updating partner:",t,e);const r={...e,updated_at:new Date().toISOString()},{data:i,error:a,count:o}=await U.from("partners").update(r).eq("id",t).select();if(console.log(" [partnersApi.update] Result:",{data:i,error:a,count:o}),a)throw console.error(" [partnersApi.update] Error:",a),a;if(!i||i.length===0)throw console.warn(" [partnersApi.update] No rows updated - RLS may be blocking"),new Error("Partner gncellenemedi. Yetki sorunu olabilir.");return console.log(" [partnersApi.update] Success:",i[0]),i[0]}catch(r){throw se(r,`Update Partner ${t}`),r}},approve:async t=>Pl.update(t,{status:"active"}),suspend:async t=>Pl.update(t,{status:"suspended"}),delete:async t=>{try{const{error:e}=await U.from("partners").delete().eq("id",t);if(e)throw e}catch(e){se(e,`Delete Partner ${t}`)}}},j_={getByCustomerId:async t=>{try{if(!await Qe())throw new Error("Session expired. Please login again.");const{data:r,error:i}=await U.from("customer_favorites").select("id, customer_id, partner_id, created_at, partners!partner_id(id, name, phone, rating, city, district, service_types)").eq("customer_id",t).order("created_at",{ascending:!1});if(i)throw i;return(r||[]).map(o=>({id:o.id,customer_id:o.customer_id,partner_id:o.partner_id,created_at:o.created_at,partners:Array.isArray(o.partners)&&o.partners.length>0?o.partners[0]:null}))}catch(e){return se(e,"Get Favorites"),[]}},add:async(t,e)=>{try{if(!await Qe())throw new Error("Session expired. Please login again.");const{error:i}=await U.from("customer_favorites").insert({customer_id:t,partner_id:e});if(i)throw i}catch(r){throw se(r,"Add Favorite"),r}},remove:async(t,e)=>{try{if(!await Qe())throw new Error("Session expired. Please login again.");const{error:i}=await U.from("customer_favorites").delete().eq("customer_id",t).eq("partner_id",e);if(i)throw i}catch(r){throw se(r,"Remove Favorite"),r}}},O_={getByCustomerId:async t=>{try{if(!await Qe())throw new Error("Session expired. Please login again.");const{data:r,error:i}=await U.from("customer_addresses").select("*").eq("customer_id",t).order("created_at",{ascending:!1});if(i)throw i;return(r||[]).map(a=>({id:a.id,customer_id:a.customer_id,label:a.label,type:a.type,address:a.address,city:a.city,district:a.district,created_at:a.created_at}))}catch(e){return se(e,"Get Addresses"),[]}},add:async(t,e)=>{try{if(!await Qe())throw new Error("Session expired. Please login again.");const i={customer_id:t,label:e.label,type:e.type,address:e.address,city:e.city,district:e.district},{data:a,error:o}=await U.from("customer_addresses").insert(i).select("*").single();if(o)throw o;return{id:a.id,customer_id:a.customer_id,label:a.label,type:a.type,address:a.address,city:a.city,district:a.district,created_at:a.created_at}}catch(r){throw se(r,"Add Address"),r}},remove:async t=>{try{if(!await Qe())throw new Error("Session expired. Please login again.");const{error:r}=await U.from("customer_addresses").delete().eq("id",t);if(r)throw r}catch(e){throw se(e,"Remove Address"),e}}},N_={getByCustomerId:async t=>{try{if(!await Qe())throw new Error("Session expired. Please login again.");const{data:r,error:i}=await U.from("notifications").select("*").eq("customer_id",t).order("created_at",{ascending:!1});if(i)throw i;return(r||[]).map(a=>({id:a.id,customerId:a.customer_id,type:a.type,title:a.title,message:a.message,read:a.read,relatedId:a.related_id,relatedType:a.related_type,actionUrl:a.action_url,createdAt:a.created_at,readAt:a.read_at}))}catch(e){throw se(e,"Get Notifications"),e}},getUnreadCount:async t=>{try{if(!await Qe())return 0;const{count:r,error:i}=await U.from("notifications").select("*",{count:"exact",head:!0}).eq("customer_id",t).eq("read",!1);if(i)throw i;return r||0}catch(e){return console.error("Get Unread Count Error:",e),0}},markAsRead:async t=>{try{if(!await Qe())throw new Error("Session expired. Please login again.");const{error:r}=await U.from("notifications").update({read:!0}).eq("id",t);if(r)throw r}catch(e){throw se(e,"Mark Notification As Read"),e}},markAllAsRead:async t=>{try{if(!await Qe())throw new Error("Session expired. Please login again.");const{error:r}=await U.from("notifications").update({read:!0}).eq("customer_id",t).eq("read",!1);if(r)throw r}catch(e){throw se(e,"Mark All Notifications As Read"),e}},create:async t=>{try{const e={customer_id:t.customerId,type:t.type,title:t.title,message:t.message,read:t.read,related_id:t.relatedId,related_type:t.relatedType,action_url:t.actionUrl},{data:r,error:i}=await U.from("notifications").insert(e).select().single();if(i)throw i;return{id:r.id,customerId:r.customer_id,type:r.type,title:r.title,message:r.message,read:r.read,relatedId:r.related_id,relatedType:r.related_type,actionUrl:r.action_url,createdAt:r.created_at,readAt:r.read_at}}catch(e){throw se(e,"Create Notification"),e}},delete:async t=>{try{if(!await Qe())throw new Error("Session expired. Please login again.");const{error:r}=await U.from("notifications").delete().eq("id",t);if(r)throw r}catch(e){throw se(e,"Delete Notification"),e}},deleteAll:async t=>{try{if(!await Qe())throw new Error("Session expired. Please login again.");const{error:r}=await U.from("notifications").delete().eq("customer_id",t);if(r)throw r}catch(e){throw se(e,"Delete All Notifications"),e}}},I_={getByCustomerId:async t=>{try{if(!await Qe())throw new Error("Session expired. Please login again.");const{data:r,error:i}=await U.from("customer_notification_preferences").select("*").eq("customer_id",t).single();if(i&&i.code!=="PGRST116")throw i;if(r)return{id:r.id,customerId:r.customer_id,emailEnabled:r.email_enabled,pushEnabled:r.push_enabled,orderUpdates:r.order_updates,promotions:r.promotions,newsletter:r.newsletter,createdAt:r.created_at,updatedAt:r.updated_at};const a={customer_id:t,email_enabled:!0,push_enabled:!0,order_updates:!0,promotions:!1,newsletter:!0},{data:o,error:c}=await U.from("customer_notification_preferences").insert(a).select().single();if(c)throw c;return{id:o.id,customerId:o.customer_id,emailEnabled:o.email_enabled,pushEnabled:o.push_enabled,orderUpdates:o.order_updates,promotions:o.promotions,newsletter:o.newsletter,createdAt:o.created_at,updatedAt:o.updated_at}}catch(e){throw se(e,"Get Notification Preferences"),e}},update:async(t,e)=>{try{if(!await Qe())throw new Error("Session expired. Please login again.");const i={};e.emailEnabled!==void 0&&(i.email_enabled=e.emailEnabled),e.pushEnabled!==void 0&&(i.push_enabled=e.pushEnabled),e.orderUpdates!==void 0&&(i.order_updates=e.orderUpdates),e.promotions!==void 0&&(i.promotions=e.promotions),e.newsletter!==void 0&&(i.newsletter=e.newsletter);const{data:a,error:o}=await U.from("customer_notification_preferences").update(i).eq("customer_id",t).select().single();if(o)throw o;return{id:a.id,customerId:a.customer_id,emailEnabled:a.email_enabled,pushEnabled:a.push_enabled,orderUpdates:a.order_updates,promotions:a.promotions,newsletter:a.newsletter,createdAt:a.created_at,updatedAt:a.updated_at}}catch(r){throw se(r,"Update Notification Preferences"),r}}},nv=t=>{const e={};return t.customerId!==void 0&&(e.customer_id=t.customerId),t.customerName!==void 0&&(e.customer_name=t.customerName),t.serviceType!==void 0&&(e.service_type=t.serviceType),t.description!==void 0&&(e.description=t.description),t.fromLocation!==void 0&&(e.from_location=t.fromLocation),t.toLocation!==void 0&&(e.to_location=t.toLocation),t.vehicleInfo!==void 0&&(e.vehicle_info=t.vehicleInfo),t.status!==void 0&&(e.status=t.status),t.amount!==void 0&&(e.amount=t.amount),t.jobStage!==void 0&&(e.job_stage=t.jobStage),t.assignedPartnerId!==void 0&&(e.assigned_partner_id=t.assignedPartnerId),t.assignedPartnerName!==void 0&&(e.assigned_partner_name=t.assignedPartnerName),t.stageUpdatedAt!==void 0&&(e.stage_updated_at=t.stageUpdatedAt),t.vehicleCondition!==void 0&&(e.vehicle_condition=t.vehicleCondition),t.hasLoad!==void 0&&(e.has_load=t.hasLoad),t.loadDescription!==void 0&&(e.load_description=t.loadDescription),t.damagePhotoUrls!==void 0&&(e.damage_photo_urls=t.damagePhotoUrls),t.timing!==void 0&&(e.timing=t.timing),t.customerPhone!==void 0&&(e.customer_phone=t.customerPhone),t.fromCoordinates!==void 0&&(e.from_coordinates=t.fromCoordinates),t.toCoordinates!==void 0&&(e.to_coordinates=t.toCoordinates),t.archived!==void 0&&(e.archived=t.archived),t.archivedAt!==void 0&&(e.archived_at=t.archivedAt),t.start_proof_photo!==void 0&&(e.start_proof_photo=t.start_proof_photo),t.end_proof_photo!==void 0&&(e.end_proof_photo=t.end_proof_photo),e},Tn=t=>({id:t.id,customerId:t.customer_id,customerName:t.customer_name,serviceType:t.service_type,description:t.description,fromLocation:t.from_location,toLocation:t.to_location,vehicleInfo:t.vehicle_info,status:t.status,createdAt:t.created_at,amount:t.amount,jobStage:t.job_stage,assignedPartnerId:t.assigned_partner_id,assignedPartnerName:t.assigned_partner_name,stageUpdatedAt:t.stage_updated_at,vehicleCondition:t.vehicle_condition,hasLoad:t.has_load,loadDescription:t.load_description,damagePhotoUrls:t.damage_photo_urls,timing:t.timing,customerPhone:t.customer_phone,fromCoordinates:t.from_coordinates,toCoordinates:t.to_coordinates,archived:t.archived,archivedAt:t.archived_at}),Zr={getAll:async()=>{try{await Qe();const{data:t,error:e}=await U.from("requests").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(Tn)}catch(t){return se(t,"Get All Requests"),[]}},getByCustomerId:async(t,e=!1)=>{try{if(!await Qe())throw new Error("Session expired. Please login again.");let i=U.from("requests").select("*").eq("customer_id",t);e||(i=i.or("archived.is.null,archived.eq.false"));const{data:a,error:o}=await i.order("created_at",{ascending:!1});if(o)throw o;return(a||[]).map(Tn)}catch(r){return se(r,`Get Requests for Customer ${t}`),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await U.from("requests").select("*").eq("assigned_partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return(e||[]).map(Tn)}catch(e){return se(e,`Get Requests for Partner ${t}`),[]}},getOpen:async()=>{try{const{data:t,error:e}=await U.from("requests").select("*").eq("status","open").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(Tn)}catch(t){return se(t,"Get Open Requests"),[]}},getOpenByServiceAreas:async t=>{try{if(!t||t.length===0)return console.warn(" [getOpenByServiceAreas] No service area cities provided, returning all open requests"),Zr.getOpen();const{data:e,error:r}=await U.from("requests").select("*").eq("status","open").order("created_at",{ascending:!1});if(r)throw r;const i=(e||[]).map(Tn),a=i.filter(o=>{if(!o.fromLocation)return!1;const c=o.fromLocation.toLowerCase().replace(//g,"i").replace(//g,"g").replace(//g,"u").replace(//g,"s").replace(//g,"o").replace(//g,"c");return t.some(u=>{const d=u.toLowerCase().replace(//g,"i").replace(//g,"g").replace(//g,"u").replace(//g,"s").replace(//g,"o").replace(//g,"c");return c.includes(d)})});return console.log(` [getOpenByServiceAreas] Filtered ${i.length}  ${a.length} requests for cities:`,t),a}catch(e){return se(e,"Get Open Requests by Service Areas"),[]}},getById:async t=>{try{if(!await Qe())throw new Error("Session expired. Please login again.");const{data:r,error:i}=await U.from("requests").select("*").eq("id",t).single();if(i)throw i;return r?Tn(r):null}catch(e){return se(e,`Get Request ${t}`),null}},create:async t=>{try{if(!await Qe())throw new Error("Session expired. Please login again.");const r=nv(t),{data:i,error:a}=await U.from("requests").insert(r).select().single();if(a)throw a;return Tn(i)}catch(e){throw se(e,"Create Request"),e}},update:async(t,e)=>{try{if(!await Qe())throw new Error("Session expired. Please login again.");const i=nv(e),{data:a,error:o}=await U.from("requests").update(i).eq("id",t).select().single();if(o)throw o;return Tn(a)}catch(r){throw se(r,`Update Request ${t}`),r}},updateStatus:async(t,e)=>Zr.update(t,{status:e}),updateJobStage:async(t,e,r,i)=>Zr.update(t,{jobStage:e,assignedPartnerId:r,assignedPartnerName:i,stageUpdatedAt:new Date().toISOString()}),assignPartner:async(t,e,r)=>Zr.update(t,{assignedPartnerId:e,assignedPartnerName:r,status:"matched",jobStage:0,stageUpdatedAt:new Date().toISOString()}),delete:async t=>{try{await Qe();const{error:e}=await U.from("requests").delete().eq("id",t);if(e)throw e}catch(e){throw se(e,`Delete Request ${t}`),e}},archive:async t=>{try{if(!await Qe())throw new Error("Session expired. Please login again.");return Zr.update(t,{archived:!0,archivedAt:new Date().toISOString()})}catch(e){throw se(e,`Archive Request ${t}`),e}},unarchive:async t=>{try{if(!await Qe())throw new Error("Session expired. Please login again.");return Zr.update(t,{archived:!1,archivedAt:void 0})}catch(e){throw se(e,`Unarchive Request ${t}`),e}}},Js=t=>({id:t.id,requestId:t.request_id,partnerId:t.partner_id,partnerName:t.partner_name,price:t.price,etaMinutes:t.eta_minutes,message:t.message,status:t.status,createdAt:t.created_at}),Al={getAll:async()=>{try{const{data:t,error:e}=await U.from("offers").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(Js)}catch(t){return se(t,"Get All Offers"),[]}},getByRequestId:async t=>{try{const{data:e,error:r}=await U.from("offers").select("*").eq("request_id",t).order("price",{ascending:!0});if(r)throw r;return(e||[]).map(Js)}catch(e){return se(e,`Get Offers for Request ${t}`),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await U.from("offers").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return(e||[]).map(Js)}catch(e){return se(e,`Get Offers for Partner ${t}`),[]}},create:async t=>{try{const e={request_id:t.requestId,partner_id:t.partnerId,partner_name:t.partnerName,price:t.price,eta_minutes:t.etaMinutes,message:t.message,status:t.status},{data:r,error:i}=await U.from("offers").insert(e).select().single();if(i)throw i;return Js(r)}catch(e){throw se(e,"Create Offer"),e}},update:async(t,e)=>{try{const r={};e.requestId!==void 0&&(r.request_id=e.requestId),e.partnerId!==void 0&&(r.partner_id=e.partnerId),e.partnerName!==void 0&&(r.partner_name=e.partnerName),e.price!==void 0&&(r.price=e.price),e.etaMinutes!==void 0&&(r.eta_minutes=e.etaMinutes),e.message!==void 0&&(r.message=e.message),e.status!==void 0&&(r.status=e.status);const{data:i,error:a}=await U.from("offers").update(r).eq("id",t).select().single();if(a)throw a;return Js(i)}catch(r){throw se(r,`Update Offer ${t}`),r}},accept:async t=>{try{const e=await Al.update(t,{status:"accepted"}),{error:r}=await U.from("offers").update({status:"rejected"}).eq("request_id",e.requestId).neq("id",t);if(r)throw r;return await Zr.assignPartner(e.requestId,e.partnerId,e.partnerName||"Partner"),e}catch(e){throw se(e,`Accept Offer ${t}`),e}},reject:async t=>Al.update(t,{status:"rejected"}),delete:async t=>{try{const{error:e}=await U.from("offers").delete().eq("id",t);if(e)throw e}catch(e){se(e,`Delete Offer ${t}`)}}},Qs=t=>({id:t.id,requestId:t.request_id,partnerId:t.partner_id,partnerName:t.partner_name,customerId:t.customer_id,customerName:t.customer_name,customerPhone:t.customer_phone,serviceType:t.service_type,startLocation:t.start_location,endLocation:t.end_location,distance:t.distance,startTime:t.start_time,completionTime:t.completion_time,duration:t.duration,totalAmount:t.total_amount,commission:t.commission,partnerEarning:t.partner_earning,paymentMethod:t.payment_method,rating:t.rating,vehicleType:t.vehicle_type,vehiclePlate:t.vehicle_plate,status:t.status}),D_={getAll:async()=>{try{const{data:t,error:e}=await U.from("completed_jobs").select("*").order("completion_time",{ascending:!1});if(e)throw e;return(t||[]).map(Qs)}catch(t){return se(t,"Get All Completed Jobs"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await U.from("completed_jobs").select("*").eq("partner_id",t).order("completion_time",{ascending:!1});if(r)throw r;return(e||[]).map(Qs)}catch(e){return se(e,`Get Completed Jobs for Partner ${t}`),[]}},getByCustomerId:async t=>{try{const{data:e,error:r}=await U.from("completed_jobs").select("*").eq("customer_id",t).order("completion_time",{ascending:!1});if(r)throw r;return(e||[]).map(Qs)}catch(e){return se(e,`Get Completed Jobs for Customer ${t}`),[]}},create:async t=>{try{const e={request_id:t.requestId,partner_id:t.partnerId,partner_name:t.partnerName,customer_id:t.customerId,customer_name:t.customerName,customer_phone:t.customerPhone,service_type:t.serviceType,start_location:t.startLocation,end_location:t.endLocation,distance:t.distance,start_time:t.startTime,completion_time:t.completionTime,duration:t.duration,total_amount:t.totalAmount,commission:t.commission,partner_earning:t.partnerEarning,payment_method:t.paymentMethod,rating:t.rating,vehicle_type:t.vehicleType,vehicle_plate:t.vehiclePlate,status:t.status},{data:r,error:i}=await U.from("completed_jobs").insert(e).select().single();if(i)throw i;return Qs(r)}catch(e){throw se(e,"Create Completed Job"),e}},update:async(t,e)=>{try{const r={};e.requestId!==void 0&&(r.request_id=e.requestId),e.partnerId!==void 0&&(r.partner_id=e.partnerId),e.partnerName!==void 0&&(r.partner_name=e.partnerName),e.customerId!==void 0&&(r.customer_id=e.customerId),e.customerName!==void 0&&(r.customer_name=e.customerName),e.customerPhone!==void 0&&(r.customer_phone=e.customerPhone),e.serviceType!==void 0&&(r.service_type=e.serviceType),e.startLocation!==void 0&&(r.start_location=e.startLocation),e.endLocation!==void 0&&(r.end_location=e.endLocation),e.distance!==void 0&&(r.distance=e.distance),e.startTime!==void 0&&(r.start_time=e.startTime),e.completionTime!==void 0&&(r.completion_time=e.completionTime),e.duration!==void 0&&(r.duration=e.duration),e.totalAmount!==void 0&&(r.total_amount=e.totalAmount),e.commission!==void 0&&(r.commission=e.commission),e.partnerEarning!==void 0&&(r.partner_earning=e.partnerEarning),e.paymentMethod!==void 0&&(r.payment_method=e.paymentMethod),e.rating!==void 0&&(r.rating=e.rating),e.vehicleType!==void 0&&(r.vehicle_type=e.vehicleType),e.vehiclePlate!==void 0&&(r.vehicle_plate=e.vehiclePlate),e.status!==void 0&&(r.status=e.status);const{data:i,error:a}=await U.from("completed_jobs").update(r).eq("id",t).select().single();if(a)throw a;return Qs(i)}catch(r){throw se(r,`Update Completed Job ${t}`),r}}},L_={getAll:async()=>{try{const{data:t,error:e}=await U.from("partner_reviews").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(r=>({id:r.id,jobId:r.job_id,partnerId:r.partner_id,partnerName:r.partner_name,customerId:r.customer_id,customerName:r.customer_name,service:r.service,rating:r.rating,comment:r.comment,tags:r.tags||[],date:r.created_at}))}catch(t){return se(t,"Get All Partner Reviews"),[]}},getById:async t=>{try{const{data:e,error:r}=await U.from("partner_reviews").select("*").eq("id",t).single();if(r)throw r;return e?{id:e.id,jobId:e.job_id,partnerId:e.partner_id,partnerName:e.partner_name,customerId:e.customer_id,customerName:e.customer_name,service:e.service,rating:e.rating,comment:e.comment,tags:e.tags||[],date:e.created_at}:null}catch(e){return se(e,`Get Review ${t}`),null}},getByPartnerId:async t=>{try{const{data:e,error:r}=await U.from("partner_reviews").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return(e||[]).map(i=>({id:i.id,jobId:i.job_id,partnerId:i.partner_id,partnerName:i.partner_name,customerId:i.customer_id,customerName:i.customer_name,service:i.service,rating:i.rating,comment:i.comment,tags:i.tags||[],date:i.created_at}))}catch(e){return se(e,`Get Reviews for Partner ${t}`),[]}},create:async t=>{try{const e={job_id:t.jobId,partner_id:t.partnerId,partner_name:t.partnerName,customer_id:t.customerId,customer_name:t.customerName,service:t.service,rating:t.rating,comment:t.comment,tags:t.tags},{data:r,error:i}=await U.from("partner_reviews").insert(e).select().single();if(i)throw i;return r}catch(e){throw se(e,"Create Partner Review"),e}},delete:async t=>{try{const{error:e}=await U.from("partner_reviews").delete().eq("id",t);if(e)throw e}catch(e){se(e,`Delete Review ${t}`)}}},iv=t=>({id:t.id,partnerId:t.partner_id,partnerName:t.partner_name,type:t.type,fileName:t.file_name,fileUrl:t.file_url,fileSize:t.file_size,status:t.status,uploadDate:t.upload_date,expiryDate:t.expiry_date,rejectionReason:t.rejection_reason,reviewedBy:t.reviewed_by,reviewedAt:t.reviewed_at}),ba={getAll:async()=>{try{const{data:t,error:e}=await U.from("partner_documents").select("*").order("upload_date",{ascending:!1});if(e)throw e;return(t||[]).map(iv)}catch(t){return se(t,"Get All Partner Documents"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await U.from("partner_documents").select("*").eq("partner_id",t).order("upload_date",{ascending:!1});if(r)throw r;return(e||[]).map(iv)}catch(e){return se(e,`Get Documents for Partner ${t}`),[]}},create:async t=>{try{const e={partner_id:t.partnerId,partner_name:t.partnerName,type:t.type,file_name:t.fileName,file_url:t.fileData||t.fileUrl,file_size:typeof t.fileSize=="number"?`${(t.fileSize/1024).toFixed(1)} KB`:t.fileSize,status:t.status||"pending",expiry_date:t.expiryDate},{data:r,error:i}=await U.from("partner_documents").insert(e).select().single();if(i)throw i;return r}catch(e){throw se(e,"Create Partner Document"),e}},update:async(t,e)=>{try{const r={};e.status&&(r.status=e.status),e.reviewedBy&&(r.reviewed_by=e.reviewedBy),e.reviewedAt&&(r.reviewed_at=e.reviewedAt),e.rejectionReason&&(r.rejection_reason=e.rejectionReason),e.fileName&&(r.file_name=e.fileName),e.fileUrl&&(r.file_url=e.fileUrl),e.expiryDate&&(r.expiry_date=e.expiryDate);const{data:i,error:a}=await U.from("partner_documents").update(r).eq("id",t).select().single();if(a)throw a;return i}catch(r){throw se(r,`Update Document ${t}`),r}},approve:async(t,e)=>ba.update(t,{status:"approved",reviewedBy:e,reviewedAt:new Date().toISOString()}),reject:async(t,e,r)=>ba.update(t,{status:"rejected",reviewedBy:e,reviewedAt:new Date().toISOString(),rejectionReason:r}),uploadFile:async(t,e,r)=>{try{const i=`${t}/${r}/${Date.now()}_${e.name}`,{data:a,error:o}=await U.storage.from("partner-documents").upload(i,e);if(o)throw o;const{data:{publicUrl:c}}=U.storage.from("partner-documents").getPublicUrl(i);return c}catch(i){throw se(i,"Upload Partner Document"),i}}},Jh={getAll:async()=>{try{const{data:t,error:e}=await U.from("support_tickets").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return se(t,"Get All Support Tickets"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await U.from("support_tickets").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(e){return se(e,`Get Tickets for Partner ${t}`),[]}},create:async t=>{try{const{data:e,error:r}=await U.from("support_tickets").insert(t).select().single();if(r)throw r;return e}catch(e){throw se(e,"Create Support Ticket"),e}},update:async(t,e)=>{try{const{data:r,error:i}=await U.from("support_tickets").update(e).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw se(r,`Update Ticket ${t}`),r}},resolve:async(t,e,r)=>Jh.update(t,{status:"resolved",resolution:e,assignedTo:r})},M_={getAll:async()=>{try{const{data:t,error:e}=await U.from("partner_vehicles").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return se(t,"Get All Partner Vehicles"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await U.from("partner_vehicles").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(e){return se(e,`Get Vehicles for Partner ${t}`),[]}},create:async t=>{try{const{data:e,error:r}=await U.from("partner_vehicles").insert(t).select().single();if(r)throw r;return e}catch(e){throw se(e,"Create Partner Vehicle"),e}},update:async(t,e)=>{try{const{data:r,error:i}=await U.from("partner_vehicles").update(e).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw se(r,`Update Vehicle ${t}`),r}},delete:async t=>{try{const{error:e}=await U.from("partner_vehicles").delete().eq("id",t);if(e)throw e}catch(e){se(e,`Delete Vehicle ${t}`)}},getVehicleStats:async(t,e)=>{try{const{data:r,error:i}=await U.from("completed_jobs").select("id, rating, partner_earning, completion_time").eq("vehicle_plate",t).eq("partner_id",e);if(i)throw i;const a=(r==null?void 0:r.length)||0,o=new Date;o.setDate(o.getDate()-30);const c=(r==null?void 0:r.filter(g=>new Date(g.completion_time)>=o).length)||0,u=(r==null?void 0:r.filter(g=>g.rating).map(g=>g.rating))||[],d=u.length>0?u.reduce((g,m)=>g+m,0)/u.length:0,f=(r==null?void 0:r.reduce((g,m)=>g+(m.partner_earning||0),0))||0;return{totalJobs:a,monthlyJobs:c,averageRating:Number(d.toFixed(1)),totalEarnings:Number(f.toFixed(2))}}catch(r){return se(r,`Get Vehicle Stats for ${t}`),{totalJobs:0,monthlyJobs:0,averageRating:0,totalEarnings:0}}}},da={getAll:async()=>{try{const{data:t,error:e}=await U.from("partner_credits").select("*").order("balance",{ascending:!1});if(e)throw e;return(t||[]).map(r=>({partnerId:r.partner_id,partnerName:r.partner_name,balance:r.balance||0,totalPurchased:r.total_purchased||0,totalUsed:r.total_used||0,lastTransaction:r.last_updated||r.updated_at||""}))}catch(t){return se(t,"Get All Partner Credits"),[]}},getAllTransactions:async()=>{try{const{data:t,error:e}=await U.from("credit_transactions").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(r=>({id:r.id,partnerId:r.partner_id,partnerName:r.partner_name,type:r.type,amount:r.amount,balanceBefore:r.balance_before,balanceAfter:r.balance_after,description:r.description,date:r.created_at,requestId:r.request_id,adminUser:r.admin_user}))}catch(t){return se(t,"Get All Credit Transactions"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await U.from("partner_credits").select("*").eq("partner_id",t).maybeSingle();if(r)throw r;return e}catch(e){return se(e,`Get Credits for Partner ${t}`),null}},addCredits:async(t,e,r,i)=>{try{const a=await da.getByPartnerId(t),o=(a==null?void 0:a.balance)||0,c=o+r,{data:u,error:d}=await U.from("credit_transactions").insert({partner_id:t,partner_name:e,type:"purchase",amount:r,balance_before:o,balance_after:c,description:i}).select().single();if(d)throw d;return u}catch(a){throw se(a,"Add Partner Credits"),a}},useCredits:async(t,e,r,i,a)=>{try{const o=await da.getByPartnerId(t),c=(o==null?void 0:o.balance)||0;if(c<r)throw new Error("Yetersiz kredi bakiyesi");const u=c-r,{data:d,error:f}=await U.from("credit_transactions").insert({partner_id:t,partner_name:e,type:"usage",amount:-r,balance_before:c,balance_after:u,description:i,request_id:a}).select().single();if(f)throw f;return d}catch(o){throw se(o,"Use Partner Credits"),o}},getTransactions:async t=>{try{const{data:e,error:r}=await U.from("credit_transactions").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(e){return se(e,`Get Transactions for Partner ${t}`),[]}},adjustCredits:async(t,e,r,i,a)=>{try{const o=await da.getByPartnerId(t),c=(o==null?void 0:o.balance)||0,u=c+r;if(u<0)throw new Error("Bakiye negatif olamaz");const{error:d}=await U.from("partner_credits").upsert({partner_id:t,partner_name:e,balance:u,total_purchased:((o==null?void 0:o.total_purchased)||0)+(r>0?r:0),total_used:((o==null?void 0:o.total_used)||0)+(r<0?Math.abs(r):0),updated_at:new Date().toISOString()},{onConflict:"partner_id"});if(d)throw d;const{data:f,error:g}=await U.from("credit_transactions").insert({partner_id:t,partner_name:e,type:"adjustment",amount:r,balance_before:c,balance_after:u,description:`Admin tarafndan ${r>0?"eklendi":"drld"}: ${i}`}).select().single();if(g)throw g;return{transaction:{id:f.id,partnerId:f.partner_id,partnerName:f.partner_name,type:f.type,amount:f.amount,balanceBefore:f.balance_before,balanceAfter:f.balance_after,description:f.description,date:f.created_at,adminUser:f.admin_user},newBalance:u}}catch(o){throw se(o,"Adjust Partner Credits"),o}}},z_={getAll:async()=>{try{const{data:t,error:e}=await U.from("empty_truck_routes").select("*").eq("status","active").order("departure_date",{ascending:!0});if(e)throw e;return t||[]}catch(t){return se(t,"Get All Empty Truck Routes"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await U.from("empty_truck_routes").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(e){return se(e,`Get Routes for Partner ${t}`),[]}},create:async t=>{try{const{data:e,error:r}=await U.from("empty_truck_routes").insert(t).select().single();if(r)throw r;return e}catch(e){throw se(e,"Create Empty Truck Route"),e}},update:async(t,e)=>{try{const{data:r,error:i}=await U.from("empty_truck_routes").update(e).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw se(r,`Update Route ${t}`),r}},delete:async t=>{try{const{error:e}=await U.from("empty_truck_routes").delete().eq("id",t);if(e)throw e}catch(e){se(e,`Delete Route ${t}`)}}},U_={getAll:async()=>{try{const{data:t,error:e}=await U.from("admin_users").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return se(t,"Get All Admin Users"),[]}},create:async t=>{try{const{data:e,error:r}=await U.from("admin_users").insert(t).select().single();if(r)throw r;return e}catch(e){throw se(e,"Create Admin User"),e}},update:async(t,e)=>{try{const{data:r,error:i}=await U.from("admin_users").update(e).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw se(r,`Update Admin User ${t}`),r}},delete:async t=>{try{const{error:e}=await U.from("admin_users").delete().eq("id",t);if(e)throw e}catch(e){se(e,`Delete Admin User ${t}`)}}},B_={create:async t=>{try{const{data:e,error:r}=await U.from("system_logs").insert(t).select().single();if(r)throw r;return e}catch(e){throw se(e,"Create System Log"),e}},getAll:async(t=100)=>{try{const{data:e,error:r}=await U.from("system_logs").select("*").order("created_at",{ascending:!1}).limit(t);if(r)throw r;return e||[]}catch(e){return se(e,"Get System Logs"),[]}},getByEntity:async(t,e)=>{try{const{data:r,error:i}=await U.from("system_logs").select("*").eq("entity",t).eq("entity_id",e).order("created_at",{ascending:!1});if(i)throw i;return r||[]}catch(r){return se(r,`Get Logs for ${t} ${e}`),[]}}},$_={subscribeToRequests:t=>U.channel("requests-changes").on("postgres_changes",{event:"*",schema:"public",table:"requests"},t).subscribe(),subscribeToOffers:(t,e)=>U.channel(`offers-${t}`).on("postgres_changes",{event:"*",schema:"public",table:"offers",filter:`request_id=eq.${t}`},e).subscribe(),subscribeToJobStages:(t,e)=>U.channel(`job-stages-${t}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"requests",filter:`id=eq.${t}`},e).subscribe(),unsubscribe:t=>{U.removeChannel(t)}},F_={getPartnerStats:async()=>{try{const{data:t,error:e}=await U.from("partner_stats").select("*");if(e)throw e;return t}catch(t){return se(t,"Get Partner Stats"),[]}},getCustomerStats:async()=>{try{const{data:t,error:e}=await U.from("customer_stats").select("*");if(e)throw e;return t}catch(t){return se(t,"Get Customer Stats"),[]}},getDailyStats:async(t=30)=>{try{const{data:e,error:r}=await U.from("daily_stats").select("*").limit(t);if(r)throw r;return e}catch(e){return se(e,"Get Daily Stats"),[]}}},Qh={getByPartnerId:async t=>{try{const{data:e,error:r}=await U.from("partner_service_areas").select("*").eq("partner_id",t).order("is_primary",{ascending:!1}).order("city",{ascending:!0});if(r)throw r;return(e||[]).map(i=>({id:i.id,partnerId:i.partner_id,city:i.city,districts:i.districts,isPrimary:i.is_primary,priceMultiplier:i.price_multiplier,isActive:i.is_active,notes:i.notes,createdAt:i.created_at,updatedAt:i.updated_at}))}catch(e){return se(e,"Get Service Areas by Partner"),[]}},getPartnersByCity:async t=>{try{const{data:e,error:r}=await U.from("partner_service_areas").select(`
          *,
          partners!inner (
            id, name, company_name, phone, email, rating, status, city, district, service_types, profile_photo_url, logo_url
          )
        `).eq("city",t).eq("is_active",!0).eq("partners.status","active").order("is_primary",{ascending:!1});if(r)throw r;return e||[]}catch(e){return se(e,`Get Partners by City: ${t}`),[]}},create:async t=>{try{const{data:e,error:r}=await U.from("partner_service_areas").insert({partner_id:t.partnerId,city:t.city,districts:t.districts||null,is_primary:t.isPrimary||!1,price_multiplier:t.priceMultiplier||1,notes:t.notes||null,is_active:!0}).select().single();if(r)throw r;return{id:e.id,partnerId:e.partner_id,city:e.city,districts:e.districts,isPrimary:e.is_primary,priceMultiplier:e.price_multiplier,isActive:e.is_active,notes:e.notes,createdAt:e.created_at,updatedAt:e.updated_at}}catch(e){throw se(e,"Create Service Area"),e}},update:async(t,e)=>{try{const r={};e.districts!==void 0&&(r.districts=e.districts),e.isPrimary!==void 0&&(r.is_primary=e.isPrimary),e.priceMultiplier!==void 0&&(r.price_multiplier=e.priceMultiplier),e.isActive!==void 0&&(r.is_active=e.isActive),e.notes!==void 0&&(r.notes=e.notes);const{data:i,error:a}=await U.from("partner_service_areas").update(r).eq("id",t).select().single();if(a)throw a;return{id:i.id,partnerId:i.partner_id,city:i.city,districts:i.districts,isPrimary:i.is_primary,priceMultiplier:i.price_multiplier,isActive:i.is_active,notes:i.notes,createdAt:i.created_at,updatedAt:i.updated_at}}catch(r){throw se(r,`Update Service Area ${t}`),r}},delete:async t=>{try{const{error:e}=await U.from("partner_service_areas").delete().eq("id",t);if(e)throw e}catch(e){throw se(e,`Delete Service Area ${t}`),e}},setPrimary:async(t,e)=>{try{await U.from("partner_service_areas").update({is_primary:!1}).eq("partner_id",t);const{error:r}=await U.from("partner_service_areas").update({is_primary:!0}).eq("id",e);if(r)throw r}catch(r){throw se(r,"Set Primary Service Area"),r}}},Xh={getByPartnerId:async t=>{try{const{data:e,error:r}=await U.from("vehicle_return_routes").select("*").eq("partner_id",t).order("departure_date",{ascending:!0});if(r)throw r;return(e||[]).map(i=>({id:i.id,partnerId:i.partner_id,vehicleId:i.vehicle_id,originCity:i.origin_city,destinationCity:i.destination_city,routeCities:i.route_cities,departureDate:i.departure_date,departureTime:i.departure_time,estimatedArrival:i.estimated_arrival,vehicleType:i.vehicle_type,vehiclePlate:i.vehicle_plate,driverName:i.driver_name,driverPhone:i.driver_phone,availableCapacity:i.available_capacity,pricePerKm:i.price_per_km,discountPercent:i.discount_percent,minPrice:i.min_price,status:i.status,notes:i.notes,createdAt:i.created_at,updatedAt:i.updated_at}))}catch(e){return se(e,"Get Return Routes by Partner"),[]}},getActiveByPartnerId:async t=>{try{const e=new Date().toISOString().split("T")[0],{data:r,error:i}=await U.from("vehicle_return_routes").select("*").eq("partner_id",t).eq("status","active").gte("departure_date",e).order("departure_date",{ascending:!0});if(i)throw i;return(r||[]).map(a=>({id:a.id,partnerId:a.partner_id,vehicleId:a.vehicle_id,originCity:a.origin_city,destinationCity:a.destination_city,routeCities:a.route_cities,departureDate:a.departure_date,departureTime:a.departure_time,estimatedArrival:a.estimated_arrival,vehicleType:a.vehicle_type,vehiclePlate:a.vehicle_plate,driverName:a.driver_name,driverPhone:a.driver_phone,availableCapacity:a.available_capacity,pricePerKm:a.price_per_km,discountPercent:a.discount_percent,minPrice:a.min_price,status:a.status,notes:a.notes,createdAt:a.created_at,updatedAt:a.updated_at}))}catch(e){return se(e,"Get Active Return Routes by Partner"),[]}},getByCity:async t=>{try{const e=new Date().toISOString().split("T")[0],{data:r,error:i}=await U.from("vehicle_return_routes").select(`
          *,
          partners!inner (
            id, name, company_name, phone, email, rating, status, profile_photo_url, logo_url
          )
        `).contains("route_cities",[t]).eq("status","active").gte("departure_date",e).eq("partners.status","active").order("departure_date",{ascending:!0});if(i)throw i;return(r||[]).map(a=>{var o,c,u,d,f;return{id:a.id,partnerId:a.partner_id,partnerName:(o=a.partners)==null?void 0:o.name,companyName:(c=a.partners)==null?void 0:c.company_name,partnerRating:(u=a.partners)==null?void 0:u.rating,profilePhotoUrl:(d=a.partners)==null?void 0:d.profile_photo_url,logoUrl:(f=a.partners)==null?void 0:f.logo_url,vehicleId:a.vehicle_id,originCity:a.origin_city,destinationCity:a.destination_city,routeCities:a.route_cities,departureDate:a.departure_date,departureTime:a.departure_time,vehicleType:a.vehicle_type,vehiclePlate:a.vehicle_plate,discountPercent:a.discount_percent,availableCapacity:a.available_capacity,status:a.status,createdAt:a.created_at}})}catch(e){return se(e,`Get Return Routes by City: ${t}`),[]}},create:async t=>{try{const{data:e,error:r}=await U.from("vehicle_return_routes").insert({partner_id:t.partnerId,vehicle_id:t.vehicleId||null,origin_city:t.originCity,destination_city:t.destinationCity,route_cities:t.routeCities,departure_date:t.departureDate,departure_time:t.departureTime||null,estimated_arrival:t.estimatedArrival||null,vehicle_type:t.vehicleType,vehicle_plate:t.vehiclePlate,driver_name:t.driverName||null,driver_phone:t.driverPhone||null,available_capacity:t.availableCapacity||null,price_per_km:t.pricePerKm||null,discount_percent:t.discountPercent||0,min_price:t.minPrice||null,notes:t.notes||null,status:"active"}).select().single();if(r)throw r;return{id:e.id,partnerId:e.partner_id,vehicleId:e.vehicle_id,originCity:e.origin_city,destinationCity:e.destination_city,routeCities:e.route_cities,departureDate:e.departure_date,departureTime:e.departure_time,estimatedArrival:e.estimated_arrival,vehicleType:e.vehicle_type,vehiclePlate:e.vehicle_plate,driverName:e.driver_name,driverPhone:e.driver_phone,availableCapacity:e.available_capacity,pricePerKm:e.price_per_km,discountPercent:e.discount_percent,minPrice:e.min_price,status:e.status,notes:e.notes,createdAt:e.created_at,updatedAt:e.updated_at}}catch(e){throw se(e,"Create Return Route"),e}},update:async(t,e)=>{try{const r={};e.originCity!==void 0&&(r.origin_city=e.originCity),e.destinationCity!==void 0&&(r.destination_city=e.destinationCity),e.routeCities!==void 0&&(r.route_cities=e.routeCities),e.departureDate!==void 0&&(r.departure_date=e.departureDate),e.departureTime!==void 0&&(r.departure_time=e.departureTime),e.estimatedArrival!==void 0&&(r.estimated_arrival=e.estimatedArrival),e.vehicleType!==void 0&&(r.vehicle_type=e.vehicleType),e.vehiclePlate!==void 0&&(r.vehicle_plate=e.vehiclePlate),e.driverName!==void 0&&(r.driver_name=e.driverName),e.driverPhone!==void 0&&(r.driver_phone=e.driverPhone),e.availableCapacity!==void 0&&(r.available_capacity=e.availableCapacity),e.pricePerKm!==void 0&&(r.price_per_km=e.pricePerKm),e.discountPercent!==void 0&&(r.discount_percent=e.discountPercent),e.minPrice!==void 0&&(r.min_price=e.minPrice),e.status!==void 0&&(r.status=e.status),e.notes!==void 0&&(r.notes=e.notes);const{error:i}=await U.from("vehicle_return_routes").update(r).eq("id",t);if(i)throw i}catch(r){throw se(r,`Update Return Route ${t}`),r}},delete:async t=>{try{const{error:e}=await U.from("vehicle_return_routes").delete().eq("id",t);if(e)throw e}catch(e){throw se(e,`Delete Return Route ${t}`),e}},cancel:async t=>{try{const{error:e}=await U.from("vehicle_return_routes").update({status:"cancelled"}).eq("id",t);if(e)throw e}catch(e){throw se(e,`Cancel Return Route ${t}`),e}},complete:async t=>{try{const{error:e}=await U.from("vehicle_return_routes").update({status:"completed"}).eq("id",t);if(e)throw e}catch(e){throw se(e,`Complete Return Route ${t}`),e}}},V_={getAvailablePartners:async t=>{try{const e=await Qh.getPartnersByCity(t),r=await Xh.getByCity(t),i=new Set,a=[];for(const o of e){const c=o.partners;c&&!i.has(c.id)&&(i.add(c.id),a.push({partnerId:c.id,partnerName:c.name,companyName:c.company_name,partnerRating:c.rating,partnerPhone:c.phone,partnerEmail:c.email,serviceTypes:c.service_types,profilePhotoUrl:c.profile_photo_url,logoUrl:c.logo_url,city:c.city,district:c.district,source:"service_area",isPrimaryArea:o.is_primary,priceMultiplier:o.price_multiplier,routeId:null,discountPercent:null,departureDate:null}))}for(const o of r)i.has(o.partnerId)||(i.add(o.partnerId),a.push({partnerId:o.partnerId,partnerName:o.partnerName,companyName:o.companyName,partnerRating:o.partnerRating,profilePhotoUrl:o.profilePhotoUrl,logoUrl:o.logoUrl,source:"return_route",isPrimaryArea:!1,priceMultiplier:1,routeId:o.id,discountPercent:o.discountPercent,departureDate:o.departureDate,vehicleType:o.vehicleType,vehiclePlate:o.vehiclePlate,originCity:o.originCity,destinationCity:o.destinationCity}));return a.sort((o,c)=>(c.partnerRating||0)-(o.partnerRating||0)),a}catch(e){return se(e,`Get Available Partners for City: ${t}`),[]}}},q_={getShowcaseData:async t=>{try{const{data:e,error:r}=await U.from("partners").select(`
          id, name, company_name, email, phone, rating, completed_jobs, status,
          city, district, logo_url, profile_photo_url,
          showcase_description, showcase_working_hours, showcase_payment_methods,
          showcase_is_24_7, showcase_satisfaction_rate, showcase_response_time, showcase_total_reviews
        `).eq("id",t).single();if(r)throw r;if(!e)throw new Error("Partner not found");const{data:i}=await U.from("partner_vehicles").select(`
          id, partner_id, brand, model, model_name, year, type, vehicle_type, plate_number,
          image_url, front_photo_url, side_photo_url, back_photo_url, status,
          showcase_capacity, showcase_insurance_type, showcase_equipment, showcase_description, is_showcase_vehicle
        `).eq("partner_id",t),a=(i||[]).map(d=>({...d,plate:d.plate_number,partnerId:d.partner_id})),{data:o}=await U.from("partner_reviews").select("id, customer_id, rating, comment, created_at").eq("partner_id",t).order("created_at",{ascending:!1}).limit(5),{count:c}=await U.from("partner_reviews").select("id",{count:"exact",head:!0}).eq("partner_id",t),u=await Promise.all((o||[]).map(async d=>{const{data:f}=await U.from("customers").select("first_name, last_name").eq("id",d.customer_id).single(),g=f?`${f.first_name||""} ${(f.last_name||"").charAt(0)}.`:"Anonim";return{id:d.id,customer_name:g,rating:d.rating,comment:d.comment,created_at:d.created_at}}));return{partner:e,vehicles:a,showcaseVehicle:a.find(d=>d.is_showcase_vehicle)||a[0]||null,reviews:u,totalReviews:c||0}}catch(e){return se(e,`Get Showcase Data for Partner: ${t}`),null}},updateShowcase:async(t,e)=>{try{await Qe();const{data:r,error:i}=await U.from("partners").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(i)throw i;return r}catch(r){return se(r,`Update Showcase for Partner: ${t}`),null}},updateVehicleShowcase:async(t,e)=>{try{await Qe();const{data:r,error:i}=await U.from("partner_vehicles").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(i)throw i;return r}catch(r){return se(r,`Update Vehicle Showcase: ${t}`),null}},setShowcaseVehicle:async(t,e)=>{try{await Qe(),await U.from("partner_vehicles").update({is_showcase_vehicle:!1}).eq("partner_id",t);const{data:r,error:i}=await U.from("partner_vehicles").update({is_showcase_vehicle:!0}).eq("id",e).select().single();if(i)throw i;return r}catch(r){return se(r,`Set Showcase Vehicle: ${e}`),null}}},Cr={auth:Yh,customers:R_,partners:Pl,requests:Zr,offers:Al,completedJobs:D_,partnerReviews:L_,partnerDocuments:ba,supportTickets:Jh,partnerVehicles:M_,partnerCredits:da,emptyTruckRoutes:z_,adminUsers:U_,systemLogs:B_,realtime:$_,analytics:F_,favorites:j_,addresses:O_,notifications:N_,notificationPreferences:I_,documents:ba,serviceAreas:Qh,returnRoutes:Xh,partnerSearch:V_,partnerShowcase:q_,storage:{uploadCustomerPhoto:async(t,e)=>{try{await Qe();const r=t.name.replace(/[^a-zA-Z0-9_.-]/g,"_"),i=e||"guest",a=Date.now(),o=`${i}/${a}_${r}`;console.log(` Uploading to: request-photos/${o}`);const{data:c,error:u}=await U.storage.from("request-photos").upload(o,t,{upsert:!0,contentType:t.type});if(u)throw console.error("Storage upload error:",u),u;const{data:d}=U.storage.from("request-photos").getPublicUrl(o);return console.log(` Photo uploaded: ${d.publicUrl}`),d.publicUrl}catch(r){throw console.error(" Upload failed:",r),se(r,"Upload Customer Photo"),r}},uploadPartnerDocument:async(t,e,r,i)=>{try{await Qe();const a=t.name.replace(/[^a-zA-Z0-9_.-]/g,"_"),o=Date.now(),c=r?`${e}/${r}/${o}_${a}`:`${e}/${i}/${o}_${a}`;console.log(` Uploading partner document to: partner-documents/${c}`);const{data:u,error:d}=await U.storage.from("partner-documents").upload(c,t,{upsert:!0,contentType:t.type});if(d)return console.error("Partner document upload error:",d),{success:!1,error:d.message};const{data:f}=U.storage.from("partner-documents").getPublicUrl(c);return console.log(` Partner document uploaded: ${f.publicUrl}`),{success:!0,url:f.publicUrl}}catch(a){return console.error(" Partner document upload failed:",a),{success:!1,error:a.message}}}}},K_={getAll:async()=>{try{await Qe();const{data:t,error:e}=await U.from("campaigns").select("*").order("sort_order",{ascending:!0});if(e)throw e;return t||[]}catch(t){throw se(t,"Get All Campaigns"),t}},getActive:async()=>{try{const{data:t,error:e}=await U.from("campaigns").select("*").eq("is_active",!0).order("sort_order",{ascending:!0});if(e)throw e;return t||[]}catch(t){return console.error("Get Active Campaigns Error:",t),[]}},getById:async t=>{try{const{data:e,error:r}=await U.from("campaigns").select("*").eq("id",t).single();if(r&&r.code!=="PGRST116")throw r;return e}catch(e){return console.error("Get Campaign By ID Error:",e),null}},create:async t=>{try{await Qe();const{data:e,error:r}=await U.from("campaigns").insert({title:t.title,description:t.description,image_url:t.image_url,badge_text:t.badge_text||null,valid_until:t.valid_until||null,discount:t.discount||null,code:t.code||null,is_active:t.is_active??!0,sort_order:t.sort_order??0}).select().single();if(r)throw r;return e}catch(e){throw se(e,"Create Campaign"),e}},update:async(t,e)=>{try{await Qe();const{data:r,error:i}=await U.from("campaigns").update({...e.title&&{title:e.title},...e.description&&{description:e.description},...e.image_url&&{image_url:e.image_url},badge_text:e.badge_text,valid_until:e.valid_until,discount:e.discount,code:e.code,...e.is_active!==void 0&&{is_active:e.is_active},...e.sort_order!==void 0&&{sort_order:e.sort_order}}).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw se(r,"Update Campaign"),r}},delete:async t=>{try{await Qe();const{error:e}=await U.from("campaigns").delete().eq("id",t);if(e)throw e}catch(e){throw se(e,"Delete Campaign"),e}},toggleActive:async(t,e)=>{try{await Qe();const{data:r,error:i}=await U.from("campaigns").update({is_active:e}).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw se(r,"Toggle Campaign Active"),r}}},lN=Object.freeze(Object.defineProperty({__proto__:null,addressesApi:O_,adminUsersApi:U_,analyticsApi:F_,authApi:Yh,campaignsApi:K_,completedJobsApi:D_,customersApi:R_,default:Cr,emptyTruckRoutesApi:z_,favoritesApi:j_,notificationPreferencesApi:I_,notificationsApi:N_,offersApi:Al,partnerCreditsApi:da,partnerDocumentsApi:ba,partnerReviewsApi:L_,partnerSearchApi:V_,partnerShowcaseApi:q_,partnerVehiclesApi:M_,partnersApi:Pl,realtimeApi:$_,requestsApi:Zr,returnRoutesApi:Xh,serviceAreasApi:Qh,supabase:U,supabaseApi:Cr,supportTicketsApi:Jh,systemLogsApi:B_},Symbol.toStringTag,{value:"Module"})),zR=()=>{const[t,e]=z.useState(!1),[r,i]=z.useState([]),[a,o]=z.useState(0),[c,u]=z.useState(!0),d=async()=>{var x;try{const C=localStorage.getItem("yolmov-auth-session");if(!C){i([]),o(0),u(!1);return}const E=JSON.parse(C),j=(x=E==null?void 0:E.user)==null?void 0:x.id;if(!j){i([]),o(0),u(!1);return}const[D,k]=await Promise.all([Cr.notifications.getByCustomerId(j),Cr.notifications.getUnreadCount(j)]);i(D),o(k)}catch(C){console.error("Bildirimler yklenemedi:",C),i([]),o(0)}finally{u(!1)}};z.useEffect(()=>{d();const x=setInterval(d,3e4),C=()=>{d()};return window.addEventListener("yolmov-auth-change",C),()=>{clearInterval(x),window.removeEventListener("yolmov-auth-change",C)}},[]);const f=async x=>{try{await Cr.notifications.markAsRead(x),await d()}catch(C){console.error("Bildirim okundu iaretlenemedi:",C)}},g=async()=>{var x;try{const C=localStorage.getItem("yolmov-auth-session");if(!C)return;const E=JSON.parse(C),j=(x=E==null?void 0:E.user)==null?void 0:x.id;if(!j)return;await Cr.notifications.markAllAsRead(j),await d()}catch(C){console.error("Tm bildirimler okundu iaretlenemedi:",C)}},m=async(x,C)=>{C.stopPropagation();try{await Cr.notifications.delete(x),await d()}catch(E){console.error("Bildirim silinemedi:",E)}},w=async()=>{var x;if(confirm("Tm bildirimleri silmek istediinizden emin misiniz?"))try{const C=localStorage.getItem("yolmov-auth-session");if(!C)return;const E=JSON.parse(C);if(!((x=E==null?void 0:E.user)==null?void 0:x.id))return;await Promise.all(r.map(D=>Cr.notifications.delete(D.id))),await d()}catch(C){console.error("Bildirimler silinemedi:",C)}},b=x=>{switch(x){case"offer_received":return"";case"offer_accepted":return"";case"offer_rejected":return"";case"request_matched":return"";case"system":return"";default:return""}};return y.jsxs("div",{className:"relative",children:[y.jsxs("button",{onClick:()=>e(!t),className:"relative p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-xl transition-all","aria-label":"Bildirimler",children:[y.jsx(Mu,{size:24}),a>0&&y.jsx("span",{className:"absolute top-0 right-0 w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:a>9?"9+":a})]}),y.jsx(Tr,{children:t&&y.jsxs(y.Fragment,{children:[y.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:()=>e(!1)}),y.jsxs(Ne.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute right-0 top-full mt-2 w-96 max-w-[calc(100vw-2rem)] bg-white rounded-2xl shadow-2xl border border-slate-200 overflow-hidden z-50",children:[y.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-200 flex items-center justify-between",children:[y.jsxs("h3",{className:"text-sm font-bold text-slate-900",children:["Bildirimler",a>0&&y.jsxs("span",{className:"ml-2 text-xs text-slate-500",children:["(",a," okunmam)"]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[a>0&&y.jsxs("button",{onClick:g,className:"text-xs text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1",children:[y.jsx(pd,{size:14}),"Tmn Okundu aretle"]}),r.length>0&&y.jsxs("button",{onClick:w,className:"text-xs text-red-600 hover:text-red-700 font-medium flex items-center gap-1",children:[y.jsx(Xi,{size:14}),"Tmn Sil"]})]})]}),y.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:c?y.jsxs("div",{className:"p-8 text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-3 animate-pulse",children:y.jsx(Mu,{size:32,className:"text-slate-400"})}),y.jsx("p",{className:"text-sm text-slate-500",children:"Ykleniyor..."})]}):r.length===0?y.jsxs("div",{className:"p-8 text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-3",children:y.jsx(Mu,{size:32,className:"text-slate-400"})}),y.jsx("p",{className:"text-sm text-slate-500",children:"Henz bildiriminiz yok"})]}):y.jsx("div",{className:"divide-y divide-slate-100",children:r.map(x=>y.jsxs("div",{className:`p-4 hover:bg-slate-50 transition-colors relative group ${x.read?"":"bg-blue-50/30"}`,children:[y.jsxs("div",{className:"flex items-start gap-3 cursor-pointer",onClick:()=>f(x.id),children:[y.jsx("span",{className:"text-2xl shrink-0",children:b(x.type)}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[y.jsx("h4",{className:"text-sm font-bold text-slate-900 truncate",children:x.title}),!x.read&&y.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full shrink-0 mt-1"})]}),y.jsx("p",{className:"text-xs text-slate-600 mb-2 line-clamp-2",children:x.message}),y.jsx("p",{className:"text-xs text-slate-400",children:new Date(x.createdAt).toLocaleString("tr-TR",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]})]}),y.jsx("button",{onClick:C=>m(x.id,C),className:"absolute top-2 right-2 p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Sil",children:y.jsx(Xi,{size:16})})]},x.id))})})]})]})})]})},UR=()=>{const t=di();Pr();const[e,r]=z.useState(!1),[i,a]=z.useState(!1),[o,c]=z.useState(null),[u,d]=z.useState(!0);z.useEffect(()=>{let m=!0;const w=async j=>{try{const D=await Cr.customers.getById(j);m&&D&&c(D)}catch(D){console.error("Customer ykleme hatas:",D)}},b=async()=>{var j;try{const D=localStorage.getItem("yolmov-auth-session");if(D){const k=JSON.parse(D);if(k.expires_at&&new Date(k.expires_at*1e3)<=new Date){console.log(" Session expired in Header, clearing..."),localStorage.removeItem("yolmov-auth-session"),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"session-expired"}})),m&&c(null);return}(j=k==null?void 0:k.user)!=null&&j.id&&await w(k.user.id)}else m&&c(null)}catch(D){console.error("Session kontrol hatas:",D),localStorage.removeItem("yolmov-auth-session"),m&&c(null)}finally{m&&d(!1)}};b();const x=j=>{j.key==="yolmov-auth-session"&&b()},C=j=>{var k;console.log(" Auth change event received:",(k=j.detail)==null?void 0:k.type),b()};window.addEventListener("storage",x),window.addEventListener("yolmov-auth-change",C);const E=setInterval(b,3e4);return()=>{m=!1,window.removeEventListener("storage",x),window.removeEventListener("yolmov-auth-change",C),clearInterval(E)}},[]);const f=async()=>{try{localStorage.removeItem("yolmov-auth-session"),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"logout"}})),c(null),a(!1),t("/")}catch(m){console.error("k hatas:",m),t("/")}},g=()=>r(!e);return y.jsxs("header",{className:"sticky top-0 z-50 w-full bg-white shadow-sm border-b border-gray-100 h-[80px] flex items-center",children:[y.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32 flex items-center justify-between h-full",children:[y.jsxs("div",{className:"flex items-center gap-8 lg:gap-12",children:[y.jsx("button",{className:"flex items-center cursor-pointer shrink-0 bg-transparent border-0 p-0",onClick:()=>t("/"),"aria-label":"Anasayfaya git",children:y.jsx("span",{className:"yolmov-logo text-3xl font-bold",style:{color:"#FF7A00"},children:"yolmov"})}),y.jsxs("nav",{className:"hidden md:flex items-center space-x-6 lg:space-x-8",children:[y.jsx("button",{onClick:()=>t("/hakkimizda"),className:"text-gray-600 hover:text-brand-orange font-medium transition-colors text-sm lg:text-base whitespace-nowrap",children:"Hakkmzda"}),y.jsx("button",{onClick:()=>t("/hizmetler"),className:"text-gray-600 hover:text-brand-orange font-medium transition-colors text-sm lg:text-base whitespace-nowrap",children:"Hizmetler"}),y.jsx("button",{onClick:()=>t("/iletisim"),className:"text-gray-600 hover:text-brand-orange font-medium transition-colors text-sm lg:text-base whitespace-nowrap",children:"letiim"}),y.jsx("button",{onClick:()=>t("/sss"),className:"text-gray-600 hover:text-brand-orange font-medium transition-colors text-sm lg:text-base whitespace-nowrap",children:"SSS"})]})]}),y.jsxs("div",{className:"hidden md:flex items-center gap-3 shrink-0",children:[o&&y.jsx(zR,{}),!o&&y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:()=>t("/giris/partner"),"aria-label":"Acente giri sayfasna git",className:"text-sm font-bold text-gray-700 hover:text-blue-600 px-3 py-2 transition-colors flex items-center gap-1",children:[y.jsx(lg,{size:16}),"Acente Girii"]}),y.jsx("div",{className:"w-px h-6 bg-gray-200 mx-1"}),y.jsx("button",{onClick:()=>t("/giris/musteri"),"aria-label":"Mteri giri sayfasna git",className:"px-6 py-2.5 rounded-xl border-2 font-semibold hover:bg-orange-50 transition-colors",style:{borderColor:"#FF7A00",color:"#FF7A00"},children:"Giri Yap"}),y.jsx("button",{onClick:()=>t("/partner/kayit"),"aria-label":"Partner kayt sayfasna git",className:"px-6 py-2.5 rounded-xl text-white font-semibold shadow-md hover:shadow-lg hover:opacity-95 transition-all transform hover:-translate-y-0.5",style:{background:"linear-gradient(to right, #FF7A00, #FF9933)"},children:"Partner Ol"})]}),o&&y.jsxs("div",{className:"relative",children:[y.jsxs("button",{onClick:()=>a(m=>!m),className:"flex items-center gap-3 px-3 py-2 rounded-xl border border-gray-200 hover:border-brand-orange hover:bg-orange-50 transition-colors",children:[y.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-orange-300 to-orange-500 text-white flex items-center justify-center font-bold text-sm overflow-hidden",children:o.avatarUrl?y.jsx("img",{src:o.avatarUrl,alt:"avatar",className:"w-full h-full object-cover"}):o.firstName.charAt(0)}),y.jsx("span",{className:"font-semibold text-gray-700",children:o.firstName})]}),i&&y.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-100 py-2 z-50 animate-fade-in",children:[y.jsx("button",{onClick:()=>{t("/musteri/profil"),a(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Profilim"}),y.jsx("div",{className:"my-1 h-px bg-gray-100"}),y.jsx("button",{onClick:()=>{f(),a(!1)},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"k Yap"})]})]})]}),y.jsx("div",{className:"md:hidden flex items-center gap-3",children:y.jsx("button",{className:"text-gray-600",onClick:g,"aria-label":e?"Meny kapat":"Meny a","aria-expanded":e,children:e?y.jsx(Xi,{size:28}):y.jsx(Vk,{size:28})})})]}),y.jsx(Tr,{children:e&&y.jsx(Ne.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"absolute top-[80px] left-0 w-full bg-white shadow-lg overflow-hidden md:hidden border-t border-gray-100",children:y.jsxs("div",{className:"flex flex-col p-6 space-y-4",children:[y.jsx("button",{onClick:()=>{t("/hakkimizda"),r(!1)},className:"text-lg font-medium text-gray-700 py-2 border-b border-gray-50 text-left",children:"Hakkmzda"}),y.jsx("button",{onClick:()=>{t("/hizmetler"),r(!1)},className:"text-lg font-medium text-gray-700 py-2 border-b border-gray-50 text-left",children:"Hizmetler"}),y.jsx("button",{onClick:()=>{t("/iletisim"),r(!1)},className:"text-lg font-medium text-gray-700 py-2 border-b border-gray-50 text-left",children:"letiim"}),y.jsx("button",{onClick:()=>{t("/sss"),r(!1)},className:"text-lg font-medium text-gray-700 py-2 border-b border-gray-50 text-left",children:"SSS"}),y.jsxs("div",{className:"pt-4 flex flex-col gap-3",children:[!o&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>{t("/giris/musteri"),r(!1)},className:"w-full py-3 rounded-xl border border-brand-orange text-brand-orange font-semibold",children:"Giri Yap"}),y.jsxs("button",{onClick:()=>{t("/giris/partner"),r(!1)},className:"w-full py-3 rounded-xl border border-blue-600 text-blue-600 font-semibold flex items-center justify-center gap-2",children:[y.jsx(lg,{size:18})," Acente Girii"]}),y.jsx("button",{onClick:()=>{t("/partner/kayit"),r(!1)},className:"w-full py-3 rounded-xl bg-brand-orange text-white font-semibold shadow-md",children:"Partner Ol"})]}),o&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>{t("/musteri/profil"),r(!1)},className:"w-full py-3 rounded-xl bg-gray-100 text-gray-700 font-semibold",children:"Profilim"}),y.jsx("button",{onClick:()=>{f(),r(!1)},className:"w-full py-3 rounded-xl bg-red-50 text-red-600 font-semibold",children:"k Yap"})]})]})]})})})]})},$i={CEKICI:"cekici",AKU:"aku",LASTIK:"lastik",YAKIT:"yakit",YARDIM:"yardim",TAMIR:"tamir",ANAHTAR:"anahtar"},cN={tow:$i.CEKICI,tire:$i.LASTIK,repair:$i.TAMIR,battery:$i.AKU,fuel:$i.YAKIT,locksmith:$i.ANAHTAR},Jd=[{id:"tow",title:"ekici Hizmeti",description:"Aracnz bozulduunda veya kaza durumunda en yakn ekici.",icon:Ol},{id:"battery",title:"Ak Takviyesi",description:"Aknz m bitti? Hzlca takviye veya deiim destei.",icon:jv},{id:"tire",title:"Lastik Deiimi",description:"Lastiiniz patladysa yerinde deiim veya tamir.",icon:Nv},{id:"fuel",title:"Yakt Getirme",description:"Yolda yaktnz bittiyse size en yakn istasyondan yakt.",icon:Iv},{id:"rescue",title:"Ara Kurtarma",description:"Zorlu koullarda yolda kalan aracnz iin kurtarma.",icon:Dk},{id:"general",title:"Genel Yol Yardm",description:"Anahtar kayb ve dier teknik sorunlar iin destek.",icon:t1}],BR=[{id:1,title:"Konumunu Belirt",description:"GPS zerinden konumunu payla veya adresi manuel gir.",icon:ih},{id:2,title:"Hizmeti Se",description:"htiyacn olan yol yardm hizmetini kategorilerden se.",icon:gd},{id:3,title:"Yardm Yola ksn",description:"En yakn uzman ekipten teklif al ve onayla.",icon:Ol}],$R=[{id:"trust",title:"Gvenilir Hizmet",icon:Jk},{id:"network",title:"Dorulanm Acente A",icon:Xk},{id:"speed",title:"Hzl Eriim",icon:md},{id:"support",title:"7/24 Canl Destek",icon:Dv}],Qo={Adana:["Alada","Ceyhan","ukurova","Feke","mamolu","Karaisal","Karata","Kozan","Pozant","Saimbeyli","Saram","Seyhan","Tufanbeyli","Yumurtalk","Yreir"],Adyaman:["Besni","elikhan","Gerger","Glba","Kahta","Merkez","Samsat","Sincik","Tut"],Afyonkarahisar:["Bamak","Bayat","Bolvadin","ay","obanlar","Dazkr","Dinar","Emirda","Evciler","Hocalar","hsaniye","scehisar","Kzlren","Merkez","Sandkl","Sinanpaa","Sultanda","uhut"],Ar:["Diyadin","Doubayazt","Elekirt","Hamur","Merkez","Patnos","Talay","Tutak"],Aksaray:["Aaren","Eskil","Glaa","Gzelyurt","Merkez","Ortaky","Saryahi","Sultanhan"],Amasya:["Gyncek","Gmhacky","Hamamz","Merkez","Merzifon","Suluova","Taova"],Ankara:["Akyurt","Altnda","Aya","Bala","Beypazar","amldere","ankaya","ubuk","Elmada","Etimesgut","Evren","Glba","Gdl","Haymana","Kalecik","Kahramankazan","Keiren","Kzlcahamam","Mamak","Nallhan","Polatl","Pursaklar","Sincan","ereflikohisar","Yenimahalle"],Antalya:["Akseki","Aksu","Alanya","Demre","Demealt","Elmal","Finike","Gazipaa","Gndomu","brad","Ka","Kemer","Kepez","Konyaalt","Korkuteli","Kumluca","Manavgat","Muratpaa","Serik"],Ardahan:["ldr","Damal","Gle","Hanak","Merkez","Posof"],Artvin:["Ardanu","Arhavi","Borka","Hopa","Kemalpaa","Merkez","Murgul","avat","Yusufeli"],Aydn:["Bozdoan","Buharkent","ine","Didim","Efeler","Germencik","ncirliova","Karacasu","Karpuzlu","Koarl","Kk","Kuadas","Kuyucak","Nazilli","Ske","Sultanhisar","Yenipazar"],Balkesir:["Altnyayla","Ayvalk","Balya","Bandrma","Bigadi","Burhaniye","Dursunbey","Edremit","Erdek","Gme","Gnen","Havran","vrindi","Karesi","Kepsut","Manyas","Marmara","Savatepe","Sndrg","Susurluk"],Bartn:["Amasra","Kurucaile","Merkez","Ulus"],Batman:["Beiri","Gerc","Hasankeyf","Kozluk","Merkez","Sason"],Bayburt:["Aydntepe","Demirz","Merkez"],Bilecik:["Bozyk","Glpazar","nhisar","Merkez","Osmaneli","Pazaryeri","St","Yenipazar"],Bingl:["Adakl","Gen","Karlova","Ki","Merkez","Solhan","Yayladere","Yedisu"],Bitlis:["Adilcevaz","Ahlat","Groymak","Hizan","Merkez","Mutki","Tatvan"],Bolu:["Drtdivan","Gerede","Gynk","Kbrsck","Mengen","Merkez","Mudurnu","Seben","Yeniaa"],Burdur:["Alasun","Altnyayla","Bucak","avdr","eltiki","Glhisar","Karamanl","Kemer","Merkez","Tefenni","Yeilova"],Bursa:["Bykorhan","Gemlik","Grsu","Harmanck","negl","znik","Karacabey","Keles","Kestel","Mudanya","Mustafakemalpaa","Nilfer","Orhaneli","Orhangazi","Osmangazi","Yeniehir","Yldrm"],anakkale:["Ayvack","Bayrami","Biga","Bozcaada","an","Eceabat","Ezine","Gelibolu","Gkeada","Lapseki","Merkez","Yenice"],ankr:["Atkaracalar","Bayramren","erke","Eldivan","Ilgaz","Kzlrmak","Korgun","Kurunlu","Merkez","Orta","abanz","Yaprakl"],orum:["Alaca","Bayat","Boazkale","Dodurga","skilip","Karg","Lain","Mecitz","Merkez","Ouzlar","Ortaky","Osmanck","Sungurlu","Uurluda"],Denizli:["Acpayam","Babada","Baklan","Bekilli","Beyaa","Bozkurt","Buldan","al","ameli","ardak","ivril","Gney","Honaz","Kale","Merkezefendi","Pamukkale","Sarayky","Serinhisar","Tavas"],Diyarbakr:["Balar","Bismil","ermik","nar","ng","Dicle","Eil","Ergani","Hani","Hazro","Kayapnar","Kocaky","Kulp","Lice","Silvan","Sur","Yeniehir"],Dzce:["Akakoca","Cumayeri","ilimli","Glyaka","Gmova","Kaynal","Merkez","Ylca"],Edirne:["Enez","Havsa","psala","Kean","Lalapaa","Meri","Merkez","Slolu","Uzunkpr"],Elaz:["An","Alacakaya","Arcak","Baskil","Karakoan","Keban","Kovanclar","Maden","Merkez","Palu","Sivrice"],Erzincan:["ayrl","li","Kemah","Kemaliye","Merkez","Otlukbeli","Refahiye","Tercan","zml"],Erzurum:["Akale","Aziziye","at","Hns","Horasan","spir","Karaoban","Karayaz","Kprky","Narman","Oltu","Olur","Palandken","Pasinler","Pazaryolu","enkaya","Tekman","Tortum","Uzundere","Yakutiye"],Eskiehir:["Alpu","Beylikova","ifteler","Gnyz","Han","nn","Mahmudiye","Mihalgazi","Mihalk","Odunpazar","Sarcakaya","Seyitgazi","Sivrihisar","Tepeba"],Gaziantep:["Araban","slahiye","Karkam","Nizip","Nurda","Ouzeli","ahinbey","ehitkamil","Yavuzeli"],Giresun:["Alucra","Bulancak","amoluk","anak","Dereli","Doankent","Espiye","Eynesil","Grele","Gce","Keap","Merkez","Piraziz","ebinkarahisar","Tirebolu","Yaldere"],Gmhane:["Kelkit","Kse","Krtn","Merkez","iran","Torul"],Hakkari:["ukurca","Derecik","Merkez","emdinli","Yksekova"],Hatay:["Altnz","Antakya","Arsuz","Belen","Defne","Drtyol","Erzin","Hassa","skenderun","Krkhan","Kumlu","Payas","Reyhanl","Samanda","Yaylada"],Idr:["Aralk","Karakoyunlu","Merkez","Tuzluca"],Isparta:["Aksu","Atabey","Eirdir","Gelendost","Gnen","Keiborlu","Merkez","Senirkent","Stler","arkikaraaa","Uluborlu","Yalva","Yeniarbademli"],stanbul:["Adalar","Arnavutky","Ataehir","Avclar","Baclar","Bahelievler","Bakrky","Baakehir","Bayrampaa","Beikta","Beykoz","Beylikdz","Beyolu","Bykekmece","atalca","ekmeky","Esenler","Esenyurt","Eypsultan","Fatih","Gaziosmanpaa","Gngren","Kadky","Kathane","Kartal","Kkekmece","Maltepe","Pendik","Sancaktepe","Saryer","Silivri","Sultanbeyli","Sultangazi","ile","ili","Tuzla","mraniye","skdar","Zeytinburnu"],zmir:["Aliaa","Balova","Bayndr","Bayrakl","Bergama","Beyda","Bornova","Buca","eme","ili","Dikili","Foa","Gaziemir","Gzelbahe","Karabalar","Karaburun","Karyaka","Kemalpaa","Knk","Kiraz","Konak","Menderes","Menemen","Narldere","demi","Seferihisar","Seluk","Tire","Torbal","Urla"],Kahramanmara:["Afin","Andrn","alayancerit","Dulkadirolu","Ekinz","Elbistan","Gksun","Nurhak","Onikiubat","Pazarck","Trkolu"],Karabk:["Eflani","Eskipazar","Merkez","Ovack","Safranbolu","Yenice"],Karaman:["Ayranc","Bayayla","Ermenek","Kazmkarabekir","Merkez","Sarveliler"],Kars:["Akyaka","Arpaay","Digor","Kazman","Merkez","Sarkam","Selim","Susuz"],Kastamonu:["Abana","Al","Ara","Azdavay","Bozkurt","Cide","atalzeytin","Daday","Devrekani","Doanyurt","Hann","hsangazi","nebolu","Kre","Merkez","Pnarba","Seydiler","enpazar","Takpr","Tosya"],Kayseri:["Akkla","Bnyan","Develi","Felahiye","Haclar","ncesu","Kocasinan","Melikgazi","zvatan","Pnarba","Sarolan","Sarz","Talas","Tomarza","Yahyal","Yeilhisar"],Krkkale:["Bahl","Baleyh","elebi","Delice","Karakeili","Keskin","Merkez","Sulakyurt","Yahihan"],Krklareli:["Babaeski","Demirky","Kofaz","Lleburgaz","Merkez","Pehlivanky","Pnarhisar","Vize"],Krehir:["Akakent","Akpnar","Boztepe","iekda","Kaman","Merkez","Mucur"],Kilis:["Elbeyli","Merkez","Musabeyli","Polateli"],Kocaeli:["Baiskele","ayrova","Darca","Derince","Dilovas","Gebze","Glck","zmit","Kandra","Karamrsel","Kartepe","Krfez"],Konya:["Ahrl","Akren","Akehir","Altnekin","Beyehir","Bozkr","Cihanbeyli","eltik","umra","Derbent","Derebucak","Doanhisar","Emirgazi","Ereli","Gneysnr","Hadim","Halkapnar","Hyk","Ilgn","Kadnhan","Karapnar","Karatay","Kulu","Meram","Sarayn","Seluklu","Seydiehir","Takent","Tuzluku","Yalhyk","Yunak"],Ktahya:["Altnta","Aslanapa","avdarhisar","Domani","Dumlupnar","Emet","Gediz","Hisarck","Merkez","Pazarlar","Simav","aphane","Tavanl"],Malatya:["Akada","Arapgir","Arguvan","Battalgazi","Darende","Doanehir","Doanyol","Hekimhan","Kale","Kuluncak","Ptrge","Yazhan","Yeilyurt"],Manisa:["Ahmetli","Akhisar","Alaehir","Demirci","Glmarmara","Grdes","Krkaa","Kprba","Kula","Salihli","Sargl","Saruhanl","Selendi","Soma","ehzadeler","Turgutlu","Yunusemre"],Mardin:["Artuklu","Dargeit","Derik","Kzltepe","Mazda","Midyat","Nusaybin","merli","Savur","Yeilli"],Mersin:["Akdeniz","Anamur","Aydnck","Bozyaz","amlyayla","Erdemli","Glnar","Mezitli","Mut","Silifke","Tarsus","Toroslar","Yeniehir"],Mula:["Bodrum","Dalaman","Data","Fethiye","Kavakldere","Kyceiz","Marmaris","Mentee","Milas","Ortaca","Seydikemer","Ula","Yataan"],Mu:["Bulank","Hasky","Korkut","Malazgirt","Merkez","Varto"],Nevehir:["Acgl","Avanos","Derinkuyu","Glehir","Hacbekta","Kozakl","Merkez","rgp"],Nide:["Altunhisar","Bor","amard","iftlik","Merkez","Ulukla"],Ordu:["Akku","Altnordu","Aybast","ama","atalpnar","ayba","Fatsa","Glky","Glyal","Grgentepe","kizce","Kabadz","Kabata","Korgan","Kumru","Mesudiye","Perembe","Ulubey","nye"],Osmaniye:["Bahe","Dzii","Hasanbeyli","Kadirli","Merkez","Sumbas","Toprakkale"],Rize:["Ardeen","amlhemin","ayeli","Derepazar","Fndkl","Gneysu","Hemin","kizdere","yidere","Kalkandere","Merkez","Pazar"],Sakarya:["Adapazar","Akyaz","Arifiye","Erenler","Ferizli","Geyve","Hendek","Karaprek","Karasu","Kaynarca","Kocaali","Pamukova","Sapanca","Serdivan","Stl","Tarakl"],Samsun:["19 Mays","Alaam","Asarck","Atakum","Ayvack","Bafra","Canik","aramba","Havza","lkadm","Kavak","Ladik","Salpazar","Tekkeky","Terme","Vezirkpr","Yakakent"],Siirt:["Baykan","Eruh","Kurtalan","Merkez","Pervari","irvan","Tillo"],Sinop:["Ayanck","Boyabat","Dikmen","Duraan","Erfelek","Gerze","Merkez","Saraydz","Trkeli"],Sivas:["Aknclar","Altnyayla","Divrii","Doanar","Gemerek","Glova","Grn","Hafik","mranl","Kangal","Koyulhisar","Merkez","Suehri","arkla","Ula","Yldzeli","Zara"],anlurfa:["Akakale","Birecik","Bozova","Ceylanpnar","Eyybiye","Halfeti","Haliliye","Harran","Hilvan","Karakpr","Siverek","Suru","Viranehir"],rnak:["Beytebap","Cizre","Glkonak","dil","Merkez","Silopi","Uludere"],Tekirda:["erkezky","orlu","Ergene","Hayrabolu","Kapakl","Malkara","Marmaraerelisi","Muratl","Saray","Sleymanpaa","arky"],Tokat:["Almus","Artova","Baiftlik","Erbaa","Merkez","Niksar","Pazar","Readiye","Sulusaray","Turhal","Yeilyurt","Zile"],Trabzon:["Akaabat","Arakl","Arsin","Beikdz","arba","aykara","Dernekpazar","Dzky","Hayrat","Kprba","Maka","Of","Ortahisar","Srmene","alpazar","Tonya","Vakfkebir","Yomra"],Tunceli:["emigezek","Hozat","Mazgirt","Merkez","Nazmiye","Ovack","Pertek","Plmr"],Uak:["Banaz","Eme","Karahall","Merkez","Sivasl","Ulubey"],Van:["Bahesaray","Bakale","aldran","atak","Edremit","Erci","Geva","Grpnar","pekyolu","Muradiye","zalp","Saray","Tuba"],Yalova:["Altnova","Armutlu","narck","iftlikky","Merkez","Termal"],Yozgat:["Akdamadeni","Aydnck","Boazlyan","andr","ayralan","ekerek","Kadehri","Merkez","Saraykent","Sarkaya","Sorgun","efaatli","Yenifakl","Yerky"],Zonguldak:["Alapl","aycuma","Devrek","Ereli","Gkebey","Kilimli","Kozlu","Merkez"]},uN={highDemand:[{from:"istanbul",to:"ankara",fromName:"stanbul",toName:"Ankara"},{from:"istanbul",to:"izmir",fromName:"stanbul",toName:"zmir"},{from:"istanbul",to:"antalya",fromName:"stanbul",toName:"Antalya"},{from:"ankara",to:"izmir",fromName:"Ankara",toName:"zmir"},{from:"ankara",to:"antalya",fromName:"Ankara",toName:"Antalya"},{from:"izmir",to:"antalya",fromName:"zmir",toName:"Antalya"}]},dN=[{id:"tekne",name:"Tekne Tama",slug:"tekne",description:"Tekne, yat ve deniz arac tama hizmeti",avgPrice:8e3,icon:"",targetCities:["mugla","antalya","izmir","istanbul"]},{id:"forklift",name:"Forklift Tama",slug:"forklift",description:" makinesi ve forklift nakliyesi",avgPrice:6500,icon:"",targetCities:["kocaeli","bursa","ankara","istanbul","izmir"]},{id:"karavan",name:"Karavan Tama",slug:"karavan",description:"Karavan ve motorhome ekici hizmeti",avgPrice:5500,icon:"",targetCities:["antalya","mugla","aydin","izmir"]},{id:"motosiklet",name:"Motosiklet ekici",slug:"motosiklet",description:"Motorsiklet ve ATV tama",avgPrice:2500,icon:"",targetCities:["istanbul","ankara","izmir","antalya"]},{id:"klasik-arac",name:"Klasik Ara Tama",slug:"klasik-arac",description:"Antika ve koleksiyon ara nakliyesi",avgPrice:9e3,icon:"",targetCities:["istanbul","ankara","izmir"]},{id:"is-makinesi",name:" Makinesi Tama",slug:"is-makinesi",description:"Vin, greyder, kazc tama",avgPrice:12e3,icon:"",targetCities:["ankara","istanbul","izmir","kocaeli","bursa"]}],hN=[{id:"lastikci",name:"Nbeti Lastiki",slug:"lastikci"},{id:"aku",name:"Nbeti Ak",slug:"aku"},{id:"cekici",name:"Nbeti ekici",slug:"cekici"},{id:"oto-elektrik",name:"Nbeti Oto Elektrik",slug:"oto-elektrik"},{id:"cam",name:"Nbeti Cam Tamiri",slug:"cam"}],fN=[{slug:"tem-otoyolu",name:"TEM Otoyolu",city:"stanbul",type:"highway"},{slug:"kuzey-marmara-otoyolu",name:"Kuzey Marmara Otoyolu",city:"stanbul",type:"highway"},{slug:"o-3-otoyolu",name:"O-3 Otoyolu (Avrupa)",city:"stanbul",type:"highway"},{slug:"o-4-otoyolu",name:"O-4 Otoyolu",city:"stanbul",type:"highway"},{slug:"ankara-izmir-otoyolu",name:"Ankara-zmir Otoyolu",city:"Ankara",type:"highway"},{slug:"istanbul-havalimani",name:"stanbul Havaliman",city:"stanbul",type:"airport"},{slug:"sabiha-gokcen",name:"Sabiha Gken Havaliman",city:"stanbul",type:"airport"},{slug:"esenboga-havalimani",name:"Esenboa Havaliman",city:"Ankara",type:"airport"},{slug:"izmir-adnan-menderes",name:"zmir Adnan Menderes Havaliman",city:"zmir",type:"airport"},{slug:"antalya-havalimani",name:"Antalya Havaliman",city:"Antalya",type:"airport"},{slug:"ostim-sanayi",name:"OSTM Sanayi Sitesi",city:"Ankara",type:"industrial"},{slug:"ikitelli-osb",name:"kitelli OSB",city:"stanbul",type:"industrial"},{slug:"dudullu-osb",name:"Dudullu OSB",city:"stanbul",type:"industrial"},{slug:"gebze-osb",name:"Gebze Organize Sanayi",city:"Kocaeli",type:"industrial"},{slug:"ege-serbest-bolge",name:"Ege Serbest Blgesi",city:"zmir",type:"industrial"},{slug:"maslak-oto-sanayi",name:"Maslak Oto Sanayi",city:"stanbul",type:"automotive"},{slug:"mecidiyekoy-oto-sanayi",name:"Mecidiyeky Oto Sanayi",city:"stanbul",type:"automotive"},{slug:"topkapi-oto-sanayi",name:"Topkap Oto Sanayi",city:"stanbul",type:"automotive"},{slug:"kozyatagi-oto-sanayi",name:"Kozyata Oto Sanayi",city:"stanbul",type:"automotive"}],pN=[{id:"cekici",name:"ekici Fiyatlar",slug:"cekici"},{id:"oto-kurtarma",name:"Oto Kurtarma Fiyatlar",slug:"oto-kurtarma"},{id:"lastik-degisimi",name:"Lastik Deiimi Fiyatlar",slug:"lastik-degisimi"},{id:"aku-takviyesi",name:"Ak Takviyesi Fiyatlar",slug:"aku-takviyesi"},{id:"sehirler-arasi",name:"ehirler Aras ekici Fiyatlar",slug:"sehirler-arasi"},{id:"yakit-yardimi",name:"Yakt Yardm Fiyatlar",slug:"yakit-yardimi"}],mN=2025,FR="/assets/1765057362098_kis-2.webp",VR=({onSearch:t})=>{const[e,r]=z.useState(!1),[i,a]=z.useState("city"),[o,c]=z.useState(""),[u,d]=z.useState(!1),[f,g]=z.useState("Konum alnyor..."),[m,w]=z.useState(""),[b,x]=z.useState(""),[C,E]=z.useState(!1),[j,D]=z.useState(""),[k,A]=z.useState(!1),[R,M]=z.useState("Arama balatlyor..."),[O,N]=z.useState(null),K=z.useRef(null),L=z.useRef(null),$=z.useRef(null),Y=z.useRef(null);z.useEffect(()=>{function ie(Te){K.current&&!K.current.contains(Te.target)&&r(!1),L.current&&!L.current.contains(Te.target)&&E(!1)}return document.addEventListener("mousedown",ie),()=>document.removeEventListener("mousedown",ie)},[]);const te=Object.keys(Qo),ue=m?Qo[m]:[],_e=i==="city"?te.filter(ie=>ie.toLocaleLowerCase("tr").includes(o.toLocaleLowerCase("tr"))):ue.filter(ie=>ie.toLocaleLowerCase("tr").includes(o.toLocaleLowerCase("tr"))),Se=Jd.find(ie=>ie.id===j),we=ie=>{D(ie),E(!1)},de=ie=>{var Te;w(ie),a("district"),c(""),(Te=$.current)==null||Te.focus()},oe=ie=>{x(ie),c(""),r(!1)},ge=ie=>{var Te;ie==null||ie.stopPropagation(),w(""),x(""),a("city"),c(""),r(!0),(Te=$.current)==null||Te.focus()},G=()=>{var ie;a("city"),x(""),w(""),c(""),(ie=$.current)==null||ie.focus()},ae=()=>{if(!navigator.geolocation){alert("Taraycnz konum zelliini desteklemiyor.");return}console.log(" Konum servisi isteniyor (Hero)..."),d(!0),g("GPS konumunuz alnyor..."),r(!1),navigator.geolocation.getCurrentPosition(async ie=>{console.log(" Konum alnd:",ie.coords),g("Adres bilgileri zlyor...");const{latitude:Te,longitude:$e}=ie.coords;try{console.log(" Reverse geocoding balatlyor...");const Be=await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${Te}&lon=${$e}&format=json&accept-language=tr`,{headers:{"User-Agent":"YOLMOV App"}});if(!Be.ok)throw new Error("Geocoding API hatas");const Ke=await Be.json();console.log(" Geocoding sonucu:",Ke),g("ehir ve ile eletiriliyor...");const Ge=Ke.address||{};let bt=Ge.province||Ge.state||Ge.city||Ge.town,ut=Ge.county||Ge.district||Ge.suburb||Ge.neighbourhood;console.log(" Tespit edilen ehir:",bt,"/ le:",ut);const it=Object.keys(Qo).find(le=>le.toLowerCase()===(bt==null?void 0:bt.toLowerCase()));if(it){console.log(" ehir eleti:",it),de(it);const F=Qo[it].find(J=>J.toLowerCase().includes(ut==null?void 0:ut.toLowerCase())||(ut==null?void 0:ut.toLowerCase().includes(J.toLowerCase())));F?(console.log(" le eleti:",F),g("Konum baaryla belirlendi!"),setTimeout(()=>{oe(F),d(!1)},500)):(console.warn(" le elemedi, ehir seildi"),a("district"),r(!0),d(!1))}else console.warn(" ehir sistemde bulunamad:",bt),d(!1),r(!0)}catch(Be){console.error(" Reverse geocoding error:",Be),alert("Konum bilgisi alnamad. Ltfen manuel olarak sein."),d(!1),r(!0)}},ie=>{console.error(" Geolocation error:",ie);let Te="Konum eriimi reddedildi.";switch(ie.code){case ie.PERMISSION_DENIED:Te="Konum izni reddedildi. Tarayc ayarlarndan konum iznini an.";break;case ie.POSITION_UNAVAILABLE:Te="Konum bilgisi kullanlamyor. GPS/Wi-Fi ak olduundan emin olun.";break;case ie.TIMEOUT:Te="Konum tespiti zaman amna urad. Tekrar deneyin.";break}console.error("Konum hatas:",Te),d(!1),r(!0)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},xe=async()=>{if(Y.current){const ie=Y.current.getBoundingClientRect();N({top:ie.top,left:ie.left,width:ie.width,height:ie.height}),A(!0),M("Konumunuz analiz ediliyor...");const Te=setTimeout(()=>{M("Blgedeki uzmanlar taranyor...")},800),$e=setTimeout(()=>{M("Msaitlik durumlar kontrol ediliyor...")},1800),Be=2500,Ke=Date.now();try{const Ge=await Cr.partnerSearch.getAvailablePartners(m,b);sessionStorage.setItem("yolmov_search_results",JSON.stringify({partners:Ge,city:m,district:b,timestamp:Date.now()}));const bt=Date.now()-Ke,ut=Math.max(0,Be-bt);await new Promise(it=>setTimeout(it,ut)),M("Sonular hazr!"),setTimeout(()=>{clearTimeout(Te),clearTimeout($e),t&&t(m,b,j)},400)}catch(Ge){console.error("Partner arama hatas:",Ge),M("Sonular hazr!"),setTimeout(()=>{clearTimeout(Te),clearTimeout($e),t&&t(m,b,j)},400)}}},ye=()=>{if(!j)return y.jsx(cg,{size:64,className:"text-white",strokeWidth:1.5});switch(j){case"tow":return y.jsx(Ol,{size:64,className:"text-white",strokeWidth:1.5});case"battery":return y.jsx(jv,{size:64,className:"text-white",strokeWidth:1.5});case"tire":return y.jsx(Nv,{size:64,className:"text-white",strokeWidth:1.5});case"fuel":return y.jsx(Iv,{size:64,className:"text-white",strokeWidth:1.5});default:return y.jsx(cg,{size:64,className:"text-white",strokeWidth:1.5})}};return y.jsxs("section",{className:"relative w-full min-h-[700px] flex items-center z-30",children:[k&&O&&y.jsx(Ne.div,{initial:{position:"fixed",top:O.top,left:O.left,width:O.width,height:O.height,borderRadius:"1.5rem",backgroundColor:"#FF7A00",zIndex:9999,opacity:1},animate:{top:0,left:0,width:"100vw",height:"100vh",borderRadius:0},transition:{duration:.6,ease:[.645,.045,.355,1]},className:"flex flex-col items-center justify-center overflow-hidden",children:y.jsxs(Ne.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3,duration:.4},className:"flex flex-col items-center text-white p-6 text-center w-full max-w-lg",children:[y.jsx(Ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-10",children:y.jsx("h1",{className:"yolmov-logo text-5xl font-bold text-white",children:"yolmov"})}),y.jsxs("div",{className:"relative w-full h-40 flex items-center justify-center mb-8 overflow-hidden",children:[y.jsx("div",{className:"absolute w-32 h-32 bg-white/10 rounded-full animate-ping opacity-20"}),y.jsx("div",{className:"absolute w-48 h-48 bg-white/5 rounded-full animate-ping opacity-10 delay-150"}),y.jsx("div",{className:"absolute bottom-10 w-[200%] flex gap-12 animate-move-left opacity-30",children:[1,2,3,4,5,6,7,8].map(ie=>y.jsx("div",{className:"w-16 h-1 bg-white rounded-full"},ie))}),y.jsxs(Ne.div,{animate:{y:[0,-4,0]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},className:"relative z-10 drop-shadow-[0_10px_20px_rgba(0,0,0,0.3)]",children:[ye(),y.jsx("div",{className:"absolute -bottom-2 left-2 right-2 h-1.5 bg-black/20 rounded-[100%] blur-sm"})]}),y.jsx(Ne.div,{className:"absolute top-10 right-10 w-10 h-0.5 bg-white/40 rounded-full",animate:{x:[50,-100],opacity:[0,1,0]},transition:{repeat:1/0,duration:.8,delay:.2}}),y.jsx(Ne.div,{className:"absolute bottom-12 right-0 w-16 h-0.5 bg-white/30 rounded-full",animate:{x:[50,-100],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.1}})]}),y.jsx("div",{className:"h-20 flex flex-col items-center justify-center",children:y.jsx(Tr,{mode:"wait",children:y.jsx(Ne.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"text-3xl md:text-4xl font-display font-bold tracking-tight leading-tight text-white",children:R},R)})}),y.jsx(Ne.div,{className:"w-64 h-1.5 bg-black/10 rounded-full mt-8 overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:y.jsx(Ne.div,{className:"h-full bg-white rounded-full",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:2.8,ease:"easeInOut"}})})]})}),y.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden",children:[y.jsx("img",{src:FR,className:"absolute inset-0 w-full h-full object-cover",alt:"Yolmov K Manzaras"}),y.jsx("div",{className:"absolute inset-0 bg-black/20 z-10"})]}),y.jsx("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32 relative z-20 pt-4 md:pt-10 pb-10",children:y.jsxs("div",{className:"flex flex-col items-center text-center max-w-5xl mx-auto",children:[y.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"mb-4 md:mb-10",children:[y.jsxs("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-display font-black text-white leading-tight mb-1 md:mb-6 tracking-tight",style:{textShadow:"0 4px 12px rgba(0,0,0,0.6), 0 2px 4px rgba(0,0,0,0.4)"},children:["Yolda Kaldnzda ",y.jsx("br",{className:"hidden md:block"}),y.jsx("span",{className:"inline-block mt-1 md:mt-2",style:{color:"#FF7A00",textShadow:"0 4px 12px rgba(255,122,0,0.6), 0 2px 4px rgba(0,0,0,0.4)"},children:"Yannzdayz."})]}),y.jsx("p",{className:"text-sm md:text-lg text-white max-w-xl mx-auto font-medium leading-snug",style:{textShadow:"0 2px 8px rgba(0,0,0,0.6)"},children:"ekici, ak takviyesi, yakt, lastik ve yol yardm hizmetlerine tek tkla, gvenle ulan."})]}),y.jsx(Ne.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"w-full max-w-5xl relative z-50",children:y.jsxs("div",{className:"bg-white rounded-[2rem] shadow-[0_20px_50px_rgba(0,0,0,0.4)] border border-white/20 flex flex-col md:flex-row p-3 items-center backdrop-blur-sm bg-white/95 relative z-50",children:[y.jsxs("div",{className:"relative w-full md:flex-1 group",ref:K,children:[y.jsxs("div",{className:`flex items-center h-20 px-6 cursor-pointer rounded-[1.5rem] transition-all duration-200 border border-transparent ${e?"bg-white shadow-lg border-gray-100":"hover:bg-gray-50"}`,onClick:()=>{var ie;k||(r(!0),E(!1),(ie=$.current)==null||ie.focus())},children:[y.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mr-4 transition-colors ${e?"bg-brand-orange text-white":"bg-orange-50 text-brand-orange"}`,children:y.jsx(ih,{size:22,strokeWidth:2.5})}),y.jsxs("div",{className:"flex-1 flex flex-col items-start overflow-hidden",children:[y.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:m&&i==="district"?"Hangi le?":"Neredesin?"}),!e&&m?y.jsxs("div",{className:"w-full text-gray-800 font-bold text-lg truncate",children:[m," ",b?`/ ${b}`:""]}):y.jsx("input",{ref:$,type:"text",className:"w-full bg-transparent border-none p-0 text-gray-800 font-bold text-lg placeholder-gray-300 focus:ring-0 leading-tight truncate",placeholder:i==="city"?"l ara...":`${m} > le ara...`,value:o,onChange:ie=>{c(ie.target.value),e||r(!0)},onFocus:()=>r(!0),autoComplete:"off",disabled:k})]}),m&&y.jsx("button",{onClick:ge,className:"p-1 text-gray-300 hover:text-red-500 transition-colors z-20",disabled:k,children:y.jsx(zk,{size:20})})]}),y.jsx(Tr,{children:e&&!k&&y.jsxs(Ne.div,{initial:{opacity:0,scale:.98,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.98,y:10},transition:{duration:.2},className:"absolute top-[110%] left-0 w-full md:min-w-[350px] bg-white rounded-2xl shadow-2xl border border-gray-100 max-h-[350px] overflow-y-auto z-[60] py-2 scrollbar-thin scrollbar-thumb-gray-200",children:[y.jsxs("div",{className:"px-2 pb-2 mb-2 border-b border-gray-50 sticky top-0 bg-white z-10 flex flex-col gap-1",children:[i==="district"&&y.jsxs("button",{onClick:G,className:"flex items-center gap-2 text-gray-500 hover:text-brand-orange text-sm px-4 py-2 transition-colors font-medium",children:[y.jsx(Ov,{size:16}),"l Seimine Dn (",m,")"]}),i==="city"&&y.jsxs("button",{className:"w-full flex items-center gap-3 text-brand-orange font-semibold p-3 hover:bg-orange-50 rounded-xl transition-colors text-sm disabled:opacity-50",onClick:ae,disabled:u,children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center",children:y.jsx(Hk,{size:14,fill:"currentColor",className:u?"animate-spin":""})}),u?"Konum Alnyor...":"Mevcut Konumumu Kullan"]})]}),y.jsxs("div",{className:"px-2",children:[y.jsx("div",{className:"px-4 py-1 text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:i==="city"?"ehirler":`${m} leleri`}),_e.length>0?_e.map(ie=>y.jsxs("div",{className:`px-4 py-3 hover:bg-gray-50 cursor-pointer rounded-xl flex items-center justify-between group transition-colors mb-1 
                                ${i==="city"&&m===ie||i==="district"&&b===ie?"bg-gray-50":""}`,onClick:()=>{i==="city"?de(ie):oe(ie)},children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300 group-hover:bg-brand-orange transition-colors"}),y.jsx("span",{className:`text-sm font-medium ${i==="city"&&m===ie||i==="district"&&b===ie?"text-brand-orange":"text-gray-700"}`,children:ie})]}),(i==="city"&&m===ie||i==="district"&&b===ie)&&y.jsx(pd,{size:18,className:"text-brand-orange"})]},ie)):y.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"Sonu bulunamad."})]})]})})]}),y.jsx("div",{className:"hidden md:block w-[1px] h-12 bg-gray-100 mx-2"}),y.jsxs("div",{className:"relative w-full md:flex-1 group border-t border-gray-100 md:border-0",ref:L,children:[y.jsxs("div",{className:`flex items-center h-20 px-6 cursor-pointer rounded-[1.5rem] transition-all duration-200 border border-transparent ${C?"bg-white shadow-lg border-gray-100":"hover:bg-gray-50"}`,onClick:()=>{k||(E(!C),r(!1))},children:[y.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mr-4 transition-colors ${C?"bg-brand-orange text-white":"bg-orange-50 text-brand-orange"}`,children:Se?y.jsx(Se.icon,{size:22,strokeWidth:2.5}):y.jsx(gd,{size:22,strokeWidth:2.5})}),y.jsxs("div",{className:"flex-1 flex flex-col items-start",children:[y.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"htiyacn Nedir?"}),y.jsxs("div",{className:"flex items-center justify-between w-full pr-2",children:[y.jsx("span",{className:`text-lg font-bold truncate ${Se?"text-gray-800":"text-gray-300"}`,children:Se?Se.title:"Hizmet Sein"}),y.jsx(Lk,{size:18,className:`text-gray-400 transition-transform duration-300 ${C?"rotate-180 text-brand-orange":""}`})]})]})]}),y.jsx(Tr,{children:C&&!k&&y.jsx(Ne.div,{initial:{opacity:0,scale:.98,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.98,y:10},transition:{duration:.2},className:"absolute top-[110%] left-0 md:-left-12 w-full md:w-[120%] bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden z-[60]",children:y.jsx("div",{className:"p-3 grid grid-cols-1 md:grid-cols-2 gap-2 max-h-[400px] overflow-y-auto",children:Jd.map(ie=>y.jsxs("div",{onClick:()=>we(ie.id),className:`flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all border border-transparent hover:border-orange-100 hover:bg-orange-50/50 ${j===ie.id?"bg-orange-50 border-orange-200":""}`,children:[y.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 shadow-sm ${j===ie.id?"bg-brand-orange text-white":"bg-white text-brand-orange"}`,children:y.jsx(ie.icon,{size:18})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h4",{className:`text-sm font-bold ${j===ie.id?"text-brand-orange":"text-gray-800"}`,children:ie.title}),y.jsx("p",{className:"text-[11px] text-gray-400 line-clamp-1 leading-normal mt-0.5",children:ie.description})]}),j===ie.id&&y.jsx(pd,{size:16,className:"text-brand-orange"})]},ie.id))})})})]}),y.jsx("div",{className:"p-2 w-full md:w-auto",children:y.jsxs("button",{ref:Y,onClick:xe,disabled:k,"aria-label":"Hizmet ara ve talep olutur",className:"w-full md:w-auto h-16 md:h-20 px-8 text-white rounded-[1.5rem] shadow-lg shadow-orange-200 transition-all transform hover:scale-105 active:scale-95 flex items-center justify-center gap-3 whitespace-nowrap group disabled:opacity-0",style:{backgroundColor:"#FF7A00"},children:[y.jsx("span",{className:"font-bold text-lg",children:"Hemen Bul"}),y.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center group-hover:bg-white/30 transition-colors",children:y.jsx(gd,{size:18,strokeWidth:3})})]})})]})})]})}),y.jsx(Tr,{children:u&&y.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:y.jsxs(Ne.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",damping:20},className:"bg-white rounded-3xl p-10 flex flex-col items-center shadow-2xl max-w-md mx-4",children:[y.jsxs("div",{className:"relative mb-6",children:[y.jsx(nh,{className:"animate-spin text-brand-orange",size:64,strokeWidth:2.5}),y.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-orange-100 animate-pulse"})]}),y.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Konumunuz Belirleniyor"}),y.jsx("p",{className:"text-lg text-gray-600 text-center",children:f})]})})}),y.jsx("style",{children:`
        @keyframes move-left {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
        .animate-move-left {
          animation: move-left 1s linear infinite;
        }
      `})]})},qR=()=>y.jsx("section",{className:"relative z-10 py-16 md:py-24 bg-white",id:"services",children:y.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-brand-dark mb-4",children:"Hangi Hizmete htiyacnz Var?"}),y.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto",children:"Aracnzla ilgili her trl sorunda uzman ekiplerimiz bir tk uzanzda."})]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:Jd.map((t,e)=>y.jsxs(Ne.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.1,duration:.5},className:"group p-8 rounded-2xl border border-gray-100 bg-white hover:shadow-[0_8px_30px_rgb(0,0,0,0.06)] hover:border-orange-100 transition-all duration-300 cursor-pointer",children:[y.jsx("div",{className:"w-14 h-14 rounded-xl bg-orange-50 flex items-center justify-center mb-6 group-hover:bg-brand-orange transition-colors duration-300",children:y.jsx(t.icon,{className:"w-7 h-7 text-brand-orange group-hover:text-white transition-colors duration-300",strokeWidth:2})}),y.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3 group-hover:text-brand-orange transition-colors",children:t.title}),y.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:t.description})]},t.id))})]})}),KR=()=>y.jsxs("section",{className:"py-24 bg-gray-50 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 w-1/3 h-1/3 bg-orange-100/40 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/3 pointer-events-none"}),y.jsx("div",{className:"absolute bottom-0 left-0 w-1/3 h-1/3 bg-blue-100/40 rounded-full blur-[100px] translate-y-1/2 -translate-x-1/3 pointer-events-none"}),y.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32 relative z-10",children:[y.jsxs("div",{className:"text-center mb-20 max-w-3xl mx-auto",children:[y.jsx(Ne.span,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-brand-orange font-bold uppercase tracking-wider text-xs md:text-sm mb-3 block",children:"Kolay Kullanm"}),y.jsx(Ne.h2,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-3xl md:text-4xl font-display font-bold text-brand-dark mb-6",children:"Yolmov Nasl alr?"}),y.jsx(Ne.p,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-gray-500 text-lg font-light",children:"Karmak srelerle uramayn. Sadece 3 basit admda, ihtiyacnz olan uzman yardm bulunduunuz konuma ynlendiriyoruz."})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 relative",children:[y.jsx("div",{className:"hidden md:block absolute top-[40%] left-10 right-10 h-0.5 bg-gradient-to-r from-gray-200 via-brand-orange/30 to-gray-200 -z-0 border-t border-dashed border-gray-300"}),BR.map((t,e)=>y.jsxs(Ne.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.2},className:"relative bg-white p-8 rounded-[2rem] shadow-xl shadow-gray-100/50 border border-gray-100 hover:-translate-y-2 transition-transform duration-500 z-10 group overflow-hidden",children:[y.jsxs("div",{className:"absolute -top-6 -right-6 text-[8rem] font-display font-black text-gray-50 group-hover:text-orange-50/60 transition-colors select-none -z-10 pointer-events-none leading-none",children:["0",t.id]}),y.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-50 to-white border border-orange-100 rounded-2xl flex items-center justify-center mb-8 shadow-sm group-hover:shadow-md group-hover:scale-110 transition-all duration-300 group-hover:bg-brand-orange group-hover:border-brand-orange",children:y.jsx(t.icon,{className:"w-7 h-7 text-brand-orange group-hover:text-white transition-colors duration-300",strokeWidth:2})}),y.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3 group-hover:text-brand-orange transition-colors",children:t.title}),y.jsx("p",{className:"text-gray-500 leading-relaxed text-sm md:text-base",children:t.description}),e<2&&y.jsx("div",{className:"md:hidden absolute bottom-4 right-4 text-orange-100",children:y.jsx(fd,{className:"rotate-90 w-6 h-6"})})]},t.id))]})]})]}),WR=()=>y.jsx("section",{className:"py-16 bg-white",children:y.jsx("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32",children:y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-8",children:$R.map(t=>y.jsxs("div",{className:"flex flex-col items-center text-center p-6 bg-gray-50 rounded-xl hover:bg-orange-50/50 transition-colors",children:[y.jsx("div",{className:"mb-4 p-3 bg-white rounded-xl shadow-sm",children:y.jsx(t.icon,{className:"w-6 h-6 text-brand-orange"})}),y.jsx("h4",{className:"font-bold text-gray-800 text-sm md:text-base",children:t.title})]},t.id))})})}),GR=()=>{const t=z.useRef(null),e=di(),[r,i]=z.useState([]),[a,o]=z.useState(!0);z.useEffect(()=>{(async()=>{try{const d=await K_.getActive();i(d)}catch(d){console.error("Kampanyalar yklenemedi:",d),i([])}finally{o(!1)}})()},[]);const c=u=>{if(t.current){const{current:d}=t,f=u==="left"?-d.offsetWidth/2:d.offsetWidth/2;d.scrollBy({left:f,behavior:"smooth"})}};return!a&&r.length===0?null:a?y.jsx("section",{className:"py-20 bg-white border-t border-gray-100 overflow-hidden",children:y.jsx("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32",children:y.jsxs("div",{className:"animate-pulse",children:[y.jsx("div",{className:"h-4 w-24 bg-slate-200 rounded mb-4"}),y.jsx("div",{className:"h-8 w-64 bg-slate-200 rounded mb-2"}),y.jsx("div",{className:"h-4 w-96 bg-slate-200 rounded mb-10"}),y.jsxs("div",{className:"flex gap-6",children:[y.jsx("div",{className:"min-w-[85vw] md:min-w-[calc(50%-12px)] lg:min-w-[calc(33.33%-16px)] h-[450px] bg-slate-200 rounded-3xl"}),y.jsx("div",{className:"min-w-[85vw] md:min-w-[calc(50%-12px)] lg:min-w-[calc(33.33%-16px)] h-[450px] bg-slate-200 rounded-3xl"})]})]})})}):y.jsx("section",{className:"py-20 bg-white border-t border-gray-100 overflow-hidden","aria-label":"Frsatlar ve Kampanyalar blm",children:y.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32",children:[y.jsxs("div",{className:"flex justify-between items-end mb-10",children:[y.jsxs("div",{children:[y.jsx("span",{className:"font-bold uppercase tracking-wider text-xs md:text-sm mb-2 block",style:{color:"#FF7A00"},children:"Avantajlar"}),y.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-brand-dark",children:"Frsatlar ve Kampanyalar"}),y.jsx("p",{className:"text-gray-500 mt-2 max-w-xl",children:"Yolmov kullanclarna zel indirimler, i birlikleri ve mevsimsel avantajlar kefedin."})]}),y.jsxs("div",{className:"hidden md:flex gap-3",children:[y.jsx("button",{onClick:()=>c("left"),"aria-label":"nceki kampanyalar",className:"w-12 h-12 rounded-full border border-gray-200 flex items-center justify-center text-gray-600 hover:text-white hover:border-brand-orange transition-all",style:{hover:{backgroundColor:"#FF6B35"}},children:y.jsx(Ov,{size:24})}),y.jsx("button",{onClick:()=>c("right"),"aria-label":"Sonraki kampanyalar",className:"w-12 h-12 rounded-full border border-gray-200 flex items-center justify-center text-gray-600 hover:text-white hover:border-brand-orange transition-all",style:{hover:{backgroundColor:"#FF6B35"}},children:y.jsx(Mk,{size:24})})]})]}),y.jsxs("div",{ref:t,className:"flex gap-6 overflow-x-auto pb-8 snap-x snap-mandatory scrollbar-hide -mx-4 px-4 md:mx-0 md:px-0",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[r.map((u,d)=>y.jsxs(Ne.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:d*.1},onClick:()=>e(`/kampanya/${u.id}`),className:"min-w-[85vw] md:min-w-[calc(50%-12px)] lg:min-w-[calc(33.33%-16px)] snap-center group relative h-[450px] rounded-3xl overflow-hidden cursor-pointer shadow-md",children:[y.jsx("img",{src:u.image_url,alt:u.title,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent opacity-90 group-hover:opacity-100 transition-opacity"}),y.jsxs("div",{className:"absolute inset-0 p-8 flex flex-col justify-between",children:[y.jsx("div",{className:"flex justify-start",children:u.badge_text&&y.jsx("span",{className:"px-4 py-2 bg-white/20 backdrop-blur-md text-white text-xs font-bold uppercase tracking-wider rounded-xl border border-white/30 shadow-sm",children:u.badge_text})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-2xl font-bold text-white mb-3 leading-tight group-hover:text-brand-orange transition-colors",children:u.title}),y.jsx("p",{className:"text-gray-300 text-sm mb-6 line-clamp-2 leading-relaxed",children:u.description}),y.jsxs("div",{className:"flex items-center gap-2 text-white font-bold text-sm group/btn",children:[y.jsx("span",{className:"border-b-2 border-white/30 group-hover/btn:border-brand-orange pb-1 transition-colors",children:"Detayl Bilgi"}),y.jsx(fd,{size:16,className:"group-hover/btn:translate-x-1 transition-transform"})]})]})]})]},u.id)),y.jsxs(Ne.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:r.length*.1},onClick:()=>e("/kampanyalar"),className:"min-w-[85vw] md:min-w-[calc(50%-12px)] lg:min-w-[calc(33.33%-16px)] snap-center bg-gray-50 rounded-3xl flex flex-col items-center justify-center p-8 border-2 border-dashed border-gray-200 hover:border-brand-orange hover:bg-orange-50 transition-all cursor-pointer group h-[450px]",children:[y.jsx("div",{className:"w-20 h-20 rounded-full bg-white shadow-md flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:y.jsx(fd,{size:32,className:"text-brand-orange"})}),y.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2 group-hover:text-brand-orange transition-colors",children:"Tm Kampanyalar"}),y.jsx("p",{className:"text-gray-500 text-center text-base max-w-xs",children:"Gemi ve gelecek tm frsatlar incelemek iin tklayn."})]})]})]})})};function Xo(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ad={exports:{}},sv;function HR(){return sv||(sv=1,(function(t,e){(function(r){t.exports=r()})(function(){var r=Math.floor,i=Math.abs,a=Math.pow;return(function(){function o(c,u,d){function f(w,b){if(!u[w]){if(!c[w]){var x=typeof Xo=="function"&&Xo;if(!b&&x)return x(w,!0);if(g)return g(w,!0);var C=new Error("Cannot find module '"+w+"'");throw C.code="MODULE_NOT_FOUND",C}var E=u[w]={exports:{}};c[w][0].call(E.exports,function(j){var D=c[w][1][j];return f(D||j)},E,E.exports,o,c,u,d)}return u[w].exports}for(var g=typeof Xo=="function"&&Xo,m=0;m<d.length;m++)f(d[m]);return f}return o})()({1:[function(o,c,u){function d(A){var R=A.length;if(0<R%4)throw new Error("Invalid string. Length must be a multiple of 4");var M=A.indexOf("=");M===-1&&(M=R);var O=M===R?0:4-M%4;return[M,O]}function f(A,R,M){return 3*(R+M)/4-M}function g(A){var R,M,O=d(A),N=O[0],K=O[1],L=new E(f(A,N,K)),$=0,Y=0<K?N-4:N;for(M=0;M<Y;M+=4)R=C[A.charCodeAt(M)]<<18|C[A.charCodeAt(M+1)]<<12|C[A.charCodeAt(M+2)]<<6|C[A.charCodeAt(M+3)],L[$++]=255&R>>16,L[$++]=255&R>>8,L[$++]=255&R;return K===2&&(R=C[A.charCodeAt(M)]<<2|C[A.charCodeAt(M+1)]>>4,L[$++]=255&R),K===1&&(R=C[A.charCodeAt(M)]<<10|C[A.charCodeAt(M+1)]<<4|C[A.charCodeAt(M+2)]>>2,L[$++]=255&R>>8,L[$++]=255&R),L}function m(A){return x[63&A>>18]+x[63&A>>12]+x[63&A>>6]+x[63&A]}function w(A,R,M){for(var O,N=[],K=R;K<M;K+=3)O=(16711680&A[K]<<16)+(65280&A[K+1]<<8)+(255&A[K+2]),N.push(m(O));return N.join("")}function b(A){for(var R,M=A.length,O=M%3,N=[],K=16383,L=0,$=M-O;L<$;L+=K)N.push(w(A,L,L+K>$?$:L+K));return O===1?(R=A[M-1],N.push(x[R>>2]+x[63&R<<4]+"==")):O===2&&(R=(A[M-2]<<8)+A[M-1],N.push(x[R>>10]+x[63&R>>4]+x[63&R<<2]+"=")),N.join("")}u.byteLength=function(A){var R=d(A),M=R[0],O=R[1];return 3*(M+O)/4-O},u.toByteArray=g,u.fromByteArray=b;for(var x=[],C=[],E=typeof Uint8Array>"u"?Array:Uint8Array,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=0,k=j.length;D<k;++D)x[D]=j[D],C[j.charCodeAt(D)]=D;C[45]=62,C[95]=63},{}],2:[function(){},{}],3:[function(o,c,u){(function(){(function(){var d=String.fromCharCode,f=Math.min;function g(p){if(2147483647<p)throw new RangeError('The value "'+p+'" is invalid for option "size"');var S=new Uint8Array(p);return S.__proto__=m.prototype,S}function m(p,S,T){if(typeof p=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(p)}return w(p,S,T)}function w(p,S,T){if(typeof p=="string")return E(p,S);if(ArrayBuffer.isView(p))return j(p);if(p==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);if(F(p,ArrayBuffer)||p&&F(p.buffer,ArrayBuffer))return D(p,S,T);if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var V=p.valueOf&&p.valueOf();if(V!=null&&V!==p)return m.from(V,S,T);var H=k(p);if(H)return H;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof p[Symbol.toPrimitive]=="function")return m.from(p[Symbol.toPrimitive]("string"),S,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p)}function b(p){if(typeof p!="number")throw new TypeError('"size" argument must be of type number');if(0>p)throw new RangeError('The value "'+p+'" is invalid for option "size"')}function x(p,S,T){return b(p),0>=p||S===void 0?g(p):typeof T=="string"?g(p).fill(S,T):g(p).fill(S)}function C(p){return b(p),g(0>p?0:0|A(p))}function E(p,S){if((typeof S!="string"||S==="")&&(S="utf8"),!m.isEncoding(S))throw new TypeError("Unknown encoding: "+S);var T=0|R(p,S),V=g(T),H=V.write(p,S);return H!==T&&(V=V.slice(0,H)),V}function j(p){for(var S=0>p.length?0:0|A(p.length),T=g(S),V=0;V<S;V+=1)T[V]=255&p[V];return T}function D(p,S,T){if(0>S||p.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(p.byteLength<S+(T||0))throw new RangeError('"length" is outside of buffer bounds');var V;return V=S===void 0&&T===void 0?new Uint8Array(p):T===void 0?new Uint8Array(p,S):new Uint8Array(p,S,T),V.__proto__=m.prototype,V}function k(p){if(m.isBuffer(p)){var S=0|A(p.length),T=g(S);return T.length===0||p.copy(T,0,0,S),T}return p.length===void 0?p.type==="Buffer"&&Array.isArray(p.data)?j(p.data):void 0:typeof p.length!="number"||J(p.length)?g(0):j(p)}function A(p){if(p>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|p}function R(p,S){if(m.isBuffer(p))return p.length;if(ArrayBuffer.isView(p)||F(p,ArrayBuffer))return p.byteLength;if(typeof p!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof p);var T=p.length,V=2<arguments.length&&arguments[2]===!0;if(!V&&T===0)return 0;for(var H=!1;;)switch(S){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return Ge(p).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*T;case"hex":return T>>>1;case"base64":return it(p).length;default:if(H)return V?-1:Ge(p).length;S=(""+S).toLowerCase(),H=!0}}function M(p,S,T){var V=!1;if((S===void 0||0>S)&&(S=0),S>this.length||((T===void 0||T>this.length)&&(T=this.length),0>=T)||(T>>>=0,S>>>=0,T<=S))return"";for(p||(p="utf8");;)switch(p){case"hex":return G(this,S,T);case"utf8":case"utf-8":return we(this,S,T);case"ascii":return oe(this,S,T);case"latin1":case"binary":return ge(this,S,T);case"base64":return Se(this,S,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,S,T);default:if(V)throw new TypeError("Unknown encoding: "+p);p=(p+"").toLowerCase(),V=!0}}function O(p,S,T){var V=p[S];p[S]=p[T],p[T]=V}function N(p,S,T,V,H){if(p.length===0)return-1;if(typeof T=="string"?(V=T,T=0):2147483647<T?T=2147483647:-2147483648>T&&(T=-2147483648),T=+T,J(T)&&(T=H?0:p.length-1),0>T&&(T=p.length+T),T>=p.length){if(H)return-1;T=p.length-1}else if(0>T)if(H)T=0;else return-1;if(typeof S=="string"&&(S=m.from(S,V)),m.isBuffer(S))return S.length===0?-1:K(p,S,T,V,H);if(typeof S=="number")return S&=255,typeof Uint8Array.prototype.indexOf=="function"?H?Uint8Array.prototype.indexOf.call(p,S,T):Uint8Array.prototype.lastIndexOf.call(p,S,T):K(p,[S],T,V,H);throw new TypeError("val must be string, number or Buffer")}function K(p,S,T,V,H){function Z(Fr,an){return me===1?Fr[an]:Fr.readUInt16BE(an*me)}var me=1,ze=p.length,Xe=S.length;if(V!==void 0&&(V=(V+"").toLowerCase(),V==="ucs2"||V==="ucs-2"||V==="utf16le"||V==="utf-16le")){if(2>p.length||2>S.length)return-1;me=2,ze/=2,Xe/=2,T/=2}var Ve;if(H){var Fe=-1;for(Ve=T;Ve<ze;Ve++)if(Z(p,Ve)!==Z(S,Fe===-1?0:Ve-Fe))Fe!==-1&&(Ve-=Ve-Fe),Fe=-1;else if(Fe===-1&&(Fe=Ve),Ve-Fe+1===Xe)return Fe*me}else for(T+Xe>ze&&(T=ze-Xe),Ve=T;0<=Ve;Ve--){for(var dt=!0,$r=0;$r<Xe;$r++)if(Z(p,Ve+$r)!==Z(S,$r)){dt=!1;break}if(dt)return Ve}return-1}function L(p,S,T,V){T=+T||0;var H=p.length-T;V?(V=+V,V>H&&(V=H)):V=H;var Z=S.length;V>Z/2&&(V=Z/2);for(var me,ze=0;ze<V;++ze){if(me=parseInt(S.substr(2*ze,2),16),J(me))return ze;p[T+ze]=me}return ze}function $(p,S,T,V){return le(Ge(S,p.length-T),p,T,V)}function Y(p,S,T,V){return le(bt(S),p,T,V)}function te(p,S,T,V){return Y(p,S,T,V)}function ue(p,S,T,V){return le(it(S),p,T,V)}function _e(p,S,T,V){return le(ut(S,p.length-T),p,T,V)}function Se(p,S,T){return S===0&&T===p.length?re.fromByteArray(p):re.fromByteArray(p.slice(S,T))}function we(p,S,T){T=f(p.length,T);for(var V=[],H=S;H<T;){var Z=p[H],me=null,ze=239<Z?4:223<Z?3:191<Z?2:1;if(H+ze<=T){var Xe,Ve,Fe,dt;ze===1?128>Z&&(me=Z):ze===2?(Xe=p[H+1],(192&Xe)==128&&(dt=(31&Z)<<6|63&Xe,127<dt&&(me=dt))):ze===3?(Xe=p[H+1],Ve=p[H+2],(192&Xe)==128&&(192&Ve)==128&&(dt=(15&Z)<<12|(63&Xe)<<6|63&Ve,2047<dt&&(55296>dt||57343<dt)&&(me=dt))):ze===4&&(Xe=p[H+1],Ve=p[H+2],Fe=p[H+3],(192&Xe)==128&&(192&Ve)==128&&(192&Fe)==128&&(dt=(15&Z)<<18|(63&Xe)<<12|(63&Ve)<<6|63&Fe,65535<dt&&1114112>dt&&(me=dt)))}me===null?(me=65533,ze=1):65535<me&&(me-=65536,V.push(55296|1023&me>>>10),me=56320|1023&me),V.push(me),H+=ze}return de(V)}function de(p){var S=p.length;if(S<=4096)return d.apply(String,p);for(var T="",V=0;V<S;)T+=d.apply(String,p.slice(V,V+=4096));return T}function oe(p,S,T){var V="";T=f(p.length,T);for(var H=S;H<T;++H)V+=d(127&p[H]);return V}function ge(p,S,T){var V="";T=f(p.length,T);for(var H=S;H<T;++H)V+=d(p[H]);return V}function G(p,S,T){var V=p.length;(!S||0>S)&&(S=0),(!T||0>T||T>V)&&(T=V);for(var H="",Z=S;Z<T;++Z)H+=Ke(p[Z]);return H}function ae(p,S,T){for(var V=p.slice(S,T),H="",Z=0;Z<V.length;Z+=2)H+=d(V[Z]+256*V[Z+1]);return H}function xe(p,S,T){if(p%1!=0||0>p)throw new RangeError("offset is not uint");if(p+S>T)throw new RangeError("Trying to access beyond buffer length")}function ye(p,S,T,V,H,Z){if(!m.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>H||S<Z)throw new RangeError('"value" argument is out of bounds');if(T+V>p.length)throw new RangeError("Index out of range")}function ie(p,S,T,V){if(T+V>p.length)throw new RangeError("Index out of range");if(0>T)throw new RangeError("Index out of range")}function Te(p,S,T,V,H){return S=+S,T>>>=0,H||ie(p,S,T,4),ne.write(p,S,T,V,23,4),T+4}function $e(p,S,T,V,H){return S=+S,T>>>=0,H||ie(p,S,T,8),ne.write(p,S,T,V,52,8),T+8}function Be(p){if(p=p.split("=")[0],p=p.trim().replace(I,""),2>p.length)return"";for(;p.length%4!=0;)p+="=";return p}function Ke(p){return 16>p?"0"+p.toString(16):p.toString(16)}function Ge(p,S){S=S||1/0;for(var T,V=p.length,H=null,Z=[],me=0;me<V;++me){if(T=p.charCodeAt(me),55295<T&&57344>T){if(!H){if(56319<T){-1<(S-=3)&&Z.push(239,191,189);continue}else if(me+1===V){-1<(S-=3)&&Z.push(239,191,189);continue}H=T;continue}if(56320>T){-1<(S-=3)&&Z.push(239,191,189),H=T;continue}T=(H-55296<<10|T-56320)+65536}else H&&-1<(S-=3)&&Z.push(239,191,189);if(H=null,128>T){if(0>(S-=1))break;Z.push(T)}else if(2048>T){if(0>(S-=2))break;Z.push(192|T>>6,128|63&T)}else if(65536>T){if(0>(S-=3))break;Z.push(224|T>>12,128|63&T>>6,128|63&T)}else if(1114112>T){if(0>(S-=4))break;Z.push(240|T>>18,128|63&T>>12,128|63&T>>6,128|63&T)}else throw new Error("Invalid code point")}return Z}function bt(p){for(var S=[],T=0;T<p.length;++T)S.push(255&p.charCodeAt(T));return S}function ut(p,S){for(var T,V,H,Z=[],me=0;me<p.length&&!(0>(S-=2));++me)T=p.charCodeAt(me),V=T>>8,H=T%256,Z.push(H),Z.push(V);return Z}function it(p){return re.toByteArray(Be(p))}function le(p,S,T,V){for(var H=0;H<V&&!(H+T>=S.length||H>=p.length);++H)S[H+T]=p[H];return H}function F(p,S){return p instanceof S||p!=null&&p.constructor!=null&&p.constructor.name!=null&&p.constructor.name===S.name}function J(p){return p!==p}var re=o("base64-js"),ne=o("ieee754");u.Buffer=m,u.SlowBuffer=function(p){return+p!=p&&(p=0),m.alloc(+p)},u.INSPECT_MAX_BYTES=50,u.kMaxLength=2147483647,m.TYPED_ARRAY_SUPPORT=(function(){try{var p=new Uint8Array(1);return p.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},p.foo()===42}catch{return!1}})(),m.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){return m.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){return m.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol<"u"&&Symbol.species!=null&&m[Symbol.species]===m&&Object.defineProperty(m,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),m.poolSize=8192,m.from=function(p,S,T){return w(p,S,T)},m.prototype.__proto__=Uint8Array.prototype,m.__proto__=Uint8Array,m.alloc=function(p,S,T){return x(p,S,T)},m.allocUnsafe=function(p){return C(p)},m.allocUnsafeSlow=function(p){return C(p)},m.isBuffer=function(p){return p!=null&&p._isBuffer===!0&&p!==m.prototype},m.compare=function(p,S){if(F(p,Uint8Array)&&(p=m.from(p,p.offset,p.byteLength)),F(S,Uint8Array)&&(S=m.from(S,S.offset,S.byteLength)),!m.isBuffer(p)||!m.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===S)return 0;for(var T=p.length,V=S.length,H=0,Z=f(T,V);H<Z;++H)if(p[H]!==S[H]){T=p[H],V=S[H];break}return T<V?-1:V<T?1:0},m.isEncoding=function(p){switch((p+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(p,S){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return m.alloc(0);var T;if(S===void 0)for(S=0,T=0;T<p.length;++T)S+=p[T].length;var V=m.allocUnsafe(S),H=0;for(T=0;T<p.length;++T){var Z=p[T];if(F(Z,Uint8Array)&&(Z=m.from(Z)),!m.isBuffer(Z))throw new TypeError('"list" argument must be an Array of Buffers');Z.copy(V,H),H+=Z.length}return V},m.byteLength=R,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var p=this.length;if(p%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var S=0;S<p;S+=2)O(this,S,S+1);return this},m.prototype.swap32=function(){var p=this.length;if(p%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var S=0;S<p;S+=4)O(this,S,S+3),O(this,S+1,S+2);return this},m.prototype.swap64=function(){var p=this.length;if(p%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var S=0;S<p;S+=8)O(this,S,S+7),O(this,S+1,S+6),O(this,S+2,S+5),O(this,S+3,S+4);return this},m.prototype.toString=function(){var p=this.length;return p===0?"":arguments.length===0?we(this,0,p):M.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(p){if(!m.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p||m.compare(this,p)===0},m.prototype.inspect=function(){var p="",S=u.INSPECT_MAX_BYTES;return p=this.toString("hex",0,S).replace(/(.{2})/g,"$1 ").trim(),this.length>S&&(p+=" ... "),"<Buffer "+p+">"},m.prototype.compare=function(p,S,T,V,H){if(F(p,Uint8Array)&&(p=m.from(p,p.offset,p.byteLength)),!m.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);if(S===void 0&&(S=0),T===void 0&&(T=p?p.length:0),V===void 0&&(V=0),H===void 0&&(H=this.length),0>S||T>p.length||0>V||H>this.length)throw new RangeError("out of range index");if(V>=H&&S>=T)return 0;if(V>=H)return-1;if(S>=T)return 1;if(S>>>=0,T>>>=0,V>>>=0,H>>>=0,this===p)return 0;for(var Z=H-V,me=T-S,ze=f(Z,me),Xe=this.slice(V,H),Ve=p.slice(S,T),Fe=0;Fe<ze;++Fe)if(Xe[Fe]!==Ve[Fe]){Z=Xe[Fe],me=Ve[Fe];break}return Z<me?-1:me<Z?1:0},m.prototype.includes=function(p,S,T){return this.indexOf(p,S,T)!==-1},m.prototype.indexOf=function(p,S,T){return N(this,p,S,T,!0)},m.prototype.lastIndexOf=function(p,S,T){return N(this,p,S,T,!1)},m.prototype.write=function(p,S,T,V){if(S===void 0)V="utf8",T=this.length,S=0;else if(T===void 0&&typeof S=="string")V=S,T=this.length,S=0;else if(isFinite(S))S>>>=0,isFinite(T)?(T>>>=0,V===void 0&&(V="utf8")):(V=T,T=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var H=this.length-S;if((T===void 0||T>H)&&(T=H),0<p.length&&(0>T||0>S)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");V||(V="utf8");for(var Z=!1;;)switch(V){case"hex":return L(this,p,S,T);case"utf8":case"utf-8":return $(this,p,S,T);case"ascii":return Y(this,p,S,T);case"latin1":case"binary":return te(this,p,S,T);case"base64":return ue(this,p,S,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,p,S,T);default:if(Z)throw new TypeError("Unknown encoding: "+V);V=(""+V).toLowerCase(),Z=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},m.prototype.slice=function(p,S){var T=this.length;p=~~p,S=S===void 0?T:~~S,0>p?(p+=T,0>p&&(p=0)):p>T&&(p=T),0>S?(S+=T,0>S&&(S=0)):S>T&&(S=T),S<p&&(S=p);var V=this.subarray(p,S);return V.__proto__=m.prototype,V},m.prototype.readUIntLE=function(p,S,T){p>>>=0,S>>>=0,T||xe(p,S,this.length);for(var V=this[p],H=1,Z=0;++Z<S&&(H*=256);)V+=this[p+Z]*H;return V},m.prototype.readUIntBE=function(p,S,T){p>>>=0,S>>>=0,T||xe(p,S,this.length);for(var V=this[p+--S],H=1;0<S&&(H*=256);)V+=this[p+--S]*H;return V},m.prototype.readUInt8=function(p,S){return p>>>=0,S||xe(p,1,this.length),this[p]},m.prototype.readUInt16LE=function(p,S){return p>>>=0,S||xe(p,2,this.length),this[p]|this[p+1]<<8},m.prototype.readUInt16BE=function(p,S){return p>>>=0,S||xe(p,2,this.length),this[p]<<8|this[p+1]},m.prototype.readUInt32LE=function(p,S){return p>>>=0,S||xe(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+16777216*this[p+3]},m.prototype.readUInt32BE=function(p,S){return p>>>=0,S||xe(p,4,this.length),16777216*this[p]+(this[p+1]<<16|this[p+2]<<8|this[p+3])},m.prototype.readIntLE=function(p,S,T){p>>>=0,S>>>=0,T||xe(p,S,this.length);for(var V=this[p],H=1,Z=0;++Z<S&&(H*=256);)V+=this[p+Z]*H;return H*=128,V>=H&&(V-=a(2,8*S)),V},m.prototype.readIntBE=function(p,S,T){p>>>=0,S>>>=0,T||xe(p,S,this.length);for(var V=S,H=1,Z=this[p+--V];0<V&&(H*=256);)Z+=this[p+--V]*H;return H*=128,Z>=H&&(Z-=a(2,8*S)),Z},m.prototype.readInt8=function(p,S){return p>>>=0,S||xe(p,1,this.length),128&this[p]?-1*(255-this[p]+1):this[p]},m.prototype.readInt16LE=function(p,S){p>>>=0,S||xe(p,2,this.length);var T=this[p]|this[p+1]<<8;return 32768&T?4294901760|T:T},m.prototype.readInt16BE=function(p,S){p>>>=0,S||xe(p,2,this.length);var T=this[p+1]|this[p]<<8;return 32768&T?4294901760|T:T},m.prototype.readInt32LE=function(p,S){return p>>>=0,S||xe(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},m.prototype.readInt32BE=function(p,S){return p>>>=0,S||xe(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},m.prototype.readFloatLE=function(p,S){return p>>>=0,S||xe(p,4,this.length),ne.read(this,p,!0,23,4)},m.prototype.readFloatBE=function(p,S){return p>>>=0,S||xe(p,4,this.length),ne.read(this,p,!1,23,4)},m.prototype.readDoubleLE=function(p,S){return p>>>=0,S||xe(p,8,this.length),ne.read(this,p,!0,52,8)},m.prototype.readDoubleBE=function(p,S){return p>>>=0,S||xe(p,8,this.length),ne.read(this,p,!1,52,8)},m.prototype.writeUIntLE=function(p,S,T,V){if(p=+p,S>>>=0,T>>>=0,!V){var H=a(2,8*T)-1;ye(this,p,S,T,H,0)}var Z=1,me=0;for(this[S]=255&p;++me<T&&(Z*=256);)this[S+me]=255&p/Z;return S+T},m.prototype.writeUIntBE=function(p,S,T,V){if(p=+p,S>>>=0,T>>>=0,!V){var H=a(2,8*T)-1;ye(this,p,S,T,H,0)}var Z=T-1,me=1;for(this[S+Z]=255&p;0<=--Z&&(me*=256);)this[S+Z]=255&p/me;return S+T},m.prototype.writeUInt8=function(p,S,T){return p=+p,S>>>=0,T||ye(this,p,S,1,255,0),this[S]=255&p,S+1},m.prototype.writeUInt16LE=function(p,S,T){return p=+p,S>>>=0,T||ye(this,p,S,2,65535,0),this[S]=255&p,this[S+1]=p>>>8,S+2},m.prototype.writeUInt16BE=function(p,S,T){return p=+p,S>>>=0,T||ye(this,p,S,2,65535,0),this[S]=p>>>8,this[S+1]=255&p,S+2},m.prototype.writeUInt32LE=function(p,S,T){return p=+p,S>>>=0,T||ye(this,p,S,4,4294967295,0),this[S+3]=p>>>24,this[S+2]=p>>>16,this[S+1]=p>>>8,this[S]=255&p,S+4},m.prototype.writeUInt32BE=function(p,S,T){return p=+p,S>>>=0,T||ye(this,p,S,4,4294967295,0),this[S]=p>>>24,this[S+1]=p>>>16,this[S+2]=p>>>8,this[S+3]=255&p,S+4},m.prototype.writeIntLE=function(p,S,T,V){if(p=+p,S>>>=0,!V){var H=a(2,8*T-1);ye(this,p,S,T,H-1,-H)}var Z=0,me=1,ze=0;for(this[S]=255&p;++Z<T&&(me*=256);)0>p&&ze===0&&this[S+Z-1]!==0&&(ze=1),this[S+Z]=255&(p/me>>0)-ze;return S+T},m.prototype.writeIntBE=function(p,S,T,V){if(p=+p,S>>>=0,!V){var H=a(2,8*T-1);ye(this,p,S,T,H-1,-H)}var Z=T-1,me=1,ze=0;for(this[S+Z]=255&p;0<=--Z&&(me*=256);)0>p&&ze===0&&this[S+Z+1]!==0&&(ze=1),this[S+Z]=255&(p/me>>0)-ze;return S+T},m.prototype.writeInt8=function(p,S,T){return p=+p,S>>>=0,T||ye(this,p,S,1,127,-128),0>p&&(p=255+p+1),this[S]=255&p,S+1},m.prototype.writeInt16LE=function(p,S,T){return p=+p,S>>>=0,T||ye(this,p,S,2,32767,-32768),this[S]=255&p,this[S+1]=p>>>8,S+2},m.prototype.writeInt16BE=function(p,S,T){return p=+p,S>>>=0,T||ye(this,p,S,2,32767,-32768),this[S]=p>>>8,this[S+1]=255&p,S+2},m.prototype.writeInt32LE=function(p,S,T){return p=+p,S>>>=0,T||ye(this,p,S,4,2147483647,-2147483648),this[S]=255&p,this[S+1]=p>>>8,this[S+2]=p>>>16,this[S+3]=p>>>24,S+4},m.prototype.writeInt32BE=function(p,S,T){return p=+p,S>>>=0,T||ye(this,p,S,4,2147483647,-2147483648),0>p&&(p=4294967295+p+1),this[S]=p>>>24,this[S+1]=p>>>16,this[S+2]=p>>>8,this[S+3]=255&p,S+4},m.prototype.writeFloatLE=function(p,S,T){return Te(this,p,S,!0,T)},m.prototype.writeFloatBE=function(p,S,T){return Te(this,p,S,!1,T)},m.prototype.writeDoubleLE=function(p,S,T){return $e(this,p,S,!0,T)},m.prototype.writeDoubleBE=function(p,S,T){return $e(this,p,S,!1,T)},m.prototype.copy=function(p,S,T,V){if(!m.isBuffer(p))throw new TypeError("argument should be a Buffer");if(T||(T=0),V||V===0||(V=this.length),S>=p.length&&(S=p.length),S||(S=0),0<V&&V<T&&(V=T),V===T||p.length===0||this.length===0)return 0;if(0>S)throw new RangeError("targetStart out of bounds");if(0>T||T>=this.length)throw new RangeError("Index out of range");if(0>V)throw new RangeError("sourceEnd out of bounds");V>this.length&&(V=this.length),p.length-S<V-T&&(V=p.length-S+T);var H=V-T;if(this===p&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(S,T,V);else if(this===p&&T<S&&S<V)for(var Z=H-1;0<=Z;--Z)p[Z+S]=this[Z+T];else Uint8Array.prototype.set.call(p,this.subarray(T,V),S);return H},m.prototype.fill=function(p,S,T,V){if(typeof p=="string"){if(typeof S=="string"?(V=S,S=0,T=this.length):typeof T=="string"&&(V=T,T=this.length),V!==void 0&&typeof V!="string")throw new TypeError("encoding must be a string");if(typeof V=="string"&&!m.isEncoding(V))throw new TypeError("Unknown encoding: "+V);if(p.length===1){var H=p.charCodeAt(0);(V==="utf8"&&128>H||V==="latin1")&&(p=H)}}else typeof p=="number"&&(p&=255);if(0>S||this.length<S||this.length<T)throw new RangeError("Out of range index");if(T<=S)return this;S>>>=0,T=T===void 0?this.length:T>>>0,p||(p=0);var Z;if(typeof p=="number")for(Z=S;Z<T;++Z)this[Z]=p;else{var me=m.isBuffer(p)?p:m.from(p,V),ze=me.length;if(ze===0)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(Z=0;Z<T-S;++Z)this[Z+S]=me[Z%ze]}return this};var I=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,o("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:9}],4:[function(o,c,u){(function(d){(function(){function f(){let m;try{m=u.storage.getItem("debug")}catch{}return!m&&typeof d<"u"&&"env"in d&&(m=d.env.DEBUG),m}u.formatArgs=function(m){if(m[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+m[0]+(this.useColors?"%c ":" ")+"+"+c.exports.humanize(this.diff),!this.useColors)return;const w="color: "+this.color;m.splice(1,0,w,"color: inherit");let b=0,x=0;m[0].replace(/%[a-zA-Z%]/g,C=>{C==="%%"||(b++,C==="%c"&&(x=b))}),m.splice(x,0,w)},u.save=function(m){try{m?u.storage.setItem("debug",m):u.storage.removeItem("debug")}catch{}},u.load=f,u.useColors=function(){return!!(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},u.storage=(function(){try{return localStorage}catch{}})(),u.destroy=(()=>{let m=!1;return()=>{m||(m=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),u.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],u.log=console.debug||console.log||(()=>{}),c.exports=o("./common")(u);const{formatters:g}=c.exports;g.j=function(m){try{return JSON.stringify(m)}catch(w){return"[UnexpectedJSONParseError]: "+w.message}}}).call(this)}).call(this,o("_process"))},{"./common":5,_process:12}],5:[function(o,c){c.exports=function(u){function d(m){function w(...C){if(!w.enabled)return;const E=w,j=+new Date,D=j-(b||j);E.diff=D,E.prev=b,E.curr=j,b=j,C[0]=d.coerce(C[0]),typeof C[0]!="string"&&C.unshift("%O");let k=0;C[0]=C[0].replace(/%([a-zA-Z%])/g,(R,M)=>{if(R==="%%")return"%";k++;const O=d.formatters[M];if(typeof O=="function"){const N=C[k];R=O.call(E,N),C.splice(k,1),k--}return R}),d.formatArgs.call(E,C),(E.log||d.log).apply(E,C)}let b,x=null;return w.namespace=m,w.useColors=d.useColors(),w.color=d.selectColor(m),w.extend=f,w.destroy=d.destroy,Object.defineProperty(w,"enabled",{enumerable:!0,configurable:!1,get:()=>x===null?d.enabled(m):x,set:C=>{x=C}}),typeof d.init=="function"&&d.init(w),w}function f(m,w){const b=d(this.namespace+(typeof w>"u"?":":w)+m);return b.log=this.log,b}function g(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}return d.debug=d,d.default=d,d.coerce=function(m){return m instanceof Error?m.stack||m.message:m},d.disable=function(){const m=[...d.names.map(g),...d.skips.map(g).map(w=>"-"+w)].join(",");return d.enable(""),m},d.enable=function(m){d.save(m),d.names=[],d.skips=[];let w;const b=(typeof m=="string"?m:"").split(/[\s,]+/),x=b.length;for(w=0;w<x;w++)b[w]&&(m=b[w].replace(/\*/g,".*?"),m[0]==="-"?d.skips.push(new RegExp("^"+m.substr(1)+"$")):d.names.push(new RegExp("^"+m+"$")))},d.enabled=function(m){if(m[m.length-1]==="*")return!0;let w,b;for(w=0,b=d.skips.length;w<b;w++)if(d.skips[w].test(m))return!1;for(w=0,b=d.names.length;w<b;w++)if(d.names[w].test(m))return!0;return!1},d.humanize=o("ms"),d.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(u).forEach(m=>{d[m]=u[m]}),d.names=[],d.skips=[],d.formatters={},d.selectColor=function(m){let w=0;for(let b=0;b<m.length;b++)w=(w<<5)-w+m.charCodeAt(b),w|=0;return d.colors[i(w)%d.colors.length]},d.enable(d.load()),d}},{ms:11}],6:[function(o,c){function u(d,f){for(const g in f)Object.defineProperty(d,g,{value:f[g],enumerable:!0,configurable:!0});return d}c.exports=function(d,f,g){if(!d||typeof d=="string")throw new TypeError("Please pass an Error to err-code");g||(g={}),typeof f=="object"&&(g=f,f=""),f&&(g.code=f);try{return u(d,g)}catch{g.message=d.message,g.stack=d.stack;const w=function(){};return w.prototype=Object.create(Object.getPrototypeOf(d)),u(new w,g)}}},{}],7:[function(o,c){function u(L){console&&console.warn&&console.warn(L)}function d(){d.init.call(this)}function f(L){if(typeof L!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof L)}function g(L){return L._maxListeners===void 0?d.defaultMaxListeners:L._maxListeners}function m(L,$,Y,te){var ue,_e,Se;if(f(Y),_e=L._events,_e===void 0?(_e=L._events=Object.create(null),L._eventsCount=0):(_e.newListener!==void 0&&(L.emit("newListener",$,Y.listener?Y.listener:Y),_e=L._events),Se=_e[$]),Se===void 0)Se=_e[$]=Y,++L._eventsCount;else if(typeof Se=="function"?Se=_e[$]=te?[Y,Se]:[Se,Y]:te?Se.unshift(Y):Se.push(Y),ue=g(L),0<ue&&Se.length>ue&&!Se.warned){Se.warned=!0;var we=new Error("Possible EventEmitter memory leak detected. "+Se.length+" "+($+" listeners added. Use emitter.setMaxListeners() to increase limit"));we.name="MaxListenersExceededWarning",we.emitter=L,we.type=$,we.count=Se.length,u(we)}return L}function w(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(L,$,Y){var te={fired:!1,wrapFn:void 0,target:L,type:$,listener:Y},ue=w.bind(te);return ue.listener=Y,te.wrapFn=ue,ue}function x(L,$,Y){var te=L._events;if(te===void 0)return[];var ue=te[$];return ue===void 0?[]:typeof ue=="function"?Y?[ue.listener||ue]:[ue]:Y?D(ue):E(ue,ue.length)}function C(L){var $=this._events;if($!==void 0){var Y=$[L];if(typeof Y=="function")return 1;if(Y!==void 0)return Y.length}return 0}function E(L,$){for(var Y=Array($),te=0;te<$;++te)Y[te]=L[te];return Y}function j(L,$){for(;$+1<L.length;$++)L[$]=L[$+1];L.pop()}function D(L){for(var $=Array(L.length),Y=0;Y<$.length;++Y)$[Y]=L[Y].listener||L[Y];return $}function k(L,$,Y){typeof L.on=="function"&&A(L,"error",$,Y)}function A(L,$,Y,te){if(typeof L.on=="function")te.once?L.once($,Y):L.on($,Y);else if(typeof L.addEventListener=="function")L.addEventListener($,function ue(_e){te.once&&L.removeEventListener($,ue),Y(_e)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof L)}var R,M=typeof Reflect=="object"?Reflect:null,O=M&&typeof M.apply=="function"?M.apply:function(L,$,Y){return Function.prototype.apply.call(L,$,Y)};R=M&&typeof M.ownKeys=="function"?M.ownKeys:Object.getOwnPropertySymbols?function(L){return Object.getOwnPropertyNames(L).concat(Object.getOwnPropertySymbols(L))}:function(L){return Object.getOwnPropertyNames(L)};var N=Number.isNaN||function(L){return L!==L};c.exports=d,c.exports.once=function(L,$){return new Promise(function(Y,te){function ue(Se){L.removeListener($,_e),te(Se)}function _e(){typeof L.removeListener=="function"&&L.removeListener("error",ue),Y([].slice.call(arguments))}A(L,$,_e,{once:!0}),$!=="error"&&k(L,ue,{once:!0})})},d.EventEmitter=d,d.prototype._events=void 0,d.prototype._eventsCount=0,d.prototype._maxListeners=void 0;var K=10;Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return K},set:function(L){if(typeof L!="number"||0>L||N(L))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+L+".");K=L}}),d.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},d.prototype.setMaxListeners=function(L){if(typeof L!="number"||0>L||N(L))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+L+".");return this._maxListeners=L,this},d.prototype.getMaxListeners=function(){return g(this)},d.prototype.emit=function(L){for(var $=[],Y=1;Y<arguments.length;Y++)$.push(arguments[Y]);var te=L==="error",ue=this._events;if(ue!==void 0)te=te&&ue.error===void 0;else if(!te)return!1;if(te){var _e;if(0<$.length&&(_e=$[0]),_e instanceof Error)throw _e;var Se=new Error("Unhandled error."+(_e?" ("+_e.message+")":""));throw Se.context=_e,Se}var we=ue[L];if(we===void 0)return!1;if(typeof we=="function")O(we,this,$);else for(var de=we.length,oe=E(we,de),Y=0;Y<de;++Y)O(oe[Y],this,$);return!0},d.prototype.addListener=function(L,$){return m(this,L,$,!1)},d.prototype.on=d.prototype.addListener,d.prototype.prependListener=function(L,$){return m(this,L,$,!0)},d.prototype.once=function(L,$){return f($),this.on(L,b(this,L,$)),this},d.prototype.prependOnceListener=function(L,$){return f($),this.prependListener(L,b(this,L,$)),this},d.prototype.removeListener=function(L,$){var Y,te,ue,_e,Se;if(f($),te=this._events,te===void 0)return this;if(Y=te[L],Y===void 0)return this;if(Y===$||Y.listener===$)--this._eventsCount==0?this._events=Object.create(null):(delete te[L],te.removeListener&&this.emit("removeListener",L,Y.listener||$));else if(typeof Y!="function"){for(ue=-1,_e=Y.length-1;0<=_e;_e--)if(Y[_e]===$||Y[_e].listener===$){Se=Y[_e].listener,ue=_e;break}if(0>ue)return this;ue===0?Y.shift():j(Y,ue),Y.length===1&&(te[L]=Y[0]),te.removeListener!==void 0&&this.emit("removeListener",L,Se||$)}return this},d.prototype.off=d.prototype.removeListener,d.prototype.removeAllListeners=function(L){var $,Y,te;if(Y=this._events,Y===void 0)return this;if(Y.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Y[L]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete Y[L]),this;if(arguments.length===0){var ue,_e=Object.keys(Y);for(te=0;te<_e.length;++te)ue=_e[te],ue!=="removeListener"&&this.removeAllListeners(ue);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if($=Y[L],typeof $=="function")this.removeListener(L,$);else if($!==void 0)for(te=$.length-1;0<=te;te--)this.removeListener(L,$[te]);return this},d.prototype.listeners=function(L){return x(this,L,!0)},d.prototype.rawListeners=function(L){return x(this,L,!1)},d.listenerCount=function(L,$){return typeof L.listenerCount=="function"?L.listenerCount($):C.call(L,$)},d.prototype.listenerCount=C,d.prototype.eventNames=function(){return 0<this._eventsCount?R(this._events):[]}},{}],8:[function(o,c){c.exports=function(){if(typeof globalThis>"u")return null;var u={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return u.RTCPeerConnection?u:null}},{}],9:[function(o,c,u){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */u.read=function(d,f,g,m,w){var b,x,C=8*w-m-1,E=(1<<C)-1,j=E>>1,D=-7,k=g?w-1:0,A=g?-1:1,R=d[f+k];for(k+=A,b=R&(1<<-D)-1,R>>=-D,D+=C;0<D;b=256*b+d[f+k],k+=A,D-=8);for(x=b&(1<<-D)-1,b>>=-D,D+=m;0<D;x=256*x+d[f+k],k+=A,D-=8);if(b===0)b=1-j;else{if(b===E)return x?NaN:(R?-1:1)*(1/0);x+=a(2,m),b-=j}return(R?-1:1)*x*a(2,b-m)},u.write=function(d,f,g,m,w,b){var x,C,E,j=Math.LN2,D=Math.log,k=8*b-w-1,A=(1<<k)-1,R=A>>1,M=w===23?a(2,-24)-a(2,-77):0,O=m?0:b-1,N=m?1:-1,K=0>f||f===0&&0>1/f?1:0;for(f=i(f),isNaN(f)||f===1/0?(C=isNaN(f)?1:0,x=A):(x=r(D(f)/j),1>f*(E=a(2,-x))&&(x--,E*=2),f+=1<=x+R?M/E:M*a(2,1-R),2<=f*E&&(x++,E/=2),x+R>=A?(C=0,x=A):1<=x+R?(C=(f*E-1)*a(2,w),x+=R):(C=f*a(2,R-1)*a(2,w),x=0));8<=w;d[g+O]=255&C,O+=N,C/=256,w-=8);for(x=x<<w|C,k+=w;0<k;d[g+O]=255&x,O+=N,x/=256,k-=8);d[g+O-N]|=128*K}},{}],10:[function(o,c){c.exports=typeof Object.create=="function"?function(u,d){d&&(u.super_=d,u.prototype=Object.create(d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}))}:function(u,d){if(d){u.super_=d;var f=function(){};f.prototype=d.prototype,u.prototype=new f,u.prototype.constructor=u}}},{}],11:[function(o,c){var u=Math.round;function d(w){if(w+="",!(100<w.length)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(w);if(b){var x=parseFloat(b[1]),C=(b[2]||"ms").toLowerCase();return C==="years"||C==="year"||C==="yrs"||C==="yr"||C==="y"?315576e5*x:C==="weeks"||C==="week"||C==="w"?6048e5*x:C==="days"||C==="day"||C==="d"?864e5*x:C==="hours"||C==="hour"||C==="hrs"||C==="hr"||C==="h"?36e5*x:C==="minutes"||C==="minute"||C==="mins"||C==="min"||C==="m"?6e4*x:C==="seconds"||C==="second"||C==="secs"||C==="sec"||C==="s"?1e3*x:C==="milliseconds"||C==="millisecond"||C==="msecs"||C==="msec"||C==="ms"?x:void 0}}}function f(w){var b=i(w);return 864e5<=b?u(w/864e5)+"d":36e5<=b?u(w/36e5)+"h":6e4<=b?u(w/6e4)+"m":1e3<=b?u(w/1e3)+"s":w+"ms"}function g(w){var b=i(w);return 864e5<=b?m(w,b,864e5,"day"):36e5<=b?m(w,b,36e5,"hour"):6e4<=b?m(w,b,6e4,"minute"):1e3<=b?m(w,b,1e3,"second"):w+" ms"}function m(w,b,x,C){return u(w/x)+" "+C+(b>=1.5*x?"s":"")}c.exports=function(w,b){b=b||{};var x=typeof w;if(x=="string"&&0<w.length)return d(w);if(x==="number"&&isFinite(w))return b.long?g(w):f(w);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(w))}},{}],12:[function(o,c){function u(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function f(M){if(C===setTimeout)return setTimeout(M,0);if((C===u||!C)&&setTimeout)return C=setTimeout,setTimeout(M,0);try{return C(M,0)}catch{try{return C.call(null,M,0)}catch{return C.call(this,M,0)}}}function g(M){if(E===clearTimeout)return clearTimeout(M);if((E===d||!E)&&clearTimeout)return E=clearTimeout,clearTimeout(M);try{return E(M)}catch{try{return E.call(null,M)}catch{return E.call(this,M)}}}function m(){A&&D&&(A=!1,D.length?k=D.concat(k):R=-1,k.length&&w())}function w(){if(!A){var M=f(m);A=!0;for(var O=k.length;O;){for(D=k,k=[];++R<O;)D&&D[R].run();R=-1,O=k.length}D=null,A=!1,g(M)}}function b(M,O){this.fun=M,this.array=O}function x(){}var C,E,j=c.exports={};(function(){try{C=typeof setTimeout=="function"?setTimeout:u}catch{C=u}try{E=typeof clearTimeout=="function"?clearTimeout:d}catch{E=d}})();var D,k=[],A=!1,R=-1;j.nextTick=function(M){var O=Array(arguments.length-1);if(1<arguments.length)for(var N=1;N<arguments.length;N++)O[N-1]=arguments[N];k.push(new b(M,O)),k.length!==1||A||f(w)},b.prototype.run=function(){this.fun.apply(null,this.array)},j.title="browser",j.browser=!0,j.env={},j.argv=[],j.version="",j.versions={},j.on=x,j.addListener=x,j.once=x,j.off=x,j.removeListener=x,j.removeAllListeners=x,j.emit=x,j.prependListener=x,j.prependOnceListener=x,j.listeners=function(){return[]},j.binding=function(){throw new Error("process.binding is not supported")},j.cwd=function(){return"/"},j.chdir=function(){throw new Error("process.chdir is not supported")},j.umask=function(){return 0}},{}],13:[function(o,c){(function(u){(function(){/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let d;c.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window>"u"?u:window):f=>(d||(d=Promise.resolve())).then(f).catch(g=>setTimeout(()=>{throw g},0))}).call(this)}).call(this,typeof Lr>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Lr)},{}],14:[function(o,c){(function(u,d){(function(){var f=o("safe-buffer").Buffer,g=d.crypto||d.msCrypto;c.exports=g&&g.getRandomValues?function(m,w){if(m>4294967295)throw new RangeError("requested too many random bytes");var b=f.allocUnsafe(m);if(0<m)if(65536<m)for(var x=0;x<m;x+=65536)g.getRandomValues(b.slice(x,x+65536));else g.getRandomValues(b);return typeof w=="function"?u.nextTick(function(){w(null,b)}):b}:function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,o("_process"),typeof Lr>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Lr)},{_process:12,"safe-buffer":30}],15:[function(o,c){function u(x,C){x.prototype=Object.create(C.prototype),x.prototype.constructor=x,x.__proto__=C}function d(x,C,E){function j(k,A,R){return typeof C=="string"?C:C(k,A,R)}E||(E=Error);var D=(function(k){function A(R,M,O){return k.call(this,j(R,M,O))||this}return u(A,k),A})(E);D.prototype.name=E.name,D.prototype.code=x,b[x]=D}function f(x,C){if(Array.isArray(x)){var E=x.length;return x=x.map(function(j){return j+""}),2<E?"one of ".concat(C," ").concat(x.slice(0,E-1).join(", "),", or ")+x[E-1]:E===2?"one of ".concat(C," ").concat(x[0]," or ").concat(x[1]):"of ".concat(C," ").concat(x[0])}return"of ".concat(C," ").concat(x+"")}function g(x,C,E){return x.substr(0,C.length)===C}function m(x,C,E){return(E===void 0||E>x.length)&&(E=x.length),x.substring(E-C.length,E)===C}function w(x,C,E){return typeof E!="number"&&(E=0),!(E+C.length>x.length)&&x.indexOf(C,E)!==-1}var b={};d("ERR_INVALID_OPT_VALUE",function(x,C){return'The value "'+C+'" is invalid for option "'+x+'"'},TypeError),d("ERR_INVALID_ARG_TYPE",function(x,C,E){var j;typeof C=="string"&&g(C,"not ")?(j="must not be",C=C.replace(/^not /,"")):j="must be";var D;if(m(x," argument"))D="The ".concat(x," ").concat(j," ").concat(f(C,"type"));else{var k=w(x,".")?"property":"argument";D='The "'.concat(x,'" ').concat(k," ").concat(j," ").concat(f(C,"type"))}return D+=". Received type ".concat(typeof E),D},TypeError),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),d("ERR_METHOD_NOT_IMPLEMENTED",function(x){return"The "+x+" method is not implemented"}),d("ERR_STREAM_PREMATURE_CLOSE","Premature close"),d("ERR_STREAM_DESTROYED",function(x){return"Cannot call "+x+" after a stream was destroyed"}),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),d("ERR_STREAM_WRITE_AFTER_END","write after end"),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_UNKNOWN_ENCODING",function(x){return"Unknown encoding: "+x},TypeError),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),c.exports.codes=b},{}],16:[function(o,c){(function(u){(function(){function d(j){return this instanceof d?(w.call(this,j),b.call(this,j),this.allowHalfOpen=!0,void(j&&(j.readable===!1&&(this.readable=!1),j.writable===!1&&(this.writable=!1),j.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f))))):new d(j)}function f(){this._writableState.ended||u.nextTick(g,this)}function g(j){j.end()}var m=Object.keys||function(j){var D=[];for(var k in j)D.push(k);return D};c.exports=d;var w=o("./_stream_readable"),b=o("./_stream_writable");o("inherits")(d,w);for(var x,C=m(b.prototype),E=0;E<C.length;E++)x=C[E],d.prototype[x]||(d.prototype[x]=b.prototype[x]);Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(j){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=j,this._writableState.destroyed=j)}})}).call(this)}).call(this,o("_process"))},{"./_stream_readable":18,"./_stream_writable":20,_process:12,inherits:10}],17:[function(o,c){function u(f){return this instanceof u?void d.call(this,f):new u(f)}c.exports=u;var d=o("./_stream_transform");o("inherits")(u,d),u.prototype._transform=function(f,g,m){m(null,f)}},{"./_stream_transform":19,inherits:10}],18:[function(o,c){(function(u,d){(function(){function f(I){return ae.from(I)}function g(I){return ae.isBuffer(I)||I instanceof xe}function m(I,p,S){return typeof I.prependListener=="function"?I.prependListener(p,S):void(I._events&&I._events[p]?Array.isArray(I._events[p])?I._events[p].unshift(S):I._events[p]=[S,I._events[p]]:I.on(p,S))}function w(I,p,S){de=de||o("./_stream_duplex"),I=I||{},typeof S!="boolean"&&(S=p instanceof de),this.objectMode=!!I.objectMode,S&&(this.objectMode=this.objectMode||!!I.readableObjectMode),this.highWaterMark=bt(this,I,"readableHighWaterMark",S),this.buffer=new Be,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=I.emitClose!==!1,this.autoDestroy=!!I.autoDestroy,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(!ie&&(ie=o("string_decoder/").StringDecoder),this.decoder=new ie(I.encoding),this.encoding=I.encoding)}function b(I){if(de=de||o("./_stream_duplex"),!(this instanceof b))return new b(I);var p=this instanceof de;this._readableState=new w(I,this,p),this.readable=!0,I&&(typeof I.read=="function"&&(this._read=I.read),typeof I.destroy=="function"&&(this._destroy=I.destroy)),G.call(this)}function x(I,p,S,T,V){oe("readableAddChunk",p);var H=I._readableState;if(p===null)H.reading=!1,k(I,H);else{var Z;if(V||(Z=E(H,p)),Z)re(I,Z);else if(!(H.objectMode||p&&0<p.length))T||(H.reading=!1,M(I,H));else if(typeof p=="string"||H.objectMode||Object.getPrototypeOf(p)===ae.prototype||(p=f(p)),T)H.endEmitted?re(I,new J):C(I,H,p,!0);else if(H.ended)re(I,new le);else{if(H.destroyed)return!1;H.reading=!1,H.decoder&&!S?(p=H.decoder.write(p),H.objectMode||p.length!==0?C(I,H,p,!1):M(I,H)):C(I,H,p,!1)}}return!H.ended&&(H.length<H.highWaterMark||H.length===0)}function C(I,p,S,T){p.flowing&&p.length===0&&!p.sync?(p.awaitDrain=0,I.emit("data",S)):(p.length+=p.objectMode?1:S.length,T?p.buffer.unshift(S):p.buffer.push(S),p.needReadable&&A(I)),M(I,p)}function E(I,p){var S;return g(p)||typeof p=="string"||p===void 0||I.objectMode||(S=new it("chunk",["string","Buffer","Uint8Array"],p)),S}function j(I){return 1073741824<=I?I=1073741824:(I--,I|=I>>>1,I|=I>>>2,I|=I>>>4,I|=I>>>8,I|=I>>>16,I++),I}function D(I,p){return 0>=I||p.length===0&&p.ended?0:p.objectMode?1:I===I?(I>p.highWaterMark&&(p.highWaterMark=j(I)),I<=p.length?I:p.ended?p.length:(p.needReadable=!0,0)):p.flowing&&p.length?p.buffer.head.data.length:p.length}function k(I,p){if(oe("onEofChunk"),!p.ended){if(p.decoder){var S=p.decoder.end();S&&S.length&&(p.buffer.push(S),p.length+=p.objectMode?1:S.length)}p.ended=!0,p.sync?A(I):(p.needReadable=!1,!p.emittedReadable&&(p.emittedReadable=!0,R(I)))}}function A(I){var p=I._readableState;oe("emitReadable",p.needReadable,p.emittedReadable),p.needReadable=!1,p.emittedReadable||(oe("emitReadable",p.flowing),p.emittedReadable=!0,u.nextTick(R,I))}function R(I){var p=I._readableState;oe("emitReadable_",p.destroyed,p.length,p.ended),!p.destroyed&&(p.length||p.ended)&&(I.emit("readable"),p.emittedReadable=!1),p.needReadable=!p.flowing&&!p.ended&&p.length<=p.highWaterMark,te(I)}function M(I,p){p.readingMore||(p.readingMore=!0,u.nextTick(O,I,p))}function O(I,p){for(;!p.reading&&!p.ended&&(p.length<p.highWaterMark||p.flowing&&p.length===0);){var S=p.length;if(oe("maybeReadMore read 0"),I.read(0),S===p.length)break}p.readingMore=!1}function N(I){return function(){var p=I._readableState;oe("pipeOnDrain",p.awaitDrain),p.awaitDrain&&p.awaitDrain--,p.awaitDrain===0&&ge(I,"data")&&(p.flowing=!0,te(I))}}function K(I){var p=I._readableState;p.readableListening=0<I.listenerCount("readable"),p.resumeScheduled&&!p.paused?p.flowing=!0:0<I.listenerCount("data")&&I.resume()}function L(I){oe("readable nexttick read 0"),I.read(0)}function $(I,p){p.resumeScheduled||(p.resumeScheduled=!0,u.nextTick(Y,I,p))}function Y(I,p){oe("resume",p.reading),p.reading||I.read(0),p.resumeScheduled=!1,I.emit("resume"),te(I),p.flowing&&!p.reading&&I.read(0)}function te(I){var p=I._readableState;for(oe("flow",p.flowing);p.flowing&&I.read()!==null;);}function ue(I,p){if(p.length===0)return null;var S;return p.objectMode?S=p.buffer.shift():!I||I>=p.length?(S=p.decoder?p.buffer.join(""):p.buffer.length===1?p.buffer.first():p.buffer.concat(p.length),p.buffer.clear()):S=p.buffer.consume(I,p.decoder),S}function _e(I){var p=I._readableState;oe("endReadable",p.endEmitted),p.endEmitted||(p.ended=!0,u.nextTick(Se,p,I))}function Se(I,p){if(oe("endReadableNT",I.endEmitted,I.length),!I.endEmitted&&I.length===0&&(I.endEmitted=!0,p.readable=!1,p.emit("end"),I.autoDestroy)){var S=p._writableState;(!S||S.autoDestroy&&S.finished)&&p.destroy()}}function we(I,p){for(var S=0,T=I.length;S<T;S++)if(I[S]===p)return S;return-1}c.exports=b;var de;b.ReadableState=w;var oe;o("events").EventEmitter;var ge=function(I,p){return I.listeners(p).length},G=o("./internal/streams/stream"),ae=o("buffer").Buffer,xe=d.Uint8Array||function(){},ye=o("util");oe=ye&&ye.debuglog?ye.debuglog("stream"):function(){};var ie,Te,$e,Be=o("./internal/streams/buffer_list"),Ke=o("./internal/streams/destroy"),Ge=o("./internal/streams/state"),bt=Ge.getHighWaterMark,ut=o("../errors").codes,it=ut.ERR_INVALID_ARG_TYPE,le=ut.ERR_STREAM_PUSH_AFTER_EOF,F=ut.ERR_METHOD_NOT_IMPLEMENTED,J=ut.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;o("inherits")(b,G);var re=Ke.errorOrDestroy,ne=["error","close","destroy","pause","resume"];Object.defineProperty(b.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(I){this._readableState&&(this._readableState.destroyed=I)}}),b.prototype.destroy=Ke.destroy,b.prototype._undestroy=Ke.undestroy,b.prototype._destroy=function(I,p){p(I)},b.prototype.push=function(I,p){var S,T=this._readableState;return T.objectMode?S=!0:typeof I=="string"&&(p=p||T.defaultEncoding,p!==T.encoding&&(I=ae.from(I,p),p=""),S=!0),x(this,I,p,!1,S)},b.prototype.unshift=function(I){return x(this,I,null,!0,!1)},b.prototype.isPaused=function(){return this._readableState.flowing===!1},b.prototype.setEncoding=function(I){ie||(ie=o("string_decoder/").StringDecoder);var p=new ie(I);this._readableState.decoder=p,this._readableState.encoding=this._readableState.decoder.encoding;for(var S=this._readableState.buffer.head,T="";S!==null;)T+=p.write(S.data),S=S.next;return this._readableState.buffer.clear(),T!==""&&this._readableState.buffer.push(T),this._readableState.length=T.length,this},b.prototype.read=function(I){oe("read",I),I=parseInt(I,10);var p=this._readableState,S=I;if(I!==0&&(p.emittedReadable=!1),I===0&&p.needReadable&&((p.highWaterMark===0?0<p.length:p.length>=p.highWaterMark)||p.ended))return oe("read: emitReadable",p.length,p.ended),p.length===0&&p.ended?_e(this):A(this),null;if(I=D(I,p),I===0&&p.ended)return p.length===0&&_e(this),null;var T=p.needReadable;oe("need readable",T),(p.length===0||p.length-I<p.highWaterMark)&&(T=!0,oe("length less than watermark",T)),p.ended||p.reading?(T=!1,oe("reading or ended",T)):T&&(oe("do read"),p.reading=!0,p.sync=!0,p.length===0&&(p.needReadable=!0),this._read(p.highWaterMark),p.sync=!1,!p.reading&&(I=D(S,p)));var V;return V=0<I?ue(I,p):null,V===null?(p.needReadable=p.length<=p.highWaterMark,I=0):(p.length-=I,p.awaitDrain=0),p.length===0&&(!p.ended&&(p.needReadable=!0),S!==I&&p.ended&&_e(this)),V!==null&&this.emit("data",V),V},b.prototype._read=function(){re(this,new F("_read()"))},b.prototype.pipe=function(I,p){function S(on,Rr){oe("onunpipe"),on===Ve&&Rr&&Rr.hasUnpiped===!1&&(Rr.hasUnpiped=!0,V())}function T(){oe("onend"),I.end()}function V(){oe("cleanup"),I.removeListener("close",me),I.removeListener("finish",ze),I.removeListener("drain",Fr),I.removeListener("error",Z),I.removeListener("unpipe",S),Ve.removeListener("end",T),Ve.removeListener("end",Xe),Ve.removeListener("data",H),an=!0,Fe.awaitDrain&&(!I._writableState||I._writableState.needDrain)&&Fr()}function H(on){oe("ondata");var Rr=I.write(on);oe("dest.write",Rr),Rr===!1&&((Fe.pipesCount===1&&Fe.pipes===I||1<Fe.pipesCount&&we(Fe.pipes,I)!==-1)&&!an&&(oe("false write response, pause",Fe.awaitDrain),Fe.awaitDrain++),Ve.pause())}function Z(on){oe("onerror",on),Xe(),I.removeListener("error",Z),ge(I,"error")===0&&re(I,on)}function me(){I.removeListener("finish",ze),Xe()}function ze(){oe("onfinish"),I.removeListener("close",me),Xe()}function Xe(){oe("unpipe"),Ve.unpipe(I)}var Ve=this,Fe=this._readableState;switch(Fe.pipesCount){case 0:Fe.pipes=I;break;case 1:Fe.pipes=[Fe.pipes,I];break;default:Fe.pipes.push(I)}Fe.pipesCount+=1,oe("pipe count=%d opts=%j",Fe.pipesCount,p);var dt=(!p||p.end!==!1)&&I!==u.stdout&&I!==u.stderr,$r=dt?T:Xe;Fe.endEmitted?u.nextTick($r):Ve.once("end",$r),I.on("unpipe",S);var Fr=N(Ve);I.on("drain",Fr);var an=!1;return Ve.on("data",H),m(I,"error",Z),I.once("close",me),I.once("finish",ze),I.emit("pipe",Ve),Fe.flowing||(oe("pipe resume"),Ve.resume()),I},b.prototype.unpipe=function(I){var p=this._readableState,S={hasUnpiped:!1};if(p.pipesCount===0)return this;if(p.pipesCount===1)return I&&I!==p.pipes?this:(I||(I=p.pipes),p.pipes=null,p.pipesCount=0,p.flowing=!1,I&&I.emit("unpipe",this,S),this);if(!I){var T=p.pipes,V=p.pipesCount;p.pipes=null,p.pipesCount=0,p.flowing=!1;for(var H=0;H<V;H++)T[H].emit("unpipe",this,{hasUnpiped:!1});return this}var Z=we(p.pipes,I);return Z===-1?this:(p.pipes.splice(Z,1),p.pipesCount-=1,p.pipesCount===1&&(p.pipes=p.pipes[0]),I.emit("unpipe",this,S),this)},b.prototype.on=function(I,p){var S=G.prototype.on.call(this,I,p),T=this._readableState;return I==="data"?(T.readableListening=0<this.listenerCount("readable"),T.flowing!==!1&&this.resume()):I=="readable"&&!T.endEmitted&&!T.readableListening&&(T.readableListening=T.needReadable=!0,T.flowing=!1,T.emittedReadable=!1,oe("on readable",T.length,T.reading),T.length?A(this):!T.reading&&u.nextTick(L,this)),S},b.prototype.addListener=b.prototype.on,b.prototype.removeListener=function(I,p){var S=G.prototype.removeListener.call(this,I,p);return I==="readable"&&u.nextTick(K,this),S},b.prototype.removeAllListeners=function(I){var p=G.prototype.removeAllListeners.apply(this,arguments);return(I==="readable"||I===void 0)&&u.nextTick(K,this),p},b.prototype.resume=function(){var I=this._readableState;return I.flowing||(oe("resume"),I.flowing=!I.readableListening,$(this,I)),I.paused=!1,this},b.prototype.pause=function(){return oe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(oe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},b.prototype.wrap=function(I){var p=this,S=this._readableState,T=!1;for(var V in I.on("end",function(){if(oe("wrapped end"),S.decoder&&!S.ended){var Z=S.decoder.end();Z&&Z.length&&p.push(Z)}p.push(null)}),I.on("data",function(Z){if(oe("wrapped data"),S.decoder&&(Z=S.decoder.write(Z)),!(S.objectMode&&Z==null)&&(S.objectMode||Z&&Z.length)){var me=p.push(Z);me||(T=!0,I.pause())}}),I)this[V]===void 0&&typeof I[V]=="function"&&(this[V]=(function(Z){return function(){return I[Z].apply(I,arguments)}})(V));for(var H=0;H<ne.length;H++)I.on(ne[H],this.emit.bind(this,ne[H]));return this._read=function(Z){oe("wrapped _read",Z),T&&(T=!1,I.resume())},this},typeof Symbol=="function"&&(b.prototype[Symbol.asyncIterator]=function(){return Te===void 0&&(Te=o("./internal/streams/async_iterator")),Te(this)}),Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(b.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(b.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(I){this._readableState&&(this._readableState.flowing=I)}}),b._fromList=ue,Object.defineProperty(b.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(b.from=function(I,p){return $e===void 0&&($e=o("./internal/streams/from")),$e(b,I,p)})}).call(this)}).call(this,o("_process"),typeof Lr>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Lr)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/async_iterator":21,"./internal/streams/buffer_list":22,"./internal/streams/destroy":23,"./internal/streams/from":25,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,events:7,inherits:10,"string_decoder/":31,util:2}],19:[function(o,c){function u(j,D){var k=this._transformState;k.transforming=!1;var A=k.writecb;if(A===null)return this.emit("error",new b);k.writechunk=null,k.writecb=null,D!=null&&this.push(D),A(j);var R=this._readableState;R.reading=!1,(R.needReadable||R.length<R.highWaterMark)&&this._read(R.highWaterMark)}function d(j){return this instanceof d?(E.call(this,j),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,j&&(typeof j.transform=="function"&&(this._transform=j.transform),typeof j.flush=="function"&&(this._flush=j.flush)),void this.on("prefinish",f)):new d(j)}function f(){var j=this;typeof this._flush!="function"||this._readableState.destroyed?g(this,null,null):this._flush(function(D,k){g(j,D,k)})}function g(j,D,k){if(D)return j.emit("error",D);if(k!=null&&j.push(k),j._writableState.length)throw new C;if(j._transformState.transforming)throw new x;return j.push(null)}c.exports=d;var m=o("../errors").codes,w=m.ERR_METHOD_NOT_IMPLEMENTED,b=m.ERR_MULTIPLE_CALLBACK,x=m.ERR_TRANSFORM_ALREADY_TRANSFORMING,C=m.ERR_TRANSFORM_WITH_LENGTH_0,E=o("./_stream_duplex");o("inherits")(d,E),d.prototype.push=function(j,D){return this._transformState.needTransform=!1,E.prototype.push.call(this,j,D)},d.prototype._transform=function(j,D,k){k(new w("_transform()"))},d.prototype._write=function(j,D,k){var A=this._transformState;if(A.writecb=k,A.writechunk=j,A.writeencoding=D,!A.transforming){var R=this._readableState;(A.needTransform||R.needReadable||R.length<R.highWaterMark)&&this._read(R.highWaterMark)}},d.prototype._read=function(){var j=this._transformState;j.writechunk===null||j.transforming?j.needTransform=!0:(j.transforming=!0,this._transform(j.writechunk,j.writeencoding,j.afterTransform))},d.prototype._destroy=function(j,D){E.prototype._destroy.call(this,j,function(k){D(k)})}},{"../errors":15,"./_stream_duplex":16,inherits:10}],20:[function(o,c){(function(u,d){(function(){function f(F){var J=this;this.next=null,this.entry=null,this.finish=function(){_e(J,F)}}function g(F){return oe.from(F)}function m(F){return oe.isBuffer(F)||F instanceof ge}function w(){}function b(F,J,re){Se=Se||o("./_stream_duplex"),F=F||{},typeof re!="boolean"&&(re=J instanceof Se),this.objectMode=!!F.objectMode,re&&(this.objectMode=this.objectMode||!!F.writableObjectMode),this.highWaterMark=xe(this,F,"writableHighWaterMark",re),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ne=F.decodeStrings===!1;this.decodeStrings=!ne,this.defaultEncoding=F.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(I){M(J,I)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=F.emitClose!==!1,this.autoDestroy=!!F.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}function x(F){Se=Se||o("./_stream_duplex");var J=this instanceof Se;return J||le.call(x,this)?(this._writableState=new b(F,this,J),this.writable=!0,F&&(typeof F.write=="function"&&(this._write=F.write),typeof F.writev=="function"&&(this._writev=F.writev),typeof F.destroy=="function"&&(this._destroy=F.destroy),typeof F.final=="function"&&(this._final=F.final)),void de.call(this)):new x(F)}function C(F,J){var re=new bt;it(F,re),u.nextTick(J,re)}function E(F,J,re,ne){var I;return re===null?I=new Ge:typeof re!="string"&&!J.objectMode&&(I=new ie("chunk",["string","Buffer"],re)),!I||(it(F,I),u.nextTick(ne,I),!1)}function j(F,J,re){return F.objectMode||F.decodeStrings===!1||typeof J!="string"||(J=oe.from(J,re)),J}function D(F,J,re,ne,I,p){if(!re){var S=j(J,ne,I);ne!==S&&(re=!0,I="buffer",ne=S)}var T=J.objectMode?1:ne.length;J.length+=T;var V=J.length<J.highWaterMark;if(V||(J.needDrain=!0),J.writing||J.corked){var H=J.lastBufferedRequest;J.lastBufferedRequest={chunk:ne,encoding:I,isBuf:re,callback:p,next:null},H?H.next=J.lastBufferedRequest:J.bufferedRequest=J.lastBufferedRequest,J.bufferedRequestCount+=1}else k(F,J,!1,T,ne,I,p);return V}function k(F,J,re,ne,I,p,S){J.writelen=ne,J.writecb=S,J.writing=!0,J.sync=!0,J.destroyed?J.onwrite(new Ke("write")):re?F._writev(I,J.onwrite):F._write(I,p,J.onwrite),J.sync=!1}function A(F,J,re,ne,I){--J.pendingcb,re?(u.nextTick(I,ne),u.nextTick(te,F,J),F._writableState.errorEmitted=!0,it(F,ne)):(I(ne),F._writableState.errorEmitted=!0,it(F,ne),te(F,J))}function R(F){F.writing=!1,F.writecb=null,F.length-=F.writelen,F.writelen=0}function M(F,J){var re=F._writableState,ne=re.sync,I=re.writecb;if(typeof I!="function")throw new $e;if(R(re),J)A(F,re,ne,J,I);else{var p=L(re)||F.destroyed;p||re.corked||re.bufferProcessing||!re.bufferedRequest||K(F,re),ne?u.nextTick(O,F,re,p,I):O(F,re,p,I)}}function O(F,J,re,ne){re||N(F,J),J.pendingcb--,ne(),te(F,J)}function N(F,J){J.length===0&&J.needDrain&&(J.needDrain=!1,F.emit("drain"))}function K(F,J){J.bufferProcessing=!0;var re=J.bufferedRequest;if(F._writev&&re&&re.next){var ne=J.bufferedRequestCount,I=Array(ne),p=J.corkedRequestsFree;p.entry=re;for(var S=0,T=!0;re;)I[S]=re,re.isBuf||(T=!1),re=re.next,S+=1;I.allBuffers=T,k(F,J,!0,J.length,I,"",p.finish),J.pendingcb++,J.lastBufferedRequest=null,p.next?(J.corkedRequestsFree=p.next,p.next=null):J.corkedRequestsFree=new f(J),J.bufferedRequestCount=0}else{for(;re;){var V=re.chunk,H=re.encoding,Z=re.callback,me=J.objectMode?1:V.length;if(k(F,J,!1,me,V,H,Z),re=re.next,J.bufferedRequestCount--,J.writing)break}re===null&&(J.lastBufferedRequest=null)}J.bufferedRequest=re,J.bufferProcessing=!1}function L(F){return F.ending&&F.length===0&&F.bufferedRequest===null&&!F.finished&&!F.writing}function $(F,J){F._final(function(re){J.pendingcb--,re&&it(F,re),J.prefinished=!0,F.emit("prefinish"),te(F,J)})}function Y(F,J){J.prefinished||J.finalCalled||(typeof F._final!="function"||J.destroyed?(J.prefinished=!0,F.emit("prefinish")):(J.pendingcb++,J.finalCalled=!0,u.nextTick($,F,J)))}function te(F,J){var re=L(J);if(re&&(Y(F,J),J.pendingcb===0&&(J.finished=!0,F.emit("finish"),J.autoDestroy))){var ne=F._readableState;(!ne||ne.autoDestroy&&ne.endEmitted)&&F.destroy()}return re}function ue(F,J,re){J.ending=!0,te(F,J),re&&(J.finished?u.nextTick(re):F.once("finish",re)),J.ended=!0,F.writable=!1}function _e(F,J,re){var ne=F.entry;for(F.entry=null;ne;){var I=ne.callback;J.pendingcb--,I(re),ne=ne.next}J.corkedRequestsFree.next=F}c.exports=x;var Se;x.WritableState=b;var we={deprecate:o("util-deprecate")},de=o("./internal/streams/stream"),oe=o("buffer").Buffer,ge=d.Uint8Array||function(){},G=o("./internal/streams/destroy"),ae=o("./internal/streams/state"),xe=ae.getHighWaterMark,ye=o("../errors").codes,ie=ye.ERR_INVALID_ARG_TYPE,Te=ye.ERR_METHOD_NOT_IMPLEMENTED,$e=ye.ERR_MULTIPLE_CALLBACK,Be=ye.ERR_STREAM_CANNOT_PIPE,Ke=ye.ERR_STREAM_DESTROYED,Ge=ye.ERR_STREAM_NULL_VALUES,bt=ye.ERR_STREAM_WRITE_AFTER_END,ut=ye.ERR_UNKNOWN_ENCODING,it=G.errorOrDestroy;o("inherits")(x,de),b.prototype.getBuffer=function(){for(var F=this.bufferedRequest,J=[];F;)J.push(F),F=F.next;return J},(function(){try{Object.defineProperty(b.prototype,"buffer",{get:we.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var le;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(le=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(F){return!!le.call(this,F)||this===x&&F&&F._writableState instanceof b}})):le=function(F){return F instanceof this},x.prototype.pipe=function(){it(this,new Be)},x.prototype.write=function(F,J,re){var ne=this._writableState,I=!1,p=!ne.objectMode&&m(F);return p&&!oe.isBuffer(F)&&(F=g(F)),typeof J=="function"&&(re=J,J=null),p?J="buffer":!J&&(J=ne.defaultEncoding),typeof re!="function"&&(re=w),ne.ending?C(this,re):(p||E(this,ne,F,re))&&(ne.pendingcb++,I=D(this,ne,p,F,J,re)),I},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var F=this._writableState;F.corked&&(F.corked--,!F.writing&&!F.corked&&!F.bufferProcessing&&F.bufferedRequest&&K(this,F))},x.prototype.setDefaultEncoding=function(F){if(typeof F=="string"&&(F=F.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((F+"").toLowerCase())))throw new ut(F);return this._writableState.defaultEncoding=F,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(F,J,re){re(new Te("_write()"))},x.prototype._writev=null,x.prototype.end=function(F,J,re){var ne=this._writableState;return typeof F=="function"?(re=F,F=null,J=null):typeof J=="function"&&(re=J,J=null),F!=null&&this.write(F,J),ne.corked&&(ne.corked=1,this.uncork()),ne.ending||ue(this,ne,re),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(F){this._writableState&&(this._writableState.destroyed=F)}}),x.prototype.destroy=G.destroy,x.prototype._undestroy=G.undestroy,x.prototype._destroy=function(F,J){J(F)}}).call(this)}).call(this,o("_process"),typeof Lr>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Lr)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/destroy":23,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,inherits:10,"util-deprecate":32}],21:[function(o,c){(function(u){(function(){function d(N,K,L){return K in N?Object.defineProperty(N,K,{value:L,enumerable:!0,configurable:!0,writable:!0}):N[K]=L,N}function f(N,K){return{value:N,done:K}}function g(N){var K=N[C];if(K!==null){var L=N[R].read();L!==null&&(N[k]=null,N[C]=null,N[E]=null,K(f(L,!1)))}}function m(N){u.nextTick(g,N)}function w(N,K){return function(L,$){N.then(function(){return K[D]?void L(f(void 0,!0)):void K[A](L,$)},$)}}var b,x=o("./end-of-stream"),C=Symbol("lastResolve"),E=Symbol("lastReject"),j=Symbol("error"),D=Symbol("ended"),k=Symbol("lastPromise"),A=Symbol("handlePromise"),R=Symbol("stream"),M=Object.getPrototypeOf(function(){}),O=Object.setPrototypeOf((b={get stream(){return this[R]},next:function(){var N=this,K=this[j];if(K!==null)return Promise.reject(K);if(this[D])return Promise.resolve(f(void 0,!0));if(this[R].destroyed)return new Promise(function(te,ue){u.nextTick(function(){N[j]?ue(N[j]):te(f(void 0,!0))})});var L,$=this[k];if($)L=new Promise(w($,this));else{var Y=this[R].read();if(Y!==null)return Promise.resolve(f(Y,!1));L=new Promise(this[A])}return this[k]=L,L}},d(b,Symbol.asyncIterator,function(){return this}),d(b,"return",function(){var N=this;return new Promise(function(K,L){N[R].destroy(null,function($){return $?void L($):void K(f(void 0,!0))})})}),b),M);c.exports=function(N){var K,L=Object.create(O,(K={},d(K,R,{value:N,writable:!0}),d(K,C,{value:null,writable:!0}),d(K,E,{value:null,writable:!0}),d(K,j,{value:null,writable:!0}),d(K,D,{value:N._readableState.endEmitted,writable:!0}),d(K,A,{value:function($,Y){var te=L[R].read();te?(L[k]=null,L[C]=null,L[E]=null,$(f(te,!1))):(L[C]=$,L[E]=Y)},writable:!0}),K));return L[k]=null,x(N,function($){if($&&$.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Y=L[E];return Y!==null&&(L[k]=null,L[C]=null,L[E]=null,Y($)),void(L[j]=$)}var te=L[C];te!==null&&(L[k]=null,L[C]=null,L[E]=null,te(f(void 0,!0))),L[D]=!0}),N.on("readable",m.bind(null,L)),L}}).call(this)}).call(this,o("_process"))},{"./end-of-stream":24,_process:12}],22:[function(o,c){function u(k,A){var R=Object.keys(k);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(k);A&&(M=M.filter(function(O){return Object.getOwnPropertyDescriptor(k,O).enumerable})),R.push.apply(R,M)}return R}function d(k){for(var A,R=1;R<arguments.length;R++)A=arguments[R]==null?{}:arguments[R],R%2?u(Object(A),!0).forEach(function(M){f(k,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(A)):u(Object(A)).forEach(function(M){Object.defineProperty(k,M,Object.getOwnPropertyDescriptor(A,M))});return k}function f(k,A,R){return A in k?Object.defineProperty(k,A,{value:R,enumerable:!0,configurable:!0,writable:!0}):k[A]=R,k}function g(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function m(k,A){for(var R,M=0;M<A.length;M++)R=A[M],R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(k,R.key,R)}function w(k,A,R){return A&&m(k.prototype,A),k}function b(k,A,R){C.prototype.copy.call(k,A,R)}var x=o("buffer"),C=x.Buffer,E=o("util"),j=E.inspect,D=j&&j.custom||"inspect";c.exports=(function(){function k(){g(this,k),this.head=null,this.tail=null,this.length=0}return w(k,[{key:"push",value:function(A){var R={data:A,next:null};0<this.length?this.tail.next=R:this.head=R,this.tail=R,++this.length}},{key:"unshift",value:function(A){var R={data:A,next:this.head};this.length===0&&(this.tail=R),this.head=R,++this.length}},{key:"shift",value:function(){if(this.length!==0){var A=this.head.data;return this.head=this.length===1?this.tail=null:this.head.next,--this.length,A}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(A){if(this.length===0)return"";for(var R=this.head,M=""+R.data;R=R.next;)M+=A+R.data;return M}},{key:"concat",value:function(A){if(this.length===0)return C.alloc(0);for(var R=C.allocUnsafe(A>>>0),M=this.head,O=0;M;)b(M.data,R,O),O+=M.data.length,M=M.next;return R}},{key:"consume",value:function(A,R){var M;return A<this.head.data.length?(M=this.head.data.slice(0,A),this.head.data=this.head.data.slice(A)):A===this.head.data.length?M=this.shift():M=R?this._getString(A):this._getBuffer(A),M}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(A){var R=this.head,M=1,O=R.data;for(A-=O.length;R=R.next;){var N=R.data,K=A>N.length?N.length:A;if(O+=K===N.length?N:N.slice(0,A),A-=K,A===0){K===N.length?(++M,this.head=R.next?R.next:this.tail=null):(this.head=R,R.data=N.slice(K));break}++M}return this.length-=M,O}},{key:"_getBuffer",value:function(A){var R=C.allocUnsafe(A),M=this.head,O=1;for(M.data.copy(R),A-=M.data.length;M=M.next;){var N=M.data,K=A>N.length?N.length:A;if(N.copy(R,R.length-A,0,K),A-=K,A===0){K===N.length?(++O,this.head=M.next?M.next:this.tail=null):(this.head=M,M.data=N.slice(K));break}++O}return this.length-=O,R}},{key:D,value:function(A,R){return j(this,d({},R,{depth:0,customInspect:!1}))}}]),k})()},{buffer:3,util:2}],23:[function(o,c){(function(u){(function(){function d(m,w){g(m,w),f(m)}function f(m){m._writableState&&!m._writableState.emitClose||m._readableState&&!m._readableState.emitClose||m.emit("close")}function g(m,w){m.emit("error",w)}c.exports={destroy:function(m,w){var b=this,x=this._readableState&&this._readableState.destroyed,C=this._writableState&&this._writableState.destroyed;return x||C?(w?w(m):m&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,u.nextTick(g,this,m)):u.nextTick(g,this,m)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(m||null,function(E){!w&&E?b._writableState?b._writableState.errorEmitted?u.nextTick(f,b):(b._writableState.errorEmitted=!0,u.nextTick(d,b,E)):u.nextTick(d,b,E):w?(u.nextTick(f,b),w(E)):u.nextTick(f,b)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(m,w){var b=m._readableState,x=m._writableState;b&&b.autoDestroy||x&&x.autoDestroy?m.destroy(w):m.emit("error",w)}}}).call(this)}).call(this,o("_process"))},{_process:12}],24:[function(o,c){function u(w){var b=!1;return function(){if(!b){b=!0;for(var x=arguments.length,C=Array(x),E=0;E<x;E++)C[E]=arguments[E];w.apply(this,C)}}}function d(){}function f(w){return w.setHeader&&typeof w.abort=="function"}function g(w,b,x){if(typeof b=="function")return g(w,null,b);b||(b={}),x=u(x||d);var C=b.readable||b.readable!==!1&&w.readable,E=b.writable||b.writable!==!1&&w.writable,j=function(){w.writable||k()},D=w._writableState&&w._writableState.finished,k=function(){E=!1,D=!0,C||x.call(w)},A=w._readableState&&w._readableState.endEmitted,R=function(){C=!1,A=!0,E||x.call(w)},M=function(K){x.call(w,K)},O=function(){var K;return C&&!A?(w._readableState&&w._readableState.ended||(K=new m),x.call(w,K)):E&&!D?(w._writableState&&w._writableState.ended||(K=new m),x.call(w,K)):void 0},N=function(){w.req.on("finish",k)};return f(w)?(w.on("complete",k),w.on("abort",O),w.req?N():w.on("request",N)):E&&!w._writableState&&(w.on("end",j),w.on("close",j)),w.on("end",R),w.on("finish",k),b.error!==!1&&w.on("error",M),w.on("close",O),function(){w.removeListener("complete",k),w.removeListener("abort",O),w.removeListener("request",N),w.req&&w.req.removeListener("finish",k),w.removeListener("end",j),w.removeListener("close",j),w.removeListener("finish",k),w.removeListener("end",R),w.removeListener("error",M),w.removeListener("close",O)}}var m=o("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;c.exports=g},{"../../../errors":15}],25:[function(o,c){c.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],26:[function(o,c){function u(D){var k=!1;return function(){k||(k=!0,D.apply(void 0,arguments))}}function d(D){if(D)throw D}function f(D){return D.setHeader&&typeof D.abort=="function"}function g(D,k,A,R){R=u(R);var M=!1;D.on("close",function(){M=!0}),x===void 0&&(x=o("./end-of-stream")),x(D,{readable:k,writable:A},function(N){return N?R(N):(M=!0,void R())});var O=!1;return function(N){if(!M)return O?void 0:(O=!0,f(D)?D.abort():typeof D.destroy=="function"?D.destroy():void R(N||new j("pipe")))}}function m(D){D()}function w(D,k){return D.pipe(k)}function b(D){return D.length&&typeof D[D.length-1]=="function"?D.pop():d}var x,C=o("../../../errors").codes,E=C.ERR_MISSING_ARGS,j=C.ERR_STREAM_DESTROYED;c.exports=function(){for(var D=arguments.length,k=Array(D),A=0;A<D;A++)k[A]=arguments[A];var R=b(k);if(Array.isArray(k[0])&&(k=k[0]),2>k.length)throw new E("streams");var M,O=k.map(function(N,K){var L=K<k.length-1;return g(N,L,0<K,function($){M||(M=$),$&&O.forEach(m),L||(O.forEach(m),R(M))})});return k.reduce(w)}},{"../../../errors":15,"./end-of-stream":24}],27:[function(o,c){function u(f,g,m){return f.highWaterMark==null?g?f[m]:null:f.highWaterMark}var d=o("../../../errors").codes.ERR_INVALID_OPT_VALUE;c.exports={getHighWaterMark:function(f,g,m,w){var b=u(g,w,m);if(b!=null){if(!(isFinite(b)&&r(b)===b)||0>b){var x=w?m:"highWaterMark";throw new d(x,b)}return r(b)}return f.objectMode?16:16384}}},{"../../../errors":15}],28:[function(o,c){c.exports=o("events").EventEmitter},{events:7}],29:[function(o,c,u){u=c.exports=o("./lib/_stream_readable.js"),u.Stream=u,u.Readable=u,u.Writable=o("./lib/_stream_writable.js"),u.Duplex=o("./lib/_stream_duplex.js"),u.Transform=o("./lib/_stream_transform.js"),u.PassThrough=o("./lib/_stream_passthrough.js"),u.finished=o("./lib/internal/streams/end-of-stream.js"),u.pipeline=o("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":16,"./lib/_stream_passthrough.js":17,"./lib/_stream_readable.js":18,"./lib/_stream_transform.js":19,"./lib/_stream_writable.js":20,"./lib/internal/streams/end-of-stream.js":24,"./lib/internal/streams/pipeline.js":26}],30:[function(o,c,u){function d(w,b){for(var x in w)b[x]=w[x]}function f(w,b,x){return m(w,b,x)}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var g=o("buffer"),m=g.Buffer;m.from&&m.alloc&&m.allocUnsafe&&m.allocUnsafeSlow?c.exports=g:(d(g,u),u.Buffer=f),f.prototype=Object.create(m.prototype),d(m,f),f.from=function(w,b,x){if(typeof w=="number")throw new TypeError("Argument must not be a number");return m(w,b,x)},f.alloc=function(w,b,x){if(typeof w!="number")throw new TypeError("Argument must be a number");var C=m(w);return b===void 0?C.fill(0):typeof x=="string"?C.fill(b,x):C.fill(b),C},f.allocUnsafe=function(w){if(typeof w!="number")throw new TypeError("Argument must be a number");return m(w)},f.allocUnsafeSlow=function(w){if(typeof w!="number")throw new TypeError("Argument must be a number");return g.SlowBuffer(w)}},{buffer:3}],31:[function(o,c,u){function d(O){if(!O)return"utf8";for(var N;;)switch(O){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return O;default:if(N)return;O=(""+O).toLowerCase(),N=!0}}function f(O){var N=d(O);if(typeof N!="string"&&(R.isEncoding===M||!M(O)))throw new Error("Unknown encoding: "+O);return N||O}function g(O){this.encoding=f(O);var N;switch(this.encoding){case"utf16le":this.text=C,this.end=E,N=4;break;case"utf8":this.fillLast=x,N=4;break;case"base64":this.text=j,this.end=D,N=3;break;default:return this.write=k,void(this.end=A)}this.lastNeed=0,this.lastTotal=0,this.lastChar=R.allocUnsafe(N)}function m(O){return 127>=O?0:O>>5==6?2:O>>4==14?3:O>>3==30?4:O>>6==2?-1:-2}function w(O,N,K){var L=N.length-1;if(L<K)return 0;var $=m(N[L]);return 0<=$?(0<$&&(O.lastNeed=$-1),$):--L<K||$===-2?0:($=m(N[L]),0<=$?(0<$&&(O.lastNeed=$-2),$):--L<K||$===-2?0:($=m(N[L]),0<=$?(0<$&&($===2?$=0:O.lastNeed=$-3),$):0))}function b(O,N){if((192&N[0])!=128)return O.lastNeed=0,"";if(1<O.lastNeed&&1<N.length){if((192&N[1])!=128)return O.lastNeed=1,"";if(2<O.lastNeed&&2<N.length&&(192&N[2])!=128)return O.lastNeed=2,""}}function x(O){var N=this.lastTotal-this.lastNeed,K=b(this,O);return K===void 0?this.lastNeed<=O.length?(O.copy(this.lastChar,N,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(O.copy(this.lastChar,N,0,O.length),void(this.lastNeed-=O.length)):K}function C(O,N){if((O.length-N)%2==0){var K=O.toString("utf16le",N);if(K){var L=K.charCodeAt(K.length-1);if(55296<=L&&56319>=L)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=O[O.length-2],this.lastChar[1]=O[O.length-1],K.slice(0,-1)}return K}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=O[O.length-1],O.toString("utf16le",N,O.length-1)}function E(O){var N=O&&O.length?this.write(O):"";if(this.lastNeed){var K=this.lastTotal-this.lastNeed;return N+this.lastChar.toString("utf16le",0,K)}return N}function j(O,N){var K=(O.length-N)%3;return K==0?O.toString("base64",N):(this.lastNeed=3-K,this.lastTotal=3,K==1?this.lastChar[0]=O[O.length-1]:(this.lastChar[0]=O[O.length-2],this.lastChar[1]=O[O.length-1]),O.toString("base64",N,O.length-K))}function D(O){var N=O&&O.length?this.write(O):"";return this.lastNeed?N+this.lastChar.toString("base64",0,3-this.lastNeed):N}function k(O){return O.toString(this.encoding)}function A(O){return O&&O.length?this.write(O):""}var R=o("safe-buffer").Buffer,M=R.isEncoding||function(O){switch(O=""+O,O&&O.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};u.StringDecoder=g,g.prototype.write=function(O){if(O.length===0)return"";var N,K;if(this.lastNeed){if(N=this.fillLast(O),N===void 0)return"";K=this.lastNeed,this.lastNeed=0}else K=0;return K<O.length?N?N+this.text(O,K):this.text(O,K):N||""},g.prototype.end=function(O){var N=O&&O.length?this.write(O):"";return this.lastNeed?N+"":N},g.prototype.text=function(O,N){var K=w(this,O,N);if(!this.lastNeed)return O.toString("utf8",N);this.lastTotal=K;var L=O.length-(K-this.lastNeed);return O.copy(this.lastChar,0,L),O.toString("utf8",N,L)},g.prototype.fillLast=function(O){return this.lastNeed<=O.length?(O.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(O.copy(this.lastChar,this.lastTotal-this.lastNeed,0,O.length),void(this.lastNeed-=O.length))}},{"safe-buffer":30}],32:[function(o,c){(function(u){(function(){function d(f){try{if(!u.localStorage)return!1}catch{return!1}var g=u.localStorage[f];return g!=null&&(g+"").toLowerCase()==="true"}c.exports=function(f,g){function m(){if(!w){if(d("throwDeprecation"))throw new Error(g);d("traceDeprecation")?console.trace(g):console.warn(g),w=!0}return f.apply(this,arguments)}if(d("noDeprecation"))return f;var w=!1;return m}}).call(this)}).call(this,typeof Lr>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Lr)},{}],"/":[function(o,c){function u(D){return D.replace(/a=ice-options:trickle\s\n/g,"")}function d(D){console.warn(D)}/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const f=o("debug")("simple-peer"),g=o("get-browser-rtc"),m=o("randombytes"),w=o("readable-stream"),b=o("queue-microtask"),x=o("err-code"),{Buffer:C}=o("buffer"),E=65536;class j extends w.Duplex{constructor(k){if(k=Object.assign({allowHalfOpen:!1},k),super(k),this._id=m(4).toString("hex").slice(0,7),this._debug("new peer %o",k),this.channelName=k.initiator?k.channelName||m(20).toString("hex"):null,this.initiator=k.initiator||!1,this.channelConfig=k.channelConfig||j.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},j.config,k.config),this.offerOptions=k.offerOptions||{},this.answerOptions=k.answerOptions||{},this.sdpTransform=k.sdpTransform||(A=>A),this.streams=k.streams||(k.stream?[k.stream]:[]),this.trickle=k.trickle===void 0||k.trickle,this.allowHalfTrickle=k.allowHalfTrickle!==void 0&&k.allowHalfTrickle,this.iceCompleteTimeout=k.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=k.wrtc&&typeof k.wrtc=="object"?k.wrtc:g(),!this._wrtc)throw x(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(A){return void this.destroy(x(A,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=A=>{this._onIceCandidate(A)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(A=>{this.destroy(x(A,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=A=>{this._setupData(A)},this.streams&&this.streams.forEach(A=>{this.addStream(A)}),this._pc.ontrack=A=>{this._onTrack(A)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(k){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof k=="string")try{k=JSON.parse(k)}catch{k={}}this._debug("signal()"),k.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),k.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(k.transceiverRequest.kind,k.transceiverRequest.init)),k.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(k.candidate):this._pendingCandidates.push(k.candidate)),k.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(k)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(A=>{this._addIceCandidate(A)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(A=>{this.destroy(x(A,"ERR_SET_REMOTE_DESCRIPTION"))}),k.sdp||k.candidate||k.renegotiate||k.transceiverRequest||this.destroy(x(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(k){const A=new this._wrtc.RTCIceCandidate(k);this._pc.addIceCandidate(A).catch(R=>{!A.address||A.address.endsWith(".local")?d("Ignoring unsupported ICE candidate."):this.destroy(x(R,"ERR_ADD_ICE_CANDIDATE"))})}send(k){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(k)}}addTransceiver(k,A){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(k,A),this._needsNegotiation()}catch(R){this.destroy(x(R,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:k,init:A}})}}addStream(k){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),k.getTracks().forEach(A=>{this.addTrack(A,k)})}}addTrack(k,A){if(this.destroying)return;if(this.destroyed)throw x(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const R=this._senderMap.get(k)||new Map;let M=R.get(A);if(!M)M=this._pc.addTrack(k,A),R.set(A,M),this._senderMap.set(k,R),this._needsNegotiation();else throw M.removed?x(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):x(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(k,A,R){if(this.destroying)return;if(this.destroyed)throw x(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const M=this._senderMap.get(k),O=M?M.get(R):null;if(!O)throw x(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");A&&this._senderMap.set(A,M),O.replaceTrack==null?this.destroy(x(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):O.replaceTrack(A)}removeTrack(k,A){if(this.destroying)return;if(this.destroyed)throw x(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const R=this._senderMap.get(k),M=R?R.get(A):null;if(!M)throw x(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{M.removed=!0,this._pc.removeTrack(M)}catch(O){O.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(M):this.destroy(x(O,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(k){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),k.getTracks().forEach(A=>{this.removeTrack(A,k)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,b(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(k){this._destroy(k,()=>{})}_destroy(k,A){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",k&&(k.message||k)),b(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",k&&(k.message||k)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,k&&this.emit("error",k),this.emit("close"),A()}))}_setupData(k){if(!k.channel)return this.destroy(x(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=k.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=E),this.channelName=this._channel.label,this._channel.onmessage=R=>{this._onChannelMessage(R)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=R=>{const M=R.error instanceof Error?R.error:new Error(`Datachannel error: ${R.message} ${R.filename}:${R.lineno}:${R.colno}`);this.destroy(x(M,"ERR_DATA_CHANNEL"))};let A=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(A&&this._onChannelClose(),A=!0):A=!1},5e3)}_read(){}_write(k,A,R){if(this.destroyed)return R(x(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(k)}catch(M){return this.destroy(x(M,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>E?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=R):R(null)}else this._debug("write before connect"),this._chunk=k,this._cb=R}_onFinish(){if(!this.destroyed){const k=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?k():this.once("connect",k)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(k=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(k.sdp=u(k.sdp)),k.sdp=this.sdpTransform(k.sdp);const A=()=>{if(!this.destroyed){const R=this._pc.localDescription||k;this._debug("signal"),this.emit("signal",{type:R.type,sdp:R.sdp})}};this._pc.setLocalDescription(k).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?A():this.once("_iceComplete",A))}).catch(R=>{this.destroy(x(R,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(k=>{this.destroy(x(k,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(k=>{k.mid||!k.sender.track||k.requested||(k.requested=!0,this.addTransceiver(k.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(k=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(k.sdp=u(k.sdp)),k.sdp=this.sdpTransform(k.sdp);const A=()=>{if(!this.destroyed){const R=this._pc.localDescription||k;this._debug("signal"),this.emit("signal",{type:R.type,sdp:R.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(k).then(()=>{this.destroyed||(this.trickle||this._iceComplete?A():this.once("_iceComplete",A))}).catch(R=>{this.destroy(x(R,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(k=>{this.destroy(x(k,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(x(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const k=this._pc.iceConnectionState,A=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",k,A),this.emit("iceStateChange",k,A),(k==="connected"||k==="completed")&&(this._pcReady=!0,this._maybeReady()),k==="failed"&&this.destroy(x(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),k==="closed"&&this.destroy(x(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(k){const A=R=>(Object.prototype.toString.call(R.values)==="[object Array]"&&R.values.forEach(M=>{Object.assign(R,M)}),R);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(R=>{const M=[];R.forEach(O=>{M.push(A(O))}),k(null,M)},R=>k(R)):0<this._pc.getStats.length?this._pc.getStats(R=>{if(this.destroyed)return;const M=[];R.result().forEach(O=>{const N={};O.names().forEach(K=>{N[K]=O.stat(K)}),N.id=O.id,N.type=O.type,N.timestamp=O.timestamp,M.push(A(N))}),k(null,M)},R=>k(R)):k(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const k=()=>{this.destroyed||this.getStats((A,R)=>{if(this.destroyed)return;A&&(R=[]);const M={},O={},N={};let K=!1;R.forEach($=>{($.type==="remotecandidate"||$.type==="remote-candidate")&&(M[$.id]=$),($.type==="localcandidate"||$.type==="local-candidate")&&(O[$.id]=$),($.type==="candidatepair"||$.type==="candidate-pair")&&(N[$.id]=$)});const L=$=>{K=!0;let Y=O[$.localCandidateId];Y&&(Y.ip||Y.address)?(this.localAddress=Y.ip||Y.address,this.localPort=+Y.port):Y&&Y.ipAddress?(this.localAddress=Y.ipAddress,this.localPort=+Y.portNumber):typeof $.googLocalAddress=="string"&&(Y=$.googLocalAddress.split(":"),this.localAddress=Y[0],this.localPort=+Y[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let te=M[$.remoteCandidateId];te&&(te.ip||te.address)?(this.remoteAddress=te.ip||te.address,this.remotePort=+te.port):te&&te.ipAddress?(this.remoteAddress=te.ipAddress,this.remotePort=+te.portNumber):typeof $.googRemoteAddress=="string"&&(te=$.googRemoteAddress.split(":"),this.remoteAddress=te[0],this.remotePort=+te[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(R.forEach($=>{$.type==="transport"&&$.selectedCandidatePairId&&L(N[$.selectedCandidatePairId]),($.type==="googCandidatePair"&&$.googActiveConnection==="true"||($.type==="candidatepair"||$.type==="candidate-pair")&&$.selected)&&L($)}),!K&&(!Object.keys(N).length||Object.keys(O).length))return void setTimeout(k,100);if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(Y){return this.destroy(x(Y,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const $=this._cb;this._cb=null,$(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};k()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>E)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(k=>{this._pc.removeTrack(k),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(k){this.destroyed||(k.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:k.candidate.candidate,sdpMLineIndex:k.candidate.sdpMLineIndex,sdpMid:k.candidate.sdpMid}}):!k.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),k.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(k){if(this.destroyed)return;let A=k.data;A instanceof ArrayBuffer&&(A=C.from(A)),this.push(A)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const k=this._cb;this._cb=null,k(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(k){this.destroyed||k.streams.forEach(A=>{this._debug("on track"),this.emit("track",k.track,A),this._remoteTracks.push({track:k.track,stream:A}),this._remoteStreams.some(R=>R.id===A.id)||(this._remoteStreams.push(A),b(()=>{this._debug("on stream"),this.emit("stream",A)}))})}_debug(){const k=[].slice.call(arguments);k[0]="["+this._id+"] "+k[0],f.apply(null,k)}}j.WEBRTC_SUPPORT=!!g(),j.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},j.channelConfig={},c.exports=j},{buffer:3,debug:4,"err-code":6,"get-browser-rtc":8,"queue-microtask":13,randombytes:14,"readable-stream":29}]},{},[])("/")})})(ad)),ad.exports}var YR=HR();const Dn=Rl(YR);async function JR(t){try{console.log("[CustomerToPartner] Arama balatlyor:",{customer_id:t.customer_id,partner_id:t.partner_id,request_id:t.request_id});const{data:e,error:r}=await U.from("customer_partner_calls").insert({customer_id:t.customer_id,partner_id:t.partner_id,sdp_offer:t.sdp_offer,request_id:t.request_id,status:"ringing",started_at:new Date().toISOString()}).select().single();return r?(console.error("[CustomerToPartner] Arama balatma hatas:",r),{success:!1,error:r.message}):(console.log("[CustomerToPartner]  Arama oluturuldu:",e.id),{success:!0,call:e})}catch(e){return console.error("[CustomerToPartner] Exception:",e),{success:!1,error:e.message}}}async function QR(t){try{console.log("[CustomerToPartner] Partner aramay cevaplyor:",t.call_id);const{data:e,error:r}=await U.from("customer_partner_calls").update({sdp_answer:t.sdp_answer,status:"connected",connected_at:new Date().toISOString()}).eq("id",t.call_id).select().single();if(r)return console.error("[CustomerToPartner] Cevaplama hatas:",r),{success:!1,error:r.message};const i=await tj(e.partner_id);return i.success||console.warn("[CustomerToPartner]  Kredi dm baarsz:",i.error),await U.from("customer_partner_calls").update({credit_deducted:!0}).eq("id",t.call_id),console.log("[CustomerToPartner]  Arama baland ve kredi drld"),{success:!0,call:e}}catch(e){return console.error("[CustomerToPartner] Exception:",e),{success:!1,error:e.message}}}async function XR(t){try{console.log("[CustomerToPartner] Arama sonlandrlyor:",{call_id:t.call_id,reason:t.end_reason});const{data:e,error:r}=await U.from("customer_partner_calls").select("*").eq("id",t.call_id).single();if(r||!e)return{success:!1,error:"ar bulunamad"};const i=e.connected_at?Math.floor((Date.now()-new Date(e.connected_at).getTime())/1e3):0,{error:a}=await U.from("customer_partner_calls").update({status:"ended",ended_at:new Date().toISOString(),end_reason:t.end_reason,duration_seconds:i}).eq("id",t.call_id);return a?(console.error("[CustomerToPartner] Sonlandrma hatas:",a),{success:!1,error:a.message}):(console.log("[CustomerToPartner]  Arama sonlandrld:",i,"saniye"),{success:!0})}catch(e){return console.error("[CustomerToPartner] Exception:",e),{success:!1,error:e.message}}}async function ZR(t){try{console.log("[CustomerToPartner] Arama reddediliyor:",t);const{error:e}=await U.from("customer_partner_calls").update({status:"rejected",ended_at:new Date().toISOString(),end_reason:"receiver_ended"}).eq("id",t);return e?(console.error("[CustomerToPartner] Reddetme hatas:",e),{success:!1,error:e.message}):(console.log("[CustomerToPartner]  Arama reddedildi (kredi dmedi)"),{success:!0})}catch(e){return console.error("[CustomerToPartner] Exception:",e),{success:!1,error:e.message}}}async function ej(t){try{const{data:e,error:r}=await U.from("customer_partner_calls").select("*").eq("id",t).single();return r?(console.error("[CustomerToPartner] Arama getirme hatas:",r),{success:!1,error:r.message}):{success:!0,call:e}}catch(e){return console.error("[CustomerToPartner] Exception:",e),{success:!1,error:e.message}}}async function tj(t){try{const{data:e,error:r}=await U.from("partners").select("credits").eq("id",t).single();if(r||!e)return{success:!1,error:"Partner bulunamad"};if(e.credits<=0)return{success:!1,error:"Yetersiz kredi"};const{error:i}=await U.from("partners").update({credits:e.credits-1}).eq("id",t);return i?{success:!1,error:i.message}:(console.log("[CustomerToPartner] Kredi drld:",e.credits,"",e.credits-1),{success:!0})}catch(e){return{success:!1,error:e.message}}}const W_=z.createContext(void 0),rj=({children:t})=>{const[e,r]=z.useState(null),[i,a]=z.useState(!1),[o,c]=z.useState("idle"),[u,d]=z.useState(null),[f,g]=z.useState(null),[m,w]=z.useState(null),b=z.useRef(null),x=z.useRef(null),C=async()=>{try{const O=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0},video:!1});return d(O),console.log("[CustomerToPartner]  Mikrofon eriimi saland"),O}catch(O){return console.error("[CustomerToPartner] Mikrofon hatas:",O),w("Mikrofon eriimi engellenmi"),null}},E=z.useCallback(async(O,N)=>{try{console.log("[CustomerToPartner] Arama balatlyor:",O),w(null),a(!0);const K=await C();if(!K)throw new Error("Mikrofon eriimi salanamad");const{data:{user:L}}=await U.auth.getUser(),$=(L==null?void 0:L.id)||`anon_${Date.now()}`,Y=new Dn({initiator:!0,trickle:!0,stream:K,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]}});b.current=Y,Y.on("signal",async te=>{if(te.type==="offer"){console.log("[CustomerToPartner] SDP Offer oluturuldu");const ue=await JR({customer_id:$,partner_id:O,sdp_offer:te,request_id:N});if(!ue.success||!ue.call)throw new Error(ue.error||"Arama balatlamad");r(ue.call),c("ringing"),A(ue.call.id)}}),Y.on("stream",te=>{console.log("[CustomerToPartner]  Remote stream alnd"),g(te),c("connected")}),Y.on("close",()=>{console.log("[CustomerToPartner] Peer balants kapand"),R()}),Y.on("error",te=>{console.error("[CustomerToPartner] Peer hatas:",te),w("Balant hatas"),R()})}catch(K){console.error("[CustomerToPartner] startCall hatas:",K),w(K.message),R()}},[]),j=z.useCallback(async O=>{try{console.log("[CustomerToPartner] Partner aramay cevaplyor:",O),w(null),a(!1);const N=await ej(O);if(!N.success||!N.call)throw new Error("ar bulunamad");const K=N.call;r(K);const L=await C();if(!L)throw new Error("Mikrofon eriimi salanamad");const $=new Dn({initiator:!1,trickle:!0,stream:L,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]}});b.current=$,K.sdp_offer&&$.signal(K.sdp_offer),$.on("signal",async Y=>{if(Y.type==="answer"){console.log("[CustomerToPartner] SDP Answer oluturuldu");const te=await QR({call_id:O,sdp_answer:Y});if(!te.success)throw new Error(te.error||"Cevaplama baarsz");c("connected")}}),$.on("stream",Y=>{console.log("[CustomerToPartner]  Remote stream alnd (partner)"),g(Y)}),$.on("close",()=>{console.log("[CustomerToPartner] Peer kapand (partner)"),R()}),$.on("error",Y=>{console.error("[CustomerToPartner] Peer hatas (partner):",Y),w("Balant hatas"),R()})}catch(N){console.error("[CustomerToPartner] answerCall hatas:",N),w(N.message),R()}},[]),D=z.useCallback(async()=>{try{if(!e)return;console.log("[CustomerToPartner] Arama sonlandrlyor");const O=i?"caller_ended":"receiver_ended";await XR({call_id:e.id,end_reason:O}),c("ended"),R()}catch(O){console.error("[CustomerToPartner] endCall hatas:",O),R()}},[e,i]),k=z.useCallback(async O=>{try{console.log("[CustomerToPartner] Arama reddediliyor"),await ZR(O),R()}catch(N){console.error("[CustomerToPartner] rejectCall hatas:",N),R()}},[]),A=O=>{console.log("[CustomerToPartner] Realtime subscription balatlyor:",O);const N=U.channel(`customer_partner_call:${O}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"customer_partner_calls",filter:`id=eq.${O}`},K=>{console.log("[CustomerToPartner] Realtime gncelleme:",K);const L=K.new;L.sdp_answer&&b.current&&i&&(console.log("[CustomerToPartner] SDP Answer alnd, signaling..."),b.current.signal(L.sdp_answer)),L.status==="rejected"?(w("Arama reddedildi"),R()):L.status==="ended"&&R(),r(L)}).subscribe();x.current=N},R=z.useCallback(()=>{console.log("[CustomerToPartner] Cleanup balatlyor"),b.current&&(b.current.destroy(),b.current=null),u&&(u.getTracks().forEach(O=>O.stop()),d(null)),f&&(f.getTracks().forEach(O=>O.stop()),g(null)),x.current&&(U.removeChannel(x.current),x.current=null),r(null),c("idle"),a(!1)},[u,f]);z.useEffect(()=>{if(!(()=>{try{return!!localStorage.getItem("yolmov_partner")}catch{return!1}})()){console.log("[CustomerToPartner] Customer user detected, skipping incoming call listener");return}const N=async()=>{try{const te=localStorage.getItem("yolmov_partner");if(te){const ue=JSON.parse(te);if(ue.id)return console.log("[CustomerToPartner] Partner ID from localStorage:",ue.id),ue.id}}catch{console.log("[CustomerToPartner] localStorage parse error, checking database")}const{data:{user:$}}=await U.auth.getUser();if(!$)return console.log("[CustomerToPartner] No auth user found"),null;const{data:Y}=await U.from("partners").select("id").eq("id",$.id).single();return Y!=null&&Y.id?(console.log("[CustomerToPartner] Partner ID from database:",Y.id),Y.id):(console.log("[CustomerToPartner] User is not a partner"),null)};let K=null;return(async()=>{const $=await N();if(!$){console.log("[CustomerToPartner] Partner ID bulunamad");return}console.log("[CustomerToPartner]  Partner gelen arama dinleniyor:",$),K=U.channel(`partner_incoming_calls:${$}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"customer_partner_calls",filter:`partner_id=eq.${$}`},Y=>{const te=Y.new;console.log("[CustomerToPartner]  GELEN ARAMA!",te),te.status==="ringing"&&(r(te),c("ringing"),a(!1),A(te.id))}).subscribe(Y=>{console.log("[CustomerToPartner] Partner subscription status:",Y)})})(),()=>{K&&(U.removeChannel(K),console.log("[CustomerToPartner] Partner incoming call listener removed"))}},[]),z.useEffect(()=>()=>{R()},[R]);const M={currentCall:e,isInitiator:i,callStatus:o,localStream:u,remoteStream:f,startCall:E,answerCall:j,endCall:D,rejectCall:k,error:m};return y.jsx(W_.Provider,{value:M,children:t})},Zh=()=>{const t=z.useContext(W_);if(t===void 0)throw new Error("useCustomerPartnerCall must be used within CustomerPartnerCallProvider");return t},nj=async()=>{try{const t=document.documentElement;t.requestFullscreen?await t.requestFullscreen():t.webkitRequestFullscreen?await t.webkitRequestFullscreen():t.msRequestFullscreen&&await t.msRequestFullscreen()}catch{console.log("Fullscreen not supported or denied")}},ij=async()=>{try{document.fullscreenElement?await document.exitFullscreen():document.webkitFullscreenElement?await document.webkitExitFullscreen():document.msFullscreenElement&&await document.msExitFullscreen()}catch{console.log("Exit fullscreen failed")}},sj=()=>{const{currentCall:t,callStatus:e,answerCall:r,rejectCall:i,isInitiator:a}=Zh(),o=(()=>{try{return!!localStorage.getItem("yolmov_partner")}catch{return!1}})(),c=(()=>{try{return!!localStorage.getItem("yolmov_admin")}catch{return!1}})(),u=o&&!a&&e==="ringing";if(console.log(" [IncomingCallModal]",{isPartnerUser:o,isInitiator:a,callStatus:e,isIncoming:u,currentCall:t==null?void 0:t.id}),z.useEffect(()=>{u&&e==="ringing"&&!c&&nj()},[u,e,c]),c||!o||!u||e!=="ringing"||!t)return null;const d="Mteri",f=t.customer_id.startsWith("anon_")?"":t.customer_id,g=async()=>{await ij(),i(t.id)},m=async()=>{r(t.id)};return y.jsx(Tr,{children:y.jsxs(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 flex flex-col items-center justify-between py-12 px-6",children:[y.jsx("div",{className:"flex flex-col items-center",children:y.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white/10 rounded-full backdrop-blur-sm",children:[y.jsx(zr,{size:14,className:"text-green-400"}),y.jsx("span",{className:"text-white/80 text-sm font-medium",children:"Yolmov Voice"})]})}),y.jsxs("div",{className:"flex flex-col items-center text-center",children:[y.jsxs(Ne.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"relative mb-8",children:[y.jsx("div",{className:"absolute inset-0 w-36 h-36 rounded-full bg-green-500/20 animate-ping"}),y.jsx("div",{className:"absolute inset-2 w-32 h-32 rounded-full bg-green-500/30 animate-pulse"}),y.jsx("div",{className:"relative w-32 h-32 rounded-full bg-gradient-to-br from-slate-600 to-slate-700 flex items-center justify-center text-white shadow-2xl border-4 border-white/10",children:y.jsx(Nl,{size:56,strokeWidth:1.5})})]}),y.jsx(Ne.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl font-bold text-white mb-2",children:d}),f&&y.jsx(Ne.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-lg text-white/60 mb-4",children:f}),y.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex items-center gap-2 px-4 py-2 bg-orange-500/20 rounded-full",children:[y.jsx(Ol,{size:16,className:"text-orange-400"}),y.jsx("span",{className:"text-orange-300 text-sm font-medium",children:"Yol Yardm Talebi"})]}),y.jsx(Ne.p,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},className:"text-white/50 text-lg mt-8",children:"Mteri aryor..."}),y.jsxs(Ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-4 flex items-center gap-2 px-4 py-2 bg-yellow-500/20 rounded-full",children:[y.jsx(Uk,{size:14,className:"text-yellow-400"}),y.jsx("span",{className:"text-yellow-300 text-xs font-medium",children:"Cevaplamak 1 kredi harcar"})]})]}),y.jsxs(Ne.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.5},className:"flex items-center justify-center gap-12",children:[y.jsxs("button",{onClick:g,className:"group flex flex-col items-center gap-3",children:[y.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500 flex items-center justify-center shadow-lg shadow-red-500/30 transition-transform group-hover:scale-110 group-active:scale-95",children:y.jsx(dl,{size:28,className:"text-white"})}),y.jsx("span",{className:"text-white/60 text-sm font-medium",children:"Reddet"})]}),y.jsxs("button",{onClick:m,className:"group flex flex-col items-center gap-3",children:[y.jsx(Ne.div,{animate:{scale:[1,1.15,1]},transition:{duration:1,repeat:1/0},className:"w-20 h-20 rounded-full bg-green-500 flex items-center justify-center shadow-lg shadow-green-500/30 transition-transform group-hover:scale-110 group-active:scale-95",children:y.jsx(zr,{size:36,className:"text-white"})}),y.jsx("span",{className:"text-white/60 text-sm font-medium",children:"Cevapla"})]})]})]})})},av=async()=>{try{document.fullscreenElement?await document.exitFullscreen():document.webkitFullscreenElement?await document.webkitExitFullscreen():document.msFullscreenElement&&await document.msExitFullscreen()}catch{console.log("Exit fullscreen failed")}},aj=({minimized:t=!1,onMinimize:e,onMaximize:r})=>{const{callStatus:i,currentCall:a,isInitiator:o,endCall:c,localStream:u}=Zh(),[d,f]=z.useState(0),[g,m]=z.useState(!1),[w,b]=z.useState(!0);z.useEffect(()=>{if(i==="connected"){const R=setInterval(()=>{f(M=>M+1)},1e3);return()=>clearInterval(R)}else f(0)},[i]);const x=()=>{u&&(u.getAudioTracks().forEach(R=>{R.enabled=g}),m(!g))},C=()=>{b(!w)},E=(()=>{try{return!!localStorage.getItem("yolmov_admin")}catch{return!1}})();if(z.useEffect(()=>{(i==="ended"||i==="idle")&&av()},[i]),i!=="connected"||!a)return null;if(E)return console.log(" [ActiveCallUI] Admin user detected, hiding fullscreen UI"),null;const j=R=>{const M=Math.floor(R/60),O=R%60;return`${M.toString().padStart(2,"0")}:${O.toString().padStart(2,"0")}`},D=async()=>{await av(),c()},k=o?"Partner":"Mteri";(()=>{try{return!!localStorage.getItem("yolmov_partner")}catch{return!1}})();const A={bgColor:"bg-green-600",gradientFrom:"from-green-900",gradientVia:"via-green-800",statusBg:"bg-green-500/30",statusText:"text-green-300",statusDot:"bg-green-400",avatarPulse:"bg-green-400",avatarFrom:"from-green-600",avatarTo:"to-green-700",avatarBorder:"border-green-400/30"};return t?y.jsx(Ne.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},onClick:r,className:`fixed bottom-20 left-4 right-4 z-[9998] ${A.bgColor} rounded-2xl p-4 shadow-2xl cursor-pointer`,children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:y.jsx(zr,{size:20,className:"text-white"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-white font-bold text-sm",children:k}),y.jsxs("p",{className:"text-white/70 text-xs flex items-center gap-1",children:[y.jsx(md,{size:12}),j(d)]})]})]}),y.jsx("button",{onClick:R=>{R.stopPropagation(),D()},className:"w-10 h-10 rounded-full bg-red-500 flex items-center justify-center",children:y.jsx(dl,{size:18,className:"text-white"})})]})}):y.jsx(Tr,{children:y.jsxs(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`fixed inset-0 z-[9999] bg-gradient-to-b ${A.gradientFrom} ${A.gradientVia} to-slate-900 flex flex-col items-center justify-between py-12 px-6`,children:[y.jsxs("div",{className:"w-full flex items-center justify-between",children:[y.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-colors",children:y.jsx(Gk,{size:20,className:"text-white"})}),y.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 ${A.statusBg} rounded-full`,children:[y.jsx("div",{className:`w-2 h-2 rounded-full ${A.statusDot} animate-pulse`}),y.jsx("span",{className:`${A.statusText} text-sm font-medium`,children:"Grme Devam Ediyor"})]}),y.jsx("div",{className:"w-10"})," "]}),y.jsxs("div",{className:"flex flex-col items-center text-center",children:[y.jsxs("div",{className:"relative mb-6",children:[y.jsx(Ne.div,{animate:{scale:[1,1.2,1],opacity:[.3,.1,.3]},transition:{duration:1.5,repeat:1/0},className:`absolute inset-0 w-32 h-32 rounded-full ${A.avatarPulse}`}),y.jsx("div",{className:`relative w-32 h-32 rounded-full bg-gradient-to-br ${A.avatarFrom} ${A.avatarTo} flex items-center justify-center text-white shadow-2xl border-4 ${A.avatarBorder}`,children:y.jsx(Nl,{size:56,strokeWidth:1.5})})]}),y.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:k}),y.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-xl",children:[y.jsx(md,{size:20}),y.jsx("span",{className:"font-mono",children:j(d)})]})]}),y.jsxs("div",{className:"flex flex-col items-center gap-8",children:[y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsx("button",{onClick:x,className:`w-14 h-14 rounded-full flex items-center justify-center transition-all ${g?"bg-red-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:g?y.jsx(Kk,{size:24}):y.jsx(Wk,{size:24})}),y.jsx("button",{onClick:C,className:`w-14 h-14 rounded-full flex items-center justify-center transition-all ${w?"bg-white/10 text-white hover:bg-white/20":"bg-red-500 text-white"}`,children:w?y.jsx(Zk,{size:24}):y.jsx(e1,{size:24})})]}),y.jsx("button",{onClick:D,className:"w-20 h-20 rounded-full bg-red-500 flex items-center justify-center shadow-lg shadow-red-500/30 hover:bg-red-600 transition-colors active:scale-95",children:y.jsx(dl,{size:32,className:"text-white"})}),y.jsx("span",{className:"text-white/50 text-sm",children:"Grmeyi Sonlandr"})]})]})})},oj=async t=>{if(t)try{t.requestFullscreen?await t.requestFullscreen():t.webkitRequestFullscreen?await t.webkitRequestFullscreen():t.msRequestFullscreen&&await t.msRequestFullscreen()}catch{console.log("Fullscreen not supported or denied")}},ov=async()=>{try{document.fullscreenElement?await document.exitFullscreen():document.webkitFullscreenElement?await document.webkitExitFullscreen():document.msFullscreenElement&&await document.msExitFullscreen()}catch{console.log("Exit fullscreen failed")}},lj=()=>{const{callStatus:t,currentCall:e,endCall:r,error:i,isInitiator:a}=Zh(),[o,c]=z.useState(""),u=z.useRef(null),d=(()=>{try{const w=localStorage.getItem("yolmov_customer"),b=localStorage.getItem("yolmov_partner"),x=localStorage.getItem("yolmov_admin");return!!w&&!b&&!x}catch{return!1}})(),f=d&&a&&(t==="ringing"||t==="calling"),g={gradientFrom:"from-orange-900",gradientVia:"via-orange-800",accent:"text-orange-400",pulseColor:"bg-orange-500",pulseColor2:"bg-orange-400",avatarFrom:"from-orange-600",avatarTo:"to-orange-700"};if(z.useEffect(()=>(f&&oj(document.documentElement),()=>{t!=="ringing"&&t!=="connected"&&ov()}),[f,t]),z.useEffect(()=>{if(t==="calling"){const w=setInterval(()=>{c(b=>b.length>=3?"":b+".")},500);return()=>clearInterval(w)}},[t]),!f||!e)return null;const m=async()=>{await ov(),r()};return console.log(" [OutgoingCallUI] Showing outgoing call UI",{isCustomerUser:d,isInitiator:a,callStatus:t,callId:e.id}),y.jsx(Tr,{children:y.jsxs(Ne.div,{ref:u,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`fixed inset-0 z-[9999] bg-gradient-to-b ${g.gradientFrom} ${g.gradientVia} to-slate-900 flex flex-col items-center justify-between py-12 px-6`,children:[y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white/10 rounded-full backdrop-blur-sm",children:[y.jsx(zr,{size:14,className:g.accent}),y.jsx("span",{className:"text-white/80 text-sm font-medium",children:"Yolmov Voice"})]}),i&&y.jsx(Ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-4 px-4 py-2 bg-red-500/20 rounded-lg",children:y.jsx("span",{className:"text-red-300 text-sm",children:i})})]}),y.jsxs("div",{className:"flex flex-col items-center text-center",children:[y.jsxs(Ne.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},className:"relative mb-8",children:[y.jsx(Ne.div,{animate:{scale:[1,1.5],opacity:[.5,0]},transition:{duration:1.5,repeat:1/0},className:`absolute inset-0 w-32 h-32 rounded-full ${g.pulseColor}`}),y.jsx(Ne.div,{animate:{scale:[1,1.3],opacity:[.3,0]},transition:{duration:1.5,repeat:1/0,delay:.5},className:`absolute inset-0 w-32 h-32 rounded-full ${g.pulseColor2}`}),y.jsx("div",{className:`relative w-32 h-32 rounded-full bg-gradient-to-br ${g.avatarFrom} ${g.avatarTo} flex items-center justify-center text-white shadow-2xl border-4 border-white/10`,children:y.jsx(Nl,{size:56,strokeWidth:1.5})})]}),y.jsx(Ne.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl font-bold text-white mb-2",children:"Partner"}),y.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex items-center gap-3 mt-4",children:[y.jsx(nh,{size:20,className:`${g.accent} animate-spin`}),y.jsxs("span",{className:"text-white/70 text-lg",children:[(e==null?void 0:e.receiverType)==="admin"?"Destek hatt aranyor":"Aranyor",o]})]}),y.jsx(Ne.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-white/40 text-sm mt-8 max-w-xs",children:(e==null?void 0:e.receiverType)==="admin"?"Yolmov temsilcisi cevapladnda grme balayacak":"Partner cevapladnda grme balayacak"})]}),y.jsxs(Ne.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex flex-col items-center gap-4",children:[y.jsx("button",{onClick:m,className:"group w-20 h-20 rounded-full bg-red-500 flex items-center justify-center shadow-lg shadow-red-500/30 hover:bg-red-600 transition-all active:scale-95",children:y.jsx(dl,{size:32,className:"text-white"})}),y.jsx("span",{className:"text-white/50 text-sm",children:"Aramay ptal Et"})]})]})})},Xs={mimeType:"audio/webm;codecs=opus",audioBitsPerSecond:16e3,sampleRate:16e3,channels:1},cj=["audio/webm;codecs=opus","audio/webm","audio/ogg;codecs=opus","audio/mp4"];class uj{constructor(){Yt(this,"mediaRecorder",null);Yt(this,"audioChunks",[]);Yt(this,"recordingState",{isRecording:!1,duration:0,fileSize:0});Yt(this,"options",null);Yt(this,"durationInterval",null);Yt(this,"startTime",0)}getSupportedMimeType(){for(const e of cj)if(MediaRecorder.isTypeSupported(e))return console.log(" [Recording] Using MIME type:",e),e;return console.warn(" [Recording] No supported MIME type found, using default"),""}async startRecording(e,r,i){try{this.options=i,console.log(" [Recording] Starting dual-stream recording for call:",i.callId);const a=new AudioContext({sampleRate:Xs.sampleRate}),o=a.createMediaStreamDestination();if(e.getAudioTracks().length>0){const m=a.createMediaStreamSource(e),w=a.createGain();w.gain.value=1,m.connect(w),w.connect(o)}if(r.getAudioTracks().length>0){const m=a.createMediaStreamSource(r),w=a.createGain();w.gain.value=1,m.connect(w),w.connect(o)}const c=o.stream,u=this.getSupportedMimeType(),d={audioBitsPerSecond:Xs.audioBitsPerSecond};u&&(d.mimeType=u),this.mediaRecorder=new MediaRecorder(c,d),this.audioChunks=[],this.mediaRecorder.ondataavailable=m=>{m.data.size>0&&(this.audioChunks.push(m.data),this.recordingState.fileSize+=m.data.size,console.log(" [Recording] Chunk received:",m.data.size,"bytes"))},this.mediaRecorder.onstop=async()=>{console.log(" [Recording] MediaRecorder stopped"),await this.processAndUpload()},this.mediaRecorder.onerror=m=>{var w;console.error(" [Recording] Error:",m.error),this.handleRecordingError(((w=m.error)==null?void 0:w.message)||"Recording error")};const{data:f,error:g}=await U.from("call_recordings").insert({call_id:i.callId,caller_id:i.callerId,caller_type:i.callerType,caller_name:i.callerName||"Arayan",receiver_id:i.receiverId,receiver_type:i.receiverType,receiver_name:i.receiverName||"Partner",file_path:"",file_name:`call_${i.callId}.webm`,duration_seconds:0,sample_rate:Xs.sampleRate,bitrate:Xs.audioBitsPerSecond,channels:Xs.channels,status:"recording",request_id:i.requestId||null}).select().single();return g?(console.error(" [Recording] DB error:",g),null):(await U.from("calls").update({recording_id:f.id,is_recorded:!0}).eq("id",i.callId),this.mediaRecorder.start(1e3),this.startTime=Date.now(),this.durationInterval=window.setInterval(()=>{this.recordingState.duration=Math.floor((Date.now()-this.startTime)/1e3)},1e3),this.recordingState={isRecording:!0,recordingId:f.id,startTime:this.startTime,duration:0,fileSize:0},console.log(" [Recording] Started successfully, recording ID:",f.id),f.id)}catch(a){return console.error(" [Recording] Failed to start:",a),null}}async stopRecording(){console.log(" [Recording] Stopping...");const e=this.recordingState.isRecording;if(this.recordingState.isRecording=!1,this.durationInterval&&(clearInterval(this.durationInterval),this.durationInterval=null),this.mediaRecorder){if(this.mediaRecorder.ondataavailable=null,this.mediaRecorder.onstop=null,this.mediaRecorder.onerror=null,this.mediaRecorder.state!=="inactive")try{this.mediaRecorder.stop()}catch(r){console.warn(" [Recording] MediaRecorder stop error:",r)}this.mediaRecorder=null}return e&&this.audioChunks.length>0?await this.processAndUpload():(console.log(" [Recording] Nothing to upload"),this.cleanup(),null)}getState(){return{...this.recordingState}}async processAndUpload(){if(!this.options||!this.recordingState.recordingId||this.audioChunks.length===0)return console.warn(" [Recording] No data to process"),null;try{console.log(" [Recording] Processing and uploading..."),await U.from("call_recordings").update({status:"processing"}).eq("id",this.recordingState.recordingId);const e=this.getSupportedMimeType()||"audio/webm",r=new Blob(this.audioChunks,{type:e}),i=r.size,a=new Date,o=a.getFullYear(),c=String(a.getMonth()+1).padStart(2,"0"),u=`call_${this.options.callId}_${Date.now()}.webm`,d=`${o}/${c}/${u}`;console.log(" [Recording] Uploading to:",d,"Size:",i,"bytes");const{data:f,error:g}=await U.storage.from("call-recordings").upload(d,r,{contentType:e,upsert:!1});if(g)throw g;const m=this.recordingState.duration*35e4/8,w=m/i,{error:b}=await U.from("call_recordings").update({file_path:d,file_name:u,file_size_bytes:i,duration_seconds:this.recordingState.duration,original_size_bytes:Math.round(m),compression_ratio:Math.round(w*100)/100,status:"ready"}).eq("id",this.recordingState.recordingId);if(b)throw b;console.log(" [Recording] Upload successful!"),console.log(" Duration:",this.recordingState.duration,"seconds"),console.log(" File size:",Math.round(i/1024),"KB"),console.log(" Compression ratio:",w.toFixed(1),"x");const x={storagePath:d,fileSize:i};return this.cleanup(),x}catch(e){return console.error(" [Recording] Upload failed:",e),await this.handleRecordingError(e.message),null}}async handleRecordingError(e){this.recordingState.recordingId&&await U.from("call_recordings").update({status:"failed",error_message:e}).eq("id",this.recordingState.recordingId),this.cleanup()}cleanup(){this.mediaRecorder=null,this.audioChunks=[],this.options=null,this.recordingState={isRecording:!1,duration:0,fileSize:0}}}const ef=new uj;async function lv(t,e,r){return ef.startRecording(t,e,r)}async function dj(){return ef.stopRecording()}function od(){return ef.getState()}const G_=z.createContext(null),hj=({children:t})=>{const[e,r]=z.useState("idle"),[i,a]=z.useState(!1),[o,c]=z.useState(null),[u,d]=z.useState(null),[f,g]=z.useState(null),[m,w]=z.useState(!1),[b,x]=z.useState(!0),[C,E]=z.useState(0),[j,D]=z.useState(!1),[k,A]=z.useState(null),R=z.useRef(null),M=z.useRef(null),O=z.useRef(null),N=z.useRef(null),K=z.useRef(null),L=z.useRef(null),$=z.useRef(null),Y=(le,F)=>le==="customer"&&F==="partner"?"CustomerPartner":le==="customer"&&F==="admin"?"CustomerSupport":le==="partner"&&F==="admin"?"PartnerSupport":`${le}${F}`;z.useEffect(()=>{if(e==="calling"||e==="ringing"||e==="connected"){const F=J=>(J.preventDefault(),J.returnValue="Aktif bir grmeniz var. Sayfay kapatrsanz grme sonlanacak.",J.returnValue);return window.addEventListener("beforeunload",F),console.log(" [CallContext] Page reload protection enabled"),()=>{window.removeEventListener("beforeunload",F),console.log(" [CallContext] Page reload protection disabled")}}},[e]);const te=z.useCallback(()=>{const le=!!localStorage.getItem("yolmov_admin"),F=!!localStorage.getItem("yolmov_partner"),J=!!localStorage.getItem("yolmov_customer");console.log(" [CallContext] getCurrentUser check - admin:",le,"partner:",F,"customer:",J);const re=localStorage.getItem("yolmov_admin");if(re)try{const S=JSON.parse(re);if(S&&S.id)return console.log(" [CallContext] getCurrentUser - Admin found:",S.id),{id:S.id,type:"admin",name:S.name||S.email,email:S.email}}catch(S){console.error(" [CallContext] Error parsing admin data:",S),localStorage.removeItem("yolmov_admin")}const ne=localStorage.getItem("yolmov_partner");if(ne)try{const S=JSON.parse(ne),T=S.id||S.partner_id;if(T)return console.log(" [CallContext] getCurrentUser - Partner found:",T),{id:T,type:"partner",name:S.company_name||S.name,phone:S.phone}}catch(S){console.error(" [CallContext] Error parsing partner data:",S),localStorage.removeItem("yolmov_partner")}const I=localStorage.getItem("yolmov_customer");if(I)try{const S=JSON.parse(I);if(S&&S.id)return console.log(" [CallContext] getCurrentUser - Customer found:",S.id),{id:S.id,type:"customer",name:S.name,phone:S.phone}}catch(S){console.error(" [CallContext] Error parsing customer data:",S),localStorage.removeItem("yolmov_customer")}let p=localStorage.getItem("yolmov_anonymous_caller_id");return p||(p="anon_"+Hh(),localStorage.setItem("yolmov_anonymous_caller_id",p)),console.log(" [CallContext] getCurrentUser - Anonymous:",p),{id:p,type:"customer",name:"Anonim Arayan",isAnonymous:!0}},[]);z.useEffect(()=>{if(!(()=>{try{return!!localStorage.getItem("yolmov_admin")}catch{return!1}})()){console.log(" [CallContext] Skipping - only active for ADMIN users. Partners/Customers use isolated contexts.");return}const F=te();if(!(F!=null&&F.id)){console.log(" [CallContext] No user found, skipping realtime subscription");return}console.log(" [CallContext] Setting up realtime subscription for ADMIN user:",F.id,"type:",F.type);const J=U.channel(`calls_incoming_${F.id}_${F.type}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"calls",filter:`receiver_id=eq.${F.id}`},async re=>{const ne=re.new;if(ne.receiver_id!==F.id){console.log(" [CallContext] Call receiver_id mismatch, ignoring");return}if(ne.receiver_type!==F.type){console.log(" [CallContext] Call receiver_type mismatch:",ne.receiver_type,"!==",F.type,"- ignoring");return}if(ne.status!=="ringing")return;const I=Y(ne.caller_type,ne.receiver_type);console.log(` [${I}] Incoming call FOR ME!`,ne.id);let p=null;if(ne.caller_id.startsWith("anon_"))p={name:"Anonim Arayan",phone:null};else if(ne.caller_type==="customer"){const{data:S}=await U.from("customers").select("id, first_name, last_name, phone").eq("id",ne.caller_id).single();S&&(p={name:`${S.first_name||""} ${S.last_name||""}`.trim()||"Mteri",phone:S.phone})}else if(ne.caller_type==="partner"){const{data:S}=await U.from("partners").select("id, company_name, phone").eq("id",ne.caller_id).single();S&&(p={name:S.company_name,phone:S.phone})}a(!0),r("ringing"),d(p),c({id:ne.id,callerId:ne.caller_id,callerName:(p==null?void 0:p.name)||"Arayan",callerPhone:p==null?void 0:p.phone,callerType:ne.caller_type,receiverId:ne.receiver_id,receiverType:ne.receiver_type,status:"ringing",startedAt:ne.started_at}),L.current=ne.id,Se()}).subscribe(re=>{console.log(" [CallContext] Realtime subscription status:",re)});return()=>{U.removeChannel(J)}},[]);const ue=z.useRef(null);z.useEffect(()=>{if(e!=="calling")return;const le=L.current;if(!le){console.log(" [CallContext] No call ID yet, waiting...");return}console.log(" [CallContext] Setting up SDP answer listener for call:",le);const F=`call_answer_${le}_${Date.now()}`,J=U.channel(F).on("postgres_changes",{event:"UPDATE",schema:"public",table:"calls",filter:`id=eq.${le}`},ne=>{const I=ne.new;if(console.log(" [CallContext]  My call updated:",I.status,"has answer:",!!I.sdp_answer),I.status==="rejected"||I.status==="missed"){ie(I.status);return}if(I.sdp_answer&&N.current){console.log(" [CallContext] Got SDP answer, signaling peer..."),console.log(" [CallContext] Peer state - destroyed:",N.current.destroyed,"connected:",N.current.connected);try{N.current.destroyed?console.error(" [CallContext]  Peer already destroyed, cannot signal!"):(console.log(" [CallContext]  Signaling SDP answer to peer NOW..."),N.current.signal(I.sdp_answer),console.log(" [CallContext]  SDP answer signaled successfully!"),ue.current&&(clearInterval(ue.current),ue.current=null,console.log(" [CallContext] Polling stopped")))}catch(p){console.error(" [CallContext]  Error signaling peer:",p)}}else console.warn(" [CallContext]  Cannot signal - answer:",!!I.sdp_answer,"peer:",!!N.current)}).subscribe(ne=>{console.log(" [CallContext] SDP answer subscription status:",ne)}),re=async()=>{if(!(!le||e!=="calling"))try{const{data:ne}=await U.from("calls").select("sdp_answer, status").eq("id",le).single();if((ne==null?void 0:ne.status)==="rejected"||(ne==null?void 0:ne.status)==="missed"){ie(ne.status);return}ne!=null&&ne.sdp_answer&&N.current&&!N.current.destroyed&&(console.log(" [CallContext]  Polling found SDP answer, signaling peer..."),N.current.signal(ne.sdp_answer),console.log(" [CallContext]  SDP answer signaled via polling!"),ue.current&&(clearInterval(ue.current),ue.current=null))}catch(ne){console.warn(" [CallContext] Polling error:",ne)}};return ue.current=setInterval(re,2e3),setTimeout(re,500),()=>{console.log(" [CallContext] Removing SDP answer subscription"),U.removeChannel(J),ue.current&&(clearInterval(ue.current),ue.current=null)}},[e]);const _e=le=>{var re;const F=new Audio;F.setAttribute("playsinline","true"),F.setAttribute("webkit-playsinline","true"),F.preload="auto";const J=(re=le.split(".").pop())==null?void 0:re.toLowerCase();return F.src=le,F},Se=()=>{try{const le=_e("/sounds/mixkit-happy-bells-notification-937.wav");le.loop=!0,le.volume=1;const F=le.play();F!==void 0&&F.catch(J=>{console.warn(" [CallContext] Ringtone autoplay blocked (Safari?):",J.message),document.addEventListener("click",function re(){le.play().catch(()=>{}),document.removeEventListener("click",re)},{once:!0})}),window.__yolmov_ringtone=le,console.log(" [CallContext] Ringtone started (partner incoming call)")}catch(le){console.warn(" [CallContext] Ringtone error:",le)}},we=()=>{try{const le=window.__yolmov_ringtone;le&&(le.pause(),le.currentTime=0,le.src="",delete window.__yolmov_ringtone,console.log(" [CallContext] Ringtone stopped"))}catch{}},de=()=>{try{const le=_e("/sounds/mixkit-magic-marimba-2820.wav");le.loop=!0,le.volume=.7;const F=le.play();F!==void 0&&F.catch(J=>{console.warn(" [CallContext] Waiting tone autoplay blocked:",J.message)}),window.__yolmov_waiting_tone=le,console.log(" [CallContext] Waiting tone started (customer calling)")}catch(le){console.warn(" [CallContext] Waiting tone error:",le)}},oe=()=>{try{const le=window.__yolmov_waiting_tone;le&&(le.pause(),le.currentTime=0,le.src="",delete window.__yolmov_waiting_tone,console.log(" [CallContext] Waiting tone stopped"))}catch{}},ge=()=>{E(0),$.current=setInterval(()=>{E(le=>le+1)},1e3)},G=()=>{$.current&&(clearInterval($.current),$.current=null)},ae=z.useRef(!1),xe=z.useRef(!1),ye=async()=>{if(ae.current){console.log(" [CallContext] cleanupCall already in progress, skipping...");return}ae.current=!0,console.log(" [CallContext] cleanupCall started..."),we(),oe();const le=od();if(le.isRecording||le.recordingId){try{console.log(" [CallContext] Stopping recording and uploading...");const F=await dj();F&&console.log(" [CallContext] Recording uploaded:",F.storagePath)}catch(F){console.warn(" [CallContext] Recording stop error:",F)}D(!1),A(null)}if(N.current){try{N.current.destroy()}catch{}N.current=null}K.current&&(K.current.getTracks().forEach(F=>{try{F.stop()}catch{}}),K.current=null),R.current&&(R.current.getTracks().forEach(F=>{try{F.stop()}catch{}}),R.current=null),we(),G(),r("idle"),a(!1),c(null),d(null),g(null),w(!1),E(0),L.current=null,ae.current=!1,xe.current=!1,console.log(" [CallContext] cleanupCall completed")},ie=async le=>{if(xe.current){console.log(" [CallContext] Call already ended, ignoring:",le);return}xe.current=!0,console.log(" [CallContext] Call ended:",le),r("ended"),await ye(),setTimeout(()=>{r("idle")},2e3)},Te=async(le,F="partner",J,re)=>{const ne=te(),I=Y(ne.type,F),p=re||(F==="admin"?"Yolmov Destek":F==="partner"?"Partner":"Mteri");J?(L.current=J,console.log(` [${I}]  Using EXISTING call ID (queue):`,J)):console.log(` [${I}] No existing call ID - will create NEW record`);try{r("calling"),g(null),c({id:J||"",callerId:ne.id,callerName:ne.name,callerType:ne.type,receiverId:le,receiverName:p,receiverType:F,status:"calling",startedAt:new Date().toISOString()}),console.log(` [${I}] Starting call to:`,le,"displayName:",p);const S=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1});K.current=S,M.current&&(M.current.srcObject=S,M.current.muted=!0),console.log(` [${I}] Playing call recording notice...`);try{const V=_e("/sounds/call-recording-notice.mp3");let H=!1;try{await new Promise((Z,me)=>{V.oncanplaythrough=()=>Z(!0),V.onerror=()=>me(new Error("Local audio not found")),setTimeout(()=>me(new Error("Audio load timeout")),2e3)}),H=!0,console.log(" [CallContext] Notice audio loaded from /sounds/")}catch{console.log(" [CallContext] Local audio not found, trying Supabase...");const{data:me,error:ze}=await U.storage.from("call-recordings").createSignedUrl("notice-audio.mp3",60);!ze&&(me!=null&&me.signedUrl)&&(V.src=me.signedUrl,await new Promise((Xe,Ve)=>{V.oncanplaythrough=()=>Xe(!0),V.onerror=()=>Ve(new Error("Supabase audio failed")),setTimeout(()=>Ve(new Error("Supabase audio timeout")),3e3)}),H=!0,console.log(" [CallContext] Notice audio loaded from Supabase"))}if(H){await V.play(),console.log(" [CallContext] Notice audio playing...");const Z=V.duration||9,me=Math.min(Z*1e3,1e4);await new Promise(ze=>setTimeout(ze,me)),V.pause(),V.currentTime=0,console.log(" [CallContext] Notice audio finished")}else if(console.log(" [CallContext] Using Web Speech API fallback..."),"speechSynthesis"in window){const Z=new SpeechSynthesisUtterance("Bu grme kalite standartlar gerei kayt altna alnmaktadr. Ltfen bekleyiniz.");Z.lang="tr-TR",Z.rate=.9,Z.pitch=1,Z.volume=1,await new Promise(me=>{Z.onend=()=>me(),Z.onerror=()=>me(),window.speechSynthesis.speak(Z),setTimeout(me,8e3)}),console.log(" [CallContext] Speech synthesis finished")}else console.warn(" [CallContext] No audio system available"),await new Promise(Z=>setTimeout(Z,2e3))}catch(V){console.warn(" [CallContext] Notice audio failed, continuing:",V)}de(),M.current&&(M.current.srcObject=S,M.current.muted=!0);const T=new Dn({initiator:!0,trickle:!1,stream:S,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]}});N.current=T,T.on("signal",async V=>{console.log(" [CallContext] Got SDP offer, saving to DB...");let H,Z;if(L.current){console.log(" [CallContext] Updating existing call with SDP offer:",L.current);const me=await U.from("calls").update({sdp_offer:V,status:"ringing"}).eq("id",L.current);if(me.error)console.error(" [CallContext] Update error:",me.error),Z=me.error;else{const ze=await U.from("calls").select("*").eq("id",L.current).maybeSingle();H=ze.data,Z=ze.error}}else{console.log(" [CallContext] Creating new call record...");const me=await U.from("calls").insert({caller_id:ne.id,caller_type:ne.type,receiver_id:le,receiver_type:F,status:"ringing",sdp_offer:V}).select().single();H=me.data,Z=me.error}if(Z||!H){console.error(" [CallContext] Error saving call:",Z),g("Arama balatlamad"),await ye();return}if(L.current=H.id,c({id:H.id,callerId:ne.id,callerName:ne.name,callerType:ne.type,receiverId:le,receiverName:p,receiverType:F,status:"calling",startedAt:H.started_at}),F==="partner"){console.log(" [CallContext] Sending push notification to partner:",le);try{await fetch("/api/send-call-notification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({partnerId:le,callerName:ne.name||"Mteri",callerPhone:ne.phone||"",callId:H.id})}),console.log(" [CallContext] Push notification sent")}catch(me){console.warn(" [CallContext] Push notification failed:",me)}}}),T.on("connect",()=>{console.log(" [CallContext] Peer connected!"),r("connected"),ge(),oe(),L.current&&U.from("calls").update({status:"connected",connected_at:new Date().toISOString()}).eq("id",L.current).then(()=>{})}),T.on("stream",V=>{console.log(" [CallContext] Got remote stream"),R.current=V,O.current&&(O.current.srcObject=V,O.current.play().catch(()=>{})),K.current&&L.current&&(console.log(" [CallContext] Starting call recording..."),lv(K.current,V,{callId:L.current,callerId:ne.id,callerType:ne.type,callerName:ne.name,receiverId:le,receiverType:F,receiverName:"Partner"}).then(H=>{H&&(D(!0),A(od()),console.log(" [CallContext] Recording started:",H))}).catch(H=>{console.warn(" [CallContext] Recording failed to start:",H)}))}),T.on("error",V=>{console.error(" [CallContext] Peer error:",V),g("Balant hatas"),ie("error")}),T.on("close",()=>{console.log(" [CallContext] Peer closed"),ie("peer_closed")}),console.log(" [CallContext]  Peer setup complete - SDP answer via useEffect subscription"),setTimeout(()=>{e==="calling"&&L.current&&(console.log(" [CallContext] Call timeout - no answer"),U.from("calls").update({status:"missed",ended_at:new Date().toISOString()}).eq("id",L.current).then(()=>{}),ie("timeout"))},3e4)}catch(S){console.error(" [CallContext] Error starting call:",S),g(S.message||"Mikrofon eriimi reddedildi"),await ye()}},$e=async()=>{if(!L.current||!o){g("Geersiz arama");return}const le=te(),F=Y(o.callerType,le.type);if(console.log(` [${F}] Answering call:`,L.current),(le==null?void 0:le.type)==="partner"&&!le.isAnonymous&&o.receiverType==="partner")try{const{data:J}=await U.from("partner_credits").select("balance").eq("partner_id",le.id).maybeSingle(),re=(J==null?void 0:J.balance)||0;if(re<1){g("Yetersiz kredi! Aramay cevaplayabilmek iin en az 1 krediniz olmal."),await U.from("calls").update({status:"rejected",ended_at:new Date().toISOString(),end_reason:"insufficient_credits"}).eq("id",L.current),await ye();return}console.log(" [CallContext] Partner has",re,"credits, deducting 1...");const{error:ne}=await U.from("partner_credits").update({balance:re-1,updated_at:new Date().toISOString()}).eq("partner_id",le.id);if(ne)console.error(" [CallContext] Credit deduction failed:",ne);else{console.log(" [CallContext] Credit deducted! New balance:",re-1);const{data:I}=await U.from("partners").select("company_name").eq("id",le.id).single(),{error:p}=await U.from("credit_transactions").insert({partner_id:le.id,partner_name:(I==null?void 0:I.company_name)||"Partner",amount:-1,type:"usage",balance_before:re,balance_after:re-1,description:`Gelen arama cevaplanp - Arayan: ${(u==null?void 0:u.name)||"Anonim"}`});p?console.error(" [CallContext] Credit transaction log failed:",p):console.log(" [CallContext] Credit transaction logged")}}catch(J){console.error(" [CallContext] Credit check error:",J)}try{we(),a(!1),r("connected"),console.log(" [CallContext] Answering call:",L.current);const J=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1});K.current=J,M.current&&(M.current.srcObject=J,M.current.muted=!0);const{data:re,error:ne}=await U.from("calls").select("*").eq("id",L.current).single();if(ne||!(re!=null&&re.sdp_offer)){g("Arama verisi alnamad"),await ye();return}const I=new Dn({initiator:!1,trickle:!1,stream:J,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]}});N.current=I,I.on("signal",async p=>{console.log(" [CallContext] Got SDP answer, saving to DB..."),await U.from("calls").update({sdp_answer:p,status:"connected",connected_at:new Date().toISOString()}).eq("id",L.current)}),I.on("connect",()=>{console.log(" [CallContext] Peer connected!"),ge()}),I.on("stream",p=>{if(console.log(" [CallContext] Got remote stream"),R.current=p,O.current&&(O.current.srcObject=p,O.current.play().catch(()=>{})),K.current&&L.current&&o){console.log(" [CallContext] Starting call recording (receiver side)...");const S=te();lv(K.current,p,{callId:L.current,callerId:o.callerId,callerType:o.callerType,callerName:o.callerName,receiverId:S.id,receiverType:S.type,receiverName:S.name}).then(T=>{T&&(D(!0),A(od()),console.log(" [CallContext] Recording started (receiver):",T))}).catch(T=>{console.warn(" [CallContext] Recording failed to start:",T)})}}),I.on("error",p=>{console.error(" [CallContext] Peer error:",p),g("Balant hatas"),ie("error")}),I.on("close",()=>{console.log(" [CallContext] Peer closed"),ie("peer_closed")}),I.signal(re.sdp_offer)}catch(J){console.error(" [CallContext] Error answering call:",J),g(J.message||"Mikrofon eriimi reddedildi"),await ye()}},Be=async le=>{console.log(" [CallContext] answerCallById:",le),L.current=le;const{data:F,error:J}=await U.from("calls").select("*").eq("id",le).single();if(J||!F){console.error(" [CallContext] Call not found:",J),g("Arama bulunamad");return}d({name:"Arayan",phone:null}),c({id:F.id,callerId:F.caller_id,callerName:"Arayan",callerType:F.caller_type,receiverId:F.receiver_id,receiverType:F.receiver_type,status:"ringing",startedAt:F.started_at}),await $e()},Ke=async le=>{console.log(" [CallContext] rejectCallById:",le),await U.from("calls").update({status:"rejected",ended_at:new Date().toISOString(),end_reason:"receiver_rejected"}).eq("id",le),await ye()},Ge=async()=>{L.current&&(console.log(" [CallContext] Rejecting call:",L.current),we(),await U.from("calls").update({status:"rejected",ended_at:new Date().toISOString(),end_reason:"receiver_rejected"}).eq("id",L.current),await ye())},bt=async()=>{if(!L.current){await ye();return}const le=te();console.log(" [CallContext] Ending call:",L.current),await U.from("calls").update({status:"ended",ended_at:new Date().toISOString(),end_reason:(le==null?void 0:le.type)==="customer"?"caller_ended":"receiver_ended",duration_seconds:C}).eq("id",L.current),ie("user_ended")},ut=()=>{if(K.current){const le=K.current.getAudioTracks()[0];le&&(le.enabled=!le.enabled,w(!le.enabled))}},it=()=>{O.current&&(O.current.muted=b,x(!b))};return y.jsxs(G_.Provider,{value:{callStatus:e,isIncoming:i,currentCall:o,callerInfo:u,error:f,startCall:Te,answerCall:$e,answerCallById:Be,rejectCall:Ge,rejectCallById:Ke,endCall:bt,isMuted:m,toggleMute:ut,isSpeakerOn:b,toggleSpeaker:it,callDuration:C,localAudioRef:M,remoteAudioRef:O,isRecording:j,recordingState:k},children:[t,y.jsx("audio",{ref:M,autoPlay:!0,muted:!0,playsInline:!0,style:{display:"none"}}),y.jsx("audio",{ref:O,autoPlay:!0,playsInline:!0,style:{display:"none"}})]})},H_=()=>{const t=z.useContext(G_);if(!t)throw new Error("useCall must be used within a CallProvider");return t},fj=({onClick:t})=>{const{callStatus:e,isIncoming:r,currentCall:i,endCall:a,callDuration:o}=H_();if(e==="idle"||e==="ended")return null;const c=g=>{const m=Math.floor(g/60),w=g%60;return`${m.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}`},d=r&&e==="ringing"?{bg:"bg-blue-500",icon:Yk,text:"Gelen Arama",animate:!0}:e==="calling"?{bg:"bg-yellow-500",icon:zr,text:"Aranyor...",animate:!0}:e==="connected"?{bg:"bg-green-500",icon:Dv,text:c(o),animate:!1}:null;if(!d)return null;const f=d.icon;return y.jsxs(Ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},onClick:t,className:`
        fixed top-4 left-1/2 -translate-x-1/2 z-[9990]
        ${d.bg} rounded-full px-4 py-2 shadow-lg cursor-pointer
        flex items-center gap-2
      `,children:[y.jsx(Ne.div,{animate:d.animate?{scale:[1,1.2,1]}:{},transition:{duration:1,repeat:1/0},children:y.jsx(f,{size:18,className:"text-white"})}),y.jsx("span",{className:"text-white font-medium text-sm",children:d.text}),e==="connected"&&y.jsx("button",{onClick:g=>{g.stopPropagation(),a()},className:"ml-1 w-6 h-6 rounded-full bg-red-500 flex items-center justify-center hover:bg-red-600 transition-colors",children:y.jsx(Xi,{size:14,className:"text-white"})})]})};async function Y_(){try{const{data:t,error:e}=await U.from("call_queues").select("*").order("priority",{ascending:!1});if(e)throw e;return t||[]}catch(t){return console.error(" [CallCenter] getCallQueues error:",t),[]}}async function J_(t){try{const{data:e,error:r}=await U.from("call_queues").select("*").eq("slug",t).eq("is_active",!0).single();return r?null:e}catch(e){return console.error(" [CallCenter] getQueueBySlug error:",e),null}}async function Q_(){try{const{data:t,error:e}=await U.from("call_agents").select(`
        *,
        admin_users!inner (
          name,
          email,
          role,
          status
        )
      `).order("priority",{ascending:!1});if(e)throw e;return(t||[]).map(r=>{var i,a,o;return{...r,admin_name:(i=r.admin_users)==null?void 0:i.name,admin_email:(a=r.admin_users)==null?void 0:a.email,admin_role:(o=r.admin_users)==null?void 0:o.role}})}catch(t){return console.error(" [CallCenter] getCallAgents error:",t),[]}}async function X_(t){try{return(await Q_()).filter(r=>{var i;return r.status==="online"&&!r.current_call_id&&((i=r.assigned_queues)==null?void 0:i.includes(t))})}catch(e){return console.error(" [CallCenter] getAvailableAgents error:",e),[]}}async function pj(t,e){try{const{data:r,error:i}=await U.from("call_agents").select("*").eq("admin_id",t).maybeSingle();if(i&&console.warn(" [CallCenter] Check existing agent warning:",i),r){const{data:c,error:u}=await U.from("call_agents").update({display_name:e||r.display_name,updated_at:new Date().toISOString()}).eq("admin_id",t).select().maybeSingle();if(u)throw console.error(" [CallCenter] Update agent error:",u),u;return c}const{data:a,error:o}=await U.from("call_agents").insert({admin_id:t,display_name:e,status:"offline",assigned_queues:["general-support"]}).select().maybeSingle();if(o)throw console.error(" [CallCenter] Insert agent error:",o),o;return console.log(" [CallCenter] Agent registered:",a==null?void 0:a.id),a}catch(r){return console.error(" [CallCenter] registerAsAgent error:",r),null}}async function mj(t,e){try{const{error:r}=await U.from("call_agents").update({status:e,status_changed_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("admin_id",t);if(r)throw r;return console.log(` [CallCenter] Agent status updated: ${e}`),!0}catch(r){return console.error(" [CallCenter] updateAgentStatus error:",r),!1}}async function gj(t,e){try{const{error:r}=await U.from("call_agents").update({current_call_id:e,status:e?"busy":"online",status_changed_at:new Date().toISOString(),last_call_at:e?new Date().toISOString():void 0,updated_at:new Date().toISOString()}).eq("admin_id",t);if(r)throw r;return!0}catch(r){return console.error(" [CallCenter] setAgentCurrentCall error:",r),!1}}async function yj(t){try{console.log(" [CallCenter] addToQueue called with:",{queueSlug:t.queueSlug,sourceType:t.sourceType,sourcePage:t.sourcePage});let e=await J_(t.queueSlug);if(!e){console.error(" [CallCenter] Queue not found:",t.queueSlug);const b=await Y_();if(b.length===0)throw new Error("MIGRATION_NOT_RUN: Call center tables are not initialized. Please run migration 027.");if(e=b.find(x=>x.is_active),!e)throw new Error("NO_ACTIVE_QUEUE: No active queue found.");console.warn(" [CallCenter] Using fallback queue:",e.slug)}let r,i="customer";const a=typeof window<"u"?localStorage.getItem("yolmov_partner"):null,o=typeof window<"u"?localStorage.getItem("yolmov_customer"):null;if(a)try{const b=JSON.parse(a);r=b.id||b.partner_id,i="partner",console.log(" [CallCenter] Caller is partner:",r)}catch{r=`anon_${Date.now()}_${Math.floor(Math.random()*1e3)}`}else if(o)try{r=JSON.parse(o).id,i="customer",console.log(" [CallCenter] Caller is customer:",r)}catch{r=`anon_${Date.now()}_${Math.floor(Math.random()*1e3)}`}else{const{data:{user:b}}=await U.auth.getUser();r=b?b.id:`anon_${Date.now()}_${Math.floor(Math.random()*1e3)}`,console.log(" [CallCenter] Caller from auth/anon:",r)}console.log(" [CallCenter] Creating call record for:",r,"type:",i);const c=await X_(t.queueSlug),u=c.length>0?c[0]:null;if(!u)throw console.error(" [CallCenter] No available agents for queue:",t.queueSlug),new Error("NO_AVAILABLE_AGENT: u anda msait temsilci bulunmuyor. Ltfen daha sonra tekrar deneyin.");const d=u.admin_id,{data:f,error:g}=await U.from("calls").insert({caller_id:r,caller_type:i,receiver_id:d,receiver_type:"admin",status:"ringing",call_source:"queue"}).select().single();if(g)throw console.error(" [CallCenter] Failed to create call record:",g),g;console.log(" [CallCenter] Call record created:",f.id),console.log(" [CallCenter] Adding to queue with data:",{queue_id:e.id,call_id:f.id,source_type:t.sourceType,source_page:t.sourcePage,caller_name:t.callerName,caller_phone:t.callerPhone});const{data:m,error:w}=await U.from("call_queue_assignments").insert({queue_id:e.id,call_id:f.id,source_type:t.sourceType,source_page:t.sourcePage||null,caller_name:t.callerName||null,caller_phone:t.callerPhone||null,caller_email:t.callerEmail||null,caller_message:t.callerMessage||null,target_partner_id:t.targetPartnerId||null,status:"waiting",queued_at:new Date().toISOString()}).select().single();if(w)throw console.error(" [CallCenter] Supabase insert error:",{message:w.message,details:w.details,hint:w.hint,code:w.code}),w;if(console.log(` [CallCenter] Call added to queue: ${e.name}`),e.auto_distribute&&u){console.log(` [CallCenter] Auto-assigning to agent: ${u.display_name||u.admin_name}`);const{error:b}=await U.from("call_queue_assignments").update({assigned_agent_id:u.id,assigned_at:new Date().toISOString(),status:"ringing",updated_at:new Date().toISOString()}).eq("id",m.id);if(!b)return{...m,assigned_agent_id:u.id,status:"ringing"}}else u||console.log(" [CallCenter] No available agents for queue:",t.queueSlug);return m}catch(e){return console.error(" [CallCenter] addToQueue error:",e),null}}async function vj(t,e,r){try{const i={status:e,updated_at:new Date().toISOString()};switch(e){case"answered":i.answered_at=new Date().toISOString();break;case"completed":case"abandoned":case"missed":i.completed_at=new Date().toISOString();break}r!=null&&r.agentNotes&&(i.agent_notes=r.agentNotes),r!=null&&r.callId&&(i.call_id=r.callId);const{error:a}=await U.from("call_queue_assignments").update(i).eq("id",t);if(a)throw a;return!0}catch(i){return console.error(" [CallCenter] updateQueueAssignmentStatus error:",i),!1}}async function wj(t){try{let e=U.from("call_queue_assignments").select(`
        *,
        call_queues!inner (name, slug, priority),
        call_agents (display_name, admin_id),
        partners (company_name)
      `).eq("status","waiting").order("created_at",{ascending:!0});t&&(e=e.eq("call_queues.slug",t));const{data:r,error:i}=await e;if(i)throw i;return(r||[]).map(a=>{var o,c,u,d;return{...a,queue_name:(o=a.call_queues)==null?void 0:o.name,queue_slug:(c=a.call_queues)==null?void 0:c.slug,agent_name:(u=a.call_agents)==null?void 0:u.display_name,partner_name:(d=a.partners)==null?void 0:d.company_name}})}catch(e){return console.error(" [CallCenter] getWaitingCalls error:",e),[]}}async function _j(){try{const{data:t,error:e}=await U.from("call_queue_assignments").select(`
        *,
        call_queues (name, slug, priority),
        call_agents (display_name, admin_id),
        partners (company_name)
      `).in("status",["waiting","ringing","answered"]).order("queued_at",{ascending:!0});if(e)throw e;return(t||[]).map(r=>{var i,a,o,c;return{...r,queue_name:(i=r.call_queues)==null?void 0:i.name,queue_slug:(a=r.call_queues)==null?void 0:a.slug,agent_name:(o=r.call_agents)==null?void 0:o.display_name,partner_name:(c=r.partners)==null?void 0:c.company_name}})}catch(t){return console.error(" [CallCenter] getActiveCalls error:",t),[]}}async function bj(t){try{const e=(t==null?void 0:t.page)||1,r=(t==null?void 0:t.limit)||20,i=(e-1)*r;let a=U.from("call_queue_assignments").select(`
        *,
        call_queues (name, slug),
        call_agents (display_name, admin_id),
        partners (company_name),
        calls (
          id,
          duration_seconds,
          call_recordings (id, storage_path, duration_seconds)
        )
      `,{count:"exact"}).order("created_at",{ascending:!1}).range(i,i+r-1);t!=null&&t.queueSlug&&(a=a.eq("call_queues.slug",t.queueSlug)),t!=null&&t.agentId&&(a=a.eq("assigned_agent_id",t.agentId)),t!=null&&t.status&&(a=a.eq("status",t.status)),t!=null&&t.startDate&&(a=a.gte("created_at",t.startDate)),t!=null&&t.endDate&&(a=a.lte("created_at",t.endDate));const{data:o,error:c,count:u}=await a;if(c)throw c;return{data:(o||[]).map(f=>{var g,m,w,b;return{...f,queue_name:(g=f.call_queues)==null?void 0:g.name,queue_slug:(m=f.call_queues)==null?void 0:m.slug,agent_name:(w=f.call_agents)==null?void 0:w.display_name,partner_name:(b=f.partners)==null?void 0:b.company_name}}),total:u||0}}catch(e){return console.error(" [CallCenter] getCallHistory error:",e),{data:[],total:0}}}function xj(t){const e=U.channel("call_queue_changes").on("postgres_changes",{event:"*",schema:"public",table:"call_queue_assignments"},r=>{console.log(" [CallCenter] Queue change:",r.eventType),t(r.new)}).subscribe();return()=>{U.removeChannel(e)}}function Sj(t){const e=U.channel("call_agent_changes").on("postgres_changes",{event:"*",schema:"public",table:"call_agents"},r=>{console.log(" [CallCenter] Agent change:",r.eventType),t(r.new)}).subscribe();return()=>{U.removeChannel(e)}}async function kj(){try{const{data:t}=await U.from("call_agents").select("status"),e=(t==null?void 0:t.length)||0,r=(t==null?void 0:t.filter(g=>g.status==="online"||g.status==="busy").length)||0,{count:i}=await U.from("call_queue_assignments").select("*",{count:"exact",head:!0}).eq("status","waiting"),{count:a}=await U.from("call_queue_assignments").select("*",{count:"exact",head:!0}).in("status",["ringing","answered"]),o=new Date;o.setHours(0,0,0,0);const{count:c}=await U.from("call_queue_assignments").select("*",{count:"exact",head:!0}).eq("status","completed").gte("completed_at",o.toISOString()),{data:u}=await U.from("call_queue_assignments").select("wait_duration, talk_duration").eq("status","completed").not("wait_duration","is",null).order("completed_at",{ascending:!1}).limit(100);let d=0,f=0;if(u&&u.length>0){const g=u.reduce((w,b)=>w+(b.wait_duration||0),0),m=u.reduce((w,b)=>w+(b.talk_duration||0),0);d=Math.round(g/u.length),f=Math.round(m/u.length)}return{totalAgents:e,onlineAgents:r,waitingCalls:i||0,activeCalls:a||0,todayCompleted:c||0,avgWaitTime:d,avgTalkTime:f}}catch(t){return console.error(" [CallCenter] getCallCenterStats error:",t),{totalAgents:0,onlineAgents:0,waitingCalls:0,activeCalls:0,todayCompleted:0,avgWaitTime:0,avgTalkTime:0}}}async function Cj(t){try{const{data:e,error:r}=await U.from("calls").select("id, caller_id, receiver_id, status").eq("id",t).single();return r?(console.error(" [CallCenter] getCallById error:",r),null):e}catch(e){return console.error(" [CallCenter] getCallById error:",e),null}}async function Ej(t){try{const{error:e}=await U.from("calls").update({status:"ended",ended_at:new Date().toISOString()}).eq("id",t);return e?(console.error(" [CallCenter] endCall error:",e),!1):(console.log(" [CallCenter] Call ended successfully:",t),!0)}catch(e){return console.error(" [CallCenter] endCall error:",e),!1}}const cv={getCallQueues:Y_,getQueueBySlug:J_,getCallAgents:Q_,getAvailableAgents:X_,registerAsAgent:pj,updateAgentStatus:mj,setAgentCurrentCall:gj,addToQueue:yj,updateQueueAssignmentStatus:vj,getWaitingCalls:wj,getActiveCalls:_j,getCallHistory:bj,subscribeToQueueChanges:xj,subscribeToAgentChanges:Sj,getCallCenterStats:kj,getCallById:Cj,endCall:Ej},Tj=({variant:t="primary",size:e="md",queueSlug:r="general-support",sourceType:i="web-contact",sourcePage:a,className:o="",label:c="Bizi Arayn"})=>{const{startCall:u,callStatus:d}=H_(),[f,g]=z.useState(!1),[m,w]=z.useState(!1),[b,x]=z.useState({name:"",phone:"",message:""}),[C,E]=z.useState(null),j=async()=>{w(!0),E(null);try{const A=await cv.addToQueue({queueSlug:r,sourceType:i,sourcePage:a||window.location.pathname,callerName:b.name||void 0,callerPhone:b.phone||void 0,callerMessage:b.message||void 0});if(!A)throw new Error("ar kuyrua eklenemedi");if(console.log(" [CallSupport] Added to queue:",A.id),A.status==="ringing"&&A.assigned_agent_id){const R=await cv.getCallById(A.call_id);if(R!=null&&R.receiver_id)console.log(" [CallSupport] Starting WebRTC call to agent:",R.receiver_id),console.log(" [CallSupport] Using existing call_id:",A.call_id),await u(R.receiver_id,"admin",A.call_id,"Yolmov Destek"),g(!1);else throw new Error("Agent bilgisi alnamad")}else E("u an tm temsilcilerimiz megul. Ltfen ksa bir sre sonra tekrar deneyin veya mesaj brakn.")}catch(A){console.error("Call start error:",A),E("Balant kurulamad. Ltfen tekrar deneyin.")}finally{w(!1)}},D={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2.5",lg:"px-6 py-3 text-lg"},k={primary:"bg-brand-orange text-white hover:bg-brand-lightOrange shadow-lg shadow-orange-200",secondary:"bg-white text-brand-orange border-2 border-brand-orange hover:bg-orange-50",floating:"bg-brand-orange text-white hover:bg-brand-lightOrange shadow-xl fixed bottom-6 right-6 z-50 rounded-full !p-4"};return t==="floating"?y.jsxs(y.Fragment,{children:[y.jsx(Ne.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>g(!0),className:`${k.floating} ${o}`,title:"Bizi Arayn",children:y.jsx(zr,{size:24})}),y.jsx(uv,{show:f,onClose:()=>g(!1),onCall:j,loading:m,error:C,formData:b,setFormData:x,callStatus:d})]}):y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:()=>g(!0),disabled:d!=="idle",className:`
          flex items-center justify-center gap-2 rounded-xl font-semibold transition-all
          ${D[e]}
          ${k[t]}
          ${d!=="idle"?"opacity-50 cursor-not-allowed":""}
          ${o}
        `,children:[y.jsx(zr,{size:e==="sm"?16:e==="lg"?22:18}),c]}),y.jsx(uv,{show:f,onClose:()=>g(!1),onCall:j,loading:m,error:C,formData:b,setFormData:x,callStatus:d})]})},uv=({show:t,onClose:e,onCall:r,loading:i,error:a,formData:o,setFormData:c,callStatus:u})=>t?y.jsx(Tr,{children:y.jsxs(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",onClick:e,children:[y.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),y.jsxs(Ne.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:d=>d.stopPropagation(),className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[y.jsx("div",{className:"bg-gradient-to-r from-brand-orange to-orange-500 px-6 py-4 text-white",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:y.jsx($k,{size:22})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-lg",children:"Yolmov Destek"}),y.jsx("p",{className:"text-sm text-white/80",children:"7/24 Canl Destek"})]})]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:y.jsx(Xi,{size:20})})]})}),y.jsx("div",{className:"p-6 space-y-4",children:u!=="idle"&&u!=="ended"?y.jsxs("div",{className:"text-center py-8",children:[y.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(zr,{className:"text-green-600 animate-pulse",size:32})}),y.jsx("h4",{className:"text-lg font-bold text-gray-900",children:"Arama Devam Ediyor"}),y.jsx("p",{className:"text-gray-500 mt-2",children:"Temsilcimize balanyorsunuz..."})]}):y.jsxs(y.Fragment,{children:[y.jsx("p",{className:"text-gray-600 text-sm",children:"Sorularnz iin bizi hemen arayabilirsiniz. stee bal olarak bilgilerinizi brakabilirsiniz."}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adnz (stee bal)"}),y.jsxs("div",{className:"relative",children:[y.jsx(Nl,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),y.jsx("input",{type:"text",value:o.name,onChange:d=>c({...o,name:d.target.value}),placeholder:"Ahmet Ylmaz",className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:border-brand-orange focus:ring-2 focus:ring-orange-100 outline-none"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefon (stee bal)"}),y.jsxs("div",{className:"relative",children:[y.jsx(zr,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),y.jsx("input",{type:"tel",value:o.phone,onChange:d=>c({...o,phone:d.target.value}),placeholder:"0532 XXX XX XX",className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:border-brand-orange focus:ring-2 focus:ring-orange-100 outline-none"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Konu (stee bal)"}),y.jsxs("div",{className:"relative",children:[y.jsx(qk,{size:18,className:"absolute left-3 top-3 text-gray-400"}),y.jsx("textarea",{value:o.message,onChange:d=>c({...o,message:d.target.value}),placeholder:"Nasl yardmc olabiliriz?",rows:2,className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:border-brand-orange focus:ring-2 focus:ring-orange-100 outline-none resize-none"})]})]})]}),a&&y.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-sm text-red-700",children:a}),y.jsx("button",{onClick:r,disabled:i,className:"w-full py-3 bg-green-500 hover:bg-green-600 text-white rounded-xl font-bold flex items-center justify-center gap-2 transition-colors disabled:opacity-50",children:i?y.jsxs(y.Fragment,{children:[y.jsx(nh,{size:20,className:"animate-spin"}),"Balanyor..."]}):y.jsxs(y.Fragment,{children:[y.jsx(zr,{size:20}),"Hemen Ara"]})}),y.jsx("p",{className:"text-xs text-center text-gray-400",children:"Bu grme kalite standartlar gerei kayt altna alnmaktadr."})]})})]})]})}):null;async function Pj(t){try{console.log("[PartnerToSupport] Partner destek aryor:",{partner_id:t.partner_id,priority:t.priority_level||0});let e=t.queue_id;if(!e){const{data:a}=await U.from("call_queues").select("id").eq("slug","partner-calls").single();e=a==null?void 0:a.id}const{data:r,error:i}=await U.from("partner_support_calls").insert({partner_id:t.partner_id,sdp_offer:t.sdp_offer,queue_id:e,priority_level:t.priority_level||0,status:"waiting",started_at:new Date().toISOString()}).select().single();return i?(console.error("[PartnerToSupport] Arama balatma hatas:",i),{success:!1,error:i.message}):(console.log("[PartnerToSupport]  ncelikli kuyrua eklendi:",{call_id:r.id,position:r.queue_position,priority:r.priority_level}),{success:!0,call:r})}catch(e){return console.error("[PartnerToSupport] Exception:",e),{success:!1,error:e.message}}}async function Aj(t){try{console.log("[PartnerToSupport] Agent partner aramasn cevaplyor:",t.call_id);const{data:e,error:r}=await U.from("partner_support_calls").update({sdp_answer:t.sdp_answer,status:"connected",connected_at:new Date().toISOString()}).eq("id",t.call_id).select().single();return r?(console.error("[PartnerToSupport] Cevaplama hatas:",r),{success:!1,error:r.message}):(console.log("[PartnerToSupport]  Partner aramas baland"),{success:!0,call:e})}catch(e){return console.error("[PartnerToSupport] Exception:",e),{success:!1,error:e.message}}}async function Rj(t,e){try{console.log("[PartnerToSupport] Partner aramas sonlandrlyor:",t);const{data:r,error:i}=await U.from("partner_support_calls").select("*").eq("id",t).single();if(i||!r)return{success:!1,error:"ar bulunamad"};const a=r.connected_at?Math.floor((Date.now()-new Date(r.connected_at).getTime())/1e3):0,{error:o}=await U.from("partner_support_calls").update({status:"ended",ended_at:new Date().toISOString(),end_reason:e,duration_seconds:a}).eq("id",t);return o?(console.error("[PartnerToSupport] Sonlandrma hatas:",o),{success:!1,error:o.message}):(console.log("[PartnerToSupport]  Partner aramas sonlandrld:",a,"saniye"),{success:!0})}catch(r){return console.error("[PartnerToSupport] Exception:",r),{success:!1,error:r.message}}}async function jj(t){try{const{data:e,error:r}=await U.from("partner_support_calls").select("*").eq("id",t).single();return r?(console.error("[PartnerToSupport] Arama getirme hatas:",r),{success:!1,error:r.message}):{success:!0,call:e}}catch(e){return console.error("[PartnerToSupport] Exception:",e),{success:!1,error:e.message}}}const Z_=z.createContext(void 0),Oj=({children:t})=>{const[e,r]=z.useState(null),[i,a]=z.useState(!1),[o,c]=z.useState("idle"),[u,d]=z.useState(null),[f,g]=z.useState(0),[m,w]=z.useState(null),[b,x]=z.useState(null),[C,E]=z.useState(null),j=z.useRef(null),D=z.useRef(null),k=async()=>{try{const L=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0},video:!1});return w(L),console.log("[PartnerToSupport]  Mikrofon eriimi saland"),L}catch(L){return console.error("[PartnerToSupport] Mikrofon hatas:",L),E("Mikrofon eriimi engellenmi"),null}},A=z.useCallback(async(L,$=0)=>{try{console.log("[PartnerToSupport] Partner destek hattn aryor, ncelik:",$),E(null),a(!0),g($);const Y=await k();if(!Y)throw new Error("Mikrofon eriimi salanamad");const{data:{user:te}}=await U.auth.getUser();if(!te)throw new Error("Partner kimlii dorulanamad");const{data:ue}=await U.from("partners").select("id").eq("user_id",te.id).single();if(!ue)throw new Error("Partner bilgisi bulunamad");const _e=new Dn({initiator:!0,trickle:!0,stream:Y,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]}});j.current=_e,_e.on("signal",async Se=>{if(Se.type==="offer"){console.log("[PartnerToSupport] SDP Offer oluturuldu");const we=await Pj({partner_id:ue.id,sdp_offer:Se,queue_id:L,priority_level:$});if(!we.success||!we.call)throw new Error(we.error||"Kuyrua eklenemedi");r(we.call),c("waiting"),d(we.call.queue_position||null),O(we.call.id)}}),_e.on("stream",Se=>{console.log("[PartnerToSupport]  Agent stream alnd"),x(Se),c("connected")}),_e.on("close",()=>{console.log("[PartnerToSupport] Peer kapand"),N()}),_e.on("error",Se=>{console.error("[PartnerToSupport] Peer hatas:",Se),E("Balant hatas"),N()})}catch(Y){console.error("[PartnerToSupport] callSupport hatas:",Y),E(Y.message),N()}},[]),R=z.useCallback(async L=>{try{console.log("[PartnerToSupport] Agent partner aramasn cevaplyor:",L),E(null),a(!1);const $=await jj(L);if(!$.success||!$.call)throw new Error("ar bulunamad");const Y=$.call;r(Y),g(Y.priority_level);const te=await k();if(!te)throw new Error("Mikrofon eriimi salanamad");const ue=new Dn({initiator:!1,trickle:!0,stream:te,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]}});j.current=ue,Y.sdp_offer&&ue.signal(Y.sdp_offer),ue.on("signal",async _e=>{if(_e.type==="answer"){console.log("[PartnerToSupport] SDP Answer oluturuldu (partner ars)");const Se=await Aj({call_id:L,sdp_answer:_e});if(!Se.success)throw new Error(Se.error||"Cevaplama baarsz");c("connected")}}),ue.on("stream",_e=>{console.log("[PartnerToSupport]  Partner stream alnd"),x(_e)}),ue.on("close",()=>{console.log("[PartnerToSupport] Peer kapand (agent)"),N()}),ue.on("error",_e=>{console.error("[PartnerToSupport] Peer hatas (agent):",_e),E("Balant hatas"),N()})}catch($){console.error("[PartnerToSupport] answerPartnerSupportCall hatas:",$),E($.message),N()}},[]),M=z.useCallback(async()=>{try{if(!e)return;console.log("[PartnerToSupport] Arama sonlandrlyor");const L=i?"caller_ended":"receiver_ended";await Rj(e.id,L),c("ended"),N()}catch(L){console.error("[PartnerToSupport] endCall hatas:",L),N()}},[e,i]),O=L=>{console.log("[PartnerToSupport] Realtime subscription balatlyor:",L);const $=U.channel(`partner_support_call:${L}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"partner_support_calls",filter:`id=eq.${L}`},Y=>{console.log("[PartnerToSupport] Realtime gncelleme:",Y);const te=Y.new;te.status==="ringing"&&o==="waiting"&&(console.log("[PartnerToSupport] Agent atand (partner aramas)"),c("ringing")),te.sdp_answer&&j.current&&i&&(console.log("[PartnerToSupport] SDP Answer alnd"),j.current.signal(te.sdp_answer)),te.status==="timeout"?(E("Zaman am"),N()):te.status==="ended"&&N(),r(te),d(te.queue_position||null)}).subscribe();D.current=$},N=z.useCallback(()=>{console.log("[PartnerToSupport] Cleanup balatlyor"),j.current&&(j.current.destroy(),j.current=null),m&&(m.getTracks().forEach(L=>L.stop()),w(null)),b&&(b.getTracks().forEach(L=>L.stop()),x(null)),D.current&&(U.removeChannel(D.current),D.current=null),r(null),c("idle"),a(!1),d(null),g(0)},[m,b]);z.useEffect(()=>()=>{N()},[N]);const K={currentCall:e,isPartner:i,callStatus:o,queuePosition:u,priorityLevel:f,localStream:m,remoteStream:b,callSupport:A,answerPartnerSupportCall:R,endCall:M,error:C};return y.jsx(Z_.Provider,{value:K,children:t})},gN=()=>{const t=z.useContext(Z_);if(t===void 0)throw new Error("usePartnerSupportCall must be used within PartnerSupportCallProvider");return t},Nj=()=>{const t=di(),e=r=>{t(r),window.scrollTo({top:0,behavior:"smooth"})};return y.jsx("footer",{className:"bg-gradient-to-br from-gray-900 to-gray-800 text-white pt-16 pb-8",children:y.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 mb-12",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"mb-6 cursor-pointer",onClick:()=>e("/"),children:[y.jsx("span",{className:"yolmov-logo text-3xl font-bold text-white block mb-4",children:"yolmov"}),y.jsx("span",{className:"hidden"})]}),y.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Yolda kaldnz her an yannzdayz. Modern, hzl ve gvenilir yol yardm platformu."})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-bold mb-6 text-white/90",children:"Kurumsal"}),y.jsxs("ul",{className:"space-y-3 text-sm text-gray-400",children:[y.jsx("li",{children:y.jsx("button",{onClick:()=>e("/hakkimizda"),className:"hover:text-brand-orange transition-colors text-left",children:"Hakkmzda"})}),y.jsx("li",{children:y.jsx("button",{onClick:()=>e("/hizmetler"),className:"hover:text-brand-orange transition-colors text-left",children:"Hizmetler"})}),y.jsx("li",{children:y.jsx("button",{onClick:()=>e("/kariyer"),className:"hover:text-brand-orange transition-colors text-left",children:"Kariyer"})}),y.jsx("li",{children:y.jsx("button",{onClick:()=>e("/blog"),className:"hover:text-brand-orange transition-colors text-left",children:"Blog"})}),y.jsx("li",{children:y.jsx("button",{onClick:()=>e("/iletisim"),className:"hover:text-brand-orange transition-colors text-left",children:"letiim"})})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-bold mb-6 text-white/90",children:"Hizmetler"}),y.jsx("ul",{className:"space-y-3 text-sm text-gray-400",children:["ekici Hizmeti","Ak Takviyesi","Lastik Deiimi","Yakt Destei","Oto Kurtarma"].map(r=>y.jsx("li",{children:y.jsx("button",{onClick:()=>e("/hizmetler"),className:"hover:text-brand-orange transition-colors text-left",children:r})},r))})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-bold mb-6 text-white/90",children:"Bize Ulan"}),y.jsxs("ul",{className:"space-y-4 text-sm text-gray-400",children:[y.jsxs("li",{className:"flex items-start gap-3",children:[y.jsx(ih,{className:"w-5 h-5 text-brand-orange shrink-0"}),y.jsx("span",{children:"Platform zerinden 7/24 hizmet talebinde bulunabilirsiniz"})]}),y.jsx("li",{children:y.jsx(Tj,{variant:"secondary",size:"md",queueSlug:"general-support",sourceType:"web-contact",sourcePage:"/footer",label:"Destek Hatt",className:"w-full mt-2"})})]})]})]}),y.jsxs("div",{className:"border-t border-gray-700 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[y.jsxs("p",{className:"text-gray-500 text-xs text-center md:text-left",children:[" ",new Date().getFullYear()," Yolmov Teknoloji A.. Tm haklar sakldr."]}),y.jsxs("div",{className:"flex space-x-6 text-xs text-gray-500",children:[y.jsx("button",{onClick:()=>e("/gizlilik-politikasi"),className:"hover:text-white transition-colors",children:"Gizlilik Politikas"}),y.jsx("button",{onClick:()=>e("/kullanim-kosullari"),className:"hover:text-white transition-colors",children:"Kullanm Koullar"})]})]})]})})},Ij=({onAccept:t,onReject:e})=>{const[r,i]=z.useState(!1);z.useEffect(()=>{localStorage.getItem("yolmov_cookie_consent")||setTimeout(()=>i(!0),1500)},[]);const a=()=>{localStorage.setItem("yolmov_cookie_consent","accepted"),i(!1),t&&t()},o=()=>{localStorage.setItem("yolmov_cookie_consent","rejected"),i(!1),e&&e()},c=()=>{i(!1)};return y.jsx(Tr,{children:r&&y.jsx(Ne.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 z-50 p-4 md:p-6",children:y.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-3xl shadow-2xl border-2 border-gray-200 overflow-hidden",children:[y.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 p-6 md:p-8",children:[y.jsx("div",{className:"shrink-0",children:y.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-2xl flex items-center justify-center",children:y.jsx(Bk,{size:32,className:"text-brand-orange"})})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-2",children:" erez Bildirimi"}),y.jsxs("p",{className:"text-sm md:text-base text-gray-600 leading-relaxed",children:["Yolmov olarak, size daha iyi bir deneyim sunmak, platformumuzu gelitirmek ve yasal ykmllklerimizi yerine getirmek amacyla",y.jsx("strong",{className:"text-gray-800",children:" erezler ve benzer teknolojiler "})," kullanyoruz. Platformumuzu kullanmaya devam ederek,",y.jsx("button",{onClick:()=>{const u=new CustomEvent("yolmov:navigate",{detail:{page:"privacy-policy"}});window.dispatchEvent(u)},className:"text-brand-orange hover:underline font-bold ml-1",children:"Gizlilik Politikamz"})," ","ve erez kullanmn kabul etmi olursunuz."]})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto md:shrink-0",children:[y.jsx("button",{onClick:o,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transition-colors text-sm whitespace-nowrap",children:"Reddet"}),y.jsx("button",{onClick:a,className:"px-6 py-3 bg-brand-orange text-white rounded-xl font-bold hover:bg-orange-600 transition-colors text-sm shadow-lg whitespace-nowrap",children:"Kabul Et"})]}),y.jsx("button",{onClick:c,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Kapat",children:y.jsx(Xi,{size:20})})]}),y.jsx("div",{className:"bg-gray-50 border-t border-gray-200 px-6 md:px-8 py-3",children:y.jsxs("p",{className:"text-xs text-gray-500 text-center",children:[y.jsx("strong",{className:"text-gray-700",children:"KVKK Uyars:"})," Kiisel verileriniz,",y.jsx("button",{onClick:()=>{const u=new CustomEvent("yolmov:navigate",{detail:{page:"privacy-policy"}});window.dispatchEvent(u)},className:"text-brand-orange hover:underline mx-1",children:"6698 sayl Kiisel Verilerin Korunmas Kanunu"}),"kapsamnda ilenmektedir. Detayl bilgi iin Gizlilik Politikamz inceleyebilirsiniz."]})})]})})})},Zo=({children:t})=>{const e=Pr(),[r,i]=z.useState(!0),[a,o]=z.useState(!1);return z.useEffect(()=>{const c=localStorage.getItem("yolmov_customer");console.log(" ProtectedRoute Auth Check:",{hasCustomer:!!c,path:e.pathname}),o(!!c),i(!1)},[e.pathname]),r?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-16 h-16 border-4 border-brand-orange border-t-transparent rounded-full animate-spin mx-auto mb-4"}),y.jsx("p",{className:"text-gray-600",children:"Ykleniyor..."})]})}):a?y.jsx(y.Fragment,{children:t}):y.jsx(Tv,{to:"/giris-gerekli",state:{message:"Bu sayfaya erimek iin ye girii yapmanz gerekiyor.",returnUrl:e.pathname+e.search},replace:!0})},Je=({children:t})=>{const e=Pr(),[r,i]=z.useState(!0),[a,o]=z.useState(!1);return z.useEffect(()=>{(async()=>{try{if(!localStorage.getItem("yolmov_admin")){console.log(" AdminProtectedRoute: No local admin data found"),o(!1),i(!1);return}if(!await Cr.auth.getSession()){console.log(" AdminProtectedRoute: No active Supabase session"),localStorage.removeItem("yolmov_admin"),o(!1),i(!1);return}o(!0)}catch(u){console.error(" AdminProtectedRoute Error:",u),o(!1)}finally{i(!1)}})()},[e.pathname]),r?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),y.jsx("p",{className:"text-orange-500 font-medium",children:"Admin yetkisi kontrol ediliyor..."})]})}):a?y.jsx(y.Fragment,{children:t}):y.jsx(Tv,{to:"/admin/giris",state:{returnUrl:e.pathname},replace:!0})};class dv extends z.Component{constructor(){super(...arguments);Yt(this,"state",{hasError:!1,error:null,errorInfo:null,countdown:5,autoReload:!0});Yt(this,"countdownInterval",null);Yt(this,"startCountdown",()=>{this.countdownInterval&&clearInterval(this.countdownInterval),this.countdownInterval=setInterval(()=>{this.setState(r=>{const i=r.countdown-1;return i<=0&&r.autoReload?(this.countdownInterval&&clearInterval(this.countdownInterval),window.location.reload(),r):{countdown:i}})},1e3)});Yt(this,"cancelAutoReload",()=>{this.countdownInterval&&clearInterval(this.countdownInterval),this.setState({autoReload:!1})});Yt(this,"handleReload",()=>{window.location.reload()});Yt(this,"handleGoHome",()=>{window.location.href="/"});Yt(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,i){console.error(" [ErrorBoundary] Caught error:",r),console.error(" [ErrorBoundary] Error info:",i),this.setState({errorInfo:i,countdown:5,autoReload:!0}),this.startCountdown()}componentWillUnmount(){this.countdownInterval&&clearInterval(this.countdownInterval)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full p-8 text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:y.jsx(Qk,{className:"w-8 h-8 text-red-500"})}),y.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Bir eyler Yanl Gitti"}),this.state.autoReload?y.jsxs("div",{className:"mb-6",children:[y.jsx("p",{className:"text-slate-600 mb-3",children:"Sayfa yklenirken beklenmeyen bir hata olutu."}),y.jsxs("div",{className:"flex items-center justify-center gap-2 text-brand-orange",children:[y.jsx(ug,{className:"w-5 h-5 animate-spin"}),y.jsxs("span",{className:"font-bold text-lg",children:[this.state.countdown," saniye iinde otomatik yenileniyor..."]})]}),y.jsx("button",{onClick:this.cancelAutoReload,className:"text-sm text-slate-500 hover:text-slate-700 underline mt-2",children:"Otomatik yenilemeyi iptal et"})]}):y.jsx("p",{className:"text-slate-600 mb-6",children:"Sayfa yklenirken beklenmeyen bir hata olutu. Ltfen sayfay yenileyin veya ana sayfaya dnn."}),!1,!this.state.autoReload&&y.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[y.jsxs("button",{onClick:this.handleReload,className:"flex items-center justify-center gap-2 px-6 py-3 bg-brand-orange text-white rounded-xl font-medium hover:bg-orange-600 transition-colors",children:[y.jsx(ug,{size:18}),"imdi Yenile"]}),y.jsxs("button",{onClick:this.handleGoHome,className:"flex items-center justify-center gap-2 px-6 py-3 bg-slate-600 text-white rounded-xl font-medium hover:bg-slate-700 transition-colors",children:[y.jsx(Fk,{size:18}),"Ana Sayfa"]})]}),y.jsx("p",{className:"text-xs text-slate-400 mt-6",children:"Sorun devam ederse ltfen destek ekibimizle iletiime gein."})]})}):this.props.children}}const hv=typeof window<"u"&&window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1"),tt={log:(...t)=>!hv&&console.log(...t),warn:(...t)=>!hv&&console.warn(...t),error:(...t)=>console.error(...t)};let Er=null,ll=0,cl=!0,tf=0;function Dj(){if(typeof window>"u")return;const t=()=>{const r=window.scrollY||document.documentElement.scrollTop,i=document.documentElement.scrollHeight-window.innerHeight,a=i>0?Math.round(r/i*100):0;a>ll&&(ll=Math.min(a,100),Er&&(Er.maxScrollDepth=ll))};let e=null;window.addEventListener("scroll",()=>{e||(e=window.setTimeout(()=>{t(),e=null},100))},{passive:!0})}function Lj(){if(typeof window>"u")return;const t=()=>{if(Er){const e=Math.round((Date.now()-Er.enterTime)/1e3),r={page_url:Er.url,duration_seconds:e,scroll_depth:Er.maxScrollDepth,is_exit_page:!0,is_bounce:tf===1&&e<30,session_id:rf(),user_id:eb().userId||null,activity_type:"page_exit"};navigator.sendBeacon&&new Blob([JSON.stringify(r)],{type:"application/json"}),tt.log(" Page exit:",r)}};window.addEventListener("beforeunload",t),window.addEventListener("pagehide",t),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&t()})}function Mj(){const t=document.referrer,e=new URLSearchParams(window.location.search),r=e.get("utm_source"),i=e.get("utm_medium"),a=e.get("utm_campaign"),o=e.get("utm_term"),c=e.get("utm_content");if(r)return{source:r,medium:i||"unknown",campaign:a||void 0,term:o||void 0,content:c||void 0};if(!t)return{source:"direct",medium:"none"};const d=new URL(t).hostname.toLowerCase(),f={google:"google",bing:"bing",yahoo:"yahoo",yandex:"yandex",duckduckgo:"duckduckgo",baidu:"baidu"};for(const[m,w]of Object.entries(f))if(d.includes(m))return{source:w,medium:"organic"};const g=["facebook","instagram","twitter","linkedin","pinterest","tiktok","youtube","reddit","whatsapp","t.co"];for(const m of g)if(d.includes(m))return{source:m,medium:"social"};return{source:d,medium:"referral"}}function zj(t){let e="Unknown",r="Unknown",i="desktop";if(t.includes("Chrome")&&!t.includes("Edg")&&!t.includes("OPR")){const a=t.match(/Chrome\/(\d+)/);e=a?`Chrome ${a[1]}`:"Chrome"}else if(t.includes("Firefox")){const a=t.match(/Firefox\/(\d+)/);e=a?`Firefox ${a[1]}`:"Firefox"}else if(t.includes("Safari")&&!t.includes("Chrome")){const a=t.match(/Version\/(\d+)/);e=a?`Safari ${a[1]}`:"Safari"}else if(t.includes("Edg")){const a=t.match(/Edg\/(\d+)/);e=a?`Edge ${a[1]}`:"Edge"}else(t.includes("OPR")||t.includes("Opera"))&&(e="Opera");if(t.includes("Windows NT 10"))r="Windows 10/11";else if(t.includes("Windows"))r="Windows";else if(t.includes("Mac OS X")){const a=t.match(/Mac OS X (\d+[._]\d+)/);r=a?`macOS ${a[1].replace("_",".")}`:"macOS"}else if(t.includes("Linux")&&!t.includes("Android"))r="Linux";else if(t.includes("Android")){const a=t.match(/Android (\d+)/);r=a?`Android ${a[1]}`:"Android",i="mobile"}else if(t.includes("iPhone")){const a=t.match(/iPhone OS (\d+)/);r=a?`iOS ${a[1]}`:"iOS",i="mobile"}else if(t.includes("iPad")){const a=t.match(/CPU OS (\d+)/);r=a?`iPadOS ${a[1]}`:"iPadOS",i="tablet"}return t.includes("Mobile")&&i==="desktop"?i="mobile":t.includes("Tablet")&&(i="tablet"),{browser:e,os:r,deviceType:i}}function Uj(){return typeof window>"u"?{screenResolution:"unknown",viewportSize:"unknown"}:{screenResolution:`${screen.width}x${screen.height}`,viewportSize:`${window.innerWidth}x${window.innerHeight}`}}function Bj(){if(typeof navigator>"u")return"unknown";const t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return t&&(t.effectiveType||t.type)||"unknown"}let Zs=null,ea=null;async function $j(){try{tt.log(" IP-based geolocation balatlyor...");const t=await fetch("https://ipapi.co/json/",{method:"GET",cache:"force-cache"});if(!t.ok)throw new Error(`IP geolocation API error: ${t.status}`);const e=await t.json();return tt.log(" IP geolocation baarl:",e),{latitude:e.latitude,longitude:e.longitude,country:e.country_name,city:e.city,region:e.region,source:"ip"}}catch(t){return tt.warn(" IP geolocation baarsz:",t),null}}async function Fj(){return typeof navigator>"u"||!navigator.geolocation?(tt.warn("  Geolocation API desteklenmiyor"),null):new Promise(t=>{const e=setTimeout(()=>{tt.warn("  GPS timeout (5s) - IP fallback'e geiliyor"),t(null)},5e3);tt.log(" GPS geolocation balatlyor..."),navigator.geolocation.getCurrentPosition(async r=>{clearTimeout(e);const{latitude:i,longitude:a}=r.coords;tt.log(" GPS konum alnd:",{latitude:i,longitude:a});try{const o=await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${i}&lon=${a}&format=json&accept-language=tr`,{headers:{"User-Agent":"YOLMOV Activity Tracker"}});if(o.ok){const u=(await o.json()).address||{};t({latitude:i,longitude:a,country:u.country,city:u.city||u.town||u.village,region:u.state||u.province,source:"gps"})}else t({latitude:i,longitude:a,source:"gps"})}catch(o){tt.warn("  Reverse geocoding baarsz:",o),t({latitude:i,longitude:a,source:"gps"})}},r=>{clearTimeout(e),tt.warn(" GPS geolocation baarsz:",r.message),t(null)},{enableHighAccuracy:!1,timeout:4e3,maximumAge:3e5})})}async function Vj(){return Zs?(tt.log(" Cached location kullanlyor:",Zs.source),Zs):ea||(ea=(async()=>{try{const t=await Fj();if(t)return Zs=t,t;const e=await $j();return e?(Zs=e,e):(tt.warn("  Hibir konum yntemi baarl olmad"),null)}catch(t){return tt.error(" Geolocation error:",t),null}finally{ea=null}})(),ea)}function rf(){let t=sessionStorage.getItem("yolmov_session_id");return t||(t=Hh(),sessionStorage.setItem("yolmov_session_id",t),cl=!0,tf=0),t}function qj(){let t=localStorage.getItem("yolmov_anon_id");return t||(t=`anon_${Hh()}`,localStorage.setItem("yolmov_anon_id",t)),t}let el=null;async function Kj(){if(el)return el;try{return el=(await(await fetch("https://api.ipify.org?format=json",{method:"GET",cache:"force-cache"})).json()).ip,el}catch(t){return tt.warn("IP adresi alnamad:",t),null}}function eb(){try{const t=localStorage.getItem("yolmov_admin");if(t){const a=JSON.parse(t);return{userId:a.id,userType:"admin",userEmail:a.email,userName:a.name}}const e=localStorage.getItem("yolmov_partner");if(e){const a=JSON.parse(e);return{userId:a.id,userType:"partner",userEmail:a.email,userName:a.name||a.company_name}}const r=localStorage.getItem("yolmov_customer");if(r){const a=JSON.parse(r);return{userId:a.id,userType:"customer",userEmail:a.email,userName:`${a.firstName||""} ${a.lastName||""}`.trim()}}const i=localStorage.getItem("yolmov-auth-session");if(i){const a=JSON.parse(i);if(a.user)return{userId:a.user.id,userType:"customer",userEmail:a.user.email}}}catch(t){tt.warn("Error getting current user:",t)}return{userType:"anonymous",userId:void 0}}let si=null;async function Wj(){if(si!==null)return si;try{const{error:t}=await U.from("activity_logs").select("traffic_source").limit(1);return si=!t,tt.log(" V2 columns available:",si),si}catch{return si=!1,!1}}async function Ar(t,e){try{const r=navigator.userAgent,{browser:i,os:a,deviceType:o}=zj(r),{screenResolution:c,viewportSize:u}=Uj(),d=Mj(),f=eb(),g=rf(),m=await Kj(),w=await Vj(),b=e||{};f.userType==="anonymous"&&(b.anonymous_id=qj());const x={user_id:f.userId||null,user_type:f.userType,user_email:f.userEmail||null,user_name:f.userName||null,activity_type:t,page_url:window.location.pathname+window.location.search,page_title:document.title,referrer:document.referrer||null,ip_address:m,user_agent:r,device_type:o,browser:i,os:a,metadata:b,session_id:g,latitude:(w==null?void 0:w.latitude)||null,longitude:(w==null?void 0:w.longitude)||null,country:(w==null?void 0:w.country)||null,city:(w==null?void 0:w.city)||null,region:(w==null?void 0:w.region)||null,geolocation_source:(w==null?void 0:w.source)||null},C=await Wj();C&&(x.traffic_source=d.source,x.traffic_medium=d.medium,x.utm_campaign=d.campaign||null,x.utm_source=new URLSearchParams(window.location.search).get("utm_source")||null,x.utm_medium=new URLSearchParams(window.location.search).get("utm_medium")||null,x.utm_term=new URLSearchParams(window.location.search).get("utm_term")||null,x.utm_content=new URLSearchParams(window.location.search).get("utm_content")||null,x.is_landing_page=cl,x.screen_resolution=c,x.viewport_size=u,x.language=navigator.language||"unknown",x.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone||"unknown",x.connection_type=Bj());const{error:E}=await U.from("activity_logs").insert(x);if(E){if(tt.warn(" Activity log insert failed:",E.message),E.message.includes("column")&&C)return si=!1,tt.warn(" V2 columns not found, retrying with V1..."),Ar(t,e)}else tt.log(` Activity tracked: ${t}`,{page:x.page_url,source:C?d.source:"v1-mode",isLanding:cl});t==="page_view"&&(cl=!1,tf++)}catch(r){tt.warn("Activity tracking failed:",r)}}function nf(t){if(Er){const e=Math.round((Date.now()-Er.enterTime)/1e3);Gj(Er.url,e,Er.maxScrollDepth)}Er={url:window.location.pathname+window.location.search,title:t||document.title,enterTime:Date.now(),maxScrollDepth:0},ll=0,Ar("page_view",{title:t||document.title})}async function Gj(t,e,r){try{const{error:i}=await U.from("activity_logs").update({duration_seconds:e,scroll_depth:r}).eq("page_url",t).eq("session_id",rf()).eq("activity_type","page_view").order("created_at",{ascending:!1}).limit(1);i?tt.warn(" Page duration update failed:",i.message):tt.log(` Page duration updated: ${t} - ${e}s, ${r}% scroll`)}catch(i){tt.warn("Page duration update failed:",i)}}function tb(t,e){Ar("login",{userType:t,email:e})}function rb(){Ar("logout")}function nb(t,e){Ar("form_submit",{formName:t,success:e})}function ib(t,e){Ar("button_click",{buttonName:t,context:e})}function sb(t,e){Ar("request_create",{requestId:t,serviceType:e})}function ab(t,e){Ar("offer_create",{offerId:t,requestId:e})}function ob(t,e){Ar("offer_accept",{offerId:t,partnerId:e})}async function lb(t){try{tt.log(" [ActivityTracker] Fetching activity logs with options:",t);let e=U.from("activity_logs").select("*").order("created_at",{ascending:!1});t!=null&&t.limit&&(e=e.limit(t.limit)),t!=null&&t.userType&&(e=e.eq("user_type",t.userType)),t!=null&&t.activityType&&(e=e.eq("activity_type",t.activityType)),t!=null&&t.startDate&&(e=e.gte("created_at",t.startDate)),t!=null&&t.endDate&&(e=e.lte("created_at",t.endDate)),t!=null&&t.trafficSource&&(e=e.eq("traffic_source",t.trafficSource));const{data:r,error:i}=await e;if(tt.log(" [ActivityTracker] Query result:",{dataCount:(r==null?void 0:r.length)||0,error:(i==null?void 0:i.message)||null}),i)throw i;return(r||[]).map(a=>({id:a.id,userId:a.user_id,userType:a.user_type,userEmail:a.user_email,userName:a.user_name,activityType:a.activity_type,pageUrl:a.page_url,pageTitle:a.page_title,referrer:a.referrer,ipAddress:a.ip_address,userAgent:a.user_agent,deviceType:a.device_type,browser:a.browser,os:a.os,metadata:a.metadata,sessionId:a.session_id,createdAt:a.created_at,durationSeconds:a.duration_seconds,scrollDepth:a.scroll_depth,trafficSource:a.traffic_source,trafficMedium:a.traffic_medium,utmCampaign:a.utm_campaign,utmSource:a.utm_source,utmMedium:a.utm_medium,utmTerm:a.utm_term,utmContent:a.utm_content,isLandingPage:a.is_landing_page,isExitPage:a.is_exit_page,isBounce:a.is_bounce,screenResolution:a.screen_resolution,viewportSize:a.viewport_size,language:a.language,timezone:a.timezone,connectionType:a.connection_type,latitude:a.latitude,longitude:a.longitude,country:a.country,city:a.city,region:a.region,geolocationSource:a.geolocation_source}))}catch(e){return tt.error(" Activity logs fetch failed:",e),[]}}async function cb(){try{const t=new Date().toISOString().split("T")[0],{count:e}=await U.from("activity_logs").select("*",{count:"exact",head:!0}).eq("activity_type","page_view"),{data:r}=await U.from("activity_logs").select("session_id").eq("activity_type","page_view"),i=new Set(r==null?void 0:r.map(O=>O.session_id)).size,{count:a}=await U.from("activity_logs").select("*",{count:"exact",head:!0}).eq("activity_type","page_view").gte("created_at",t),{data:o}=await U.from("activity_logs").select("session_id").eq("activity_type","page_view").gte("created_at",t),c=new Set(o==null?void 0:o.map(O=>O.session_id)).size,{data:u}=await U.from("activity_logs").select("duration_seconds, scroll_depth, is_bounce").eq("activity_type","page_view").not("duration_seconds","is",null),d=u!=null&&u.length?u.reduce((O,N)=>O+(N.duration_seconds||0),0)/u.length:0,f=u!=null&&u.length?u.reduce((O,N)=>O+(N.scroll_depth||0),0)/u.length:0,g=(u==null?void 0:u.filter(O=>O.is_bounce).length)||0,m=u!=null&&u.length?g/u.length*100:0,{data:w}=await U.from("activity_logs").select("page_url, duration_seconds").eq("activity_type","page_view").limit(1e3),b=new Map;w==null||w.forEach(O=>{const N=b.get(O.page_url)||{count:0,totalDuration:0};b.set(O.page_url,{count:N.count+1,totalDuration:N.totalDuration+(O.duration_seconds||0)})});const x=Array.from(b.entries()).map(([O,N])=>({pageUrl:O,count:N.count,avgDuration:Math.round(N.totalDuration/N.count)})).sort((O,N)=>N.count-O.count).slice(0,10),{data:C}=await U.from("activity_logs").select("traffic_source").eq("activity_type","page_view"),E=new Map;C==null||C.forEach(O=>{const N=O.traffic_source||"direct";E.set(N,(E.get(N)||0)+1)});const j=(C==null?void 0:C.length)||1,D=Array.from(E.entries()).map(([O,N])=>({source:O,count:N,percentage:Math.round(N/j*100)})).sort((O,N)=>N.count-O.count),{data:k}=await U.from("activity_logs").select("user_type").eq("activity_type","page_view"),A=Array.from((k||[]).reduce((O,N)=>(O.set(N.user_type,(O.get(N.user_type)||0)+1),O),new Map)).map(([O,N])=>({userType:O,count:N})),{data:R}=await U.from("activity_logs").select("device_type").eq("activity_type","page_view"),M=Array.from((R||[]).reduce((O,N)=>(O.set(N.device_type||"unknown",(O.get(N.device_type||"unknown")||0)+1),O),new Map)).map(([O,N])=>({deviceType:O,count:N}));return{totalPageViews:e||0,uniqueVisitors:i,todayPageViews:a||0,todayUniqueVisitors:c,avgSessionDuration:Math.round(d),avgScrollDepth:Math.round(f),bounceRate:Math.round(m),topPages:x,trafficSources:D,userTypeBreakdown:A,deviceBreakdown:M}}catch(t){return tt.error(" Activity stats fetch failed:",t),{totalPageViews:0,uniqueVisitors:0,todayPageViews:0,todayUniqueVisitors:0,avgSessionDuration:0,avgScrollDepth:0,bounceRate:0,topPages:[],trafficSources:[],userTypeBreakdown:[],deviceBreakdown:[]}}}typeof window<"u"&&(Dj(),Lj());const Hj={trackActivity:Ar,trackPageView:nf,trackLogin:tb,trackLogout:rb,trackFormSubmit:nb,trackButtonClick:ib,trackRequestCreate:sb,trackOfferCreate:ab,trackOfferAccept:ob,getActivityLogs:lb,getActivityStats:cb},yN=Object.freeze(Object.defineProperty({__proto__:null,default:Hj,getActivityLogs:lb,getActivityStats:cb,trackActivity:Ar,trackButtonClick:ib,trackFormSubmit:nb,trackLogin:tb,trackLogout:rb,trackOfferAccept:ob,trackOfferCreate:ab,trackPageView:nf,trackRequestCreate:sb},Symbol.toStringTag,{value:"Module"}));async function Yj(t){try{console.log("[CustomerToSupport] Destek hatt aranyor:",{customer_id:t.customer_id,queue_id:t.queue_id});let e=t.queue_id;if(!e){const{data:a}=await U.from("call_queues").select("id").eq("slug","general-support").single();e=a==null?void 0:a.id}const{data:r,error:i}=await U.from("customer_support_calls").insert({customer_id:t.customer_id,sdp_offer:t.sdp_offer,queue_id:e,status:"waiting",started_at:new Date().toISOString()}).select().single();return i?(console.error("[CustomerToSupport] Arama balatma hatas:",i),{success:!1,error:i.message}):(console.log("[CustomerToSupport]  Kuyrua eklendi:",{call_id:r.id,position:r.queue_position}),{success:!0,call:r})}catch(e){return console.error("[CustomerToSupport] Exception:",e),{success:!1,error:e.message}}}async function Jj(t){try{console.log("[CustomerToSupport] Agent aramay cevaplyor:",t.call_id);const{data:e,error:r}=await U.from("customer_support_calls").update({sdp_answer:t.sdp_answer,status:"connected",connected_at:new Date().toISOString()}).eq("id",t.call_id).select().single();return r?(console.error("[CustomerToSupport] Cevaplama hatas:",r),{success:!1,error:r.message}):(console.log("[CustomerToSupport]  Arama baland"),{success:!0,call:e})}catch(e){return console.error("[CustomerToSupport] Exception:",e),{success:!1,error:e.message}}}async function Qj(t,e){try{console.log("[CustomerToSupport] Arama sonlandrlyor:",t);const{data:r,error:i}=await U.from("customer_support_calls").select("*").eq("id",t).single();if(i||!r)return{success:!1,error:"ar bulunamad"};const a=r.connected_at?Math.floor((Date.now()-new Date(r.connected_at).getTime())/1e3):0,{error:o}=await U.from("customer_support_calls").update({status:"ended",ended_at:new Date().toISOString(),end_reason:e,duration_seconds:a}).eq("id",t);return o?(console.error("[CustomerToSupport] Sonlandrma hatas:",o),{success:!1,error:o.message}):(console.log("[CustomerToSupport]  Arama sonlandrld:",a,"saniye"),{success:!0})}catch(r){return console.error("[CustomerToSupport] Exception:",r),{success:!1,error:r.message}}}async function Xj(t){try{const{data:e,error:r}=await U.from("customer_support_calls").select("*").eq("id",t).single();return r?(console.error("[CustomerToSupport] Arama getirme hatas:",r),{success:!1,error:r.message}):{success:!0,call:e}}catch(e){return console.error("[CustomerToSupport] Exception:",e),{success:!1,error:e.message}}}const Zj=z.createContext(void 0),e2=({children:t})=>{const[e,r]=z.useState(null),[i,a]=z.useState(!1),[o,c]=z.useState("idle"),[u,d]=z.useState(null),[f,g]=z.useState(null),[m,w]=z.useState(null),[b,x]=z.useState(null),C=z.useRef(null),E=z.useRef(null),j=async()=>{try{const N=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0},video:!1});return g(N),console.log("[CustomerToSupport]  Mikrofon eriimi saland"),N}catch(N){return console.error("[CustomerToSupport] Mikrofon hatas:",N),x("Mikrofon eriimi engellenmi"),null}},D=z.useCallback(async N=>{try{console.log("[CustomerToSupport] Destek hatt aranyor"),x(null),a(!0);const K=await j();if(!K)throw new Error("Mikrofon eriimi salanamad");const{data:{user:L}}=await U.auth.getUser(),$=(L==null?void 0:L.id)||`anon_${Date.now()}`,Y=new Dn({initiator:!0,trickle:!0,stream:K,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]}});C.current=Y,Y.on("signal",async te=>{if(te.type==="offer"){console.log("[CustomerToSupport] SDP Offer oluturuldu");const ue=await Yj({customer_id:$,sdp_offer:te,queue_id:N});if(!ue.success||!ue.call)throw new Error(ue.error||"Kuyrua eklenemedi");r(ue.call),c("waiting"),d(ue.call.queue_position||null),R(ue.call.id)}}),Y.on("stream",te=>{console.log("[CustomerToSupport]  Agent stream alnd"),w(te),c("connected")}),Y.on("close",()=>{console.log("[CustomerToSupport] Peer kapand"),M()}),Y.on("error",te=>{console.error("[CustomerToSupport] Peer hatas:",te),x("Balant hatas"),M()})}catch(K){console.error("[CustomerToSupport] callSupport hatas:",K),x(K.message),M()}},[]),k=z.useCallback(async N=>{try{console.log("[CustomerToSupport] Agent aramay cevaplyor:",N),x(null),a(!1);const K=await Xj(N);if(!K.success||!K.call)throw new Error("ar bulunamad");const L=K.call;r(L);const $=await j();if(!$)throw new Error("Mikrofon eriimi salanamad");const Y=new Dn({initiator:!1,trickle:!0,stream:$,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]}});C.current=Y,L.sdp_offer&&Y.signal(L.sdp_offer),Y.on("signal",async te=>{if(te.type==="answer"){console.log("[CustomerToSupport] SDP Answer oluturuldu");const ue=await Jj({call_id:N,sdp_answer:te});if(!ue.success)throw new Error(ue.error||"Cevaplama baarsz");c("connected")}}),Y.on("stream",te=>{console.log("[CustomerToSupport]  Customer stream alnd"),w(te)}),Y.on("close",()=>{console.log("[CustomerToSupport] Peer kapand (agent)"),M()}),Y.on("error",te=>{console.error("[CustomerToSupport] Peer hatas (agent):",te),x("Balant hatas"),M()})}catch(K){console.error("[CustomerToSupport] answerSupportCall hatas:",K),x(K.message),M()}},[]),A=z.useCallback(async()=>{try{if(!e)return;console.log("[CustomerToSupport] Arama sonlandrlyor");const N=i?"caller_ended":"receiver_ended";await Qj(e.id,N),c("ended"),M()}catch(N){console.error("[CustomerToSupport] endCall hatas:",N),M()}},[e,i]),R=N=>{console.log("[CustomerToSupport] Realtime subscription balatlyor:",N);const K=U.channel(`customer_support_call:${N}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"customer_support_calls",filter:`id=eq.${N}`},L=>{console.log("[CustomerToSupport] Realtime gncelleme:",L);const $=L.new;$.status==="ringing"&&o==="waiting"&&(console.log("[CustomerToSupport] Agent atand, alyor..."),c("ringing")),$.sdp_answer&&C.current&&i&&(console.log("[CustomerToSupport] SDP Answer alnd"),C.current.signal($.sdp_answer)),$.status==="timeout"?(x("Zaman am"),M()):$.status==="ended"&&M(),r($),d($.queue_position||null)}).subscribe();E.current=K},M=z.useCallback(()=>{console.log("[CustomerToSupport] Cleanup balatlyor"),C.current&&(C.current.destroy(),C.current=null),f&&(f.getTracks().forEach(N=>N.stop()),g(null)),m&&(m.getTracks().forEach(N=>N.stop()),w(null)),E.current&&(U.removeChannel(E.current),E.current=null),r(null),c("idle"),a(!1),d(null)},[f,m]);z.useEffect(()=>()=>{M()},[M]);const O={currentCall:e,isCustomer:i,callStatus:o,queuePosition:u,localStream:f,remoteStream:m,callSupport:D,answerSupportCall:k,endCall:A,error:b};return y.jsx(Zj.Provider,{value:O,children:t})},t2=Ie.lazy(()=>Me(()=>import("./AboutPage-Ybs3cboJ.js"),__vite__mapDeps([0,1,2,3,4,5]))),r2=Ie.lazy(()=>Me(()=>import("./ServicesPage-DB9Gc5wC.js"),__vite__mapDeps([6,7,4,8]))),n2=Ie.lazy(()=>Me(()=>import("./FAQPage-B-D5VjnB.js"),__vite__mapDeps([9,10]))),i2=Ie.lazy(()=>Me(()=>import("./ContactPage-B5C4Ffli.js"),__vite__mapDeps([11,12,13]))),s2=Ie.lazy(()=>Me(()=>import("./CareerPage-BsDxRoJf.js"),__vite__mapDeps([14,5,3,2,15,13]))),a2=Ie.lazy(()=>Me(()=>import("./BlogPage-BAAL4oXG.js"),__vite__mapDeps([16,17,18]))),o2=Ie.lazy(()=>Me(()=>import("./CampaignsPage-BPXNMfKG.js"),__vite__mapDeps([19,20,21,22,17]))),l2=Ie.lazy(()=>Me(()=>import("./CampaignDetailPage-TvhZHb41.js"),__vite__mapDeps([23,21,20,22,24,17]))),fv=Ie.lazy(()=>Me(()=>import("./LoginPage-COq-Yvpc.js"),__vite__mapDeps([25,26,27,28,29,30]))),c2=Ie.lazy(()=>Me(()=>import("./AuthRequiredPage-BDJ3Rz44.js"),__vite__mapDeps([31,28,32,33])));Ie.lazy(()=>Me(()=>import("./PartnerRegisterPage-D8iXVYRx.js"),__vite__mapDeps([34,35,36,37,38,28,5,39])));const u2=Ie.lazy(()=>Me(()=>import("./PartnerRegisterPageV2-D_33hDwT.js"),__vite__mapDeps([40,35,36,20,37,38,28]))),d2=Ie.lazy(()=>Me(()=>import("./PartnerRegistrationSuccess--mF5h48-.js"),__vite__mapDeps([41,37,42,43,32]))),h2=Ie.lazy(()=>Me(()=>import("./PartnerDashboard-CJSD0-Kn.js"),__vite__mapDeps([44,45,24,8,46,5,47,43,30,48,37,49,50,51,52,53,17,54,22,55,56,39,57,27,4,2,58,59,13,60,28,61,62,63,38,64]))),f2=Ie.lazy(()=>Me(()=>import("./CustomerProfilePage-5s8RAnu-.js"),__vite__mapDeps([65,26,38,64,66,3,28,53,27,52,37,59,30,51,29]))),p2=Ie.lazy(()=>Me(()=>import("./OffersPanel-BJieamNm.js"),__vite__mapDeps([67,20,68,27,30,37,8]))),m2=Ie.lazy(()=>Me(()=>import("./QuotePage-BhszCTKV.js"),__vite__mapDeps([69,48,37,49,50,51,70,20,39,71,60]))),g2=Ie.lazy(()=>Me(()=>import("./ListingPage-HDs63Kxy.js"),__vite__mapDeps([72,51,63,37,27,62,17]))),y2=Ie.lazy(()=>Me(()=>import("./ProviderDetailPage-DxrSjUx1.js"),__vite__mapDeps([73,51,20,27,37,47,39]))),pv=Ie.lazy(()=>Me(()=>import("./AdminLoginPage-BbUMbX0N.js"),__vite__mapDeps([74,4,51,38,28,29,30]))),mv=Ie.lazy(()=>Me(()=>import("./AdminSignupPage-qyv0ojgK.js"),__vite__mapDeps([75,37,38,28]))),Ze=Ie.lazy(()=>Me(()=>import("./AdminDashboard-BGdob1JS.js").then(t=>t.a),__vite__mapDeps([76,71,18,56,47,30,27,64,45,17,8,24,77,4,33,78,52,38]))),v2=Ie.lazy(()=>Me(()=>import("./AdminSystemLogs-DzW_UFjI.js"),__vite__mapDeps([79,45,17,24,4,30,53,78,52])));Ie.lazy(()=>Me(()=>import("./AdminUserDetailPage-DLki26Uu.js"),__vite__mapDeps([80,20,38,17,66,8,27])));Ie.lazy(()=>Me(()=>import("./AdminPartnerDetailPage-2mRwKZFZ.js"),__vite__mapDeps([81,20,27,24,8,47,38,17])));Ie.lazy(()=>Me(()=>import("./AdminRequestDetailPage-BYJEzaKk.js"),__vite__mapDeps([82,20,24,66,17,8])));Ie.lazy(()=>Me(()=>import("./AdminOfferDetailPage-Cg5l9whM.js"),__vite__mapDeps([83,20,24,13,17])));Ie.lazy(()=>Me(()=>import("./AdminFleetDetailPage-DZUOCEB2.js"),__vite__mapDeps([84,77,20,17,30,24,8])));Ie.lazy(()=>Me(()=>import("./AdminReviewDetailPage-DizdO7Av.js"),__vite__mapDeps([85,20,54,30,29,27,24])));Ie.lazy(()=>Me(()=>import("./AdminLeadRequestDetailPage-OCSEcOk0.js"),__vite__mapDeps([86,20,47,17,24])));Ie.lazy(()=>Me(()=>import("./AdminAreaRequestDetailPage-CqSUGcIa.js"),__vite__mapDeps([87,20,61,17,24])));Ie.lazy(()=>Me(()=>import("./AdminSupportRequestDetailPage-D0NS5um7.js"),__vite__mapDeps([88,20,45,24,17])));const w2=Ie.lazy(()=>Me(()=>import("./NotificationTestPage-DcRSGBlJ.js"),__vite__mapDeps([89,51,13]))),_2=Ie.lazy(()=>Me(()=>import("./EmailConfirmationPage-BAbYJZc2.js"),__vite__mapDeps([90,37]))),b2=Ie.lazy(()=>Me(()=>import("./PrivacyPolicyPage-BSGAFhL0.js"),__vite__mapDeps([91,20,4]))),x2=Ie.lazy(()=>Me(()=>import("./TermsOfServicePage-BWHjmZ_p.js"),__vite__mapDeps([92,20,45]))),S2=Ie.lazy(()=>Me(()=>import("./NotFoundPage-Cd9WoSEs.js"),__vite__mapDeps([93,51]))),k2=Ie.lazy(()=>Me(()=>import("./SEOServicePage-C7DDWgVD.js"),__vite__mapDeps([94,95,96,97,4,27,5,71,10,12,39]))),C2=Ie.lazy(()=>Me(()=>import("./SEOStatsPage-DC7qHtnD.js"),__vite__mapDeps([98,97,15,5,99]))),E2=Ie.lazy(()=>Me(()=>import("./SEOBrandPage-CuDPBlgN.js"),__vite__mapDeps([100,97,95,96,2,39,4,7,24,27,101,10,5]))),T2=Ie.lazy(()=>Me(()=>import("./PartnerSEOPage-BhDEQnlc.js"),__vite__mapDeps([102,97,42,8,1,5,101,39,47,45,24,27,2]))),P2=Ie.lazy(()=>Me(()=>import("./PriceCalculatorWizard-DLH0lDi6.js"),__vite__mapDeps([103,104,101,37,70,50,5]))),A2=Ie.lazy(()=>Me(()=>import("./PasswordSetupPage-DTji1ZTD.js"),__vite__mapDeps([105,28]))),R2=Ie.lazy(()=>Me(()=>import("./PartnerReviewPendingPage-D3geY94N.js"),__vite__mapDeps([106,4,38]))),j2=Ie.lazy(()=>Me(()=>import("./SpecialVehiclePage-DJV-83f1.js"),__vite__mapDeps([107,95,4,27,24,66,10]))),O2=Ie.lazy(()=>Me(()=>import("./OnDutyPage-BLnS-Wgw.js"),__vite__mapDeps([108,95,39,4,27,24,10]))),N2=Ie.lazy(()=>Me(()=>import("./IntercityPage-DwEUqh2V.js"),__vite__mapDeps([109,95,63,4,101,62,27,10]))),I2=Ie.lazy(()=>Me(()=>import("./SpecialLocationPage-B3CV54yX.js"),__vite__mapDeps([110,95,4,10]))),D2=Ie.lazy(()=>Me(()=>import("./PricingPage-i9a_7ol_.js"),__vite__mapDeps([111,95,101,50,5,27,24,10]))),L2=()=>y.jsx("div",{className:"flex items-center justify-center h-screen",children:y.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-brand-orange"})}),M2=()=>{const t=di(),e=(r,i,a)=>{t(`/liste?city=${encodeURIComponent(r)}&district=${encodeURIComponent(i)}&serviceId=${encodeURIComponent(a)}&fromHero=1`)};return y.jsxs(y.Fragment,{children:[y.jsx(VR,{onSearch:e}),y.jsx(qR,{}),y.jsx(KR,{}),y.jsx(WR,{}),y.jsx(GR,{})]})},z2=({children:t})=>{const e=Pr(),r=["/partner","/admin","/admin/giris","/admin/sistem-loglari"].some(i=>e.pathname===i||e.pathname.startsWith(i+"/"));return z.useEffect(()=>{window.scrollTo(0,0)},[e.pathname]),y.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 font-sans text-brand-dark selection:bg-brand-orange selection:text-white",children:[!r&&y.jsx(UR,{}),y.jsx("main",{className:"flex-grow",children:t}),!r&&y.jsx(Nj,{}),y.jsx(Ij,{})]})},U2=()=>{const t=Pr();return z.useEffect(()=>{nf(document.title)},[t.pathname]),null};function B2(){const[t,e]=z.useState(!1);return y.jsxs(vk,{children:[y.jsx(hj,{children:y.jsx(rj,{children:y.jsx(e2,{children:y.jsxs(Oj,{children:[y.jsx(U2,{}),y.jsxs(dv,{children:[y.jsx(z2,{children:y.jsx(z.Suspense,{fallback:y.jsx(L2,{}),children:y.jsx(dv,{children:y.jsxs(uk,{children:[y.jsx(ve,{path:"/",element:y.jsx(M2,{})}),y.jsx(ve,{path:"/hakkimizda",element:y.jsx(t2,{})}),y.jsx(ve,{path:"/hizmetler",element:y.jsx(r2,{})}),y.jsx(ve,{path:"/sss",element:y.jsx(n2,{})}),y.jsx(ve,{path:"/iletisim",element:y.jsx(i2,{})}),y.jsx(ve,{path:"/kariyer",element:y.jsx(s2,{})}),y.jsx(ve,{path:"/blog",element:y.jsx(a2,{})}),y.jsx(ve,{path:"/kampanyalar",element:y.jsx(o2,{})}),y.jsx(ve,{path:"/kampanya/:id",element:y.jsx(l2,{})}),y.jsx(ve,{path:"/giris-gerekli",element:y.jsx(c2,{})}),y.jsx(ve,{path:"/giris/musteri",element:y.jsx(fv,{userType:"customer"})}),y.jsx(ve,{path:"/giris/partner",element:y.jsx(fv,{userType:"partner"})}),y.jsx(ve,{path:"/partner/kayit",element:y.jsx(u2,{})}),y.jsx(ve,{path:"/partner-kayit-basarili",element:y.jsx(d2,{})}),y.jsx(ve,{path:"/email-dogrulama",element:y.jsx(_2,{})}),y.jsx(ve,{path:"/partner",element:y.jsx(h2,{})}),y.jsx(ve,{path:"/partner/inceleniyor",element:y.jsx(R2,{})}),y.jsx(ve,{path:"/sifre-olustur",element:y.jsx(A2,{})}),y.jsx(ve,{path:"/musteri/profil",element:y.jsx(Zo,{children:y.jsx(f2,{})})}),y.jsx(ve,{path:"/musteri/teklifler",element:y.jsx(Zo,{children:y.jsx(p2,{})})}),y.jsx(ve,{path:"/liste",element:y.jsx(g2,{})}),y.jsx(ve,{path:"/hizmet/:id",element:y.jsx(y2,{})}),y.jsx(ve,{path:"/teklif",element:y.jsx(Zo,{children:y.jsx(m2,{})})}),y.jsx(ve,{path:"/fiyat-hesapla",element:y.jsx(Zo,{children:y.jsx(P2,{})})}),y.jsx(ve,{path:"/admin/giris",element:y.jsx(pv,{})}),y.jsx(ve,{path:"/admin/kayit",element:y.jsx(mv,{})}),y.jsx(ve,{path:"/operasyon/kayit",element:y.jsx(mv,{})}),y.jsx(ve,{path:"/admin",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/kullanicilar",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/kullanicilar/:id",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/partnerler",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/partnerler/:id",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/partner-onay",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/talepler",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/musteri-talepleri",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/musteri-talepleri/:id",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/teklifler",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/teklifler/:id",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/raporlar",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/belgeler",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/filo",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/filo/:vehicleId",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/degerlendirmeler",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/degerlendirmeler/:id",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/finansal",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/krediler",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/is-gecmisi",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/admin-kullanicilari",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/partner-vitrin",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/hizmet-bolgeleri",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/kampanyalar",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/aktivite",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/cagri-merkezi",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/canli-gorusmeler",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/cagri-kayitlari",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/talepler/lead/:id",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/talepler/alan/:id",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/talepler/destek/:id",element:y.jsx(Je,{children:y.jsx(Ze,{})})}),y.jsx(ve,{path:"/admin/sistem-loglari",element:y.jsx(Je,{children:y.jsx(v2,{})})}),y.jsx(ve,{path:"/bildirim-test",element:y.jsx(w2,{})}),y.jsx(ve,{path:"/seo-istatistikler",element:y.jsx(C2,{})}),y.jsx(ve,{path:"/gizlilik-politikasi",element:y.jsx(b2,{})}),y.jsx(ve,{path:"/kullanim-kosullari",element:y.jsx(x2,{})}),y.jsx(ve,{path:"/operasyon",element:y.jsx(pv,{})}),y.jsx(ve,{path:"/partner-ol/:service/:city/:district",element:y.jsx(T2,{})}),y.jsx(ve,{path:"/tasima/:vehicleType/:city/:district",element:y.jsx(j2,{})}),y.jsx(ve,{path:"/nobetci/:service/:city/:district",element:y.jsx(O2,{})}),y.jsx(ve,{path:"/sehirlerarasi/:from/:to",element:y.jsx(N2,{})}),y.jsx(ve,{path:"/lokasyon/:slug",element:y.jsx(I2,{})}),y.jsx(ve,{path:"/fiyat/:service/:city",element:y.jsx(D2,{})}),y.jsx(ve,{path:"/:service/:city/:district",element:y.jsx(k2,{})}),y.jsx(ve,{path:"/marka/:brandSlug",element:y.jsx(E2,{})}),y.jsx(ve,{path:"*",element:y.jsx(S2,{})})]})})})}),y.jsx(sj,{}),y.jsx(lj,{}),y.jsx(aj,{minimized:t,onMinimize:()=>e(!0),onMaximize:()=>e(!1)}),y.jsx(fj,{onClick:()=>e(!1)})]})]})})})}),y.jsx(jk,{})]})}function $2(){"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{const t=sessionStorage.getItem("sw-refreshed"),e=await navigator.serviceWorker.register("/sw.js",{updateViaCache:"none"});console.log(" PWA Service Worker registered:",e.scope),e.waiting&&!t&&e.waiting.postMessage({type:"SKIP_WAITING"}),document.visibilityState==="visible"&&e.update(),e.addEventListener("updatefound",()=>{const i=e.installing;i&&i.addEventListener("statechange",()=>{i.state==="installed"&&navigator.serviceWorker.controller&&(console.log(" New Service Worker available"),t||(console.log(" Reloading to activate new Service Worker..."),sessionStorage.setItem("sw-refreshed","true"),window.location.reload()))})});let r=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{if(r||t){console.log(" Service Worker controller changed (already refreshed)");return}console.log(" Service Worker controller changed - reloading..."),r=!0,sessionStorage.setItem("sw-refreshed","true"),window.location.reload()}),setTimeout(()=>{sessionStorage.removeItem("sw-refreshed")},5e3)}catch(t){console.error(" Service Worker registration failed:",t)}})}let aa=null;function F2(){window.addEventListener("beforeinstallprompt",t=>{console.log(" PWA install prompt available"),t.preventDefault(),aa=t,V2()}),window.addEventListener("appinstalled",()=>{console.log(" YOLMOV PWA has been installed"),localStorage.setItem("pwa-installed","true");const t=document.getElementById("pwa-install-banner");t&&t.remove()}),window.matchMedia("(display-mode: standalone)").matches&&(console.log(" Running as installed PWA"),document.documentElement.classList.add("pwa-mode"))}function V2(){if(sessionStorage.getItem("pwa-install-prompt-shown")||localStorage.getItem("pwa-install-dismissed")==="true"||localStorage.getItem("pwa-installed")==="true")return;const i=document.createElement("div");i.id="pwa-install-banner",i.style.cssText=`
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(to right, #FF7A00, #FF9A2A);
    color: white;
    padding: 1rem;
    box-shadow: 0 -4px 20px rgba(0,0,0,0.2);
    z-index: 9999;
    animation: slideUp 0.3s ease-out;
  `,i.innerHTML=`
    <style>
      @keyframes slideUp {
        from { transform: translateY(100%); }
        to { transform: translateY(0); }
      }
    </style>
    <div style="max-width: 1200px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; gap: 1rem; flex-wrap: wrap;">
      <div style="display: flex; align-items: center; gap: 1rem;">
        <div style="width: 48px; height: 48px; background: white; border-radius: 12px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
          <img 
            src="https://raw.githubusercontent.com/yosoyorhan/repo2/refs/heads/main/yolmov-logo-cutter.png" 
            alt="YOLMOV" 
            style="width: 32px; height: 32px; object-fit: contain;"
          />
        </div>
        <div>
          <p style="font-weight: 700; margin: 0; font-size: 1rem;">YOLMOV'u Telefonunuza Ekleyin</p>
          <p style="margin: 0; font-size: 0.875rem; opacity: 0.9;">Daha hzl eriim iin uygulamay ykleyin</p>
        </div>
      </div>
      <div style="display: flex; align-items: center; gap: 0.5rem; flex-shrink: 0;">
        <button 
          id="pwa-install-button" 
          style="padding: 0.5rem 1.5rem; background: white; color: #FF7A00; border: none; border-radius: 8px; font-weight: 700; font-size: 0.875rem; cursor: pointer; transition: all 0.2s;"
          onmouseover="this.style.background='#FFF5F0'"
          onmouseout="this.style.background='white'"
        >
          Ykle
        </button>
        <button 
          id="pwa-dismiss-button" 
          style="padding: 0.5rem 0.75rem; background: transparent; color: white; border: none; font-size: 1.5rem; cursor: pointer; opacity: 0.8; transition: opacity 0.2s;"
          onmouseover="this.style.opacity='1'"
          onmouseout="this.style.opacity='0.8'"
        >
          
        </button>
      </div>
    </div>
  `,document.body.appendChild(i),sessionStorage.setItem("pwa-install-prompt-shown","true");const a=document.getElementById("pwa-install-button");a&&a.addEventListener("click",async()=>{if(!aa)return;aa.prompt();const{outcome:c}=await aa.userChoice;console.log(`User response to install prompt: ${c}`),console.log(c==="accepted"?" User accepted the install prompt":" User dismissed the install prompt"),aa=null,i.remove()});const o=document.getElementById("pwa-dismiss-button");o&&o.addEventListener("click",()=>{i.remove(),localStorage.setItem("pwa-install-dismissed","true")}),setTimeout(()=>{const c=document.getElementById("pwa-install-banner");c&&c.remove()},15e3)}const ub=document.getElementById("root");if(!ub)throw new Error("Could not find root element to mount to");const q2=gS.createRoot(ub);q2.render(y.jsx(Ie.StrictMode,{children:y.jsx(B2,{})}));$2();F2();export{ug as $,Tr as A,lg as B,md as C,Nv as D,Mk as E,Iv as F,qk as G,$k as H,Zh as I,Dv as J,dl as K,G2 as L,ih as M,Yk as N,Mu as O,zr as P,Hk as Q,Ie as R,gd as S,Ol as T,Xk as U,Vk as V,t1 as W,Xi as X,Yh as Y,cg as Z,Me as _,Lk as a,Ov as a0,H2 as a1,Jd as a2,cv as a3,H_ as a4,iC as a5,dN as a6,hN as a7,uN as a8,fN as a9,mN as aa,pN as ab,Pl as ac,da as ad,Zk as ae,Wk as af,lb as ag,cb as ah,lN as ai,yN as aj,Tj as b,qe as c,Nl as d,fd as e,K_ as f,W2 as g,pd as h,Pr as i,y as j,jv as k,Qo as l,Ne as m,Jk as n,cN as o,$i as p,Fk as q,z as r,Cr as s,gN as t,di as u,nh as v,U as w,zk as x,Uk as y,Qk as z};
