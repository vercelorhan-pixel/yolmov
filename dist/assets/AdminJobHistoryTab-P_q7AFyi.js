import{r as p,j as e,C as T,M as n,S as w}from"./index-WlGrQmAx.js";import{u as P,E as z}from"./AdminDashboard-_XMf6ywO.js";import{C as c}from"./circle-check-big-DPOZ1Z6F.js";import{D as L}from"./dollar-sign-Btpp-bre.js";import{T as b}from"./trending-up-Vjiaehfw.js";import{D as A}from"./download-yskQ8zWo.js";import{E as S}from"./eye-Dspwyz28.js";import"./activity-VypiHLgi.js";import"./tag--IGeUn0_.js";import"./wallet-CP8jXGwj.js";import"./credit-card-DxWc5GPH.js";import"./star-DAzveIrP.js";import"./log-out-D95PKMja.js";import"./file-text-PX5XXrOy.js";import"./calendar-BjRHn0SU.js";import"./StatusBadge-DzOojKXO.js";import"./shield-_SVAcYOe.js";import"./user-plus-BvyLDLq3.js";import"./square-pen-CxUNVt3U.js";import"./trash-2-Ch9d7yDB.js";import"./mail-BgZuZwwu.js";const B=[{id:"JOB-4923",partnerId:"PTR-001",partnerName:"Yılmaz Oto Kurtarma",customerName:"Ahmet Yılmaz",serviceType:"Çekici Hizmeti",startLocation:"Kadıköy, İstanbul",endLocation:"Kartal, İstanbul",distance:18,startTime:"2024-11-22 15:00",completionTime:"2024-11-22 15:45",duration:45,totalAmount:2500,commission:375,partnerEarning:2125,paymentMethod:"kredi_karti",rating:5,vehicleType:"Çekici - Ağır Hizmet",vehiclePlate:"34 ABC 123"},{id:"JOB-4920",partnerId:"PTR-001",partnerName:"Yılmaz Oto Kurtarma",customerName:"Mehmet K.",serviceType:"Akü Takviyesi",startLocation:"Beşiktaş, İstanbul",startTime:"2024-11-19 10:00",completionTime:"2024-11-19 10:30",duration:30,totalAmount:800,commission:120,partnerEarning:680,paymentMethod:"nakit",rating:2,vehicleType:"Hafif Yardım Aracı",vehiclePlate:"34 XYZ 456"},{id:"JOB-4918",partnerId:"PTR-002",partnerName:"Hızlı Yol Yardım",customerName:"Selin Kaya",serviceType:"Çekici Hizmeti",startLocation:"Maltepe, İstanbul",endLocation:"Pendik, İstanbul",distance:12,startTime:"2024-11-15 13:30",completionTime:"2024-11-15 14:15",duration:45,totalAmount:3200,commission:480,partnerEarning:2720,paymentMethod:"kredi_karti",rating:4,vehicleType:"Çekici - Orta Hizmet",vehiclePlate:"34 DEF 789"},{id:"JOB-4915",partnerId:"PTR-002",partnerName:"Hızlı Yol Yardım",customerName:"Burak Y.",serviceType:"Çekici Hizmeti",startLocation:"Sarıyer, İstanbul",endLocation:"Şişli, İstanbul",distance:8,startTime:"2024-11-12 09:00",completionTime:"2024-11-12 09:45",duration:45,totalAmount:2800,commission:420,partnerEarning:2380,paymentMethod:"kredi_karti",rating:1,vehicleType:"Çekici - Ağır Hizmet",vehiclePlate:"34 GHI 012"},{id:"JOB-4912",partnerId:"PTR-003",partnerName:"Mega Çekici",customerName:"Zeynep Aydın",serviceType:"Lastik Değişimi",startLocation:"Ataşehir, İstanbul",startTime:"2024-11-10 16:30",completionTime:"2024-11-10 17:00",duration:30,totalAmount:600,commission:90,partnerEarning:510,paymentMethod:"nakit",rating:5,vehicleType:"Hafif Yardım Aracı",vehiclePlate:"34 JKL 345"},{id:"JOB-4910",partnerId:"PTR-003",partnerName:"Mega Çekici",customerName:"Caner Erkin",serviceType:"Yakıt Desteği",startLocation:"Beylikdüzü, İstanbul",startTime:"2024-11-08 11:00",completionTime:"2024-11-08 11:30",duration:30,totalAmount:400,commission:60,partnerEarning:340,paymentMethod:"kredi_karti",rating:5,vehicleType:"Hafif Yardım Aracı",vehiclePlate:"34 MNO 678"},{id:"JOB-4908",partnerId:"PTR-001",partnerName:"Yılmaz Oto Kurtarma",customerName:"Elif Demir",serviceType:"Çekici Hizmeti",startLocation:"Üsküdar, İstanbul",endLocation:"Ümraniye, İstanbul",distance:10,startTime:"2024-11-05 08:30",completionTime:"2024-11-05 09:15",duration:45,totalAmount:2900,commission:435,partnerEarning:2465,paymentMethod:"kredi_karti",rating:3,vehicleType:"Çekici - Orta Hizmet",vehiclePlate:"34 PQR 901"},{id:"JOB-4905",partnerId:"PTR-002",partnerName:"Hızlı Yol Yardım",customerName:"Ayşe Kara",serviceType:"Akü Takviyesi",startLocation:"Bakırköy, İstanbul",startTime:"2024-11-03 14:00",completionTime:"2024-11-03 14:30",duration:30,totalAmount:750,commission:112.5,partnerEarning:637.5,paymentMethod:"havale",rating:5,vehicleType:"Hafif Yardım Aracı",vehiclePlate:"34 STU 234"}],W=()=>{const[r]=p.useState(B),[s,d]=p.useState(null),[o,g]=p.useState("all"),{filtered:h,searchTerm:N,setSearchTerm:j}=P(r,{searchKeys:["id","partnerName","customerName","serviceType","vehiclePlate"]}),m=o==="all"?h:h.filter(t=>t.partnerId===o),v=Array.from(new Set(r.map(t=>({id:t.partnerId,name:t.partnerName})))),i={totalJobs:r.length,totalRevenue:r.reduce((t,a)=>t+a.totalAmount,0),totalCommission:r.reduce((t,a)=>t+a.commission,0),totalPartnerEarnings:r.reduce((t,a)=>t+a.partnerEarning,0),avgDuration:Math.round(r.reduce((t,a)=>t+a.duration,0)/r.length),avgRating:(r.filter(t=>t.rating).reduce((t,a)=>t+(a.rating||0),0)/r.filter(t=>t.rating).length).toFixed(1),totalDistance:r.filter(t=>t.distance).reduce((t,a)=>t+(a.distance||0),0)},f=()=>{const t=["İş ID","Partner","Müşteri","Hizmet","Başlangıç","Bitiş","Süre (dk)","Mesafe (km)","Tutar","Partner Kazancı","Puan"],a=m.map(l=>[l.id,l.partnerName,l.customerName,l.serviceType,l.startTime,l.completionTime,l.duration,l.distance||"-",`${l.totalAmount}₺`,`${l.partnerEarning}₺`,l.rating||"-"]),y=[t,...a].map(l=>l.join(",")).join(`
`),k=new Blob(["\uFEFF"+y],{type:"text/csv;charset=utf-8;"}),u=URL.createObjectURL(k),x=document.createElement("a");x.href=u,x.download=`yolmov-is-gecmisi-${new Date().toISOString().split("T")[0]}.csv`,x.click(),URL.revokeObjectURL(u)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-4 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(c,{size:20}),e.jsx("span",{className:"text-xs font-bold",children:"Toplam İş"})]}),e.jsx("p",{className:"text-2xl font-black",children:i.totalJobs})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-4 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(L,{size:20}),e.jsx("span",{className:"text-xs font-bold",children:"Toplam Gelir"})]}),e.jsxs("p",{className:"text-2xl font-black",children:[i.totalRevenue.toLocaleString("tr-TR"),"₺"]})]}),e.jsxs("div",{className:"bg-purple-50 rounded-xl border border-purple-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(b,{size:20,className:"text-purple-600"}),e.jsx("span",{className:"text-xs font-bold text-purple-600",children:"Komisyon"})]}),e.jsxs("p",{className:"text-2xl font-black text-purple-700",children:[i.totalCommission.toLocaleString("tr-TR"),"₺"]})]}),e.jsxs("div",{className:"bg-orange-50 rounded-xl border border-orange-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(b,{size:20,className:"text-orange-600"}),e.jsx("span",{className:"text-xs font-bold text-orange-600",children:"Partner"})]}),e.jsxs("p",{className:"text-2xl font-black text-orange-700",children:[i.totalPartnerEarnings.toLocaleString("tr-TR"),"₺"]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-xl border border-slate-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(T,{size:20,className:"text-slate-600"}),e.jsx("span",{className:"text-xs font-bold text-slate-600",children:"Ort. Süre"})]}),e.jsxs("p",{className:"text-2xl font-black text-slate-700",children:[i.avgDuration," dk"]})]}),e.jsxs("div",{className:"bg-yellow-50 rounded-xl border border-yellow-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(c,{size:20,className:"text-yellow-600"}),e.jsx("span",{className:"text-xs font-bold text-yellow-600",children:"Ort. Puan"})]}),e.jsx("p",{className:"text-2xl font-black text-yellow-700",children:i.avgRating})]}),e.jsxs("div",{className:"bg-blue-50 rounded-xl border border-blue-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(n,{size:20,className:"text-blue-600"}),e.jsx("span",{className:"text-xs font-bold text-blue-600",children:"Mesafe"})]}),e.jsxs("p",{className:"text-2xl font-black text-blue-700",children:[i.totalDistance," km"]})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(w,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"İş ID, partner, müşteri, hizmet veya plaka ara...",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",value:N,onChange:t=>j(t.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:o,onChange:t=>g(t.target.value),className:"px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none font-bold text-slate-700",children:[e.jsx("option",{value:"all",children:"Tüm Partnerler"}),v.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsxs("button",{onClick:f,className:"px-4 py-2 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(A,{size:16}),"Dışa Aktar"]})]})]}),e.jsx("div",{className:"space-y-4",children:m.length===0?e.jsx(z,{title:"İş Bulunamadı",description:"Arama kriterinize uygun tamamlanmış iş yok."}):m.map(t=>e.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-5 hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(c,{size:24,className:"text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"font-black text-slate-900",children:t.id}),e.jsx("span",{className:"text-xs text-slate-400",children:"•"}),e.jsx("p",{className:"text-sm font-bold text-slate-700",children:t.serviceType})]}),e.jsxs("p",{className:"text-sm text-slate-600 mb-2",children:[t.partnerName," • ",t.vehicleType," (",t.vehiclePlate,")"]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[e.jsx(n,{size:14}),e.jsx("span",{children:t.startLocation}),t.endLocation&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"→"}),e.jsx("span",{children:t.endLocation}),e.jsxs("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full font-bold",children:[t.distance," km"]})]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-black text-green-600",children:[t.totalAmount.toLocaleString("tr-TR"),"₺"]}),e.jsxs("p",{className:"text-xs text-slate-500",children:["Komisyon: ",t.commission.toLocaleString("tr-TR"),"₺"]}),t.rating&&e.jsxs("p",{className:"text-xs text-yellow-600 mt-1",children:["★ ",t.rating,"/5"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Müşteri"}),e.jsx("p",{className:"font-bold text-slate-900 text-sm",children:t.customerName})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Başlangıç"}),e.jsx("p",{className:"font-bold text-slate-900 text-sm",children:t.startTime.split(" ")[1]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Bitiş"}),e.jsx("p",{className:"font-bold text-slate-900 text-sm",children:t.completionTime.split(" ")[1]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Süre"}),e.jsxs("p",{className:"font-bold text-slate-900 text-sm",children:[t.duration," dakika"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full font-bold text-xs",children:t.paymentMethod==="kredi_karti"?"Kredi Kartı":t.paymentMethod==="nakit"?"Nakit":"Havale"}),e.jsx("span",{className:"text-xs text-slate-500",children:t.completionTime.split(" ")[0]})]}),e.jsxs("button",{onClick:()=>d(t),className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg text-sm font-bold hover:bg-slate-200 flex items-center gap-2",children:[e.jsx(S,{size:16}),"Detay"]})]})]},t.id))}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>d(null),children:e.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-3xl w-full max-h-[90vh] overflow-y-auto",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:s.id}),e.jsx("p",{className:"text-sm text-slate-500",children:s.serviceType})]}),e.jsx("button",{onClick:()=>d(null),className:"p-2 hover:bg-slate-100 rounded-lg",children:e.jsx(c,{size:24,className:"text-slate-400"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Partner"}),e.jsx("p",{className:"font-bold text-slate-900",children:s.partnerName}),e.jsx("p",{className:"text-xs text-slate-500",children:s.partnerId})]}),e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Müşteri"}),e.jsx("p",{className:"font-bold text-slate-900",children:s.customerName})]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Araç Bilgisi"}),e.jsx("p",{className:"font-bold text-slate-900",children:s.vehicleType}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Plaka: ",s.vehiclePlate]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-xl border-2 border-blue-200 p-4",children:[e.jsx("p",{className:"text-xs text-blue-600 mb-2",children:"Lokasyon Bilgisi"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(n,{size:16,className:"text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-600",children:"Başlangıç"}),e.jsx("p",{className:"font-bold text-blue-900",children:s.startLocation})]})]}),s.endLocation&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(n,{size:16,className:"text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-600",children:"Bitiş"}),e.jsx("p",{className:"font-bold text-blue-900",children:s.endLocation})]})]}),s.distance&&e.jsxs("p",{className:"text-sm text-blue-700 font-bold",children:["Mesafe: ",s.distance," km"]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Başlangıç"}),e.jsx("p",{className:"font-bold text-slate-900",children:s.startTime})]}),e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Bitiş"}),e.jsx("p",{className:"font-bold text-slate-900",children:s.completionTime})]}),e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Süre"}),e.jsxs("p",{className:"font-bold text-slate-900",children:[s.duration," dakika"]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-green-50 rounded-xl border-2 border-green-200 p-4",children:[e.jsx("p",{className:"text-xs text-green-600 mb-1",children:"Toplam Tutar"}),e.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[s.totalAmount.toLocaleString("tr-TR"),"₺"]})]}),e.jsxs("div",{className:"bg-purple-50 rounded-xl border-2 border-purple-200 p-4",children:[e.jsx("p",{className:"text-xs text-purple-600 mb-1",children:"Komisyon"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-700",children:[s.commission.toLocaleString("tr-TR"),"₺"]}),e.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:["%",(s.commission/s.totalAmount*100).toFixed(0)]})]}),e.jsxs("div",{className:"bg-orange-50 rounded-xl border-2 border-orange-200 p-4",children:[e.jsx("p",{className:"text-xs text-orange-600 mb-1",children:"Partner Kazancı"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-700",children:[s.partnerEarning.toLocaleString("tr-TR"),"₺"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Ödeme Yöntemi"}),e.jsx("p",{className:"font-bold text-slate-900",children:s.paymentMethod==="kredi_karti"?"Kredi Kartı":s.paymentMethod==="nakit"?"Nakit":"Havale"})]}),s.rating&&e.jsxs("div",{className:"bg-yellow-50 rounded-xl border-2 border-yellow-200 p-4",children:[e.jsx("p",{className:"text-xs text-yellow-600 mb-2",children:"Müşteri Puanı"}),e.jsxs("p",{className:"text-2xl font-bold text-yellow-700",children:["★ ",s.rating,"/5"]})]})]})]})]})})]})};export{W as default};
