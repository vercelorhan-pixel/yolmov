const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AboutPage-CP4FA5dk.js","assets/target-CicNdFid.js","assets/award-ButtYnbT.js","assets/heart-SRiR_2Tc.js","assets/shield-mfuqnmQM.js","assets/trending-up-wrhndyT0.js","assets/ServicesPage-X49ibGpc.js","assets/battery-sqCS1I5B.js","assets/dollar-sign-BNVnrkCn.js","assets/FAQPage-DJrQyani.js","assets/chevron-up-DkMfcIn1.js","assets/ContactPage-CN5mmYKv.js","assets/message-circle-CavlSZlj.js","assets/send-rbmPml7Q.js","assets/CareerPage-2I9zGgz9.js","assets/globe-BufczpgG.js","assets/BlogPage-DdjuDF4q.js","assets/calendar-Lh3F_YmX.js","assets/tag-DOMR4bPM.js","assets/CampaignsPage-B20tphLq.js","assets/arrow-left-D1CxbVsr.js","assets/gift-CSTHy71j.js","assets/percent-WmpFDv5-.js","assets/CampaignDetailPage-DtwfHjxZ.js","assets/circle-check-big-sg5OY277.js","assets/LoginPage-CqZGK58T.js","assets/notifications-C4ktqGmm.js","assets/star-mvGVIAcY.js","assets/lock-DoQ5Y6Lg.js","assets/eye-off-CyRULlFr.js","assets/eye-CeTgZY1s.js","assets/AuthRequiredPage-CDFaOYs6.js","assets/user-plus-DGCWqxBW.js","assets/PartnerRegisterPage-Cd1B9bu-.js","assets/imageCompression-Bm6Dowu7.js","assets/UIComponents-Bv1QMCIW.js","assets/mail-CQBfpc4w.js","assets/circle-check-Dat2H0eI.js","assets/zap-CHjmVVNk.js","assets/PartnerDashboard-C24_MB3L.js","assets/file-text-IGbNVipY.js","assets/filter-C36N-dZ2.js","assets/credit-card-Dn7AGz86.js","assets/download-BzlDE84l.js","assets/useToast-DI3H3mH0.js","assets/image-DY0qsTnj.js","assets/info-D_NpcC1o.js","assets/circle-alert-Byh1_fn8.js","assets/trash-2-Cu5efWoi.js","assets/plus-CG497KVV.js","assets/pen-DloyuzVP.js","assets/showcaseSanitizer-CU8VnsaU.js","assets/wallet-Olf2C61t.js","assets/save-B_BnAJVe.js","assets/message-square-BD1ZRRx2.js","assets/phone-missed-C5mglyPb.js","assets/camera-B2hxxwQA.js","assets/circle-help-D_3aFw1R.js","assets/building-Dk9_yZ60.js","assets/map-DDwZAm-b.js","assets/route-D-KJrepT.js","assets/log-out-CWvpzuTM.js","assets/CustomerProfilePage-DGq271X5.js","assets/package--2GiEqrc.js","assets/OffersPanel-P3jIxUdC.js","assets/ban-Cpcb0UCL.js","assets/QuotePage-ClDy7zce.js","assets/bus-DPPbtR9B.js","assets/activity-DjNDqzZR.js","assets/ListingPage-CWpm2aQs.js","assets/ProviderDetailPage-BDFtDUxR.js","assets/AdminLoginPage-3EVYVbYR.js","assets/AdminSignupPage-f2HnRZ3w.js","assets/AdminDashboard-Qmk8MNwN.js","assets/StatusBadge-CweH1gIT.js","assets/square-pen-CRtKCtfU.js","assets/AdminSystemLogs-Dn5OUXwT.js","assets/AdminUserDetailPage-KlZVDGv6.js","assets/AdminPartnerDetailPage-DFgz8lhC.js","assets/AdminRequestDetailPage-C-NSWZZK.js","assets/AdminOfferDetailPage-Cocqu_hX.js","assets/AdminFleetDetailPage-C146J0er.js","assets/AdminReviewDetailPage-CkoeTPdE.js","assets/AdminLeadRequestDetailPage-Csyiqslt.js","assets/AdminAreaRequestDetailPage-fUmxmIfO.js","assets/AdminSupportRequestDetailPage-BU-LY1IW.js","assets/NotificationTestPage-CFmknB98.js","assets/EmailConfirmationPage-HqW5b6sA.js","assets/PrivacyPolicyPage-BCkl2Ppk.js","assets/TermsOfServicePage-DHcB4j_r.js","assets/NotFoundPage-WjDJObQ1.js","assets/SEOServicePage-I6bT4O8m.js","assets/EmergencyFloatingButton-g2PciI9b.js","assets/seoData-Du2GTARr.js","assets/calculator-D9Vy528v.js","assets/SEOStatsPage-BZiOw_Ab.js","assets/external-link-CC0wdEXX.js","assets/SEOBrandPage-Cyxfg16M.js","assets/PartnerSEOPage-DILjHI6w.js","assets/PriceCalculatorWizard-BZcc-VdE.js","assets/priceCalculator-Bv36E9gB.js","assets/PasswordSetupPage-DO-8gtPb.js","assets/PartnerReviewPendingPage-C_00HJGD.js","assets/SpecialVehiclePage-DfMUtdM0.js","assets/OnDutyPage-BQSp2SB4.js","assets/IntercityPage-CGni0oPO.js","assets/SpecialLocationPage-NaZMtnNl.js","assets/PricingPage-D8GfwcT1.js"])))=>i.map(i=>d[i]);
var Rx=Object.defineProperty;var jx=(t,e,r)=>e in t?Rx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Sn=(t,e,r)=>jx(t,typeof e!="symbol"?e+"":e,r);function rv(t,e){for(var r=0;r<e.length;r++){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(i,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var Rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ma(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var a=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:function(){return t[i]}})}),r}var kc={exports:{}},Bs={},Ec={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function Ox(){if(Rm)return Ke;Rm=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),m=Symbol.iterator;function v(V){return V===null||typeof V!="object"?null:(V=m&&V[m]||V["@@iterator"],typeof V=="function"?V:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function C(V,H,ce){this.props=V,this.context=H,this.refs=E,this.updater=ce||b}C.prototype.isReactComponent={},C.prototype.setState=function(V,H){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,H,"setState")},C.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function P(){}P.prototype=C.prototype;function N(V,H,ce){this.props=V,this.context=H,this.refs=E,this.updater=ce||b}var k=N.prototype=new P;k.constructor=N,x(k,C.prototype),k.isPureReactComponent=!0;var R=Array.isArray,j=Object.prototype.hasOwnProperty,D={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function M(V,H,ce){var ne,Z={},he=null,_e=null;if(H!=null)for(ne in H.ref!==void 0&&(_e=H.ref),H.key!==void 0&&(he=""+H.key),H)j.call(H,ne)&&!O.hasOwnProperty(ne)&&(Z[ne]=H[ne]);var Me=arguments.length-2;if(Me===1)Z.children=ce;else if(1<Me){for(var Fe=Array(Me),We=0;We<Me;We++)Fe[We]=arguments[We+2];Z.children=Fe}if(V&&V.defaultProps)for(ne in Me=V.defaultProps,Me)Z[ne]===void 0&&(Z[ne]=Me[ne]);return{$$typeof:t,type:V,key:he,ref:_e,props:Z,_owner:D.current}}function Q(V,H){return{$$typeof:t,type:V.type,key:H,ref:V.ref,props:V.props,_owner:V._owner}}function z(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function q(V){var H={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ce){return H[ce]})}var re=/\/+/g;function ue(V,H){return typeof V=="object"&&V!==null&&V.key!=null?q(""+V.key):H.toString(36)}function xe(V,H,ce,ne,Z){var he=typeof V;(he==="undefined"||he==="boolean")&&(V=null);var _e=!1;if(V===null)_e=!0;else switch(he){case"string":case"number":_e=!0;break;case"object":switch(V.$$typeof){case t:case e:_e=!0}}if(_e)return _e=V,Z=Z(_e),V=ne===""?"."+ue(_e,0):ne,R(Z)?(ce="",V!=null&&(ce=V.replace(re,"$&/")+"/"),xe(Z,H,ce,"",function(We){return We})):Z!=null&&(z(Z)&&(Z=Q(Z,ce+(!Z.key||_e&&_e.key===Z.key?"":(""+Z.key).replace(re,"$&/")+"/")+V)),H.push(Z)),1;if(_e=0,ne=ne===""?".":ne+":",R(V))for(var Me=0;Me<V.length;Me++){he=V[Me];var Fe=ne+ue(he,Me);_e+=xe(he,H,ce,Fe,Z)}else if(Fe=v(V),typeof Fe=="function")for(V=Fe.call(V),Me=0;!(he=V.next()).done;)he=he.value,Fe=ne+ue(he,Me++),_e+=xe(he,H,ce,Fe,Z);else if(he==="object")throw H=String(V),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return _e}function Pe(V,H,ce){if(V==null)return V;var ne=[],Z=0;return xe(V,ne,"","",function(he){return H.call(ce,he,Z++)}),ne}function Re(V){if(V._status===-1){var H=V._result;H=H(),H.then(function(ce){(V._status===0||V._status===-1)&&(V._status=1,V._result=ce)},function(ce){(V._status===0||V._status===-1)&&(V._status=2,V._result=ce)}),V._status===-1&&(V._status=0,V._result=H)}if(V._status===1)return V._result.default;throw V._result}var Se={current:null},oe={transition:null},se={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:oe,ReactCurrentOwner:D};function me(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:Pe,forEach:function(V,H,ce){Pe(V,function(){H.apply(this,arguments)},ce)},count:function(V){var H=0;return Pe(V,function(){H++}),H},toArray:function(V){return Pe(V,function(H){return H})||[]},only:function(V){if(!z(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ke.Component=C,Ke.Fragment=r,Ke.Profiler=a,Ke.PureComponent=N,Ke.StrictMode=i,Ke.Suspense=d,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Ke.act=me,Ke.cloneElement=function(V,H,ce){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var ne=x({},V.props),Z=V.key,he=V.ref,_e=V._owner;if(H!=null){if(H.ref!==void 0&&(he=H.ref,_e=D.current),H.key!==void 0&&(Z=""+H.key),V.type&&V.type.defaultProps)var Me=V.type.defaultProps;for(Fe in H)j.call(H,Fe)&&!O.hasOwnProperty(Fe)&&(ne[Fe]=H[Fe]===void 0&&Me!==void 0?Me[Fe]:H[Fe])}var Fe=arguments.length-2;if(Fe===1)ne.children=ce;else if(1<Fe){Me=Array(Fe);for(var We=0;We<Fe;We++)Me[We]=arguments[We+2];ne.children=Me}return{$$typeof:t,type:V.type,key:Z,ref:he,props:ne,_owner:_e}},Ke.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:o,_context:V},V.Consumer=V},Ke.createElement=M,Ke.createFactory=function(V){var H=M.bind(null,V);return H.type=V,H},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(V){return{$$typeof:c,render:V}},Ke.isValidElement=z,Ke.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:Re}},Ke.memo=function(V,H){return{$$typeof:f,type:V,compare:H===void 0?null:H}},Ke.startTransition=function(V){var H=oe.transition;oe.transition={};try{V()}finally{oe.transition=H}},Ke.unstable_act=me,Ke.useCallback=function(V,H){return Se.current.useCallback(V,H)},Ke.useContext=function(V){return Se.current.useContext(V)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(V){return Se.current.useDeferredValue(V)},Ke.useEffect=function(V,H){return Se.current.useEffect(V,H)},Ke.useId=function(){return Se.current.useId()},Ke.useImperativeHandle=function(V,H,ce){return Se.current.useImperativeHandle(V,H,ce)},Ke.useInsertionEffect=function(V,H){return Se.current.useInsertionEffect(V,H)},Ke.useLayoutEffect=function(V,H){return Se.current.useLayoutEffect(V,H)},Ke.useMemo=function(V,H){return Se.current.useMemo(V,H)},Ke.useReducer=function(V,H,ce){return Se.current.useReducer(V,H,ce)},Ke.useRef=function(V){return Se.current.useRef(V)},Ke.useState=function(V){return Se.current.useState(V)},Ke.useSyncExternalStore=function(V,H,ce){return Se.current.useSyncExternalStore(V,H,ce)},Ke.useTransition=function(){return Se.current.useTransition()},Ke.version="18.3.1",Ke}var jm;function Vd(){return jm||(jm=1,Ec.exports=Ox()),Ec.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function Nx(){if(Om)return Bs;Om=1;var t=Vd(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function u(c,d,f){var y,m={},v=null,b=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(b=d.ref);for(y in d)i.call(d,y)&&!o.hasOwnProperty(y)&&(m[y]=d[y]);if(c&&c.defaultProps)for(y in d=c.defaultProps,d)m[y]===void 0&&(m[y]=d[y]);return{$$typeof:e,type:c,key:v,ref:b,props:m,_owner:a.current}}return Bs.Fragment=r,Bs.jsx=u,Bs.jsxs=u,Bs}var Nm;function Ix(){return Nm||(Nm=1,kc.exports=Nx()),kc.exports}var w=Ix(),B=Vd();const Le=Sl(B),Dx=rv({__proto__:null,default:Le},[B]);var Ro={},Cc={exports:{}},Gt={},Tc={exports:{}},Ac={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function Lx(){return Im||(Im=1,(function(t){function e(oe,se){var me=oe.length;oe.push(se);e:for(;0<me;){var V=me-1>>>1,H=oe[V];if(0<a(H,se))oe[V]=se,oe[me]=H,me=V;else break e}}function r(oe){return oe.length===0?null:oe[0]}function i(oe){if(oe.length===0)return null;var se=oe[0],me=oe.pop();if(me!==se){oe[0]=me;e:for(var V=0,H=oe.length,ce=H>>>1;V<ce;){var ne=2*(V+1)-1,Z=oe[ne],he=ne+1,_e=oe[he];if(0>a(Z,me))he<H&&0>a(_e,Z)?(oe[V]=_e,oe[he]=me,V=he):(oe[V]=Z,oe[ne]=me,V=ne);else if(he<H&&0>a(_e,me))oe[V]=_e,oe[he]=me,V=he;else break e}}return se}function a(oe,se){var me=oe.sortIndex-se.sortIndex;return me!==0?me:oe.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var d=[],f=[],y=1,m=null,v=3,b=!1,x=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(oe){for(var se=r(f);se!==null;){if(se.callback===null)i(f);else if(se.startTime<=oe)i(f),se.sortIndex=se.expirationTime,e(d,se);else break;se=r(f)}}function R(oe){if(E=!1,k(oe),!x)if(r(d)!==null)x=!0,Re(j);else{var se=r(f);se!==null&&Se(R,se.startTime-oe)}}function j(oe,se){x=!1,E&&(E=!1,P(M),M=-1),b=!0;var me=v;try{for(k(se),m=r(d);m!==null&&(!(m.expirationTime>se)||oe&&!q());){var V=m.callback;if(typeof V=="function"){m.callback=null,v=m.priorityLevel;var H=V(m.expirationTime<=se);se=t.unstable_now(),typeof H=="function"?m.callback=H:m===r(d)&&i(d),k(se)}else i(d);m=r(d)}if(m!==null)var ce=!0;else{var ne=r(f);ne!==null&&Se(R,ne.startTime-se),ce=!1}return ce}finally{m=null,v=me,b=!1}}var D=!1,O=null,M=-1,Q=5,z=-1;function q(){return!(t.unstable_now()-z<Q)}function re(){if(O!==null){var oe=t.unstable_now();z=oe;var se=!0;try{se=O(!0,oe)}finally{se?ue():(D=!1,O=null)}}else D=!1}var ue;if(typeof N=="function")ue=function(){N(re)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Pe=xe.port2;xe.port1.onmessage=re,ue=function(){Pe.postMessage(null)}}else ue=function(){C(re,0)};function Re(oe){O=oe,D||(D=!0,ue())}function Se(oe,se){M=C(function(){oe(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_continueExecution=function(){x||b||(x=!0,Re(j))},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(oe){switch(v){case 1:case 2:case 3:var se=3;break;default:se=v}var me=v;v=se;try{return oe()}finally{v=me}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(oe,se){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var me=v;v=oe;try{return se()}finally{v=me}},t.unstable_scheduleCallback=function(oe,se,me){var V=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?V+me:V):me=V,oe){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=me+H,oe={id:y++,callback:se,priorityLevel:oe,startTime:me,expirationTime:H,sortIndex:-1},me>V?(oe.sortIndex=me,e(f,oe),r(d)===null&&oe===r(f)&&(E?(P(M),M=-1):E=!0,Se(R,me-V))):(oe.sortIndex=H,e(d,oe),x||b||(x=!0,Re(j))),oe},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(oe){var se=v;return function(){var me=v;v=se;try{return oe.apply(this,arguments)}finally{v=me}}}})(Ac)),Ac}var Dm;function Mx(){return Dm||(Dm=1,Tc.exports=Lx()),Tc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function zx(){if(Lm)return Gt;Lm=1;var t=Vd(),e=Mx();function r(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function o(n,s){u(n,s),u(n+"Capture",s)}function u(n,s){for(a[n]=s,n=0;n<s.length;n++)i.add(s[n])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},m={};function v(n){return d.call(m,n)?!0:d.call(y,n)?!1:f.test(n)?m[n]=!0:(y[n]=!0,!1)}function b(n,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function x(n,s,l,h){if(s===null||typeof s>"u"||b(n,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function E(n,s,l,h,g,_,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=l,this.propertyName=n,this.type=s,this.sanitizeURL=_,this.removeEmptyString=T}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){C[n]=new E(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];C[s]=new E(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){C[n]=new E(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){C[n]=new E(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){C[n]=new E(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){C[n]=new E(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){C[n]=new E(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){C[n]=new E(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){C[n]=new E(n,5,!1,n.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function N(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(P,N);C[s]=new E(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(P,N);C[s]=new E(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(P,N);C[s]=new E(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){C[n]=new E(n,1,!1,n.toLowerCase(),null,!1,!1)}),C.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){C[n]=new E(n,1,!1,n.toLowerCase(),null,!0,!0)});function k(n,s,l,h){var g=C.hasOwnProperty(s)?C[s]:null;(g!==null?g.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(x(s,l,g,h)&&(l=null),h||g===null?v(s)&&(l===null?n.removeAttribute(s):n.setAttribute(s,""+l)):g.mustUseProperty?n[g.propertyName]=l===null?g.type===3?!1:"":l:(s=g.attributeName,h=g.attributeNamespace,l===null?n.removeAttribute(s):(g=g.type,l=g===3||g===4&&l===!0?"":""+l,h?n.setAttributeNS(h,s,l):n.setAttribute(s,l))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),D=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),q=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),oe=Symbol.iterator;function se(n){return n===null||typeof n!="object"?null:(n=oe&&n[oe]||n["@@iterator"],typeof n=="function"?n:null)}var me=Object.assign,V;function H(n){if(V===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);V=s&&s[1]||""}return`
`+V+n}var ce=!1;function ne(n,s){if(!n||ce)return"";ce=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(X){var h=X}Reflect.construct(n,[],s)}else{try{s.call()}catch(X){h=X}n.call(s.prototype)}else{try{throw Error()}catch(X){h=X}n()}}catch(X){if(X&&h&&typeof X.stack=="string"){for(var g=X.stack.split(`
`),_=h.stack.split(`
`),T=g.length-1,L=_.length-1;1<=T&&0<=L&&g[T]!==_[L];)L--;for(;1<=T&&0<=L;T--,L--)if(g[T]!==_[L]){if(T!==1||L!==1)do if(T--,L--,0>L||g[T]!==_[L]){var U=`
`+g[T].replace(" at new "," at ");return n.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",n.displayName)),U}while(1<=T&&0<=L);break}}}finally{ce=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?H(n):""}function Z(n){switch(n.tag){case 5:return H(n.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return n=ne(n.type,!1),n;case 11:return n=ne(n.type.render,!1),n;case 1:return n=ne(n.type,!0),n;default:return""}}function he(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case O:return"Fragment";case D:return"Portal";case Q:return"Profiler";case M:return"StrictMode";case ue:return"Suspense";case xe:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case q:return(n.displayName||"Context")+".Consumer";case z:return(n._context.displayName||"Context")+".Provider";case re:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Pe:return s=n.displayName||null,s!==null?s:he(n.type)||"Memo";case Re:s=n._payload,n=n._init;try{return he(n(s))}catch{}}return null}function _e(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(s);case 8:return s===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Me(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Fe(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function We(n){var s=Fe(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),h=""+n[s];if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,_=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return g.call(this)},set:function(T){h=""+T,_.call(this,T)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function St(n){n._valueTracker||(n._valueTracker=We(n))}function ft(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return n&&(h=Fe(n)?n.checked?"true":"false":n.value),n=h,n!==l?(s.setValue(n),!0):!1}function at(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function kt(n,s){var l=s.checked;return me({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function Y(n,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Me(s.value!=null?s.value:l),n._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ee(n,s){s=s.checked,s!=null&&k(n,"checked",s,!1)}function fe(n,s){ee(n,s);var l=Me(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(h==="submit"||h==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?I(n,s.type,l):s.hasOwnProperty("defaultValue")&&I(n,s.type,Me(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Ae(n,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,l||s===n.value||(n.value=s),n.defaultValue=s}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function I(n,s,l){(s!=="number"||at(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var p=Array.isArray;function S(n,s,l,h){if(n=n.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<n.length;l++)g=s.hasOwnProperty("$"+n[l].value),n[l].selected!==g&&(n[l].selected=g),g&&h&&(n[l].defaultSelected=!0)}else{for(l=""+Me(l),s=null,g=0;g<n.length;g++){if(n[g].value===l){n[g].selected=!0,h&&(n[g].defaultSelected=!0);return}s!==null||n[g].disabled||(s=n[g])}s!==null&&(s.selected=!0)}}function A(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return me({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function F(n,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(r(92));if(p(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),l=s}n._wrapperState={initialValue:Me(l)}}function W(n,s){var l=Me(s.value),h=Me(s.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),s.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),h!=null&&(n.defaultValue=""+h)}function te(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Ee(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $e(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Ee(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Qe,Ve=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,g){MSApp.execUnsafeLocalFunction(function(){return n(s,l,h,g)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Qe=Qe||document.createElement("div"),Qe.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Qe.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Be(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var ot={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mr=["Webkit","ms","Moz","O"];Object.keys(ot).forEach(function(n){Mr.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),ot[s]=ot[n]})});function zr(n,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||ot.hasOwnProperty(n)&&ot[n]?(""+s).trim():s+"px"}function tn(n,s){n=n.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,g=zr(l,s[l],h);l==="float"&&(l="cssFloat"),h?n.setProperty(l,g):n[l]=g}}var rn=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kr(n,s){if(s){if(rn[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function Ml(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zl=null;function Ul(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Bl=null,ui=null,ci=null;function Wh(n){if(n=Es(n)){if(typeof Bl!="function")throw Error(r(280));var s=n.stateNode;s&&(s=qa(s),Bl(n.stateNode,n.type,s))}}function Hh(n){ui?ci?ci.push(n):ci=[n]:ui=n}function Gh(){if(ui){var n=ui,s=ci;if(ci=ui=null,Wh(n),s)for(n=0;n<s.length;n++)Wh(s[n])}}function Yh(n,s){return n(s)}function Jh(){}var Fl=!1;function Qh(n,s,l){if(Fl)return n(s,l);Fl=!0;try{return Yh(n,s,l)}finally{Fl=!1,(ui!==null||ci!==null)&&(Jh(),Gh())}}function is(n,s){var l=n.stateNode;if(l===null)return null;var h=qa(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var $l=!1;if(c)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){$l=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{$l=!1}function L_(n,s,l,h,g,_,T,L,U){var X=Array.prototype.slice.call(arguments,3);try{s.apply(l,X)}catch(le){this.onError(le)}}var as=!1,xa=null,Sa=!1,Vl=null,M_={onError:function(n){as=!0,xa=n}};function z_(n,s,l,h,g,_,T,L,U){as=!1,xa=null,L_.apply(M_,arguments)}function U_(n,s,l,h,g,_,T,L,U){if(z_.apply(this,arguments),as){if(as){var X=xa;as=!1,xa=null}else throw Error(r(198));Sa||(Sa=!0,Vl=X)}}function In(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function Xh(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function Zh(n){if(In(n)!==n)throw Error(r(188))}function B_(n){var s=n.alternate;if(!s){if(s=In(n),s===null)throw Error(r(188));return s!==n?null:n}for(var l=n,h=s;;){var g=l.return;if(g===null)break;var _=g.alternate;if(_===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===l)return Zh(g),n;if(_===h)return Zh(g),s;_=_.sibling}throw Error(r(188))}if(l.return!==h.return)l=g,h=_;else{for(var T=!1,L=g.child;L;){if(L===l){T=!0,l=g,h=_;break}if(L===h){T=!0,h=g,l=_;break}L=L.sibling}if(!T){for(L=_.child;L;){if(L===l){T=!0,l=_,h=g;break}if(L===h){T=!0,h=_,l=g;break}L=L.sibling}if(!T)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:s}function ef(n){return n=B_(n),n!==null?tf(n):null}function tf(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=tf(n);if(s!==null)return s;n=n.sibling}return null}var rf=e.unstable_scheduleCallback,nf=e.unstable_cancelCallback,F_=e.unstable_shouldYield,$_=e.unstable_requestPaint,pt=e.unstable_now,V_=e.unstable_getCurrentPriorityLevel,ql=e.unstable_ImmediatePriority,sf=e.unstable_UserBlockingPriority,ka=e.unstable_NormalPriority,q_=e.unstable_LowPriority,af=e.unstable_IdlePriority,Ea=null,Er=null;function K_(n){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(Ea,n,void 0,(n.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:G_,W_=Math.log,H_=Math.LN2;function G_(n){return n>>>=0,n===0?32:31-(W_(n)/H_|0)|0}var Ca=64,Ta=4194304;function os(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Aa(n,s){var l=n.pendingLanes;if(l===0)return 0;var h=0,g=n.suspendedLanes,_=n.pingedLanes,T=l&268435455;if(T!==0){var L=T&~g;L!==0?h=os(L):(_&=T,_!==0&&(h=os(_)))}else T=l&~g,T!==0?h=os(T):_!==0&&(h=os(_));if(h===0)return 0;if(s!==0&&s!==h&&(s&g)===0&&(g=h&-h,_=s&-s,g>=_||g===16&&(_&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=h;0<s;)l=31-hr(s),g=1<<l,h|=n[l],s&=~g;return h}function Y_(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J_(n,s){for(var l=n.suspendedLanes,h=n.pingedLanes,g=n.expirationTimes,_=n.pendingLanes;0<_;){var T=31-hr(_),L=1<<T,U=g[T];U===-1?((L&l)===0||(L&h)!==0)&&(g[T]=Y_(L,s)):U<=s&&(n.expiredLanes|=L),_&=~L}}function Kl(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function of(){var n=Ca;return Ca<<=1,(Ca&4194240)===0&&(Ca=64),n}function Wl(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function ls(n,s,l){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-hr(s),n[s]=l}function Q_(n,s){var l=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var h=n.eventTimes;for(n=n.expirationTimes;0<l;){var g=31-hr(l),_=1<<g;s[g]=0,h[g]=-1,n[g]=-1,l&=~_}}function Hl(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var h=31-hr(l),g=1<<h;g&s|n[h]&s&&(n[h]|=s),l&=~g}}var Xe=0;function lf(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var uf,Gl,cf,df,hf,Yl=!1,Pa=[],nn=null,sn=null,an=null,us=new Map,cs=new Map,on=[],X_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ff(n,s){switch(n){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":sn=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":us.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":cs.delete(s.pointerId)}}function ds(n,s,l,h,g,_){return n===null||n.nativeEvent!==_?(n={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[g]},s!==null&&(s=Es(s),s!==null&&Gl(s)),n):(n.eventSystemFlags|=h,s=n.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),n)}function Z_(n,s,l,h,g){switch(s){case"focusin":return nn=ds(nn,n,s,l,h,g),!0;case"dragenter":return sn=ds(sn,n,s,l,h,g),!0;case"mouseover":return an=ds(an,n,s,l,h,g),!0;case"pointerover":var _=g.pointerId;return us.set(_,ds(us.get(_)||null,n,s,l,h,g)),!0;case"gotpointercapture":return _=g.pointerId,cs.set(_,ds(cs.get(_)||null,n,s,l,h,g)),!0}return!1}function pf(n){var s=Dn(n.target);if(s!==null){var l=In(s);if(l!==null){if(s=l.tag,s===13){if(s=Xh(l),s!==null){n.blockedOn=s,hf(n.priority,function(){cf(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ra(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=Ql(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var h=new l.constructor(l.type,l);zl=h,l.target.dispatchEvent(h),zl=null}else return s=Es(l),s!==null&&Gl(s),n.blockedOn=l,!1;s.shift()}return!0}function mf(n,s,l){Ra(n)&&l.delete(s)}function eb(){Yl=!1,nn!==null&&Ra(nn)&&(nn=null),sn!==null&&Ra(sn)&&(sn=null),an!==null&&Ra(an)&&(an=null),us.forEach(mf),cs.forEach(mf)}function hs(n,s){n.blockedOn===s&&(n.blockedOn=null,Yl||(Yl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,eb)))}function fs(n){function s(g){return hs(g,n)}if(0<Pa.length){hs(Pa[0],n);for(var l=1;l<Pa.length;l++){var h=Pa[l];h.blockedOn===n&&(h.blockedOn=null)}}for(nn!==null&&hs(nn,n),sn!==null&&hs(sn,n),an!==null&&hs(an,n),us.forEach(s),cs.forEach(s),l=0;l<on.length;l++)h=on[l],h.blockedOn===n&&(h.blockedOn=null);for(;0<on.length&&(l=on[0],l.blockedOn===null);)pf(l),l.blockedOn===null&&on.shift()}var di=R.ReactCurrentBatchConfig,ja=!0;function tb(n,s,l,h){var g=Xe,_=di.transition;di.transition=null;try{Xe=1,Jl(n,s,l,h)}finally{Xe=g,di.transition=_}}function rb(n,s,l,h){var g=Xe,_=di.transition;di.transition=null;try{Xe=4,Jl(n,s,l,h)}finally{Xe=g,di.transition=_}}function Jl(n,s,l,h){if(ja){var g=Ql(n,s,l,h);if(g===null)pu(n,s,h,Oa,l),ff(n,h);else if(Z_(g,n,s,l,h))h.stopPropagation();else if(ff(n,h),s&4&&-1<X_.indexOf(n)){for(;g!==null;){var _=Es(g);if(_!==null&&uf(_),_=Ql(n,s,l,h),_===null&&pu(n,s,h,Oa,l),_===g)break;g=_}g!==null&&h.stopPropagation()}else pu(n,s,h,null,l)}}var Oa=null;function Ql(n,s,l,h){if(Oa=null,n=Ul(h),n=Dn(n),n!==null)if(s=In(n),s===null)n=null;else if(l=s.tag,l===13){if(n=Xh(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Oa=n,null}function gf(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(V_()){case ql:return 1;case sf:return 4;case ka:case q_:return 16;case af:return 536870912;default:return 16}default:return 16}}var ln=null,Xl=null,Na=null;function yf(){if(Na)return Na;var n,s=Xl,l=s.length,h,g="value"in ln?ln.value:ln.textContent,_=g.length;for(n=0;n<l&&s[n]===g[n];n++);var T=l-n;for(h=1;h<=T&&s[l-h]===g[_-h];h++);return Na=g.slice(n,1<h?1-h:void 0)}function Ia(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Da(){return!0}function vf(){return!1}function Qt(n){function s(l,h,g,_,T){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var L in n)n.hasOwnProperty(L)&&(l=n[L],this[L]=l?l(_):_[L]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Da:vf,this.isPropagationStopped=vf,this}return me(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Da)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Da)},persist:function(){},isPersistent:Da}),s}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zl=Qt(hi),ps=me({},hi,{view:0,detail:0}),nb=Qt(ps),eu,tu,ms,La=me({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ms&&(ms&&n.type==="mousemove"?(eu=n.screenX-ms.screenX,tu=n.screenY-ms.screenY):tu=eu=0,ms=n),eu)},movementY:function(n){return"movementY"in n?n.movementY:tu}}),wf=Qt(La),ib=me({},La,{dataTransfer:0}),sb=Qt(ib),ab=me({},ps,{relatedTarget:0}),ru=Qt(ab),ob=me({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),lb=Qt(ob),ub=me({},hi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),cb=Qt(ub),db=me({},hi,{data:0}),_f=Qt(db),hb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mb(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=pb[n])?!!s[n]:!1}function nu(){return mb}var gb=me({},ps,{key:function(n){if(n.key){var s=hb[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ia(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?fb[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nu,charCode:function(n){return n.type==="keypress"?Ia(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ia(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),yb=Qt(gb),vb=me({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bf=Qt(vb),wb=me({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nu}),_b=Qt(wb),bb=me({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),xb=Qt(bb),Sb=me({},La,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),kb=Qt(Sb),Eb=[9,13,27,32],iu=c&&"CompositionEvent"in window,gs=null;c&&"documentMode"in document&&(gs=document.documentMode);var Cb=c&&"TextEvent"in window&&!gs,xf=c&&(!iu||gs&&8<gs&&11>=gs),Sf=" ",kf=!1;function Ef(n,s){switch(n){case"keyup":return Eb.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var fi=!1;function Tb(n,s){switch(n){case"compositionend":return Cf(s);case"keypress":return s.which!==32?null:(kf=!0,Sf);case"textInput":return n=s.data,n===Sf&&kf?null:n;default:return null}}function Ab(n,s){if(fi)return n==="compositionend"||!iu&&Ef(n,s)?(n=yf(),Na=Xl=ln=null,fi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return xf&&s.locale!=="ko"?null:s.data;default:return null}}var Pb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Pb[n.type]:s==="textarea"}function Af(n,s,l,h){Hh(h),s=Fa(s,"onChange"),0<s.length&&(l=new Zl("onChange","change",null,l,h),n.push({event:l,listeners:s}))}var ys=null,vs=null;function Rb(n){Wf(n,0)}function Ma(n){var s=vi(n);if(ft(s))return n}function jb(n,s){if(n==="change")return s}var Pf=!1;if(c){var su;if(c){var au="oninput"in document;if(!au){var Rf=document.createElement("div");Rf.setAttribute("oninput","return;"),au=typeof Rf.oninput=="function"}su=au}else su=!1;Pf=su&&(!document.documentMode||9<document.documentMode)}function jf(){ys&&(ys.detachEvent("onpropertychange",Of),vs=ys=null)}function Of(n){if(n.propertyName==="value"&&Ma(vs)){var s=[];Af(s,vs,n,Ul(n)),Qh(Rb,s)}}function Ob(n,s,l){n==="focusin"?(jf(),ys=s,vs=l,ys.attachEvent("onpropertychange",Of)):n==="focusout"&&jf()}function Nb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ma(vs)}function Ib(n,s){if(n==="click")return Ma(s)}function Db(n,s){if(n==="input"||n==="change")return Ma(s)}function Lb(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var fr=typeof Object.is=="function"?Object.is:Lb;function ws(n,s){if(fr(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!d.call(s,g)||!fr(n[g],s[g]))return!1}return!0}function Nf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function If(n,s){var l=Nf(n);n=0;for(var h;l;){if(l.nodeType===3){if(h=n+l.textContent.length,n<=s&&h>=s)return{node:l,offset:s-n};n=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Nf(l)}}function Df(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Df(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Lf(){for(var n=window,s=at();s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=at(n.document)}return s}function ou(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function Mb(n){var s=Lf(),l=n.focusedElem,h=n.selectionRange;if(s!==l&&l&&l.ownerDocument&&Df(l.ownerDocument.documentElement,l)){if(h!==null&&ou(l)){if(s=h.start,n=h.end,n===void 0&&(n=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(n,l.value.length);else if(n=(s=l.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var g=l.textContent.length,_=Math.min(h.start,g);h=h.end===void 0?_:Math.min(h.end,g),!n.extend&&_>h&&(g=h,h=_,_=g),g=If(l,_);var T=If(l,h);g&&T&&(n.rangeCount!==1||n.anchorNode!==g.node||n.anchorOffset!==g.offset||n.focusNode!==T.node||n.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(g.node,g.offset),n.removeAllRanges(),_>h?(n.addRange(s),n.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),n.addRange(s)))}}for(s=[],n=l;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)n=s[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var zb=c&&"documentMode"in document&&11>=document.documentMode,pi=null,lu=null,_s=null,uu=!1;function Mf(n,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;uu||pi==null||pi!==at(h)||(h=pi,"selectionStart"in h&&ou(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),_s&&ws(_s,h)||(_s=h,h=Fa(lu,"onSelect"),0<h.length&&(s=new Zl("onSelect","select",null,s,l),n.push({event:s,listeners:h}),s.target=pi)))}function za(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var mi={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionend:za("Transition","TransitionEnd")},cu={},zf={};c&&(zf=document.createElement("div").style,"AnimationEvent"in window||(delete mi.animationend.animation,delete mi.animationiteration.animation,delete mi.animationstart.animation),"TransitionEvent"in window||delete mi.transitionend.transition);function Ua(n){if(cu[n])return cu[n];if(!mi[n])return n;var s=mi[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in zf)return cu[n]=s[l];return n}var Uf=Ua("animationend"),Bf=Ua("animationiteration"),Ff=Ua("animationstart"),$f=Ua("transitionend"),Vf=new Map,qf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function un(n,s){Vf.set(n,s),o(s,[n])}for(var du=0;du<qf.length;du++){var hu=qf[du],Ub=hu.toLowerCase(),Bb=hu[0].toUpperCase()+hu.slice(1);un(Ub,"on"+Bb)}un(Uf,"onAnimationEnd"),un(Bf,"onAnimationIteration"),un(Ff,"onAnimationStart"),un("dblclick","onDoubleClick"),un("focusin","onFocus"),un("focusout","onBlur"),un($f,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fb=new Set("cancel close invalid load scroll toggle".split(" ").concat(bs));function Kf(n,s,l){var h=n.type||"unknown-event";n.currentTarget=l,U_(h,s,void 0,n),n.currentTarget=null}function Wf(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var h=n[l],g=h.event;h=h.listeners;e:{var _=void 0;if(s)for(var T=h.length-1;0<=T;T--){var L=h[T],U=L.instance,X=L.currentTarget;if(L=L.listener,U!==_&&g.isPropagationStopped())break e;Kf(g,L,X),_=U}else for(T=0;T<h.length;T++){if(L=h[T],U=L.instance,X=L.currentTarget,L=L.listener,U!==_&&g.isPropagationStopped())break e;Kf(g,L,X),_=U}}}if(Sa)throw n=Vl,Sa=!1,Vl=null,n}function tt(n,s){var l=s[_u];l===void 0&&(l=s[_u]=new Set);var h=n+"__bubble";l.has(h)||(Hf(s,n,2,!1),l.add(h))}function fu(n,s,l){var h=0;s&&(h|=4),Hf(l,n,h,s)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function xs(n){if(!n[Ba]){n[Ba]=!0,i.forEach(function(l){l!=="selectionchange"&&(Fb.has(l)||fu(l,!1,n),fu(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Ba]||(s[Ba]=!0,fu("selectionchange",!1,s))}}function Hf(n,s,l,h){switch(gf(s)){case 1:var g=tb;break;case 4:g=rb;break;default:g=Jl}l=g.bind(null,s,l,n),g=void 0,!$l||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),h?g!==void 0?n.addEventListener(s,l,{capture:!0,passive:g}):n.addEventListener(s,l,!0):g!==void 0?n.addEventListener(s,l,{passive:g}):n.addEventListener(s,l,!1)}function pu(n,s,l,h,g){var _=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var L=h.stateNode.containerInfo;if(L===g||L.nodeType===8&&L.parentNode===g)break;if(T===4)for(T=h.return;T!==null;){var U=T.tag;if((U===3||U===4)&&(U=T.stateNode.containerInfo,U===g||U.nodeType===8&&U.parentNode===g))return;T=T.return}for(;L!==null;){if(T=Dn(L),T===null)return;if(U=T.tag,U===5||U===6){h=_=T;continue e}L=L.parentNode}}h=h.return}Qh(function(){var X=_,le=Ul(l),de=[];e:{var ae=Vf.get(n);if(ae!==void 0){var ye=Zl,be=n;switch(n){case"keypress":if(Ia(l)===0)break e;case"keydown":case"keyup":ye=yb;break;case"focusin":be="focus",ye=ru;break;case"focusout":be="blur",ye=ru;break;case"beforeblur":case"afterblur":ye=ru;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=wf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=sb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=_b;break;case Uf:case Bf:case Ff:ye=lb;break;case $f:ye=xb;break;case"scroll":ye=nb;break;case"wheel":ye=kb;break;case"copy":case"cut":case"paste":ye=cb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=bf}var ke=(s&4)!==0,mt=!ke&&n==="scroll",G=ke?ae!==null?ae+"Capture":null:ae;ke=[];for(var $=X,J;$!==null;){J=$;var pe=J.stateNode;if(J.tag===5&&pe!==null&&(J=pe,G!==null&&(pe=is($,G),pe!=null&&ke.push(Ss($,pe,J)))),mt)break;$=$.return}0<ke.length&&(ae=new ye(ae,be,null,l,le),de.push({event:ae,listeners:ke}))}}if((s&7)===0){e:{if(ae=n==="mouseover"||n==="pointerover",ye=n==="mouseout"||n==="pointerout",ae&&l!==zl&&(be=l.relatedTarget||l.fromElement)&&(Dn(be)||be[Ur]))break e;if((ye||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,ye?(be=l.relatedTarget||l.toElement,ye=X,be=be?Dn(be):null,be!==null&&(mt=In(be),be!==mt||be.tag!==5&&be.tag!==6)&&(be=null)):(ye=null,be=X),ye!==be)){if(ke=wf,pe="onMouseLeave",G="onMouseEnter",$="mouse",(n==="pointerout"||n==="pointerover")&&(ke=bf,pe="onPointerLeave",G="onPointerEnter",$="pointer"),mt=ye==null?ae:vi(ye),J=be==null?ae:vi(be),ae=new ke(pe,$+"leave",ye,l,le),ae.target=mt,ae.relatedTarget=J,pe=null,Dn(le)===X&&(ke=new ke(G,$+"enter",be,l,le),ke.target=J,ke.relatedTarget=mt,pe=ke),mt=pe,ye&&be)t:{for(ke=ye,G=be,$=0,J=ke;J;J=gi(J))$++;for(J=0,pe=G;pe;pe=gi(pe))J++;for(;0<$-J;)ke=gi(ke),$--;for(;0<J-$;)G=gi(G),J--;for(;$--;){if(ke===G||G!==null&&ke===G.alternate)break t;ke=gi(ke),G=gi(G)}ke=null}else ke=null;ye!==null&&Gf(de,ae,ye,ke,!1),be!==null&&mt!==null&&Gf(de,mt,be,ke,!0)}}e:{if(ae=X?vi(X):window,ye=ae.nodeName&&ae.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ae.type==="file")var Ce=jb;else if(Tf(ae))if(Pf)Ce=Db;else{Ce=Nb;var je=Ob}else(ye=ae.nodeName)&&ye.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Ce=Ib);if(Ce&&(Ce=Ce(n,X))){Af(de,Ce,l,le);break e}je&&je(n,ae,X),n==="focusout"&&(je=ae._wrapperState)&&je.controlled&&ae.type==="number"&&I(ae,"number",ae.value)}switch(je=X?vi(X):window,n){case"focusin":(Tf(je)||je.contentEditable==="true")&&(pi=je,lu=X,_s=null);break;case"focusout":_s=lu=pi=null;break;case"mousedown":uu=!0;break;case"contextmenu":case"mouseup":case"dragend":uu=!1,Mf(de,l,le);break;case"selectionchange":if(zb)break;case"keydown":case"keyup":Mf(de,l,le)}var Oe;if(iu)e:{switch(n){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else fi?Ef(n,l)&&(ze="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(ze="onCompositionStart");ze&&(xf&&l.locale!=="ko"&&(fi||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&fi&&(Oe=yf()):(ln=le,Xl="value"in ln?ln.value:ln.textContent,fi=!0)),je=Fa(X,ze),0<je.length&&(ze=new _f(ze,n,null,l,le),de.push({event:ze,listeners:je}),Oe?ze.data=Oe:(Oe=Cf(l),Oe!==null&&(ze.data=Oe)))),(Oe=Cb?Tb(n,l):Ab(n,l))&&(X=Fa(X,"onBeforeInput"),0<X.length&&(le=new _f("onBeforeInput","beforeinput",null,l,le),de.push({event:le,listeners:X}),le.data=Oe))}Wf(de,s)})}function Ss(n,s,l){return{instance:n,listener:s,currentTarget:l}}function Fa(n,s){for(var l=s+"Capture",h=[];n!==null;){var g=n,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=is(n,l),_!=null&&h.unshift(Ss(n,_,g)),_=is(n,s),_!=null&&h.push(Ss(n,_,g))),n=n.return}return h}function gi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Gf(n,s,l,h,g){for(var _=s._reactName,T=[];l!==null&&l!==h;){var L=l,U=L.alternate,X=L.stateNode;if(U!==null&&U===h)break;L.tag===5&&X!==null&&(L=X,g?(U=is(l,_),U!=null&&T.unshift(Ss(l,U,L))):g||(U=is(l,_),U!=null&&T.push(Ss(l,U,L)))),l=l.return}T.length!==0&&n.push({event:s,listeners:T})}var $b=/\r\n?/g,Vb=/\u0000|\uFFFD/g;function Yf(n){return(typeof n=="string"?n:""+n).replace($b,`
`).replace(Vb,"")}function $a(n,s,l){if(s=Yf(s),Yf(n)!==s&&l)throw Error(r(425))}function Va(){}var mu=null,gu=null;function yu(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var vu=typeof setTimeout=="function"?setTimeout:void 0,qb=typeof clearTimeout=="function"?clearTimeout:void 0,Jf=typeof Promise=="function"?Promise:void 0,Kb=typeof queueMicrotask=="function"?queueMicrotask:typeof Jf<"u"?function(n){return Jf.resolve(null).then(n).catch(Wb)}:vu;function Wb(n){setTimeout(function(){throw n})}function wu(n,s){var l=s,h=0;do{var g=l.nextSibling;if(n.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(h===0){n.removeChild(g),fs(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=g}while(l);fs(s)}function cn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Qf(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return n;s--}else l==="/$"&&s++}n=n.previousSibling}return null}var yi=Math.random().toString(36).slice(2),Cr="__reactFiber$"+yi,ks="__reactProps$"+yi,Ur="__reactContainer$"+yi,_u="__reactEvents$"+yi,Hb="__reactListeners$"+yi,Gb="__reactHandles$"+yi;function Dn(n){var s=n[Cr];if(s)return s;for(var l=n.parentNode;l;){if(s=l[Ur]||l[Cr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=Qf(n);n!==null;){if(l=n[Cr])return l;n=Qf(n)}return s}n=l,l=n.parentNode}return null}function Es(n){return n=n[Cr]||n[Ur],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function vi(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function qa(n){return n[ks]||null}var bu=[],wi=-1;function dn(n){return{current:n}}function rt(n){0>wi||(n.current=bu[wi],bu[wi]=null,wi--)}function Ze(n,s){wi++,bu[wi]=n.current,n.current=s}var hn={},Nt=dn(hn),Vt=dn(!1),Ln=hn;function _i(n,s){var l=n.type.contextTypes;if(!l)return hn;var h=n.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in l)g[_]=s[_];return h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=g),g}function qt(n){return n=n.childContextTypes,n!=null}function Ka(){rt(Vt),rt(Nt)}function Xf(n,s,l){if(Nt.current!==hn)throw Error(r(168));Ze(Nt,s),Ze(Vt,l)}function Zf(n,s,l){var h=n.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var g in h)if(!(g in s))throw Error(r(108,_e(n)||"Unknown",g));return me({},l,h)}function Wa(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||hn,Ln=Nt.current,Ze(Nt,n),Ze(Vt,Vt.current),!0}function ep(n,s,l){var h=n.stateNode;if(!h)throw Error(r(169));l?(n=Zf(n,s,Ln),h.__reactInternalMemoizedMergedChildContext=n,rt(Vt),rt(Nt),Ze(Nt,n)):rt(Vt),Ze(Vt,l)}var Br=null,Ha=!1,xu=!1;function tp(n){Br===null?Br=[n]:Br.push(n)}function Yb(n){Ha=!0,tp(n)}function fn(){if(!xu&&Br!==null){xu=!0;var n=0,s=Xe;try{var l=Br;for(Xe=1;n<l.length;n++){var h=l[n];do h=h(!0);while(h!==null)}Br=null,Ha=!1}catch(g){throw Br!==null&&(Br=Br.slice(n+1)),rf(ql,fn),g}finally{Xe=s,xu=!1}}return null}var bi=[],xi=0,Ga=null,Ya=0,ir=[],sr=0,Mn=null,Fr=1,$r="";function zn(n,s){bi[xi++]=Ya,bi[xi++]=Ga,Ga=n,Ya=s}function rp(n,s,l){ir[sr++]=Fr,ir[sr++]=$r,ir[sr++]=Mn,Mn=n;var h=Fr;n=$r;var g=32-hr(h)-1;h&=~(1<<g),l+=1;var _=32-hr(s)+g;if(30<_){var T=g-g%5;_=(h&(1<<T)-1).toString(32),h>>=T,g-=T,Fr=1<<32-hr(s)+g|l<<g|h,$r=_+n}else Fr=1<<_|l<<g|h,$r=n}function Su(n){n.return!==null&&(zn(n,1),rp(n,1,0))}function ku(n){for(;n===Ga;)Ga=bi[--xi],bi[xi]=null,Ya=bi[--xi],bi[xi]=null;for(;n===Mn;)Mn=ir[--sr],ir[sr]=null,$r=ir[--sr],ir[sr]=null,Fr=ir[--sr],ir[sr]=null}var Xt=null,Zt=null,it=!1,pr=null;function np(n,s){var l=ur(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=n,s=n.deletions,s===null?(n.deletions=[l],n.flags|=16):s.push(l)}function ip(n,s){switch(n.tag){case 5:var l=n.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,Xt=n,Zt=cn(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,Xt=n,Zt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Mn!==null?{id:Fr,overflow:$r}:null,n.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=ur(18,null,null,0),l.stateNode=s,l.return=n,n.child=l,Xt=n,Zt=null,!0):!1;default:return!1}}function Eu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Cu(n){if(it){var s=Zt;if(s){var l=s;if(!ip(n,s)){if(Eu(n))throw Error(r(418));s=cn(l.nextSibling);var h=Xt;s&&ip(n,s)?np(h,l):(n.flags=n.flags&-4097|2,it=!1,Xt=n)}}else{if(Eu(n))throw Error(r(418));n.flags=n.flags&-4097|2,it=!1,Xt=n}}}function sp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Xt=n}function Ja(n){if(n!==Xt)return!1;if(!it)return sp(n),it=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!yu(n.type,n.memoizedProps)),s&&(s=Zt)){if(Eu(n))throw ap(),Error(r(418));for(;s;)np(n,s),s=cn(s.nextSibling)}if(sp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(s===0){Zt=cn(n.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}n=n.nextSibling}Zt=null}}else Zt=Xt?cn(n.stateNode.nextSibling):null;return!0}function ap(){for(var n=Zt;n;)n=cn(n.nextSibling)}function Si(){Zt=Xt=null,it=!1}function Tu(n){pr===null?pr=[n]:pr.push(n)}var Jb=R.ReactCurrentBatchConfig;function Cs(n,s,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var h=l.stateNode}if(!h)throw Error(r(147,n));var g=h,_=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===_?s.ref:(s=function(T){var L=g.refs;T===null?delete L[_]:L[_]=T},s._stringRef=_,s)}if(typeof n!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,n))}return n}function Qa(n,s){throw n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function op(n){var s=n._init;return s(n._payload)}function lp(n){function s(G,$){if(n){var J=G.deletions;J===null?(G.deletions=[$],G.flags|=16):J.push($)}}function l(G,$){if(!n)return null;for(;$!==null;)s(G,$),$=$.sibling;return null}function h(G,$){for(G=new Map;$!==null;)$.key!==null?G.set($.key,$):G.set($.index,$),$=$.sibling;return G}function g(G,$){return G=bn(G,$),G.index=0,G.sibling=null,G}function _(G,$,J){return G.index=J,n?(J=G.alternate,J!==null?(J=J.index,J<$?(G.flags|=2,$):J):(G.flags|=2,$)):(G.flags|=1048576,$)}function T(G){return n&&G.alternate===null&&(G.flags|=2),G}function L(G,$,J,pe){return $===null||$.tag!==6?($=vc(J,G.mode,pe),$.return=G,$):($=g($,J),$.return=G,$)}function U(G,$,J,pe){var Ce=J.type;return Ce===O?le(G,$,J.props.children,pe,J.key):$!==null&&($.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===Re&&op(Ce)===$.type)?(pe=g($,J.props),pe.ref=Cs(G,$,J),pe.return=G,pe):(pe=xo(J.type,J.key,J.props,null,G.mode,pe),pe.ref=Cs(G,$,J),pe.return=G,pe)}function X(G,$,J,pe){return $===null||$.tag!==4||$.stateNode.containerInfo!==J.containerInfo||$.stateNode.implementation!==J.implementation?($=wc(J,G.mode,pe),$.return=G,$):($=g($,J.children||[]),$.return=G,$)}function le(G,$,J,pe,Ce){return $===null||$.tag!==7?($=Wn(J,G.mode,pe,Ce),$.return=G,$):($=g($,J),$.return=G,$)}function de(G,$,J){if(typeof $=="string"&&$!==""||typeof $=="number")return $=vc(""+$,G.mode,J),$.return=G,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case j:return J=xo($.type,$.key,$.props,null,G.mode,J),J.ref=Cs(G,null,$),J.return=G,J;case D:return $=wc($,G.mode,J),$.return=G,$;case Re:var pe=$._init;return de(G,pe($._payload),J)}if(p($)||se($))return $=Wn($,G.mode,J,null),$.return=G,$;Qa(G,$)}return null}function ae(G,$,J,pe){var Ce=$!==null?$.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Ce!==null?null:L(G,$,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case j:return J.key===Ce?U(G,$,J,pe):null;case D:return J.key===Ce?X(G,$,J,pe):null;case Re:return Ce=J._init,ae(G,$,Ce(J._payload),pe)}if(p(J)||se(J))return Ce!==null?null:le(G,$,J,pe,null);Qa(G,J)}return null}function ye(G,$,J,pe,Ce){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return G=G.get(J)||null,L($,G,""+pe,Ce);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case j:return G=G.get(pe.key===null?J:pe.key)||null,U($,G,pe,Ce);case D:return G=G.get(pe.key===null?J:pe.key)||null,X($,G,pe,Ce);case Re:var je=pe._init;return ye(G,$,J,je(pe._payload),Ce)}if(p(pe)||se(pe))return G=G.get(J)||null,le($,G,pe,Ce,null);Qa($,pe)}return null}function be(G,$,J,pe){for(var Ce=null,je=null,Oe=$,ze=$=0,Tt=null;Oe!==null&&ze<J.length;ze++){Oe.index>ze?(Tt=Oe,Oe=null):Tt=Oe.sibling;var Ge=ae(G,Oe,J[ze],pe);if(Ge===null){Oe===null&&(Oe=Tt);break}n&&Oe&&Ge.alternate===null&&s(G,Oe),$=_(Ge,$,ze),je===null?Ce=Ge:je.sibling=Ge,je=Ge,Oe=Tt}if(ze===J.length)return l(G,Oe),it&&zn(G,ze),Ce;if(Oe===null){for(;ze<J.length;ze++)Oe=de(G,J[ze],pe),Oe!==null&&($=_(Oe,$,ze),je===null?Ce=Oe:je.sibling=Oe,je=Oe);return it&&zn(G,ze),Ce}for(Oe=h(G,Oe);ze<J.length;ze++)Tt=ye(Oe,G,ze,J[ze],pe),Tt!==null&&(n&&Tt.alternate!==null&&Oe.delete(Tt.key===null?ze:Tt.key),$=_(Tt,$,ze),je===null?Ce=Tt:je.sibling=Tt,je=Tt);return n&&Oe.forEach(function(xn){return s(G,xn)}),it&&zn(G,ze),Ce}function ke(G,$,J,pe){var Ce=se(J);if(typeof Ce!="function")throw Error(r(150));if(J=Ce.call(J),J==null)throw Error(r(151));for(var je=Ce=null,Oe=$,ze=$=0,Tt=null,Ge=J.next();Oe!==null&&!Ge.done;ze++,Ge=J.next()){Oe.index>ze?(Tt=Oe,Oe=null):Tt=Oe.sibling;var xn=ae(G,Oe,Ge.value,pe);if(xn===null){Oe===null&&(Oe=Tt);break}n&&Oe&&xn.alternate===null&&s(G,Oe),$=_(xn,$,ze),je===null?Ce=xn:je.sibling=xn,je=xn,Oe=Tt}if(Ge.done)return l(G,Oe),it&&zn(G,ze),Ce;if(Oe===null){for(;!Ge.done;ze++,Ge=J.next())Ge=de(G,Ge.value,pe),Ge!==null&&($=_(Ge,$,ze),je===null?Ce=Ge:je.sibling=Ge,je=Ge);return it&&zn(G,ze),Ce}for(Oe=h(G,Oe);!Ge.done;ze++,Ge=J.next())Ge=ye(Oe,G,ze,Ge.value,pe),Ge!==null&&(n&&Ge.alternate!==null&&Oe.delete(Ge.key===null?ze:Ge.key),$=_(Ge,$,ze),je===null?Ce=Ge:je.sibling=Ge,je=Ge);return n&&Oe.forEach(function(Px){return s(G,Px)}),it&&zn(G,ze),Ce}function mt(G,$,J,pe){if(typeof J=="object"&&J!==null&&J.type===O&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case j:e:{for(var Ce=J.key,je=$;je!==null;){if(je.key===Ce){if(Ce=J.type,Ce===O){if(je.tag===7){l(G,je.sibling),$=g(je,J.props.children),$.return=G,G=$;break e}}else if(je.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===Re&&op(Ce)===je.type){l(G,je.sibling),$=g(je,J.props),$.ref=Cs(G,je,J),$.return=G,G=$;break e}l(G,je);break}else s(G,je);je=je.sibling}J.type===O?($=Wn(J.props.children,G.mode,pe,J.key),$.return=G,G=$):(pe=xo(J.type,J.key,J.props,null,G.mode,pe),pe.ref=Cs(G,$,J),pe.return=G,G=pe)}return T(G);case D:e:{for(je=J.key;$!==null;){if($.key===je)if($.tag===4&&$.stateNode.containerInfo===J.containerInfo&&$.stateNode.implementation===J.implementation){l(G,$.sibling),$=g($,J.children||[]),$.return=G,G=$;break e}else{l(G,$);break}else s(G,$);$=$.sibling}$=wc(J,G.mode,pe),$.return=G,G=$}return T(G);case Re:return je=J._init,mt(G,$,je(J._payload),pe)}if(p(J))return be(G,$,J,pe);if(se(J))return ke(G,$,J,pe);Qa(G,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,$!==null&&$.tag===6?(l(G,$.sibling),$=g($,J),$.return=G,G=$):(l(G,$),$=vc(J,G.mode,pe),$.return=G,G=$),T(G)):l(G,$)}return mt}var ki=lp(!0),up=lp(!1),Xa=dn(null),Za=null,Ei=null,Au=null;function Pu(){Au=Ei=Za=null}function Ru(n){var s=Xa.current;rt(Xa),n._currentValue=s}function ju(n,s,l){for(;n!==null;){var h=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),n===l)break;n=n.return}}function Ci(n,s){Za=n,Au=Ei=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Kt=!0),n.firstContext=null)}function ar(n){var s=n._currentValue;if(Au!==n)if(n={context:n,memoizedValue:s,next:null},Ei===null){if(Za===null)throw Error(r(308));Ei=n,Za.dependencies={lanes:0,firstContext:n}}else Ei=Ei.next=n;return s}var Un=null;function Ou(n){Un===null?Un=[n]:Un.push(n)}function cp(n,s,l,h){var g=s.interleaved;return g===null?(l.next=l,Ou(s)):(l.next=g.next,g.next=l),s.interleaved=l,Vr(n,h)}function Vr(n,s){n.lanes|=s;var l=n.alternate;for(l!==null&&(l.lanes|=s),l=n,n=n.return;n!==null;)n.childLanes|=s,l=n.alternate,l!==null&&(l.childLanes|=s),l=n,n=n.return;return l.tag===3?l.stateNode:null}var pn=!1;function Nu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dp(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function qr(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function mn(n,s,l){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(He&2)!==0){var g=h.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),h.pending=s,Vr(n,l)}return g=h.interleaved,g===null?(s.next=s,Ou(h)):(s.next=g.next,g.next=s),h.interleaved=s,Vr(n,l)}function eo(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=n.pendingLanes,l|=h,s.lanes=l,Hl(n,l)}}function hp(n,s){var l=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};_===null?g=_=T:_=_.next=T,l=l.next}while(l!==null);_===null?g=_=s:_=_.next=s}else g=_=s;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:h.shared,effects:h.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}function to(n,s,l,h){var g=n.updateQueue;pn=!1;var _=g.firstBaseUpdate,T=g.lastBaseUpdate,L=g.shared.pending;if(L!==null){g.shared.pending=null;var U=L,X=U.next;U.next=null,T===null?_=X:T.next=X,T=U;var le=n.alternate;le!==null&&(le=le.updateQueue,L=le.lastBaseUpdate,L!==T&&(L===null?le.firstBaseUpdate=X:L.next=X,le.lastBaseUpdate=U))}if(_!==null){var de=g.baseState;T=0,le=X=U=null,L=_;do{var ae=L.lane,ye=L.eventTime;if((h&ae)===ae){le!==null&&(le=le.next={eventTime:ye,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var be=n,ke=L;switch(ae=s,ye=l,ke.tag){case 1:if(be=ke.payload,typeof be=="function"){de=be.call(ye,de,ae);break e}de=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ke.payload,ae=typeof be=="function"?be.call(ye,de,ae):be,ae==null)break e;de=me({},de,ae);break e;case 2:pn=!0}}L.callback!==null&&L.lane!==0&&(n.flags|=64,ae=g.effects,ae===null?g.effects=[L]:ae.push(L))}else ye={eventTime:ye,lane:ae,tag:L.tag,payload:L.payload,callback:L.callback,next:null},le===null?(X=le=ye,U=de):le=le.next=ye,T|=ae;if(L=L.next,L===null){if(L=g.shared.pending,L===null)break;ae=L,L=ae.next,ae.next=null,g.lastBaseUpdate=ae,g.shared.pending=null}}while(!0);if(le===null&&(U=de),g.baseState=U,g.firstBaseUpdate=X,g.lastBaseUpdate=le,s=g.shared.interleaved,s!==null){g=s;do T|=g.lane,g=g.next;while(g!==s)}else _===null&&(g.shared.lanes=0);$n|=T,n.lanes=T,n.memoizedState=de}}function fp(n,s,l){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var h=n[s],g=h.callback;if(g!==null){if(h.callback=null,h=l,typeof g!="function")throw Error(r(191,g));g.call(h)}}}var Ts={},Tr=dn(Ts),As=dn(Ts),Ps=dn(Ts);function Bn(n){if(n===Ts)throw Error(r(174));return n}function Iu(n,s){switch(Ze(Ps,s),Ze(As,n),Ze(Tr,Ts),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:$e(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=$e(s,n)}rt(Tr),Ze(Tr,s)}function Ti(){rt(Tr),rt(As),rt(Ps)}function pp(n){Bn(Ps.current);var s=Bn(Tr.current),l=$e(s,n.type);s!==l&&(Ze(As,n),Ze(Tr,l))}function Du(n){As.current===n&&(rt(Tr),rt(As))}var lt=dn(0);function ro(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Lu=[];function Mu(){for(var n=0;n<Lu.length;n++)Lu[n]._workInProgressVersionPrimary=null;Lu.length=0}var no=R.ReactCurrentDispatcher,zu=R.ReactCurrentBatchConfig,Fn=0,ut=null,bt=null,Et=null,io=!1,Rs=!1,js=0,Qb=0;function It(){throw Error(r(321))}function Uu(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!fr(n[l],s[l]))return!1;return!0}function Bu(n,s,l,h,g,_){if(Fn=_,ut=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,no.current=n===null||n.memoizedState===null?tx:rx,n=l(h,g),Rs){_=0;do{if(Rs=!1,js=0,25<=_)throw Error(r(301));_+=1,Et=bt=null,s.updateQueue=null,no.current=nx,n=l(h,g)}while(Rs)}if(no.current=oo,s=bt!==null&&bt.next!==null,Fn=0,Et=bt=ut=null,io=!1,s)throw Error(r(300));return n}function Fu(){var n=js!==0;return js=0,n}function Ar(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?ut.memoizedState=Et=n:Et=Et.next=n,Et}function or(){if(bt===null){var n=ut.alternate;n=n!==null?n.memoizedState:null}else n=bt.next;var s=Et===null?ut.memoizedState:Et.next;if(s!==null)Et=s,bt=n;else{if(n===null)throw Error(r(310));bt=n,n={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Et===null?ut.memoizedState=Et=n:Et=Et.next=n}return Et}function Os(n,s){return typeof s=="function"?s(n):s}function $u(n){var s=or(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var h=bt,g=h.baseQueue,_=l.pending;if(_!==null){if(g!==null){var T=g.next;g.next=_.next,_.next=T}h.baseQueue=g=_,l.pending=null}if(g!==null){_=g.next,h=h.baseState;var L=T=null,U=null,X=_;do{var le=X.lane;if((Fn&le)===le)U!==null&&(U=U.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),h=X.hasEagerState?X.eagerState:n(h,X.action);else{var de={lane:le,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};U===null?(L=U=de,T=h):U=U.next=de,ut.lanes|=le,$n|=le}X=X.next}while(X!==null&&X!==_);U===null?T=h:U.next=L,fr(h,s.memoizedState)||(Kt=!0),s.memoizedState=h,s.baseState=T,s.baseQueue=U,l.lastRenderedState=h}if(n=l.interleaved,n!==null){g=n;do _=g.lane,ut.lanes|=_,$n|=_,g=g.next;while(g!==n)}else g===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Vu(n){var s=or(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var h=l.dispatch,g=l.pending,_=s.memoizedState;if(g!==null){l.pending=null;var T=g=g.next;do _=n(_,T.action),T=T.next;while(T!==g);fr(_,s.memoizedState)||(Kt=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,h]}function mp(){}function gp(n,s){var l=ut,h=or(),g=s(),_=!fr(h.memoizedState,g);if(_&&(h.memoizedState=g,Kt=!0),h=h.queue,qu(wp.bind(null,l,h,n),[n]),h.getSnapshot!==s||_||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,Ns(9,vp.bind(null,l,h,g,s),void 0,null),Ct===null)throw Error(r(349));(Fn&30)!==0||yp(l,s,g)}return g}function yp(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=ut.updateQueue,s===null?(s={lastEffect:null,stores:null},ut.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function vp(n,s,l,h){s.value=l,s.getSnapshot=h,_p(s)&&bp(n)}function wp(n,s,l){return l(function(){_p(s)&&bp(n)})}function _p(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!fr(n,l)}catch{return!0}}function bp(n){var s=Vr(n,1);s!==null&&vr(s,n,1,-1)}function xp(n){var s=Ar();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:n},s.queue=n,n=n.dispatch=ex.bind(null,ut,n),[s.memoizedState,n]}function Ns(n,s,l,h){return n={tag:n,create:s,destroy:l,deps:h,next:null},s=ut.updateQueue,s===null?(s={lastEffect:null,stores:null},ut.updateQueue=s,s.lastEffect=n.next=n):(l=s.lastEffect,l===null?s.lastEffect=n.next=n:(h=l.next,l.next=n,n.next=h,s.lastEffect=n)),n}function Sp(){return or().memoizedState}function so(n,s,l,h){var g=Ar();ut.flags|=n,g.memoizedState=Ns(1|s,l,void 0,h===void 0?null:h)}function ao(n,s,l,h){var g=or();h=h===void 0?null:h;var _=void 0;if(bt!==null){var T=bt.memoizedState;if(_=T.destroy,h!==null&&Uu(h,T.deps)){g.memoizedState=Ns(s,l,_,h);return}}ut.flags|=n,g.memoizedState=Ns(1|s,l,_,h)}function kp(n,s){return so(8390656,8,n,s)}function qu(n,s){return ao(2048,8,n,s)}function Ep(n,s){return ao(4,2,n,s)}function Cp(n,s){return ao(4,4,n,s)}function Tp(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Ap(n,s,l){return l=l!=null?l.concat([n]):null,ao(4,4,Tp.bind(null,s,n),l)}function Ku(){}function Pp(n,s){var l=or();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Uu(s,h[1])?h[0]:(l.memoizedState=[n,s],n)}function Rp(n,s){var l=or();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Uu(s,h[1])?h[0]:(n=n(),l.memoizedState=[n,s],n)}function jp(n,s,l){return(Fn&21)===0?(n.baseState&&(n.baseState=!1,Kt=!0),n.memoizedState=l):(fr(l,s)||(l=of(),ut.lanes|=l,$n|=l,n.baseState=!0),s)}function Xb(n,s){var l=Xe;Xe=l!==0&&4>l?l:4,n(!0);var h=zu.transition;zu.transition={};try{n(!1),s()}finally{Xe=l,zu.transition=h}}function Op(){return or().memoizedState}function Zb(n,s,l){var h=wn(n);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Np(n))Ip(s,l);else if(l=cp(n,s,l,h),l!==null){var g=Ft();vr(l,n,h,g),Dp(l,s,h)}}function ex(n,s,l){var h=wn(n),g={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Np(n))Ip(s,g);else{var _=n.alternate;if(n.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var T=s.lastRenderedState,L=_(T,l);if(g.hasEagerState=!0,g.eagerState=L,fr(L,T)){var U=s.interleaved;U===null?(g.next=g,Ou(s)):(g.next=U.next,U.next=g),s.interleaved=g;return}}catch{}finally{}l=cp(n,s,g,h),l!==null&&(g=Ft(),vr(l,n,h,g),Dp(l,s,h))}}function Np(n){var s=n.alternate;return n===ut||s!==null&&s===ut}function Ip(n,s){Rs=io=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function Dp(n,s,l){if((l&4194240)!==0){var h=s.lanes;h&=n.pendingLanes,l|=h,s.lanes=l,Hl(n,l)}}var oo={readContext:ar,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},tx={readContext:ar,useCallback:function(n,s){return Ar().memoizedState=[n,s===void 0?null:s],n},useContext:ar,useEffect:kp,useImperativeHandle:function(n,s,l){return l=l!=null?l.concat([n]):null,so(4194308,4,Tp.bind(null,s,n),l)},useLayoutEffect:function(n,s){return so(4194308,4,n,s)},useInsertionEffect:function(n,s){return so(4,2,n,s)},useMemo:function(n,s){var l=Ar();return s=s===void 0?null:s,n=n(),l.memoizedState=[n,s],n},useReducer:function(n,s,l){var h=Ar();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},h.queue=n,n=n.dispatch=Zb.bind(null,ut,n),[h.memoizedState,n]},useRef:function(n){var s=Ar();return n={current:n},s.memoizedState=n},useState:xp,useDebugValue:Ku,useDeferredValue:function(n){return Ar().memoizedState=n},useTransition:function(){var n=xp(!1),s=n[0];return n=Xb.bind(null,n[1]),Ar().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,l){var h=ut,g=Ar();if(it){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Ct===null)throw Error(r(349));(Fn&30)!==0||yp(h,s,l)}g.memoizedState=l;var _={value:l,getSnapshot:s};return g.queue=_,kp(wp.bind(null,h,_,n),[n]),h.flags|=2048,Ns(9,vp.bind(null,h,_,l,s),void 0,null),l},useId:function(){var n=Ar(),s=Ct.identifierPrefix;if(it){var l=$r,h=Fr;l=(h&~(1<<32-hr(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=js++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=Qb++,s=":"+s+"r"+l.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},rx={readContext:ar,useCallback:Pp,useContext:ar,useEffect:qu,useImperativeHandle:Ap,useInsertionEffect:Ep,useLayoutEffect:Cp,useMemo:Rp,useReducer:$u,useRef:Sp,useState:function(){return $u(Os)},useDebugValue:Ku,useDeferredValue:function(n){var s=or();return jp(s,bt.memoizedState,n)},useTransition:function(){var n=$u(Os)[0],s=or().memoizedState;return[n,s]},useMutableSource:mp,useSyncExternalStore:gp,useId:Op,unstable_isNewReconciler:!1},nx={readContext:ar,useCallback:Pp,useContext:ar,useEffect:qu,useImperativeHandle:Ap,useInsertionEffect:Ep,useLayoutEffect:Cp,useMemo:Rp,useReducer:Vu,useRef:Sp,useState:function(){return Vu(Os)},useDebugValue:Ku,useDeferredValue:function(n){var s=or();return bt===null?s.memoizedState=n:jp(s,bt.memoizedState,n)},useTransition:function(){var n=Vu(Os)[0],s=or().memoizedState;return[n,s]},useMutableSource:mp,useSyncExternalStore:gp,useId:Op,unstable_isNewReconciler:!1};function mr(n,s){if(n&&n.defaultProps){s=me({},s),n=n.defaultProps;for(var l in n)s[l]===void 0&&(s[l]=n[l]);return s}return s}function Wu(n,s,l,h){s=n.memoizedState,l=l(h,s),l=l==null?s:me({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var lo={isMounted:function(n){return(n=n._reactInternals)?In(n)===n:!1},enqueueSetState:function(n,s,l){n=n._reactInternals;var h=Ft(),g=wn(n),_=qr(h,g);_.payload=s,l!=null&&(_.callback=l),s=mn(n,_,g),s!==null&&(vr(s,n,g,h),eo(s,n,g))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var h=Ft(),g=wn(n),_=qr(h,g);_.tag=1,_.payload=s,l!=null&&(_.callback=l),s=mn(n,_,g),s!==null&&(vr(s,n,g,h),eo(s,n,g))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=Ft(),h=wn(n),g=qr(l,h);g.tag=2,s!=null&&(g.callback=s),s=mn(n,g,h),s!==null&&(vr(s,n,h,l),eo(s,n,h))}};function Lp(n,s,l,h,g,_,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,_,T):s.prototype&&s.prototype.isPureReactComponent?!ws(l,h)||!ws(g,_):!0}function Mp(n,s,l){var h=!1,g=hn,_=s.contextType;return typeof _=="object"&&_!==null?_=ar(_):(g=qt(s)?Ln:Nt.current,h=s.contextTypes,_=(h=h!=null)?_i(n,g):hn),s=new s(l,_),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=lo,n.stateNode=s,s._reactInternals=n,h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=g,n.__reactInternalMemoizedMaskedChildContext=_),s}function zp(n,s,l,h){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==n&&lo.enqueueReplaceState(s,s.state,null)}function Hu(n,s,l,h){var g=n.stateNode;g.props=l,g.state=n.memoizedState,g.refs={},Nu(n);var _=s.contextType;typeof _=="object"&&_!==null?g.context=ar(_):(_=qt(s)?Ln:Nt.current,g.context=_i(n,_)),g.state=n.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Wu(n,s,_,l),g.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(s=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),s!==g.state&&lo.enqueueReplaceState(g,g.state,null),to(n,l,g,h),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308)}function Ai(n,s){try{var l="",h=s;do l+=Z(h),h=h.return;while(h);var g=l}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:n,source:s,stack:g,digest:null}}function Gu(n,s,l){return{value:n,source:null,stack:l??null,digest:s??null}}function Yu(n,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var ix=typeof WeakMap=="function"?WeakMap:Map;function Up(n,s,l){l=qr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){go||(go=!0,cc=h),Yu(n,s)},l}function Bp(n,s,l){l=qr(-1,l),l.tag=3;var h=n.type.getDerivedStateFromError;if(typeof h=="function"){var g=s.value;l.payload=function(){return h(g)},l.callback=function(){Yu(n,s)}}var _=n.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(l.callback=function(){Yu(n,s),typeof h!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function Fp(n,s,l){var h=n.pingCache;if(h===null){h=n.pingCache=new ix;var g=new Set;h.set(s,g)}else g=h.get(s),g===void 0&&(g=new Set,h.set(s,g));g.has(l)||(g.add(l),n=vx.bind(null,n,s,l),s.then(n,n))}function $p(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Vp(n,s,l,h,g){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=qr(-1,1),s.tag=2,mn(l,s,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=g,n)}var sx=R.ReactCurrentOwner,Kt=!1;function Bt(n,s,l,h){s.child=n===null?up(s,null,l,h):ki(s,n.child,l,h)}function qp(n,s,l,h,g){l=l.render;var _=s.ref;return Ci(s,g),h=Bu(n,s,l,h,_,g),l=Fu(),n!==null&&!Kt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~g,Kr(n,s,g)):(it&&l&&Su(s),s.flags|=1,Bt(n,s,h,g),s.child)}function Kp(n,s,l,h,g){if(n===null){var _=l.type;return typeof _=="function"&&!yc(_)&&_.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=_,Wp(n,s,_,h,g)):(n=xo(l.type,null,h,s,s.mode,g),n.ref=s.ref,n.return=s,s.child=n)}if(_=n.child,(n.lanes&g)===0){var T=_.memoizedProps;if(l=l.compare,l=l!==null?l:ws,l(T,h)&&n.ref===s.ref)return Kr(n,s,g)}return s.flags|=1,n=bn(_,h),n.ref=s.ref,n.return=s,s.child=n}function Wp(n,s,l,h,g){if(n!==null){var _=n.memoizedProps;if(ws(_,h)&&n.ref===s.ref)if(Kt=!1,s.pendingProps=h=_,(n.lanes&g)!==0)(n.flags&131072)!==0&&(Kt=!0);else return s.lanes=n.lanes,Kr(n,s,g)}return Ju(n,s,l,h,g)}function Hp(n,s,l){var h=s.pendingProps,g=h.children,_=n!==null?n.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Ri,er),er|=l;else{if((l&1073741824)===0)return n=_!==null?_.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,Ze(Ri,er),er|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=_!==null?_.baseLanes:l,Ze(Ri,er),er|=h}else _!==null?(h=_.baseLanes|l,s.memoizedState=null):h=l,Ze(Ri,er),er|=h;return Bt(n,s,g,l),s.child}function Gp(n,s){var l=s.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Ju(n,s,l,h,g){var _=qt(l)?Ln:Nt.current;return _=_i(s,_),Ci(s,g),l=Bu(n,s,l,h,_,g),h=Fu(),n!==null&&!Kt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~g,Kr(n,s,g)):(it&&h&&Su(s),s.flags|=1,Bt(n,s,l,g),s.child)}function Yp(n,s,l,h,g){if(qt(l)){var _=!0;Wa(s)}else _=!1;if(Ci(s,g),s.stateNode===null)co(n,s),Mp(s,l,h),Hu(s,l,h,g),h=!0;else if(n===null){var T=s.stateNode,L=s.memoizedProps;T.props=L;var U=T.context,X=l.contextType;typeof X=="object"&&X!==null?X=ar(X):(X=qt(l)?Ln:Nt.current,X=_i(s,X));var le=l.getDerivedStateFromProps,de=typeof le=="function"||typeof T.getSnapshotBeforeUpdate=="function";de||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L!==h||U!==X)&&zp(s,T,h,X),pn=!1;var ae=s.memoizedState;T.state=ae,to(s,h,T,g),U=s.memoizedState,L!==h||ae!==U||Vt.current||pn?(typeof le=="function"&&(Wu(s,l,le,h),U=s.memoizedState),(L=pn||Lp(s,l,L,h,ae,U,X))?(de||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=U),T.props=h,T.state=U,T.context=X,h=L):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{T=s.stateNode,dp(n,s),L=s.memoizedProps,X=s.type===s.elementType?L:mr(s.type,L),T.props=X,de=s.pendingProps,ae=T.context,U=l.contextType,typeof U=="object"&&U!==null?U=ar(U):(U=qt(l)?Ln:Nt.current,U=_i(s,U));var ye=l.getDerivedStateFromProps;(le=typeof ye=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L!==de||ae!==U)&&zp(s,T,h,U),pn=!1,ae=s.memoizedState,T.state=ae,to(s,h,T,g);var be=s.memoizedState;L!==de||ae!==be||Vt.current||pn?(typeof ye=="function"&&(Wu(s,l,ye,h),be=s.memoizedState),(X=pn||Lp(s,l,X,h,ae,be,U)||!1)?(le||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,be,U),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,be,U)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||L===n.memoizedProps&&ae===n.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&ae===n.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=be),T.props=h,T.state=be,T.context=U,h=X):(typeof T.componentDidUpdate!="function"||L===n.memoizedProps&&ae===n.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&ae===n.memoizedState||(s.flags|=1024),h=!1)}return Qu(n,s,l,h,_,g)}function Qu(n,s,l,h,g,_){Gp(n,s);var T=(s.flags&128)!==0;if(!h&&!T)return g&&ep(s,l,!1),Kr(n,s,_);h=s.stateNode,sx.current=s;var L=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,n!==null&&T?(s.child=ki(s,n.child,null,_),s.child=ki(s,null,L,_)):Bt(n,s,L,_),s.memoizedState=h.state,g&&ep(s,l,!0),s.child}function Jp(n){var s=n.stateNode;s.pendingContext?Xf(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Xf(n,s.context,!1),Iu(n,s.containerInfo)}function Qp(n,s,l,h,g){return Si(),Tu(g),s.flags|=256,Bt(n,s,l,h),s.child}var Xu={dehydrated:null,treeContext:null,retryLane:0};function Zu(n){return{baseLanes:n,cachePool:null,transitions:null}}function Xp(n,s,l){var h=s.pendingProps,g=lt.current,_=!1,T=(s.flags&128)!==0,L;if((L=T)||(L=n!==null&&n.memoizedState===null?!1:(g&2)!==0),L?(_=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(g|=1),Ze(lt,g&1),n===null)return Cu(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=h.children,n=h.fallback,_?(h=s.mode,_=s.child,T={mode:"hidden",children:T},(h&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=T):_=So(T,h,0,null),n=Wn(n,h,l,null),_.return=s,n.return=s,_.sibling=n,s.child=_,s.child.memoizedState=Zu(l),s.memoizedState=Xu,n):ec(s,T));if(g=n.memoizedState,g!==null&&(L=g.dehydrated,L!==null))return ax(n,s,T,h,L,g,l);if(_){_=h.fallback,T=s.mode,g=n.child,L=g.sibling;var U={mode:"hidden",children:h.children};return(T&1)===0&&s.child!==g?(h=s.child,h.childLanes=0,h.pendingProps=U,s.deletions=null):(h=bn(g,U),h.subtreeFlags=g.subtreeFlags&14680064),L!==null?_=bn(L,_):(_=Wn(_,T,l,null),_.flags|=2),_.return=s,h.return=s,h.sibling=_,s.child=h,h=_,_=s.child,T=n.child.memoizedState,T=T===null?Zu(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},_.memoizedState=T,_.childLanes=n.childLanes&~l,s.memoizedState=Xu,h}return _=n.child,n=_.sibling,h=bn(_,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,n!==null&&(l=s.deletions,l===null?(s.deletions=[n],s.flags|=16):l.push(n)),s.child=h,s.memoizedState=null,h}function ec(n,s){return s=So({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function uo(n,s,l,h){return h!==null&&Tu(h),ki(s,n.child,null,l),n=ec(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function ax(n,s,l,h,g,_,T){if(l)return s.flags&256?(s.flags&=-257,h=Gu(Error(r(422))),uo(n,s,T,h)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(_=h.fallback,g=s.mode,h=So({mode:"visible",children:h.children},g,0,null),_=Wn(_,g,T,null),_.flags|=2,h.return=s,_.return=s,h.sibling=_,s.child=h,(s.mode&1)!==0&&ki(s,n.child,null,T),s.child.memoizedState=Zu(T),s.memoizedState=Xu,_);if((s.mode&1)===0)return uo(n,s,T,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var L=h.dgst;return h=L,_=Error(r(419)),h=Gu(_,h,void 0),uo(n,s,T,h)}if(L=(T&n.childLanes)!==0,Kt||L){if(h=Ct,h!==null){switch(T&-T){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|T))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,Vr(n,g),vr(h,n,g,-1))}return gc(),h=Gu(Error(r(421))),uo(n,s,T,h)}return g.data==="$?"?(s.flags|=128,s.child=n.child,s=wx.bind(null,n),g._reactRetry=s,null):(n=_.treeContext,Zt=cn(g.nextSibling),Xt=s,it=!0,pr=null,n!==null&&(ir[sr++]=Fr,ir[sr++]=$r,ir[sr++]=Mn,Fr=n.id,$r=n.overflow,Mn=s),s=ec(s,h.children),s.flags|=4096,s)}function Zp(n,s,l){n.lanes|=s;var h=n.alternate;h!==null&&(h.lanes|=s),ju(n.return,s,l)}function tc(n,s,l,h,g){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=l,_.tailMode=g)}function em(n,s,l){var h=s.pendingProps,g=h.revealOrder,_=h.tail;if(Bt(n,s,h.children,l),h=lt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Zp(n,l,s);else if(n.tag===19)Zp(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}if(Ze(lt,h),(s.mode&1)===0)s.memoizedState=null;else switch(g){case"forwards":for(l=s.child,g=null;l!==null;)n=l.alternate,n!==null&&ro(n)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),tc(s,!1,g,l,_);break;case"backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(n=g.alternate,n!==null&&ro(n)===null){s.child=g;break}n=g.sibling,g.sibling=l,l=g,g=n}tc(s,!0,l,null,_);break;case"together":tc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function co(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Kr(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),$n|=s.lanes,(l&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,l=bn(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=bn(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function ox(n,s,l){switch(s.tag){case 3:Jp(s),Si();break;case 5:pp(s);break;case 1:qt(s.type)&&Wa(s);break;case 4:Iu(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,g=s.memoizedProps.value;Ze(Xa,h._currentValue),h._currentValue=g;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ze(lt,lt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Xp(n,s,l):(Ze(lt,lt.current&1),n=Kr(n,s,l),n!==null?n.sibling:null);Ze(lt,lt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(n.flags&128)!==0){if(h)return em(n,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ze(lt,lt.current),h)break;return null;case 22:case 23:return s.lanes=0,Hp(n,s,l)}return Kr(n,s,l)}var tm,rc,rm,nm;tm=function(n,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},rc=function(){},rm=function(n,s,l,h){var g=n.memoizedProps;if(g!==h){n=s.stateNode,Bn(Tr.current);var _=null;switch(l){case"input":g=kt(n,g),h=kt(n,h),_=[];break;case"select":g=me({},g,{value:void 0}),h=me({},h,{value:void 0}),_=[];break;case"textarea":g=A(n,g),h=A(n,h),_=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(n.onclick=Va)}kr(l,h);var T;l=null;for(X in g)if(!h.hasOwnProperty(X)&&g.hasOwnProperty(X)&&g[X]!=null)if(X==="style"){var L=g[X];for(T in L)L.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(a.hasOwnProperty(X)?_||(_=[]):(_=_||[]).push(X,null));for(X in h){var U=h[X];if(L=g!=null?g[X]:void 0,h.hasOwnProperty(X)&&U!==L&&(U!=null||L!=null))if(X==="style")if(L){for(T in L)!L.hasOwnProperty(T)||U&&U.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in U)U.hasOwnProperty(T)&&L[T]!==U[T]&&(l||(l={}),l[T]=U[T])}else l||(_||(_=[]),_.push(X,l)),l=U;else X==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,L=L?L.__html:void 0,U!=null&&L!==U&&(_=_||[]).push(X,U)):X==="children"?typeof U!="string"&&typeof U!="number"||(_=_||[]).push(X,""+U):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(a.hasOwnProperty(X)?(U!=null&&X==="onScroll"&&tt("scroll",n),_||L===U||(_=[])):(_=_||[]).push(X,U))}l&&(_=_||[]).push("style",l);var X=_;(s.updateQueue=X)&&(s.flags|=4)}},nm=function(n,s,l,h){l!==h&&(s.flags|=4)};function Is(n,s){if(!it)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function Dt(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,h=0;if(s)for(var g=n.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=h,n.childLanes=l,s}function lx(n,s,l){var h=s.pendingProps;switch(ku(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(s),null;case 1:return qt(s.type)&&Ka(),Dt(s),null;case 3:return h=s.stateNode,Ti(),rt(Vt),rt(Nt),Mu(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(n===null||n.child===null)&&(Ja(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,pr!==null&&(fc(pr),pr=null))),rc(n,s),Dt(s),null;case 5:Du(s);var g=Bn(Ps.current);if(l=s.type,n!==null&&s.stateNode!=null)rm(n,s,l,h,g),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Dt(s),null}if(n=Bn(Tr.current),Ja(s)){h=s.stateNode,l=s.type;var _=s.memoizedProps;switch(h[Cr]=s,h[ks]=_,n=(s.mode&1)!==0,l){case"dialog":tt("cancel",h),tt("close",h);break;case"iframe":case"object":case"embed":tt("load",h);break;case"video":case"audio":for(g=0;g<bs.length;g++)tt(bs[g],h);break;case"source":tt("error",h);break;case"img":case"image":case"link":tt("error",h),tt("load",h);break;case"details":tt("toggle",h);break;case"input":Y(h,_),tt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!_.multiple},tt("invalid",h);break;case"textarea":F(h,_),tt("invalid",h)}kr(l,_),g=null;for(var T in _)if(_.hasOwnProperty(T)){var L=_[T];T==="children"?typeof L=="string"?h.textContent!==L&&(_.suppressHydrationWarning!==!0&&$a(h.textContent,L,n),g=["children",L]):typeof L=="number"&&h.textContent!==""+L&&(_.suppressHydrationWarning!==!0&&$a(h.textContent,L,n),g=["children",""+L]):a.hasOwnProperty(T)&&L!=null&&T==="onScroll"&&tt("scroll",h)}switch(l){case"input":St(h),Ae(h,_,!0);break;case"textarea":St(h),te(h);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(h.onclick=Va)}h=g,s.updateQueue=h,h!==null&&(s.flags|=4)}else{T=g.nodeType===9?g:g.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ee(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=T.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof h.is=="string"?n=T.createElement(l,{is:h.is}):(n=T.createElement(l),l==="select"&&(T=n,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):n=T.createElementNS(n,l),n[Cr]=s,n[ks]=h,tm(n,s,!1,!1),s.stateNode=n;e:{switch(T=Ml(l,h),l){case"dialog":tt("cancel",n),tt("close",n),g=h;break;case"iframe":case"object":case"embed":tt("load",n),g=h;break;case"video":case"audio":for(g=0;g<bs.length;g++)tt(bs[g],n);g=h;break;case"source":tt("error",n),g=h;break;case"img":case"image":case"link":tt("error",n),tt("load",n),g=h;break;case"details":tt("toggle",n),g=h;break;case"input":Y(n,h),g=kt(n,h),tt("invalid",n);break;case"option":g=h;break;case"select":n._wrapperState={wasMultiple:!!h.multiple},g=me({},h,{value:void 0}),tt("invalid",n);break;case"textarea":F(n,h),g=A(n,h),tt("invalid",n);break;default:g=h}kr(l,g),L=g;for(_ in L)if(L.hasOwnProperty(_)){var U=L[_];_==="style"?tn(n,U):_==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&Ve(n,U)):_==="children"?typeof U=="string"?(l!=="textarea"||U!=="")&&Be(n,U):typeof U=="number"&&Be(n,""+U):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(a.hasOwnProperty(_)?U!=null&&_==="onScroll"&&tt("scroll",n):U!=null&&k(n,_,U,T))}switch(l){case"input":St(n),Ae(n,h,!1);break;case"textarea":St(n),te(n);break;case"option":h.value!=null&&n.setAttribute("value",""+Me(h.value));break;case"select":n.multiple=!!h.multiple,_=h.value,_!=null?S(n,!!h.multiple,_,!1):h.defaultValue!=null&&S(n,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(n.onclick=Va)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Dt(s),null;case 6:if(n&&s.stateNode!=null)nm(n,s,n.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(l=Bn(Ps.current),Bn(Tr.current),Ja(s)){if(h=s.stateNode,l=s.memoizedProps,h[Cr]=s,(_=h.nodeValue!==l)&&(n=Xt,n!==null))switch(n.tag){case 3:$a(h.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&$a(h.nodeValue,l,(n.mode&1)!==0)}_&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Cr]=s,s.stateNode=h}return Dt(s),null;case 13:if(rt(lt),h=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(it&&Zt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)ap(),Si(),s.flags|=98560,_=!1;else if(_=Ja(s),h!==null&&h.dehydrated!==null){if(n===null){if(!_)throw Error(r(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Cr]=s}else Si(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Dt(s),_=!1}else pr!==null&&(fc(pr),pr=null),_=!0;if(!_)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(n!==null&&n.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(lt.current&1)!==0?xt===0&&(xt=3):gc())),s.updateQueue!==null&&(s.flags|=4),Dt(s),null);case 4:return Ti(),rc(n,s),n===null&&xs(s.stateNode.containerInfo),Dt(s),null;case 10:return Ru(s.type._context),Dt(s),null;case 17:return qt(s.type)&&Ka(),Dt(s),null;case 19:if(rt(lt),_=s.memoizedState,_===null)return Dt(s),null;if(h=(s.flags&128)!==0,T=_.rendering,T===null)if(h)Is(_,!1);else{if(xt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(T=ro(n),T!==null){for(s.flags|=128,Is(_,!1),h=T.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)_=l,n=h,_.flags&=14680066,T=_.alternate,T===null?(_.childLanes=0,_.lanes=n,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=T.childLanes,_.lanes=T.lanes,_.child=T.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=T.memoizedProps,_.memoizedState=T.memoizedState,_.updateQueue=T.updateQueue,_.type=T.type,n=T.dependencies,_.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return Ze(lt,lt.current&1|2),s.child}n=n.sibling}_.tail!==null&&pt()>ji&&(s.flags|=128,h=!0,Is(_,!1),s.lanes=4194304)}else{if(!h)if(n=ro(T),n!==null){if(s.flags|=128,h=!0,l=n.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Is(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!it)return Dt(s),null}else 2*pt()-_.renderingStartTime>ji&&l!==1073741824&&(s.flags|=128,h=!0,Is(_,!1),s.lanes=4194304);_.isBackwards?(T.sibling=s.child,s.child=T):(l=_.last,l!==null?l.sibling=T:s.child=T,_.last=T)}return _.tail!==null?(s=_.tail,_.rendering=s,_.tail=s.sibling,_.renderingStartTime=pt(),s.sibling=null,l=lt.current,Ze(lt,h?l&1|2:l&1),s):(Dt(s),null);case 22:case 23:return mc(),h=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(er&1073741824)!==0&&(Dt(s),s.subtreeFlags&6&&(s.flags|=8192)):Dt(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function ux(n,s){switch(ku(s),s.tag){case 1:return qt(s.type)&&Ka(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Ti(),rt(Vt),rt(Nt),Mu(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return Du(s),null;case 13:if(rt(lt),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Si()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return rt(lt),null;case 4:return Ti(),null;case 10:return Ru(s.type._context),null;case 22:case 23:return mc(),null;case 24:return null;default:return null}}var ho=!1,Lt=!1,cx=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Pi(n,s){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){dt(n,s,h)}else l.current=null}function nc(n,s,l){try{l()}catch(h){dt(n,s,h)}}var im=!1;function dx(n,s){if(mu=ja,n=Lf(),ou(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var T=0,L=-1,U=-1,X=0,le=0,de=n,ae=null;t:for(;;){for(var ye;de!==l||g!==0&&de.nodeType!==3||(L=T+g),de!==_||h!==0&&de.nodeType!==3||(U=T+h),de.nodeType===3&&(T+=de.nodeValue.length),(ye=de.firstChild)!==null;)ae=de,de=ye;for(;;){if(de===n)break t;if(ae===l&&++X===g&&(L=T),ae===_&&++le===h&&(U=T),(ye=de.nextSibling)!==null)break;de=ae,ae=de.parentNode}de=ye}l=L===-1||U===-1?null:{start:L,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(gu={focusedElem:n,selectionRange:l},ja=!1,ve=s;ve!==null;)if(s=ve,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,ve=n;else for(;ve!==null;){s=ve;try{var be=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var ke=be.memoizedProps,mt=be.memoizedState,G=s.stateNode,$=G.getSnapshotBeforeUpdate(s.elementType===s.type?ke:mr(s.type,ke),mt);G.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var J=s.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(pe){dt(s,s.return,pe)}if(n=s.sibling,n!==null){n.return=s.return,ve=n;break}ve=s.return}return be=im,im=!1,be}function Ds(n,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&n)===n){var _=g.destroy;g.destroy=void 0,_!==void 0&&nc(s,l,_)}g=g.next}while(g!==h)}}function fo(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&n)===n){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function ic(n){var s=n.ref;if(s!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof s=="function"?s(n):s.current=n}}function sm(n){var s=n.alternate;s!==null&&(n.alternate=null,sm(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Cr],delete s[ks],delete s[_u],delete s[Hb],delete s[Gb])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function am(n){return n.tag===5||n.tag===3||n.tag===4}function om(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||am(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function sc(n,s,l){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(n,s):l.insertBefore(n,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(n,l)):(s=l,s.appendChild(n)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Va));else if(h!==4&&(n=n.child,n!==null))for(sc(n,s,l),n=n.sibling;n!==null;)sc(n,s,l),n=n.sibling}function ac(n,s,l){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(h!==4&&(n=n.child,n!==null))for(ac(n,s,l),n=n.sibling;n!==null;)ac(n,s,l),n=n.sibling}var At=null,gr=!1;function gn(n,s,l){for(l=l.child;l!==null;)lm(n,s,l),l=l.sibling}function lm(n,s,l){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(Ea,l)}catch{}switch(l.tag){case 5:Lt||Pi(l,s);case 6:var h=At,g=gr;At=null,gn(n,s,l),At=h,gr=g,At!==null&&(gr?(n=At,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):At.removeChild(l.stateNode));break;case 18:At!==null&&(gr?(n=At,l=l.stateNode,n.nodeType===8?wu(n.parentNode,l):n.nodeType===1&&wu(n,l),fs(n)):wu(At,l.stateNode));break;case 4:h=At,g=gr,At=l.stateNode.containerInfo,gr=!0,gn(n,s,l),At=h,gr=g;break;case 0:case 11:case 14:case 15:if(!Lt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var _=g,T=_.destroy;_=_.tag,T!==void 0&&((_&2)!==0||(_&4)!==0)&&nc(l,s,T),g=g.next}while(g!==h)}gn(n,s,l);break;case 1:if(!Lt&&(Pi(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(L){dt(l,s,L)}gn(n,s,l);break;case 21:gn(n,s,l);break;case 22:l.mode&1?(Lt=(h=Lt)||l.memoizedState!==null,gn(n,s,l),Lt=h):gn(n,s,l);break;default:gn(n,s,l)}}function um(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new cx),s.forEach(function(h){var g=_x.bind(null,n,h);l.has(h)||(l.add(h),h.then(g,g))})}}function yr(n,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h];try{var _=n,T=s,L=T;e:for(;L!==null;){switch(L.tag){case 5:At=L.stateNode,gr=!1;break e;case 3:At=L.stateNode.containerInfo,gr=!0;break e;case 4:At=L.stateNode.containerInfo,gr=!0;break e}L=L.return}if(At===null)throw Error(r(160));lm(_,T,g),At=null,gr=!1;var U=g.alternate;U!==null&&(U.return=null),g.return=null}catch(X){dt(g,s,X)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)cm(s,n),s=s.sibling}function cm(n,s){var l=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(yr(s,n),Pr(n),h&4){try{Ds(3,n,n.return),fo(3,n)}catch(ke){dt(n,n.return,ke)}try{Ds(5,n,n.return)}catch(ke){dt(n,n.return,ke)}}break;case 1:yr(s,n),Pr(n),h&512&&l!==null&&Pi(l,l.return);break;case 5:if(yr(s,n),Pr(n),h&512&&l!==null&&Pi(l,l.return),n.flags&32){var g=n.stateNode;try{Be(g,"")}catch(ke){dt(n,n.return,ke)}}if(h&4&&(g=n.stateNode,g!=null)){var _=n.memoizedProps,T=l!==null?l.memoizedProps:_,L=n.type,U=n.updateQueue;if(n.updateQueue=null,U!==null)try{L==="input"&&_.type==="radio"&&_.name!=null&&ee(g,_),Ml(L,T);var X=Ml(L,_);for(T=0;T<U.length;T+=2){var le=U[T],de=U[T+1];le==="style"?tn(g,de):le==="dangerouslySetInnerHTML"?Ve(g,de):le==="children"?Be(g,de):k(g,le,de,X)}switch(L){case"input":fe(g,_);break;case"textarea":W(g,_);break;case"select":var ae=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var ye=_.value;ye!=null?S(g,!!_.multiple,ye,!1):ae!==!!_.multiple&&(_.defaultValue!=null?S(g,!!_.multiple,_.defaultValue,!0):S(g,!!_.multiple,_.multiple?[]:"",!1))}g[ks]=_}catch(ke){dt(n,n.return,ke)}}break;case 6:if(yr(s,n),Pr(n),h&4){if(n.stateNode===null)throw Error(r(162));g=n.stateNode,_=n.memoizedProps;try{g.nodeValue=_}catch(ke){dt(n,n.return,ke)}}break;case 3:if(yr(s,n),Pr(n),h&4&&l!==null&&l.memoizedState.isDehydrated)try{fs(s.containerInfo)}catch(ke){dt(n,n.return,ke)}break;case 4:yr(s,n),Pr(n);break;case 13:yr(s,n),Pr(n),g=n.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(uc=pt())),h&4&&um(n);break;case 22:if(le=l!==null&&l.memoizedState!==null,n.mode&1?(Lt=(X=Lt)||le,yr(s,n),Lt=X):yr(s,n),Pr(n),h&8192){if(X=n.memoizedState!==null,(n.stateNode.isHidden=X)&&!le&&(n.mode&1)!==0)for(ve=n,le=n.child;le!==null;){for(de=ve=le;ve!==null;){switch(ae=ve,ye=ae.child,ae.tag){case 0:case 11:case 14:case 15:Ds(4,ae,ae.return);break;case 1:Pi(ae,ae.return);var be=ae.stateNode;if(typeof be.componentWillUnmount=="function"){h=ae,l=ae.return;try{s=h,be.props=s.memoizedProps,be.state=s.memoizedState,be.componentWillUnmount()}catch(ke){dt(h,l,ke)}}break;case 5:Pi(ae,ae.return);break;case 22:if(ae.memoizedState!==null){fm(de);continue}}ye!==null?(ye.return=ae,ve=ye):fm(de)}le=le.sibling}e:for(le=null,de=n;;){if(de.tag===5){if(le===null){le=de;try{g=de.stateNode,X?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(L=de.stateNode,U=de.memoizedProps.style,T=U!=null&&U.hasOwnProperty("display")?U.display:null,L.style.display=zr("display",T))}catch(ke){dt(n,n.return,ke)}}}else if(de.tag===6){if(le===null)try{de.stateNode.nodeValue=X?"":de.memoizedProps}catch(ke){dt(n,n.return,ke)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===n)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===n)break e;for(;de.sibling===null;){if(de.return===null||de.return===n)break e;le===de&&(le=null),de=de.return}le===de&&(le=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:yr(s,n),Pr(n),h&4&&um(n);break;case 21:break;default:yr(s,n),Pr(n)}}function Pr(n){var s=n.flags;if(s&2){try{e:{for(var l=n.return;l!==null;){if(am(l)){var h=l;break e}l=l.return}throw Error(r(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Be(g,""),h.flags&=-33);var _=om(n);ac(n,_,g);break;case 3:case 4:var T=h.stateNode.containerInfo,L=om(n);sc(n,L,T);break;default:throw Error(r(161))}}catch(U){dt(n,n.return,U)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function hx(n,s,l){ve=n,dm(n)}function dm(n,s,l){for(var h=(n.mode&1)!==0;ve!==null;){var g=ve,_=g.child;if(g.tag===22&&h){var T=g.memoizedState!==null||ho;if(!T){var L=g.alternate,U=L!==null&&L.memoizedState!==null||Lt;L=ho;var X=Lt;if(ho=T,(Lt=U)&&!X)for(ve=g;ve!==null;)T=ve,U=T.child,T.tag===22&&T.memoizedState!==null?pm(g):U!==null?(U.return=T,ve=U):pm(g);for(;_!==null;)ve=_,dm(_),_=_.sibling;ve=g,ho=L,Lt=X}hm(n)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,ve=_):hm(n)}}function hm(n){for(;ve!==null;){var s=ve;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Lt||fo(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Lt)if(l===null)h.componentDidMount();else{var g=s.elementType===s.type?l.memoizedProps:mr(s.type,l.memoizedProps);h.componentDidUpdate(g,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var _=s.updateQueue;_!==null&&fp(s,_,h);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}fp(s,T,l)}break;case 5:var L=s.stateNode;if(l===null&&s.flags&4){l=L;var U=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&l.focus();break;case"img":U.src&&(l.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var X=s.alternate;if(X!==null){var le=X.memoizedState;if(le!==null){var de=le.dehydrated;de!==null&&fs(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Lt||s.flags&512&&ic(s)}catch(ae){dt(s,s.return,ae)}}if(s===n){ve=null;break}if(l=s.sibling,l!==null){l.return=s.return,ve=l;break}ve=s.return}}function fm(n){for(;ve!==null;){var s=ve;if(s===n){ve=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ve=l;break}ve=s.return}}function pm(n){for(;ve!==null;){var s=ve;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{fo(4,s)}catch(U){dt(s,l,U)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var g=s.return;try{h.componentDidMount()}catch(U){dt(s,g,U)}}var _=s.return;try{ic(s)}catch(U){dt(s,_,U)}break;case 5:var T=s.return;try{ic(s)}catch(U){dt(s,T,U)}}}catch(U){dt(s,s.return,U)}if(s===n){ve=null;break}var L=s.sibling;if(L!==null){L.return=s.return,ve=L;break}ve=s.return}}var fx=Math.ceil,po=R.ReactCurrentDispatcher,oc=R.ReactCurrentOwner,lr=R.ReactCurrentBatchConfig,He=0,Ct=null,vt=null,Pt=0,er=0,Ri=dn(0),xt=0,Ls=null,$n=0,mo=0,lc=0,Ms=null,Wt=null,uc=0,ji=1/0,Wr=null,go=!1,cc=null,yn=null,yo=!1,vn=null,vo=0,zs=0,dc=null,wo=-1,_o=0;function Ft(){return(He&6)!==0?pt():wo!==-1?wo:wo=pt()}function wn(n){return(n.mode&1)===0?1:(He&2)!==0&&Pt!==0?Pt&-Pt:Jb.transition!==null?(_o===0&&(_o=of()),_o):(n=Xe,n!==0||(n=window.event,n=n===void 0?16:gf(n.type)),n)}function vr(n,s,l,h){if(50<zs)throw zs=0,dc=null,Error(r(185));ls(n,l,h),((He&2)===0||n!==Ct)&&(n===Ct&&((He&2)===0&&(mo|=l),xt===4&&_n(n,Pt)),Ht(n,h),l===1&&He===0&&(s.mode&1)===0&&(ji=pt()+500,Ha&&fn()))}function Ht(n,s){var l=n.callbackNode;J_(n,s);var h=Aa(n,n===Ct?Pt:0);if(h===0)l!==null&&nf(l),n.callbackNode=null,n.callbackPriority=0;else if(s=h&-h,n.callbackPriority!==s){if(l!=null&&nf(l),s===1)n.tag===0?Yb(gm.bind(null,n)):tp(gm.bind(null,n)),Kb(function(){(He&6)===0&&fn()}),l=null;else{switch(lf(h)){case 1:l=ql;break;case 4:l=sf;break;case 16:l=ka;break;case 536870912:l=af;break;default:l=ka}l=km(l,mm.bind(null,n))}n.callbackPriority=s,n.callbackNode=l}}function mm(n,s){if(wo=-1,_o=0,(He&6)!==0)throw Error(r(327));var l=n.callbackNode;if(Oi()&&n.callbackNode!==l)return null;var h=Aa(n,n===Ct?Pt:0);if(h===0)return null;if((h&30)!==0||(h&n.expiredLanes)!==0||s)s=bo(n,h);else{s=h;var g=He;He|=2;var _=vm();(Ct!==n||Pt!==s)&&(Wr=null,ji=pt()+500,qn(n,s));do try{gx();break}catch(L){ym(n,L)}while(!0);Pu(),po.current=_,He=g,vt!==null?s=0:(Ct=null,Pt=0,s=xt)}if(s!==0){if(s===2&&(g=Kl(n),g!==0&&(h=g,s=hc(n,g))),s===1)throw l=Ls,qn(n,0),_n(n,h),Ht(n,pt()),l;if(s===6)_n(n,h);else{if(g=n.current.alternate,(h&30)===0&&!px(g)&&(s=bo(n,h),s===2&&(_=Kl(n),_!==0&&(h=_,s=hc(n,_))),s===1))throw l=Ls,qn(n,0),_n(n,h),Ht(n,pt()),l;switch(n.finishedWork=g,n.finishedLanes=h,s){case 0:case 1:throw Error(r(345));case 2:Kn(n,Wt,Wr);break;case 3:if(_n(n,h),(h&130023424)===h&&(s=uc+500-pt(),10<s)){if(Aa(n,0)!==0)break;if(g=n.suspendedLanes,(g&h)!==h){Ft(),n.pingedLanes|=n.suspendedLanes&g;break}n.timeoutHandle=vu(Kn.bind(null,n,Wt,Wr),s);break}Kn(n,Wt,Wr);break;case 4:if(_n(n,h),(h&4194240)===h)break;for(s=n.eventTimes,g=-1;0<h;){var T=31-hr(h);_=1<<T,T=s[T],T>g&&(g=T),h&=~_}if(h=g,h=pt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*fx(h/1960))-h,10<h){n.timeoutHandle=vu(Kn.bind(null,n,Wt,Wr),h);break}Kn(n,Wt,Wr);break;case 5:Kn(n,Wt,Wr);break;default:throw Error(r(329))}}}return Ht(n,pt()),n.callbackNode===l?mm.bind(null,n):null}function hc(n,s){var l=Ms;return n.current.memoizedState.isDehydrated&&(qn(n,s).flags|=256),n=bo(n,s),n!==2&&(s=Wt,Wt=l,s!==null&&fc(s)),n}function fc(n){Wt===null?Wt=n:Wt.push.apply(Wt,n)}function px(n){for(var s=n;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var g=l[h],_=g.getSnapshot;g=g.value;try{if(!fr(_(),g))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function _n(n,s){for(s&=~lc,s&=~mo,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var l=31-hr(s),h=1<<l;n[l]=-1,s&=~h}}function gm(n){if((He&6)!==0)throw Error(r(327));Oi();var s=Aa(n,0);if((s&1)===0)return Ht(n,pt()),null;var l=bo(n,s);if(n.tag!==0&&l===2){var h=Kl(n);h!==0&&(s=h,l=hc(n,h))}if(l===1)throw l=Ls,qn(n,0),_n(n,s),Ht(n,pt()),l;if(l===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Kn(n,Wt,Wr),Ht(n,pt()),null}function pc(n,s){var l=He;He|=1;try{return n(s)}finally{He=l,He===0&&(ji=pt()+500,Ha&&fn())}}function Vn(n){vn!==null&&vn.tag===0&&(He&6)===0&&Oi();var s=He;He|=1;var l=lr.transition,h=Xe;try{if(lr.transition=null,Xe=1,n)return n()}finally{Xe=h,lr.transition=l,He=s,(He&6)===0&&fn()}}function mc(){er=Ri.current,rt(Ri)}function qn(n,s){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,qb(l)),vt!==null)for(l=vt.return;l!==null;){var h=l;switch(ku(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Ka();break;case 3:Ti(),rt(Vt),rt(Nt),Mu();break;case 5:Du(h);break;case 4:Ti();break;case 13:rt(lt);break;case 19:rt(lt);break;case 10:Ru(h.type._context);break;case 22:case 23:mc()}l=l.return}if(Ct=n,vt=n=bn(n.current,null),Pt=er=s,xt=0,Ls=null,lc=mo=$n=0,Wt=Ms=null,Un!==null){for(s=0;s<Un.length;s++)if(l=Un[s],h=l.interleaved,h!==null){l.interleaved=null;var g=h.next,_=l.pending;if(_!==null){var T=_.next;_.next=g,h.next=T}l.pending=h}Un=null}return n}function ym(n,s){do{var l=vt;try{if(Pu(),no.current=oo,io){for(var h=ut.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}io=!1}if(Fn=0,Et=bt=ut=null,Rs=!1,js=0,oc.current=null,l===null||l.return===null){xt=1,Ls=s,vt=null;break}e:{var _=n,T=l.return,L=l,U=s;if(s=Pt,L.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var X=U,le=L,de=le.tag;if((le.mode&1)===0&&(de===0||de===11||de===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var ye=$p(T);if(ye!==null){ye.flags&=-257,Vp(ye,T,L,_,s),ye.mode&1&&Fp(_,X,s),s=ye,U=X;var be=s.updateQueue;if(be===null){var ke=new Set;ke.add(U),s.updateQueue=ke}else be.add(U);break e}else{if((s&1)===0){Fp(_,X,s),gc();break e}U=Error(r(426))}}else if(it&&L.mode&1){var mt=$p(T);if(mt!==null){(mt.flags&65536)===0&&(mt.flags|=256),Vp(mt,T,L,_,s),Tu(Ai(U,L));break e}}_=U=Ai(U,L),xt!==4&&(xt=2),Ms===null?Ms=[_]:Ms.push(_),_=T;do{switch(_.tag){case 3:_.flags|=65536,s&=-s,_.lanes|=s;var G=Up(_,U,s);hp(_,G);break e;case 1:L=U;var $=_.type,J=_.stateNode;if((_.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(yn===null||!yn.has(J)))){_.flags|=65536,s&=-s,_.lanes|=s;var pe=Bp(_,L,s);hp(_,pe);break e}}_=_.return}while(_!==null)}_m(l)}catch(Ce){s=Ce,vt===l&&l!==null&&(vt=l=l.return);continue}break}while(!0)}function vm(){var n=po.current;return po.current=oo,n===null?oo:n}function gc(){(xt===0||xt===3||xt===2)&&(xt=4),Ct===null||($n&268435455)===0&&(mo&268435455)===0||_n(Ct,Pt)}function bo(n,s){var l=He;He|=2;var h=vm();(Ct!==n||Pt!==s)&&(Wr=null,qn(n,s));do try{mx();break}catch(g){ym(n,g)}while(!0);if(Pu(),He=l,po.current=h,vt!==null)throw Error(r(261));return Ct=null,Pt=0,xt}function mx(){for(;vt!==null;)wm(vt)}function gx(){for(;vt!==null&&!F_();)wm(vt)}function wm(n){var s=Sm(n.alternate,n,er);n.memoizedProps=n.pendingProps,s===null?_m(n):vt=s,oc.current=null}function _m(n){var s=n;do{var l=s.alternate;if(n=s.return,(s.flags&32768)===0){if(l=lx(l,s,er),l!==null){vt=l;return}}else{if(l=ux(l,s),l!==null){l.flags&=32767,vt=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{xt=6,vt=null;return}}if(s=s.sibling,s!==null){vt=s;return}vt=s=n}while(s!==null);xt===0&&(xt=5)}function Kn(n,s,l){var h=Xe,g=lr.transition;try{lr.transition=null,Xe=1,yx(n,s,l,h)}finally{lr.transition=g,Xe=h}return null}function yx(n,s,l,h){do Oi();while(vn!==null);if((He&6)!==0)throw Error(r(327));l=n.finishedWork;var g=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var _=l.lanes|l.childLanes;if(Q_(n,_),n===Ct&&(vt=Ct=null,Pt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||yo||(yo=!0,km(ka,function(){return Oi(),null})),_=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||_){_=lr.transition,lr.transition=null;var T=Xe;Xe=1;var L=He;He|=4,oc.current=null,dx(n,l),cm(l,n),Mb(gu),ja=!!mu,gu=mu=null,n.current=l,hx(l),$_(),He=L,Xe=T,lr.transition=_}else n.current=l;if(yo&&(yo=!1,vn=n,vo=g),_=n.pendingLanes,_===0&&(yn=null),K_(l.stateNode),Ht(n,pt()),s!==null)for(h=n.onRecoverableError,l=0;l<s.length;l++)g=s[l],h(g.value,{componentStack:g.stack,digest:g.digest});if(go)throw go=!1,n=cc,cc=null,n;return(vo&1)!==0&&n.tag!==0&&Oi(),_=n.pendingLanes,(_&1)!==0?n===dc?zs++:(zs=0,dc=n):zs=0,fn(),null}function Oi(){if(vn!==null){var n=lf(vo),s=lr.transition,l=Xe;try{if(lr.transition=null,Xe=16>n?16:n,vn===null)var h=!1;else{if(n=vn,vn=null,vo=0,(He&6)!==0)throw Error(r(331));var g=He;for(He|=4,ve=n.current;ve!==null;){var _=ve,T=_.child;if((ve.flags&16)!==0){var L=_.deletions;if(L!==null){for(var U=0;U<L.length;U++){var X=L[U];for(ve=X;ve!==null;){var le=ve;switch(le.tag){case 0:case 11:case 15:Ds(8,le,_)}var de=le.child;if(de!==null)de.return=le,ve=de;else for(;ve!==null;){le=ve;var ae=le.sibling,ye=le.return;if(sm(le),le===X){ve=null;break}if(ae!==null){ae.return=ye,ve=ae;break}ve=ye}}}var be=_.alternate;if(be!==null){var ke=be.child;if(ke!==null){be.child=null;do{var mt=ke.sibling;ke.sibling=null,ke=mt}while(ke!==null)}}ve=_}}if((_.subtreeFlags&2064)!==0&&T!==null)T.return=_,ve=T;else e:for(;ve!==null;){if(_=ve,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Ds(9,_,_.return)}var G=_.sibling;if(G!==null){G.return=_.return,ve=G;break e}ve=_.return}}var $=n.current;for(ve=$;ve!==null;){T=ve;var J=T.child;if((T.subtreeFlags&2064)!==0&&J!==null)J.return=T,ve=J;else e:for(T=$;ve!==null;){if(L=ve,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:fo(9,L)}}catch(Ce){dt(L,L.return,Ce)}if(L===T){ve=null;break e}var pe=L.sibling;if(pe!==null){pe.return=L.return,ve=pe;break e}ve=L.return}}if(He=g,fn(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(Ea,n)}catch{}h=!0}return h}finally{Xe=l,lr.transition=s}}return!1}function bm(n,s,l){s=Ai(l,s),s=Up(n,s,1),n=mn(n,s,1),s=Ft(),n!==null&&(ls(n,1,s),Ht(n,s))}function dt(n,s,l){if(n.tag===3)bm(n,n,l);else for(;s!==null;){if(s.tag===3){bm(s,n,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(yn===null||!yn.has(h))){n=Ai(l,n),n=Bp(s,n,1),s=mn(s,n,1),n=Ft(),s!==null&&(ls(s,1,n),Ht(s,n));break}}s=s.return}}function vx(n,s,l){var h=n.pingCache;h!==null&&h.delete(s),s=Ft(),n.pingedLanes|=n.suspendedLanes&l,Ct===n&&(Pt&l)===l&&(xt===4||xt===3&&(Pt&130023424)===Pt&&500>pt()-uc?qn(n,0):lc|=l),Ht(n,s)}function xm(n,s){s===0&&((n.mode&1)===0?s=1:(s=Ta,Ta<<=1,(Ta&130023424)===0&&(Ta=4194304)));var l=Ft();n=Vr(n,s),n!==null&&(ls(n,s,l),Ht(n,l))}function wx(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),xm(n,l)}function _x(n,s){var l=0;switch(n.tag){case 13:var h=n.stateNode,g=n.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=n.stateNode;break;default:throw Error(r(314))}h!==null&&h.delete(s),xm(n,l)}var Sm;Sm=function(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps||Vt.current)Kt=!0;else{if((n.lanes&l)===0&&(s.flags&128)===0)return Kt=!1,ox(n,s,l);Kt=(n.flags&131072)!==0}else Kt=!1,it&&(s.flags&1048576)!==0&&rp(s,Ya,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;co(n,s),n=s.pendingProps;var g=_i(s,Nt.current);Ci(s,l),g=Bu(null,s,h,n,g,l);var _=Fu();return s.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,qt(h)?(_=!0,Wa(s)):_=!1,s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Nu(s),g.updater=lo,s.stateNode=g,g._reactInternals=s,Hu(s,h,n,l),s=Qu(null,s,h,!0,_,l)):(s.tag=0,it&&_&&Su(s),Bt(null,s,g,l),s=s.child),s;case 16:h=s.elementType;e:{switch(co(n,s),n=s.pendingProps,g=h._init,h=g(h._payload),s.type=h,g=s.tag=xx(h),n=mr(h,n),g){case 0:s=Ju(null,s,h,n,l);break e;case 1:s=Yp(null,s,h,n,l);break e;case 11:s=qp(null,s,h,n,l);break e;case 14:s=Kp(null,s,h,mr(h.type,n),l);break e}throw Error(r(306,h,""))}return s;case 0:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:mr(h,g),Ju(n,s,h,g,l);case 1:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:mr(h,g),Yp(n,s,h,g,l);case 3:e:{if(Jp(s),n===null)throw Error(r(387));h=s.pendingProps,_=s.memoizedState,g=_.element,dp(n,s),to(s,h,null,l);var T=s.memoizedState;if(h=T.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){g=Ai(Error(r(423)),s),s=Qp(n,s,h,l,g);break e}else if(h!==g){g=Ai(Error(r(424)),s),s=Qp(n,s,h,l,g);break e}else for(Zt=cn(s.stateNode.containerInfo.firstChild),Xt=s,it=!0,pr=null,l=up(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Si(),h===g){s=Kr(n,s,l);break e}Bt(n,s,h,l)}s=s.child}return s;case 5:return pp(s),n===null&&Cu(s),h=s.type,g=s.pendingProps,_=n!==null?n.memoizedProps:null,T=g.children,yu(h,g)?T=null:_!==null&&yu(h,_)&&(s.flags|=32),Gp(n,s),Bt(n,s,T,l),s.child;case 6:return n===null&&Cu(s),null;case 13:return Xp(n,s,l);case 4:return Iu(s,s.stateNode.containerInfo),h=s.pendingProps,n===null?s.child=ki(s,null,h,l):Bt(n,s,h,l),s.child;case 11:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:mr(h,g),qp(n,s,h,g,l);case 7:return Bt(n,s,s.pendingProps,l),s.child;case 8:return Bt(n,s,s.pendingProps.children,l),s.child;case 12:return Bt(n,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,g=s.pendingProps,_=s.memoizedProps,T=g.value,Ze(Xa,h._currentValue),h._currentValue=T,_!==null)if(fr(_.value,T)){if(_.children===g.children&&!Vt.current){s=Kr(n,s,l);break e}}else for(_=s.child,_!==null&&(_.return=s);_!==null;){var L=_.dependencies;if(L!==null){T=_.child;for(var U=L.firstContext;U!==null;){if(U.context===h){if(_.tag===1){U=qr(-1,l&-l),U.tag=2;var X=_.updateQueue;if(X!==null){X=X.shared;var le=X.pending;le===null?U.next=U:(U.next=le.next,le.next=U),X.pending=U}}_.lanes|=l,U=_.alternate,U!==null&&(U.lanes|=l),ju(_.return,l,s),L.lanes|=l;break}U=U.next}}else if(_.tag===10)T=_.type===s.type?null:_.child;else if(_.tag===18){if(T=_.return,T===null)throw Error(r(341));T.lanes|=l,L=T.alternate,L!==null&&(L.lanes|=l),ju(T,l,s),T=_.sibling}else T=_.child;if(T!==null)T.return=_;else for(T=_;T!==null;){if(T===s){T=null;break}if(_=T.sibling,_!==null){_.return=T.return,T=_;break}T=T.return}_=T}Bt(n,s,g.children,l),s=s.child}return s;case 9:return g=s.type,h=s.pendingProps.children,Ci(s,l),g=ar(g),h=h(g),s.flags|=1,Bt(n,s,h,l),s.child;case 14:return h=s.type,g=mr(h,s.pendingProps),g=mr(h.type,g),Kp(n,s,h,g,l);case 15:return Wp(n,s,s.type,s.pendingProps,l);case 17:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:mr(h,g),co(n,s),s.tag=1,qt(h)?(n=!0,Wa(s)):n=!1,Ci(s,l),Mp(s,h,g),Hu(s,h,g,l),Qu(null,s,h,!0,n,l);case 19:return em(n,s,l);case 22:return Hp(n,s,l)}throw Error(r(156,s.tag))};function km(n,s){return rf(n,s)}function bx(n,s,l,h){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(n,s,l,h){return new bx(n,s,l,h)}function yc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function xx(n){if(typeof n=="function")return yc(n)?1:0;if(n!=null){if(n=n.$$typeof,n===re)return 11;if(n===Pe)return 14}return 2}function bn(n,s){var l=n.alternate;return l===null?(l=ur(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function xo(n,s,l,h,g,_){var T=2;if(h=n,typeof n=="function")yc(n)&&(T=1);else if(typeof n=="string")T=5;else e:switch(n){case O:return Wn(l.children,g,_,s);case M:T=8,g|=8;break;case Q:return n=ur(12,l,s,g|2),n.elementType=Q,n.lanes=_,n;case ue:return n=ur(13,l,s,g),n.elementType=ue,n.lanes=_,n;case xe:return n=ur(19,l,s,g),n.elementType=xe,n.lanes=_,n;case Se:return So(l,g,_,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case z:T=10;break e;case q:T=9;break e;case re:T=11;break e;case Pe:T=14;break e;case Re:T=16,h=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return s=ur(T,l,s,g),s.elementType=n,s.type=h,s.lanes=_,s}function Wn(n,s,l,h){return n=ur(7,n,h,s),n.lanes=l,n}function So(n,s,l,h){return n=ur(22,n,h,s),n.elementType=Se,n.lanes=l,n.stateNode={isHidden:!1},n}function vc(n,s,l){return n=ur(6,n,null,s),n.lanes=l,n}function wc(n,s,l){return s=ur(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function Sx(n,s,l,h,g){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wl(0),this.expirationTimes=Wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wl(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function _c(n,s,l,h,g,_,T,L,U){return n=new Sx(n,s,l,L,U),s===1?(s=1,_===!0&&(s|=8)):s=0,_=ur(3,null,null,s),n.current=_,_.stateNode=n,_.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nu(_),n}function kx(n,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:h==null?null:""+h,children:n,containerInfo:s,implementation:l}}function Em(n){if(!n)return hn;n=n._reactInternals;e:{if(In(n)!==n||n.tag!==1)throw Error(r(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(qt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(n.tag===1){var l=n.type;if(qt(l))return Zf(n,l,s)}return s}function Cm(n,s,l,h,g,_,T,L,U){return n=_c(l,h,!0,n,g,_,T,L,U),n.context=Em(null),l=n.current,h=Ft(),g=wn(l),_=qr(h,g),_.callback=s??null,mn(l,_,g),n.current.lanes=g,ls(n,g,h),Ht(n,h),n}function ko(n,s,l,h){var g=s.current,_=Ft(),T=wn(g);return l=Em(l),s.context===null?s.context=l:s.pendingContext=l,s=qr(_,T),s.payload={element:n},h=h===void 0?null:h,h!==null&&(s.callback=h),n=mn(g,s,T),n!==null&&(vr(n,g,T,_),eo(n,g,T)),T}function Eo(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Tm(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function bc(n,s){Tm(n,s),(n=n.alternate)&&Tm(n,s)}function Ex(){return null}var Am=typeof reportError=="function"?reportError:function(n){console.error(n)};function xc(n){this._internalRoot=n}Co.prototype.render=xc.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));ko(n,s,null,null)},Co.prototype.unmount=xc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Vn(function(){ko(null,n,null,null)}),s[Ur]=null}};function Co(n){this._internalRoot=n}Co.prototype.unstable_scheduleHydration=function(n){if(n){var s=df();n={blockedOn:null,target:n,priority:s};for(var l=0;l<on.length&&s!==0&&s<on[l].priority;l++);on.splice(l,0,n),l===0&&pf(n)}};function Sc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function To(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Pm(){}function Cx(n,s,l,h,g){if(g){if(typeof h=="function"){var _=h;h=function(){var X=Eo(T);_.call(X)}}var T=Cm(s,h,n,0,null,!1,!1,"",Pm);return n._reactRootContainer=T,n[Ur]=T.current,xs(n.nodeType===8?n.parentNode:n),Vn(),T}for(;g=n.lastChild;)n.removeChild(g);if(typeof h=="function"){var L=h;h=function(){var X=Eo(U);L.call(X)}}var U=_c(n,0,!1,null,null,!1,!1,"",Pm);return n._reactRootContainer=U,n[Ur]=U.current,xs(n.nodeType===8?n.parentNode:n),Vn(function(){ko(s,U,l,h)}),U}function Ao(n,s,l,h,g){var _=l._reactRootContainer;if(_){var T=_;if(typeof g=="function"){var L=g;g=function(){var U=Eo(T);L.call(U)}}ko(s,T,n,g)}else T=Cx(l,s,n,g,h);return Eo(T)}uf=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var l=os(s.pendingLanes);l!==0&&(Hl(s,l|1),Ht(s,pt()),(He&6)===0&&(ji=pt()+500,fn()))}break;case 13:Vn(function(){var h=Vr(n,1);if(h!==null){var g=Ft();vr(h,n,1,g)}}),bc(n,1)}},Gl=function(n){if(n.tag===13){var s=Vr(n,134217728);if(s!==null){var l=Ft();vr(s,n,134217728,l)}bc(n,134217728)}},cf=function(n){if(n.tag===13){var s=wn(n),l=Vr(n,s);if(l!==null){var h=Ft();vr(l,n,s,h)}bc(n,s)}},df=function(){return Xe},hf=function(n,s){var l=Xe;try{return Xe=n,s()}finally{Xe=l}},Bl=function(n,s,l){switch(s){case"input":if(fe(n,l),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==n&&h.form===n.form){var g=qa(h);if(!g)throw Error(r(90));ft(h),fe(h,g)}}}break;case"textarea":W(n,l);break;case"select":s=l.value,s!=null&&S(n,!!l.multiple,s,!1)}},Yh=pc,Jh=Vn;var Tx={usingClientEntryPoint:!1,Events:[Es,vi,qa,Hh,Gh,pc]},Us={findFiberByHostInstance:Dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ax={bundleType:Us.bundleType,version:Us.version,rendererPackageName:Us.rendererPackageName,rendererConfig:Us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=ef(n),n===null?null:n.stateNode},findFiberByHostInstance:Us.findFiberByHostInstance||Ex,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Po.isDisabled&&Po.supportsFiber)try{Ea=Po.inject(Ax),Er=Po}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tx,Gt.createPortal=function(n,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sc(s))throw Error(r(200));return kx(n,s,null,l)},Gt.createRoot=function(n,s){if(!Sc(n))throw Error(r(299));var l=!1,h="",g=Am;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(g=s.onRecoverableError)),s=_c(n,1,!1,null,null,l,!1,h,g),n[Ur]=s.current,xs(n.nodeType===8?n.parentNode:n),new xc(s)},Gt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=ef(s),n=n===null?null:n.stateNode,n},Gt.flushSync=function(n){return Vn(n)},Gt.hydrate=function(n,s,l){if(!To(s))throw Error(r(200));return Ao(null,n,s,!0,l)},Gt.hydrateRoot=function(n,s,l){if(!Sc(n))throw Error(r(405));var h=l!=null&&l.hydratedSources||null,g=!1,_="",T=Am;if(l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(_=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=Cm(s,null,n,1,l??null,g,!1,_,T),n[Ur]=s.current,xs(n),h)for(n=0;n<h.length;n++)l=h[n],g=l._getVersion,g=g(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,g]:s.mutableSourceEagerHydrationData.push(l,g);return new Co(s)},Gt.render=function(n,s,l){if(!To(s))throw Error(r(200));return Ao(null,n,s,!1,l)},Gt.unmountComponentAtNode=function(n){if(!To(n))throw Error(r(40));return n._reactRootContainer?(Vn(function(){Ao(null,null,n,!1,function(){n._reactRootContainer=null,n[Ur]=null})}),!0):!1},Gt.unstable_batchedUpdates=pc,Gt.unstable_renderSubtreeIntoContainer=function(n,s,l,h){if(!To(l))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return Ao(n,s,l,!1,h)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var Mm;function nv(){if(Mm)return Cc.exports;Mm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cc.exports=zx(),Cc.exports}var zm;function Ux(){if(zm)return Ro;zm=1;var t=nv();return Ro.createRoot=t.createRoot,Ro.hydrateRoot=t.hydrateRoot,Ro}var Bx=Ux();const Fx=Sl(Bx),$x="modulepreload",Vx=function(t){return"/"+t},Um={},Ue=function(e,r,i){let a=Promise.resolve();if(r&&r.length>0){let u=function(f){return Promise.all(f.map(y=>Promise.resolve(y).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=u(r.map(f=>{if(f=Vx(f),f in Um)return;Um[f]=!0;const y=f.endsWith(".css"),m=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const v=document.createElement("link");if(v.rel=y?"stylesheet":$x,y||(v.as="script"),v.crossOrigin="",v.href=f,d&&v.setAttribute("nonce",d),document.head.appendChild(v),y)return new Promise((b,x)=>{v.addEventListener("load",b),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return a.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};nv();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function na(){return na=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},na.apply(this,arguments)}var An;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(An||(An={}));const Bm="popstate";function qx(t){t===void 0&&(t={});function e(i,a){let{pathname:o,search:u,hash:c}=i.location;return ed("",{pathname:o,search:u,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){return typeof a=="string"?a:nl(a)}return Wx(e,r,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Kx(){return Math.random().toString(36).substr(2,8)}function Fm(t,e){return{usr:t.state,key:t.key,idx:e}}function ed(t,e,r,i){return r===void 0&&(r=null),na({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xi(e):e,{state:r,key:e&&e.key||i||Kx()})}function nl(t){let{pathname:e="/",search:r="",hash:i=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Xi(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function Wx(t,e,r,i){i===void 0&&(i={});let{window:a=document.defaultView,v5Compat:o=!1}=i,u=a.history,c=An.Pop,d=null,f=y();f==null&&(f=0,u.replaceState(na({},u.state,{idx:f}),""));function y(){return(u.state||{idx:null}).idx}function m(){c=An.Pop;let C=y(),P=C==null?null:C-f;f=C,d&&d({action:c,location:E.location,delta:P})}function v(C,P){c=An.Push;let N=ed(E.location,C,P);f=y()+1;let k=Fm(N,f),R=E.createHref(N);try{u.pushState(k,"",R)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(R)}o&&d&&d({action:c,location:E.location,delta:1})}function b(C,P){c=An.Replace;let N=ed(E.location,C,P);f=y();let k=Fm(N,f),R=E.createHref(N);u.replaceState(k,"",R),o&&d&&d({action:c,location:E.location,delta:0})}function x(C){let P=a.location.origin!=="null"?a.location.origin:a.location.href,N=typeof C=="string"?C:nl(C);return N=N.replace(/ $/,"%20"),yt(P,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,P)}let E={get action(){return c},get location(){return t(a,u)},listen(C){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Bm,m),d=C,()=>{a.removeEventListener(Bm,m),d=null}},createHref(C){return e(a,C)},createURL:x,encodeLocation(C){let P=x(C);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:v,replace:b,go(C){return u.go(C)}};return E}var $m;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($m||($m={}));function Hx(t,e,r){return r===void 0&&(r="/"),Gx(t,e,r)}function Gx(t,e,r,i){let a=typeof e=="string"?Xi(e):e,o=Kd(a.pathname||"/",r);if(o==null)return null;let u=iv(t);Yx(u);let c=null;for(let d=0;c==null&&d<u.length;++d){let f=o1(o);c=i1(u[d],f)}return c}function iv(t,e,r,i){e===void 0&&(e=[]),r===void 0&&(r=[]),i===void 0&&(i="");let a=(o,u,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(yt(d.relativePath.startsWith(i),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(i.length));let f=Pn([i,d.relativePath]),y=r.concat(d);o.children&&o.children.length>0&&(yt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),iv(o.children,e,y,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:r1(f,o.index),routesMeta:y})};return t.forEach((o,u)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))a(o,u);else for(let d of sv(o.path))a(o,u,d)}),e}function sv(t){let e=t.split("/");if(e.length===0)return[];let[r,...i]=e,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let u=sv(i.join("/")),c=[];return c.push(...u.map(d=>d===""?o:[o,d].join("/"))),a&&c.push(...u),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function Yx(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:n1(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const Jx=/^:[\w-]+$/,Qx=3,Xx=2,Zx=1,e1=10,t1=-2,Vm=t=>t==="*";function r1(t,e){let r=t.split("/"),i=r.length;return r.some(Vm)&&(i+=t1),e&&(i+=Xx),r.filter(a=>!Vm(a)).reduce((a,o)=>a+(Jx.test(o)?Qx:o===""?Zx:e1),i)}function n1(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function i1(t,e,r){let{routesMeta:i}=t,a={},o="/",u=[];for(let c=0;c<i.length;++c){let d=i[c],f=c===i.length-1,y=o==="/"?e:e.slice(o.length)||"/",m=s1({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},y),v=d.route;if(!m)return null;Object.assign(a,m.params),u.push({params:a,pathname:Pn([o,m.pathname]),pathnameBase:h1(Pn([o,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(o=Pn([o,m.pathnameBase]))}return u}function s1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,i]=a1(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:i.reduce((f,y,m)=>{let{paramName:v,isOptional:b}=y;if(v==="*"){let E=c[m]||"";u=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const x=c[m];return b&&!x?f[v]=void 0:f[v]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:u,pattern:t}}function a1(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),qd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,d)=>(i.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function o1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Kd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=t.charAt(r);return i&&i!=="/"?null:t.slice(r)||"/"}const l1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u1=t=>l1.test(t);function c1(t,e){e===void 0&&(e="/");let{pathname:r,search:i="",hash:a=""}=typeof t=="string"?Xi(t):t,o;if(r)if(u1(r))o=r;else{if(r.includes("//")){let u=r;r=r.replace(/\/\/+/g,"/"),qd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+r))}r.startsWith("/")?o=qm(r.substring(1),"/"):o=qm(r,e)}else o=e;return{pathname:o,search:f1(i),hash:p1(a)}}function qm(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Pc(t,e,r,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function d1(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Wd(t,e){let r=d1(t);return e?r.map((i,a)=>a===r.length-1?i.pathname:i.pathnameBase):r.map(i=>i.pathnameBase)}function Hd(t,e,r,i){i===void 0&&(i=!1);let a;typeof t=="string"?a=Xi(t):(a=na({},t),yt(!a.pathname||!a.pathname.includes("?"),Pc("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),Pc("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),Pc("#","search","hash",a)));let o=t===""||a.pathname==="",u=o?"/":a.pathname,c;if(u==null)c=r;else{let m=e.length-1;if(!i&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),m-=1;a.pathname=v.join("/")}c=m>=0?e[m]:"/"}let d=c1(a,c),f=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||y)&&(d.pathname+="/"),d}const Pn=t=>t.join("/").replace(/\/\/+/g,"/"),h1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),f1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,p1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function m1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const av=["post","put","patch","delete"];new Set(av);const g1=["get",...av];new Set(g1);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ia(){return ia=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ia.apply(this,arguments)}const Gd=B.createContext(null),y1=B.createContext(null),On=B.createContext(null),kl=B.createContext(null),Zr=B.createContext({outlet:null,matches:[],isDataRoute:!1}),ov=B.createContext(null);function v1(t,e){let{relative:r}=e===void 0?{}:e;Zi()||yt(!1);let{basename:i,navigator:a}=B.useContext(On),{hash:o,pathname:u,search:c}=uv(t,{relative:r}),d=u;return i!=="/"&&(d=u==="/"?i:Pn([i,u])),a.createHref({pathname:d,search:c,hash:o})}function Zi(){return B.useContext(kl)!=null}function Lr(){return Zi()||yt(!1),B.useContext(kl).location}function lv(t){B.useContext(On).static||B.useLayoutEffect(t)}function oi(){let{isDataRoute:t}=B.useContext(Zr);return t?j1():w1()}function w1(){Zi()||yt(!1);let t=B.useContext(Gd),{basename:e,future:r,navigator:i}=B.useContext(On),{matches:a}=B.useContext(Zr),{pathname:o}=Lr(),u=JSON.stringify(Wd(a,r.v7_relativeSplatPath)),c=B.useRef(!1);return lv(()=>{c.current=!0}),B.useCallback(function(f,y){if(y===void 0&&(y={}),!c.current)return;if(typeof f=="number"){i.go(f);return}let m=Hd(f,JSON.parse(u),o,y.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Pn([e,m.pathname])),(y.replace?i.replace:i.push)(m,y.state,y)},[e,i,u,o,t])}function jj(){let{matches:t}=B.useContext(Zr),e=t[t.length-1];return e?e.params:{}}function uv(t,e){let{relative:r}=e===void 0?{}:e,{future:i}=B.useContext(On),{matches:a}=B.useContext(Zr),{pathname:o}=Lr(),u=JSON.stringify(Wd(a,i.v7_relativeSplatPath));return B.useMemo(()=>Hd(t,JSON.parse(u),o,r==="path"),[t,u,o,r])}function _1(t,e){return b1(t,e)}function b1(t,e,r,i){Zi()||yt(!1);let{navigator:a}=B.useContext(On),{matches:o}=B.useContext(Zr),u=o[o.length-1],c=u?u.params:{};u&&u.pathname;let d=u?u.pathnameBase:"/";u&&u.route;let f=Lr(),y;if(e){var m;let C=typeof e=="string"?Xi(e):e;d==="/"||(m=C.pathname)!=null&&m.startsWith(d)||yt(!1),y=C}else y=f;let v=y.pathname||"/",b=v;if(d!=="/"){let C=d.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(C.length).join("/")}let x=Hx(t,{pathname:b}),E=C1(x&&x.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:Pn([d,a.encodeLocation?a.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:Pn([d,a.encodeLocation?a.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,r,i);return e&&E?B.createElement(kl.Provider,{value:{location:ia({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:An.Pop}},E):E}function x1(){let t=R1(),e=m1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),r?B.createElement("pre",{style:a},r):null,null)}const S1=B.createElement(x1,null);class k1 extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?B.createElement(Zr.Provider,{value:this.props.routeContext},B.createElement(ov.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function E1(t){let{routeContext:e,match:r,children:i}=t,a=B.useContext(Gd);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),B.createElement(Zr.Provider,{value:e},i)}function C1(t,e,r,i){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),i===void 0&&(i=null),t==null){var o;if(!r)return null;if(r.errors)t=r.matches;else if((o=i)!=null&&o.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let u=t,c=(a=r)==null?void 0:a.errors;if(c!=null){let y=u.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);y>=0||yt(!1),u=u.slice(0,Math.min(u.length,y+1))}let d=!1,f=-1;if(r&&i&&i.v7_partialHydration)for(let y=0;y<u.length;y++){let m=u[y];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=y),m.route.id){let{loaderData:v,errors:b}=r,x=m.route.loader&&v[m.route.id]===void 0&&(!b||b[m.route.id]===void 0);if(m.route.lazy||x){d=!0,f>=0?u=u.slice(0,f+1):u=[u[0]];break}}}return u.reduceRight((y,m,v)=>{let b,x=!1,E=null,C=null;r&&(b=c&&m.route.id?c[m.route.id]:void 0,E=m.route.errorElement||S1,d&&(f<0&&v===0?(O1("route-fallback"),x=!0,C=null):f===v&&(x=!0,C=m.route.hydrateFallbackElement||null)));let P=e.concat(u.slice(0,v+1)),N=()=>{let k;return b?k=E:x?k=C:m.route.Component?k=B.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=y,B.createElement(E1,{match:m,routeContext:{outlet:y,matches:P,isDataRoute:r!=null},children:k})};return r&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?B.createElement(k1,{location:r.location,revalidation:r.revalidation,component:E,error:b,children:N(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):N()},null)}var cv=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(cv||{}),dv=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(dv||{});function T1(t){let e=B.useContext(Gd);return e||yt(!1),e}function A1(t){let e=B.useContext(y1);return e||yt(!1),e}function P1(t){let e=B.useContext(Zr);return e||yt(!1),e}function hv(t){let e=P1(),r=e.matches[e.matches.length-1];return r.route.id||yt(!1),r.route.id}function R1(){var t;let e=B.useContext(ov),r=A1(),i=hv();return e!==void 0?e:(t=r.errors)==null?void 0:t[i]}function j1(){let{router:t}=T1(cv.UseNavigateStable),e=hv(dv.UseNavigateStable),r=B.useRef(!1);return lv(()=>{r.current=!0}),B.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,ia({fromRouteId:e},o)))},[t,e])}const Km={};function O1(t,e,r){Km[t]||(Km[t]=!0)}function N1(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function I1(t){let{to:e,replace:r,state:i,relative:a}=t;Zi()||yt(!1);let{future:o,static:u}=B.useContext(On),{matches:c}=B.useContext(Zr),{pathname:d}=Lr(),f=oi(),y=Hd(e,Wd(c,o.v7_relativeSplatPath),d,a==="path"),m=JSON.stringify(y);return B.useEffect(()=>f(JSON.parse(m),{replace:r,state:i,relative:a}),[f,m,a,r,i]),null}function ge(t){yt(!1)}function D1(t){let{basename:e="/",children:r=null,location:i,navigationType:a=An.Pop,navigator:o,static:u=!1,future:c}=t;Zi()&&yt(!1);let d=e.replace(/^\/*/,"/"),f=B.useMemo(()=>({basename:d,navigator:o,static:u,future:ia({v7_relativeSplatPath:!1},c)}),[d,c,o,u]);typeof i=="string"&&(i=Xi(i));let{pathname:y="/",search:m="",hash:v="",state:b=null,key:x="default"}=i,E=B.useMemo(()=>{let C=Kd(y,d);return C==null?null:{location:{pathname:C,search:m,hash:v,state:b,key:x},navigationType:a}},[d,y,m,v,b,x,a]);return E==null?null:B.createElement(On.Provider,{value:f},B.createElement(kl.Provider,{children:r,value:E}))}function L1(t){let{children:e,location:r}=t;return _1(td(e),r)}new Promise(()=>{});function td(t,e){e===void 0&&(e=[]);let r=[];return B.Children.forEach(t,(i,a)=>{if(!B.isValidElement(i))return;let o=[...e,a];if(i.type===B.Fragment){r.push.apply(r,td(i.props.children,o));return}i.type!==ge&&yt(!1),!i.props.index||!i.props.children||yt(!1);let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=td(i.props.children,o)),r.push(u)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rd(){return rd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},rd.apply(this,arguments)}function M1(t,e){if(t==null)return{};var r={},i=Object.keys(t),a,o;for(o=0;o<i.length;o++)a=i[o],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function z1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function U1(t,e){return t.button===0&&(!e||e==="_self")&&!z1(t)}function nd(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let i=t[r];return e.concat(Array.isArray(i)?i.map(a=>[r,a]):[[r,i]])},[]))}function B1(t,e){let r=nd(t);return e&&e.forEach((i,a)=>{r.has(a)||e.getAll(a).forEach(o=>{r.append(a,o)})}),r}const F1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$1="6";try{window.__reactRouterVersion=$1}catch{}const V1="startTransition",Wm=Dx[V1];function q1(t){let{basename:e,children:r,future:i,window:a}=t,o=B.useRef();o.current==null&&(o.current=qx({window:a,v5Compat:!0}));let u=o.current,[c,d]=B.useState({action:u.action,location:u.location}),{v7_startTransition:f}=i||{},y=B.useCallback(m=>{f&&Wm?Wm(()=>d(m)):d(m)},[d,f]);return B.useLayoutEffect(()=>u.listen(y),[u,y]),B.useEffect(()=>N1(i),[i]),B.createElement(D1,{basename:e,children:r,location:c.location,navigationType:c.action,navigator:u,future:i})}const K1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oj=B.forwardRef(function(e,r){let{onClick:i,relative:a,reloadDocument:o,replace:u,state:c,target:d,to:f,preventScrollReset:y,viewTransition:m}=e,v=M1(e,F1),{basename:b}=B.useContext(On),x,E=!1;if(typeof f=="string"&&W1.test(f)&&(x=f,K1))try{let k=new URL(window.location.href),R=f.startsWith("//")?new URL(k.protocol+f):new URL(f),j=Kd(R.pathname,b);R.origin===k.origin&&j!=null?f=j+R.search+R.hash:E=!0}catch{}let C=v1(f,{relative:a}),P=H1(f,{replace:u,state:c,target:d,preventScrollReset:y,relative:a,viewTransition:m});function N(k){i&&i(k),k.defaultPrevented||P(k)}return B.createElement("a",rd({},v,{href:x||C,onClick:E||o?i:N,ref:r,target:d}))});var Hm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hm||(Hm={}));var Gm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Gm||(Gm={}));function H1(t,e){let{target:r,replace:i,state:a,preventScrollReset:o,relative:u,viewTransition:c}=e===void 0?{}:e,d=oi(),f=Lr(),y=uv(t,{relative:u});return B.useCallback(m=>{if(U1(m,r)){m.preventDefault();let v=i!==void 0?i:nl(f)===nl(y);d(t,{replace:v,state:a,preventScrollReset:o,relative:u,viewTransition:c})}},[f,d,y,i,a,r,t,o,u,c])}function Nj(t){let e=B.useRef(nd(t)),r=B.useRef(!1),i=Lr(),a=B.useMemo(()=>B1(i.search,r.current?null:e.current),[i.search]),o=oi(),u=B.useCallback((c,d)=>{const f=nd(typeof c=="function"?c(a):c);r.current=!0,o("?"+f,d)},[o,a]);return[a,u]}var Ym={},G1="@vercel/analytics",Y1="1.6.1",J1=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function fv(){return typeof window<"u"}function pv(){try{const t="production"}catch{}return"production"}function Q1(t="auto"){if(t==="auto"){window.vam=pv();return}window.vam=t}function X1(){return(fv()?window.vam:pv())||"production"}function id(){return X1()==="development"}function Z1(t){return t.scriptSrc?t.scriptSrc:id()?"https://va.vercel-scripts.com/v1/script.debug.js":t.basePath?`${t.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function eS(t={debug:!0}){var e;if(!fv())return;Q1(t.mode),J1(),t.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",t.beforeSend));const r=Z1(t);if(document.head.querySelector(`script[src*="${r}"]`))return;const i=document.createElement("script");i.src=r,i.defer=!0,i.dataset.sdkn=G1+(t.framework?`/${t.framework}`:""),i.dataset.sdkv=Y1,t.disableAutoTrack&&(i.dataset.disableAutoTrack="1"),t.endpoint?i.dataset.endpoint=t.endpoint:t.basePath&&(i.dataset.endpoint=`${t.basePath}/insights`),t.dsn&&(i.dataset.dsn=t.dsn),i.onerror=()=>{const a=id()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${r}. ${a}`)},id()&&t.debug===!1&&(i.dataset.debug="false"),document.head.appendChild(i)}function tS({route:t,path:e}){var r;(r=window.va)==null||r.call(window,"pageview",{route:t,path:e})}function rS(){if(!(typeof process>"u"||typeof Ym>"u"))return Ym.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function nS(t){return B.useEffect(()=>{var e;t.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",t.beforeSend))},[t.beforeSend]),B.useEffect(()=>{eS({framework:t.framework||"react",basePath:t.basePath??rS(),...t.route!==void 0&&{disableAutoTrack:!0},...t})},[]),B.useEffect(()=>{t.route&&t.path&&tS({route:t.route,path:t.path})},[t.route,t.path]),null}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mv=(...t)=>t.filter((e,r,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=B.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:u,...c},d)=>B.createElement("svg",{ref:d,...sS,width:e,height:e,stroke:t,strokeWidth:i?Number(r)*24/Number(e):r,className:mv("lucide",a),...c},[...u.map(([f,y])=>B.createElement(f,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(t,e)=>{const r=B.forwardRef(({className:i,...a},o)=>B.createElement(aS,{ref:o,iconNode:e,className:mv(`lucide-${iS(t)}`,i),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=qe("BatteryCharging",[["path",{d:"M15 7h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2",key:"1sdynx"}],["path",{d:"M6 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h1",key:"1gkd3k"}],["path",{d:"m11 7-3 5h4l-3 5",key:"b4a64w"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=qe("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=qe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=qe("CarFront",[["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=qe("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=qe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=qe("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=qe("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=qe("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=qe("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=qe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=qe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=qe("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=qe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=qe("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=qe("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=qe("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=qe("PhoneIncoming",[["polyline",{points:"16 2 16 8 22 8",key:"1ygljm"}],["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=qe("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=qe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=qe("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=qe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=qe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=qe("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=qe("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=qe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Qd=B.createContext({});function Xd(t){const e=B.useRef(null);return e.current===null&&(e.current=t()),e.current}const Cl=B.createContext(null),Zd=B.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class CS extends B.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function TS({children:t,isPresent:e}){const r=B.useId(),i=B.useRef(null),a=B.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=B.useContext(Zd);return B.useInsertionEffect(()=>{const{width:u,height:c,top:d,left:f}=a.current;if(e||!i.current||!u||!c)return;i.current.dataset.motionPopId=r;const y=document.createElement("style");return o&&(y.nonce=o),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${c}px !important;
            top: ${d}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(y)}},[e]),w.jsx(CS,{isPresent:e,childRef:i,sizeRef:a,children:B.cloneElement(t,{ref:i})})}const AS=({children:t,initial:e,isPresent:r,onExitComplete:i,custom:a,presenceAffectsLayout:o,mode:u})=>{const c=Xd(PS),d=B.useId(),f=B.useCallback(m=>{c.set(m,!0);for(const v of c.values())if(!v)return;i&&i()},[c,i]),y=B.useMemo(()=>({id:d,initial:e,isPresent:r,custom:a,onExitComplete:f,register:m=>(c.set(m,!1),()=>c.delete(m))}),o?[Math.random(),f]:[r,f]);return B.useMemo(()=>{c.forEach((m,v)=>c.set(v,!1))},[r]),B.useEffect(()=>{!r&&!c.size&&i&&i()},[r]),u==="popLayout"&&(t=w.jsx(TS,{isPresent:r,children:t})),w.jsx(Cl.Provider,{value:y,children:t})};function PS(){return new Map}function xv(t=!0){const e=B.useContext(Cl);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:i,register:a}=e,o=B.useId();B.useEffect(()=>{t&&a(o)},[t]);const u=B.useCallback(()=>t&&i&&i(o),[o,i,t]);return!r&&i?[!1,u]:[!0]}const jo=t=>t.key||"";function Zm(t){const e=[];return B.Children.forEach(t,r=>{B.isValidElement(r)&&e.push(r)}),e}const eh=typeof window<"u",Sv=eh?B.useLayoutEffect:B.useEffect,Nr=({children:t,custom:e,initial:r=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:o="sync",propagate:u=!1})=>{const[c,d]=xv(u),f=B.useMemo(()=>Zm(t),[t]),y=u&&!c?[]:f.map(jo),m=B.useRef(!0),v=B.useRef(f),b=Xd(()=>new Map),[x,E]=B.useState(f),[C,P]=B.useState(f);Sv(()=>{m.current=!1,v.current=f;for(let R=0;R<C.length;R++){const j=jo(C[R]);y.includes(j)?b.delete(j):b.get(j)!==!0&&b.set(j,!1)}},[C,y.length,y.join("-")]);const N=[];if(f!==x){let R=[...f];for(let j=0;j<C.length;j++){const D=C[j],O=jo(D);y.includes(O)||(R.splice(j,0,D),N.push(D))}o==="wait"&&N.length&&(R=N),P(Zm(R)),E(f);return}const{forceRender:k}=B.useContext(Qd);return w.jsx(w.Fragment,{children:C.map(R=>{const j=jo(R),D=u&&!c?!1:f===C||y.includes(j),O=()=>{if(b.has(j))b.set(j,!0);else return;let M=!0;b.forEach(Q=>{Q||(M=!1)}),M&&(k==null||k(),P(v.current),u&&(d==null||d()),i&&i())};return w.jsx(AS,{isPresent:D,initial:!m.current||r?void 0:!1,custom:D?void 0:e,presenceAffectsLayout:a,mode:o,onExitComplete:D?void 0:O,children:R},j)})})},rr=t=>t;let kv=rr;function th(t){let e;return()=>(e===void 0&&(e=t()),e)}const Hi=(t,e,r)=>{const i=e-t;return i===0?1:(r-t)/i},Jr=t=>t*1e3,Qr=t=>t/1e3,RS={useManualTiming:!1};function jS(t){let e=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function c(f){o.has(f)&&(d.schedule(f),t()),f(u)}const d={schedule:(f,y=!1,m=!1)=>{const b=m&&i?e:r;return y&&o.add(f),b.has(f)||b.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(u=f,i){a=!0;return}i=!0,[e,r]=[r,e],e.forEach(c),e.clear(),i=!1,a&&(a=!1,d.process(f))}};return d}const Oo=["read","resolveKeyframes","update","preRender","render","postRender"],OS=40;function Ev(t,e){let r=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>r=!0,u=Oo.reduce((P,N)=>(P[N]=jS(o),P),{}),{read:c,resolveKeyframes:d,update:f,preRender:y,render:m,postRender:v}=u,b=()=>{const P=performance.now();r=!1,a.delta=i?1e3/60:Math.max(Math.min(P-a.timestamp,OS),1),a.timestamp=P,a.isProcessing=!0,c.process(a),d.process(a),f.process(a),y.process(a),m.process(a),v.process(a),a.isProcessing=!1,r&&e&&(i=!1,t(b))},x=()=>{r=!0,i=!0,a.isProcessing||t(b)};return{schedule:Oo.reduce((P,N)=>{const k=u[N];return P[N]=(R,j=!1,D=!1)=>(r||x(),k.schedule(R,j,D)),P},{}),cancel:P=>{for(let N=0;N<Oo.length;N++)u[Oo[N]].cancel(P)},state:a,steps:u}}const{schedule:nt,cancel:Rn,state:Ot,steps:jc}=Ev(typeof requestAnimationFrame<"u"?requestAnimationFrame:rr,!0),Cv=B.createContext({strict:!1}),eg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gi={};for(const t in eg)Gi[t]={isEnabled:e=>eg[t].some(r=>!!e[r])};function NS(t){for(const e in t)Gi[e]={...Gi[e],...t[e]}}const IS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||IS.has(t)}let Tv=t=>!sl(t);function DS(t){t&&(Tv=e=>e.startsWith("on")?!sl(e):t(e))}try{DS(require("@emotion/is-prop-valid").default)}catch{}function LS(t,e,r){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(Tv(a)||r===!0&&sl(a)||!e&&!sl(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}function MS(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...i)=>t(...i);return new Proxy(r,{get:(i,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const Tl=B.createContext({});function oa(t){return typeof t=="string"||Array.isArray(t)}function Al(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const rh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nh=["initial",...rh];function Pl(t){return Al(t.animate)||nh.some(e=>oa(t[e]))}function Av(t){return!!(Pl(t)||t.variants)}function zS(t,e){if(Pl(t)){const{initial:r,animate:i}=t;return{initial:r===!1||oa(r)?r:void 0,animate:oa(i)?i:void 0}}return t.inherit!==!1?e:{}}function US(t){const{initial:e,animate:r}=zS(t,B.useContext(Tl));return B.useMemo(()=>({initial:e,animate:r}),[tg(e),tg(r)])}function tg(t){return Array.isArray(t)?t.join(" "):t}const BS=Symbol.for("motionComponentSymbol");function Ui(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function FS(t,e,r){return B.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),r&&(typeof r=="function"?r(i):Ui(r)&&(r.current=i))},[e])}const ih=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$S="framerAppearId",Pv="data-"+ih($S),{schedule:sh}=Ev(queueMicrotask,!1),Rv=B.createContext({});function VS(t,e,r,i,a){var o,u;const{visualElement:c}=B.useContext(Tl),d=B.useContext(Cv),f=B.useContext(Cl),y=B.useContext(Zd).reducedMotion,m=B.useRef(null);i=i||d.renderer,!m.current&&i&&(m.current=i(t,{visualState:e,parent:c,props:r,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:y}));const v=m.current,b=B.useContext(Rv);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&qS(m.current,r,a,b);const x=B.useRef(!1);B.useInsertionEffect(()=>{v&&x.current&&v.update(r,f)});const E=r[Pv],C=B.useRef(!!E&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,E))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,E)));return Sv(()=>{v&&(x.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),sh.render(v.render),C.current&&v.animationState&&v.animationState.animateChanges())}),B.useEffect(()=>{v&&(!C.current&&v.animationState&&v.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)===null||P===void 0||P.call(window,E)}),C.current=!1))}),v}function qS(t,e,r,i){const{layoutId:a,layout:o,drag:u,dragConstraints:c,layoutScroll:d,layoutRoot:f}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:jv(t.parent)),t.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!u||c&&Ui(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,layoutScroll:d,layoutRoot:f})}function jv(t){if(t)return t.options.allowProjection!==!1?t.projection:jv(t.parent)}function KS({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:i,Component:a}){var o,u;t&&NS(t);function c(f,y){let m;const v={...B.useContext(Zd),...f,layoutId:WS(f)},{isStatic:b}=v,x=US(f),E=i(f,b);if(!b&&eh){HS();const C=GS(v);m=C.MeasureLayout,x.visualElement=VS(a,E,v,e,C.ProjectionNode)}return w.jsxs(Tl.Provider,{value:x,children:[m&&x.visualElement?w.jsx(m,{visualElement:x.visualElement,...v}):null,r(a,f,FS(E,x.visualElement,y),E,b,x.visualElement)]})}c.displayName=`motion.${typeof a=="string"?a:`create(${(u=(o=a.displayName)!==null&&o!==void 0?o:a.name)!==null&&u!==void 0?u:""})`}`;const d=B.forwardRef(c);return d[BS]=a,d}function WS({layoutId:t}){const e=B.useContext(Qd).id;return e&&t!==void 0?e+"-"+t:t}function HS(t,e){B.useContext(Cv).strict}function GS(t){const{drag:e,layout:r}=Gi;if(!e&&!r)return{};const i={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const YS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ah(t){return typeof t!="string"||t.includes("-")?!1:!!(YS.indexOf(t)>-1||/[A-Z]/u.test(t))}function rg(t){const e=[{},{}];return t==null||t.values.forEach((r,i)=>{e[0][i]=r.get(),e[1][i]=r.getVelocity()}),e}function oh(t,e,r,i){if(typeof e=="function"){const[a,o]=rg(i);e=e(r!==void 0?r:t.custom,a,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,o]=rg(i);e=e(r!==void 0?r:t.custom,a,o)}return e}const ud=t=>Array.isArray(t),JS=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),QS=t=>ud(t)?t[t.length-1]||0:t,Ut=t=>!!(t&&t.getVelocity);function Go(t){const e=Ut(t)?t.get():t;return JS(e)?e.toValue():e}function XS({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:r},i,a,o){const u={latestValues:ZS(i,a,o,t),renderState:e()};return r&&(u.onMount=c=>r({props:i,current:c,...u}),u.onUpdate=c=>r(c)),u}const Ov=t=>(e,r)=>{const i=B.useContext(Tl),a=B.useContext(Cl),o=()=>XS(t,e,i,a);return r?o():Xd(o)};function ZS(t,e,r,i){const a={},o=i(t,{});for(const v in o)a[v]=Go(o[v]);let{initial:u,animate:c}=t;const d=Pl(t),f=Av(t);e&&f&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),c===void 0&&(c=e.animate));let y=r?r.initial===!1:!1;y=y||u===!1;const m=y?c:u;if(m&&typeof m!="boolean"&&!Al(m)){const v=Array.isArray(m)?m:[m];for(let b=0;b<v.length;b++){const x=oh(t,v[b]);if(x){const{transitionEnd:E,transition:C,...P}=x;for(const N in P){let k=P[N];if(Array.isArray(k)){const R=y?k.length-1:0;k=k[R]}k!==null&&(a[N]=k)}for(const N in E)a[N]=E[N]}}}return a}const es=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],li=new Set(es),Nv=t=>e=>typeof e=="string"&&e.startsWith(t),Iv=Nv("--"),ek=Nv("var(--"),lh=t=>ek(t)?tk.test(t.split("/*")[0].trim()):!1,tk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Dv=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Xr=(t,e,r)=>r>e?e:r<t?t:r,ts={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},la={...ts,transform:t=>Xr(0,1,t)},No={...ts,default:1},ga=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),En=ga("deg"),Ir=ga("%"),Ie=ga("px"),rk=ga("vh"),nk=ga("vw"),ng={...Ir,parse:t=>Ir.parse(t)/100,transform:t=>Ir.transform(t*100)},ik={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,backgroundPositionX:Ie,backgroundPositionY:Ie},sk={rotate:En,rotateX:En,rotateY:En,rotateZ:En,scale:No,scaleX:No,scaleY:No,scaleZ:No,skew:En,skewX:En,skewY:En,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:la,originX:ng,originY:ng,originZ:Ie},ig={...ts,transform:Math.round},uh={...ik,...sk,zIndex:ig,size:Ie,fillOpacity:la,strokeOpacity:la,numOctaves:ig},ak={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ok=es.length;function lk(t,e,r){let i="",a=!0;for(let o=0;o<ok;o++){const u=es[o],c=t[u];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(u.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||r){const f=Dv(c,uh[u]);if(!d){a=!1;const y=ak[u]||u;i+=`${y}(${f}) `}r&&(e[u]=f)}}return i=i.trim(),r?i=r(e,a?"":i):a&&(i="none"),i}function ch(t,e,r){const{style:i,vars:a,transformOrigin:o}=t;let u=!1,c=!1;for(const d in e){const f=e[d];if(li.has(d)){u=!0;continue}else if(Iv(d)){a[d]=f;continue}else{const y=Dv(f,uh[d]);d.startsWith("origin")?(c=!0,o[d]=y):i[d]=y}}if(e.transform||(u||r?i.transform=lk(e,t.transform,r):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:y=0}=o;i.transformOrigin=`${d} ${f} ${y}`}}const uk={offset:"stroke-dashoffset",array:"stroke-dasharray"},ck={offset:"strokeDashoffset",array:"strokeDasharray"};function dk(t,e,r=1,i=0,a=!0){t.pathLength=1;const o=a?uk:ck;t[o.offset]=Ie.transform(-i);const u=Ie.transform(e),c=Ie.transform(r);t[o.array]=`${u} ${c}`}function sg(t,e,r){return typeof t=="string"?t:Ie.transform(e+r*t)}function hk(t,e,r){const i=sg(e,t.x,t.width),a=sg(r,t.y,t.height);return`${i} ${a}`}function dh(t,{attrX:e,attrY:r,attrScale:i,originX:a,originY:o,pathLength:u,pathSpacing:c=1,pathOffset:d=0,...f},y,m){if(ch(t,f,m),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:b,dimensions:x}=t;v.transform&&(x&&(b.transform=v.transform),delete v.transform),x&&(a!==void 0||o!==void 0||b.transform)&&(b.transformOrigin=hk(x,a!==void 0?a:.5,o!==void 0?o:.5)),e!==void 0&&(v.x=e),r!==void 0&&(v.y=r),i!==void 0&&(v.scale=i),u!==void 0&&dk(v,u,c,d,!1)}const hh=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Lv=()=>({...hh(),attrs:{}}),fh=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Mv(t,{style:e,vars:r},i,a){Object.assign(t.style,e,a&&a.getProjectionStyles(i));for(const o in r)t.style.setProperty(o,r[o])}const zv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Uv(t,e,r,i){Mv(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(zv.has(a)?a:ih(a),e.attrs[a])}const al={};function fk(t){Object.assign(al,t)}function Bv(t,{layout:e,layoutId:r}){return li.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!al[t]||t==="opacity")}function ph(t,e,r){var i;const{style:a}=t,o={};for(const u in a)(Ut(a[u])||e.style&&Ut(e.style[u])||Bv(u,t)||((i=r==null?void 0:r.getValue(u))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(o[u]=a[u]);return o}function Fv(t,e,r){const i=ph(t,e,r);for(const a in t)if(Ut(t[a])||Ut(e[a])){const o=es.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[o]=t[a]}return i}function pk(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const ag=["x","y","width","height","cx","cy","r"],mk={useVisualState:Ov({scrapeMotionValuesFromProps:Fv,createRenderState:Lv,onUpdate:({props:t,prevProps:e,current:r,renderState:i,latestValues:a})=>{if(!r)return;let o=!!t.drag;if(!o){for(const c in a)if(li.has(c)){o=!0;break}}if(!o)return;let u=!e;if(e)for(let c=0;c<ag.length;c++){const d=ag[c];t[d]!==e[d]&&(u=!0)}u&&nt.read(()=>{pk(r,i),nt.render(()=>{dh(i,a,fh(r.tagName),t.transformTemplate),Uv(r,i)})})}})},gk={useVisualState:Ov({scrapeMotionValuesFromProps:ph,createRenderState:hh})};function $v(t,e,r){for(const i in e)!Ut(e[i])&&!Bv(i,r)&&(t[i]=e[i])}function yk({transformTemplate:t},e){return B.useMemo(()=>{const r=hh();return ch(r,e,t),Object.assign({},r.vars,r.style)},[e])}function vk(t,e){const r=t.style||{},i={};return $v(i,r,t),Object.assign(i,yk(t,e)),i}function wk(t,e){const r={},i=vk(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}function _k(t,e,r,i){const a=B.useMemo(()=>{const o=Lv();return dh(o,e,fh(i),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};$v(o,t.style,t),a.style={...o,...a.style}}return a}function bk(t=!1){return(r,i,a,{latestValues:o},u)=>{const d=(ah(r)?_k:wk)(i,o,u,r),f=LS(i,typeof r=="string",t),y=r!==B.Fragment?{...f,...d,ref:a}:{},{children:m}=i,v=B.useMemo(()=>Ut(m)?m.get():m,[m]);return B.createElement(r,{...y,children:v})}}function xk(t,e){return function(i,{forwardMotionProps:a}={forwardMotionProps:!1}){const u={...ah(i)?mk:gk,preloadedFeatures:t,useRender:bk(a),createVisualElement:e,Component:i};return KS(u)}}function Vv(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}function Rl(t,e,r){const i=t.getProps();return oh(i,e,r!==void 0?r:i.custom,t)}const Sk=th(()=>window.ScrollTimeline!==void 0);class kk{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,r){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=r}attachTimeline(e,r){const i=this.animations.map(a=>{if(Sk()&&a.attachTimeline)return a.attachTimeline(e);if(typeof r=="function")return r(a)});return()=>{i.forEach((a,o)=>{a&&a(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Ek extends kk{then(e,r){return Promise.all(this.animations).then(e).catch(r)}}function mh(t,e){return t?t[e]||t.default||t:void 0}const cd=2e4;function qv(t){let e=0;const r=50;let i=t.next(e);for(;!i.done&&e<cd;)e+=r,i=t.next(e);return e>=cd?1/0:e}function gh(t){return typeof t=="function"}function og(t,e){t.timeline=e,t.onfinish=null}const yh=t=>Array.isArray(t)&&typeof t[0]=="number",Ck={linearEasing:void 0};function Tk(t,e){const r=th(t);return()=>{var i;return(i=Ck[e])!==null&&i!==void 0?i:r()}}const ol=Tk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Kv=(t,e,r=10)=>{let i="";const a=Math.max(Math.round(e/r),2);for(let o=0;o<a;o++)i+=t(Hi(0,a-1,o))+", ";return`linear(${i.substring(0,i.length-2)})`};function Wv(t){return!!(typeof t=="function"&&ol()||!t||typeof t=="string"&&(t in dd||ol())||yh(t)||Array.isArray(t)&&t.every(Wv))}const Ws=([t,e,r,i])=>`cubic-bezier(${t}, ${e}, ${r}, ${i})`,dd={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ws([0,.65,.55,1]),circOut:Ws([.55,0,1,.45]),backIn:Ws([.31,.01,.66,-.59]),backOut:Ws([.33,1.53,.69,.99])};function Hv(t,e){if(t)return typeof t=="function"&&ol()?Kv(t,e):yh(t)?Ws(t):Array.isArray(t)?t.map(r=>Hv(r,e)||dd.easeOut):dd[t]}const _r={x:!1,y:!1};function Gv(){return _r.x||_r.y}function Ak(t,e,r){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let a=document;const o=(i=void 0)!==null&&i!==void 0?i:a.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function Yv(t,e){const r=Ak(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[r,a,()=>i.abort()]}function lg(t){return e=>{e.pointerType==="touch"||Gv()||t(e)}}function Pk(t,e,r={}){const[i,a,o]=Yv(t,r),u=lg(c=>{const{target:d}=c,f=e(c);if(typeof f!="function"||!d)return;const y=lg(m=>{f(m),d.removeEventListener("pointerleave",y)});d.addEventListener("pointerleave",y,a)});return i.forEach(c=>{c.addEventListener("pointerenter",u,a)}),o}const Jv=(t,e)=>e?t===e?!0:Jv(t,e.parentElement):!1,vh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Rk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function jk(t){return Rk.has(t.tagName)||t.tabIndex!==-1}const Hs=new WeakSet;function ug(t){return e=>{e.key==="Enter"&&t(e)}}function Oc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Ok=(t,e)=>{const r=t.currentTarget;if(!r)return;const i=ug(()=>{if(Hs.has(r))return;Oc(r,"down");const a=ug(()=>{Oc(r,"up")}),o=()=>Oc(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",o,e)});r.addEventListener("keydown",i,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),e)};function cg(t){return vh(t)&&!Gv()}function Nk(t,e,r={}){const[i,a,o]=Yv(t,r),u=c=>{const d=c.currentTarget;if(!cg(c)||Hs.has(d))return;Hs.add(d);const f=e(c),y=(b,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",v),!(!cg(b)||!Hs.has(d))&&(Hs.delete(d),typeof f=="function"&&f(b,{success:x}))},m=b=>{y(b,r.useGlobalTarget||Jv(d,b.target))},v=b=>{y(b,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",v,a)};return i.forEach(c=>{!jk(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(r.useGlobalTarget?window:c).addEventListener("pointerdown",u,a),c.addEventListener("focus",f=>Ok(f,a),a)}),o}function Ik(t){return t==="x"||t==="y"?_r[t]?null:(_r[t]=!0,()=>{_r[t]=!1}):_r.x||_r.y?null:(_r.x=_r.y=!0,()=>{_r.x=_r.y=!1})}const Qv=new Set(["width","height","top","left","right","bottom",...es]);let Yo;function Dk(){Yo=void 0}const Dr={now:()=>(Yo===void 0&&Dr.set(Ot.isProcessing||RS.useManualTiming?Ot.timestamp:performance.now()),Yo),set:t=>{Yo=t,queueMicrotask(Dk)}};function wh(t,e){t.indexOf(e)===-1&&t.push(e)}function _h(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class bh{constructor(){this.subscriptions=[]}add(e){return wh(this.subscriptions,e),()=>_h(this.subscriptions,e)}notify(e,r,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,i);else for(let o=0;o<a;o++){const u=this.subscriptions[o];u&&u(e,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Xv(t,e){return e?t*(1e3/e):0}const dg=30,Lk=t=>!isNaN(parseFloat(t));class Mk{constructor(e,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,a=!0)=>{const o=Dr.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Dr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Lk(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new bh);const i=this.events[e].add(r);return e==="change"?()=>{i(),nt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,i){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Dr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>dg)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,dg);return Xv(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ua(t,e){return new Mk(t,e)}function zk(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,ua(r))}function Uk(t,e){const r=Rl(t,e);let{transitionEnd:i={},transition:a={},...o}=r||{};o={...o,...i};for(const u in o){const c=QS(o[u]);zk(t,u,c)}}function Bk(t){return!!(Ut(t)&&t.add)}function hd(t,e){const r=t.getValue("willChange");if(Bk(r))return r.add(e)}function Zv(t){return t.props[Pv]}const e0=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Fk=1e-7,$k=12;function Vk(t,e,r,i,a){let o,u,c=0;do u=e+(r-e)/2,o=e0(u,i,a)-t,o>0?r=u:e=u;while(Math.abs(o)>Fk&&++c<$k);return u}function ya(t,e,r,i){if(t===e&&r===i)return rr;const a=o=>Vk(o,0,1,t,r);return o=>o===0||o===1?o:e0(a(o),e,i)}const t0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,r0=t=>e=>1-t(1-e),n0=ya(.33,1.53,.69,.99),xh=r0(n0),i0=t0(xh),s0=t=>(t*=2)<1?.5*xh(t):.5*(2-Math.pow(2,-10*(t-1))),Sh=t=>1-Math.sin(Math.acos(t)),a0=r0(Sh),o0=t0(Sh),l0=t=>/^0[^.\s]+$/u.test(t);function qk(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||l0(t):!0}const Xs=t=>Math.round(t*1e5)/1e5,kh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Kk(t){return t==null}const Wk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Eh=(t,e)=>r=>!!(typeof r=="string"&&Wk.test(r)&&r.startsWith(t)||e&&!Kk(r)&&Object.prototype.hasOwnProperty.call(r,e)),u0=(t,e,r)=>i=>{if(typeof i!="string")return i;const[a,o,u,c]=i.match(kh);return{[t]:parseFloat(a),[e]:parseFloat(o),[r]:parseFloat(u),alpha:c!==void 0?parseFloat(c):1}},Hk=t=>Xr(0,255,t),Nc={...ts,transform:t=>Math.round(Hk(t))},ii={test:Eh("rgb","red"),parse:u0("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:i=1})=>"rgba("+Nc.transform(t)+", "+Nc.transform(e)+", "+Nc.transform(r)+", "+Xs(la.transform(i))+")"};function Gk(t){let e="",r="",i="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const fd={test:Eh("#"),parse:Gk,transform:ii.transform},Bi={test:Eh("hsl","hue"),parse:u0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:i=1})=>"hsla("+Math.round(t)+", "+Ir.transform(Xs(e))+", "+Ir.transform(Xs(r))+", "+Xs(la.transform(i))+")"},zt={test:t=>ii.test(t)||fd.test(t)||Bi.test(t),parse:t=>ii.test(t)?ii.parse(t):Bi.test(t)?Bi.parse(t):fd.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ii.transform(t):Bi.transform(t)},Yk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Jk(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(kh))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(Yk))===null||r===void 0?void 0:r.length)||0)>0}const c0="number",d0="color",Qk="var",Xk="var(",hg="${}",Zk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ca(t){const e=t.toString(),r=[],i={color:[],number:[],var:[]},a=[];let o=0;const c=e.replace(Zk,d=>(zt.test(d)?(i.color.push(o),a.push(d0),r.push(zt.parse(d))):d.startsWith(Xk)?(i.var.push(o),a.push(Qk),r.push(d)):(i.number.push(o),a.push(c0),r.push(parseFloat(d))),++o,hg)).split(hg);return{values:r,split:c,indexes:i,types:a}}function h0(t){return ca(t).values}function f0(t){const{split:e,types:r}=ca(t),i=e.length;return a=>{let o="";for(let u=0;u<i;u++)if(o+=e[u],a[u]!==void 0){const c=r[u];c===c0?o+=Xs(a[u]):c===d0?o+=zt.transform(a[u]):o+=a[u]}return o}}const eE=t=>typeof t=="number"?0:t;function tE(t){const e=h0(t);return f0(t)(e.map(eE))}const jn={test:Jk,parse:h0,createTransformer:f0,getAnimatableNone:tE},rE=new Set(["brightness","contrast","saturate","opacity"]);function nE(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=r.match(kh)||[];if(!i)return t;const a=r.replace(i,"");let o=rE.has(e)?1:0;return i!==r&&(o*=100),e+"("+o+a+")"}const iE=/\b([a-z-]*)\(.*?\)/gu,pd={...jn,getAnimatableNone:t=>{const e=t.match(iE);return e?e.map(nE).join(" "):t}},sE={...uh,color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,filter:pd,WebkitFilter:pd},Ch=t=>sE[t];function p0(t,e){let r=Ch(t);return r!==pd&&(r=jn),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const aE=new Set(["auto","none","0"]);function oE(t,e,r){let i=0,a;for(;i<t.length&&!a;){const o=t[i];typeof o=="string"&&!aE.has(o)&&ca(o).values.length&&(a=t[i]),i++}if(a&&r)for(const o of e)t[o]=p0(r,a)}const fg=t=>t===ts||t===Ie,pg=(t,e)=>parseFloat(t.split(", ")[e]),mg=(t,e)=>(r,{transform:i})=>{if(i==="none"||!i)return 0;const a=i.match(/^matrix3d\((.+)\)$/u);if(a)return pg(a[1],e);{const o=i.match(/^matrix\((.+)\)$/u);return o?pg(o[1],t):0}},lE=new Set(["x","y","z"]),uE=es.filter(t=>!lE.has(t));function cE(t){const e=[];return uE.forEach(r=>{const i=t.getValue(r);i!==void 0&&(e.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),e}const Yi={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:mg(4,13),y:mg(5,14)};Yi.translateX=Yi.x;Yi.translateY=Yi.y;const ai=new Set;let md=!1,gd=!1;function m0(){if(gd){const t=Array.from(ai).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),r=new Map;e.forEach(i=>{const a=cE(i);a.length&&(r.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=r.get(i);a&&a.forEach(([o,u])=>{var c;(c=i.getValue(o))===null||c===void 0||c.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}gd=!1,md=!1,ai.forEach(t=>t.complete()),ai.clear()}function g0(){ai.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(gd=!0)})}function dE(){g0(),m0()}class Th{constructor(e,r,i,a,o,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=i,this.motionValue=a,this.element=o,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ai.add(this),md||(md=!0,nt.read(g0),nt.resolveKeyframes(m0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:i,motionValue:a}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const u=a==null?void 0:a.get(),c=e[e.length-1];if(u!==void 0)e[0]=u;else if(i&&r){const d=i.readValue(r,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&u===void 0&&a.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ai.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ai.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const y0=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),hE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fE(t){const e=hE.exec(t);if(!e)return[,];const[,r,i,a]=e;return[`--${r??i}`,a]}function v0(t,e,r=1){const[i,a]=fE(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const u=o.trim();return y0(u)?parseFloat(u):u}return lh(a)?v0(a,e,r+1):a}const w0=t=>e=>e.test(t),pE={test:t=>t==="auto",parse:t=>t},_0=[ts,Ie,Ir,En,nk,rk,pE],gg=t=>_0.find(w0(t));class b0 extends Th{constructor(e,r,i,a,o){super(e,r,i,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:i}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),lh(f))){const y=v0(f,r.current);y!==void 0&&(e[d]=y),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!Qv.has(i)||e.length!==2)return;const[a,o]=e,u=gg(a),c=gg(o);if(u!==c)if(fg(u)&&fg(c))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,i=[];for(let a=0;a<e.length;a++)qk(e[a])&&i.push(a);i.length&&oE(e,i,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yi[i](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var e;const{element:r,name:i,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const o=r.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=a.length-1,c=a[u];a[u]=Yi[i](r.measureViewportBox(),window.getComputedStyle(r.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,f])=>{r.getValue(d).set(f)}),this.resolveNoneKeyframes()}}const yg=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(jn.test(t)||t==="0")&&!t.startsWith("url("));function mE(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function gE(t,e,r,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],u=yg(a,e),c=yg(o,e);return!u||!c?!1:mE(t)||(r==="spring"||gh(r))&&i}const yE=t=>t!==null;function jl(t,{repeat:e,repeatType:r="loop"},i){const a=t.filter(yE),o=e&&r!=="loop"&&e%2===1?0:a.length-1;return!o||i===void 0?a[o]:i}const vE=40;class x0{constructor({autoplay:e=!0,delay:r=0,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:u="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Dr.now(),this.options={autoplay:e,delay:r,type:i,repeat:a,repeatDelay:o,repeatType:u,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>vE?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&dE(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=Dr.now(),this.hasAttemptedResolve=!0;const{name:i,type:a,velocity:o,delay:u,onComplete:c,onUpdate:d,isGenerator:f}=this.options;if(!f&&!gE(e,i,a,o))if(u)this.options.duration=0;else{d&&d(jl(e,this.options,r)),c&&c(),this.resolveFinishedPromise();return}const y=this.initPlayback(e,r);y!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...y},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ct=(t,e,r)=>t+(e-t)*r;function Ic(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function wE({hue:t,saturation:e,lightness:r,alpha:i}){t/=360,e/=100,r/=100;let a=0,o=0,u=0;if(!e)a=o=u=r;else{const c=r<.5?r*(1+e):r+e-r*e,d=2*r-c;a=Ic(d,c,t+1/3),o=Ic(d,c,t),u=Ic(d,c,t-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:i}}function ll(t,e){return r=>r>0?e:t}const Dc=(t,e,r)=>{const i=t*t,a=r*(e*e-i)+i;return a<0?0:Math.sqrt(a)},_E=[fd,ii,Bi],bE=t=>_E.find(e=>e.test(t));function vg(t){const e=bE(t);if(!e)return!1;let r=e.parse(t);return e===Bi&&(r=wE(r)),r}const wg=(t,e)=>{const r=vg(t),i=vg(e);if(!r||!i)return ll(t,e);const a={...r};return o=>(a.red=Dc(r.red,i.red,o),a.green=Dc(r.green,i.green,o),a.blue=Dc(r.blue,i.blue,o),a.alpha=ct(r.alpha,i.alpha,o),ii.transform(a))},xE=(t,e)=>r=>e(t(r)),va=(...t)=>t.reduce(xE),yd=new Set(["none","hidden"]);function SE(t,e){return yd.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function kE(t,e){return r=>ct(t,e,r)}function Ah(t){return typeof t=="number"?kE:typeof t=="string"?lh(t)?ll:zt.test(t)?wg:TE:Array.isArray(t)?S0:typeof t=="object"?zt.test(t)?wg:EE:ll}function S0(t,e){const r=[...t],i=r.length,a=t.map((o,u)=>Ah(o)(o,e[u]));return o=>{for(let u=0;u<i;u++)r[u]=a[u](o);return r}}function EE(t,e){const r={...t,...e},i={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Ah(t[a])(t[a],e[a]));return a=>{for(const o in i)r[o]=i[o](a);return r}}function CE(t,e){var r;const i=[],a={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const u=e.types[o],c=t.indexes[u][a[u]],d=(r=t.values[c])!==null&&r!==void 0?r:0;i[o]=d,a[u]++}return i}const TE=(t,e)=>{const r=jn.createTransformer(e),i=ca(t),a=ca(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?yd.has(t)&&!a.values.length||yd.has(e)&&!i.values.length?SE(t,e):va(S0(CE(i,a),a.values),r):ll(t,e)};function k0(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?ct(t,e,r):Ah(t)(t,e)}const AE=5;function E0(t,e,r){const i=Math.max(e-AE,0);return Xv(r-t(i),e-i)}const ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lc=.001;function PE({duration:t=ht.duration,bounce:e=ht.bounce,velocity:r=ht.velocity,mass:i=ht.mass}){let a,o,u=1-e;u=Xr(ht.minDamping,ht.maxDamping,u),t=Xr(ht.minDuration,ht.maxDuration,Qr(t)),u<1?(a=f=>{const y=f*u,m=y*t,v=y-r,b=vd(f,u),x=Math.exp(-m);return Lc-v/b*x},o=f=>{const m=f*u*t,v=m*r+r,b=Math.pow(u,2)*Math.pow(f,2)*t,x=Math.exp(-m),E=vd(Math.pow(f,2),u);return(-a(f)+Lc>0?-1:1)*((v-b)*x)/E}):(a=f=>{const y=Math.exp(-f*t),m=(f-r)*t+1;return-Lc+y*m},o=f=>{const y=Math.exp(-f*t),m=(r-f)*(t*t);return y*m});const c=5/t,d=jE(a,o,c);if(t=Jr(t),isNaN(d))return{stiffness:ht.stiffness,damping:ht.damping,duration:t};{const f=Math.pow(d,2)*i;return{stiffness:f,damping:u*2*Math.sqrt(i*f),duration:t}}}const RE=12;function jE(t,e,r){let i=r;for(let a=1;a<RE;a++)i=i-t(i)/e(i);return i}function vd(t,e){return t*Math.sqrt(1-e*e)}const OE=["duration","bounce"],NE=["stiffness","damping","mass"];function _g(t,e){return e.some(r=>t[r]!==void 0)}function IE(t){let e={velocity:ht.velocity,stiffness:ht.stiffness,damping:ht.damping,mass:ht.mass,isResolvedFromDuration:!1,...t};if(!_g(t,NE)&&_g(t,OE))if(t.visualDuration){const r=t.visualDuration,i=2*Math.PI/(r*1.2),a=i*i,o=2*Xr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:ht.mass,stiffness:a,damping:o}}else{const r=PE(t);e={...e,...r,mass:ht.mass},e.isResolvedFromDuration=!0}return e}function C0(t=ht.visualDuration,e=ht.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=r;const o=r.keyframes[0],u=r.keyframes[r.keyframes.length-1],c={done:!1,value:o},{stiffness:d,damping:f,mass:y,duration:m,velocity:v,isResolvedFromDuration:b}=IE({...r,velocity:-Qr(r.velocity||0)}),x=v||0,E=f/(2*Math.sqrt(d*y)),C=u-o,P=Qr(Math.sqrt(d/y)),N=Math.abs(C)<5;i||(i=N?ht.restSpeed.granular:ht.restSpeed.default),a||(a=N?ht.restDelta.granular:ht.restDelta.default);let k;if(E<1){const j=vd(P,E);k=D=>{const O=Math.exp(-E*P*D);return u-O*((x+E*P*C)/j*Math.sin(j*D)+C*Math.cos(j*D))}}else if(E===1)k=j=>u-Math.exp(-P*j)*(C+(x+P*C)*j);else{const j=P*Math.sqrt(E*E-1);k=D=>{const O=Math.exp(-E*P*D),M=Math.min(j*D,300);return u-O*((x+E*P*C)*Math.sinh(M)+j*C*Math.cosh(M))/j}}const R={calculatedDuration:b&&m||null,next:j=>{const D=k(j);if(b)c.done=j>=m;else{let O=0;E<1&&(O=j===0?Jr(x):E0(k,j,D));const M=Math.abs(O)<=i,Q=Math.abs(u-D)<=a;c.done=M&&Q}return c.value=c.done?u:D,c},toString:()=>{const j=Math.min(qv(R),cd),D=Kv(O=>R.next(j*O).value,j,30);return j+"ms "+D}};return R}function bg({keyframes:t,velocity:e=0,power:r=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:u,min:c,max:d,restDelta:f=.5,restSpeed:y}){const m=t[0],v={done:!1,value:m},b=M=>c!==void 0&&M<c||d!==void 0&&M>d,x=M=>c===void 0?d:d===void 0||Math.abs(c-M)<Math.abs(d-M)?c:d;let E=r*e;const C=m+E,P=u===void 0?C:u(C);P!==C&&(E=P-m);const N=M=>-E*Math.exp(-M/i),k=M=>P+N(M),R=M=>{const Q=N(M),z=k(M);v.done=Math.abs(Q)<=f,v.value=v.done?P:z};let j,D;const O=M=>{b(v.value)&&(j=M,D=C0({keyframes:[v.value,x(v.value)],velocity:E0(k,M,v.value),damping:a,stiffness:o,restDelta:f,restSpeed:y}))};return O(0),{calculatedDuration:null,next:M=>{let Q=!1;return!D&&j===void 0&&(Q=!0,R(M),O(M)),j!==void 0&&M>=j?D.next(M-j):(!Q&&R(M),v)}}}const DE=ya(.42,0,1,1),LE=ya(0,0,.58,1),T0=ya(.42,0,.58,1),ME=t=>Array.isArray(t)&&typeof t[0]!="number",zE={linear:rr,easeIn:DE,easeInOut:T0,easeOut:LE,circIn:Sh,circInOut:o0,circOut:a0,backIn:xh,backInOut:i0,backOut:n0,anticipate:s0},xg=t=>{if(yh(t)){kv(t.length===4);const[e,r,i,a]=t;return ya(e,r,i,a)}else if(typeof t=="string")return zE[t];return t};function UE(t,e,r){const i=[],a=r||k0,o=t.length-1;for(let u=0;u<o;u++){let c=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||rr:e;c=va(d,c)}i.push(c)}return i}function BE(t,e,{clamp:r=!0,ease:i,mixer:a}={}){const o=t.length;if(kv(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=UE(e,i,a),d=c.length,f=y=>{if(u&&y<t[0])return e[0];let m=0;if(d>1)for(;m<t.length-2&&!(y<t[m+1]);m++);const v=Hi(t[m],t[m+1],y);return c[m](v)};return r?y=>f(Xr(t[0],t[o-1],y)):f}function FE(t,e){const r=t[t.length-1];for(let i=1;i<=e;i++){const a=Hi(0,e,i);t.push(ct(r,1,a))}}function $E(t){const e=[0];return FE(e,t.length-1),e}function VE(t,e){return t.map(r=>r*e)}function qE(t,e){return t.map(()=>e||T0).splice(0,t.length-1)}function ul({duration:t=300,keyframes:e,times:r,ease:i="easeInOut"}){const a=ME(i)?i.map(xg):xg(i),o={done:!1,value:e[0]},u=VE(r&&r.length===e.length?r:$E(e),t),c=BE(u,e,{ease:Array.isArray(a)?a:qE(e,a)});return{calculatedDuration:t,next:d=>(o.value=c(d),o.done=d>=t,o)}}const KE=t=>{const e=({timestamp:r})=>t(r);return{start:()=>nt.update(e,!0),stop:()=>Rn(e),now:()=>Ot.isProcessing?Ot.timestamp:Dr.now()}},WE={decay:bg,inertia:bg,tween:ul,keyframes:ul,spring:C0},HE=t=>t/100;class Ph extends x0{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:r,motionValue:i,element:a,keyframes:o}=this.options,u=(a==null?void 0:a.KeyframeResolver)||Th,c=(d,f)=>this.onKeyframesResolved(d,f);this.resolver=new u(o,c,r,i,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o,velocity:u=0}=this.options,c=gh(r)?r:WE[r]||ul;let d,f;c!==ul&&typeof e[0]!="number"&&(d=va(HE,k0(e[0],e[1])),e=[0,100]);const y=c({...this.options,keyframes:e});o==="mirror"&&(f=c({...this.options,keyframes:[...e].reverse(),velocity:-u})),y.calculatedDuration===null&&(y.calculatedDuration=qv(y));const{calculatedDuration:m}=y,v=m+a,b=v*(i+1)-a;return{generator:y,mirroredGenerator:f,mapPercentToKeyframes:d,calculatedDuration:m,resolvedDuration:v,totalDuration:b}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:i}=this;if(!i){const{keyframes:M}=this.options;return{done:!0,value:M[M.length-1]}}const{finalKeyframe:a,generator:o,mirroredGenerator:u,mapPercentToKeyframes:c,keyframes:d,calculatedDuration:f,totalDuration:y,resolvedDuration:m}=i;if(this.startTime===null)return o.next(0);const{delay:v,repeat:b,repeatType:x,repeatDelay:E,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-y/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const P=this.currentTime-v*(this.speed>=0?1:-1),N=this.speed>=0?P<0:P>y;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let k=this.currentTime,R=o;if(b){const M=Math.min(this.currentTime,y)/m;let Q=Math.floor(M),z=M%1;!z&&M>=1&&(z=1),z===1&&Q--,Q=Math.min(Q,b+1),!!(Q%2)&&(x==="reverse"?(z=1-z,E&&(z-=E/m)):x==="mirror"&&(R=u)),k=Xr(0,1,z)*m}const j=N?{done:!1,value:d[0]}:R.next(k);c&&(j.value=c(j.value));let{done:D}=j;!N&&f!==null&&(D=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return O&&a!==void 0&&(j.value=jl(d,this.options,a)),C&&C(j.value),O&&this.finish(),j}get duration(){const{resolved:e}=this;return e?Qr(e.calculatedDuration):0}get time(){return Qr(this.currentTime)}set time(e){e=Jr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Qr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=KE,onPlay:r,startTime:i}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),r&&r();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const GE=new Set(["opacity","clipPath","filter","transform"]);function YE(t,e,r,{delay:i=0,duration:a=300,repeat:o=0,repeatType:u="loop",ease:c="easeInOut",times:d}={}){const f={[e]:r};d&&(f.offset=d);const y=Hv(c,a);return Array.isArray(y)&&(f.easing=y),t.animate(f,{delay:i,duration:a,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"})}const JE=th(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),cl=10,QE=2e4;function XE(t){return gh(t.type)||t.type==="spring"||!Wv(t.ease)}function ZE(t,e){const r=new Ph({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const a=[];let o=0;for(;!i.done&&o<QE;)i=r.sample(o),a.push(i.value),o+=cl;return{times:void 0,keyframes:a,duration:o-cl,ease:"linear"}}const A0={anticipate:s0,backInOut:i0,circInOut:o0};function eC(t){return t in A0}class Sg extends x0{constructor(e){super(e);const{name:r,motionValue:i,element:a,keyframes:o}=this.options;this.resolver=new b0(o,(u,c)=>this.onKeyframesResolved(u,c),r,i,a),this.resolver.scheduleResolve()}initPlayback(e,r){let{duration:i=300,times:a,ease:o,type:u,motionValue:c,name:d,startTime:f}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof o=="string"&&ol()&&eC(o)&&(o=A0[o]),XE(this.options)){const{onComplete:m,onUpdate:v,motionValue:b,element:x,...E}=this.options,C=ZE(e,E);e=C.keyframes,e.length===1&&(e[1]=e[0]),i=C.duration,a=C.times,o=C.ease,u="keyframes"}const y=YE(c.owner.current,d,e,{...this.options,duration:i,times:a,ease:o});return y.startTime=f??this.calcStartTime(),this.pendingTimeline?(og(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:m}=this.options;c.set(jl(e,this.options,r)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:i,times:a,type:u,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return Qr(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return Qr(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:i}=r;i.currentTime=Jr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:i}=r;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return rr;const{animation:i}=r;og(i,e)}return rr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:i,duration:a,type:o,ease:u,times:c}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:y,onComplete:m,element:v,...b}=this.options,x=new Ph({...b,keyframes:i,duration:a,type:o,ease:u,times:c,isGenerator:!0}),E=Jr(this.time);f.setWithVelocity(x.sample(E-cl).value,x.sample(E).value,cl)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:i,repeatDelay:a,repeatType:o,damping:u,type:c}=e;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=r.owner.getProps();return JE()&&i&&GE.has(i)&&!d&&!f&&!a&&o!=="mirror"&&u!==0&&c!=="inertia"}}const tC={type:"spring",stiffness:500,damping:25,restSpeed:10},rC=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),nC={type:"keyframes",duration:.8},iC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sC=(t,{keyframes:e})=>e.length>2?nC:li.has(t)?t.startsWith("scale")?rC(e[1]):tC:iC;function aC({when:t,delay:e,delayChildren:r,staggerChildren:i,staggerDirection:a,repeat:o,repeatType:u,repeatDelay:c,from:d,elapsed:f,...y}){return!!Object.keys(y).length}const Rh=(t,e,r,i={},a,o)=>u=>{const c=mh(i,t)||{},d=c.delay||i.delay||0;let{elapsed:f=0}=i;f=f-Jr(d);let y={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:v=>{e.set(v),c.onUpdate&&c.onUpdate(v)},onComplete:()=>{u(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:a};aC(c)||(y={...y,...sC(t,y)}),y.duration&&(y.duration=Jr(y.duration)),y.repeatDelay&&(y.repeatDelay=Jr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let m=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(m=!0)),m&&!o&&e.get()!==void 0){const v=jl(y.keyframes,c);if(v!==void 0)return nt.update(()=>{y.onUpdate(v),y.onComplete()}),new Ek([])}return!o&&Sg.supports(y)?new Sg(y):new Ph(y)};function oC({protectedKeys:t,needsAnimating:e},r){const i=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,i}function P0(t,e,{delay:r=0,transitionOverride:i,type:a}={}){var o;let{transition:u=t.getDefaultTransition(),transitionEnd:c,...d}=e;i&&(u=i);const f=[],y=a&&t.animationState&&t.animationState.getState()[a];for(const m in d){const v=t.getValue(m,(o=t.latestValues[m])!==null&&o!==void 0?o:null),b=d[m];if(b===void 0||y&&oC(y,m))continue;const x={delay:r,...mh(u||{},m)};let E=!1;if(window.MotionHandoffAnimation){const P=Zv(t);if(P){const N=window.MotionHandoffAnimation(P,m,nt);N!==null&&(x.startTime=N,E=!0)}}hd(t,m),v.start(Rh(m,v,b,t.shouldReduceMotion&&Qv.has(m)?{type:!1}:x,t,E));const C=v.animation;C&&f.push(C)}return c&&Promise.all(f).then(()=>{nt.update(()=>{c&&Uk(t,c)})}),f}function wd(t,e,r={}){var i;const a=Rl(t,e,r.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(o=r.transitionOverride);const u=a?()=>Promise.all(P0(t,a,r)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:y=0,staggerChildren:m,staggerDirection:v}=o;return lC(t,e,y+f,m,v,r)}:()=>Promise.resolve(),{when:d}=o;if(d){const[f,y]=d==="beforeChildren"?[u,c]:[c,u];return f().then(()=>y())}else return Promise.all([u(),c(r.delay)])}function lC(t,e,r=0,i=0,a=1,o){const u=[],c=(t.variantChildren.size-1)*i,d=a===1?(f=0)=>f*i:(f=0)=>c-f*i;return Array.from(t.variantChildren).sort(uC).forEach((f,y)=>{f.notify("AnimationStart",e),u.push(wd(f,e,{...o,delay:r+d(y)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(u)}function uC(t,e){return t.sortNodePosition(e)}function cC(t,e,r={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(o=>wd(t,o,r));i=Promise.all(a)}else if(typeof e=="string")i=wd(t,e,r);else{const a=typeof e=="function"?Rl(t,e,r.custom):e;i=Promise.all(P0(t,a,r))}return i.then(()=>{t.notify("AnimationComplete",e)})}const dC=nh.length;function R0(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?R0(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<dC;r++){const i=nh[r],a=t.props[i];(oa(a)||a===!1)&&(e[i]=a)}return e}const hC=[...rh].reverse(),fC=rh.length;function pC(t){return e=>Promise.all(e.map(({animation:r,options:i})=>cC(t,r,i)))}function mC(t){let e=pC(t),r=kg(),i=!0;const a=d=>(f,y)=>{var m;const v=Rl(t,y,d==="exit"?(m=t.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(v){const{transition:b,transitionEnd:x,...E}=v;f={...f,...E,...x}}return f};function o(d){e=d(t)}function u(d){const{props:f}=t,y=R0(t.parent)||{},m=[],v=new Set;let b={},x=1/0;for(let C=0;C<fC;C++){const P=hC[C],N=r[P],k=f[P]!==void 0?f[P]:y[P],R=oa(k),j=P===d?N.isActive:null;j===!1&&(x=C);let D=k===y[P]&&k!==f[P]&&R;if(D&&i&&t.manuallyAnimateOnMount&&(D=!1),N.protectedKeys={...b},!N.isActive&&j===null||!k&&!N.prevProp||Al(k)||typeof k=="boolean")continue;const O=gC(N.prevProp,k);let M=O||P===d&&N.isActive&&!D&&R||C>x&&R,Q=!1;const z=Array.isArray(k)?k:[k];let q=z.reduce(a(P),{});j===!1&&(q={});const{prevResolvedValues:re={}}=N,ue={...re,...q},xe=Se=>{M=!0,v.has(Se)&&(Q=!0,v.delete(Se)),N.needsAnimating[Se]=!0;const oe=t.getValue(Se);oe&&(oe.liveStyle=!1)};for(const Se in ue){const oe=q[Se],se=re[Se];if(b.hasOwnProperty(Se))continue;let me=!1;ud(oe)&&ud(se)?me=!Vv(oe,se):me=oe!==se,me?oe!=null?xe(Se):v.add(Se):oe!==void 0&&v.has(Se)?xe(Se):N.protectedKeys[Se]=!0}N.prevProp=k,N.prevResolvedValues=q,N.isActive&&(b={...b,...q}),i&&t.blockInitialAnimation&&(M=!1),M&&(!(D&&O)||Q)&&m.push(...z.map(Se=>({animation:Se,options:{type:P}})))}if(v.size){const C={};v.forEach(P=>{const N=t.getBaseTarget(P),k=t.getValue(P);k&&(k.liveStyle=!0),C[P]=N??null}),m.push({animation:C})}let E=!!m.length;return i&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(E=!1),i=!1,E?e(m):Promise.resolve()}function c(d,f){var y;if(r[d].isActive===f)return Promise.resolve();(y=t.variantChildren)===null||y===void 0||y.forEach(v=>{var b;return(b=v.animationState)===null||b===void 0?void 0:b.setActive(d,f)}),r[d].isActive=f;const m=u(d);for(const v in r)r[v].protectedKeys={};return m}return{animateChanges:u,setActive:c,setAnimateFunction:o,getState:()=>r,reset:()=>{r=kg(),i=!0}}}function gC(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Vv(e,t):!1}function Hn(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kg(){return{animate:Hn(!0),whileInView:Hn(),whileHover:Hn(),whileTap:Hn(),whileDrag:Hn(),whileFocus:Hn(),exit:Hn()}}class Nn{constructor(e){this.isMounted=!1,this.node=e}update(){}}class yC extends Nn{constructor(e){super(e),e.animationState||(e.animationState=mC(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Al(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let vC=0;class wC extends Nn{constructor(){super(...arguments),this.id=vC++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const _C={animation:{Feature:yC},exit:{Feature:wC}};function da(t,e,r,i={passive:!0}){return t.addEventListener(e,r,i),()=>t.removeEventListener(e,r)}function wa(t){return{point:{x:t.pageX,y:t.pageY}}}const bC=t=>e=>vh(e)&&t(e,wa(e));function Zs(t,e,r,i){return da(t,e,bC(r),i)}const Eg=(t,e)=>Math.abs(t-e);function xC(t,e){const r=Eg(t.x,e.x),i=Eg(t.y,e.y);return Math.sqrt(r**2+i**2)}class j0{constructor(e,r,{transformPagePoint:i,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=zc(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,b=xC(m.offset,{x:0,y:0})>=3;if(!v&&!b)return;const{point:x}=m,{timestamp:E}=Ot;this.history.push({...x,timestamp:E});const{onStart:C,onMove:P}=this.handlers;v||(C&&C(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,m)},this.handlePointerMove=(m,v)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Mc(v,this.transformPagePoint),nt.update(this.updatePoint,!0)},this.handlePointerUp=(m,v)=>{this.end();const{onEnd:b,onSessionEnd:x,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=zc(m.type==="pointercancel"?this.lastMoveEventInfo:Mc(v,this.transformPagePoint),this.history);this.startEvent&&b&&b(m,C),x&&x(m,C)},!vh(e))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=i,this.contextWindow=a||window;const u=wa(e),c=Mc(u,this.transformPagePoint),{point:d}=c,{timestamp:f}=Ot;this.history=[{...d,timestamp:f}];const{onSessionStart:y}=r;y&&y(e,zc(c,this.history)),this.removeListeners=va(Zs(this.contextWindow,"pointermove",this.handlePointerMove),Zs(this.contextWindow,"pointerup",this.handlePointerUp),Zs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Rn(this.updatePoint)}}function Mc(t,e){return e?{point:e(t.point)}:t}function Cg(t,e){return{x:t.x-e.x,y:t.y-e.y}}function zc({point:t},e){return{point:t,delta:Cg(t,O0(e)),offset:Cg(t,SC(e)),velocity:kC(e,.1)}}function SC(t){return t[0]}function O0(t){return t[t.length-1]}function kC(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,i=null;const a=O0(t);for(;r>=0&&(i=t[r],!(a.timestamp-i.timestamp>Jr(e)));)r--;if(!i)return{x:0,y:0};const o=Qr(a.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const u={x:(a.x-i.x)/o,y:(a.y-i.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const N0=1e-4,EC=1-N0,CC=1+N0,I0=.01,TC=0-I0,AC=0+I0;function nr(t){return t.max-t.min}function PC(t,e,r){return Math.abs(t-e)<=r}function Tg(t,e,r,i=.5){t.origin=i,t.originPoint=ct(e.min,e.max,t.origin),t.scale=nr(r)/nr(e),t.translate=ct(r.min,r.max,t.origin)-t.originPoint,(t.scale>=EC&&t.scale<=CC||isNaN(t.scale))&&(t.scale=1),(t.translate>=TC&&t.translate<=AC||isNaN(t.translate))&&(t.translate=0)}function ea(t,e,r,i){Tg(t.x,e.x,r.x,i?i.originX:void 0),Tg(t.y,e.y,r.y,i?i.originY:void 0)}function Ag(t,e,r){t.min=r.min+e.min,t.max=t.min+nr(e)}function RC(t,e,r){Ag(t.x,e.x,r.x),Ag(t.y,e.y,r.y)}function Pg(t,e,r){t.min=e.min-r.min,t.max=t.min+nr(e)}function ta(t,e,r){Pg(t.x,e.x,r.x),Pg(t.y,e.y,r.y)}function jC(t,{min:e,max:r},i){return e!==void 0&&t<e?t=i?ct(e,t,i.min):Math.max(t,e):r!==void 0&&t>r&&(t=i?ct(r,t,i.max):Math.min(t,r)),t}function Rg(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function OC(t,{top:e,left:r,bottom:i,right:a}){return{x:Rg(t.x,r,a),y:Rg(t.y,e,i)}}function jg(t,e){let r=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,i]=[i,r]),{min:r,max:i}}function NC(t,e){return{x:jg(t.x,e.x),y:jg(t.y,e.y)}}function IC(t,e){let r=.5;const i=nr(t),a=nr(e);return a>i?r=Hi(e.min,e.max-i,t.min):i>a&&(r=Hi(t.min,t.max-a,e.min)),Xr(0,1,r)}function DC(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const _d=.35;function LC(t=_d){return t===!1?t=0:t===!0&&(t=_d),{x:Og(t,"left","right"),y:Og(t,"top","bottom")}}function Og(t,e,r){return{min:Ng(t,e),max:Ng(t,r)}}function Ng(t,e){return typeof t=="number"?t:t[e]||0}const Ig=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fi=()=>({x:Ig(),y:Ig()}),Dg=()=>({min:0,max:0}),gt=()=>({x:Dg(),y:Dg()});function dr(t){return[t("x"),t("y")]}function D0({top:t,left:e,right:r,bottom:i}){return{x:{min:e,max:r},y:{min:t,max:i}}}function MC({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function zC(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function Uc(t){return t===void 0||t===1}function bd({scale:t,scaleX:e,scaleY:r}){return!Uc(t)||!Uc(e)||!Uc(r)}function Jn(t){return bd(t)||L0(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function L0(t){return Lg(t.x)||Lg(t.y)}function Lg(t){return t&&t!=="0%"}function dl(t,e,r){const i=t-r,a=e*i;return r+a}function Mg(t,e,r,i,a){return a!==void 0&&(t=dl(t,a,i)),dl(t,r,i)+e}function xd(t,e=0,r=1,i,a){t.min=Mg(t.min,e,r,i,a),t.max=Mg(t.max,e,r,i,a)}function M0(t,{x:e,y:r}){xd(t.x,e.translate,e.scale,e.originPoint),xd(t.y,r.translate,r.scale,r.originPoint)}const zg=.999999999999,Ug=1.0000000000001;function UC(t,e,r,i=!1){const a=r.length;if(!a)return;e.x=e.y=1;let o,u;for(let c=0;c<a;c++){o=r[c],u=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Vi(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,M0(t,u)),i&&Jn(o.latestValues)&&Vi(t,o.latestValues))}e.x<Ug&&e.x>zg&&(e.x=1),e.y<Ug&&e.y>zg&&(e.y=1)}function $i(t,e){t.min=t.min+e,t.max=t.max+e}function Bg(t,e,r,i,a=.5){const o=ct(t.min,t.max,a);xd(t,e,r,o,i)}function Vi(t,e){Bg(t.x,e.x,e.scaleX,e.scale,e.originX),Bg(t.y,e.y,e.scaleY,e.scale,e.originY)}function z0(t,e){return D0(zC(t.getBoundingClientRect(),e))}function BC(t,e,r){const i=z0(t,r),{scroll:a}=e;return a&&($i(i.x,a.offset.x),$i(i.y,a.offset.y)),i}const U0=({current:t})=>t?t.ownerDocument.defaultView:null,FC=new WeakMap;class $C{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gt(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(wa(y).point)},o=(y,m)=>{const{drag:v,dragPropagation:b,onDragStart:x}=this.getProps();if(v&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ik(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dr(C=>{let P=this.getAxisMotionValue(C).get()||0;if(Ir.test(P)){const{projection:N}=this.visualElement;if(N&&N.layout){const k=N.layout.layoutBox[C];k&&(P=nr(k)*(parseFloat(P)/100))}}this.originPoint[C]=P}),x&&nt.postRender(()=>x(y,m)),hd(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},u=(y,m)=>{const{dragPropagation:v,dragDirectionLock:b,onDirectionLock:x,onDrag:E}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:C}=m;if(b&&this.currentDirection===null){this.currentDirection=VC(C),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,C),this.updateAxis("y",m.point,C),this.visualElement.render(),E&&E(y,m)},c=(y,m)=>this.stop(y,m),d=()=>dr(y=>{var m;return this.getAnimationState(y)==="paused"&&((m=this.getAxisMotionValue(y).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new j0(e,{onSessionStart:a,onStart:o,onMove:u,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:U0(this.visualElement)})}stop(e,r){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&nt.postRender(()=>o(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,i){const{drag:a}=this.getProps();if(!i||!Io(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=jC(u,this.constraints[e],this.elastic[e])),o.set(u)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:i}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;r&&Ui(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=OC(a.layoutBox,r):this.constraints=!1,this.elastic=LC(i),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&dr(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=DC(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Ui(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=BC(i,a.root,this.visualElement.getTransformPagePoint());let u=NC(a.layout.layoutBox,o);if(r){const c=r(MC(u));this.hasMutatedConstraints=!!c,c&&(u=D0(c))}return u}startAnimation(e){const{drag:r,dragMomentum:i,dragElastic:a,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=dr(y=>{if(!Io(y,r,this.currentDirection))return;let m=d&&d[y]||{};u&&(m={min:0,max:0});const v=a?200:1e6,b=a?40:1e7,x={type:"inertia",velocity:i?e[y]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(y,x)});return Promise.all(f).then(c)}startAxisValueAnimation(e,r){const i=this.getAxisMotionValue(e);return hd(this.visualElement,e),i.start(Rh(e,i,0,r,this.visualElement,!1))}stopAnimation(){dr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){dr(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[r];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){dr(r=>{const{drag:i}=this.getProps();if(!Io(r,i,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(r);if(a&&a.layout){const{min:u,max:c}=a.layout.layoutBox[r];o.set(e[r]-ct(u,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!Ui(r)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};dr(u=>{const c=this.getAxisMotionValue(u);if(c&&this.constraints!==!1){const d=c.get();a[u]=IC({min:d,max:d},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),dr(u=>{if(!Io(u,e,null))return;const c=this.getAxisMotionValue(u),{min:d,max:f}=this.constraints[u];c.set(ct(d,f,a[u]))})}addListeners(){if(!this.visualElement.current)return;FC.set(this.visualElement,this);const e=this.visualElement.current,r=Zs(e,"pointerdown",d=>{const{drag:f,dragListener:y=!0}=this.getProps();f&&y&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();Ui(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),nt.read(i);const u=da(window,"resize",()=>this.scalePositionWithinConstraints()),c=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(dr(y=>{const m=this.getAxisMotionValue(y);m&&(this.originPoint[y]+=d[y].translate,m.set(m.get()+d[y].translate))}),this.visualElement.render())}));return()=>{u(),r(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:u=_d,dragMomentum:c=!0}=e;return{...e,drag:r,dragDirectionLock:i,dragPropagation:a,dragConstraints:o,dragElastic:u,dragMomentum:c}}}function Io(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function VC(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class qC extends Nn{constructor(e){super(e),this.removeGroupControls=rr,this.removeListeners=rr,this.controls=new $C(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Fg=t=>(e,r)=>{t&&nt.postRender(()=>t(e,r))};class KC extends Nn{constructor(){super(...arguments),this.removePointerDownListener=rr}onPointerDown(e){this.session=new j0(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:U0(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Fg(e),onStart:Fg(r),onMove:i,onEnd:(o,u)=>{delete this.session,a&&nt.postRender(()=>a(o,u))}}}mount(){this.removePointerDownListener=Zs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $g(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Fs={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ie.test(t))t=parseFloat(t);else return t;const r=$g(t,e.target.x),i=$g(t,e.target.y);return`${r}% ${i}%`}},WC={correct:(t,{treeScale:e,projectionDelta:r})=>{const i=t,a=jn.parse(t);if(a.length>5)return i;const o=jn.createTransformer(t),u=typeof a[0]!="number"?1:0,c=r.x.scale*e.x,d=r.y.scale*e.y;a[0+u]/=c,a[1+u]/=d;const f=ct(c,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=f),typeof a[3+u]=="number"&&(a[3+u]/=f),o(a)}};class HC extends B.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i,layoutId:a}=this.props,{projection:o}=e;fk(GC),o&&(r.group&&r.group.add(o),i&&i.register&&a&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Jo.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:i,drag:a,isPresent:o}=this.props,u=i.projection;return u&&(u.isPresent=o,a||e.layoutDependency!==r||r===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||nt.postRender(()=>{const c=u.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),sh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function B0(t){const[e,r]=xv(),i=B.useContext(Qd);return w.jsx(HC,{...t,layoutGroup:i,switchLayoutGroup:B.useContext(Rv),isPresent:e,safeToRemove:r})}const GC={borderRadius:{...Fs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fs,borderTopRightRadius:Fs,borderBottomLeftRadius:Fs,borderBottomRightRadius:Fs,boxShadow:WC};function YC(t,e,r){const i=Ut(t)?t:ua(t);return i.start(Rh("",i,e,r)),i.animation}function JC(t){return t instanceof SVGElement&&t.tagName!=="svg"}const QC=(t,e)=>t.depth-e.depth;class XC{constructor(){this.children=[],this.isDirty=!1}add(e){wh(this.children,e),this.isDirty=!0}remove(e){_h(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(QC),this.isDirty=!1,this.children.forEach(e)}}function ZC(t,e){const r=Dr.now(),i=({timestamp:a})=>{const o=a-r;o>=e&&(Rn(i),t(o-e))};return nt.read(i,!0),()=>Rn(i)}const F0=["TopLeft","TopRight","BottomLeft","BottomRight"],eT=F0.length,Vg=t=>typeof t=="string"?parseFloat(t):t,qg=t=>typeof t=="number"||Ie.test(t);function tT(t,e,r,i,a,o){a?(t.opacity=ct(0,r.opacity!==void 0?r.opacity:1,rT(i)),t.opacityExit=ct(e.opacity!==void 0?e.opacity:1,0,nT(i))):o&&(t.opacity=ct(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,i));for(let u=0;u<eT;u++){const c=`border${F0[u]}Radius`;let d=Kg(e,c),f=Kg(r,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||qg(d)===qg(f)?(t[c]=Math.max(ct(Vg(d),Vg(f),i),0),(Ir.test(f)||Ir.test(d))&&(t[c]+="%")):t[c]=f}(e.rotate||r.rotate)&&(t.rotate=ct(e.rotate||0,r.rotate||0,i))}function Kg(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const rT=$0(0,.5,a0),nT=$0(.5,.95,rr);function $0(t,e,r){return i=>i<t?0:i>e?1:r(Hi(t,e,i))}function Wg(t,e){t.min=e.min,t.max=e.max}function cr(t,e){Wg(t.x,e.x),Wg(t.y,e.y)}function Hg(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Gg(t,e,r,i,a){return t-=e,t=dl(t,1/r,i),a!==void 0&&(t=dl(t,1/a,i)),t}function iT(t,e=0,r=1,i=.5,a,o=t,u=t){if(Ir.test(e)&&(e=parseFloat(e),e=ct(u.min,u.max,e/100)-u.min),typeof e!="number")return;let c=ct(o.min,o.max,i);t===o&&(c-=e),t.min=Gg(t.min,e,r,c,a),t.max=Gg(t.max,e,r,c,a)}function Yg(t,e,[r,i,a],o,u){iT(t,e[r],e[i],e[a],e.scale,o,u)}const sT=["x","scaleX","originX"],aT=["y","scaleY","originY"];function Jg(t,e,r,i){Yg(t.x,e,sT,r?r.x:void 0,i?i.x:void 0),Yg(t.y,e,aT,r?r.y:void 0,i?i.y:void 0)}function Qg(t){return t.translate===0&&t.scale===1}function V0(t){return Qg(t.x)&&Qg(t.y)}function Xg(t,e){return t.min===e.min&&t.max===e.max}function oT(t,e){return Xg(t.x,e.x)&&Xg(t.y,e.y)}function Zg(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function q0(t,e){return Zg(t.x,e.x)&&Zg(t.y,e.y)}function ey(t){return nr(t.x)/nr(t.y)}function ty(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class lT{constructor(){this.members=[]}add(e){wh(this.members,e),e.scheduleRender()}remove(e){if(_h(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let i;for(let a=r;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,r){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,r&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:i}=e;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uT(t,e,r){let i="";const a=t.x.translate/e.x,o=t.y.translate/e.y,u=(r==null?void 0:r.z)||0;if((a||o||u)&&(i=`translate3d(${a}px, ${o}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:f,rotate:y,rotateX:m,rotateY:v,skewX:b,skewY:x}=r;f&&(i=`perspective(${f}px) ${i}`),y&&(i+=`rotate(${y}deg) `),m&&(i+=`rotateX(${m}deg) `),v&&(i+=`rotateY(${v}deg) `),b&&(i+=`skewX(${b}deg) `),x&&(i+=`skewY(${x}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(i+=`scale(${c}, ${d})`),i||"none"}const Qn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Gs=typeof window<"u"&&window.MotionDebug!==void 0,Bc=["","X","Y","Z"],cT={visibility:"hidden"},ry=1e3;let dT=0;function Fc(t,e,r,i){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function K0(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=Zv(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",nt,!(a||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&K0(i)}function W0({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},c=e==null?void 0:e()){this.id=dT++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Gs&&(Qn.totalNodes=Qn.resolvedTargetDeltas=Qn.recalculatedProjection=0),this.nodes.forEach(pT),this.nodes.forEach(wT),this.nodes.forEach(_T),this.nodes.forEach(mT),Gs&&window.MotionDebug.record(Qn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new XC)}addEventListener(u,c){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new bh),this.eventHandlers.get(u).add(c)}notifyListeners(u,...c){const d=this.eventHandlers.get(u);d&&d.notify(...c)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=JC(u),this.instance=u;const{layoutId:d,layout:f,visualElement:y}=this.options;if(y&&!y.current&&y.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(f||d)&&(this.isLayoutDirty=!0),t){let m;const v=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=ZC(v,250),Jo.hasAnimatedSinceResize&&(Jo.hasAnimatedSinceResize=!1,this.nodes.forEach(iy))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&y&&(d||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeTargetChanged:b,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||y.getDefaultTransition()||ET,{onLayoutAnimationStart:C,onLayoutAnimationComplete:P}=y.getProps(),N=!this.targetLayout||!q0(this.targetLayout,x)||b,k=!v&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||v&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,k);const R={...mh(E,"layout"),onPlay:C,onComplete:P};(y.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else v||iy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Rn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bT),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&K0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const m=this.path[y];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ny);return}this.isUpdating||this.nodes.forEach(yT),this.isUpdating=!1,this.nodes.forEach(vT),this.nodes.forEach(hT),this.nodes.forEach(fT),this.clearAllSnapshots();const c=Dr.now();Ot.delta=Xr(0,1e3/60,c-Ot.timestamp),Ot.timestamp=c,Ot.isProcessing=!0,jc.update.process(Ot),jc.preRender.process(Ot),jc.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(gT),this.sharedNodes.forEach(xT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(c=!1),c){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!V0(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,y=f!==this.prevTransformTemplateValue;u&&(c||Jn(this.latestValues)||y)&&(a(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return u&&(d=this.removeTransform(d)),CT(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:c}=this.options;if(!c)return gt();const d=c.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(TT))){const{scroll:y}=this.root;y&&($i(d.x,y.offset.x),$i(d.y,y.offset.y))}return d}removeElementScroll(u){var c;const d=gt();if(cr(d,u),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return d;for(let f=0;f<this.path.length;f++){const y=this.path[f],{scroll:m,options:v}=y;y!==this.root&&m&&v.layoutScroll&&(m.wasRoot&&cr(d,u),$i(d.x,m.offset.x),$i(d.y,m.offset.y))}return d}applyTransform(u,c=!1){const d=gt();cr(d,u);for(let f=0;f<this.path.length;f++){const y=this.path[f];!c&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Vi(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Jn(y.latestValues)&&Vi(d,y.latestValues)}return Jn(this.latestValues)&&Vi(d,this.latestValues),d}removeTransform(u){const c=gt();cr(c,u);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!Jn(f.latestValues))continue;bd(f.latestValues)&&f.updateSnapshot();const y=gt(),m=f.measurePageBox();cr(y,m),Jg(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,y)}return Jn(this.latestValues)&&Jg(c,this.latestValues),c}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var c;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!(!this.layout||!(m||v))){if(this.resolvedRelativeTargetAt=Ot.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),ta(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=gt(),this.targetWithTransforms=gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),RC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cr(this.target,this.layout.layoutBox),M0(this.target,this.targetDelta)):cr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),ta(this.relativeTargetOrigin,this.target,b.target),cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Gs&&Qn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||bd(this.parent.latestValues)||L0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(f=!1),f)return;const{layout:y,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||m))return;cr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;UC(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=gt());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Hg(this.prevProjectionDelta.x,this.projectionDelta.x),Hg(this.prevProjectionDelta.y,this.projectionDelta.y)),ea(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!ty(this.projectionDelta.x,this.prevProjectionDelta.x)||!ty(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Gs&&Qn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fi(),this.projectionDelta=Fi(),this.projectionDeltaWithTransform=Fi()}setAnimationOrigin(u,c=!1){const d=this.snapshot,f=d?d.latestValues:{},y={...this.latestValues},m=Fi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const v=gt(),b=d?d.source:void 0,x=this.layout?this.layout.source:void 0,E=b!==x,C=this.getStack(),P=!C||C.members.length<=1,N=!!(E&&!P&&this.options.crossfade===!0&&!this.path.some(kT));this.animationProgress=0;let k;this.mixTargetDelta=R=>{const j=R/1e3;sy(m.x,u.x,j),sy(m.y,u.y,j),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ta(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ST(this.relativeTarget,this.relativeTargetOrigin,v,j),k&&oT(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=gt()),cr(k,this.relativeTarget)),E&&(this.animationValues=y,tT(y,f,this.latestValues,j,N,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Rn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nt.update(()=>{Jo.hasAnimatedSinceResize=!0,this.currentAnimation=YC(0,ry,{...u,onUpdate:c=>{this.mixTargetDelta(c),u.onUpdate&&u.onUpdate(c)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ry),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:y}=u;if(!(!c||!d||!f)){if(this!==u&&this.layout&&f&&H0(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||gt();const m=nr(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+m;const v=nr(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+v}cr(c,d),Vi(c,y),ea(this.projectionDeltaWithTransform,this.layoutCorrected,c,y)}}registerSharedNode(u,c){this.sharedNodes.has(u)||this.sharedNodes.set(u,new lT),this.sharedNodes.get(u).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let c=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const f={};d.z&&Fc("z",u,f,this.animationValues);for(let y=0;y<Bc.length;y++)Fc(`rotate${Bc[y]}`,u,f,this.animationValues),Fc(`skew${Bc[y]}`,u,f,this.animationValues);u.render();for(const y in f)u.setStaticValue(y,f[y]),this.animationValues&&(this.animationValues[y]=f[y]);u.scheduleRender()}getProjectionStyles(u){var c,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return cT;const f={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Go(u==null?void 0:u.pointerEvents)||"",f.transform=y?y(this.latestValues,""):"none",f;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=Go(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Jn(this.latestValues)&&(E.transform=y?y({},""):"none",this.hasProjected=!1),E}const v=m.animationValues||m.latestValues;this.applyTransformsToTarget(),f.transform=uT(this.projectionDeltaWithTransform,this.treeScale,v),y&&(f.transform=y(v,f.transform));const{x:b,y:x}=this.projectionDelta;f.transformOrigin=`${b.origin*100}% ${x.origin*100}% 0`,m.animationValues?f.opacity=m===this?(d=(c=v.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:f.opacity=m===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const E in al){if(v[E]===void 0)continue;const{correct:C,applyTo:P}=al[E],N=f.transform==="none"?v[E]:C(v[E],m);if(P){const k=P.length;for(let R=0;R<k;R++)f[P[R]]=N}else f[E]=N}return this.options.layoutId&&(f.pointerEvents=m===this?Go(u==null?void 0:u.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var c;return(c=u.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(ny),this.root.sharedNodes.clear()}}}function hT(t){t.updateLayout()}function fT(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=t.layout,{animationType:o}=t.options,u=r.source!==t.layout.source;o==="size"?dr(m=>{const v=u?r.measuredBox[m]:r.layoutBox[m],b=nr(v);v.min=i[m].min,v.max=v.min+b}):H0(o,r.layoutBox,i)&&dr(m=>{const v=u?r.measuredBox[m]:r.layoutBox[m],b=nr(i[m]);v.max=v.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+b)});const c=Fi();ea(c,i,r.layoutBox);const d=Fi();u?ea(d,t.applyTransform(a,!0),r.measuredBox):ea(d,i,r.layoutBox);const f=!V0(c);let y=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:v,layout:b}=m;if(v&&b){const x=gt();ta(x,r.layoutBox,v.layoutBox);const E=gt();ta(E,i,b.layoutBox),q0(x,E)||(y=!0),m.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=x,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:r,delta:d,layoutDelta:c,hasLayoutChanged:f,hasRelativeTargetChanged:y})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function pT(t){Gs&&Qn.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function mT(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function gT(t){t.clearSnapshot()}function ny(t){t.clearMeasurements()}function yT(t){t.isLayoutDirty=!1}function vT(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function iy(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function wT(t){t.resolveTargetDelta()}function _T(t){t.calcProjection()}function bT(t){t.resetSkewAndRotation()}function xT(t){t.removeLeadSnapshot()}function sy(t,e,r){t.translate=ct(e.translate,0,r),t.scale=ct(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function ay(t,e,r,i){t.min=ct(e.min,r.min,i),t.max=ct(e.max,r.max,i)}function ST(t,e,r,i){ay(t.x,e.x,r.x,i),ay(t.y,e.y,r.y,i)}function kT(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ET={duration:.45,ease:[.4,0,.1,1]},oy=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ly=oy("applewebkit/")&&!oy("chrome/")?Math.round:rr;function uy(t){t.min=ly(t.min),t.max=ly(t.max)}function CT(t){uy(t.x),uy(t.y)}function H0(t,e,r){return t==="position"||t==="preserve-aspect"&&!PC(ey(e),ey(r),.2)}function TT(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const AT=W0({attachResizeListener:(t,e)=>da(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$c={current:void 0},G0=W0({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!$c.current){const t=new AT({});t.mount(window),t.setOptions({layoutScroll:!0}),$c.current=t}return $c.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),PT={pan:{Feature:KC},drag:{Feature:qC,ProjectionNode:G0,MeasureLayout:B0}};function cy(t,e,r){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,o=i[a];o&&nt.postRender(()=>o(e,wa(e)))}class RT extends Nn{mount(){const{current:e}=this.node;e&&(this.unmount=Pk(e,r=>(cy(this.node,r,"Start"),i=>cy(this.node,i,"End"))))}unmount(){}}class jT extends Nn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=va(da(this.node.current,"focus",()=>this.onFocus()),da(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function dy(t,e,r){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),o=i[a];o&&nt.postRender(()=>o(e,wa(e)))}class OT extends Nn{mount(){const{current:e}=this.node;e&&(this.unmount=Nk(e,r=>(dy(this.node,r,"Start"),(i,{success:a})=>dy(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Sd=new WeakMap,Vc=new WeakMap,NT=t=>{const e=Sd.get(t.target);e&&e(t)},IT=t=>{t.forEach(NT)};function DT({root:t,...e}){const r=t||document;Vc.has(r)||Vc.set(r,{});const i=Vc.get(r),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(IT,{root:t,...e})),i[a]}function LT(t,e,r){const i=DT(e);return Sd.set(t,r),i.observe(t),()=>{Sd.delete(t),i.unobserve(t)}}const MT={some:0,all:1};class zT extends Nn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:i,amount:a="some",once:o}=e,u={root:r?r.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:MT[a]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:y,onViewportLeave:m}=this.node.getProps(),v=f?y:m;v&&v(d)};return LT(this.node.current,u,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(UT(e,r))&&this.startObserver()}unmount(){}}function UT({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const BT={inView:{Feature:zT},tap:{Feature:OT},focus:{Feature:jT},hover:{Feature:RT}},FT={layout:{ProjectionNode:G0,MeasureLayout:B0}},kd={current:null},Y0={current:!1};function $T(){if(Y0.current=!0,!!eh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>kd.current=t.matches;t.addListener(e),e()}else kd.current=!1}const VT=[..._0,zt,jn],qT=t=>VT.find(w0(t)),hy=new WeakMap;function KT(t,e,r){for(const i in e){const a=e[i],o=r[i];if(Ut(a))t.addValue(i,a);else if(Ut(o))t.addValue(i,ua(a,{owner:t}));else if(o!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,ua(u!==void 0?u:a,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const fy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class WT{scrapeMotionValuesFromProps(e,r,i){return{}}constructor({parent:e,props:r,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:o,visualState:u},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Th,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Dr.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,nt.render(this.render,!1,!0))};const{latestValues:d,renderState:f,onUpdate:y}=u;this.onUpdate=y,this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=r,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=Pl(r),this.isVariantNode=Av(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(r,{},this);for(const b in v){const x=v[b];d[b]!==void 0&&Ut(x)&&x.set(d[b],!1)}}mount(e){this.current=e,hy.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),Y0.current||$T(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:kd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){hy.delete(this.current),this.projection&&this.projection.unmount(),Rn(this.notifyUpdate),Rn(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=li.has(e),a=r.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&nt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=r.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),o(),u&&u(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Gi){const r=Gi[e];if(!r)continue;const{isEnabled:i,Feature:a}=r;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<fy.length;i++){const a=fy[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,u=e[o];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=KT(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const i=this.values.get(e);r!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&r!==void 0&&(i=ua(r===null?void 0:r,{owner:this}),this.addValue(e,i)),i}readValue(e,r){var i;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(y0(a)||l0(a))?a=parseFloat(a):!qT(a)&&jn.test(r)&&(a=p0(e,r)),this.setBaseTarget(e,Ut(a)?a.get():a)),Ut(a)?a.get():a}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:i}=this.props;let a;if(typeof i=="string"||typeof i=="object"){const u=oh(this.props,i,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);u&&(a=u[e])}if(i&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Ut(o)?o:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new bh),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class J0 extends WT{constructor(){super(...arguments),this.KeyframeResolver=b0}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:i}){delete r[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ut(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function HT(t){return window.getComputedStyle(t)}class GT extends J0{constructor(){super(...arguments),this.type="html",this.renderInstance=Mv}readValueFromInstance(e,r){if(li.has(r)){const i=Ch(r);return i&&i.default||0}else{const i=HT(e),a=(Iv(r)?i.getPropertyValue(r):i[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return z0(e,r)}build(e,r,i){ch(e,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,r,i){return ph(e,r,i)}}class YT extends J0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gt}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(li.has(r)){const i=Ch(r);return i&&i.default||0}return r=zv.has(r)?r:ih(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,i){return Fv(e,r,i)}build(e,r,i){dh(e,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,r,i,a){Uv(e,r,i,a)}mount(e){this.isSVGTag=fh(e.tagName),super.mount(e)}}const JT=(t,e)=>ah(t)?new YT(e):new GT(e,{allowProjection:t!==B.Fragment}),QT=xk({..._C,...BT,...PT,...FT},JT),De=MS(QT);var Hr={},Do={},Ed=function(t,e){return Ed=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},Ed(t,e)};function Q0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ed(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var hl=function(){return hl=Object.assign||function(e){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},hl.apply(this,arguments)};function rs(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(r[i[a]]=t[i[a]]);return r}function X0(t,e,r,i){var a=arguments.length,o=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,i);else for(var c=t.length-1;c>=0;c--)(u=t[c])&&(o=(a<3?u(o):a>3?u(e,r,o):u(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o}function Z0(t,e){return function(r,i){e(r,i,t)}}function ew(t,e,r,i,a,o){function u(P){if(P!==void 0&&typeof P!="function")throw new TypeError("Function expected");return P}for(var c=i.kind,d=c==="getter"?"get":c==="setter"?"set":"value",f=!e&&t?i.static?t:t.prototype:null,y=e||(f?Object.getOwnPropertyDescriptor(f,i.name):{}),m,v=!1,b=r.length-1;b>=0;b--){var x={};for(var E in i)x[E]=E==="access"?{}:i[E];for(var E in i.access)x.access[E]=i.access[E];x.addInitializer=function(P){if(v)throw new TypeError("Cannot add initializers after decoration has completed");o.push(u(P||null))};var C=(0,r[b])(c==="accessor"?{get:y.get,set:y.set}:y[d],x);if(c==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(m=u(C.get))&&(y.get=m),(m=u(C.set))&&(y.set=m),(m=u(C.init))&&a.unshift(m)}else(m=u(C))&&(c==="field"?a.unshift(m):y[d]=m)}f&&Object.defineProperty(f,i.name,y),v=!0}function tw(t,e,r){for(var i=arguments.length>2,a=0;a<e.length;a++)r=i?e[a].call(t,r):e[a].call(t);return i?r:void 0}function rw(t){return typeof t=="symbol"?t:"".concat(t)}function nw(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function iw(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function we(t,e,r,i){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function c(y){try{f(i.next(y))}catch(m){u(m)}}function d(y){try{f(i.throw(y))}catch(m){u(m)}}function f(y){y.done?o(y.value):a(y.value).then(c,d)}f((i=i.apply(t,e||[])).next())})}function sw(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,a,o,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=c(0),u.throw=c(1),u.return=c(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(f){return function(y){return d([f,y])}}function d(f){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,f[0]&&(r=0)),r;)try{if(i=1,a&&(o=f[0]&2?a.return:f[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,f[1])).done)return o;switch(a=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,a=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){r.label=f[1];break}if(f[0]===6&&r.label<o[1]){r.label=o[1],o=f;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(f);break}o[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(y){f=[6,y],a=0}finally{i=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Ol=Object.create?(function(t,e,r,i){i===void 0&&(i=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,a)}):(function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]});function aw(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ol(e,t,r)}function fl(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function jh(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),a,o=[],u;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(c){u={error:c}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(u)throw u.error}}return o}function ow(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(jh(arguments[e]));return t}function lw(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var i=Array(t),a=0,e=0;e<r;e++)for(var o=arguments[e],u=0,c=o.length;u<c;u++,a++)i[a]=o[u];return i}function uw(t,e,r){if(r||arguments.length===2)for(var i=0,a=e.length,o;i<a;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))}function Ji(t){return this instanceof Ji?(this.v=t,this):new Ji(t)}function cw(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(t,e||[]),a,o=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",u),a[Symbol.asyncIterator]=function(){return this},a;function u(b){return function(x){return Promise.resolve(x).then(b,m)}}function c(b,x){i[b]&&(a[b]=function(E){return new Promise(function(C,P){o.push([b,E,C,P])>1||d(b,E)})},x&&(a[b]=x(a[b])))}function d(b,x){try{f(i[b](x))}catch(E){v(o[0][3],E)}}function f(b){b.value instanceof Ji?Promise.resolve(b.value.v).then(y,m):v(o[0][2],b)}function y(b){d("next",b)}function m(b){d("throw",b)}function v(b,x){b(x),o.shift(),o.length&&d(o[0][0],o[0][1])}}function dw(t){var e,r;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,o){e[a]=t[a]?function(u){return(r=!r)?{value:Ji(t[a](u)),done:!1}:o?o(u):u}:o}}function hw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof fl=="function"?fl(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(o){r[o]=t[o]&&function(u){return new Promise(function(c,d){u=t[o](u),a(c,d,u.done,u.value)})}}function a(o,u,c,d){Promise.resolve(d).then(function(f){o({value:f,done:c})},u)}}function fw(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var XT=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Cd=function(t){return Cd=Object.getOwnPropertyNames||function(e){var r=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[r.length]=i);return r},Cd(t)};function pw(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Cd(t),i=0;i<r.length;i++)r[i]!=="default"&&Ol(e,t,r[i]);return XT(e,t),e}function mw(t){return t&&t.__esModule?t:{default:t}}function gw(t,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(t):i?i.value:e.get(t)}function yw(t,e,r,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(t,r):a?a.value=r:e.set(t,r),r}function vw(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function ww(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],r&&(a=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");a&&(i=function(){try{a.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:i,async:r})}else r&&t.stack.push({async:!0});return e}var ZT=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var i=new Error(r);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};function _w(t){function e(o){t.error=t.hasError?new ZT(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var r,i=0;function a(){for(;r=t.stack.pop();)try{if(!r.async&&i===1)return i=0,t.stack.push(r),Promise.resolve().then(a);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(o).then(a,function(u){return e(u),a()})}else i|=1}catch(u){e(u)}if(i===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return a()}function bw(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,i,a,o,u){return i?e?".jsx":".js":a&&(!o||!u)?r:a+o+"."+u.toLowerCase()+"js"}):t}const eA={__extends:Q0,__assign:hl,__rest:rs,__decorate:X0,__param:Z0,__esDecorate:ew,__runInitializers:tw,__propKey:rw,__setFunctionName:nw,__metadata:iw,__awaiter:we,__generator:sw,__createBinding:Ol,__exportStar:aw,__values:fl,__read:jh,__spread:ow,__spreadArrays:lw,__spreadArray:uw,__await:Ji,__asyncGenerator:cw,__asyncDelegator:dw,__asyncValues:hw,__makeTemplateObject:fw,__importStar:pw,__importDefault:mw,__classPrivateFieldGet:gw,__classPrivateFieldSet:yw,__classPrivateFieldIn:vw,__addDisposableResource:ww,__disposeResources:_w,__rewriteRelativeImportExtension:bw},tA=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ww,get __assign(){return hl},__asyncDelegator:dw,__asyncGenerator:cw,__asyncValues:hw,__await:Ji,__awaiter:we,__classPrivateFieldGet:gw,__classPrivateFieldIn:vw,__classPrivateFieldSet:yw,__createBinding:Ol,__decorate:X0,__disposeResources:_w,__esDecorate:ew,__exportStar:aw,__extends:Q0,__generator:sw,__importDefault:mw,__importStar:pw,__makeTemplateObject:fw,__metadata:iw,__param:Z0,__propKey:rw,__read:jh,__rest:rs,__rewriteRelativeImportExtension:bw,__runInitializers:tw,__setFunctionName:nw,__spread:ow,__spreadArray:uw,__spreadArrays:lw,__values:fl,default:eA},Symbol.toStringTag,{value:"Module"})),rA=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let Nl=class extends Error{constructor(e,r="FunctionsError",i){super(e),this.name=r,this.context=i}},xw=class extends Nl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Td=class extends Nl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Ad=class extends Nl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var pl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(pl||(pl={}));class nA{constructor(e,{headers:r={},customFetch:i,region:a=pl.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=rA(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return we(this,arguments,void 0,function*(r,i={}){var a;let o,u;try{const{headers:c,method:d,body:f,signal:y,timeout:m}=i;let v={},{region:b}=i;b||(b=this.region);const x=new URL(`${this.url}/${r}`);b&&b!=="any"&&(v["x-region"]=b,x.searchParams.set("forceFunctionRegion",b));let E;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",E=f):typeof f=="string"?(v["Content-Type"]="text/plain",E=f):typeof FormData<"u"&&f instanceof FormData?E=f:(v["Content-Type"]="application/json",E=JSON.stringify(f)):E=f;let C=y;m&&(u=new AbortController,o=setTimeout(()=>u.abort(),m),y?(C=u.signal,y.addEventListener("abort",()=>u.abort())):C=u.signal);const P=yield this.fetch(x.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),c),body:E,signal:C}).catch(j=>{throw new xw(j)}),N=P.headers.get("x-relay-error");if(N&&N==="true")throw new Td(P);if(!P.ok)throw new Ad(P);let k=((a=P.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),R;return k==="application/json"?R=yield P.json():k==="application/octet-stream"||k==="application/pdf"?R=yield P.blob():k==="text/event-stream"?R=P:k==="multipart/form-data"?R=yield P.formData():R=yield P.text(),{data:R,error:null,response:P}}catch(c){return{data:null,error:c,response:c instanceof Ad||c instanceof Td?c.context:void 0}}finally{o&&clearTimeout(o)}})}}const iA=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return pl},FunctionsClient:nA,FunctionsError:Nl,FunctionsFetchError:xw,FunctionsHttpError:Ad,FunctionsRelayError:Td},Symbol.toStringTag,{value:"Module"})),Sw=ma(iA);var Mt={};const ns=ma(tA);var Lo={},Mo={},zo={},Uo={},Bo={},Fo={},py;function kw(){if(py)return Fo;py=1,Object.defineProperty(Fo,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Fo.default=t,Fo}var my;function Ew(){if(my)return Bo;my=1,Object.defineProperty(Bo,"__esModule",{value:!0});const e=ns.__importDefault(kw());let r=class{constructor(a){var o,u;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(o=a.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=a.signal,this.isMaybeSingle=(u=a.isMaybeSingle)!==null&&u!==void 0?u:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=new Headers(this.headers),this.headers.set(a,o),this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let c=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,y,m,v;let b=null,x=null,E=null,C=d.status,P=d.statusText;if(d.ok){if(this.method!=="HEAD"){const j=await d.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?x=j:x=JSON.parse(j))}const k=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),R=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");k&&R&&R.length>1&&(E=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(b={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,E=null,C=406,P="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const k=await d.text();try{b=JSON.parse(k),Array.isArray(b)&&d.status===404&&(x=[],b=null,C=200,P="OK")}catch{d.status===404&&k===""?(C=204,P="No Content"):b={message:k}}if(b&&this.isMaybeSingle&&(!((v=b==null?void 0:b.details)===null||v===void 0)&&v.includes("0 rows"))&&(b=null,C=200,P="OK"),b&&this.shouldThrowOnError)throw new e.default(b)}return{error:b,data:x,count:E,status:C,statusText:P}});return this.shouldThrowOnError||(c=c.catch(d=>{var f,y,m,v,b,x;let E="";const C=d==null?void 0:d.cause;if(C){const P=(f=C==null?void 0:C.message)!==null&&f!==void 0?f:"",N=(y=C==null?void 0:C.code)!==null&&y!==void 0?y:"";E=`${(m=d==null?void 0:d.name)!==null&&m!==void 0?m:"FetchError"}: ${d==null?void 0:d.message}`,E+=`

Caused by: ${(v=C==null?void 0:C.name)!==null&&v!==void 0?v:"Error"}: ${P}`,N&&(E+=` (${N})`),C!=null&&C.stack&&(E+=`
${C.stack}`)}else E=(b=d==null?void 0:d.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(x=d==null?void 0:d.name)!==null&&x!==void 0?x:"FetchError"}: ${d==null?void 0:d.message}`,details:E,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(a,o)}returns(){return this}overrideTypes(){return this}};return Bo.default=r,Bo}var gy;function Cw(){if(gy)return Uo;gy=1,Object.defineProperty(Uo,"__esModule",{value:!0});const e=ns.__importDefault(Ew());let r=class extends e.default{select(a){let o=!1;const u=(a??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:o=!0,nullsFirst:u,foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.order`:"order",y=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${y?`${y},`:""}${a}.${o?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:o,referencedTable:u=o}={}){const c=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(c,`${a}`),this}range(a,o,{foreignTable:u,referencedTable:c=u}={}){const d=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(f,`${o-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:o=!1,settings:u=!1,buffers:c=!1,wal:d=!1,format:f="text"}={}){var y;const m=[a?"analyze":null,o?"verbose":null,u?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${m};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};return Uo.default=r,Uo}var yy;function Oh(){if(yy)return zo;yy=1,Object.defineProperty(zo,"__esModule",{value:!0});const e=ns.__importDefault(Cw()),r=new RegExp("[,()]");let i=class extends e.default{eq(o,u){return this.url.searchParams.append(o,`eq.${u}`),this}neq(o,u){return this.url.searchParams.append(o,`neq.${u}`),this}gt(o,u){return this.url.searchParams.append(o,`gt.${u}`),this}gte(o,u){return this.url.searchParams.append(o,`gte.${u}`),this}lt(o,u){return this.url.searchParams.append(o,`lt.${u}`),this}lte(o,u){return this.url.searchParams.append(o,`lte.${u}`),this}like(o,u){return this.url.searchParams.append(o,`like.${u}`),this}likeAllOf(o,u){return this.url.searchParams.append(o,`like(all).{${u.join(",")}}`),this}likeAnyOf(o,u){return this.url.searchParams.append(o,`like(any).{${u.join(",")}}`),this}ilike(o,u){return this.url.searchParams.append(o,`ilike.${u}`),this}ilikeAllOf(o,u){return this.url.searchParams.append(o,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(o,u){return this.url.searchParams.append(o,`ilike(any).{${u.join(",")}}`),this}regexMatch(o,u){return this.url.searchParams.append(o,`match.${u}`),this}regexIMatch(o,u){return this.url.searchParams.append(o,`imatch.${u}`),this}is(o,u){return this.url.searchParams.append(o,`is.${u}`),this}isDistinct(o,u){return this.url.searchParams.append(o,`isdistinct.${u}`),this}in(o,u){const c=Array.from(new Set(u)).map(d=>typeof d=="string"&&r.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cs.{${u.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(u)}`),this}containedBy(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cd.{${u.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(u)}`),this}rangeGt(o,u){return this.url.searchParams.append(o,`sr.${u}`),this}rangeGte(o,u){return this.url.searchParams.append(o,`nxl.${u}`),this}rangeLt(o,u){return this.url.searchParams.append(o,`sl.${u}`),this}rangeLte(o,u){return this.url.searchParams.append(o,`nxr.${u}`),this}rangeAdjacent(o,u){return this.url.searchParams.append(o,`adj.${u}`),this}overlaps(o,u){return typeof u=="string"?this.url.searchParams.append(o,`ov.${u}`):this.url.searchParams.append(o,`ov.{${u.join(",")}}`),this}textSearch(o,u,{config:c,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const y=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${f}fts${y}.${u}`),this}match(o){return Object.entries(o).forEach(([u,c])=>{this.url.searchParams.append(u,`eq.${c}`)}),this}not(o,u,c){return this.url.searchParams.append(o,`not.${u}.${c}`),this}or(o,{foreignTable:u,referencedTable:c=u}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${o})`),this}filter(o,u,c){return this.url.searchParams.append(o,`${u}.${c}`),this}};return zo.default=i,zo}var vy;function Tw(){if(vy)return Mo;vy=1,Object.defineProperty(Mo,"__esModule",{value:!0});const e=ns.__importDefault(Oh());let r=class{constructor(a,{headers:o={},schema:u,fetch:c}){this.url=a,this.headers=new Headers(o),this.schema=u,this.fetch=c}select(a,o){const{head:u=!1,count:c}=o??{},d=u?"HEAD":"GET";let f=!1;const y=(a??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",y),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:o,defaultToNull:u=!0}={}){var c;const d="POST";if(o&&this.headers.append("Prefer",`count=${o}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((y,m)=>y.concat(Object.keys(m)),[]);if(f.length>0){const y=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(a,{onConflict:o,ignoreDuplicates:u=!1,count:c,defaultToNull:d=!0}={}){var f;const y="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(m.length>0){const v=[...new Set(m)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(a,{count:o}={}){var u;const c="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:a}={}){var o;const u="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};return Mo.default=r,Mo}var wy;function sA(){if(wy)return Lo;wy=1,Object.defineProperty(Lo,"__esModule",{value:!0});const t=ns,e=t.__importDefault(Tw()),r=t.__importDefault(Oh());let i=class Aw{constructor(o,{headers:u={},schema:c,fetch:d}={}){this.url=o,this.headers=new Headers(u),this.schemaName=c,this.fetch=d}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const u=new URL(`${this.url}/${o}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new Aw(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,u={},{head:c=!1,get:d=!1,count:f}={}){var y;let m;const v=new URL(`${this.url}/rpc/${o}`);let b;c||d?(m=c?"HEAD":"GET",Object.entries(u).filter(([E,C])=>C!==void 0).map(([E,C])=>[E,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([E,C])=>{v.searchParams.append(E,C)})):(m="POST",b=u);const x=new Headers(this.headers);return f&&x.set("Prefer",`count=${f}`),new r.default({method:m,url:v,headers:x,schema:this.schemaName,body:b,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}};return Lo.default=i,Lo}var _y;function Pw(){if(_y)return Mt;_y=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.PostgrestError=Mt.PostgrestBuilder=Mt.PostgrestTransformBuilder=Mt.PostgrestFilterBuilder=Mt.PostgrestQueryBuilder=Mt.PostgrestClient=void 0;const t=ns,e=t.__importDefault(sA());Mt.PostgrestClient=e.default;const r=t.__importDefault(Tw());Mt.PostgrestQueryBuilder=r.default;const i=t.__importDefault(Oh());Mt.PostgrestFilterBuilder=i.default;const a=t.__importDefault(Cw());Mt.PostgrestTransformBuilder=a.default;const o=t.__importDefault(Ew());Mt.PostgrestBuilder=o.default;const u=t.__importDefault(kw());return Mt.PostgrestError=u.default,Mt.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:o.default,PostgrestError:u.default},Mt}class Rw{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const i=this.getWebSocketConstructor();return new i(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const aA="2.86.2",oA=`realtime-js/${aA}`,jw="1.0.0",lA="2.0.0",by=jw,Pd=1e4,uA=1e3,cA=100;var ri;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ri||(ri={}));var wt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(wt||(wt={}));var xr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(xr||(xr={}));var Rd;(function(t){t.websocket="websocket"})(Rd||(Rd={}));var ni;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ni||(ni={}));class dA{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,i;const a=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var r,i;const a=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},u=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,r,i){var a,o;const u=e.topic,c=(a=e.ref)!==null&&a!==void 0?a:"",d=(o=e.join_ref)!==null&&o!==void 0?o:"",f=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(y).length===0?"":JSON.stringify(y);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+u.length+f.length+m.length,b=new ArrayBuffer(this.HEADER_LENGTH+v);let x=new DataView(b),E=0;x.setUint8(E++,this.KINDS.userBroadcastPush),x.setUint8(E++,d.length),x.setUint8(E++,c.length),x.setUint8(E++,u.length),x.setUint8(E++,f.length),x.setUint8(E++,m.length),x.setUint8(E++,r),Array.from(d,P=>x.setUint8(E++,P.charCodeAt(0))),Array.from(c,P=>x.setUint8(E++,P.charCodeAt(0))),Array.from(u,P=>x.setUint8(E++,P.charCodeAt(0))),Array.from(f,P=>x.setUint8(E++,P.charCodeAt(0))),Array.from(m,P=>x.setUint8(E++,P.charCodeAt(0)));var C=new Uint8Array(b.byteLength+i.byteLength);return C.set(new Uint8Array(b),0),C.set(new Uint8Array(i),b.byteLength),C.buffer}decode(e,r){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return r(i)}if(typeof e=="string"){const i=JSON.parse(e),[a,o,u,c,d]=i;return r({join_ref:a,ref:o,topic:u,event:c,payload:d})}return r({})}_binaryDecode(e){const r=new DataView(e),i=r.getUint8(0),a=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,a)}}_decodeUserBroadcast(e,r,i){const a=r.getUint8(1),o=r.getUint8(2),u=r.getUint8(3),c=r.getUint8(4);let d=this.HEADER_LENGTH+4;const f=i.decode(e.slice(d,d+a));d=d+a;const y=i.decode(e.slice(d,d+o));d=d+o;const m=i.decode(e.slice(d,d+u));d=d+u;const v=e.slice(d,e.byteLength),b=c===this.JSON_ENCODING?JSON.parse(i.decode(v)):v,x={type:this.BROADCAST_EVENT,event:y,payload:b};return u>0&&(x.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>r.includes(i)))}}class Ow{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(et||(et={}));const xy=(t,e,r={})=>{var i;const a=(i=r.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((o,u)=>(o[u]=hA(u,t,e,a),o),{}):{}},hA=(t,e,r,i)=>{const a=e.find(c=>c.name===t),o=a==null?void 0:a.type,u=r[t];return o&&!i.includes(o)?Nw(o,u):jd(u)},Nw=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return gA(e,r)}switch(t){case et.bool:return fA(e);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return pA(e);case et.json:case et.jsonb:return mA(e);case et.timestamp:return yA(e);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return jd(e);default:return jd(e)}},jd=t=>t,fA=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},pA=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},mA=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},gA=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,i=t[r];if(t[0]==="{"&&i==="}"){let o;const u=t.slice(1,r);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(c=>Nw(e,c))}return t},yA=t=>typeof t=="string"?t.replace(" ","T"):t,Iw=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class qc{constructor(e,r,i={},a=Pd){this.channel=e,this.event=r,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var i;return this._hasReceived(e)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Od;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Od||(Od={}));let Dw=class Qo{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:o,onLeave:u,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qo.syncState(this.state,a,o,u),this.pendingDiffs.forEach(d=>{this.state=Qo.syncDiff(this.state,d,o,u)}),this.pendingDiffs=[],c()}),this.channel._on(i.diff,{},a=>{const{onJoin:o,onLeave:u,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Qo.syncDiff(this.state,a,o,u),c())}),this.onJoin((a,o,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:u})}),this.onLeave((a,o,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,i,a){const o=this.cloneDeep(e),u=this.transformState(r),c={},d={};return this.map(o,(f,y)=>{u[f]||(d[f]=y)}),this.map(u,(f,y)=>{const m=o[f];if(m){const v=y.map(C=>C.presence_ref),b=m.map(C=>C.presence_ref),x=y.filter(C=>b.indexOf(C.presence_ref)<0),E=m.filter(C=>v.indexOf(C.presence_ref)<0);x.length>0&&(c[f]=x),E.length>0&&(d[f]=E)}else c[f]=y}),this.syncDiff(o,{joins:c,leaves:d},i,a)}static syncDiff(e,r,i,a){const{joins:o,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(o,(c,d)=>{var f;const y=(f=e[c])!==null&&f!==void 0?f:[];if(e[c]=this.cloneDeep(d),y.length>0){const m=e[c].map(b=>b.presence_ref),v=y.filter(b=>m.indexOf(b.presence_ref)<0);e[c].unshift(...v)}i(c,y,d)}),this.map(u,(c,d)=>{let f=e[c];if(!f)return;const y=d.map(m=>m.presence_ref);f=f.filter(m=>y.indexOf(m.presence_ref)<0),e[c]=f,a(c,f,d),f.length===0&&delete e[c]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(i=>r(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,i)=>{const a=e[i];return"metas"in a?r[i]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[i]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Nd;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Nd||(Nd={}));var qi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(qi||(qi={}));var jr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(jr||(jr={}));const vA=wt;let Lw=class Mw{constructor(e,r={config:{}},i){var a,o;if(this.topic=e,this.params=r,this.socket=i,this.bindings={},this.state=wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new qc(this,xr.join,this.params,this.timeout),this.rejoinTimer=new Ow(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=wt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xr.reply,{},(u,c)=>{this._trigger(this._replyEventName(c),u)}),this.presence=new Dw(this),this.broadcastEndpointURL=Iw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var i,a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==wt.closed){const{config:{broadcast:u,presence:c,private:d}}=this.params,f=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(b=>b.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[qi.PRESENCE]&&this.bindings[qi.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,m={},v={broadcast:u,presence:Object.assign(Object.assign({},c),{enabled:y}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(jr.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(jr.CLOSED)),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var x;if(this.socket.setAuth(),b===void 0){e==null||e(jr.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,C=(x=E==null?void 0:E.length)!==null&&x!==void 0?x:0,P=[];for(let N=0;N<C;N++){const k=E[N],{filter:{event:R,schema:j,table:D,filter:O}}=k,M=b&&b[N];if(M&&M.event===R&&M.schema===j&&M.table===D&&M.filter===O)P.push(Object.assign(Object.assign({},k),{id:M.id}));else{this.unsubscribe(),this.state=wt.errored,e==null||e(jr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,e&&e(jr.SUBSCRIBED);return}}).receive("error",b=>{this.state=wt.errored,e==null||e(jr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(jr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,i){return this.state===wt.joined&&e===qi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,i)}async httpSend(e,r,i={}){var a;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const f=await c.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,r={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:u}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,c,d;const f=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(u=this.params)===null||u===void 0?void 0:u.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=wt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new qc(this,xr.leave,{},e),i.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=wt.closed,this.bindings={}}async _fetchWithTimeout(e,r,i){const a=new AbortController,o=setTimeout(()=>a.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(o),u}_push(e,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new qc(this,e,r,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>cA){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,i){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,i){var a,o;const u=e.toLocaleLowerCase(),{close:c,error:d,leave:f,join:y}=xr;if(i&&[c,d,f,y].indexOf(u)>=0&&i!==this._joinRef())return;let v=this._onMessage(u,r,i);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(b=>{var x,E,C;return((x=b.filter)===null||x===void 0?void 0:x.event)==="*"||((C=(E=b.filter)===null||E===void 0?void 0:E.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===u}).map(b=>b.callback(v,i)):(o=this.bindings[u])===null||o===void 0||o.filter(b=>{var x,E,C,P,N,k;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const R=b.id,j=(x=b.filter)===null||x===void 0?void 0:x.event;return R&&((E=r.ids)===null||E===void 0?void 0:E.includes(R))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const R=(N=(P=b==null?void 0:b.filter)===null||P===void 0?void 0:P.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return R==="*"||R===((k=r==null?void 0:r.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof v=="object"&&"ids"in v){const x=v.data,{schema:E,table:C,commit_timestamp:P,type:N,errors:k}=x;v=Object.assign(Object.assign({},{schema:E,table:C,commit_timestamp:P,eventType:N,new:{},old:{},errors:k}),this._getPayloadRecords(x))}b.callback(v,i)})}_isClosed(){return this.state===wt.closed}_isJoined(){return this.state===wt.joined}_isJoining(){return this.state===wt.joining}_isLeaving(){return this.state===wt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,i){const a=e.toLocaleLowerCase(),o={type:a,filter:r,callback:i};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(e,r){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&Mw.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const i in e)if(e[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(xr.close,{},e)}_onError(e){this._on(xr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=wt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=xy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=xy(e.columns,e.old_record)),r}};const Kc=()=>{},$o={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},wA=[1e3,2e3,5e3,1e4],_A=1e4,bA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let xA=class{constructor(e,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pd,this.transport=null,this.heartbeatIntervalMs=$o.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Kc,this.ref=0,this.reconnectTimer=null,this.vsn=by,this.logger=Kc,this.conn=null,this.sendBuffer=[],this.serializer=new dA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...o)=>a(...o):(...o)=>fetch(...o),!(!((i=r==null?void 0:r.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Rd.websocket}`,this.httpEndpoint=Iw(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Rw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,i){this.logger(e,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ri.connecting:return ni.Connecting;case ri.open:return ni.Open;case ri.closing:return ni.Closing;default:return ni.Closed}}isConnected(){return this.connectionState()===ni.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(o=>o.topic===i);if(a)return a;{const o=new Lw(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:i,payload:a,ref:o}=e,u=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${r} ${i} (${o})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(uA,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},$o.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:o,ref:u}=r,c=u?`(${u})`:"",d=o.status||"";this.log("receive",`${d} ${i} ${a} ${c}`.trim(),o),this.channels.filter(f=>f._isMember(i)).forEach(f=>f._trigger(a,o,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ri.open||this.conn.readyState===ri.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(xr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${i}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const i=new Blob([bA],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:oA};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(xr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Ow(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$o.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,i,a,o,u,c,d,f,y,m,v,b;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:Pd,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:$o.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:Kc,this.vsn=(d=e==null?void 0:e.vsn)!==null&&d!==void 0?d:by,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(x=>wA[x-1]||_A),this.vsn){case jw:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((x,E)=>E(JSON.stringify(x))),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:((x,E)=>E(JSON.parse(x)));break;case lA:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const SA=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:vA,get REALTIME_LISTEN_TYPES(){return qi},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Nd},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Od},get REALTIME_SUBSCRIBE_STATES(){return jr},RealtimeChannel:Lw,RealtimeClient:xA,RealtimePresence:Dw,WebSocketFactory:Rw},Symbol.toStringTag,{value:"Module"})),zw=ma(SA);class _a extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function st(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Uw extends _a{constructor(e,r,i){super(e),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ml extends _a{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Nh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),kA=()=>Response,Id=t=>{if(Array.isArray(t))return t.map(r=>Id(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,i])=>{const a=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[a]=Id(i)}),e},EA=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},CA=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Wc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},TA=(t,e,r)=>we(void 0,void 0,void 0,function*(){const i=yield kA();t instanceof i&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{const o=t.status||500,u=(a==null?void 0:a.statusCode)||o+"";e(new Uw(Wc(a),o,u))}).catch(a=>{e(new ml(Wc(a),a))}):e(new ml(Wc(t),t))}),AA=(t,e,r,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!i?a:(EA(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(i)):a.body=i,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function ba(t,e,r,i,a,o){return we(this,void 0,void 0,function*(){return new Promise((u,c)=>{t(r,AA(e,i,a,o)).then(d=>{if(!d.ok)throw d;return i!=null&&i.noResolveJson?d:d.json()}).then(d=>u(d)).catch(d=>TA(d,c,i))})})}function ha(t,e,r,i){return we(this,void 0,void 0,function*(){return ba(t,"GET",e,r,i)})}function br(t,e,r,i,a){return we(this,void 0,void 0,function*(){return ba(t,"POST",e,i,a,r)})}function Dd(t,e,r,i,a){return we(this,void 0,void 0,function*(){return ba(t,"PUT",e,i,a,r)})}function PA(t,e,r,i){return we(this,void 0,void 0,function*(){return ba(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function Ih(t,e,r,i,a){return we(this,void 0,void 0,function*(){return ba(t,"DELETE",e,i,a,r)})}class RA{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return we(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(st(e))return{data:null,error:e};throw e}})}}var Bw;class jA{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Bw]="BlobDownloadBuilder",this.promise=null}asStream(){return new RA(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return we(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(st(e))return{data:null,error:e};throw e}})}}Bw=Symbol.toStringTag;const OA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class NA{constructor(e,r={},i,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=i,this.fetch=Nh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,i,a){return we(this,void 0,void 0,function*(){try{let o;const u=Object.assign(Object.assign({},Sy),a);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const d=u.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.has("cacheControl")||o.append("cacheControl",u.cacheControl),d&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(d))):(o=i,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!u.duplex&&(u.duplex="half")),a!=null&&a.headers&&(c=Object.assign(Object.assign({},c),a.headers));const f=this._removeEmptyFolders(r),y=this._getFinalPath(f),m=yield(e=="PUT"?Dd:br)(this.fetch,`${this.url}/object/${y}`,o,Object.assign({headers:c},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}upload(e,r,i){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,i)})}uploadToSignedUrl(e,r,i,a){return we(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),u=this._getFinalPath(o),c=new URL(this.url+`/object/upload/sign/${u}`);c.searchParams.set("token",r);try{let d;const f=Object.assign({upsert:Sy.upsert},a),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.append("cacheControl",f.cacheControl)):(d=i,y["cache-control"]=`max-age=${f.cacheControl}`,y["content-type"]=f.contentType);const m=yield Dd(this.fetch,c.toString(),d,{headers:y});return{data:{path:o,fullPath:m.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(st(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,r){return we(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const o=yield br(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),u=new URL(this.url+o.url),c=u.searchParams.get("token");if(!c)throw new _a("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:c},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}update(e,r,i){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,i)})}move(e,r,i){return we(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}copy(e,r,i){return we(this,void 0,void 0,function*(){try{return{data:{path:(yield br(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,i){return we(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),o=yield br(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${u}`)},{data:o,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,i){return we(this,void 0,void 0,function*(){try{const a=yield br(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${o}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}download(e,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),u=o?`?${o}`:"",c=this._getFinalPath(e),d=()=>ha(this.fetch,`${this.url}/${a}/${c}${u}`,{headers:this.headers,noResolveJson:!0});return new jA(d,this.shouldThrowOnError)}info(e){return we(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const i=yield ha(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Id(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}exists(e){return we(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield PA(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i)&&i instanceof ml){const a=i.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,r){const i=this._getFinalPath(e),a=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&a.push(o);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});d!==""&&a.push(d);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${i}${f}`)}}}remove(e){return we(this,void 0,void 0,function*(){try{return{data:yield Ih(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}list(e,r,i){return we(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},OA),r),{prefix:e||""});return{data:yield br(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}listV2(e,r){return we(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield br(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Fw="2.86.2",$w={"X-Client-Info":`storage-js/${Fw}`};class IA{constructor(e,r={},i,a){this.shouldThrowOnError=!1;const o=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$w),r),this.fetch=Nh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return we(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield ha(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}getBucket(e){return we(this,void 0,void 0,function*(){try{return{data:yield ha(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}createBucket(e){return we(this,arguments,void 0,function*(r,i={public:!1}){try{return{data:yield br(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}updateBucket(e,r){return we(this,void 0,void 0,function*(){try{return{data:yield Dd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}emptyBucket(e){return we(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}deleteBucket(e){return we(this,void 0,void 0,function*(){try{return{data:yield Ih(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var fa=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function DA(t,e,r){const i=new URL(e,t);if(r)for(const[a,o]of Object.entries(r))o!==void 0&&i.searchParams.set(a,o);return i.toString()}async function LA(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function MA(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:a,body:o,headers:u}){const c=DA(t.baseUrl,i,a),d=await LA(t.auth),f=await e(c,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...d,...u},body:o?JSON.stringify(o):void 0}),y=await f.text(),m=(f.headers.get("content-type")||"").includes("application/json"),v=m&&y?JSON.parse(y):y;if(!f.ok){const b=m?v:void 0,x=b==null?void 0:b.error;throw new fa((x==null?void 0:x.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:b})}return{status:f.status,headers:f.headers,data:v}}}}function Vo(t){return t.join("")}var zA=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Vo(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vo(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vo(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vo(t.namespace)}`}),!0}catch(e){if(e instanceof fa&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof fa&&r.status===409)return;throw r}}};function Ni(t){return t.join("")}var UA=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ni(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ni(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ni(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ni(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ni(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ni(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof fa&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof fa&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},BA=class{constructor(t){var i;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=MA({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(i=t.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new zA(this.client,e),this.tableOps=new UA(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class Vw{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$w),r),this.fetch=Nh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return we(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}listBuckets(e){return we(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const i=r.toString(),a=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield ha(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}deleteBucket(e){return we(this,void 0,void 0,function*(){try{return{data:yield Ih(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}from(e){if(!CA(e))throw new _a("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new BA({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>we(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Dh={"X-Client-Info":`storage-js/${Fw}`,"Content-Type":"application/json"};class Lh extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Jt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Xo extends Lh{constructor(e,r,i){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qw extends Lh{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Ld;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Ld||(Ld={}));const Il=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),FA=()=>Response,Kw=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},$A=t=>Array.from(new Float32Array(t)),VA=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},ky=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),qA=(t,e,r)=>we(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const a=t.status||500,o=t;if(typeof o.json=="function")o.json().then(u=>{const c=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||a+"";e(new Xo(ky(u),a,c))}).catch(()=>{const u=a+"",c=o.statusText||`HTTP ${a} error`;e(new Xo(c,a,u))});else{const u=a+"",c=o.statusText||`HTTP ${a} error`;e(new Xo(c,a,u))}}else e(new qw(ky(t),t))}),KA=(t,e,r,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return i?(Kw(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(i)):a.body=i,Object.assign(Object.assign({},a),r)):a};function WA(t,e,r,i,a,o){return we(this,void 0,void 0,function*(){return new Promise((u,c)=>{t(r,KA(e,i,a,o)).then(d=>{if(!d.ok)throw d;if(i!=null&&i.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>u(d)).catch(d=>qA(d,c,i))})})}function tr(t,e,r,i,a){return we(this,void 0,void 0,function*(){return WA(t,"POST",e,i,a,r)})}class Ww{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dh),r),this.fetch=Il(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return we(this,void 0,void 0,function*(){try{return{data:(yield tr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}getIndex(e,r){return we(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}})}listIndexes(e){return we(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return we(this,void 0,void 0,function*(){try{return{data:(yield tr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}})}}class Hw{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dh),r),this.fetch=Il(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return we(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield tr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}getVectors(e){return we(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}listVectors(e){return we(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield tr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}queryVectors(e){return we(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}deleteVectors(e){return we(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield tr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}}class Gw{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dh),r),this.fetch=Il(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return we(this,void 0,void 0,function*(){try{return{data:(yield tr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}getBucket(e){return we(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}listBuckets(){return we(this,arguments,void 0,function*(e={}){try{return{data:yield tr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return we(this,void 0,void 0,function*(){try{return{data:(yield tr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}}class Yw extends Gw{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Jw(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return we(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return we(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return we(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return we(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class Jw extends Ww{constructor(e,r,i,a){super(e,r,a),this.vectorBucketName=i}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return we(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return we(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return we(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return we(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Qw(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Qw extends Hw{constructor(e,r,i,a,o){super(e,r,o),this.vectorBucketName=i,this.indexName=a}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return we(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return we(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return we(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return we(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return we(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class HA extends IA{constructor(e,r={},i,a){super(e,r,i,a)}from(e){return new NA(this.url,this.headers,e,this.fetch)}get vectors(){return new Yw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Vw(this.url+"/iceberg",this.headers,this.fetch)}}const GA=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Vw,StorageApiError:Uw,StorageClient:HA,StorageError:_a,StorageUnknownError:ml,StorageVectorsApiError:Xo,StorageVectorsClient:Yw,StorageVectorsError:Lh,get StorageVectorsErrorCode(){return Ld},StorageVectorsUnknownError:qw,VectorBucketApi:Gw,VectorBucketScope:Jw,VectorDataApi:Hw,VectorIndexApi:Ww,VectorIndexScope:Qw,isPlainObject:Kw,isStorageError:st,isStorageVectorsError:Jt,normalizeToFloat32:$A,resolveFetch:Il,resolveResponse:FA,validateVectorDimension:VA},Symbol.toStringTag,{value:"Module"})),YA=ma(GA);var Hc={},$s={},Ey;function JA(){return Ey||(Ey=1,Object.defineProperty($s,"__esModule",{value:!0}),$s.version=void 0,$s.version="2.86.2"),$s}var Cy;function QA(){return Cy||(Cy=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=JA();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(Hc)),Hc}var Gc={},Ty;function XA(){return Ty||(Ty=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=a=>a?(...o)=>a(...o):(...o)=>fetch(...o);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const i=(a,o,u)=>{const c=(0,t.resolveFetch)(u),d=(0,t.resolveHeadersConstructor)();return async(f,y)=>{var m;const v=(m=await o())!==null&&m!==void 0?m:a;let b=new d(y==null?void 0:y.headers);return b.has("apikey")||b.set("apikey",a),b.has("Authorization")||b.set("Authorization",`Bearer ${v}`),c(f,Object.assign(Object.assign({},y),{headers:b}))}};t.fetchWithAuth=i})(Gc)),Gc}var Gr={},Ay;function ZA(){if(Ay)return Gr;Ay=1,Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.isBrowser=void 0,Gr.uuid=t,Gr.ensureTrailingSlash=e,Gr.applySettingDefaults=i,Gr.validateSupabaseUrl=a;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var u=Math.random()*16|0,c=o=="x"?u:u&3|8;return c.toString(16)})}function e(o){return o.endsWith("/")?o:o+"/"}const r=()=>typeof window<"u";Gr.isBrowser=r;function i(o,u){var c,d;const{db:f,auth:y,realtime:m,global:v}=o,{db:b,auth:x,realtime:E,global:C}=u,P={db:Object.assign(Object.assign({},b),f),auth:Object.assign(Object.assign({},x),y),realtime:Object.assign(Object.assign({},E),m),storage:{},global:Object.assign(Object.assign(Object.assign({},C),v),{headers:Object.assign(Object.assign({},(c=C==null?void 0:C.headers)!==null&&c!==void 0?c:{}),(d=v==null?void 0:v.headers)!==null&&d!==void 0?d:{})}),accessToken:async()=>""};return o.accessToken?P.accessToken=o.accessToken:delete P.accessToken,P}function a(o){const u=o==null?void 0:o.trim();if(!u)throw new Error("supabaseUrl is required.");if(!u.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(u))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Gr}var Vs={};const Xw="2.86.2",Mi=30*1e3,Md=3,Yc=Md*Mi,eP="http://localhost:9999",tP="supabase.auth.token",rP={"X-Client-Info":`gotrue-js/${Xw}`},zd="X-Supabase-Api-Version",Zw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,iP=600*1e3;let Qi=class extends Error{constructor(e,r,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}};function Te(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let e_=class extends Qi{constructor(e,r,i){super(e,r,i),this.name="AuthApiError",this.status=r,this.code=i}};function t_(t){return Te(t)&&t.name==="AuthApiError"}let Cn=class extends Qi{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},en=class extends Qi{constructor(e,r,i,a){super(e,i,a),this.name=r,this.status=i}},Yt=class extends en{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function r_(t){return Te(t)&&t.name==="AuthSessionMissingError"}let Xn=class extends en{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Ys=class extends en{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Js=class extends en{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function n_(t){return Te(t)&&t.name==="AuthImplicitGrantRedirectError"}let Ud=class extends en{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},gl=class extends en{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function Zo(t){return Te(t)&&t.name==="AuthRetryableFetchError"}let Bd=class extends en{constructor(e,r,i){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}};function sP(t){return Te(t)&&t.name==="AuthWeakPasswordError"}let yl=class extends en{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const vl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Py=` 	
\r=`.split(""),aP=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Py.length;e+=1)t[Py[e].charCodeAt(0)]=-2;for(let e=0;e<vl.length;e+=1)t[vl[e].charCodeAt(0)]=e;return t})();function Ry(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(vl[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(vl[i]),e.queuedBits-=6}}function i_(t,e,r){const i=aP[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function jy(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=u=>{uP(u,i,r)};for(let u=0;u<t.length;u+=1)i_(t.charCodeAt(u),a,o);return e.join("")}function oP(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function lP(t,e){for(let r=0;r<t.length;r+=1){let i=t.charCodeAt(r);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}oP(i,e)}}function uP(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ki(t){const e=[],r={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)i_(t.charCodeAt(a),r,i);return new Uint8Array(e)}function cP(t){const e=[];return lP(t,r=>e.push(r)),new Uint8Array(e)}function si(t){const e=[],r={queue:0,queuedBits:0},i=a=>{e.push(a)};return t.forEach(a=>Ry(a,r,i)),Ry(null,r,i),e.join("")}function dP(t){return Math.round(Date.now()/1e3)+t}function hP(){return Symbol("auth-callback")}const jt=()=>typeof window<"u"&&typeof document<"u",Gn={tested:!1,writable:!1},s_=()=>{if(!jt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gn.tested)return Gn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Gn.tested=!0,Gn.writable=!0}catch{Gn.tested=!0,Gn.writable=!1}return Gn.writable};function fP(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,o)=>{e[o]=a})}catch{}return r.searchParams.forEach((i,a)=>{e[a]=i}),e}const a_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),pP=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",zi=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Yn=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Rt=async(t,e)=>{await t.removeItem(e)};class Dl{constructor(){this.promise=new Dl.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Dl.promiseConstructor=Promise;function Jc(t){const e=t.split(".");if(e.length!==3)throw new yl("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!nP.test(e[i]))throw new yl("JWT not in base64url format");return{header:JSON.parse(jy(e[0])),payload:JSON.parse(jy(e[1])),signature:Ki(e[2]),raw:{header:e[0],payload:e[1]}}}async function mP(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function gP(t,e){return new Promise((i,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await t(o);if(!e(o,null,u)){i(u);return}}catch(u){if(!e(o,u)){a(u);return}}})()})}function yP(t){return("0"+t.toString(16)).substr(-2)}function vP(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let a="";for(let o=0;o<56;o++)a+=r.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,yP).join("")}async function wP(t){const r=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(i);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function _P(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await wP(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ii(t,e,r=!1){const i=vP();let a=i;r&&(a+="/PASSWORD_RECOVERY"),await zi(t,`${e}-code-verifier`,a);const o=await _P(i);return[o,i===o?"plain":"s256"]}const bP=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xP(t){const e=t.headers.get(zd);if(!e||!e.match(bP))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function SP(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function kP(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const EP=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Di(t){if(!EP.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qc(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function CP(t,e){return new Proxy(t,{get:(r,i,a)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,a)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,i,a)}})}function Oy(t){return JSON.parse(JSON.stringify(t))}const Zn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),TP=[502,503,504];async function Ny(t){var e;if(!pP(t))throw new gl(Zn(t),0);if(TP.includes(t.status))throw new gl(Zn(t),t.status);let r;try{r=await t.json()}catch(o){throw new Cn(Zn(o),o)}let i;const a=xP(t);if(a&&a.getTime()>=Zw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new Bd(Zn(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Yt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0))throw new Bd(Zn(r),t.status,r.weak_password.reasons);throw new e_(Zn(r),t.status||500,i)}const AP=(t,e,r,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),r))};async function Ne(t,e,r,i){var a;const o=Object.assign({},i==null?void 0:i.headers);o[zd]||(o[zd]=Zw["2024-01-01"].name),i!=null&&i.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const u=(a=i==null?void 0:i.query)!==null&&a!==void 0?a:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const c=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",d=await PP(t,e,r+c,{headers:o,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(d):{data:Object.assign({},d),error:null}}async function PP(t,e,r,i,a,o){const u=AP(e,i,a,o);let c;try{c=await t(r,Object.assign({},u))}catch(d){throw console.error(d),new gl(Zn(d),0)}if(c.ok||await Ny(c),i!=null&&i.noResolveJson)return c;try{return await c.json()}catch(d){await Ny(d)}}function wr(t){var e;let r=null;OP(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=dP(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:i},error:null}}function Iy(t){const e=wr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Tn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function RP(t){return{data:t,error:null}}function jP(t){const{action_link:e,email_otp:r,hashed_token:i,redirect_to:a,verification_type:o}=t,u=rs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:r,hashed_token:i,redirect_to:a,verification_type:o},d=Object.assign({},u);return{data:{properties:c,user:d},error:null}}function Dy(t){return t}function OP(t){return t.access_token&&t.refresh_token&&t.expires_in}const el=["global","local","others"];let Mh=class{constructor({url:e="",headers:r={},fetch:i}){this.url=e,this.headers=r,this.fetch=a_(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=el[0]){if(el.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${el.join(", ")}`);try{return await Ne(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Te(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,r={}){try{return await Ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Tn})}catch(i){if(Te(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:r}=e,i=rs(e,["options"]),a=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(a.new_email=i==null?void 0:i.newEmail,delete a.newEmail),await Ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:jP,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ne(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Tn})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,i,a,o,u,c,d;try{const f={nextPage:null,lastPage:0,total:0},y=await Ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Dy});if(y.error)throw y.error;const m=await y.json(),v=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(d=(c=y.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(x=>{const E=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(x.split(";")[1].split("=")[1]);f[`${C}Page`]=E}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Te(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Di(e);try{return await Ne(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Tn})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Di(e);try{return await Ne(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Tn})}catch(i){if(Te(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,r=!1){Di(e);try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Tn})}catch(i){if(Te(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Di(e.userId);try{const{data:r,error:i}=await Ne(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:i}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Di(e.userId),Di(e.id);try{return{data:await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,i,a,o,u,c,d;try{const f={nextPage:null,lastPage:0,total:0},y=await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Dy});if(y.error)throw y.error;const m=await y.json(),v=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(d=(c=y.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(x=>{const E=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(x.split(";")[1].split("=")[1]);f[`${C}Page`]=E}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Te(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Te(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}};function Ly(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ei={debug:!!(globalThis&&s_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let o_=class extends zh{};class NP extends zh{}async function l_(t,e,r){ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),ei.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new o_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ei.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const My={};async function IP(t,e,r){var i;const a=(i=My[t])!==null&&i!==void 0?i:Promise.resolve(),o=Promise.race([a.catch(()=>null),e>=0?new Promise((u,c)=>{setTimeout(()=>{c(new NP(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(u=>u)).catch(u=>{if(u&&u.isAcquireTimeout)throw u;return null}).then(async()=>await r());return My[t]=o.catch(async u=>{if(u&&u.isAcquireTimeout)return await a,null;throw u}),await o}function DP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function u_(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function LP(t){return parseInt(t,16)}function MP(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function zP(t){var e;const{chainId:r,domain:i,expirationTime:a,issuedAt:o=new Date,nonce:u,notBefore:c,requestId:d,resources:f,scheme:y,uri:m,version:v}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=u_(t.address),x=y?`${y}://${i}`:i,E=t.statement?`${t.statement}
`:"",C=`${x} wants you to sign in with your Ethereum account:
${b}

${E}`;let P=`URI: ${m}
Version: ${v}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${o.toISOString()}`;if(a&&(P+=`
Expiration Time: ${a.toISOString()}`),c&&(P+=`
Not Before: ${c.toISOString()}`),d&&(P+=`
Request ID: ${d}`),f){let N=`
Resources:`;for(const k of f){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);N+=`
- ${k}`}P+=N}return`${C}
${P}`}class _t extends Error{constructor({message:e,code:r,cause:i,name:a}){var o;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(o=a??(i instanceof Error?i.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class wl extends _t{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function UP({error:t,options:e}){var r,i,a;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _t({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new _t({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new _t({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new _t({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new _t({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new _t({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new _t({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new _t({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(c_(u)){if(o.rp.id!==u)return new _t({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new _t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new _t({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new _t({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function BP({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _t({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new _t({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(c_(i)){if(r.rpId!==i)return new _t({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new _t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new _t({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class FP{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const $P=new FP;function VP(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:i}=t,a=rs(t,["challenge","user","excludeCredentials"]),o=Ki(e).buffer,u=Object.assign(Object.assign({},r),{id:Ki(r.id).buffer}),c=Object.assign(Object.assign({},a),{challenge:o,user:u});if(i&&i.length>0){c.excludeCredentials=new Array(i.length);for(let d=0;d<i.length;d++){const f=i[d];c.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Ki(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function qP(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,i=rs(t,["challenge","allowCredentials"]),a=Ki(e).buffer,o=Object.assign(Object.assign({},i),{challenge:a});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const c=r[u];o.allowCredentials[u]=Object.assign(Object.assign({},c),{id:Ki(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function KP(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:si(new Uint8Array(t.response.attestationObject)),clientDataJSON:si(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function WP(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,i=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:si(new Uint8Array(a.authenticatorData)),clientDataJSON:si(new Uint8Array(a.clientDataJSON)),signature:si(new Uint8Array(a.signature)),userHandle:a.userHandle?si(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function c_(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function zy(){var t,e;return!!(jt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function HP(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new wl("Browser returned unexpected credential type",e)}:{data:null,error:new wl("Empty credential response",e)}}catch(e){return{data:null,error:UP({error:e,options:t})}}}async function GP(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new wl("Browser returned unexpected credential type",e)}:{data:null,error:new wl("Empty credential response",e)}}catch(e){return{data:null,error:BP({error:e,options:t})}}}const YP={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},JP={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function _l(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of t)if(a)for(const o in a){const u=a[o];if(u!==void 0)if(Array.isArray(u))i[o]=u;else if(r(u))i[o]=u;else if(e(u)){const c=i[o];e(c)?i[o]=_l(c,u):i[o]=_l(u)}else i[o]=u}return i}function QP(t,e){return _l(YP,t,e||{})}function XP(t,e){return _l(JP,t,e||{})}class ZP{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:i,signal:a},o){try{const{data:u,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:c};const d=a??$P.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:f}=u.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${i}`),f.displayName||(f.displayName=f.name)}switch(u.webauthn.type){case"create":{const f=QP(u.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:y,error:m}=await HP({publicKey:f,signal:d});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:m}}case"request":{const f=XP(u.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:y,error:m}=await GP(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:f,signal:d}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:m}}}}catch(u){return Te(u)?{data:null,error:u}:{data:null,error:new Cn("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!r)return{data:null,error:new Qi("rpId is required for WebAuthn authentication")};try{if(!zy())return{data:null,error:new Cn("Browser does not support WebAuthn",null)};const{data:u,error:c}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:i},signal:a},{request:o});if(!u)return{data:null,error:c};const{webauthn:d}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:i,credential_response:d.credential_response}})}catch(u){return Te(u)?{data:null,error:u}:{data:null,error:new Cn("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!r)return{data:null,error:new Qi("rpId is required for WebAuthn registration")};try{if(!zy())return{data:null,error:new Cn("Browser does not support WebAuthn",null)};const{data:u,error:c}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var m;return(m=y.data)===null||m===void 0?void 0:m.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:c};const{data:d,error:f}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:a},{create:o});return d?this._verify({factorId:u.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:i,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(u){return Te(u)?{data:null,error:u}:{data:null,error:new Cn("Unexpected error in register",u)}}}}DP();const eR={url:eP,storageKey:tP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Uy(t,e,r){return await r()}const Li={};let Uh=class Fd{get jwks(){var e,r;return(r=(e=Li[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Li[this.storageKey]=Object.assign(Object.assign({},Li[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Li[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Li[this.storageKey]=Object.assign(Object.assign({},Li[this.storageKey]),{cachedAt:e})}constructor(e){var r,i,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},eR),e);if(this.storageKey=o.storageKey,this.instanceID=(r=Fd.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Fd.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&jt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Mh({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=a_(o.fetch),this.lock=o.lock||Uy,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:jt()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=l_:this.lock=Uy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ZP(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:s_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ly(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Ly(this.memoryStorage)),jt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Xw}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},i="none";if(jt()&&(r=fP(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),jt()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:o}=await this._getSessionFromURL(r,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),n_(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:u,redirectType:c}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",c),await this._saveSession(u),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Te(r)?this._returnResult({error:r}):this._returnResult({error:new Cn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,i,a;try{const o=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:wr}),{data:u,error:c}=o;if(c||!u)return this._returnResult({data:{user:null,session:null},error:c});const d=u.session,f=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(Te(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,i,a;try{let o;if("email"in e){const{email:y,password:m,options:v}=e;let b=null,x=null;this.flowType==="pkce"&&([b,x]=await Ii(this.storage,this.storageKey)),o=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:y,password:m,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:b,code_challenge_method:x},xform:wr})}else if("phone"in e){const{phone:y,password:m,options:v}=e;o=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:m,data:(i=v==null?void 0:v.data)!==null&&i!==void 0?i:{},channel:(a=v==null?void 0:v.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:wr})}else throw new Ys("You must provide either an email or phone number and a password");const{data:u,error:c}=o;if(c||!u)return await Rt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=u.session,f=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),Te(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:u,options:c}=e;r=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Iy})}else if("phone"in e){const{phone:o,password:u,options:c}=e;r=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Iy})}else throw new Ys("You must provide either an email or phone number and a password");const{data:i,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!i||!i.session||!i.user){const o=new Xn;return this._returnResult({data:{user:null,session:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(r){if(Te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,i,a,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,i,a,o,u,c,d,f,y,m,v;let b,x;if("message"in e)b=e.message,x=e.signature;else{const{chain:E,wallet:C,statement:P,options:N}=e;let k;if(jt())if(typeof C=="object")k=C;else{const Q=window;if("ethereum"in Q&&typeof Q.ethereum=="object"&&"request"in Q.ethereum&&typeof Q.ethereum.request=="function")k=Q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=C}const R=new URL((r=N==null?void 0:N.url)!==null&&r!==void 0?r:window.location.href),j=await k.request({method:"eth_requestAccounts"}).then(Q=>Q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=u_(j[0]);let O=(i=N==null?void 0:N.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!O){const Q=await k.request({method:"eth_chainId"});O=LP(Q)}const M={domain:R.host,address:D,statement:P,uri:R.href,version:"1",chainId:O,nonce:(a=N==null?void 0:N.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(o=N==null?void 0:N.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(c=N==null?void 0:N.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=N==null?void 0:N.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=N==null?void 0:N.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(y=N==null?void 0:N.signInWithEthereum)===null||y===void 0?void 0:y.resources};b=zP(M),x=await k.request({method:"personal_sign",params:[MP(b),D]})}try{const{data:E,error:C}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:x},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:wr});if(C)throw C;if(!E||!E.session||!E.user){const P=new Xn;return this._returnResult({data:{user:null,session:null},error:P})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:C})}catch(E){if(Te(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var r,i,a,o,u,c,d,f,y,m,v,b;let x,E;if("message"in e)x=e.message,E=e.signature;else{const{chain:C,wallet:P,statement:N,options:k}=e;let R;if(jt())if(typeof P=="object")R=P;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))R=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=P}const j=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in R&&R.signIn){const D=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),N?{statement:N}:null));let O;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")O=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)O=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)x=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),E=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${j.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(i=k==null?void 0:k.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=k==null?void 0:k.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((c=k==null?void 0:k.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((d=k==null?void 0:k.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((f=k==null?void 0:k.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((m=(y=k==null?void 0:k.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||m===void 0)&&m.length?["Resources",...k.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const D=await R.signMessage(new TextEncoder().encode(x),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=D}}try{const{data:C,error:P}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:si(E)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:wr});if(P)throw P;if(!C||!C.session||!C.user){const N=new Xn;return this._returnResult({data:{user:null,session:null},error:N})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:P})}catch(C){if(Te(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const r=await Yn(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(r??"").split("/");try{const{data:o,error:u}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:wr});if(await Rt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!o||!o.session||!o.user){const c=new Xn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:u})}catch(o){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),Te(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:i,token:a,access_token:o,nonce:u}=e,c=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:wr}),{data:d,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const y=new Xn;return this._returnResult({data:{user:null,session:null},error:y})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(r){if(Te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,i,a,o,u;try{if("email"in e){const{email:c,options:d}=e;let f=null,y=null;this.flowType==="pkce"&&([f,y]=await Ii(this.storage,this.storageKey));const{error:m}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(i=d==null?void 0:d.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:y},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:c,options:d}=e,{data:f,error:y}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(a=d==null?void 0:d.data)!==null&&a!==void 0?a:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(u=d==null?void 0:d.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:y})}throw new Ys("You must provide either an email or phone number.")}catch(c){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),Te(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var r,i;try{let a,o;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:c}=await Ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:wr});if(c)throw c;if(!u)throw new Error("An error occurred on token verification.");const d=u.session,f=u.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(Te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var r,i,a,o,u;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Ii(this.storage,this.storageKey));const f=await Ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:RP});return!((o=f.data)===null||o===void 0)&&o.url&&jt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),Te(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new Yt;const{error:a}=await Ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(Te(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:o}=e,{error:u}=await Ne(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:i,type:a,options:o}=e,{data:u,error:c}=await Ne(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Ys("You must provide either an email or phone number and a type")}catch(r){if(Te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Yn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Yc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await Yn(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=Qc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=CP(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Tn}):await this._useSession(async r=>{var i,a,o;const{data:u,error:c}=r;if(c)throw c;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yt}:await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:Tn})})}catch(r){if(Te(r))return r_(r)&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{const{data:a,error:o}=i;if(o)throw o;if(!a.session)throw new Yt;const u=a.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await Ii(this.storage,this.storageKey));const{data:f,error:y}=await Ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:u.access_token,xform:Tn});if(y)throw y;return u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(i){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),Te(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Yt;const r=Date.now()/1e3;let i=r,a=!0,o=null;const{payload:u}=Jc(e.access_token);if(u.exp&&(i=u.exp,a=i<=r),a){const{data:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)throw d;o={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(Te(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){const{data:u,error:c}=r;if(c)throw c;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new Yt;const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!jt())throw new Js("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Js(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ud("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Js("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ud("No code detected.");const{data:N,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:o,refresh_token:u,expires_in:c,expires_at:d,token_type:f}=e;if(!o||!c||!u||!f)throw new Js("No session defined in URL");const y=Math.round(Date.now()/1e3),m=parseInt(c);let v=y+m;d&&(v=parseInt(d));const b=v-y;b*1e3<=Mi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${m}s`);const x=v-m;y-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,v,y):y-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,v,y);const{data:E,error:C}=await this._getUser(o);if(C)throw C;const P={provider_token:i,provider_refresh_token:a,access_token:o,expires_in:m,expires_at:v,refresh_token:u,token_type:f,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:P,redirectType:e.type},error:null})}catch(i){if(Te(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Yn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:a,error:o}=r;if(o)return this._returnResult({error:o});const u=(i=a.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:c}=await this.admin.signOut(u,e);if(c&&!(t_(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=hP(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,a;try{const{data:{session:o},error:u}=r;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await Ii(this.storage,this.storageKey,!0));try{return await Ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),Te(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:i,error:a}=await this._useSession(async o=>{var u,c,d,f,y;const{data:m,error:v}=o;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ne(this.fetch,"GET",b,{headers:this.headers,jwt:(y=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return jt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(Te(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var i;try{const{error:a,data:{session:o}}=r;if(a)throw a;const{options:u,provider:c,token:d,access_token:f,nonce:y}=e,m=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=o==null?void 0:o.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:d,access_token:f,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:wr}),{data:v,error:b}=m;return b?this._returnResult({data:{user:null,session:null},error:b}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Xn}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:b}))}catch(a){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),Te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,a;const{data:o,error:u}=r;if(u)throw u;return await Ne(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await gP(async a=>(a>0&&await mP(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:wr})),(a,o)=>{const u=200*Math.pow(2,a);return o&&Zo(o)&&Date.now()+u-i<Mi})}catch(i){if(this._debug(r,"error",i),Te(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),jt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await Yn(this.storage,this.storageKey);if(a&&this.userStorage){let u=await Yn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await zi(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:Qc()}else if(a&&!a.user&&!a.user){const u=await Yn(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(a.user=u.user,await Rt(this.storage,this.storageKey+"-user"),await zi(this.storage,this.storageKey,a)):a.user=Qc()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const o=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Yc;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${Yc}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),Zo(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:c}=await this._getUser(a.access_token);!c&&(u!=null&&u.user)?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new Yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Dl;const{data:o,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!o.session)throw new Yt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(a,"error",o),Te(o)){const u={data:null,error:o};return Zo(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,r)}catch(d){o.push(d)}});if(await Promise.all(u),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Rt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await zi(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const o=Oy(a);await zi(this.storage,this.storageKey,o)}else{const a=Oy(r);await zi(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Rt(this.storage,this.storageKey),await Rt(this.storage,this.storageKey+"-code-verifier"),await Rt(this.storage,this.storageKey+"-user"),this.userStorage&&await Rt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&jt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Mi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/Mi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Mi}ms, refresh threshold is ${Md} ticks`),a<=Md&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof zh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){const a=[`provider=${encodeURIComponent(r)}`];if(i!=null&&i.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,u]=await Ii(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(c.toString())}if(i!=null&&i.queryParams){const o=new URLSearchParams(i.queryParams);a.push(o.toString())}return i!=null&&i.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;const{data:a,error:o}=r;return o?this._returnResult({data:null,error:o}):await Ne(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,a;const{data:o,error:u}=r;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await Ne(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((a=d==null?void 0:d.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?KP(e.webauthn.credential_response):WP(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:d}=await Ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const u=await Ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:c}=u;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:VP(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:qP(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])a.all.push(o),o.status==="verified"&&a[o.factor_type].push(o);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Jc(i.access_token);let u=null;o.aal&&(u=o.aal);let c=u;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const f=o.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;return a?this._returnResult({data:null,error:a}):i?await Ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Yt})})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:a},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new Yt});const u=await Ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&jt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(Te(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:a},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new Yt});const u=await Ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&jt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(Te(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;return i?this._returnResult({data:null,error:i}):r?await Ne(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Yt})})}catch(e){if(Te(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;return a?this._returnResult({data:null,error:a}):i?(await Ne(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Yt})})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let i=r.keys.find(c=>c.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(c=>c.kid===e),i&&this.jwks_cached_at+iP>a)return i;const{data:o,error:u}=await Ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,i=o.keys.find(c=>c.kid===e),!i)?null:i}async getClaims(e,r={}){try{let i=e;if(!i){const{data:b,error:x}=await this.getSession();if(x||!b.session)return this._returnResult({data:null,error:x});i=b.session.access_token}const{header:a,payload:o,signature:u,raw:{header:c,payload:d}}=Jc(i);r!=null&&r.allowExpired||SP(o.exp);const f=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!f){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:o,header:a,signature:u},error:null}}const y=kP(a.alg),m=await crypto.subtle.importKey("jwk",f,y,!0,["verify"]);if(!await crypto.subtle.verify(y,m,u,cP(`${c}.${d}`)))throw new yl("Invalid JWT signature");return{data:{claims:o,header:a,signature:u},error:null}}catch(i){if(Te(i))return this._returnResult({data:null,error:i});throw i}}};Uh.nextInstanceID={};const tR=Mh,rR=Uh,nR=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:tR,AuthApiError:e_,AuthClient:rR,AuthError:Qi,AuthImplicitGrantRedirectError:Js,AuthInvalidCredentialsError:Ys,AuthInvalidJwtError:yl,AuthInvalidTokenResponseError:Xn,AuthPKCEGrantCodeExchangeError:Ud,AuthRetryableFetchError:gl,AuthSessionMissingError:Yt,AuthUnknownError:Cn,AuthWeakPasswordError:Bd,CustomAuthError:en,GoTrueAdminApi:Mh,GoTrueClient:Uh,NavigatorLockAcquireTimeoutError:o_,SIGN_OUT_SCOPES:el,isAuthApiError:t_,isAuthError:Te,isAuthImplicitGrantRedirectError:n_,isAuthRetryableFetchError:Zo,isAuthSessionMissingError:r_,isAuthWeakPasswordError:sP,lockInternals:ei,navigatorLock:l_,processLock:IP},Symbol.toStringTag,{value:"Module"})),d_=ma(nR);var By;function iR(){if(By)return Vs;By=1,Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.SupabaseAuthClient=void 0;const t=d_;let e=class extends t.AuthClient{constructor(i){super(i)}};return Vs.SupabaseAuthClient=e,Vs}var Fy;function $y(){if(Fy)return Do;Fy=1,Object.defineProperty(Do,"__esModule",{value:!0});const t=Sw,e=Pw(),r=zw,i=YA,a=QA(),o=XA(),u=ZA(),c=iR();class d{constructor(y,m,v){var b,x,E;this.supabaseUrl=y,this.supabaseKey=m;const C=(0,u.validateSupabaseUrl)(y);if(!m)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",C),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",C),this.storageUrl=new URL("storage/v1",C),this.functionsUrl=new URL("functions/v1",C);const P=`sb-${C.hostname.split(".")[0]}-auth-token`,N={db:a.DEFAULT_DB_OPTIONS,realtime:a.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},a.DEFAULT_AUTH_OPTIONS),{storageKey:P}),global:a.DEFAULT_GLOBAL_OPTIONS},k=(0,u.applySettingDefaults)(v??{},N);this.storageKey=(b=k.auth.storageKey)!==null&&b!==void 0?b:"",this.headers=(x=k.global.headers)!==null&&x!==void 0?x:{},k.accessToken?(this.accessToken=k.accessToken,this.auth=new Proxy({},{get:(R,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((E=k.auth)!==null&&E!==void 0?E:{},this.headers,k.global.fetch),this.fetch=(0,o.fetchWithAuth)(m,this._getAccessToken.bind(this),k.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},k.realtime)),this.accessToken&&this.accessToken().then(R=>this.realtime.setAuth(R)).catch(R=>console.warn("Failed to set initial Realtime auth token:",R)),this.rest=new e.PostgrestClient(new URL("rest/v1",C).href,{headers:this.headers,schema:k.db.schema,fetch:this.fetch}),this.storage=new i.StorageClient(this.storageUrl.href,this.headers,this.fetch,v==null?void 0:v.storage),k.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(y){return this.rest.from(y)}schema(y){return this.rest.schema(y)}rpc(y,m={},v={head:!1,get:!1,count:void 0}){return this.rest.rpc(y,m,v)}channel(y,m={config:{}}){return this.realtime.channel(y,m)}getChannels(){return this.realtime.getChannels()}removeChannel(y){return this.realtime.removeChannel(y)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var y,m;if(this.accessToken)return await this.accessToken();const{data:v}=await this.auth.getSession();return(m=(y=v.session)===null||y===void 0?void 0:y.access_token)!==null&&m!==void 0?m:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:y,persistSession:m,detectSessionInUrl:v,storage:b,userStorage:x,storageKey:E,flowType:C,lock:P,debug:N,throwOnError:k},R,j){const D={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},D),R),storageKey:E,autoRefreshToken:y,persistSession:m,detectSessionInUrl:v,storage:b,userStorage:x,flowType:C,lock:P,debug:N,throwOnError:k,fetch:j,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(y){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},y),{params:Object.assign({apikey:this.supabaseKey},y==null?void 0:y.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((m,v)=>{this._handleTokenChanged(m,"CLIENT",v==null?void 0:v.access_token)})}_handleTokenChanged(y,m,v){(y==="TOKEN_REFRESHED"||y==="SIGNED_IN")&&this.changedAccessToken!==v?(this.changedAccessToken=v,this.realtime.setAuth(v)):y==="SIGNED_OUT"&&(this.realtime.setAuth(),m=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Do.default=d,Do}var Vy;function sR(){return Vy||(Vy=1,(function(t){var e=Hr&&Hr.__createBinding||(Object.create?(function(y,m,v,b){b===void 0&&(b=v);var x=Object.getOwnPropertyDescriptor(m,v);(!x||("get"in x?!m.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return m[v]}}),Object.defineProperty(y,b,x)}):(function(y,m,v,b){b===void 0&&(b=v),y[b]=m[v]})),r=Hr&&Hr.__exportStar||function(y,m){for(var v in y)v!=="default"&&!Object.prototype.hasOwnProperty.call(m,v)&&e(m,y,v)},i=Hr&&Hr.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const a=i($y());r(d_,t);var o=Pw();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return o.PostgrestError}});var u=Sw;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return u.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return u.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return u.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return u.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return u.FunctionRegion}}),r(zw,t);var c=$y();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return i(c).default}});const d=(y,m,v)=>new a.default(y,m,v);t.createClient=d;function f(){if(typeof window<"u"||typeof process>"u")return!1;const y=process.version;if(y==null)return!1;const m=y.match(/^v(\d+)\./);return m?parseInt(m[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Hr)),Hr}var h_=sR();const f_=Sl(h_),aR=rv({__proto__:null,default:f_},[h_]),{PostgrestError:s2,FunctionsHttpError:a2,FunctionsFetchError:o2,FunctionsRelayError:l2,FunctionsError:u2,FunctionRegion:c2,SupabaseClient:d2,createClient:oR,GoTrueAdminApi:h2,GoTrueClient:f2,AuthAdminApi:p2,AuthClient:m2,navigatorLock:g2,NavigatorLockAcquireTimeoutError:y2,lockInternals:v2,processLock:w2,SIGN_OUT_SCOPES:_2,AuthError:b2,AuthApiError:x2,AuthUnknownError:S2,CustomAuthError:k2,AuthSessionMissingError:E2,AuthInvalidTokenResponseError:C2,AuthInvalidCredentialsError:T2,AuthImplicitGrantRedirectError:A2,AuthPKCEGrantCodeExchangeError:P2,AuthRetryableFetchError:R2,AuthWeakPasswordError:j2,AuthInvalidJwtError:O2,isAuthError:N2,isAuthApiError:I2,isAuthSessionMissingError:D2,isAuthImplicitGrantRedirectError:L2,isAuthRetryableFetchError:M2,isAuthWeakPasswordError:z2,RealtimePresence:U2,RealtimeChannel:B2,RealtimeClient:F2,REALTIME_LISTEN_TYPES:$2,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:V2,REALTIME_PRESENCE_LISTEN_EVENTS:q2,REALTIME_SUBSCRIBE_STATES:K2,REALTIME_CHANNEL_STATES:W2}=f_||aR,Wi={},p_=(Wi==null?void 0:Wi.VITE_SUPABASE_URL)||"https://uwslxmciglqxpvfbgjzm.supabase.co",m_=(Wi==null?void 0:Wi.VITE_SUPABASE_ANON_KEY)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV3c2x4bWNpZ2xxeHB2ZmJnanptIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQzMzU3NDcsImV4cCI6MjA3OTkxMTc0N30.Pzk2Zrp08-f93VoApIj6QjWx_9nEQSkZFRU_t1UX_ow",Xc=p_,qy=m_,K=oR(p_,m_,{auth:{autoRefreshToken:!1,persistSession:!1,detectSessionInUrl:!1,storage:void 0,flowType:"pkce"},realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Client-Info":"yolmov-web"}}}),ie=(t,e)=>{throw console.error(`[Supabase API Error] ${e}:`,t),new Error(`${e} failed: ${t.message||"Unknown error"}`)},Ye=async()=>{try{const t=localStorage.getItem("yolmov-auth-session"),e=localStorage.getItem("yolmov_admin"),r=localStorage.getItem("yolmov_partner");if(!t&&!e&&!r)return!1;const i=t?JSON.parse(t):null;return e||r?!0:!(i!=null&&i.access_token)||!(i!=null&&i.refresh_token)?(localStorage.removeItem("yolmov-auth-session"),!1):i.expires_at&&new Date(i.expires_at*1e3)<=new Date?(console.log(" Session expired in ensureAuthSession, clearing..."),localStorage.removeItem("yolmov-auth-session"),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"session-expired"}})),!1):(await K.auth.setSession({access_token:i.access_token,refresh_token:i.refresh_token}),!0)}catch(t){return console.warn("ensureAuthSession failed",t),localStorage.removeItem("yolmov-auth-session"),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"session-error"}})),!1}},Bh={signUpCustomer:async(t,e,r)=>{try{if(!r.phone||r.phone.length<10)throw new Error("Telefon numaras gerekli (minimum 10 karakter)");const{data:i,error:a}=await K.auth.signUp({email:t,password:e,options:{emailRedirectTo:`${window.location.origin}/email-dogrulama`,data:{user_type:"customer",first_name:r.firstName,last_name:r.lastName}}});if(a)throw a;if(!i.user)throw new Error("Kullanc oluturulamad");const o={id:i.user.id,first_name:r.firstName||"",last_name:r.lastName||"",phone:r.phone,email:t,avatar_url:r.avatarUrl||null,city:r.city||null,district:r.district||null},{data:u,error:c}=await K.from("customers").insert(o).select().single();if(c){if(console.error(" Customer insert failed, rolling back auth user:",c),await K.auth.admin.deleteUser(i.user.id).catch(()=>{}),c.code==="23505"){if(c.message.includes("phone"))throw new Error("Bu telefon numaras zaten kaytl");if(c.message.includes("email"))throw new Error("Bu email adresi zaten kaytl")}throw c}const d={id:u.id,firstName:u.first_name,lastName:u.last_name,phone:u.phone,email:u.email||void 0,avatarUrl:u.avatar_url||void 0,city:u.city||void 0,district:u.district||void 0,createdAt:u.created_at};return{user:i.user,customer:d,session:i.session}}catch(i){throw ie(i,"Customer Sign Up"),i}},signUpPartner:async(t,e,r)=>{try{if(!t||!e)throw new Error("Email ve ifre gereklidir");const{data:i,error:a}=await K.auth.signUp({email:t,password:e,options:{emailRedirectTo:`${window.location.origin}/email-dogrulama`,data:{user_type:"partner",first_name:r.first_name,last_name:r.last_name}}});if(a)throw a;if(!i.user)throw new Error("Auth kullancs oluturulamad");const o={id:i.user.id,name:r.company_name||r.name||"",first_name:r.first_name||"",last_name:r.last_name||"",company_name:r.company_name||"",tax_number:r.tax_number||null,sector:r.sector||null,city:r.city||null,district:r.district||null,phone:r.phone||null,email:t,vehicle_count:r.vehicle_count||0,vehicle_types:r.vehicle_types||null,service_types:r.service_types||null,commercial_registry_url:r.commercial_registry_url||null,vehicle_license_url:r.vehicle_license_url||null,status:"pending",rating:0,completed_jobs:0,credits:0},{data:u,error:c}=await K.from("partners").insert(o).select().single();if(c)throw c;return{user:i.user,partner:u}}catch(i){throw console.error(" signUpPartner error:",i),new Error(i.message||"Partner kayd baarsz")}},signInPartner:async(t,e)=>{var r;try{if(!t||!e)throw new Error("Email ve ifre gereklidir");const{data:i,error:a}=await K.auth.signInWithPassword({email:t,password:e});if(a)throw a;const o=(r=i.user)==null?void 0:r.id;if(!o)throw new Error("Kullanc bulunamad");const{data:u,error:c}=await K.from("partners").select("*").eq("id",o).maybeSingle();if(c)throw c;if(!u)throw new Error("Partner kayd bulunamad");return u.status!=="active"?{user:i.user,session:i.session,partner:u,approved:!1}:{user:i.user,session:i.session,partner:u,approved:!0}}catch(i){throw console.error(" signInPartner error:",i),new Error(i.message||"Partner girii baarsz")}},sendMagicLinkPartner:async t=>{try{if(!t)throw new Error("Email gerekli");const{data:e,error:r}=await K.auth.signInWithOtp({email:t,options:{emailRedirectTo:`${window.location.origin}/partner`,data:{user_type:"partner"}}});if(r)throw r;return e}catch(e){throw console.error(" Partner magic link error:",e),new Error(e.message||"Sihirli link gnderilemedi")}},sendPartnerActivationEmail:async t=>{try{if(!t)throw new Error("Email gerekli");const{data:e,error:r}=await K.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/sifre-olustur`});if(r)throw r;return e}catch(e){throw console.error(" Partner activation email error:",e),new Error(e.message||"Aktivasyon maili gnderilemedi")}},signIn:async(t,e)=>{var r,i,a;try{console.log(" signIn started for:",t);const o=`${Xc}/auth/v1/token?grant_type=password`,u=qy;console.log(" Using RAW FETCH to Supabase auth...");const c=Date.now(),d=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",apikey:u,Authorization:`Bearer ${u}`},body:JSON.stringify({email:t,password:e})}),f=Date.now()-c;if(console.log(" Auth response received in",`${f}ms`),!d.ok){const x=await d.json();throw console.error(" Auth failed:",x),(r=x.error_description)!=null&&r.includes("Invalid login credentials")?new Error("Email veya ifre hatal"):(i=x.error_description)!=null&&i.includes("Email not confirmed")?new Error("Email adresinizi dorulamanz gerekiyor. Ltfen mail kutunuzu kontrol edin."):new Error(x.error_description||"Giri baarsz")}const y=await d.json();if(console.log(" Auth successful:",{hasAccessToken:!!y.access_token,hasUser:!!y.user,userId:(a=y.user)==null?void 0:a.id}),!y.user)throw new Error("Kullanc bilgisi alnamad");const m={access_token:y.access_token,refresh_token:y.refresh_token,expires_in:y.expires_in,expires_at:y.expires_at,user:y.user};localStorage.setItem("yolmov-auth-session",JSON.stringify(m)),console.log(" Session saved to localStorage"),await K.auth.setSession({access_token:y.access_token,refresh_token:y.refresh_token}),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"login",session:m}})),console.log(" Checking customer record...");const b=await(await fetch(`${Xc}/rest/v1/customers?id=eq.${y.user.id}&select=id`,{headers:{apikey:u,Authorization:`Bearer ${y.access_token}`}})).json();if(console.log(" Customer check result:",{count:b==null?void 0:b.length}),!b||b.length===0)throw console.error(" Customer record not found"),new Error("Kayt ileminiz tamamlanmam. Ltfen tekrar kayt olmay deneyin.");return console.log(" signIn successful"),{user:y.user,session:m}}catch(o){throw console.error(" Sign In Error:",o),o}},signInAdmin:async(t,e)=>{var r,i,a,o,u,c;try{console.log(" Admin signIn started for:",t);const d=`${Xc}/auth/v1/token?grant_type=password`,f=qy,y=await fetch(d,{method:"POST",headers:{"Content-Type":"application/json",apikey:f,Authorization:`Bearer ${f}`},body:JSON.stringify({email:t,password:e})});if(!y.ok){const b=await y.json();throw(r=b.error_description)!=null&&r.includes("Invalid login credentials")?new Error("Email veya ifre hatal"):(i=b.error_description)!=null&&i.includes("Email not confirmed")?new Error("Email adresinizi dorulamanz gerekiyor. Ltfen mail kutunuzu kontrol edin."):new Error(b.error_description||"Giri baarsz")}const m=await y.json();if(!m.user)throw new Error("Kullanc bilgisi alnamad");const v={access_token:m.access_token,refresh_token:m.refresh_token,expires_in:m.expires_in,expires_at:m.expires_at,user:m.user};localStorage.setItem("yolmov-auth-session",JSON.stringify(v)),await K.auth.setSession({access_token:m.access_token,refresh_token:m.refresh_token}),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"login",session:v}})),console.log(" Admin signIn successful");try{const b=((o=(a=m.user)==null?void 0:a.user_metadata)==null?void 0:o.first_name)||"Admin",x=((c=(u=m.user)==null?void 0:u.user_metadata)==null?void 0:c.last_name)||"User",E=await fetch("/api/bootstrap-admin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e,firstName:b,lastName:x})});E.ok?console.log(" bootstrap-admin ensured admin_users row"):console.warn(" bootstrap-admin failed:",await E.text().catch(()=>""))}catch(b){console.warn("bootstrap-admin call error",b)}return{user:m.user,session:v}}catch(d){throw console.error(" Admin Sign In Error:",d),d}},signOut:async()=>{try{localStorage.removeItem("yolmov-auth-session"),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"logout"}}))}catch(t){ie(t,"Sign Out")}},getCurrentUser:async()=>{try{const{data:{user:t},error:e}=await K.auth.getUser();if(e)throw e;return t}catch(t){return console.error(" Get Current User Error:",t),null}},getSession:async()=>{try{const t=localStorage.getItem("yolmov-auth-session");if(!t)return null;const e=JSON.parse(t);return e.expires_at&&new Date(e.expires_at*1e3)<new Date?(console.log(" Session expired, clearing..."),localStorage.removeItem("yolmov-auth-session"),null):e}catch(t){return console.error(" Get Session Error:",t),null}},onAuthStateChange:t=>{const e=async r=>{if(r.key==="yolmov-auth-session"){const i=r.newValue;if(i){const a=JSON.parse(i);t("SIGNED_IN",a)}else t("SIGNED_OUT",null)}};return window.addEventListener("storage",e),{data:{subscription:{unsubscribe:()=>{window.removeEventListener("storage",e)}}}}},getUserRole:async()=>{try{const t=await Bh.getCurrentUser();if(!t)return null;const{data:e}=await K.from("partners").select("status").eq("id",t.id).maybeSingle();if(e)return{type:"partner",status:e.status};const{data:r}=await K.from("customers").select("id").eq("id",t.id).maybeSingle();if(r)return{type:"customer"};try{const{data:i}=await K.from("admin_users").select("role").eq("id",t.id).maybeSingle();if(i)return{type:"admin",role:i.role}}catch{}return null}catch(t){ie(t,"Get User Role")}}},g_={getAll:async()=>{try{const{data:t,error:e}=await K.from("customers").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(r=>({id:r.id,firstName:r.first_name,lastName:r.last_name,phone:r.phone,email:r.email,avatarUrl:r.avatar_url,city:r.city,district:r.district,createdAt:r.created_at}))}catch(t){return ie(t,"Get All Customers"),[]}},getById:async t=>{try{const{data:e,error:r}=await K.from("customers").select("*").eq("id",t).maybeSingle();if(r)throw r;return e?{id:e.id,firstName:e.first_name,lastName:e.last_name,phone:e.phone,email:e.email,avatarUrl:e.avatar_url,city:e.city,district:e.district,createdAt:e.created_at}:null}catch(e){return ie(e,`Get Customer ${t}`),null}},create:async t=>{try{const e={first_name:t.firstName,last_name:t.lastName,phone:t.phone||"",email:t.email||null,avatar_url:t.avatarUrl||null,city:t.city||null,district:t.district||null},{data:r,error:i}=await K.from("customers").insert(e).select().single();if(i)throw i;return{id:r.id,firstName:r.first_name,lastName:r.last_name,phone:r.phone,email:r.email||void 0,avatarUrl:r.avatar_url||void 0,city:r.city||void 0,district:r.district||void 0,createdAt:r.created_at}}catch(e){throw ie(e,"Create Customer"),e}},update:async(t,e)=>{try{const r={};e.firstName!==void 0&&(r.first_name=e.firstName),e.lastName!==void 0&&(r.last_name=e.lastName),e.phone!==void 0&&(r.phone=e.phone),e.email!==void 0&&(r.email=e.email),e.avatarUrl!==void 0&&(r.avatar_url=e.avatarUrl),e.city!==void 0&&(r.city=e.city),e.district!==void 0&&(r.district=e.district);const{data:i,error:a}=await K.from("customers").update(r).eq("id",t).select().single();if(a)throw a;return{id:i.id,firstName:i.first_name,lastName:i.last_name,phone:i.phone,email:i.email,avatarUrl:i.avatar_url,city:i.city,district:i.district,createdAt:i.created_at}}catch(r){throw ie(r,`Update Customer ${t}`),r}},delete:async t=>{try{const{error:e}=await K.from("customers").delete().eq("id",t);if(e)throw e}catch(e){ie(e,`Delete Customer ${t}`)}}},bl={getAll:async()=>{try{const{data:t,error:e}=await K.from("partners").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return ie(t,"Get All Partners"),[]}},getActive:async()=>{try{const{data:t,error:e}=await K.from("partners").select("*").eq("status","active").order("rating",{ascending:!1});if(e)throw e;return t||[]}catch(t){return ie(t,"Get Active Partners"),[]}},getById:async t=>{try{const{data:e,error:r}=await K.from("partners").select("*").eq("id",t).maybeSingle();if(r)throw r;return e}catch(e){return ie(e,`Get Partner ${t}`),null}},update:async(t,e)=>{try{console.log(" [partnersApi.update] Updating partner:",t,e);const r={...e,updated_at:new Date().toISOString()},{data:i,error:a,count:o}=await K.from("partners").update(r).eq("id",t).select();if(console.log(" [partnersApi.update] Result:",{data:i,error:a,count:o}),a)throw console.error(" [partnersApi.update] Error:",a),a;if(!i||i.length===0)throw console.warn(" [partnersApi.update] No rows updated - RLS may be blocking"),new Error("Partner gncellenemedi. Yetki sorunu olabilir.");return console.log(" [partnersApi.update] Success:",i[0]),i[0]}catch(r){throw ie(r,`Update Partner ${t}`),r}},approve:async t=>bl.update(t,{status:"active"}),suspend:async t=>bl.update(t,{status:"suspended"}),delete:async t=>{try{const{error:e}=await K.from("partners").delete().eq("id",t);if(e)throw e}catch(e){ie(e,`Delete Partner ${t}`)}}},y_={getByCustomerId:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const{data:r,error:i}=await K.from("customer_favorites").select("id, customer_id, partner_id, created_at, partners!partner_id(id, name, phone, rating, city, district, service_types)").eq("customer_id",t).order("created_at",{ascending:!1});if(i)throw i;return(r||[]).map(o=>({id:o.id,customer_id:o.customer_id,partner_id:o.partner_id,created_at:o.created_at,partners:Array.isArray(o.partners)&&o.partners.length>0?o.partners[0]:null}))}catch(e){return ie(e,"Get Favorites"),[]}},add:async(t,e)=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const{error:i}=await K.from("customer_favorites").insert({customer_id:t,partner_id:e});if(i)throw i}catch(r){throw ie(r,"Add Favorite"),r}},remove:async(t,e)=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const{error:i}=await K.from("customer_favorites").delete().eq("customer_id",t).eq("partner_id",e);if(i)throw i}catch(r){throw ie(r,"Remove Favorite"),r}}},v_={getByCustomerId:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const{data:r,error:i}=await K.from("customer_addresses").select("*").eq("customer_id",t).order("created_at",{ascending:!1});if(i)throw i;return(r||[]).map(a=>({id:a.id,customer_id:a.customer_id,label:a.label,type:a.type,address:a.address,city:a.city,district:a.district,created_at:a.created_at}))}catch(e){return ie(e,"Get Addresses"),[]}},add:async(t,e)=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const i={customer_id:t,label:e.label,type:e.type,address:e.address,city:e.city,district:e.district},{data:a,error:o}=await K.from("customer_addresses").insert(i).select("*").single();if(o)throw o;return{id:a.id,customer_id:a.customer_id,label:a.label,type:a.type,address:a.address,city:a.city,district:a.district,created_at:a.created_at}}catch(r){throw ie(r,"Add Address"),r}},remove:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const{error:r}=await K.from("customer_addresses").delete().eq("id",t);if(r)throw r}catch(e){throw ie(e,"Remove Address"),e}}},w_={getByCustomerId:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const{data:r,error:i}=await K.from("notifications").select("*").eq("customer_id",t).order("created_at",{ascending:!1});if(i)throw i;return(r||[]).map(a=>({id:a.id,customerId:a.customer_id,type:a.type,title:a.title,message:a.message,read:a.read,relatedId:a.related_id,relatedType:a.related_type,actionUrl:a.action_url,createdAt:a.created_at,readAt:a.read_at}))}catch(e){throw ie(e,"Get Notifications"),e}},getUnreadCount:async t=>{try{if(!await Ye())return 0;const{count:r,error:i}=await K.from("notifications").select("*",{count:"exact",head:!0}).eq("customer_id",t).eq("read",!1);if(i)throw i;return r||0}catch(e){return console.error("Get Unread Count Error:",e),0}},markAsRead:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const{error:r}=await K.from("notifications").update({read:!0}).eq("id",t);if(r)throw r}catch(e){throw ie(e,"Mark Notification As Read"),e}},markAllAsRead:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const{error:r}=await K.from("notifications").update({read:!0}).eq("customer_id",t).eq("read",!1);if(r)throw r}catch(e){throw ie(e,"Mark All Notifications As Read"),e}},create:async t=>{try{const e={customer_id:t.customerId,type:t.type,title:t.title,message:t.message,read:t.read,related_id:t.relatedId,related_type:t.relatedType,action_url:t.actionUrl},{data:r,error:i}=await K.from("notifications").insert(e).select().single();if(i)throw i;return{id:r.id,customerId:r.customer_id,type:r.type,title:r.title,message:r.message,read:r.read,relatedId:r.related_id,relatedType:r.related_type,actionUrl:r.action_url,createdAt:r.created_at,readAt:r.read_at}}catch(e){throw ie(e,"Create Notification"),e}},delete:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const{error:r}=await K.from("notifications").delete().eq("id",t);if(r)throw r}catch(e){throw ie(e,"Delete Notification"),e}},deleteAll:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const{error:r}=await K.from("notifications").delete().eq("customer_id",t);if(r)throw r}catch(e){throw ie(e,"Delete All Notifications"),e}}},__={getByCustomerId:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const{data:r,error:i}=await K.from("customer_notification_preferences").select("*").eq("customer_id",t).single();if(i&&i.code!=="PGRST116")throw i;if(r)return{id:r.id,customerId:r.customer_id,emailEnabled:r.email_enabled,pushEnabled:r.push_enabled,orderUpdates:r.order_updates,promotions:r.promotions,newsletter:r.newsletter,createdAt:r.created_at,updatedAt:r.updated_at};const a={customer_id:t,email_enabled:!0,push_enabled:!0,order_updates:!0,promotions:!1,newsletter:!0},{data:o,error:u}=await K.from("customer_notification_preferences").insert(a).select().single();if(u)throw u;return{id:o.id,customerId:o.customer_id,emailEnabled:o.email_enabled,pushEnabled:o.push_enabled,orderUpdates:o.order_updates,promotions:o.promotions,newsletter:o.newsletter,createdAt:o.created_at,updatedAt:o.updated_at}}catch(e){throw ie(e,"Get Notification Preferences"),e}},update:async(t,e)=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const i={};e.emailEnabled!==void 0&&(i.email_enabled=e.emailEnabled),e.pushEnabled!==void 0&&(i.push_enabled=e.pushEnabled),e.orderUpdates!==void 0&&(i.order_updates=e.orderUpdates),e.promotions!==void 0&&(i.promotions=e.promotions),e.newsletter!==void 0&&(i.newsletter=e.newsletter);const{data:a,error:o}=await K.from("customer_notification_preferences").update(i).eq("customer_id",t).select().single();if(o)throw o;return{id:a.id,customerId:a.customer_id,emailEnabled:a.email_enabled,pushEnabled:a.push_enabled,orderUpdates:a.order_updates,promotions:a.promotions,newsletter:a.newsletter,createdAt:a.created_at,updatedAt:a.updated_at}}catch(r){throw ie(r,"Update Notification Preferences"),r}}},Ky=t=>{const e={};return t.customerId!==void 0&&(e.customer_id=t.customerId),t.customerName!==void 0&&(e.customer_name=t.customerName),t.serviceType!==void 0&&(e.service_type=t.serviceType),t.description!==void 0&&(e.description=t.description),t.fromLocation!==void 0&&(e.from_location=t.fromLocation),t.toLocation!==void 0&&(e.to_location=t.toLocation),t.vehicleInfo!==void 0&&(e.vehicle_info=t.vehicleInfo),t.status!==void 0&&(e.status=t.status),t.amount!==void 0&&(e.amount=t.amount),t.jobStage!==void 0&&(e.job_stage=t.jobStage),t.assignedPartnerId!==void 0&&(e.assigned_partner_id=t.assignedPartnerId),t.assignedPartnerName!==void 0&&(e.assigned_partner_name=t.assignedPartnerName),t.stageUpdatedAt!==void 0&&(e.stage_updated_at=t.stageUpdatedAt),t.vehicleCondition!==void 0&&(e.vehicle_condition=t.vehicleCondition),t.hasLoad!==void 0&&(e.has_load=t.hasLoad),t.loadDescription!==void 0&&(e.load_description=t.loadDescription),t.damagePhotoUrls!==void 0&&(e.damage_photo_urls=t.damagePhotoUrls),t.timing!==void 0&&(e.timing=t.timing),t.customerPhone!==void 0&&(e.customer_phone=t.customerPhone),t.fromCoordinates!==void 0&&(e.from_coordinates=t.fromCoordinates),t.toCoordinates!==void 0&&(e.to_coordinates=t.toCoordinates),t.archived!==void 0&&(e.archived=t.archived),t.archivedAt!==void 0&&(e.archived_at=t.archivedAt),t.start_proof_photo!==void 0&&(e.start_proof_photo=t.start_proof_photo),t.end_proof_photo!==void 0&&(e.end_proof_photo=t.end_proof_photo),e},kn=t=>({id:t.id,customerId:t.customer_id,customerName:t.customer_name,serviceType:t.service_type,description:t.description,fromLocation:t.from_location,toLocation:t.to_location,vehicleInfo:t.vehicle_info,status:t.status,createdAt:t.created_at,amount:t.amount,jobStage:t.job_stage,assignedPartnerId:t.assigned_partner_id,assignedPartnerName:t.assigned_partner_name,stageUpdatedAt:t.stage_updated_at,vehicleCondition:t.vehicle_condition,hasLoad:t.has_load,loadDescription:t.load_description,damagePhotoUrls:t.damage_photo_urls,timing:t.timing,customerPhone:t.customer_phone,fromCoordinates:t.from_coordinates,toCoordinates:t.to_coordinates,archived:t.archived,archivedAt:t.archived_at}),Yr={getAll:async()=>{try{await Ye();const{data:t,error:e}=await K.from("requests").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(kn)}catch(t){return ie(t,"Get All Requests"),[]}},getByCustomerId:async(t,e=!1)=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");let i=K.from("requests").select("*").eq("customer_id",t);e||(i=i.or("archived.is.null,archived.eq.false"));const{data:a,error:o}=await i.order("created_at",{ascending:!1});if(o)throw o;return(a||[]).map(kn)}catch(r){return ie(r,`Get Requests for Customer ${t}`),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await K.from("requests").select("*").eq("assigned_partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return(e||[]).map(kn)}catch(e){return ie(e,`Get Requests for Partner ${t}`),[]}},getOpen:async()=>{try{const{data:t,error:e}=await K.from("requests").select("*").eq("status","open").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(kn)}catch(t){return ie(t,"Get Open Requests"),[]}},getOpenByServiceAreas:async t=>{try{if(!t||t.length===0)return console.warn(" [getOpenByServiceAreas] No service area cities provided, returning all open requests"),Yr.getOpen();const{data:e,error:r}=await K.from("requests").select("*").eq("status","open").order("created_at",{ascending:!1});if(r)throw r;const i=(e||[]).map(kn),a=i.filter(o=>{if(!o.fromLocation)return!1;const u=o.fromLocation.toLowerCase().replace(//g,"i").replace(//g,"g").replace(//g,"u").replace(//g,"s").replace(//g,"o").replace(//g,"c");return t.some(c=>{const d=c.toLowerCase().replace(//g,"i").replace(//g,"g").replace(//g,"u").replace(//g,"s").replace(//g,"o").replace(//g,"c");return u.includes(d)})});return console.log(` [getOpenByServiceAreas] Filtered ${i.length}  ${a.length} requests for cities:`,t),a}catch(e){return ie(e,"Get Open Requests by Service Areas"),[]}},getById:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const{data:r,error:i}=await K.from("requests").select("*").eq("id",t).single();if(i)throw i;return r?kn(r):null}catch(e){return ie(e,`Get Request ${t}`),null}},create:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const r=Ky(t),{data:i,error:a}=await K.from("requests").insert(r).select().single();if(a)throw a;return kn(i)}catch(e){throw ie(e,"Create Request"),e}},update:async(t,e)=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");const i=Ky(e),{data:a,error:o}=await K.from("requests").update(i).eq("id",t).select().single();if(o)throw o;return kn(a)}catch(r){throw ie(r,`Update Request ${t}`),r}},updateStatus:async(t,e)=>Yr.update(t,{status:e}),updateJobStage:async(t,e,r,i)=>Yr.update(t,{jobStage:e,assignedPartnerId:r,assignedPartnerName:i,stageUpdatedAt:new Date().toISOString()}),assignPartner:async(t,e,r)=>Yr.update(t,{assignedPartnerId:e,assignedPartnerName:r,status:"matched",jobStage:0,stageUpdatedAt:new Date().toISOString()}),delete:async t=>{try{await Ye();const{error:e}=await K.from("requests").delete().eq("id",t);if(e)throw e}catch(e){throw ie(e,`Delete Request ${t}`),e}},archive:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");return Yr.update(t,{archived:!0,archivedAt:new Date().toISOString()})}catch(e){throw ie(e,`Archive Request ${t}`),e}},unarchive:async t=>{try{if(!await Ye())throw new Error("Session expired. Please login again.");return Yr.update(t,{archived:!1,archivedAt:void 0})}catch(e){throw ie(e,`Unarchive Request ${t}`),e}}},qs=t=>({id:t.id,requestId:t.request_id,partnerId:t.partner_id,partnerName:t.partner_name,price:t.price,etaMinutes:t.eta_minutes,message:t.message,status:t.status,createdAt:t.created_at}),xl={getAll:async()=>{try{const{data:t,error:e}=await K.from("offers").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(qs)}catch(t){return ie(t,"Get All Offers"),[]}},getByRequestId:async t=>{try{const{data:e,error:r}=await K.from("offers").select("*").eq("request_id",t).order("price",{ascending:!0});if(r)throw r;return(e||[]).map(qs)}catch(e){return ie(e,`Get Offers for Request ${t}`),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await K.from("offers").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return(e||[]).map(qs)}catch(e){return ie(e,`Get Offers for Partner ${t}`),[]}},create:async t=>{try{const e={request_id:t.requestId,partner_id:t.partnerId,partner_name:t.partnerName,price:t.price,eta_minutes:t.etaMinutes,message:t.message,status:t.status},{data:r,error:i}=await K.from("offers").insert(e).select().single();if(i)throw i;return qs(r)}catch(e){throw ie(e,"Create Offer"),e}},update:async(t,e)=>{try{const r={};e.requestId!==void 0&&(r.request_id=e.requestId),e.partnerId!==void 0&&(r.partner_id=e.partnerId),e.partnerName!==void 0&&(r.partner_name=e.partnerName),e.price!==void 0&&(r.price=e.price),e.etaMinutes!==void 0&&(r.eta_minutes=e.etaMinutes),e.message!==void 0&&(r.message=e.message),e.status!==void 0&&(r.status=e.status);const{data:i,error:a}=await K.from("offers").update(r).eq("id",t).select().single();if(a)throw a;return qs(i)}catch(r){throw ie(r,`Update Offer ${t}`),r}},accept:async t=>{try{const e=await xl.update(t,{status:"accepted"}),{error:r}=await K.from("offers").update({status:"rejected"}).eq("request_id",e.requestId).neq("id",t);if(r)throw r;return await Yr.assignPartner(e.requestId,e.partnerId,e.partnerName||"Partner"),e}catch(e){throw ie(e,`Accept Offer ${t}`),e}},reject:async t=>xl.update(t,{status:"rejected"}),delete:async t=>{try{const{error:e}=await K.from("offers").delete().eq("id",t);if(e)throw e}catch(e){ie(e,`Delete Offer ${t}`)}}},Ks=t=>({id:t.id,requestId:t.request_id,partnerId:t.partner_id,partnerName:t.partner_name,customerId:t.customer_id,customerName:t.customer_name,customerPhone:t.customer_phone,serviceType:t.service_type,startLocation:t.start_location,endLocation:t.end_location,distance:t.distance,startTime:t.start_time,completionTime:t.completion_time,duration:t.duration,totalAmount:t.total_amount,commission:t.commission,partnerEarning:t.partner_earning,paymentMethod:t.payment_method,rating:t.rating,vehicleType:t.vehicle_type,vehiclePlate:t.vehicle_plate,status:t.status}),b_={getAll:async()=>{try{const{data:t,error:e}=await K.from("completed_jobs").select("*").order("completion_time",{ascending:!1});if(e)throw e;return(t||[]).map(Ks)}catch(t){return ie(t,"Get All Completed Jobs"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await K.from("completed_jobs").select("*").eq("partner_id",t).order("completion_time",{ascending:!1});if(r)throw r;return(e||[]).map(Ks)}catch(e){return ie(e,`Get Completed Jobs for Partner ${t}`),[]}},getByCustomerId:async t=>{try{const{data:e,error:r}=await K.from("completed_jobs").select("*").eq("customer_id",t).order("completion_time",{ascending:!1});if(r)throw r;return(e||[]).map(Ks)}catch(e){return ie(e,`Get Completed Jobs for Customer ${t}`),[]}},create:async t=>{try{const e={request_id:t.requestId,partner_id:t.partnerId,partner_name:t.partnerName,customer_id:t.customerId,customer_name:t.customerName,customer_phone:t.customerPhone,service_type:t.serviceType,start_location:t.startLocation,end_location:t.endLocation,distance:t.distance,start_time:t.startTime,completion_time:t.completionTime,duration:t.duration,total_amount:t.totalAmount,commission:t.commission,partner_earning:t.partnerEarning,payment_method:t.paymentMethod,rating:t.rating,vehicle_type:t.vehicleType,vehicle_plate:t.vehiclePlate,status:t.status},{data:r,error:i}=await K.from("completed_jobs").insert(e).select().single();if(i)throw i;return Ks(r)}catch(e){throw ie(e,"Create Completed Job"),e}},update:async(t,e)=>{try{const r={};e.requestId!==void 0&&(r.request_id=e.requestId),e.partnerId!==void 0&&(r.partner_id=e.partnerId),e.partnerName!==void 0&&(r.partner_name=e.partnerName),e.customerId!==void 0&&(r.customer_id=e.customerId),e.customerName!==void 0&&(r.customer_name=e.customerName),e.customerPhone!==void 0&&(r.customer_phone=e.customerPhone),e.serviceType!==void 0&&(r.service_type=e.serviceType),e.startLocation!==void 0&&(r.start_location=e.startLocation),e.endLocation!==void 0&&(r.end_location=e.endLocation),e.distance!==void 0&&(r.distance=e.distance),e.startTime!==void 0&&(r.start_time=e.startTime),e.completionTime!==void 0&&(r.completion_time=e.completionTime),e.duration!==void 0&&(r.duration=e.duration),e.totalAmount!==void 0&&(r.total_amount=e.totalAmount),e.commission!==void 0&&(r.commission=e.commission),e.partnerEarning!==void 0&&(r.partner_earning=e.partnerEarning),e.paymentMethod!==void 0&&(r.payment_method=e.paymentMethod),e.rating!==void 0&&(r.rating=e.rating),e.vehicleType!==void 0&&(r.vehicle_type=e.vehicleType),e.vehiclePlate!==void 0&&(r.vehicle_plate=e.vehiclePlate),e.status!==void 0&&(r.status=e.status);const{data:i,error:a}=await K.from("completed_jobs").update(r).eq("id",t).select().single();if(a)throw a;return Ks(i)}catch(r){throw ie(r,`Update Completed Job ${t}`),r}}},x_={getAll:async()=>{try{const{data:t,error:e}=await K.from("partner_reviews").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(r=>({id:r.id,jobId:r.job_id,partnerId:r.partner_id,partnerName:r.partner_name,customerId:r.customer_id,customerName:r.customer_name,service:r.service,rating:r.rating,comment:r.comment,tags:r.tags||[],date:r.created_at}))}catch(t){return ie(t,"Get All Partner Reviews"),[]}},getById:async t=>{try{const{data:e,error:r}=await K.from("partner_reviews").select("*").eq("id",t).single();if(r)throw r;return e?{id:e.id,jobId:e.job_id,partnerId:e.partner_id,partnerName:e.partner_name,customerId:e.customer_id,customerName:e.customer_name,service:e.service,rating:e.rating,comment:e.comment,tags:e.tags||[],date:e.created_at}:null}catch(e){return ie(e,`Get Review ${t}`),null}},getByPartnerId:async t=>{try{const{data:e,error:r}=await K.from("partner_reviews").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return(e||[]).map(i=>({id:i.id,jobId:i.job_id,partnerId:i.partner_id,partnerName:i.partner_name,customerId:i.customer_id,customerName:i.customer_name,service:i.service,rating:i.rating,comment:i.comment,tags:i.tags||[],date:i.created_at}))}catch(e){return ie(e,`Get Reviews for Partner ${t}`),[]}},create:async t=>{try{const e={job_id:t.jobId,partner_id:t.partnerId,partner_name:t.partnerName,customer_id:t.customerId,customer_name:t.customerName,service:t.service,rating:t.rating,comment:t.comment,tags:t.tags},{data:r,error:i}=await K.from("partner_reviews").insert(e).select().single();if(i)throw i;return r}catch(e){throw ie(e,"Create Partner Review"),e}},delete:async t=>{try{const{error:e}=await K.from("partner_reviews").delete().eq("id",t);if(e)throw e}catch(e){ie(e,`Delete Review ${t}`)}}},Wy=t=>({id:t.id,partnerId:t.partner_id,partnerName:t.partner_name,type:t.type,fileName:t.file_name,fileUrl:t.file_url,fileSize:t.file_size,status:t.status,uploadDate:t.upload_date,expiryDate:t.expiry_date,rejectionReason:t.rejection_reason,reviewedBy:t.reviewed_by,reviewedAt:t.reviewed_at}),pa={getAll:async()=>{try{const{data:t,error:e}=await K.from("partner_documents").select("*").order("upload_date",{ascending:!1});if(e)throw e;return(t||[]).map(Wy)}catch(t){return ie(t,"Get All Partner Documents"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await K.from("partner_documents").select("*").eq("partner_id",t).order("upload_date",{ascending:!1});if(r)throw r;return(e||[]).map(Wy)}catch(e){return ie(e,`Get Documents for Partner ${t}`),[]}},create:async t=>{try{const e={partner_id:t.partnerId,partner_name:t.partnerName,type:t.type,file_name:t.fileName,file_url:t.fileData||t.fileUrl,file_size:typeof t.fileSize=="number"?`${(t.fileSize/1024).toFixed(1)} KB`:t.fileSize,status:t.status||"pending",expiry_date:t.expiryDate},{data:r,error:i}=await K.from("partner_documents").insert(e).select().single();if(i)throw i;return r}catch(e){throw ie(e,"Create Partner Document"),e}},update:async(t,e)=>{try{const r={};e.status&&(r.status=e.status),e.reviewedBy&&(r.reviewed_by=e.reviewedBy),e.reviewedAt&&(r.reviewed_at=e.reviewedAt),e.rejectionReason&&(r.rejection_reason=e.rejectionReason),e.fileName&&(r.file_name=e.fileName),e.fileUrl&&(r.file_url=e.fileUrl),e.expiryDate&&(r.expiry_date=e.expiryDate);const{data:i,error:a}=await K.from("partner_documents").update(r).eq("id",t).select().single();if(a)throw a;return i}catch(r){throw ie(r,`Update Document ${t}`),r}},approve:async(t,e)=>pa.update(t,{status:"approved",reviewedBy:e,reviewedAt:new Date().toISOString()}),reject:async(t,e,r)=>pa.update(t,{status:"rejected",reviewedBy:e,reviewedAt:new Date().toISOString(),rejectionReason:r}),uploadFile:async(t,e,r)=>{try{const i=`${t}/${r}/${Date.now()}_${e.name}`,{data:a,error:o}=await K.storage.from("partner-documents").upload(i,e);if(o)throw o;const{data:{publicUrl:u}}=K.storage.from("partner-documents").getPublicUrl(i);return u}catch(i){throw ie(i,"Upload Partner Document"),i}}},Fh={getAll:async()=>{try{const{data:t,error:e}=await K.from("support_tickets").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return ie(t,"Get All Support Tickets"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await K.from("support_tickets").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(e){return ie(e,`Get Tickets for Partner ${t}`),[]}},create:async t=>{try{const{data:e,error:r}=await K.from("support_tickets").insert(t).select().single();if(r)throw r;return e}catch(e){throw ie(e,"Create Support Ticket"),e}},update:async(t,e)=>{try{const{data:r,error:i}=await K.from("support_tickets").update(e).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw ie(r,`Update Ticket ${t}`),r}},resolve:async(t,e,r)=>Fh.update(t,{status:"resolved",resolution:e,assignedTo:r})},S_={getAll:async()=>{try{const{data:t,error:e}=await K.from("partner_vehicles").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return ie(t,"Get All Partner Vehicles"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await K.from("partner_vehicles").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(e){return ie(e,`Get Vehicles for Partner ${t}`),[]}},create:async t=>{try{const{data:e,error:r}=await K.from("partner_vehicles").insert(t).select().single();if(r)throw r;return e}catch(e){throw ie(e,"Create Partner Vehicle"),e}},update:async(t,e)=>{try{const{data:r,error:i}=await K.from("partner_vehicles").update(e).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw ie(r,`Update Vehicle ${t}`),r}},delete:async t=>{try{const{error:e}=await K.from("partner_vehicles").delete().eq("id",t);if(e)throw e}catch(e){ie(e,`Delete Vehicle ${t}`)}},getVehicleStats:async(t,e)=>{try{const{data:r,error:i}=await K.from("completed_jobs").select("id, rating, partner_earning, completion_time").eq("vehicle_plate",t).eq("partner_id",e);if(i)throw i;const a=(r==null?void 0:r.length)||0,o=new Date;o.setDate(o.getDate()-30);const u=(r==null?void 0:r.filter(y=>new Date(y.completion_time)>=o).length)||0,c=(r==null?void 0:r.filter(y=>y.rating).map(y=>y.rating))||[],d=c.length>0?c.reduce((y,m)=>y+m,0)/c.length:0,f=(r==null?void 0:r.reduce((y,m)=>y+(m.partner_earning||0),0))||0;return{totalJobs:a,monthlyJobs:u,averageRating:Number(d.toFixed(1)),totalEarnings:Number(f.toFixed(2))}}catch(r){return ie(r,`Get Vehicle Stats for ${t}`),{totalJobs:0,monthlyJobs:0,averageRating:0,totalEarnings:0}}}},ra={getAll:async()=>{try{const{data:t,error:e}=await K.from("partner_credits").select("*").order("balance",{ascending:!1});if(e)throw e;return(t||[]).map(r=>({partnerId:r.partner_id,partnerName:r.partner_name,balance:r.balance||0,totalPurchased:r.total_purchased||0,totalUsed:r.total_used||0,lastTransaction:r.last_updated||r.updated_at||""}))}catch(t){return ie(t,"Get All Partner Credits"),[]}},getAllTransactions:async()=>{try{const{data:t,error:e}=await K.from("credit_transactions").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(r=>({id:r.id,partnerId:r.partner_id,partnerName:r.partner_name,type:r.type,amount:r.amount,balanceBefore:r.balance_before,balanceAfter:r.balance_after,description:r.description,date:r.created_at,requestId:r.request_id,adminUser:r.admin_user}))}catch(t){return ie(t,"Get All Credit Transactions"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await K.from("partner_credits").select("*").eq("partner_id",t).maybeSingle();if(r)throw r;return e}catch(e){return ie(e,`Get Credits for Partner ${t}`),null}},addCredits:async(t,e,r,i)=>{try{const a=await ra.getByPartnerId(t),o=(a==null?void 0:a.balance)||0,u=o+r,{data:c,error:d}=await K.from("credit_transactions").insert({partner_id:t,partner_name:e,type:"purchase",amount:r,balance_before:o,balance_after:u,description:i}).select().single();if(d)throw d;return c}catch(a){throw ie(a,"Add Partner Credits"),a}},useCredits:async(t,e,r,i,a)=>{try{const o=await ra.getByPartnerId(t),u=(o==null?void 0:o.balance)||0;if(u<r)throw new Error("Yetersiz kredi bakiyesi");const c=u-r,{data:d,error:f}=await K.from("credit_transactions").insert({partner_id:t,partner_name:e,type:"usage",amount:-r,balance_before:u,balance_after:c,description:i,request_id:a}).select().single();if(f)throw f;return d}catch(o){throw ie(o,"Use Partner Credits"),o}},getTransactions:async t=>{try{const{data:e,error:r}=await K.from("credit_transactions").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(e){return ie(e,`Get Transactions for Partner ${t}`),[]}},adjustCredits:async(t,e,r,i,a)=>{try{const o=await ra.getByPartnerId(t),u=(o==null?void 0:o.balance)||0,c=u+r;if(c<0)throw new Error("Bakiye negatif olamaz");const{error:d}=await K.from("partner_credits").upsert({partner_id:t,partner_name:e,balance:c,total_purchased:((o==null?void 0:o.total_purchased)||0)+(r>0?r:0),total_used:((o==null?void 0:o.total_used)||0)+(r<0?Math.abs(r):0),updated_at:new Date().toISOString()},{onConflict:"partner_id"});if(d)throw d;const{data:f,error:y}=await K.from("credit_transactions").insert({partner_id:t,partner_name:e,type:"adjustment",amount:r,balance_before:u,balance_after:c,description:`Admin tarafndan ${r>0?"eklendi":"drld"}: ${i}`}).select().single();if(y)throw y;return{transaction:{id:f.id,partnerId:f.partner_id,partnerName:f.partner_name,type:f.type,amount:f.amount,balanceBefore:f.balance_before,balanceAfter:f.balance_after,description:f.description,date:f.created_at,adminUser:f.admin_user},newBalance:c}}catch(o){throw ie(o,"Adjust Partner Credits"),o}}},k_={getAll:async()=>{try{const{data:t,error:e}=await K.from("empty_truck_routes").select("*").eq("status","active").order("departure_date",{ascending:!0});if(e)throw e;return t||[]}catch(t){return ie(t,"Get All Empty Truck Routes"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await K.from("empty_truck_routes").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(e){return ie(e,`Get Routes for Partner ${t}`),[]}},create:async t=>{try{const{data:e,error:r}=await K.from("empty_truck_routes").insert(t).select().single();if(r)throw r;return e}catch(e){throw ie(e,"Create Empty Truck Route"),e}},update:async(t,e)=>{try{const{data:r,error:i}=await K.from("empty_truck_routes").update(e).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw ie(r,`Update Route ${t}`),r}},delete:async t=>{try{const{error:e}=await K.from("empty_truck_routes").delete().eq("id",t);if(e)throw e}catch(e){ie(e,`Delete Route ${t}`)}}},E_={getAll:async()=>{try{const{data:t,error:e}=await K.from("admin_users").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return ie(t,"Get All Admin Users"),[]}},create:async t=>{try{const{data:e,error:r}=await K.from("admin_users").insert(t).select().single();if(r)throw r;return e}catch(e){throw ie(e,"Create Admin User"),e}},update:async(t,e)=>{try{const{data:r,error:i}=await K.from("admin_users").update(e).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw ie(r,`Update Admin User ${t}`),r}},delete:async t=>{try{const{error:e}=await K.from("admin_users").delete().eq("id",t);if(e)throw e}catch(e){ie(e,`Delete Admin User ${t}`)}}},C_={create:async t=>{try{const{data:e,error:r}=await K.from("system_logs").insert(t).select().single();if(r)throw r;return e}catch(e){throw ie(e,"Create System Log"),e}},getAll:async(t=100)=>{try{const{data:e,error:r}=await K.from("system_logs").select("*").order("created_at",{ascending:!1}).limit(t);if(r)throw r;return e||[]}catch(e){return ie(e,"Get System Logs"),[]}},getByEntity:async(t,e)=>{try{const{data:r,error:i}=await K.from("system_logs").select("*").eq("entity",t).eq("entity_id",e).order("created_at",{ascending:!1});if(i)throw i;return r||[]}catch(r){return ie(r,`Get Logs for ${t} ${e}`),[]}}},T_={subscribeToRequests:t=>K.channel("requests-changes").on("postgres_changes",{event:"*",schema:"public",table:"requests"},t).subscribe(),subscribeToOffers:(t,e)=>K.channel(`offers-${t}`).on("postgres_changes",{event:"*",schema:"public",table:"offers",filter:`request_id=eq.${t}`},e).subscribe(),subscribeToJobStages:(t,e)=>K.channel(`job-stages-${t}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"requests",filter:`id=eq.${t}`},e).subscribe(),unsubscribe:t=>{K.removeChannel(t)}},A_={getPartnerStats:async()=>{try{const{data:t,error:e}=await K.from("partner_stats").select("*");if(e)throw e;return t}catch(t){return ie(t,"Get Partner Stats"),[]}},getCustomerStats:async()=>{try{const{data:t,error:e}=await K.from("customer_stats").select("*");if(e)throw e;return t}catch(t){return ie(t,"Get Customer Stats"),[]}},getDailyStats:async(t=30)=>{try{const{data:e,error:r}=await K.from("daily_stats").select("*").limit(t);if(r)throw r;return e}catch(e){return ie(e,"Get Daily Stats"),[]}}},$h={getByPartnerId:async t=>{try{const{data:e,error:r}=await K.from("partner_service_areas").select("*").eq("partner_id",t).order("is_primary",{ascending:!1}).order("city",{ascending:!0});if(r)throw r;return(e||[]).map(i=>({id:i.id,partnerId:i.partner_id,city:i.city,districts:i.districts,isPrimary:i.is_primary,priceMultiplier:i.price_multiplier,isActive:i.is_active,notes:i.notes,createdAt:i.created_at,updatedAt:i.updated_at}))}catch(e){return ie(e,"Get Service Areas by Partner"),[]}},getPartnersByCity:async t=>{try{const{data:e,error:r}=await K.from("partner_service_areas").select(`
          *,
          partners!inner (
            id, name, company_name, phone, email, rating, status, city, district, service_types, profile_photo_url, logo_url
          )
        `).eq("city",t).eq("is_active",!0).eq("partners.status","active").order("is_primary",{ascending:!1});if(r)throw r;return e||[]}catch(e){return ie(e,`Get Partners by City: ${t}`),[]}},create:async t=>{try{const{data:e,error:r}=await K.from("partner_service_areas").insert({partner_id:t.partnerId,city:t.city,districts:t.districts||null,is_primary:t.isPrimary||!1,price_multiplier:t.priceMultiplier||1,notes:t.notes||null,is_active:!0}).select().single();if(r)throw r;return{id:e.id,partnerId:e.partner_id,city:e.city,districts:e.districts,isPrimary:e.is_primary,priceMultiplier:e.price_multiplier,isActive:e.is_active,notes:e.notes,createdAt:e.created_at,updatedAt:e.updated_at}}catch(e){throw ie(e,"Create Service Area"),e}},update:async(t,e)=>{try{const r={};e.districts!==void 0&&(r.districts=e.districts),e.isPrimary!==void 0&&(r.is_primary=e.isPrimary),e.priceMultiplier!==void 0&&(r.price_multiplier=e.priceMultiplier),e.isActive!==void 0&&(r.is_active=e.isActive),e.notes!==void 0&&(r.notes=e.notes);const{data:i,error:a}=await K.from("partner_service_areas").update(r).eq("id",t).select().single();if(a)throw a;return{id:i.id,partnerId:i.partner_id,city:i.city,districts:i.districts,isPrimary:i.is_primary,priceMultiplier:i.price_multiplier,isActive:i.is_active,notes:i.notes,createdAt:i.created_at,updatedAt:i.updated_at}}catch(r){throw ie(r,`Update Service Area ${t}`),r}},delete:async t=>{try{const{error:e}=await K.from("partner_service_areas").delete().eq("id",t);if(e)throw e}catch(e){throw ie(e,`Delete Service Area ${t}`),e}},setPrimary:async(t,e)=>{try{await K.from("partner_service_areas").update({is_primary:!1}).eq("partner_id",t);const{error:r}=await K.from("partner_service_areas").update({is_primary:!0}).eq("id",e);if(r)throw r}catch(r){throw ie(r,"Set Primary Service Area"),r}}},Vh={getByPartnerId:async t=>{try{const{data:e,error:r}=await K.from("vehicle_return_routes").select("*").eq("partner_id",t).order("departure_date",{ascending:!0});if(r)throw r;return(e||[]).map(i=>({id:i.id,partnerId:i.partner_id,vehicleId:i.vehicle_id,originCity:i.origin_city,destinationCity:i.destination_city,routeCities:i.route_cities,departureDate:i.departure_date,departureTime:i.departure_time,estimatedArrival:i.estimated_arrival,vehicleType:i.vehicle_type,vehiclePlate:i.vehicle_plate,driverName:i.driver_name,driverPhone:i.driver_phone,availableCapacity:i.available_capacity,pricePerKm:i.price_per_km,discountPercent:i.discount_percent,minPrice:i.min_price,status:i.status,notes:i.notes,createdAt:i.created_at,updatedAt:i.updated_at}))}catch(e){return ie(e,"Get Return Routes by Partner"),[]}},getActiveByPartnerId:async t=>{try{const e=new Date().toISOString().split("T")[0],{data:r,error:i}=await K.from("vehicle_return_routes").select("*").eq("partner_id",t).eq("status","active").gte("departure_date",e).order("departure_date",{ascending:!0});if(i)throw i;return(r||[]).map(a=>({id:a.id,partnerId:a.partner_id,vehicleId:a.vehicle_id,originCity:a.origin_city,destinationCity:a.destination_city,routeCities:a.route_cities,departureDate:a.departure_date,departureTime:a.departure_time,estimatedArrival:a.estimated_arrival,vehicleType:a.vehicle_type,vehiclePlate:a.vehicle_plate,driverName:a.driver_name,driverPhone:a.driver_phone,availableCapacity:a.available_capacity,pricePerKm:a.price_per_km,discountPercent:a.discount_percent,minPrice:a.min_price,status:a.status,notes:a.notes,createdAt:a.created_at,updatedAt:a.updated_at}))}catch(e){return ie(e,"Get Active Return Routes by Partner"),[]}},getByCity:async t=>{try{const e=new Date().toISOString().split("T")[0],{data:r,error:i}=await K.from("vehicle_return_routes").select(`
          *,
          partners!inner (
            id, name, company_name, phone, email, rating, status, profile_photo_url, logo_url
          )
        `).contains("route_cities",[t]).eq("status","active").gte("departure_date",e).eq("partners.status","active").order("departure_date",{ascending:!0});if(i)throw i;return(r||[]).map(a=>{var o,u,c,d,f;return{id:a.id,partnerId:a.partner_id,partnerName:(o=a.partners)==null?void 0:o.name,companyName:(u=a.partners)==null?void 0:u.company_name,partnerRating:(c=a.partners)==null?void 0:c.rating,profilePhotoUrl:(d=a.partners)==null?void 0:d.profile_photo_url,logoUrl:(f=a.partners)==null?void 0:f.logo_url,vehicleId:a.vehicle_id,originCity:a.origin_city,destinationCity:a.destination_city,routeCities:a.route_cities,departureDate:a.departure_date,departureTime:a.departure_time,vehicleType:a.vehicle_type,vehiclePlate:a.vehicle_plate,discountPercent:a.discount_percent,availableCapacity:a.available_capacity,status:a.status,createdAt:a.created_at}})}catch(e){return ie(e,`Get Return Routes by City: ${t}`),[]}},create:async t=>{try{const{data:e,error:r}=await K.from("vehicle_return_routes").insert({partner_id:t.partnerId,vehicle_id:t.vehicleId||null,origin_city:t.originCity,destination_city:t.destinationCity,route_cities:t.routeCities,departure_date:t.departureDate,departure_time:t.departureTime||null,estimated_arrival:t.estimatedArrival||null,vehicle_type:t.vehicleType,vehicle_plate:t.vehiclePlate,driver_name:t.driverName||null,driver_phone:t.driverPhone||null,available_capacity:t.availableCapacity||null,price_per_km:t.pricePerKm||null,discount_percent:t.discountPercent||0,min_price:t.minPrice||null,notes:t.notes||null,status:"active"}).select().single();if(r)throw r;return{id:e.id,partnerId:e.partner_id,vehicleId:e.vehicle_id,originCity:e.origin_city,destinationCity:e.destination_city,routeCities:e.route_cities,departureDate:e.departure_date,departureTime:e.departure_time,estimatedArrival:e.estimated_arrival,vehicleType:e.vehicle_type,vehiclePlate:e.vehicle_plate,driverName:e.driver_name,driverPhone:e.driver_phone,availableCapacity:e.available_capacity,pricePerKm:e.price_per_km,discountPercent:e.discount_percent,minPrice:e.min_price,status:e.status,notes:e.notes,createdAt:e.created_at,updatedAt:e.updated_at}}catch(e){throw ie(e,"Create Return Route"),e}},update:async(t,e)=>{try{const r={};e.originCity!==void 0&&(r.origin_city=e.originCity),e.destinationCity!==void 0&&(r.destination_city=e.destinationCity),e.routeCities!==void 0&&(r.route_cities=e.routeCities),e.departureDate!==void 0&&(r.departure_date=e.departureDate),e.departureTime!==void 0&&(r.departure_time=e.departureTime),e.estimatedArrival!==void 0&&(r.estimated_arrival=e.estimatedArrival),e.vehicleType!==void 0&&(r.vehicle_type=e.vehicleType),e.vehiclePlate!==void 0&&(r.vehicle_plate=e.vehiclePlate),e.driverName!==void 0&&(r.driver_name=e.driverName),e.driverPhone!==void 0&&(r.driver_phone=e.driverPhone),e.availableCapacity!==void 0&&(r.available_capacity=e.availableCapacity),e.pricePerKm!==void 0&&(r.price_per_km=e.pricePerKm),e.discountPercent!==void 0&&(r.discount_percent=e.discountPercent),e.minPrice!==void 0&&(r.min_price=e.minPrice),e.status!==void 0&&(r.status=e.status),e.notes!==void 0&&(r.notes=e.notes);const{error:i}=await K.from("vehicle_return_routes").update(r).eq("id",t);if(i)throw i}catch(r){throw ie(r,`Update Return Route ${t}`),r}},delete:async t=>{try{const{error:e}=await K.from("vehicle_return_routes").delete().eq("id",t);if(e)throw e}catch(e){throw ie(e,`Delete Return Route ${t}`),e}},cancel:async t=>{try{const{error:e}=await K.from("vehicle_return_routes").update({status:"cancelled"}).eq("id",t);if(e)throw e}catch(e){throw ie(e,`Cancel Return Route ${t}`),e}},complete:async t=>{try{const{error:e}=await K.from("vehicle_return_routes").update({status:"completed"}).eq("id",t);if(e)throw e}catch(e){throw ie(e,`Complete Return Route ${t}`),e}}},P_={getAvailablePartners:async t=>{try{const e=await $h.getPartnersByCity(t),r=await Vh.getByCity(t),i=new Set,a=[];for(const o of e){const u=o.partners;u&&!i.has(u.id)&&(i.add(u.id),a.push({partnerId:u.id,partnerName:u.name,companyName:u.company_name,partnerRating:u.rating,partnerPhone:u.phone,partnerEmail:u.email,serviceTypes:u.service_types,profilePhotoUrl:u.profile_photo_url,logoUrl:u.logo_url,city:u.city,district:u.district,source:"service_area",isPrimaryArea:o.is_primary,priceMultiplier:o.price_multiplier,routeId:null,discountPercent:null,departureDate:null}))}for(const o of r)i.has(o.partnerId)||(i.add(o.partnerId),a.push({partnerId:o.partnerId,partnerName:o.partnerName,companyName:o.companyName,partnerRating:o.partnerRating,profilePhotoUrl:o.profilePhotoUrl,logoUrl:o.logoUrl,source:"return_route",isPrimaryArea:!1,priceMultiplier:1,routeId:o.id,discountPercent:o.discountPercent,departureDate:o.departureDate,vehicleType:o.vehicleType,vehiclePlate:o.vehiclePlate,originCity:o.originCity,destinationCity:o.destinationCity}));return a.sort((o,u)=>(u.partnerRating||0)-(o.partnerRating||0)),a}catch(e){return ie(e,`Get Available Partners for City: ${t}`),[]}}},R_={getShowcaseData:async t=>{try{const{data:e,error:r}=await K.from("partners").select(`
          id, name, company_name, email, phone, rating, completed_jobs, status,
          city, district, logo_url, profile_photo_url,
          showcase_description, showcase_working_hours, showcase_payment_methods,
          showcase_is_24_7, showcase_satisfaction_rate, showcase_response_time, showcase_total_reviews
        `).eq("id",t).single();if(r)throw r;if(!e)throw new Error("Partner not found");const{data:i}=await K.from("partner_vehicles").select(`
          id, partner_id, brand, model, model_name, year, type, vehicle_type, plate_number,
          image_url, front_photo_url, side_photo_url, back_photo_url, status,
          showcase_capacity, showcase_insurance_type, showcase_equipment, showcase_description, is_showcase_vehicle
        `).eq("partner_id",t),a=(i||[]).map(d=>({...d,plate:d.plate_number,partnerId:d.partner_id})),{data:o}=await K.from("partner_reviews").select("id, customer_id, rating, comment, created_at").eq("partner_id",t).order("created_at",{ascending:!1}).limit(5),{count:u}=await K.from("partner_reviews").select("id",{count:"exact",head:!0}).eq("partner_id",t),c=await Promise.all((o||[]).map(async d=>{const{data:f}=await K.from("customers").select("first_name, last_name").eq("id",d.customer_id).single(),y=f?`${f.first_name||""} ${(f.last_name||"").charAt(0)}.`:"Anonim";return{id:d.id,customer_name:y,rating:d.rating,comment:d.comment,created_at:d.created_at}}));return{partner:e,vehicles:a,showcaseVehicle:a.find(d=>d.is_showcase_vehicle)||a[0]||null,reviews:c,totalReviews:u||0}}catch(e){return ie(e,`Get Showcase Data for Partner: ${t}`),null}},updateShowcase:async(t,e)=>{try{await Ye();const{data:r,error:i}=await K.from("partners").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(i)throw i;return r}catch(r){return ie(r,`Update Showcase for Partner: ${t}`),null}},updateVehicleShowcase:async(t,e)=>{try{await Ye();const{data:r,error:i}=await K.from("partner_vehicles").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(i)throw i;return r}catch(r){return ie(r,`Update Vehicle Showcase: ${t}`),null}},setShowcaseVehicle:async(t,e)=>{try{await Ye(),await K.from("partner_vehicles").update({is_showcase_vehicle:!1}).eq("partner_id",t);const{data:r,error:i}=await K.from("partner_vehicles").update({is_showcase_vehicle:!0}).eq("id",e).select().single();if(i)throw i;return r}catch(r){return ie(r,`Set Showcase Vehicle: ${e}`),null}}},Or={auth:Bh,customers:g_,partners:bl,requests:Yr,offers:xl,completedJobs:b_,partnerReviews:x_,partnerDocuments:pa,supportTickets:Fh,partnerVehicles:S_,partnerCredits:ra,emptyTruckRoutes:k_,adminUsers:E_,systemLogs:C_,realtime:T_,analytics:A_,favorites:y_,addresses:v_,notifications:w_,notificationPreferences:__,documents:pa,serviceAreas:$h,returnRoutes:Vh,partnerSearch:P_,partnerShowcase:R_,storage:{uploadCustomerPhoto:async(t,e)=>{try{await Ye();const r=t.name.replace(/[^a-zA-Z0-9_.-]/g,"_"),i=e||"guest",a=Date.now(),o=`${i}/${a}_${r}`;console.log(` Uploading to: request-photos/${o}`);const{data:u,error:c}=await K.storage.from("request-photos").upload(o,t,{upsert:!0,contentType:t.type});if(c)throw console.error("Storage upload error:",c),c;const{data:d}=K.storage.from("request-photos").getPublicUrl(o);return console.log(` Photo uploaded: ${d.publicUrl}`),d.publicUrl}catch(r){throw console.error(" Upload failed:",r),ie(r,"Upload Customer Photo"),r}},uploadPartnerDocument:async(t,e,r,i)=>{try{await Ye();const a=t.name.replace(/[^a-zA-Z0-9_.-]/g,"_"),o=Date.now(),u=r?`${e}/${r}/${o}_${a}`:`${e}/${i}/${o}_${a}`;console.log(` Uploading partner document to: partner-documents/${u}`);const{data:c,error:d}=await K.storage.from("partner-documents").upload(u,t,{upsert:!0,contentType:t.type});if(d)return console.error("Partner document upload error:",d),{success:!1,error:d.message};const{data:f}=K.storage.from("partner-documents").getPublicUrl(u);return console.log(` Partner document uploaded: ${f.publicUrl}`),{success:!0,url:f.publicUrl}}catch(a){return console.error(" Partner document upload failed:",a),{success:!1,error:a.message}}}}},j_={getAll:async()=>{try{await Ye();const{data:t,error:e}=await K.from("campaigns").select("*").order("sort_order",{ascending:!0});if(e)throw e;return t||[]}catch(t){throw ie(t,"Get All Campaigns"),t}},getActive:async()=>{try{const{data:t,error:e}=await K.from("campaigns").select("*").eq("is_active",!0).order("sort_order",{ascending:!0});if(e)throw e;return t||[]}catch(t){return console.error("Get Active Campaigns Error:",t),[]}},getById:async t=>{try{const{data:e,error:r}=await K.from("campaigns").select("*").eq("id",t).single();if(r&&r.code!=="PGRST116")throw r;return e}catch(e){return console.error("Get Campaign By ID Error:",e),null}},create:async t=>{try{await Ye();const{data:e,error:r}=await K.from("campaigns").insert({title:t.title,description:t.description,image_url:t.image_url,badge_text:t.badge_text||null,valid_until:t.valid_until||null,discount:t.discount||null,code:t.code||null,is_active:t.is_active??!0,sort_order:t.sort_order??0}).select().single();if(r)throw r;return e}catch(e){throw ie(e,"Create Campaign"),e}},update:async(t,e)=>{try{await Ye();const{data:r,error:i}=await K.from("campaigns").update({...e.title&&{title:e.title},...e.description&&{description:e.description},...e.image_url&&{image_url:e.image_url},badge_text:e.badge_text,valid_until:e.valid_until,discount:e.discount,code:e.code,...e.is_active!==void 0&&{is_active:e.is_active},...e.sort_order!==void 0&&{sort_order:e.sort_order}}).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw ie(r,"Update Campaign"),r}},delete:async t=>{try{await Ye();const{error:e}=await K.from("campaigns").delete().eq("id",t);if(e)throw e}catch(e){throw ie(e,"Delete Campaign"),e}},toggleActive:async(t,e)=>{try{await Ye();const{data:r,error:i}=await K.from("campaigns").update({is_active:e}).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw ie(r,"Toggle Campaign Active"),r}}},H2=Object.freeze(Object.defineProperty({__proto__:null,addressesApi:v_,adminUsersApi:E_,analyticsApi:A_,authApi:Bh,campaignsApi:j_,completedJobsApi:b_,customersApi:g_,default:Or,emptyTruckRoutesApi:k_,favoritesApi:y_,notificationPreferencesApi:__,notificationsApi:w_,offersApi:xl,partnerCreditsApi:ra,partnerDocumentsApi:pa,partnerReviewsApi:x_,partnerSearchApi:P_,partnerShowcaseApi:R_,partnerVehiclesApi:S_,partnersApi:bl,realtimeApi:T_,requestsApi:Yr,returnRoutesApi:Vh,serviceAreasApi:$h,supabase:K,supabaseApi:Or,supportTicketsApi:Fh,systemLogsApi:C_},Symbol.toStringTag,{value:"Module"})),lR=()=>{const[t,e]=B.useState(!1),[r,i]=B.useState([]),[a,o]=B.useState(0),[u,c]=B.useState(!0),d=async()=>{var x;try{const E=localStorage.getItem("yolmov-auth-session");if(!E){i([]),o(0),c(!1);return}const C=JSON.parse(E),P=(x=C==null?void 0:C.user)==null?void 0:x.id;if(!P){i([]),o(0),c(!1);return}const[N,k]=await Promise.all([Or.notifications.getByCustomerId(P),Or.notifications.getUnreadCount(P)]);i(N),o(k)}catch(E){console.error("Bildirimler yklenemedi:",E),i([]),o(0)}finally{c(!1)}};B.useEffect(()=>{d();const x=setInterval(d,3e4),E=()=>{d()};return window.addEventListener("yolmov-auth-change",E),()=>{clearInterval(x),window.removeEventListener("yolmov-auth-change",E)}},[]);const f=async x=>{try{await Or.notifications.markAsRead(x),await d()}catch(E){console.error("Bildirim okundu iaretlenemedi:",E)}},y=async()=>{var x;try{const E=localStorage.getItem("yolmov-auth-session");if(!E)return;const C=JSON.parse(E),P=(x=C==null?void 0:C.user)==null?void 0:x.id;if(!P)return;await Or.notifications.markAllAsRead(P),await d()}catch(E){console.error("Tm bildirimler okundu iaretlenemedi:",E)}},m=async(x,E)=>{E.stopPropagation();try{await Or.notifications.delete(x),await d()}catch(C){console.error("Bildirim silinemedi:",C)}},v=async()=>{var x;if(confirm("Tm bildirimleri silmek istediinizden emin misiniz?"))try{const E=localStorage.getItem("yolmov-auth-session");if(!E)return;const C=JSON.parse(E);if(!((x=C==null?void 0:C.user)==null?void 0:x.id))return;await Promise.all(r.map(N=>Or.notifications.delete(N.id))),await d()}catch(E){console.error("Bildirimler silinemedi:",E)}},b=x=>{switch(x){case"offer_received":return"";case"offer_accepted":return"";case"offer_rejected":return"";case"request_matched":return"";case"system":return"";default:return""}};return w.jsxs("div",{className:"relative",children:[w.jsxs("button",{onClick:()=>e(!t),className:"relative p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-xl transition-all","aria-label":"Bildirimler",children:[w.jsx(Rc,{size:24}),a>0&&w.jsx("span",{className:"absolute top-0 right-0 w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:a>9?"9+":a})]}),w.jsx(Nr,{children:t&&w.jsxs(w.Fragment,{children:[w.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:()=>e(!1)}),w.jsxs(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute right-0 top-full mt-2 w-96 max-w-[calc(100vw-2rem)] bg-white rounded-2xl shadow-2xl border border-slate-200 overflow-hidden z-50",children:[w.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-200 flex items-center justify-between",children:[w.jsxs("h3",{className:"text-sm font-bold text-slate-900",children:["Bildirimler",a>0&&w.jsxs("span",{className:"ml-2 text-xs text-slate-500",children:["(",a," okunmam)"]})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[a>0&&w.jsxs("button",{onClick:y,className:"text-xs text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1",children:[w.jsx(ad,{size:14}),"Tmn Okundu aretle"]}),r.length>0&&w.jsxs("button",{onClick:v,className:"text-xs text-red-600 hover:text-red-700 font-medium flex items-center gap-1",children:[w.jsx(aa,{size:14}),"Tmn Sil"]})]})]}),w.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:u?w.jsxs("div",{className:"p-8 text-center",children:[w.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-3 animate-pulse",children:w.jsx(Rc,{size:32,className:"text-slate-400"})}),w.jsx("p",{className:"text-sm text-slate-500",children:"Ykleniyor..."})]}):r.length===0?w.jsxs("div",{className:"p-8 text-center",children:[w.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-3",children:w.jsx(Rc,{size:32,className:"text-slate-400"})}),w.jsx("p",{className:"text-sm text-slate-500",children:"Henz bildiriminiz yok"})]}):w.jsx("div",{className:"divide-y divide-slate-100",children:r.map(x=>w.jsxs("div",{className:`p-4 hover:bg-slate-50 transition-colors relative group ${x.read?"":"bg-blue-50/30"}`,children:[w.jsxs("div",{className:"flex items-start gap-3 cursor-pointer",onClick:()=>f(x.id),children:[w.jsx("span",{className:"text-2xl shrink-0",children:b(x.type)}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[w.jsx("h4",{className:"text-sm font-bold text-slate-900 truncate",children:x.title}),!x.read&&w.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full shrink-0 mt-1"})]}),w.jsx("p",{className:"text-xs text-slate-600 mb-2 line-clamp-2",children:x.message}),w.jsx("p",{className:"text-xs text-slate-400",children:new Date(x.createdAt).toLocaleString("tr-TR",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]})]}),w.jsx("button",{onClick:E=>m(x.id,E),className:"absolute top-2 right-2 p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Sil",children:w.jsx(aa,{size:16})})]},x.id))})})]})]})})]})},uR=()=>{const t=oi();Lr();const[e,r]=B.useState(!1),[i,a]=B.useState(!1),[o,u]=B.useState(null),[c,d]=B.useState(!0);B.useEffect(()=>{let m=!0;const v=async P=>{try{const N=await Or.customers.getById(P);m&&N&&u(N)}catch(N){console.error("Customer ykleme hatas:",N)}},b=async()=>{var P;try{const N=localStorage.getItem("yolmov-auth-session");if(N){const k=JSON.parse(N);if(k.expires_at&&new Date(k.expires_at*1e3)<=new Date){console.log(" Session expired in Header, clearing..."),localStorage.removeItem("yolmov-auth-session"),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"session-expired"}})),m&&u(null);return}(P=k==null?void 0:k.user)!=null&&P.id&&await v(k.user.id)}else m&&u(null)}catch(N){console.error("Session kontrol hatas:",N),localStorage.removeItem("yolmov-auth-session"),m&&u(null)}finally{m&&d(!1)}};b();const x=P=>{P.key==="yolmov-auth-session"&&b()},E=P=>{var k;console.log(" Auth change event received:",(k=P.detail)==null?void 0:k.type),b()};window.addEventListener("storage",x),window.addEventListener("yolmov-auth-change",E);const C=setInterval(b,3e4);return()=>{m=!1,window.removeEventListener("storage",x),window.removeEventListener("yolmov-auth-change",E),clearInterval(C)}},[]);const f=async()=>{try{localStorage.removeItem("yolmov-auth-session"),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"logout"}})),u(null),a(!1),t("/")}catch(m){console.error("k hatas:",m),t("/")}},y=()=>r(!e);return w.jsxs("header",{className:"sticky top-0 z-50 w-full bg-white shadow-sm border-b border-gray-100 h-[80px] flex items-center",children:[w.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32 flex items-center justify-between h-full",children:[w.jsxs("div",{className:"flex items-center gap-8 lg:gap-12",children:[w.jsx("button",{className:"flex items-center cursor-pointer shrink-0 bg-transparent border-0 p-0",onClick:()=>t("/"),"aria-label":"Anasayfaya git",children:w.jsx("span",{className:"yolmov-logo text-3xl font-bold",style:{color:"#FF7A00"},children:"yolmov"})}),w.jsxs("nav",{className:"hidden md:flex items-center space-x-6 lg:space-x-8",children:[w.jsx("button",{onClick:()=>t("/hakkimizda"),className:"text-gray-600 hover:text-brand-orange font-medium transition-colors text-sm lg:text-base whitespace-nowrap",children:"Hakkmzda"}),w.jsx("button",{onClick:()=>t("/hizmetler"),className:"text-gray-600 hover:text-brand-orange font-medium transition-colors text-sm lg:text-base whitespace-nowrap",children:"Hizmetler"}),w.jsx("button",{onClick:()=>t("/iletisim"),className:"text-gray-600 hover:text-brand-orange font-medium transition-colors text-sm lg:text-base whitespace-nowrap",children:"letiim"}),w.jsx("button",{onClick:()=>t("/sss"),className:"text-gray-600 hover:text-brand-orange font-medium transition-colors text-sm lg:text-base whitespace-nowrap",children:"SSS"})]})]}),w.jsxs("div",{className:"hidden md:flex items-center gap-3 shrink-0",children:[o&&w.jsx(lR,{}),!o&&w.jsxs(w.Fragment,{children:[w.jsxs("button",{onClick:()=>t("/giris/partner"),"aria-label":"Acente giri sayfasna git",className:"text-sm font-bold text-gray-700 hover:text-blue-600 px-3 py-2 transition-colors flex items-center gap-1",children:[w.jsx(Jm,{size:16}),"Acente Girii"]}),w.jsx("div",{className:"w-px h-6 bg-gray-200 mx-1"}),w.jsx("button",{onClick:()=>t("/giris/musteri"),"aria-label":"Mteri giri sayfasna git",className:"px-6 py-2.5 rounded-xl border-2 font-semibold hover:bg-orange-50 transition-colors",style:{borderColor:"#FF7A00",color:"#FF7A00"},children:"Giri Yap"}),w.jsx("button",{onClick:()=>t("/partner/kayit"),"aria-label":"Partner kayt sayfasna git",className:"px-6 py-2.5 rounded-xl text-white font-semibold shadow-md hover:shadow-lg hover:opacity-95 transition-all transform hover:-translate-y-0.5",style:{background:"linear-gradient(to right, #FF7A00, #FF9933)"},children:"Partner Ol"})]}),o&&w.jsxs("div",{className:"relative",children:[w.jsxs("button",{onClick:()=>a(m=>!m),className:"flex items-center gap-3 px-3 py-2 rounded-xl border border-gray-200 hover:border-brand-orange hover:bg-orange-50 transition-colors",children:[w.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-orange-300 to-orange-500 text-white flex items-center justify-center font-bold text-sm overflow-hidden",children:o.avatarUrl?w.jsx("img",{src:o.avatarUrl,alt:"avatar",className:"w-full h-full object-cover"}):o.firstName.charAt(0)}),w.jsx("span",{className:"font-semibold text-gray-700",children:o.firstName})]}),i&&w.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-100 py-2 z-50 animate-fade-in",children:[w.jsx("button",{onClick:()=>{t("/musteri/profil"),a(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Profilim"}),w.jsx("div",{className:"my-1 h-px bg-gray-100"}),w.jsx("button",{onClick:()=>{f(),a(!1)},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"k Yap"})]})]})]}),w.jsx("div",{className:"md:hidden flex items-center gap-3",children:w.jsx("button",{className:"text-gray-600",onClick:y,"aria-label":e?"Meny kapat":"Meny a","aria-expanded":e,children:e?w.jsx(aa,{size:28}):w.jsx(pS,{size:28})})})]}),w.jsx(Nr,{children:e&&w.jsx(De.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"absolute top-[80px] left-0 w-full bg-white shadow-lg overflow-hidden md:hidden border-t border-gray-100",children:w.jsxs("div",{className:"flex flex-col p-6 space-y-4",children:[w.jsx("button",{onClick:()=>{t("/hakkimizda"),r(!1)},className:"text-lg font-medium text-gray-700 py-2 border-b border-gray-50 text-left",children:"Hakkmzda"}),w.jsx("button",{onClick:()=>{t("/hizmetler"),r(!1)},className:"text-lg font-medium text-gray-700 py-2 border-b border-gray-50 text-left",children:"Hizmetler"}),w.jsx("button",{onClick:()=>{t("/iletisim"),r(!1)},className:"text-lg font-medium text-gray-700 py-2 border-b border-gray-50 text-left",children:"letiim"}),w.jsx("button",{onClick:()=>{t("/sss"),r(!1)},className:"text-lg font-medium text-gray-700 py-2 border-b border-gray-50 text-left",children:"SSS"}),w.jsxs("div",{className:"pt-4 flex flex-col gap-3",children:[!o&&w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>{t("/giris/musteri"),r(!1)},className:"w-full py-3 rounded-xl border border-brand-orange text-brand-orange font-semibold",children:"Giri Yap"}),w.jsxs("button",{onClick:()=>{t("/giris/partner"),r(!1)},className:"w-full py-3 rounded-xl border border-blue-600 text-blue-600 font-semibold flex items-center justify-center gap-2",children:[w.jsx(Jm,{size:18})," Acente Girii"]}),w.jsx("button",{onClick:()=>{t("/partner/kayit"),r(!1)},className:"w-full py-3 rounded-xl bg-brand-orange text-white font-semibold shadow-md",children:"Partner Ol"})]}),o&&w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>{t("/musteri/profil"),r(!1)},className:"w-full py-3 rounded-xl bg-gray-100 text-gray-700 font-semibold",children:"Profilim"}),w.jsx("button",{onClick:()=>{f(),r(!1)},className:"w-full py-3 rounded-xl bg-red-50 text-red-600 font-semibold",children:"k Yap"})]})]})]})})})]})},$d=[{id:"tow",title:"ekici Hizmeti",description:"Aracnz bozulduunda veya kaza durumunda en yakn ekici.",icon:El},{id:"battery",title:"Ak Takviyesi",description:"Aknz m bitti? Hzlca takviye veya deiim destei.",icon:gv},{id:"tire",title:"Lastik Deiimi",description:"Lastiiniz patladysa yerinde deiim veya tamir.",icon:vv},{id:"fuel",title:"Yakt Getirme",description:"Yolda yaktnz bittiyse size en yakn istasyondan yakt.",icon:wv},{id:"rescue",title:"Ara Kurtarma",description:"Zorlu koullarda yolda kalan aracnz iin kurtarma.",icon:oS},{id:"general",title:"Genel Yol Yardm",description:"Anahtar kayb ve dier teknik sorunlar iin destek.",icon:ES}],cR=[{id:1,title:"Konumunu Belirt",description:"GPS zerinden konumunu payla veya adresi manuel gir.",icon:Yd},{id:2,title:"Hizmeti Se",description:"htiyacn olan yol yardm hizmetini kategorilerden se.",icon:ld},{id:3,title:"Yardm Yola ksn",description:"En yakn uzman ekipten teklif al ve onayla.",icon:El}],dR=[{id:"trust",title:"Gvenilir Hizmet",icon:_S},{id:"network",title:"Dorulanm Acente A",icon:xS},{id:"speed",title:"Hzl Eriim",icon:od},{id:"support",title:"7/24 Canl Destek",icon:bv}],qo={Adana:["Alada","Ceyhan","ukurova","Feke","mamolu","Karaisal","Karata","Kozan","Pozant","Saimbeyli","Saram","Seyhan","Tufanbeyli","Yumurtalk","Yreir"],Adyaman:["Besni","elikhan","Gerger","Glba","Kahta","Merkez","Samsat","Sincik","Tut"],Afyonkarahisar:["Bamak","Bayat","Bolvadin","ay","obanlar","Dazkr","Dinar","Emirda","Evciler","Hocalar","hsaniye","scehisar","Kzlren","Merkez","Sandkl","Sinanpaa","Sultanda","uhut"],Ar:["Diyadin","Doubayazt","Elekirt","Hamur","Merkez","Patnos","Talay","Tutak"],Aksaray:["Aaren","Eskil","Glaa","Gzelyurt","Merkez","Ortaky","Saryahi","Sultanhan"],Amasya:["Gyncek","Gmhacky","Hamamz","Merkez","Merzifon","Suluova","Taova"],Ankara:["Akyurt","Altnda","Aya","Bala","Beypazar","amldere","ankaya","ubuk","Elmada","Etimesgut","Evren","Glba","Gdl","Haymana","Kalecik","Kahramankazan","Keiren","Kzlcahamam","Mamak","Nallhan","Polatl","Pursaklar","Sincan","ereflikohisar","Yenimahalle"],Antalya:["Akseki","Aksu","Alanya","Demre","Demealt","Elmal","Finike","Gazipaa","Gndomu","brad","Ka","Kemer","Kepez","Konyaalt","Korkuteli","Kumluca","Manavgat","Muratpaa","Serik"],Ardahan:["ldr","Damal","Gle","Hanak","Merkez","Posof"],Artvin:["Ardanu","Arhavi","Borka","Hopa","Kemalpaa","Merkez","Murgul","avat","Yusufeli"],Aydn:["Bozdoan","Buharkent","ine","Didim","Efeler","Germencik","ncirliova","Karacasu","Karpuzlu","Koarl","Kk","Kuadas","Kuyucak","Nazilli","Ske","Sultanhisar","Yenipazar"],Balkesir:["Altnyayla","Ayvalk","Balya","Bandrma","Bigadi","Burhaniye","Dursunbey","Edremit","Erdek","Gme","Gnen","Havran","vrindi","Karesi","Kepsut","Manyas","Marmara","Savatepe","Sndrg","Susurluk"],Bartn:["Amasra","Kurucaile","Merkez","Ulus"],Batman:["Beiri","Gerc","Hasankeyf","Kozluk","Merkez","Sason"],Bayburt:["Aydntepe","Demirz","Merkez"],Bilecik:["Bozyk","Glpazar","nhisar","Merkez","Osmaneli","Pazaryeri","St","Yenipazar"],Bingl:["Adakl","Gen","Karlova","Ki","Merkez","Solhan","Yayladere","Yedisu"],Bitlis:["Adilcevaz","Ahlat","Groymak","Hizan","Merkez","Mutki","Tatvan"],Bolu:["Drtdivan","Gerede","Gynk","Kbrsck","Mengen","Merkez","Mudurnu","Seben","Yeniaa"],Burdur:["Alasun","Altnyayla","Bucak","avdr","eltiki","Glhisar","Karamanl","Kemer","Merkez","Tefenni","Yeilova"],Bursa:["Bykorhan","Gemlik","Grsu","Harmanck","negl","znik","Karacabey","Keles","Kestel","Mudanya","Mustafakemalpaa","Nilfer","Orhaneli","Orhangazi","Osmangazi","Yeniehir","Yldrm"],anakkale:["Ayvack","Bayrami","Biga","Bozcaada","an","Eceabat","Ezine","Gelibolu","Gkeada","Lapseki","Merkez","Yenice"],ankr:["Atkaracalar","Bayramren","erke","Eldivan","Ilgaz","Kzlrmak","Korgun","Kurunlu","Merkez","Orta","abanz","Yaprakl"],orum:["Alaca","Bayat","Boazkale","Dodurga","skilip","Karg","Lain","Mecitz","Merkez","Ouzlar","Ortaky","Osmanck","Sungurlu","Uurluda"],Denizli:["Acpayam","Babada","Baklan","Bekilli","Beyaa","Bozkurt","Buldan","al","ameli","ardak","ivril","Gney","Honaz","Kale","Merkezefendi","Pamukkale","Sarayky","Serinhisar","Tavas"],Diyarbakr:["Balar","Bismil","ermik","nar","ng","Dicle","Eil","Ergani","Hani","Hazro","Kayapnar","Kocaky","Kulp","Lice","Silvan","Sur","Yeniehir"],Dzce:["Akakoca","Cumayeri","ilimli","Glyaka","Gmova","Kaynal","Merkez","Ylca"],Edirne:["Enez","Havsa","psala","Kean","Lalapaa","Meri","Merkez","Slolu","Uzunkpr"],Elaz:["An","Alacakaya","Arcak","Baskil","Karakoan","Keban","Kovanclar","Maden","Merkez","Palu","Sivrice"],Erzincan:["ayrl","li","Kemah","Kemaliye","Merkez","Otlukbeli","Refahiye","Tercan","zml"],Erzurum:["Akale","Aziziye","at","Hns","Horasan","spir","Karaoban","Karayaz","Kprky","Narman","Oltu","Olur","Palandken","Pasinler","Pazaryolu","enkaya","Tekman","Tortum","Uzundere","Yakutiye"],Eskiehir:["Alpu","Beylikova","ifteler","Gnyz","Han","nn","Mahmudiye","Mihalgazi","Mihalk","Odunpazar","Sarcakaya","Seyitgazi","Sivrihisar","Tepeba"],Gaziantep:["Araban","slahiye","Karkam","Nizip","Nurda","Ouzeli","ahinbey","ehitkamil","Yavuzeli"],Giresun:["Alucra","Bulancak","amoluk","anak","Dereli","Doankent","Espiye","Eynesil","Grele","Gce","Keap","Merkez","Piraziz","ebinkarahisar","Tirebolu","Yaldere"],Gmhane:["Kelkit","Kse","Krtn","Merkez","iran","Torul"],Hakkari:["ukurca","Derecik","Merkez","emdinli","Yksekova"],Hatay:["Altnz","Antakya","Arsuz","Belen","Defne","Drtyol","Erzin","Hassa","skenderun","Krkhan","Kumlu","Payas","Reyhanl","Samanda","Yaylada"],Idr:["Aralk","Karakoyunlu","Merkez","Tuzluca"],Isparta:["Aksu","Atabey","Eirdir","Gelendost","Gnen","Keiborlu","Merkez","Senirkent","Stler","arkikaraaa","Uluborlu","Yalva","Yeniarbademli"],stanbul:["Adalar","Arnavutky","Ataehir","Avclar","Baclar","Bahelievler","Bakrky","Baakehir","Bayrampaa","Beikta","Beykoz","Beylikdz","Beyolu","Bykekmece","atalca","ekmeky","Esenler","Esenyurt","Eypsultan","Fatih","Gaziosmanpaa","Gngren","Kadky","Kathane","Kartal","Kkekmece","Maltepe","Pendik","Sancaktepe","Saryer","Silivri","Sultanbeyli","Sultangazi","ile","ili","Tuzla","mraniye","skdar","Zeytinburnu"],zmir:["Aliaa","Balova","Bayndr","Bayrakl","Bergama","Beyda","Bornova","Buca","eme","ili","Dikili","Foa","Gaziemir","Gzelbahe","Karabalar","Karaburun","Karyaka","Kemalpaa","Knk","Kiraz","Konak","Menderes","Menemen","Narldere","demi","Seferihisar","Seluk","Tire","Torbal","Urla"],Kahramanmara:["Afin","Andrn","alayancerit","Dulkadirolu","Ekinz","Elbistan","Gksun","Nurhak","Onikiubat","Pazarck","Trkolu"],Karabk:["Eflani","Eskipazar","Merkez","Ovack","Safranbolu","Yenice"],Karaman:["Ayranc","Bayayla","Ermenek","Kazmkarabekir","Merkez","Sarveliler"],Kars:["Akyaka","Arpaay","Digor","Kazman","Merkez","Sarkam","Selim","Susuz"],Kastamonu:["Abana","Al","Ara","Azdavay","Bozkurt","Cide","atalzeytin","Daday","Devrekani","Doanyurt","Hann","hsangazi","nebolu","Kre","Merkez","Pnarba","Seydiler","enpazar","Takpr","Tosya"],Kayseri:["Akkla","Bnyan","Develi","Felahiye","Haclar","ncesu","Kocasinan","Melikgazi","zvatan","Pnarba","Sarolan","Sarz","Talas","Tomarza","Yahyal","Yeilhisar"],Krkkale:["Bahl","Baleyh","elebi","Delice","Karakeili","Keskin","Merkez","Sulakyurt","Yahihan"],Krklareli:["Babaeski","Demirky","Kofaz","Lleburgaz","Merkez","Pehlivanky","Pnarhisar","Vize"],Krehir:["Akakent","Akpnar","Boztepe","iekda","Kaman","Merkez","Mucur"],Kilis:["Elbeyli","Merkez","Musabeyli","Polateli"],Kocaeli:["Baiskele","ayrova","Darca","Derince","Dilovas","Gebze","Glck","zmit","Kandra","Karamrsel","Kartepe","Krfez"],Konya:["Ahrl","Akren","Akehir","Altnekin","Beyehir","Bozkr","Cihanbeyli","eltik","umra","Derbent","Derebucak","Doanhisar","Emirgazi","Ereli","Gneysnr","Hadim","Halkapnar","Hyk","Ilgn","Kadnhan","Karapnar","Karatay","Kulu","Meram","Sarayn","Seluklu","Seydiehir","Takent","Tuzluku","Yalhyk","Yunak"],Ktahya:["Altnta","Aslanapa","avdarhisar","Domani","Dumlupnar","Emet","Gediz","Hisarck","Merkez","Pazarlar","Simav","aphane","Tavanl"],Malatya:["Akada","Arapgir","Arguvan","Battalgazi","Darende","Doanehir","Doanyol","Hekimhan","Kale","Kuluncak","Ptrge","Yazhan","Yeilyurt"],Manisa:["Ahmetli","Akhisar","Alaehir","Demirci","Glmarmara","Grdes","Krkaa","Kprba","Kula","Salihli","Sargl","Saruhanl","Selendi","Soma","ehzadeler","Turgutlu","Yunusemre"],Mardin:["Artuklu","Dargeit","Derik","Kzltepe","Mazda","Midyat","Nusaybin","merli","Savur","Yeilli"],Mersin:["Akdeniz","Anamur","Aydnck","Bozyaz","amlyayla","Erdemli","Glnar","Mezitli","Mut","Silifke","Tarsus","Toroslar","Yeniehir"],Mula:["Bodrum","Dalaman","Data","Fethiye","Kavakldere","Kyceiz","Marmaris","Mentee","Milas","Ortaca","Seydikemer","Ula","Yataan"],Mu:["Bulank","Hasky","Korkut","Malazgirt","Merkez","Varto"],Nevehir:["Acgl","Avanos","Derinkuyu","Glehir","Hacbekta","Kozakl","Merkez","rgp"],Nide:["Altunhisar","Bor","amard","iftlik","Merkez","Ulukla"],Ordu:["Akku","Altnordu","Aybast","ama","atalpnar","ayba","Fatsa","Glky","Glyal","Grgentepe","kizce","Kabadz","Kabata","Korgan","Kumru","Mesudiye","Perembe","Ulubey","nye"],Osmaniye:["Bahe","Dzii","Hasanbeyli","Kadirli","Merkez","Sumbas","Toprakkale"],Rize:["Ardeen","amlhemin","ayeli","Derepazar","Fndkl","Gneysu","Hemin","kizdere","yidere","Kalkandere","Merkez","Pazar"],Sakarya:["Adapazar","Akyaz","Arifiye","Erenler","Ferizli","Geyve","Hendek","Karaprek","Karasu","Kaynarca","Kocaali","Pamukova","Sapanca","Serdivan","Stl","Tarakl"],Samsun:["19 Mays","Alaam","Asarck","Atakum","Ayvack","Bafra","Canik","aramba","Havza","lkadm","Kavak","Ladik","Salpazar","Tekkeky","Terme","Vezirkpr","Yakakent"],Siirt:["Baykan","Eruh","Kurtalan","Merkez","Pervari","irvan","Tillo"],Sinop:["Ayanck","Boyabat","Dikmen","Duraan","Erfelek","Gerze","Merkez","Saraydz","Trkeli"],Sivas:["Aknclar","Altnyayla","Divrii","Doanar","Gemerek","Glova","Grn","Hafik","mranl","Kangal","Koyulhisar","Merkez","Suehri","arkla","Ula","Yldzeli","Zara"],anlurfa:["Akakale","Birecik","Bozova","Ceylanpnar","Eyybiye","Halfeti","Haliliye","Harran","Hilvan","Karakpr","Siverek","Suru","Viranehir"],rnak:["Beytebap","Cizre","Glkonak","dil","Merkez","Silopi","Uludere"],Tekirda:["erkezky","orlu","Ergene","Hayrabolu","Kapakl","Malkara","Marmaraerelisi","Muratl","Saray","Sleymanpaa","arky"],Tokat:["Almus","Artova","Baiftlik","Erbaa","Merkez","Niksar","Pazar","Readiye","Sulusaray","Turhal","Yeilyurt","Zile"],Trabzon:["Akaabat","Arakl","Arsin","Beikdz","arba","aykara","Dernekpazar","Dzky","Hayrat","Kprba","Maka","Of","Ortahisar","Srmene","alpazar","Tonya","Vakfkebir","Yomra"],Tunceli:["emigezek","Hozat","Mazgirt","Merkez","Nazmiye","Ovack","Pertek","Plmr"],Uak:["Banaz","Eme","Karahall","Merkez","Sivasl","Ulubey"],Van:["Bahesaray","Bakale","aldran","atak","Edremit","Erci","Geva","Grpnar","pekyolu","Muradiye","zalp","Saray","Tuba"],Yalova:["Altnova","Armutlu","narck","iftlikky","Merkez","Termal"],Yozgat:["Akdamadeni","Aydnck","Boazlyan","andr","ayralan","ekerek","Kadehri","Merkez","Saraykent","Sarkaya","Sorgun","efaatli","Yenifakl","Yerky"],Zonguldak:["Alapl","aycuma","Devrek","Ereli","Gkebey","Kilimli","Kozlu","Merkez"]},G2={highDemand:[{from:"istanbul",to:"ankara",fromName:"stanbul",toName:"Ankara"},{from:"istanbul",to:"izmir",fromName:"stanbul",toName:"zmir"},{from:"istanbul",to:"antalya",fromName:"stanbul",toName:"Antalya"},{from:"ankara",to:"izmir",fromName:"Ankara",toName:"zmir"},{from:"ankara",to:"antalya",fromName:"Ankara",toName:"Antalya"},{from:"izmir",to:"antalya",fromName:"zmir",toName:"Antalya"}]},Y2=[{id:"tekne",name:"Tekne Tama",slug:"tekne",description:"Tekne, yat ve deniz arac tama hizmeti",avgPrice:8e3,icon:"",targetCities:["mugla","antalya","izmir","istanbul"]},{id:"forklift",name:"Forklift Tama",slug:"forklift",description:" makinesi ve forklift nakliyesi",avgPrice:6500,icon:"",targetCities:["kocaeli","bursa","ankara","istanbul","izmir"]},{id:"karavan",name:"Karavan Tama",slug:"karavan",description:"Karavan ve motorhome ekici hizmeti",avgPrice:5500,icon:"",targetCities:["antalya","mugla","aydin","izmir"]},{id:"motosiklet",name:"Motosiklet ekici",slug:"motosiklet",description:"Motorsiklet ve ATV tama",avgPrice:2500,icon:"",targetCities:["istanbul","ankara","izmir","antalya"]},{id:"klasik-arac",name:"Klasik Ara Tama",slug:"klasik-arac",description:"Antika ve koleksiyon ara nakliyesi",avgPrice:9e3,icon:"",targetCities:["istanbul","ankara","izmir"]},{id:"is-makinesi",name:" Makinesi Tama",slug:"is-makinesi",description:"Vin, greyder, kazc tama",avgPrice:12e3,icon:"",targetCities:["ankara","istanbul","izmir","kocaeli","bursa"]}],J2=[{id:"lastikci",name:"Nbeti Lastiki",slug:"lastikci"},{id:"aku",name:"Nbeti Ak",slug:"aku"},{id:"cekici",name:"Nbeti ekici",slug:"cekici"},{id:"oto-elektrik",name:"Nbeti Oto Elektrik",slug:"oto-elektrik"},{id:"cam",name:"Nbeti Cam Tamiri",slug:"cam"}],Q2=[{slug:"tem-otoyolu",name:"TEM Otoyolu",city:"stanbul",type:"highway"},{slug:"kuzey-marmara-otoyolu",name:"Kuzey Marmara Otoyolu",city:"stanbul",type:"highway"},{slug:"o-3-otoyolu",name:"O-3 Otoyolu (Avrupa)",city:"stanbul",type:"highway"},{slug:"o-4-otoyolu",name:"O-4 Otoyolu",city:"stanbul",type:"highway"},{slug:"ankara-izmir-otoyolu",name:"Ankara-zmir Otoyolu",city:"Ankara",type:"highway"},{slug:"istanbul-havalimani",name:"stanbul Havaliman",city:"stanbul",type:"airport"},{slug:"sabiha-gokcen",name:"Sabiha Gken Havaliman",city:"stanbul",type:"airport"},{slug:"esenboga-havalimani",name:"Esenboa Havaliman",city:"Ankara",type:"airport"},{slug:"izmir-adnan-menderes",name:"zmir Adnan Menderes Havaliman",city:"zmir",type:"airport"},{slug:"antalya-havalimani",name:"Antalya Havaliman",city:"Antalya",type:"airport"},{slug:"ostim-sanayi",name:"OSTM Sanayi Sitesi",city:"Ankara",type:"industrial"},{slug:"ikitelli-osb",name:"kitelli OSB",city:"stanbul",type:"industrial"},{slug:"dudullu-osb",name:"Dudullu OSB",city:"stanbul",type:"industrial"},{slug:"gebze-osb",name:"Gebze Organize Sanayi",city:"Kocaeli",type:"industrial"},{slug:"ege-serbest-bolge",name:"Ege Serbest Blgesi",city:"zmir",type:"industrial"},{slug:"maslak-oto-sanayi",name:"Maslak Oto Sanayi",city:"stanbul",type:"automotive"},{slug:"mecidiyekoy-oto-sanayi",name:"Mecidiyeky Oto Sanayi",city:"stanbul",type:"automotive"},{slug:"topkapi-oto-sanayi",name:"Topkap Oto Sanayi",city:"stanbul",type:"automotive"},{slug:"kozyatagi-oto-sanayi",name:"Kozyata Oto Sanayi",city:"stanbul",type:"automotive"}],X2=[{id:"cekici",name:"ekici Fiyatlar",slug:"cekici"},{id:"oto-kurtarma",name:"Oto Kurtarma Fiyatlar",slug:"oto-kurtarma"},{id:"lastik-degisimi",name:"Lastik Deiimi Fiyatlar",slug:"lastik-degisimi"},{id:"aku-takviyesi",name:"Ak Takviyesi Fiyatlar",slug:"aku-takviyesi"},{id:"sehirler-arasi",name:"ehirler Aras ekici Fiyatlar",slug:"sehirler-arasi"},{id:"yakit-yardimi",name:"Yakt Yardm Fiyatlar",slug:"yakit-yardimi"}],Z2=2025,hR="/assets/1765057362098_kis-2.webp",fR=({onSearch:t})=>{const[e,r]=B.useState(!1),[i,a]=B.useState("city"),[o,u]=B.useState(""),[c,d]=B.useState(!1),[f,y]=B.useState("Konum alnyor..."),[m,v]=B.useState(""),[b,x]=B.useState(""),[E,C]=B.useState(!1),[P,N]=B.useState(""),[k,R]=B.useState(!1),[j,D]=B.useState("Arama balatlyor..."),[O,M]=B.useState(null),Q=B.useRef(null),z=B.useRef(null),q=B.useRef(null),re=B.useRef(null);B.useEffect(()=>{function Z(he){Q.current&&!Q.current.contains(he.target)&&r(!1),z.current&&!z.current.contains(he.target)&&C(!1)}return document.addEventListener("mousedown",Z),()=>document.removeEventListener("mousedown",Z)},[]);const ue=Object.keys(qo),xe=m?qo[m]:[],Pe=i==="city"?ue.filter(Z=>Z.toLocaleLowerCase("tr").includes(o.toLocaleLowerCase("tr"))):xe.filter(Z=>Z.toLocaleLowerCase("tr").includes(o.toLocaleLowerCase("tr"))),Re=$d.find(Z=>Z.id===P),Se=Z=>{N(Z),C(!1)},oe=Z=>{var he;v(Z),a("district"),u(""),(he=q.current)==null||he.focus()},se=Z=>{x(Z),u(""),r(!1)},me=Z=>{var he;Z==null||Z.stopPropagation(),v(""),x(""),a("city"),u(""),r(!0),(he=q.current)==null||he.focus()},V=()=>{var Z;a("city"),x(""),v(""),u(""),(Z=q.current)==null||Z.focus()},H=()=>{if(!navigator.geolocation){alert("Taraycnz konum zelliini desteklemiyor.");return}console.log(" Konum servisi isteniyor (Hero)..."),d(!0),y("GPS konumunuz alnyor..."),r(!1),navigator.geolocation.getCurrentPosition(async Z=>{console.log(" Konum alnd:",Z.coords),y("Adres bilgileri zlyor...");const{latitude:he,longitude:_e}=Z.coords;try{console.log(" Reverse geocoding balatlyor...");const Me=await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${he}&lon=${_e}&format=json&accept-language=tr`,{headers:{"User-Agent":"YOLMOV App"}});if(!Me.ok)throw new Error("Geocoding API hatas");const Fe=await Me.json();console.log(" Geocoding sonucu:",Fe),y("ehir ve ile eletiriliyor...");const We=Fe.address||{};let St=We.province||We.state||We.city||We.town,ft=We.county||We.district||We.suburb||We.neighbourhood;console.log(" Tespit edilen ehir:",St,"/ le:",ft);const at=Object.keys(qo).find(kt=>kt.toLowerCase()===(St==null?void 0:St.toLowerCase()));if(at){console.log(" ehir eleti:",at),oe(at);const Y=qo[at].find(ee=>ee.toLowerCase().includes(ft==null?void 0:ft.toLowerCase())||(ft==null?void 0:ft.toLowerCase().includes(ee.toLowerCase())));Y?(console.log(" le eleti:",Y),y("Konum baaryla belirlendi!"),setTimeout(()=>{se(Y),d(!1)},500)):(console.warn(" le elemedi, ehir seildi"),a("district"),r(!0),d(!1))}else console.warn(" ehir sistemde bulunamad:",St),d(!1),r(!0)}catch(Me){console.error(" Reverse geocoding error:",Me),alert("Konum bilgisi alnamad. Ltfen manuel olarak sein."),d(!1),r(!0)}},Z=>{console.error(" Geolocation error:",Z);let he="Konum eriimi reddedildi.";switch(Z.code){case Z.PERMISSION_DENIED:he="Konum izni reddedildi. Tarayc ayarlarndan konum iznini an.";break;case Z.POSITION_UNAVAILABLE:he="Konum bilgisi kullanlamyor. GPS/Wi-Fi ak olduundan emin olun.";break;case Z.TIMEOUT:he="Konum tespiti zaman amna urad. Tekrar deneyin.";break}console.error("Konum hatas:",he),d(!1),r(!0)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},ce=async()=>{if(re.current){const Z=re.current.getBoundingClientRect();M({top:Z.top,left:Z.left,width:Z.width,height:Z.height}),R(!0),D("Konumunuz analiz ediliyor...");const he=setTimeout(()=>{D("Blgedeki uzmanlar taranyor...")},800),_e=setTimeout(()=>{D("Msaitlik durumlar kontrol ediliyor...")},1800),Me=2500,Fe=Date.now();try{const We=await Or.partnerSearch.getAvailablePartners(m,b);sessionStorage.setItem("yolmov_search_results",JSON.stringify({partners:We,city:m,district:b,timestamp:Date.now()}));const St=Date.now()-Fe,ft=Math.max(0,Me-St);await new Promise(at=>setTimeout(at,ft)),D("Sonular hazr!"),setTimeout(()=>{clearTimeout(he),clearTimeout(_e),t&&t(m,b,P)},400)}catch(We){console.error("Partner arama hatas:",We),D("Sonular hazr!"),setTimeout(()=>{clearTimeout(he),clearTimeout(_e),t&&t(m,b,P)},400)}}},ne=()=>{if(!P)return w.jsx(Qm,{size:64,className:"text-white",strokeWidth:1.5});switch(P){case"tow":return w.jsx(El,{size:64,className:"text-white",strokeWidth:1.5});case"battery":return w.jsx(gv,{size:64,className:"text-white",strokeWidth:1.5});case"tire":return w.jsx(vv,{size:64,className:"text-white",strokeWidth:1.5});case"fuel":return w.jsx(wv,{size:64,className:"text-white",strokeWidth:1.5});default:return w.jsx(Qm,{size:64,className:"text-white",strokeWidth:1.5})}};return w.jsxs("section",{className:"relative w-full min-h-[700px] flex items-center z-30",children:[k&&O&&w.jsx(De.div,{initial:{position:"fixed",top:O.top,left:O.left,width:O.width,height:O.height,borderRadius:"1.5rem",backgroundColor:"#FF7A00",zIndex:9999,opacity:1},animate:{top:0,left:0,width:"100vw",height:"100vh",borderRadius:0},transition:{duration:.6,ease:[.645,.045,.355,1]},className:"flex flex-col items-center justify-center overflow-hidden",children:w.jsxs(De.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3,duration:.4},className:"flex flex-col items-center text-white p-6 text-center w-full max-w-lg",children:[w.jsx(De.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-10",children:w.jsx("h1",{className:"yolmov-logo text-5xl font-bold text-white",children:"yolmov"})}),w.jsxs("div",{className:"relative w-full h-40 flex items-center justify-center mb-8 overflow-hidden",children:[w.jsx("div",{className:"absolute w-32 h-32 bg-white/10 rounded-full animate-ping opacity-20"}),w.jsx("div",{className:"absolute w-48 h-48 bg-white/5 rounded-full animate-ping opacity-10 delay-150"}),w.jsx("div",{className:"absolute bottom-10 w-[200%] flex gap-12 animate-move-left opacity-30",children:[1,2,3,4,5,6,7,8].map(Z=>w.jsx("div",{className:"w-16 h-1 bg-white rounded-full"},Z))}),w.jsxs(De.div,{animate:{y:[0,-4,0]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},className:"relative z-10 drop-shadow-[0_10px_20px_rgba(0,0,0,0.3)]",children:[ne(),w.jsx("div",{className:"absolute -bottom-2 left-2 right-2 h-1.5 bg-black/20 rounded-[100%] blur-sm"})]}),w.jsx(De.div,{className:"absolute top-10 right-10 w-10 h-0.5 bg-white/40 rounded-full",animate:{x:[50,-100],opacity:[0,1,0]},transition:{repeat:1/0,duration:.8,delay:.2}}),w.jsx(De.div,{className:"absolute bottom-12 right-0 w-16 h-0.5 bg-white/30 rounded-full",animate:{x:[50,-100],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.1}})]}),w.jsx("div",{className:"h-20 flex flex-col items-center justify-center",children:w.jsx(Nr,{mode:"wait",children:w.jsx(De.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"text-3xl md:text-4xl font-display font-bold tracking-tight leading-tight text-white",children:j},j)})}),w.jsx(De.div,{className:"w-64 h-1.5 bg-black/10 rounded-full mt-8 overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:w.jsx(De.div,{className:"h-full bg-white rounded-full",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:2.8,ease:"easeInOut"}})})]})}),w.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden",children:[w.jsx("img",{src:hR,className:"absolute inset-0 w-full h-full object-cover",alt:"Yolmov K Manzaras"}),w.jsx("div",{className:"absolute inset-0 bg-black/20 z-10"})]}),w.jsx("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32 relative z-20 pt-4 md:pt-10 pb-10",children:w.jsxs("div",{className:"flex flex-col items-center text-center max-w-5xl mx-auto",children:[w.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"mb-4 md:mb-10",children:[w.jsxs("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-display font-black text-white leading-tight mb-1 md:mb-6 tracking-tight",style:{textShadow:"0 4px 12px rgba(0,0,0,0.6), 0 2px 4px rgba(0,0,0,0.4)"},children:["Yolda Kaldnzda ",w.jsx("br",{className:"hidden md:block"}),w.jsx("span",{className:"inline-block mt-1 md:mt-2",style:{color:"#FF7A00",textShadow:"0 4px 12px rgba(255,122,0,0.6), 0 2px 4px rgba(0,0,0,0.4)"},children:"Yannzdayz."})]}),w.jsx("p",{className:"text-sm md:text-lg text-white max-w-xl mx-auto font-medium leading-snug",style:{textShadow:"0 2px 8px rgba(0,0,0,0.6)"},children:"ekici, ak takviyesi, yakt, lastik ve yol yardm hizmetlerine tek tkla, gvenle ulan."})]}),w.jsx(De.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"w-full max-w-5xl relative z-50",children:w.jsxs("div",{className:"bg-white rounded-[2rem] shadow-[0_20px_50px_rgba(0,0,0,0.4)] border border-white/20 flex flex-col md:flex-row p-3 items-center backdrop-blur-sm bg-white/95 relative z-50",children:[w.jsxs("div",{className:"relative w-full md:flex-1 group",ref:Q,children:[w.jsxs("div",{className:`flex items-center h-20 px-6 cursor-pointer rounded-[1.5rem] transition-all duration-200 border border-transparent ${e?"bg-white shadow-lg border-gray-100":"hover:bg-gray-50"}`,onClick:()=>{var Z;k||(r(!0),C(!1),(Z=q.current)==null||Z.focus())},children:[w.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mr-4 transition-colors ${e?"bg-brand-orange text-white":"bg-orange-50 text-brand-orange"}`,children:w.jsx(Yd,{size:22,strokeWidth:2.5})}),w.jsxs("div",{className:"flex-1 flex flex-col items-start overflow-hidden",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:m&&i==="district"?"Hangi le?":"Neredesin?"}),!e&&m?w.jsxs("div",{className:"w-full text-gray-800 font-bold text-lg truncate",children:[m," ",b?`/ ${b}`:""]}):w.jsx("input",{ref:q,type:"text",className:"w-full bg-transparent border-none p-0 text-gray-800 font-bold text-lg placeholder-gray-300 focus:ring-0 leading-tight truncate",placeholder:i==="city"?"l ara...":`${m} > le ara...`,value:o,onChange:Z=>{u(Z.target.value),e||r(!0)},onFocus:()=>r(!0),autoComplete:"off",disabled:k})]}),m&&w.jsx("button",{onClick:me,className:"p-1 text-gray-300 hover:text-red-500 transition-colors z-20",disabled:k,children:w.jsx(cS,{size:20})})]}),w.jsx(Nr,{children:e&&!k&&w.jsxs(De.div,{initial:{opacity:0,scale:.98,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.98,y:10},transition:{duration:.2},className:"absolute top-[110%] left-0 w-full md:min-w-[350px] bg-white rounded-2xl shadow-2xl border border-gray-100 max-h-[350px] overflow-y-auto z-[60] py-2 scrollbar-thin scrollbar-thumb-gray-200",children:[w.jsxs("div",{className:"px-2 pb-2 mb-2 border-b border-gray-50 sticky top-0 bg-white z-10 flex flex-col gap-1",children:[i==="district"&&w.jsxs("button",{onClick:V,className:"flex items-center gap-2 text-gray-500 hover:text-brand-orange text-sm px-4 py-2 transition-colors font-medium",children:[w.jsx(yv,{size:16}),"l Seimine Dn (",m,")"]}),i==="city"&&w.jsxs("button",{className:"w-full flex items-center gap-3 text-brand-orange font-semibold p-3 hover:bg-orange-50 rounded-xl transition-colors text-sm disabled:opacity-50",onClick:H,disabled:c,children:[w.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center",children:w.jsx(vS,{size:14,fill:"currentColor",className:c?"animate-spin":""})}),c?"Konum Alnyor...":"Mevcut Konumumu Kullan"]})]}),w.jsxs("div",{className:"px-2",children:[w.jsx("div",{className:"px-4 py-1 text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:i==="city"?"ehirler":`${m} leleri`}),Pe.length>0?Pe.map(Z=>w.jsxs("div",{className:`px-4 py-3 hover:bg-gray-50 cursor-pointer rounded-xl flex items-center justify-between group transition-colors mb-1 
                                ${i==="city"&&m===Z||i==="district"&&b===Z?"bg-gray-50":""}`,onClick:()=>{i==="city"?oe(Z):se(Z)},children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300 group-hover:bg-brand-orange transition-colors"}),w.jsx("span",{className:`text-sm font-medium ${i==="city"&&m===Z||i==="district"&&b===Z?"text-brand-orange":"text-gray-700"}`,children:Z})]}),(i==="city"&&m===Z||i==="district"&&b===Z)&&w.jsx(ad,{size:18,className:"text-brand-orange"})]},Z)):w.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"Sonu bulunamad."})]})]})})]}),w.jsx("div",{className:"hidden md:block w-[1px] h-12 bg-gray-100 mx-2"}),w.jsxs("div",{className:"relative w-full md:flex-1 group border-t border-gray-100 md:border-0",ref:z,children:[w.jsxs("div",{className:`flex items-center h-20 px-6 cursor-pointer rounded-[1.5rem] transition-all duration-200 border border-transparent ${E?"bg-white shadow-lg border-gray-100":"hover:bg-gray-50"}`,onClick:()=>{k||(C(!E),r(!1))},children:[w.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mr-4 transition-colors ${E?"bg-brand-orange text-white":"bg-orange-50 text-brand-orange"}`,children:Re?w.jsx(Re.icon,{size:22,strokeWidth:2.5}):w.jsx(ld,{size:22,strokeWidth:2.5})}),w.jsxs("div",{className:"flex-1 flex flex-col items-start",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"htiyacn Nedir?"}),w.jsxs("div",{className:"flex items-center justify-between w-full pr-2",children:[w.jsx("span",{className:`text-lg font-bold truncate ${Re?"text-gray-800":"text-gray-300"}`,children:Re?Re.title:"Hizmet Sein"}),w.jsx(lS,{size:18,className:`text-gray-400 transition-transform duration-300 ${E?"rotate-180 text-brand-orange":""}`})]})]})]}),w.jsx(Nr,{children:E&&!k&&w.jsx(De.div,{initial:{opacity:0,scale:.98,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.98,y:10},transition:{duration:.2},className:"absolute top-[110%] left-0 md:-left-12 w-full md:w-[120%] bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden z-[60]",children:w.jsx("div",{className:"p-3 grid grid-cols-1 md:grid-cols-2 gap-2 max-h-[400px] overflow-y-auto",children:$d.map(Z=>w.jsxs("div",{onClick:()=>Se(Z.id),className:`flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all border border-transparent hover:border-orange-100 hover:bg-orange-50/50 ${P===Z.id?"bg-orange-50 border-orange-200":""}`,children:[w.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 shadow-sm ${P===Z.id?"bg-brand-orange text-white":"bg-white text-brand-orange"}`,children:w.jsx(Z.icon,{size:18})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h4",{className:`text-sm font-bold ${P===Z.id?"text-brand-orange":"text-gray-800"}`,children:Z.title}),w.jsx("p",{className:"text-[11px] text-gray-400 line-clamp-1 leading-normal mt-0.5",children:Z.description})]}),P===Z.id&&w.jsx(ad,{size:16,className:"text-brand-orange"})]},Z.id))})})})]}),w.jsx("div",{className:"p-2 w-full md:w-auto",children:w.jsxs("button",{ref:re,onClick:ce,disabled:k,"aria-label":"Hizmet ara ve talep olutur",className:"w-full md:w-auto h-16 md:h-20 px-8 text-white rounded-[1.5rem] shadow-lg shadow-orange-200 transition-all transform hover:scale-105 active:scale-95 flex items-center justify-center gap-3 whitespace-nowrap group disabled:opacity-0",style:{backgroundColor:"#FF7A00"},children:[w.jsx("span",{className:"font-bold text-lg",children:"Hemen Bul"}),w.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center group-hover:bg-white/30 transition-colors",children:w.jsx(ld,{size:18,strokeWidth:3})})]})})]})})]})}),w.jsx(Nr,{children:c&&w.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:w.jsxs(De.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",damping:20},className:"bg-white rounded-3xl p-10 flex flex-col items-center shadow-2xl max-w-md mx-4",children:[w.jsxs("div",{className:"relative mb-6",children:[w.jsx(_v,{className:"animate-spin text-brand-orange",size:64,strokeWidth:2.5}),w.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-orange-100 animate-pulse"})]}),w.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Konumunuz Belirleniyor"}),w.jsx("p",{className:"text-lg text-gray-600 text-center",children:f})]})})}),w.jsx("style",{children:`
        @keyframes move-left {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
        .animate-move-left {
          animation: move-left 1s linear infinite;
        }
      `})]})},pR=()=>w.jsx("section",{className:"relative z-10 py-16 md:py-24 bg-white",id:"services",children:w.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32",children:[w.jsxs("div",{className:"text-center mb-16",children:[w.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-brand-dark mb-4",children:"Hangi Hizmete htiyacnz Var?"}),w.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto",children:"Aracnzla ilgili her trl sorunda uzman ekiplerimiz bir tk uzanzda."})]}),w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:$d.map((t,e)=>w.jsxs(De.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.1,duration:.5},className:"group p-8 rounded-2xl border border-gray-100 bg-white hover:shadow-[0_8px_30px_rgb(0,0,0,0.06)] hover:border-orange-100 transition-all duration-300 cursor-pointer",children:[w.jsx("div",{className:"w-14 h-14 rounded-xl bg-orange-50 flex items-center justify-center mb-6 group-hover:bg-brand-orange transition-colors duration-300",children:w.jsx(t.icon,{className:"w-7 h-7 text-brand-orange group-hover:text-white transition-colors duration-300",strokeWidth:2})}),w.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3 group-hover:text-brand-orange transition-colors",children:t.title}),w.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:t.description})]},t.id))})]})}),mR=()=>w.jsxs("section",{className:"py-24 bg-gray-50 relative overflow-hidden",children:[w.jsx("div",{className:"absolute top-0 right-0 w-1/3 h-1/3 bg-orange-100/40 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/3 pointer-events-none"}),w.jsx("div",{className:"absolute bottom-0 left-0 w-1/3 h-1/3 bg-blue-100/40 rounded-full blur-[100px] translate-y-1/2 -translate-x-1/3 pointer-events-none"}),w.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32 relative z-10",children:[w.jsxs("div",{className:"text-center mb-20 max-w-3xl mx-auto",children:[w.jsx(De.span,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-brand-orange font-bold uppercase tracking-wider text-xs md:text-sm mb-3 block",children:"Kolay Kullanm"}),w.jsx(De.h2,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-3xl md:text-4xl font-display font-bold text-brand-dark mb-6",children:"Yolmov Nasl alr?"}),w.jsx(De.p,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-gray-500 text-lg font-light",children:"Karmak srelerle uramayn. Sadece 3 basit admda, ihtiyacnz olan uzman yardm bulunduunuz konuma ynlendiriyoruz."})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 relative",children:[w.jsx("div",{className:"hidden md:block absolute top-[40%] left-10 right-10 h-0.5 bg-gradient-to-r from-gray-200 via-brand-orange/30 to-gray-200 -z-0 border-t border-dashed border-gray-300"}),cR.map((t,e)=>w.jsxs(De.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.2},className:"relative bg-white p-8 rounded-[2rem] shadow-xl shadow-gray-100/50 border border-gray-100 hover:-translate-y-2 transition-transform duration-500 z-10 group overflow-hidden",children:[w.jsxs("div",{className:"absolute -top-6 -right-6 text-[8rem] font-display font-black text-gray-50 group-hover:text-orange-50/60 transition-colors select-none -z-10 pointer-events-none leading-none",children:["0",t.id]}),w.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-50 to-white border border-orange-100 rounded-2xl flex items-center justify-center mb-8 shadow-sm group-hover:shadow-md group-hover:scale-110 transition-all duration-300 group-hover:bg-brand-orange group-hover:border-brand-orange",children:w.jsx(t.icon,{className:"w-7 h-7 text-brand-orange group-hover:text-white transition-colors duration-300",strokeWidth:2})}),w.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3 group-hover:text-brand-orange transition-colors",children:t.title}),w.jsx("p",{className:"text-gray-500 leading-relaxed text-sm md:text-base",children:t.description}),e<2&&w.jsx("div",{className:"md:hidden absolute bottom-4 right-4 text-orange-100",children:w.jsx(sd,{className:"rotate-90 w-6 h-6"})})]},t.id))]})]})]}),gR=()=>w.jsx("section",{className:"py-16 bg-white",children:w.jsx("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32",children:w.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-8",children:dR.map(t=>w.jsxs("div",{className:"flex flex-col items-center text-center p-6 bg-gray-50 rounded-xl hover:bg-orange-50/50 transition-colors",children:[w.jsx("div",{className:"mb-4 p-3 bg-white rounded-xl shadow-sm",children:w.jsx(t.icon,{className:"w-6 h-6 text-brand-orange"})}),w.jsx("h4",{className:"font-bold text-gray-800 text-sm md:text-base",children:t.title})]},t.id))})})}),yR=()=>{const t=B.useRef(null),e=oi(),[r,i]=B.useState([]),[a,o]=B.useState(!0);B.useEffect(()=>{(async()=>{try{const d=await j_.getActive();i(d)}catch(d){console.error("Kampanyalar yklenemedi:",d),i([])}finally{o(!1)}})()},[]);const u=c=>{if(t.current){const{current:d}=t,f=c==="left"?-d.offsetWidth/2:d.offsetWidth/2;d.scrollBy({left:f,behavior:"smooth"})}};return!a&&r.length===0?null:a?w.jsx("section",{className:"py-20 bg-white border-t border-gray-100 overflow-hidden",children:w.jsx("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32",children:w.jsxs("div",{className:"animate-pulse",children:[w.jsx("div",{className:"h-4 w-24 bg-slate-200 rounded mb-4"}),w.jsx("div",{className:"h-8 w-64 bg-slate-200 rounded mb-2"}),w.jsx("div",{className:"h-4 w-96 bg-slate-200 rounded mb-10"}),w.jsxs("div",{className:"flex gap-6",children:[w.jsx("div",{className:"min-w-[85vw] md:min-w-[calc(50%-12px)] lg:min-w-[calc(33.33%-16px)] h-[450px] bg-slate-200 rounded-3xl"}),w.jsx("div",{className:"min-w-[85vw] md:min-w-[calc(50%-12px)] lg:min-w-[calc(33.33%-16px)] h-[450px] bg-slate-200 rounded-3xl"})]})]})})}):w.jsx("section",{className:"py-20 bg-white border-t border-gray-100 overflow-hidden","aria-label":"Frsatlar ve Kampanyalar blm",children:w.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32",children:[w.jsxs("div",{className:"flex justify-between items-end mb-10",children:[w.jsxs("div",{children:[w.jsx("span",{className:"font-bold uppercase tracking-wider text-xs md:text-sm mb-2 block",style:{color:"#FF7A00"},children:"Avantajlar"}),w.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-brand-dark",children:"Frsatlar ve Kampanyalar"}),w.jsx("p",{className:"text-gray-500 mt-2 max-w-xl",children:"Yolmov kullanclarna zel indirimler, i birlikleri ve mevsimsel avantajlar kefedin."})]}),w.jsxs("div",{className:"hidden md:flex gap-3",children:[w.jsx("button",{onClick:()=>u("left"),"aria-label":"nceki kampanyalar",className:"w-12 h-12 rounded-full border border-gray-200 flex items-center justify-center text-gray-600 hover:text-white hover:border-brand-orange transition-all",style:{hover:{backgroundColor:"#FF6B35"}},children:w.jsx(yv,{size:24})}),w.jsx("button",{onClick:()=>u("right"),"aria-label":"Sonraki kampanyalar",className:"w-12 h-12 rounded-full border border-gray-200 flex items-center justify-center text-gray-600 hover:text-white hover:border-brand-orange transition-all",style:{hover:{backgroundColor:"#FF6B35"}},children:w.jsx(uS,{size:24})})]})]}),w.jsxs("div",{ref:t,className:"flex gap-6 overflow-x-auto pb-8 snap-x snap-mandatory scrollbar-hide -mx-4 px-4 md:mx-0 md:px-0",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[r.map((c,d)=>w.jsxs(De.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:d*.1},onClick:()=>e(`/kampanya/${c.id}`),className:"min-w-[85vw] md:min-w-[calc(50%-12px)] lg:min-w-[calc(33.33%-16px)] snap-center group relative h-[450px] rounded-3xl overflow-hidden cursor-pointer shadow-md",children:[w.jsx("img",{src:c.image_url,alt:c.title,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent opacity-90 group-hover:opacity-100 transition-opacity"}),w.jsxs("div",{className:"absolute inset-0 p-8 flex flex-col justify-between",children:[w.jsx("div",{className:"flex justify-start",children:c.badge_text&&w.jsx("span",{className:"px-4 py-2 bg-white/20 backdrop-blur-md text-white text-xs font-bold uppercase tracking-wider rounded-xl border border-white/30 shadow-sm",children:c.badge_text})}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-2xl font-bold text-white mb-3 leading-tight group-hover:text-brand-orange transition-colors",children:c.title}),w.jsx("p",{className:"text-gray-300 text-sm mb-6 line-clamp-2 leading-relaxed",children:c.description}),w.jsxs("div",{className:"flex items-center gap-2 text-white font-bold text-sm group/btn",children:[w.jsx("span",{className:"border-b-2 border-white/30 group-hover/btn:border-brand-orange pb-1 transition-colors",children:"Detayl Bilgi"}),w.jsx(sd,{size:16,className:"group-hover/btn:translate-x-1 transition-transform"})]})]})]})]},c.id)),w.jsxs(De.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:r.length*.1},onClick:()=>e("/kampanyalar"),className:"min-w-[85vw] md:min-w-[calc(50%-12px)] lg:min-w-[calc(33.33%-16px)] snap-center bg-gray-50 rounded-3xl flex flex-col items-center justify-center p-8 border-2 border-dashed border-gray-200 hover:border-brand-orange hover:bg-orange-50 transition-all cursor-pointer group h-[450px]",children:[w.jsx("div",{className:"w-20 h-20 rounded-full bg-white shadow-md flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:w.jsx(sd,{size:32,className:"text-brand-orange"})}),w.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2 group-hover:text-brand-orange transition-colors",children:"Tm Kampanyalar"}),w.jsx("p",{className:"text-gray-500 text-center text-base max-w-xs",children:"Gemi ve gelecek tm frsatlar incelemek iin tklayn."})]})]})]})})},vR=()=>{const t=oi(),e=r=>{t(r),window.scrollTo({top:0,behavior:"smooth"})};return w.jsx("footer",{className:"bg-gradient-to-br from-gray-900 to-gray-800 text-white pt-16 pb-8",children:w.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 mb-12",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"mb-6 cursor-pointer",onClick:()=>e("/"),children:[w.jsx("span",{className:"yolmov-logo text-3xl font-bold text-white block mb-4",children:"yolmov"}),w.jsx("span",{className:"hidden"})]}),w.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Yolda kaldnz her an yannzdayz. Modern, hzl ve gvenilir yol yardm platformu."})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-lg font-bold mb-6 text-white/90",children:"Kurumsal"}),w.jsxs("ul",{className:"space-y-3 text-sm text-gray-400",children:[w.jsx("li",{children:w.jsx("button",{onClick:()=>e("/hakkimizda"),className:"hover:text-brand-orange transition-colors text-left",children:"Hakkmzda"})}),w.jsx("li",{children:w.jsx("button",{onClick:()=>e("/hizmetler"),className:"hover:text-brand-orange transition-colors text-left",children:"Hizmetler"})}),w.jsx("li",{children:w.jsx("button",{onClick:()=>e("/kariyer"),className:"hover:text-brand-orange transition-colors text-left",children:"Kariyer"})}),w.jsx("li",{children:w.jsx("button",{onClick:()=>e("/blog"),className:"hover:text-brand-orange transition-colors text-left",children:"Blog"})}),w.jsx("li",{children:w.jsx("button",{onClick:()=>e("/iletisim"),className:"hover:text-brand-orange transition-colors text-left",children:"letiim"})})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-lg font-bold mb-6 text-white/90",children:"Hizmetler"}),w.jsx("ul",{className:"space-y-3 text-sm text-gray-400",children:["ekici Hizmeti","Ak Takviyesi","Lastik Deiimi","Yakt Destei","Oto Kurtarma"].map(r=>w.jsx("li",{children:w.jsx("button",{onClick:()=>e("/hizmetler"),className:"hover:text-brand-orange transition-colors text-left",children:r})},r))})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-lg font-bold mb-6 text-white/90",children:"Bize Ulan"}),w.jsx("ul",{className:"space-y-4 text-sm text-gray-400",children:w.jsxs("li",{className:"flex items-start gap-3",children:[w.jsx(Yd,{className:"w-5 h-5 text-brand-orange shrink-0"}),w.jsx("span",{children:"Platform zerinden 7/24 hizmet talebinde bulunabilirsiniz"})]})})]})]}),w.jsxs("div",{className:"border-t border-gray-700 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[w.jsxs("p",{className:"text-gray-500 text-xs text-center md:text-left",children:[" ",new Date().getFullYear()," Yolmov Teknoloji A.. Tm haklar sakldr."]}),w.jsxs("div",{className:"flex space-x-6 text-xs text-gray-500",children:[w.jsx("button",{onClick:()=>e("/gizlilik-politikasi"),className:"hover:text-white transition-colors",children:"Gizlilik Politikas"}),w.jsx("button",{onClick:()=>e("/kullanim-kosullari"),className:"hover:text-white transition-colors",children:"Kullanm Koullar"})]})]})]})})},wR=({onAccept:t,onReject:e})=>{const[r,i]=B.useState(!1);B.useEffect(()=>{localStorage.getItem("yolmov_cookie_consent")||setTimeout(()=>i(!0),1500)},[]);const a=()=>{localStorage.setItem("yolmov_cookie_consent","accepted"),i(!1),t&&t()},o=()=>{localStorage.setItem("yolmov_cookie_consent","rejected"),i(!1),e&&e()},u=()=>{i(!1)};return w.jsx(Nr,{children:r&&w.jsx(De.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 z-50 p-4 md:p-6",children:w.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-3xl shadow-2xl border-2 border-gray-200 overflow-hidden",children:[w.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 p-6 md:p-8",children:[w.jsx("div",{className:"shrink-0",children:w.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-2xl flex items-center justify-center",children:w.jsx(hS,{size:32,className:"text-brand-orange"})})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-2",children:" erez Bildirimi"}),w.jsxs("p",{className:"text-sm md:text-base text-gray-600 leading-relaxed",children:["Yolmov olarak, size daha iyi bir deneyim sunmak, platformumuzu gelitirmek ve yasal ykmllklerimizi yerine getirmek amacyla",w.jsx("strong",{className:"text-gray-800",children:" erezler ve benzer teknolojiler "})," kullanyoruz. Platformumuzu kullanmaya devam ederek,",w.jsx("button",{onClick:()=>{const c=new CustomEvent("yolmov:navigate",{detail:{page:"privacy-policy"}});window.dispatchEvent(c)},className:"text-brand-orange hover:underline font-bold ml-1",children:"Gizlilik Politikamz"})," ","ve erez kullanmn kabul etmi olursunuz."]})]}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto md:shrink-0",children:[w.jsx("button",{onClick:o,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transition-colors text-sm whitespace-nowrap",children:"Reddet"}),w.jsx("button",{onClick:a,className:"px-6 py-3 bg-brand-orange text-white rounded-xl font-bold hover:bg-orange-600 transition-colors text-sm shadow-lg whitespace-nowrap",children:"Kabul Et"})]}),w.jsx("button",{onClick:u,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Kapat",children:w.jsx(aa,{size:20})})]}),w.jsx("div",{className:"bg-gray-50 border-t border-gray-200 px-6 md:px-8 py-3",children:w.jsxs("p",{className:"text-xs text-gray-500 text-center",children:[w.jsx("strong",{className:"text-gray-700",children:"KVKK Uyars:"})," Kiisel verileriniz,",w.jsx("button",{onClick:()=>{const c=new CustomEvent("yolmov:navigate",{detail:{page:"privacy-policy"}});window.dispatchEvent(c)},className:"text-brand-orange hover:underline mx-1",children:"6698 sayl Kiisel Verilerin Korunmas Kanunu"}),"kapsamnda ilenmektedir. Detayl bilgi iin Gizlilik Politikamz inceleyebilirsiniz."]})})]})})})},Ko=({children:t})=>{const e=Lr(),[r,i]=B.useState(!0),[a,o]=B.useState(!1);return B.useEffect(()=>{const u=localStorage.getItem("yolmov_customer");console.log(" ProtectedRoute Auth Check:",{hasCustomer:!!u,path:e.pathname}),o(!!u),i(!1)},[e.pathname]),r?w.jsx("div",{className:"min-h-screen flex items-center justify-center",children:w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"w-16 h-16 border-4 border-brand-orange border-t-transparent rounded-full animate-spin mx-auto mb-4"}),w.jsx("p",{className:"text-gray-600",children:"Ykleniyor..."})]})}):a?w.jsx(w.Fragment,{children:t}):w.jsx(I1,{to:"/giris-gerekli",state:{message:"Bu sayfaya erimek iin ye girii yapmanz gerekiyor.",returnUrl:e.pathname+e.search},replace:!0})};class Hy extends B.Component{constructor(){super(...arguments);Sn(this,"state",{hasError:!1,error:null,errorInfo:null,countdown:5,autoReload:!0});Sn(this,"countdownInterval",null);Sn(this,"startCountdown",()=>{this.countdownInterval&&clearInterval(this.countdownInterval),this.countdownInterval=setInterval(()=>{this.setState(r=>{const i=r.countdown-1;return i<=0&&r.autoReload?(this.countdownInterval&&clearInterval(this.countdownInterval),window.location.reload(),r):{countdown:i}})},1e3)});Sn(this,"cancelAutoReload",()=>{this.countdownInterval&&clearInterval(this.countdownInterval),this.setState({autoReload:!1})});Sn(this,"handleReload",()=>{window.location.reload()});Sn(this,"handleGoHome",()=>{window.location.href="/"});Sn(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,i){console.error(" [ErrorBoundary] Caught error:",r),console.error(" [ErrorBoundary] Error info:",i),this.setState({errorInfo:i,countdown:5,autoReload:!0}),this.startCountdown()}componentWillUnmount(){this.countdownInterval&&clearInterval(this.countdownInterval)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:w.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full p-8 text-center",children:[w.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:w.jsx(bS,{className:"w-8 h-8 text-red-500"})}),w.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Bir eyler Yanl Gitti"}),this.state.autoReload?w.jsxs("div",{className:"mb-6",children:[w.jsx("p",{className:"text-slate-600 mb-3",children:"Sayfa yklenirken beklenmeyen bir hata olutu."}),w.jsxs("div",{className:"flex items-center justify-center gap-2 text-brand-orange",children:[w.jsx(Xm,{className:"w-5 h-5 animate-spin"}),w.jsxs("span",{className:"font-bold text-lg",children:[this.state.countdown," saniye iinde otomatik yenileniyor..."]})]}),w.jsx("button",{onClick:this.cancelAutoReload,className:"text-sm text-slate-500 hover:text-slate-700 underline mt-2",children:"Otomatik yenilemeyi iptal et"})]}):w.jsx("p",{className:"text-slate-600 mb-6",children:"Sayfa yklenirken beklenmeyen bir hata olutu. Ltfen sayfay yenileyin veya ana sayfaya dnn."}),!1,!this.state.autoReload&&w.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[w.jsxs("button",{onClick:this.handleReload,className:"flex items-center justify-center gap-2 px-6 py-3 bg-brand-orange text-white rounded-xl font-medium hover:bg-orange-600 transition-colors",children:[w.jsx(Xm,{size:18}),"imdi Yenile"]}),w.jsxs("button",{onClick:this.handleGoHome,className:"flex items-center justify-center gap-2 px-6 py-3 bg-slate-600 text-white rounded-xl font-medium hover:bg-slate-700 transition-colors",children:[w.jsx(fS,{size:18}),"Ana Sayfa"]})]}),w.jsx("p",{className:"text-xs text-slate-400 mt-6",children:"Sorun devam ederse ltfen destek ekibimizle iletiime gein."})]})}):this.props.children}}const Gy=typeof window<"u"&&window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1"),$t={log:(...t)=>!Gy&&console.log(...t),warn:(...t)=>!Gy&&console.warn(...t),error:(...t)=>console.error(...t)};let Sr=null,tl=0,rl=!0,qh=0;function _R(){if(typeof window>"u")return;const t=()=>{const r=window.scrollY||document.documentElement.scrollTop,i=document.documentElement.scrollHeight-window.innerHeight,a=i>0?Math.round(r/i*100):0;a>tl&&(tl=Math.min(a,100),Sr&&(Sr.maxScrollDepth=tl))};let e=null;window.addEventListener("scroll",()=>{e||(e=window.setTimeout(()=>{t(),e=null},100))},{passive:!0})}function bR(){if(typeof window>"u")return;const t=()=>{if(Sr){const e=Math.round((Date.now()-Sr.enterTime)/1e3),r={page_url:Sr.url,duration_seconds:e,scroll_depth:Sr.maxScrollDepth,is_exit_page:!0,is_bounce:qh===1&&e<30,session_id:Kh(),user_id:O_().userId||null,activity_type:"page_exit"};navigator.sendBeacon&&new Blob([JSON.stringify(r)],{type:"application/json"}),$t.log(" Page exit:",r)}};window.addEventListener("beforeunload",t),window.addEventListener("pagehide",t),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&t()})}function xR(){const t=document.referrer,e=new URLSearchParams(window.location.search),r=e.get("utm_source"),i=e.get("utm_medium"),a=e.get("utm_campaign"),o=e.get("utm_term"),u=e.get("utm_content");if(r)return{source:r,medium:i||"unknown",campaign:a||void 0,term:o||void 0,content:u||void 0};if(!t)return{source:"direct",medium:"none"};const d=new URL(t).hostname.toLowerCase(),f={google:"google",bing:"bing",yahoo:"yahoo",yandex:"yandex",duckduckgo:"duckduckgo",baidu:"baidu"};for(const[m,v]of Object.entries(f))if(d.includes(m))return{source:v,medium:"organic"};const y=["facebook","instagram","twitter","linkedin","pinterest","tiktok","youtube","reddit","whatsapp","t.co"];for(const m of y)if(d.includes(m))return{source:m,medium:"social"};return{source:d,medium:"referral"}}function SR(t){let e="Unknown",r="Unknown",i="desktop";if(t.includes("Chrome")&&!t.includes("Edg")&&!t.includes("OPR")){const a=t.match(/Chrome\/(\d+)/);e=a?`Chrome ${a[1]}`:"Chrome"}else if(t.includes("Firefox")){const a=t.match(/Firefox\/(\d+)/);e=a?`Firefox ${a[1]}`:"Firefox"}else if(t.includes("Safari")&&!t.includes("Chrome")){const a=t.match(/Version\/(\d+)/);e=a?`Safari ${a[1]}`:"Safari"}else if(t.includes("Edg")){const a=t.match(/Edg\/(\d+)/);e=a?`Edge ${a[1]}`:"Edge"}else(t.includes("OPR")||t.includes("Opera"))&&(e="Opera");if(t.includes("Windows NT 10"))r="Windows 10/11";else if(t.includes("Windows"))r="Windows";else if(t.includes("Mac OS X")){const a=t.match(/Mac OS X (\d+[._]\d+)/);r=a?`macOS ${a[1].replace("_",".")}`:"macOS"}else if(t.includes("Linux")&&!t.includes("Android"))r="Linux";else if(t.includes("Android")){const a=t.match(/Android (\d+)/);r=a?`Android ${a[1]}`:"Android",i="mobile"}else if(t.includes("iPhone")){const a=t.match(/iPhone OS (\d+)/);r=a?`iOS ${a[1]}`:"iOS",i="mobile"}else if(t.includes("iPad")){const a=t.match(/CPU OS (\d+)/);r=a?`iPadOS ${a[1]}`:"iPadOS",i="tablet"}return t.includes("Mobile")&&i==="desktop"?i="mobile":t.includes("Tablet")&&(i="tablet"),{browser:e,os:r,deviceType:i}}function kR(){return typeof window>"u"?{screenResolution:"unknown",viewportSize:"unknown"}:{screenResolution:`${screen.width}x${screen.height}`,viewportSize:`${window.innerWidth}x${window.innerHeight}`}}function ER(){if(typeof navigator>"u")return"unknown";const t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return t&&(t.effectiveType||t.type)||"unknown"}function Kh(){let t=sessionStorage.getItem("yolmov_session_id");return t||(t=crypto.randomUUID(),sessionStorage.setItem("yolmov_session_id",t),rl=!0,qh=0),t}function CR(){let t=localStorage.getItem("yolmov_anon_id");return t||(t=`anon_${crypto.randomUUID()}`,localStorage.setItem("yolmov_anon_id",t)),t}let Wo=null;async function TR(){if(Wo)return Wo;try{return Wo=(await(await fetch("https://api.ipify.org?format=json",{method:"GET",cache:"force-cache"})).json()).ip,Wo}catch(t){return $t.warn("IP adresi alnamad:",t),null}}function O_(){try{const t=localStorage.getItem("yolmov_admin");if(t){const a=JSON.parse(t);return{userId:a.id,userType:"admin",userEmail:a.email,userName:a.name}}const e=localStorage.getItem("yolmov_partner");if(e){const a=JSON.parse(e);return{userId:a.id,userType:"partner",userEmail:a.email,userName:a.name||a.company_name}}const r=localStorage.getItem("yolmov_customer");if(r){const a=JSON.parse(r);return{userId:a.id,userType:"customer",userEmail:a.email,userName:`${a.firstName||""} ${a.lastName||""}`.trim()}}const i=localStorage.getItem("yolmov-auth-session");if(i){const a=JSON.parse(i);if(a.user)return{userId:a.user.id,userType:"customer",userEmail:a.user.email}}}catch(t){$t.warn("Error getting current user:",t)}return{userType:"anonymous",userId:CR()}}let ti=null;async function AR(){if(ti!==null)return ti;try{const{error:t}=await K.from("activity_logs").select("traffic_source").limit(1);return ti=!t,$t.log(" V2 columns available:",ti),ti}catch{return ti=!1,!1}}async function N_(t,e){try{const r=navigator.userAgent,{browser:i,os:a,deviceType:o}=SR(r),{screenResolution:u,viewportSize:c}=kR(),d=xR(),f=O_(),y=Kh(),m=await TR(),v={user_id:f.userId||null,user_type:f.userType,user_email:f.userEmail||null,user_name:f.userName||null,activity_type:t,page_url:window.location.pathname+window.location.search,page_title:document.title,referrer:document.referrer||null,ip_address:m,user_agent:r,device_type:o,browser:i,os:a,metadata:e||{},session_id:y},b=await AR();b&&(v.traffic_source=d.source,v.traffic_medium=d.medium,v.utm_campaign=d.campaign||null,v.utm_source=new URLSearchParams(window.location.search).get("utm_source")||null,v.utm_medium=new URLSearchParams(window.location.search).get("utm_medium")||null,v.utm_term=new URLSearchParams(window.location.search).get("utm_term")||null,v.utm_content=new URLSearchParams(window.location.search).get("utm_content")||null,v.is_landing_page=rl,v.screen_resolution=u,v.viewport_size=c,v.language=navigator.language||"unknown",v.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone||"unknown",v.connection_type=ER());const{error:x}=await K.from("activity_logs").insert(v);if(x){if($t.warn(" Activity log insert failed:",x.message),x.message.includes("column")&&b)return ti=!1,$t.warn(" V2 columns not found, retrying with V1..."),N_(t,e)}else $t.log(` Activity tracked: ${t}`,{page:v.page_url,source:b?d.source:"v1-mode",isLanding:rl});t==="page_view"&&(rl=!1,qh++)}catch(r){$t.warn("Activity tracking failed:",r)}}function PR(t){if(Sr){const e=Math.round((Date.now()-Sr.enterTime)/1e3);RR(Sr.url,e,Sr.maxScrollDepth)}Sr={url:window.location.pathname+window.location.search,title:t||document.title,enterTime:Date.now(),maxScrollDepth:0},tl=0,N_("page_view",{title:t||document.title})}async function RR(t,e,r){try{const{error:i}=await K.from("activity_logs").update({duration_seconds:e,scroll_depth:r}).eq("page_url",t).eq("session_id",Kh()).eq("activity_type","page_view").order("created_at",{ascending:!1}).limit(1);i?$t.warn(" Page duration update failed:",i.message):$t.log(` Page duration updated: ${t} - ${e}s, ${r}% scroll`)}catch(i){$t.warn("Page duration update failed:",i)}}async function eO(t){try{$t.log(" [ActivityTracker] Fetching activity logs with options:",t);let e=K.from("activity_logs").select("*").order("created_at",{ascending:!1});t!=null&&t.limit&&(e=e.limit(t.limit)),t!=null&&t.userType&&(e=e.eq("user_type",t.userType)),t!=null&&t.activityType&&(e=e.eq("activity_type",t.activityType)),t!=null&&t.startDate&&(e=e.gte("created_at",t.startDate)),t!=null&&t.endDate&&(e=e.lte("created_at",t.endDate)),t!=null&&t.trafficSource&&(e=e.eq("traffic_source",t.trafficSource));const{data:r,error:i}=await e;if($t.log(" [ActivityTracker] Query result:",{dataCount:(r==null?void 0:r.length)||0,error:(i==null?void 0:i.message)||null}),i)throw i;return(r||[]).map(a=>({id:a.id,userId:a.user_id,userType:a.user_type,userEmail:a.user_email,userName:a.user_name,activityType:a.activity_type,pageUrl:a.page_url,pageTitle:a.page_title,referrer:a.referrer,ipAddress:a.ip_address,userAgent:a.user_agent,deviceType:a.device_type,browser:a.browser,os:a.os,metadata:a.metadata,sessionId:a.session_id,createdAt:a.created_at,durationSeconds:a.duration_seconds,scrollDepth:a.scroll_depth,trafficSource:a.traffic_source,trafficMedium:a.traffic_medium,utmCampaign:a.utm_campaign,utmSource:a.utm_source,utmMedium:a.utm_medium,utmTerm:a.utm_term,utmContent:a.utm_content,isLandingPage:a.is_landing_page,isExitPage:a.is_exit_page,isBounce:a.is_bounce,screenResolution:a.screen_resolution,viewportSize:a.viewport_size,language:a.language,timezone:a.timezone,connectionType:a.connection_type}))}catch(e){return $t.error(" Activity logs fetch failed:",e),[]}}async function tO(){try{const t=new Date().toISOString().split("T")[0],{count:e}=await K.from("activity_logs").select("*",{count:"exact",head:!0}).eq("activity_type","page_view"),{data:r}=await K.from("activity_logs").select("session_id").eq("activity_type","page_view"),i=new Set(r==null?void 0:r.map(O=>O.session_id)).size,{count:a}=await K.from("activity_logs").select("*",{count:"exact",head:!0}).eq("activity_type","page_view").gte("created_at",t),{data:o}=await K.from("activity_logs").select("session_id").eq("activity_type","page_view").gte("created_at",t),u=new Set(o==null?void 0:o.map(O=>O.session_id)).size,{data:c}=await K.from("activity_logs").select("duration_seconds, scroll_depth, is_bounce").eq("activity_type","page_view").not("duration_seconds","is",null),d=c!=null&&c.length?c.reduce((O,M)=>O+(M.duration_seconds||0),0)/c.length:0,f=c!=null&&c.length?c.reduce((O,M)=>O+(M.scroll_depth||0),0)/c.length:0,y=(c==null?void 0:c.filter(O=>O.is_bounce).length)||0,m=c!=null&&c.length?y/c.length*100:0,{data:v}=await K.from("activity_logs").select("page_url, duration_seconds").eq("activity_type","page_view").limit(1e3),b=new Map;v==null||v.forEach(O=>{const M=b.get(O.page_url)||{count:0,totalDuration:0};b.set(O.page_url,{count:M.count+1,totalDuration:M.totalDuration+(O.duration_seconds||0)})});const x=Array.from(b.entries()).map(([O,M])=>({pageUrl:O,count:M.count,avgDuration:Math.round(M.totalDuration/M.count)})).sort((O,M)=>M.count-O.count).slice(0,10),{data:E}=await K.from("activity_logs").select("traffic_source").eq("activity_type","page_view"),C=new Map;E==null||E.forEach(O=>{const M=O.traffic_source||"direct";C.set(M,(C.get(M)||0)+1)});const P=(E==null?void 0:E.length)||1,N=Array.from(C.entries()).map(([O,M])=>({source:O,count:M,percentage:Math.round(M/P*100)})).sort((O,M)=>M.count-O.count),{data:k}=await K.from("activity_logs").select("user_type").eq("activity_type","page_view"),R=Array.from((k||[]).reduce((O,M)=>(O.set(M.user_type,(O.get(M.user_type)||0)+1),O),new Map)).map(([O,M])=>({userType:O,count:M})),{data:j}=await K.from("activity_logs").select("device_type").eq("activity_type","page_view"),D=Array.from((j||[]).reduce((O,M)=>(O.set(M.device_type||"unknown",(O.get(M.device_type||"unknown")||0)+1),O),new Map)).map(([O,M])=>({deviceType:O,count:M}));return{totalPageViews:e||0,uniqueVisitors:i,todayPageViews:a||0,todayUniqueVisitors:u,avgSessionDuration:Math.round(d),avgScrollDepth:Math.round(f),bounceRate:Math.round(m),topPages:x,trafficSources:N,userTypeBreakdown:R,deviceBreakdown:D}}catch(t){return $t.error(" Activity stats fetch failed:",t),{totalPageViews:0,uniqueVisitors:0,todayPageViews:0,todayUniqueVisitors:0,avgSessionDuration:0,avgScrollDepth:0,bounceRate:0,topPages:[],trafficSources:[],userTypeBreakdown:[],deviceBreakdown:[]}}}typeof window<"u"&&(_R(),bR());function Ho(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Zc={exports:{}},Yy;function jR(){return Yy||(Yy=1,(function(t,e){(function(r){t.exports=r()})(function(){var r=Math.floor,i=Math.abs,a=Math.pow;return(function(){function o(u,c,d){function f(v,b){if(!c[v]){if(!u[v]){var x=typeof Ho=="function"&&Ho;if(!b&&x)return x(v,!0);if(y)return y(v,!0);var E=new Error("Cannot find module '"+v+"'");throw E.code="MODULE_NOT_FOUND",E}var C=c[v]={exports:{}};u[v][0].call(C.exports,function(P){var N=u[v][1][P];return f(N||P)},C,C.exports,o,u,c,d)}return c[v].exports}for(var y=typeof Ho=="function"&&Ho,m=0;m<d.length;m++)f(d[m]);return f}return o})()({1:[function(o,u,c){function d(R){var j=R.length;if(0<j%4)throw new Error("Invalid string. Length must be a multiple of 4");var D=R.indexOf("=");D===-1&&(D=j);var O=D===j?0:4-D%4;return[D,O]}function f(R,j,D){return 3*(j+D)/4-D}function y(R){var j,D,O=d(R),M=O[0],Q=O[1],z=new C(f(R,M,Q)),q=0,re=0<Q?M-4:M;for(D=0;D<re;D+=4)j=E[R.charCodeAt(D)]<<18|E[R.charCodeAt(D+1)]<<12|E[R.charCodeAt(D+2)]<<6|E[R.charCodeAt(D+3)],z[q++]=255&j>>16,z[q++]=255&j>>8,z[q++]=255&j;return Q===2&&(j=E[R.charCodeAt(D)]<<2|E[R.charCodeAt(D+1)]>>4,z[q++]=255&j),Q===1&&(j=E[R.charCodeAt(D)]<<10|E[R.charCodeAt(D+1)]<<4|E[R.charCodeAt(D+2)]>>2,z[q++]=255&j>>8,z[q++]=255&j),z}function m(R){return x[63&R>>18]+x[63&R>>12]+x[63&R>>6]+x[63&R]}function v(R,j,D){for(var O,M=[],Q=j;Q<D;Q+=3)O=(16711680&R[Q]<<16)+(65280&R[Q+1]<<8)+(255&R[Q+2]),M.push(m(O));return M.join("")}function b(R){for(var j,D=R.length,O=D%3,M=[],Q=16383,z=0,q=D-O;z<q;z+=Q)M.push(v(R,z,z+Q>q?q:z+Q));return O===1?(j=R[D-1],M.push(x[j>>2]+x[63&j<<4]+"==")):O===2&&(j=(R[D-2]<<8)+R[D-1],M.push(x[j>>10]+x[63&j>>4]+x[63&j<<2]+"=")),M.join("")}c.byteLength=function(R){var j=d(R),D=j[0],O=j[1];return 3*(D+O)/4-O},c.toByteArray=y,c.fromByteArray=b;for(var x=[],E=[],C=typeof Uint8Array>"u"?Array:Uint8Array,P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N=0,k=P.length;N<k;++N)x[N]=P[N],E[P.charCodeAt(N)]=N;E[45]=62,E[95]=63},{}],2:[function(){},{}],3:[function(o,u,c){(function(){(function(){var d=String.fromCharCode,f=Math.min;function y(p){if(2147483647<p)throw new RangeError('The value "'+p+'" is invalid for option "size"');var S=new Uint8Array(p);return S.__proto__=m.prototype,S}function m(p,S,A){if(typeof p=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(p)}return v(p,S,A)}function v(p,S,A){if(typeof p=="string")return C(p,S);if(ArrayBuffer.isView(p))return P(p);if(p==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);if(Y(p,ArrayBuffer)||p&&Y(p.buffer,ArrayBuffer))return N(p,S,A);if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var F=p.valueOf&&p.valueOf();if(F!=null&&F!==p)return m.from(F,S,A);var W=k(p);if(W)return W;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof p[Symbol.toPrimitive]=="function")return m.from(p[Symbol.toPrimitive]("string"),S,A);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p)}function b(p){if(typeof p!="number")throw new TypeError('"size" argument must be of type number');if(0>p)throw new RangeError('The value "'+p+'" is invalid for option "size"')}function x(p,S,A){return b(p),0>=p||S===void 0?y(p):typeof A=="string"?y(p).fill(S,A):y(p).fill(S)}function E(p){return b(p),y(0>p?0:0|R(p))}function C(p,S){if((typeof S!="string"||S==="")&&(S="utf8"),!m.isEncoding(S))throw new TypeError("Unknown encoding: "+S);var A=0|j(p,S),F=y(A),W=F.write(p,S);return W!==A&&(F=F.slice(0,W)),F}function P(p){for(var S=0>p.length?0:0|R(p.length),A=y(S),F=0;F<S;F+=1)A[F]=255&p[F];return A}function N(p,S,A){if(0>S||p.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(p.byteLength<S+(A||0))throw new RangeError('"length" is outside of buffer bounds');var F;return F=S===void 0&&A===void 0?new Uint8Array(p):A===void 0?new Uint8Array(p,S):new Uint8Array(p,S,A),F.__proto__=m.prototype,F}function k(p){if(m.isBuffer(p)){var S=0|R(p.length),A=y(S);return A.length===0||p.copy(A,0,0,S),A}return p.length===void 0?p.type==="Buffer"&&Array.isArray(p.data)?P(p.data):void 0:typeof p.length!="number"||ee(p.length)?y(0):P(p)}function R(p){if(p>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|p}function j(p,S){if(m.isBuffer(p))return p.length;if(ArrayBuffer.isView(p)||Y(p,ArrayBuffer))return p.byteLength;if(typeof p!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof p);var A=p.length,F=2<arguments.length&&arguments[2]===!0;if(!F&&A===0)return 0;for(var W=!1;;)switch(S){case"ascii":case"latin1":case"binary":return A;case"utf8":case"utf-8":return We(p).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*A;case"hex":return A>>>1;case"base64":return at(p).length;default:if(W)return F?-1:We(p).length;S=(""+S).toLowerCase(),W=!0}}function D(p,S,A){var F=!1;if((S===void 0||0>S)&&(S=0),S>this.length||((A===void 0||A>this.length)&&(A=this.length),0>=A)||(A>>>=0,S>>>=0,A<=S))return"";for(p||(p="utf8");;)switch(p){case"hex":return V(this,S,A);case"utf8":case"utf-8":return Se(this,S,A);case"ascii":return se(this,S,A);case"latin1":case"binary":return me(this,S,A);case"base64":return Re(this,S,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,S,A);default:if(F)throw new TypeError("Unknown encoding: "+p);p=(p+"").toLowerCase(),F=!0}}function O(p,S,A){var F=p[S];p[S]=p[A],p[A]=F}function M(p,S,A,F,W){if(p.length===0)return-1;if(typeof A=="string"?(F=A,A=0):2147483647<A?A=2147483647:-2147483648>A&&(A=-2147483648),A=+A,ee(A)&&(A=W?0:p.length-1),0>A&&(A=p.length+A),A>=p.length){if(W)return-1;A=p.length-1}else if(0>A)if(W)A=0;else return-1;if(typeof S=="string"&&(S=m.from(S,F)),m.isBuffer(S))return S.length===0?-1:Q(p,S,A,F,W);if(typeof S=="number")return S&=255,typeof Uint8Array.prototype.indexOf=="function"?W?Uint8Array.prototype.indexOf.call(p,S,A):Uint8Array.prototype.lastIndexOf.call(p,S,A):Q(p,[S],A,F,W);throw new TypeError("val must be string, number or Buffer")}function Q(p,S,A,F,W){function te(zr,tn){return Ee===1?zr[tn]:zr.readUInt16BE(tn*Ee)}var Ee=1,$e=p.length,Qe=S.length;if(F!==void 0&&(F=(F+"").toLowerCase(),F==="ucs2"||F==="ucs-2"||F==="utf16le"||F==="utf-16le")){if(2>p.length||2>S.length)return-1;Ee=2,$e/=2,Qe/=2,A/=2}var Ve;if(W){var Be=-1;for(Ve=A;Ve<$e;Ve++)if(te(p,Ve)!==te(S,Be===-1?0:Ve-Be))Be!==-1&&(Ve-=Ve-Be),Be=-1;else if(Be===-1&&(Be=Ve),Ve-Be+1===Qe)return Be*Ee}else for(A+Qe>$e&&(A=$e-Qe),Ve=A;0<=Ve;Ve--){for(var ot=!0,Mr=0;Mr<Qe;Mr++)if(te(p,Ve+Mr)!==te(S,Mr)){ot=!1;break}if(ot)return Ve}return-1}function z(p,S,A,F){A=+A||0;var W=p.length-A;F?(F=+F,F>W&&(F=W)):F=W;var te=S.length;F>te/2&&(F=te/2);for(var Ee,$e=0;$e<F;++$e){if(Ee=parseInt(S.substr(2*$e,2),16),ee(Ee))return $e;p[A+$e]=Ee}return $e}function q(p,S,A,F){return kt(We(S,p.length-A),p,A,F)}function re(p,S,A,F){return kt(St(S),p,A,F)}function ue(p,S,A,F){return re(p,S,A,F)}function xe(p,S,A,F){return kt(at(S),p,A,F)}function Pe(p,S,A,F){return kt(ft(S,p.length-A),p,A,F)}function Re(p,S,A){return S===0&&A===p.length?fe.fromByteArray(p):fe.fromByteArray(p.slice(S,A))}function Se(p,S,A){A=f(p.length,A);for(var F=[],W=S;W<A;){var te=p[W],Ee=null,$e=239<te?4:223<te?3:191<te?2:1;if(W+$e<=A){var Qe,Ve,Be,ot;$e===1?128>te&&(Ee=te):$e===2?(Qe=p[W+1],(192&Qe)==128&&(ot=(31&te)<<6|63&Qe,127<ot&&(Ee=ot))):$e===3?(Qe=p[W+1],Ve=p[W+2],(192&Qe)==128&&(192&Ve)==128&&(ot=(15&te)<<12|(63&Qe)<<6|63&Ve,2047<ot&&(55296>ot||57343<ot)&&(Ee=ot))):$e===4&&(Qe=p[W+1],Ve=p[W+2],Be=p[W+3],(192&Qe)==128&&(192&Ve)==128&&(192&Be)==128&&(ot=(15&te)<<18|(63&Qe)<<12|(63&Ve)<<6|63&Be,65535<ot&&1114112>ot&&(Ee=ot)))}Ee===null?(Ee=65533,$e=1):65535<Ee&&(Ee-=65536,F.push(55296|1023&Ee>>>10),Ee=56320|1023&Ee),F.push(Ee),W+=$e}return oe(F)}function oe(p){var S=p.length;if(S<=4096)return d.apply(String,p);for(var A="",F=0;F<S;)A+=d.apply(String,p.slice(F,F+=4096));return A}function se(p,S,A){var F="";A=f(p.length,A);for(var W=S;W<A;++W)F+=d(127&p[W]);return F}function me(p,S,A){var F="";A=f(p.length,A);for(var W=S;W<A;++W)F+=d(p[W]);return F}function V(p,S,A){var F=p.length;(!S||0>S)&&(S=0),(!A||0>A||A>F)&&(A=F);for(var W="",te=S;te<A;++te)W+=Fe(p[te]);return W}function H(p,S,A){for(var F=p.slice(S,A),W="",te=0;te<F.length;te+=2)W+=d(F[te]+256*F[te+1]);return W}function ce(p,S,A){if(p%1!=0||0>p)throw new RangeError("offset is not uint");if(p+S>A)throw new RangeError("Trying to access beyond buffer length")}function ne(p,S,A,F,W,te){if(!m.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>W||S<te)throw new RangeError('"value" argument is out of bounds');if(A+F>p.length)throw new RangeError("Index out of range")}function Z(p,S,A,F){if(A+F>p.length)throw new RangeError("Index out of range");if(0>A)throw new RangeError("Index out of range")}function he(p,S,A,F,W){return S=+S,A>>>=0,W||Z(p,S,A,4),Ae.write(p,S,A,F,23,4),A+4}function _e(p,S,A,F,W){return S=+S,A>>>=0,W||Z(p,S,A,8),Ae.write(p,S,A,F,52,8),A+8}function Me(p){if(p=p.split("=")[0],p=p.trim().replace(I,""),2>p.length)return"";for(;p.length%4!=0;)p+="=";return p}function Fe(p){return 16>p?"0"+p.toString(16):p.toString(16)}function We(p,S){S=S||1/0;for(var A,F=p.length,W=null,te=[],Ee=0;Ee<F;++Ee){if(A=p.charCodeAt(Ee),55295<A&&57344>A){if(!W){if(56319<A){-1<(S-=3)&&te.push(239,191,189);continue}else if(Ee+1===F){-1<(S-=3)&&te.push(239,191,189);continue}W=A;continue}if(56320>A){-1<(S-=3)&&te.push(239,191,189),W=A;continue}A=(W-55296<<10|A-56320)+65536}else W&&-1<(S-=3)&&te.push(239,191,189);if(W=null,128>A){if(0>(S-=1))break;te.push(A)}else if(2048>A){if(0>(S-=2))break;te.push(192|A>>6,128|63&A)}else if(65536>A){if(0>(S-=3))break;te.push(224|A>>12,128|63&A>>6,128|63&A)}else if(1114112>A){if(0>(S-=4))break;te.push(240|A>>18,128|63&A>>12,128|63&A>>6,128|63&A)}else throw new Error("Invalid code point")}return te}function St(p){for(var S=[],A=0;A<p.length;++A)S.push(255&p.charCodeAt(A));return S}function ft(p,S){for(var A,F,W,te=[],Ee=0;Ee<p.length&&!(0>(S-=2));++Ee)A=p.charCodeAt(Ee),F=A>>8,W=A%256,te.push(W),te.push(F);return te}function at(p){return fe.toByteArray(Me(p))}function kt(p,S,A,F){for(var W=0;W<F&&!(W+A>=S.length||W>=p.length);++W)S[W+A]=p[W];return W}function Y(p,S){return p instanceof S||p!=null&&p.constructor!=null&&p.constructor.name!=null&&p.constructor.name===S.name}function ee(p){return p!==p}var fe=o("base64-js"),Ae=o("ieee754");c.Buffer=m,c.SlowBuffer=function(p){return+p!=p&&(p=0),m.alloc(+p)},c.INSPECT_MAX_BYTES=50,c.kMaxLength=2147483647,m.TYPED_ARRAY_SUPPORT=(function(){try{var p=new Uint8Array(1);return p.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},p.foo()===42}catch{return!1}})(),m.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){return m.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){return m.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol<"u"&&Symbol.species!=null&&m[Symbol.species]===m&&Object.defineProperty(m,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),m.poolSize=8192,m.from=function(p,S,A){return v(p,S,A)},m.prototype.__proto__=Uint8Array.prototype,m.__proto__=Uint8Array,m.alloc=function(p,S,A){return x(p,S,A)},m.allocUnsafe=function(p){return E(p)},m.allocUnsafeSlow=function(p){return E(p)},m.isBuffer=function(p){return p!=null&&p._isBuffer===!0&&p!==m.prototype},m.compare=function(p,S){if(Y(p,Uint8Array)&&(p=m.from(p,p.offset,p.byteLength)),Y(S,Uint8Array)&&(S=m.from(S,S.offset,S.byteLength)),!m.isBuffer(p)||!m.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===S)return 0;for(var A=p.length,F=S.length,W=0,te=f(A,F);W<te;++W)if(p[W]!==S[W]){A=p[W],F=S[W];break}return A<F?-1:F<A?1:0},m.isEncoding=function(p){switch((p+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(p,S){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return m.alloc(0);var A;if(S===void 0)for(S=0,A=0;A<p.length;++A)S+=p[A].length;var F=m.allocUnsafe(S),W=0;for(A=0;A<p.length;++A){var te=p[A];if(Y(te,Uint8Array)&&(te=m.from(te)),!m.isBuffer(te))throw new TypeError('"list" argument must be an Array of Buffers');te.copy(F,W),W+=te.length}return F},m.byteLength=j,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var p=this.length;if(p%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var S=0;S<p;S+=2)O(this,S,S+1);return this},m.prototype.swap32=function(){var p=this.length;if(p%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var S=0;S<p;S+=4)O(this,S,S+3),O(this,S+1,S+2);return this},m.prototype.swap64=function(){var p=this.length;if(p%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var S=0;S<p;S+=8)O(this,S,S+7),O(this,S+1,S+6),O(this,S+2,S+5),O(this,S+3,S+4);return this},m.prototype.toString=function(){var p=this.length;return p===0?"":arguments.length===0?Se(this,0,p):D.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(p){if(!m.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p||m.compare(this,p)===0},m.prototype.inspect=function(){var p="",S=c.INSPECT_MAX_BYTES;return p=this.toString("hex",0,S).replace(/(.{2})/g,"$1 ").trim(),this.length>S&&(p+=" ... "),"<Buffer "+p+">"},m.prototype.compare=function(p,S,A,F,W){if(Y(p,Uint8Array)&&(p=m.from(p,p.offset,p.byteLength)),!m.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);if(S===void 0&&(S=0),A===void 0&&(A=p?p.length:0),F===void 0&&(F=0),W===void 0&&(W=this.length),0>S||A>p.length||0>F||W>this.length)throw new RangeError("out of range index");if(F>=W&&S>=A)return 0;if(F>=W)return-1;if(S>=A)return 1;if(S>>>=0,A>>>=0,F>>>=0,W>>>=0,this===p)return 0;for(var te=W-F,Ee=A-S,$e=f(te,Ee),Qe=this.slice(F,W),Ve=p.slice(S,A),Be=0;Be<$e;++Be)if(Qe[Be]!==Ve[Be]){te=Qe[Be],Ee=Ve[Be];break}return te<Ee?-1:Ee<te?1:0},m.prototype.includes=function(p,S,A){return this.indexOf(p,S,A)!==-1},m.prototype.indexOf=function(p,S,A){return M(this,p,S,A,!0)},m.prototype.lastIndexOf=function(p,S,A){return M(this,p,S,A,!1)},m.prototype.write=function(p,S,A,F){if(S===void 0)F="utf8",A=this.length,S=0;else if(A===void 0&&typeof S=="string")F=S,A=this.length,S=0;else if(isFinite(S))S>>>=0,isFinite(A)?(A>>>=0,F===void 0&&(F="utf8")):(F=A,A=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var W=this.length-S;if((A===void 0||A>W)&&(A=W),0<p.length&&(0>A||0>S)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");for(var te=!1;;)switch(F){case"hex":return z(this,p,S,A);case"utf8":case"utf-8":return q(this,p,S,A);case"ascii":return re(this,p,S,A);case"latin1":case"binary":return ue(this,p,S,A);case"base64":return xe(this,p,S,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pe(this,p,S,A);default:if(te)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),te=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},m.prototype.slice=function(p,S){var A=this.length;p=~~p,S=S===void 0?A:~~S,0>p?(p+=A,0>p&&(p=0)):p>A&&(p=A),0>S?(S+=A,0>S&&(S=0)):S>A&&(S=A),S<p&&(S=p);var F=this.subarray(p,S);return F.__proto__=m.prototype,F},m.prototype.readUIntLE=function(p,S,A){p>>>=0,S>>>=0,A||ce(p,S,this.length);for(var F=this[p],W=1,te=0;++te<S&&(W*=256);)F+=this[p+te]*W;return F},m.prototype.readUIntBE=function(p,S,A){p>>>=0,S>>>=0,A||ce(p,S,this.length);for(var F=this[p+--S],W=1;0<S&&(W*=256);)F+=this[p+--S]*W;return F},m.prototype.readUInt8=function(p,S){return p>>>=0,S||ce(p,1,this.length),this[p]},m.prototype.readUInt16LE=function(p,S){return p>>>=0,S||ce(p,2,this.length),this[p]|this[p+1]<<8},m.prototype.readUInt16BE=function(p,S){return p>>>=0,S||ce(p,2,this.length),this[p]<<8|this[p+1]},m.prototype.readUInt32LE=function(p,S){return p>>>=0,S||ce(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+16777216*this[p+3]},m.prototype.readUInt32BE=function(p,S){return p>>>=0,S||ce(p,4,this.length),16777216*this[p]+(this[p+1]<<16|this[p+2]<<8|this[p+3])},m.prototype.readIntLE=function(p,S,A){p>>>=0,S>>>=0,A||ce(p,S,this.length);for(var F=this[p],W=1,te=0;++te<S&&(W*=256);)F+=this[p+te]*W;return W*=128,F>=W&&(F-=a(2,8*S)),F},m.prototype.readIntBE=function(p,S,A){p>>>=0,S>>>=0,A||ce(p,S,this.length);for(var F=S,W=1,te=this[p+--F];0<F&&(W*=256);)te+=this[p+--F]*W;return W*=128,te>=W&&(te-=a(2,8*S)),te},m.prototype.readInt8=function(p,S){return p>>>=0,S||ce(p,1,this.length),128&this[p]?-1*(255-this[p]+1):this[p]},m.prototype.readInt16LE=function(p,S){p>>>=0,S||ce(p,2,this.length);var A=this[p]|this[p+1]<<8;return 32768&A?4294901760|A:A},m.prototype.readInt16BE=function(p,S){p>>>=0,S||ce(p,2,this.length);var A=this[p+1]|this[p]<<8;return 32768&A?4294901760|A:A},m.prototype.readInt32LE=function(p,S){return p>>>=0,S||ce(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},m.prototype.readInt32BE=function(p,S){return p>>>=0,S||ce(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},m.prototype.readFloatLE=function(p,S){return p>>>=0,S||ce(p,4,this.length),Ae.read(this,p,!0,23,4)},m.prototype.readFloatBE=function(p,S){return p>>>=0,S||ce(p,4,this.length),Ae.read(this,p,!1,23,4)},m.prototype.readDoubleLE=function(p,S){return p>>>=0,S||ce(p,8,this.length),Ae.read(this,p,!0,52,8)},m.prototype.readDoubleBE=function(p,S){return p>>>=0,S||ce(p,8,this.length),Ae.read(this,p,!1,52,8)},m.prototype.writeUIntLE=function(p,S,A,F){if(p=+p,S>>>=0,A>>>=0,!F){var W=a(2,8*A)-1;ne(this,p,S,A,W,0)}var te=1,Ee=0;for(this[S]=255&p;++Ee<A&&(te*=256);)this[S+Ee]=255&p/te;return S+A},m.prototype.writeUIntBE=function(p,S,A,F){if(p=+p,S>>>=0,A>>>=0,!F){var W=a(2,8*A)-1;ne(this,p,S,A,W,0)}var te=A-1,Ee=1;for(this[S+te]=255&p;0<=--te&&(Ee*=256);)this[S+te]=255&p/Ee;return S+A},m.prototype.writeUInt8=function(p,S,A){return p=+p,S>>>=0,A||ne(this,p,S,1,255,0),this[S]=255&p,S+1},m.prototype.writeUInt16LE=function(p,S,A){return p=+p,S>>>=0,A||ne(this,p,S,2,65535,0),this[S]=255&p,this[S+1]=p>>>8,S+2},m.prototype.writeUInt16BE=function(p,S,A){return p=+p,S>>>=0,A||ne(this,p,S,2,65535,0),this[S]=p>>>8,this[S+1]=255&p,S+2},m.prototype.writeUInt32LE=function(p,S,A){return p=+p,S>>>=0,A||ne(this,p,S,4,4294967295,0),this[S+3]=p>>>24,this[S+2]=p>>>16,this[S+1]=p>>>8,this[S]=255&p,S+4},m.prototype.writeUInt32BE=function(p,S,A){return p=+p,S>>>=0,A||ne(this,p,S,4,4294967295,0),this[S]=p>>>24,this[S+1]=p>>>16,this[S+2]=p>>>8,this[S+3]=255&p,S+4},m.prototype.writeIntLE=function(p,S,A,F){if(p=+p,S>>>=0,!F){var W=a(2,8*A-1);ne(this,p,S,A,W-1,-W)}var te=0,Ee=1,$e=0;for(this[S]=255&p;++te<A&&(Ee*=256);)0>p&&$e===0&&this[S+te-1]!==0&&($e=1),this[S+te]=255&(p/Ee>>0)-$e;return S+A},m.prototype.writeIntBE=function(p,S,A,F){if(p=+p,S>>>=0,!F){var W=a(2,8*A-1);ne(this,p,S,A,W-1,-W)}var te=A-1,Ee=1,$e=0;for(this[S+te]=255&p;0<=--te&&(Ee*=256);)0>p&&$e===0&&this[S+te+1]!==0&&($e=1),this[S+te]=255&(p/Ee>>0)-$e;return S+A},m.prototype.writeInt8=function(p,S,A){return p=+p,S>>>=0,A||ne(this,p,S,1,127,-128),0>p&&(p=255+p+1),this[S]=255&p,S+1},m.prototype.writeInt16LE=function(p,S,A){return p=+p,S>>>=0,A||ne(this,p,S,2,32767,-32768),this[S]=255&p,this[S+1]=p>>>8,S+2},m.prototype.writeInt16BE=function(p,S,A){return p=+p,S>>>=0,A||ne(this,p,S,2,32767,-32768),this[S]=p>>>8,this[S+1]=255&p,S+2},m.prototype.writeInt32LE=function(p,S,A){return p=+p,S>>>=0,A||ne(this,p,S,4,2147483647,-2147483648),this[S]=255&p,this[S+1]=p>>>8,this[S+2]=p>>>16,this[S+3]=p>>>24,S+4},m.prototype.writeInt32BE=function(p,S,A){return p=+p,S>>>=0,A||ne(this,p,S,4,2147483647,-2147483648),0>p&&(p=4294967295+p+1),this[S]=p>>>24,this[S+1]=p>>>16,this[S+2]=p>>>8,this[S+3]=255&p,S+4},m.prototype.writeFloatLE=function(p,S,A){return he(this,p,S,!0,A)},m.prototype.writeFloatBE=function(p,S,A){return he(this,p,S,!1,A)},m.prototype.writeDoubleLE=function(p,S,A){return _e(this,p,S,!0,A)},m.prototype.writeDoubleBE=function(p,S,A){return _e(this,p,S,!1,A)},m.prototype.copy=function(p,S,A,F){if(!m.isBuffer(p))throw new TypeError("argument should be a Buffer");if(A||(A=0),F||F===0||(F=this.length),S>=p.length&&(S=p.length),S||(S=0),0<F&&F<A&&(F=A),F===A||p.length===0||this.length===0)return 0;if(0>S)throw new RangeError("targetStart out of bounds");if(0>A||A>=this.length)throw new RangeError("Index out of range");if(0>F)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),p.length-S<F-A&&(F=p.length-S+A);var W=F-A;if(this===p&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(S,A,F);else if(this===p&&A<S&&S<F)for(var te=W-1;0<=te;--te)p[te+S]=this[te+A];else Uint8Array.prototype.set.call(p,this.subarray(A,F),S);return W},m.prototype.fill=function(p,S,A,F){if(typeof p=="string"){if(typeof S=="string"?(F=S,S=0,A=this.length):typeof A=="string"&&(F=A,A=this.length),F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!m.isEncoding(F))throw new TypeError("Unknown encoding: "+F);if(p.length===1){var W=p.charCodeAt(0);(F==="utf8"&&128>W||F==="latin1")&&(p=W)}}else typeof p=="number"&&(p&=255);if(0>S||this.length<S||this.length<A)throw new RangeError("Out of range index");if(A<=S)return this;S>>>=0,A=A===void 0?this.length:A>>>0,p||(p=0);var te;if(typeof p=="number")for(te=S;te<A;++te)this[te]=p;else{var Ee=m.isBuffer(p)?p:m.from(p,F),$e=Ee.length;if($e===0)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(te=0;te<A-S;++te)this[te+S]=Ee[te%$e]}return this};var I=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,o("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:9}],4:[function(o,u,c){(function(d){(function(){function f(){let m;try{m=c.storage.getItem("debug")}catch{}return!m&&typeof d<"u"&&"env"in d&&(m=d.env.DEBUG),m}c.formatArgs=function(m){if(m[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+m[0]+(this.useColors?"%c ":" ")+"+"+u.exports.humanize(this.diff),!this.useColors)return;const v="color: "+this.color;m.splice(1,0,v,"color: inherit");let b=0,x=0;m[0].replace(/%[a-zA-Z%]/g,E=>{E==="%%"||(b++,E==="%c"&&(x=b))}),m.splice(x,0,v)},c.save=function(m){try{m?c.storage.setItem("debug",m):c.storage.removeItem("debug")}catch{}},c.load=f,c.useColors=function(){return!!(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},c.storage=(function(){try{return localStorage}catch{}})(),c.destroy=(()=>{let m=!1;return()=>{m||(m=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),c.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],c.log=console.debug||console.log||(()=>{}),u.exports=o("./common")(c);const{formatters:y}=u.exports;y.j=function(m){try{return JSON.stringify(m)}catch(v){return"[UnexpectedJSONParseError]: "+v.message}}}).call(this)}).call(this,o("_process"))},{"./common":5,_process:12}],5:[function(o,u){u.exports=function(c){function d(m){function v(...E){if(!v.enabled)return;const C=v,P=+new Date,N=P-(b||P);C.diff=N,C.prev=b,C.curr=P,b=P,E[0]=d.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let k=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(j,D)=>{if(j==="%%")return"%";k++;const O=d.formatters[D];if(typeof O=="function"){const M=E[k];j=O.call(C,M),E.splice(k,1),k--}return j}),d.formatArgs.call(C,E),(C.log||d.log).apply(C,E)}let b,x=null;return v.namespace=m,v.useColors=d.useColors(),v.color=d.selectColor(m),v.extend=f,v.destroy=d.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>x===null?d.enabled(m):x,set:E=>{x=E}}),typeof d.init=="function"&&d.init(v),v}function f(m,v){const b=d(this.namespace+(typeof v>"u"?":":v)+m);return b.log=this.log,b}function y(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}return d.debug=d,d.default=d,d.coerce=function(m){return m instanceof Error?m.stack||m.message:m},d.disable=function(){const m=[...d.names.map(y),...d.skips.map(y).map(v=>"-"+v)].join(",");return d.enable(""),m},d.enable=function(m){d.save(m),d.names=[],d.skips=[];let v;const b=(typeof m=="string"?m:"").split(/[\s,]+/),x=b.length;for(v=0;v<x;v++)b[v]&&(m=b[v].replace(/\*/g,".*?"),m[0]==="-"?d.skips.push(new RegExp("^"+m.substr(1)+"$")):d.names.push(new RegExp("^"+m+"$")))},d.enabled=function(m){if(m[m.length-1]==="*")return!0;let v,b;for(v=0,b=d.skips.length;v<b;v++)if(d.skips[v].test(m))return!1;for(v=0,b=d.names.length;v<b;v++)if(d.names[v].test(m))return!0;return!1},d.humanize=o("ms"),d.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(c).forEach(m=>{d[m]=c[m]}),d.names=[],d.skips=[],d.formatters={},d.selectColor=function(m){let v=0;for(let b=0;b<m.length;b++)v=(v<<5)-v+m.charCodeAt(b),v|=0;return d.colors[i(v)%d.colors.length]},d.enable(d.load()),d}},{ms:11}],6:[function(o,u){function c(d,f){for(const y in f)Object.defineProperty(d,y,{value:f[y],enumerable:!0,configurable:!0});return d}u.exports=function(d,f,y){if(!d||typeof d=="string")throw new TypeError("Please pass an Error to err-code");y||(y={}),typeof f=="object"&&(y=f,f=""),f&&(y.code=f);try{return c(d,y)}catch{y.message=d.message,y.stack=d.stack;const v=function(){};return v.prototype=Object.create(Object.getPrototypeOf(d)),c(new v,y)}}},{}],7:[function(o,u){function c(z){console&&console.warn&&console.warn(z)}function d(){d.init.call(this)}function f(z){if(typeof z!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof z)}function y(z){return z._maxListeners===void 0?d.defaultMaxListeners:z._maxListeners}function m(z,q,re,ue){var xe,Pe,Re;if(f(re),Pe=z._events,Pe===void 0?(Pe=z._events=Object.create(null),z._eventsCount=0):(Pe.newListener!==void 0&&(z.emit("newListener",q,re.listener?re.listener:re),Pe=z._events),Re=Pe[q]),Re===void 0)Re=Pe[q]=re,++z._eventsCount;else if(typeof Re=="function"?Re=Pe[q]=ue?[re,Re]:[Re,re]:ue?Re.unshift(re):Re.push(re),xe=y(z),0<xe&&Re.length>xe&&!Re.warned){Re.warned=!0;var Se=new Error("Possible EventEmitter memory leak detected. "+Re.length+" "+(q+" listeners added. Use emitter.setMaxListeners() to increase limit"));Se.name="MaxListenersExceededWarning",Se.emitter=z,Se.type=q,Se.count=Re.length,c(Se)}return z}function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(z,q,re){var ue={fired:!1,wrapFn:void 0,target:z,type:q,listener:re},xe=v.bind(ue);return xe.listener=re,ue.wrapFn=xe,xe}function x(z,q,re){var ue=z._events;if(ue===void 0)return[];var xe=ue[q];return xe===void 0?[]:typeof xe=="function"?re?[xe.listener||xe]:[xe]:re?N(xe):C(xe,xe.length)}function E(z){var q=this._events;if(q!==void 0){var re=q[z];if(typeof re=="function")return 1;if(re!==void 0)return re.length}return 0}function C(z,q){for(var re=Array(q),ue=0;ue<q;++ue)re[ue]=z[ue];return re}function P(z,q){for(;q+1<z.length;q++)z[q]=z[q+1];z.pop()}function N(z){for(var q=Array(z.length),re=0;re<q.length;++re)q[re]=z[re].listener||z[re];return q}function k(z,q,re){typeof z.on=="function"&&R(z,"error",q,re)}function R(z,q,re,ue){if(typeof z.on=="function")ue.once?z.once(q,re):z.on(q,re);else if(typeof z.addEventListener=="function")z.addEventListener(q,function xe(Pe){ue.once&&z.removeEventListener(q,xe),re(Pe)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof z)}var j,D=typeof Reflect=="object"?Reflect:null,O=D&&typeof D.apply=="function"?D.apply:function(z,q,re){return Function.prototype.apply.call(z,q,re)};j=D&&typeof D.ownKeys=="function"?D.ownKeys:Object.getOwnPropertySymbols?function(z){return Object.getOwnPropertyNames(z).concat(Object.getOwnPropertySymbols(z))}:function(z){return Object.getOwnPropertyNames(z)};var M=Number.isNaN||function(z){return z!==z};u.exports=d,u.exports.once=function(z,q){return new Promise(function(re,ue){function xe(Re){z.removeListener(q,Pe),ue(Re)}function Pe(){typeof z.removeListener=="function"&&z.removeListener("error",xe),re([].slice.call(arguments))}R(z,q,Pe,{once:!0}),q!=="error"&&k(z,xe,{once:!0})})},d.EventEmitter=d,d.prototype._events=void 0,d.prototype._eventsCount=0,d.prototype._maxListeners=void 0;var Q=10;Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return Q},set:function(z){if(typeof z!="number"||0>z||M(z))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+z+".");Q=z}}),d.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},d.prototype.setMaxListeners=function(z){if(typeof z!="number"||0>z||M(z))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+z+".");return this._maxListeners=z,this},d.prototype.getMaxListeners=function(){return y(this)},d.prototype.emit=function(z){for(var q=[],re=1;re<arguments.length;re++)q.push(arguments[re]);var ue=z==="error",xe=this._events;if(xe!==void 0)ue=ue&&xe.error===void 0;else if(!ue)return!1;if(ue){var Pe;if(0<q.length&&(Pe=q[0]),Pe instanceof Error)throw Pe;var Re=new Error("Unhandled error."+(Pe?" ("+Pe.message+")":""));throw Re.context=Pe,Re}var Se=xe[z];if(Se===void 0)return!1;if(typeof Se=="function")O(Se,this,q);else for(var oe=Se.length,se=C(Se,oe),re=0;re<oe;++re)O(se[re],this,q);return!0},d.prototype.addListener=function(z,q){return m(this,z,q,!1)},d.prototype.on=d.prototype.addListener,d.prototype.prependListener=function(z,q){return m(this,z,q,!0)},d.prototype.once=function(z,q){return f(q),this.on(z,b(this,z,q)),this},d.prototype.prependOnceListener=function(z,q){return f(q),this.prependListener(z,b(this,z,q)),this},d.prototype.removeListener=function(z,q){var re,ue,xe,Pe,Re;if(f(q),ue=this._events,ue===void 0)return this;if(re=ue[z],re===void 0)return this;if(re===q||re.listener===q)--this._eventsCount==0?this._events=Object.create(null):(delete ue[z],ue.removeListener&&this.emit("removeListener",z,re.listener||q));else if(typeof re!="function"){for(xe=-1,Pe=re.length-1;0<=Pe;Pe--)if(re[Pe]===q||re[Pe].listener===q){Re=re[Pe].listener,xe=Pe;break}if(0>xe)return this;xe===0?re.shift():P(re,xe),re.length===1&&(ue[z]=re[0]),ue.removeListener!==void 0&&this.emit("removeListener",z,Re||q)}return this},d.prototype.off=d.prototype.removeListener,d.prototype.removeAllListeners=function(z){var q,re,ue;if(re=this._events,re===void 0)return this;if(re.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):re[z]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete re[z]),this;if(arguments.length===0){var xe,Pe=Object.keys(re);for(ue=0;ue<Pe.length;++ue)xe=Pe[ue],xe!=="removeListener"&&this.removeAllListeners(xe);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(q=re[z],typeof q=="function")this.removeListener(z,q);else if(q!==void 0)for(ue=q.length-1;0<=ue;ue--)this.removeListener(z,q[ue]);return this},d.prototype.listeners=function(z){return x(this,z,!0)},d.prototype.rawListeners=function(z){return x(this,z,!1)},d.listenerCount=function(z,q){return typeof z.listenerCount=="function"?z.listenerCount(q):E.call(z,q)},d.prototype.listenerCount=E,d.prototype.eventNames=function(){return 0<this._eventsCount?j(this._events):[]}},{}],8:[function(o,u){u.exports=function(){if(typeof globalThis>"u")return null;var c={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return c.RTCPeerConnection?c:null}},{}],9:[function(o,u,c){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */c.read=function(d,f,y,m,v){var b,x,E=8*v-m-1,C=(1<<E)-1,P=C>>1,N=-7,k=y?v-1:0,R=y?-1:1,j=d[f+k];for(k+=R,b=j&(1<<-N)-1,j>>=-N,N+=E;0<N;b=256*b+d[f+k],k+=R,N-=8);for(x=b&(1<<-N)-1,b>>=-N,N+=m;0<N;x=256*x+d[f+k],k+=R,N-=8);if(b===0)b=1-P;else{if(b===C)return x?NaN:(j?-1:1)*(1/0);x+=a(2,m),b-=P}return(j?-1:1)*x*a(2,b-m)},c.write=function(d,f,y,m,v,b){var x,E,C,P=Math.LN2,N=Math.log,k=8*b-v-1,R=(1<<k)-1,j=R>>1,D=v===23?a(2,-24)-a(2,-77):0,O=m?0:b-1,M=m?1:-1,Q=0>f||f===0&&0>1/f?1:0;for(f=i(f),isNaN(f)||f===1/0?(E=isNaN(f)?1:0,x=R):(x=r(N(f)/P),1>f*(C=a(2,-x))&&(x--,C*=2),f+=1<=x+j?D/C:D*a(2,1-j),2<=f*C&&(x++,C/=2),x+j>=R?(E=0,x=R):1<=x+j?(E=(f*C-1)*a(2,v),x+=j):(E=f*a(2,j-1)*a(2,v),x=0));8<=v;d[y+O]=255&E,O+=M,E/=256,v-=8);for(x=x<<v|E,k+=v;0<k;d[y+O]=255&x,O+=M,x/=256,k-=8);d[y+O-M]|=128*Q}},{}],10:[function(o,u){u.exports=typeof Object.create=="function"?function(c,d){d&&(c.super_=d,c.prototype=Object.create(d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}))}:function(c,d){if(d){c.super_=d;var f=function(){};f.prototype=d.prototype,c.prototype=new f,c.prototype.constructor=c}}},{}],11:[function(o,u){var c=Math.round;function d(v){if(v+="",!(100<v.length)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(v);if(b){var x=parseFloat(b[1]),E=(b[2]||"ms").toLowerCase();return E==="years"||E==="year"||E==="yrs"||E==="yr"||E==="y"?315576e5*x:E==="weeks"||E==="week"||E==="w"?6048e5*x:E==="days"||E==="day"||E==="d"?864e5*x:E==="hours"||E==="hour"||E==="hrs"||E==="hr"||E==="h"?36e5*x:E==="minutes"||E==="minute"||E==="mins"||E==="min"||E==="m"?6e4*x:E==="seconds"||E==="second"||E==="secs"||E==="sec"||E==="s"?1e3*x:E==="milliseconds"||E==="millisecond"||E==="msecs"||E==="msec"||E==="ms"?x:void 0}}}function f(v){var b=i(v);return 864e5<=b?c(v/864e5)+"d":36e5<=b?c(v/36e5)+"h":6e4<=b?c(v/6e4)+"m":1e3<=b?c(v/1e3)+"s":v+"ms"}function y(v){var b=i(v);return 864e5<=b?m(v,b,864e5,"day"):36e5<=b?m(v,b,36e5,"hour"):6e4<=b?m(v,b,6e4,"minute"):1e3<=b?m(v,b,1e3,"second"):v+" ms"}function m(v,b,x,E){return c(v/x)+" "+E+(b>=1.5*x?"s":"")}u.exports=function(v,b){b=b||{};var x=typeof v;if(x=="string"&&0<v.length)return d(v);if(x==="number"&&isFinite(v))return b.long?y(v):f(v);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(v))}},{}],12:[function(o,u){function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function f(D){if(E===setTimeout)return setTimeout(D,0);if((E===c||!E)&&setTimeout)return E=setTimeout,setTimeout(D,0);try{return E(D,0)}catch{try{return E.call(null,D,0)}catch{return E.call(this,D,0)}}}function y(D){if(C===clearTimeout)return clearTimeout(D);if((C===d||!C)&&clearTimeout)return C=clearTimeout,clearTimeout(D);try{return C(D)}catch{try{return C.call(null,D)}catch{return C.call(this,D)}}}function m(){R&&N&&(R=!1,N.length?k=N.concat(k):j=-1,k.length&&v())}function v(){if(!R){var D=f(m);R=!0;for(var O=k.length;O;){for(N=k,k=[];++j<O;)N&&N[j].run();j=-1,O=k.length}N=null,R=!1,y(D)}}function b(D,O){this.fun=D,this.array=O}function x(){}var E,C,P=u.exports={};(function(){try{E=typeof setTimeout=="function"?setTimeout:c}catch{E=c}try{C=typeof clearTimeout=="function"?clearTimeout:d}catch{C=d}})();var N,k=[],R=!1,j=-1;P.nextTick=function(D){var O=Array(arguments.length-1);if(1<arguments.length)for(var M=1;M<arguments.length;M++)O[M-1]=arguments[M];k.push(new b(D,O)),k.length!==1||R||f(v)},b.prototype.run=function(){this.fun.apply(null,this.array)},P.title="browser",P.browser=!0,P.env={},P.argv=[],P.version="",P.versions={},P.on=x,P.addListener=x,P.once=x,P.off=x,P.removeListener=x,P.removeAllListeners=x,P.emit=x,P.prependListener=x,P.prependOnceListener=x,P.listeners=function(){return[]},P.binding=function(){throw new Error("process.binding is not supported")},P.cwd=function(){return"/"},P.chdir=function(){throw new Error("process.chdir is not supported")},P.umask=function(){return 0}},{}],13:[function(o,u){(function(c){(function(){/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let d;u.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window>"u"?c:window):f=>(d||(d=Promise.resolve())).then(f).catch(y=>setTimeout(()=>{throw y},0))}).call(this)}).call(this,typeof Rr>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Rr)},{}],14:[function(o,u){(function(c,d){(function(){var f=o("safe-buffer").Buffer,y=d.crypto||d.msCrypto;u.exports=y&&y.getRandomValues?function(m,v){if(m>4294967295)throw new RangeError("requested too many random bytes");var b=f.allocUnsafe(m);if(0<m)if(65536<m)for(var x=0;x<m;x+=65536)y.getRandomValues(b.slice(x,x+65536));else y.getRandomValues(b);return typeof v=="function"?c.nextTick(function(){v(null,b)}):b}:function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,o("_process"),typeof Rr>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Rr)},{_process:12,"safe-buffer":30}],15:[function(o,u){function c(x,E){x.prototype=Object.create(E.prototype),x.prototype.constructor=x,x.__proto__=E}function d(x,E,C){function P(k,R,j){return typeof E=="string"?E:E(k,R,j)}C||(C=Error);var N=(function(k){function R(j,D,O){return k.call(this,P(j,D,O))||this}return c(R,k),R})(C);N.prototype.name=C.name,N.prototype.code=x,b[x]=N}function f(x,E){if(Array.isArray(x)){var C=x.length;return x=x.map(function(P){return P+""}),2<C?"one of ".concat(E," ").concat(x.slice(0,C-1).join(", "),", or ")+x[C-1]:C===2?"one of ".concat(E," ").concat(x[0]," or ").concat(x[1]):"of ".concat(E," ").concat(x[0])}return"of ".concat(E," ").concat(x+"")}function y(x,E,C){return x.substr(0,E.length)===E}function m(x,E,C){return(C===void 0||C>x.length)&&(C=x.length),x.substring(C-E.length,C)===E}function v(x,E,C){return typeof C!="number"&&(C=0),!(C+E.length>x.length)&&x.indexOf(E,C)!==-1}var b={};d("ERR_INVALID_OPT_VALUE",function(x,E){return'The value "'+E+'" is invalid for option "'+x+'"'},TypeError),d("ERR_INVALID_ARG_TYPE",function(x,E,C){var P;typeof E=="string"&&y(E,"not ")?(P="must not be",E=E.replace(/^not /,"")):P="must be";var N;if(m(x," argument"))N="The ".concat(x," ").concat(P," ").concat(f(E,"type"));else{var k=v(x,".")?"property":"argument";N='The "'.concat(x,'" ').concat(k," ").concat(P," ").concat(f(E,"type"))}return N+=". Received type ".concat(typeof C),N},TypeError),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),d("ERR_METHOD_NOT_IMPLEMENTED",function(x){return"The "+x+" method is not implemented"}),d("ERR_STREAM_PREMATURE_CLOSE","Premature close"),d("ERR_STREAM_DESTROYED",function(x){return"Cannot call "+x+" after a stream was destroyed"}),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),d("ERR_STREAM_WRITE_AFTER_END","write after end"),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_UNKNOWN_ENCODING",function(x){return"Unknown encoding: "+x},TypeError),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),u.exports.codes=b},{}],16:[function(o,u){(function(c){(function(){function d(P){return this instanceof d?(v.call(this,P),b.call(this,P),this.allowHalfOpen=!0,void(P&&(P.readable===!1&&(this.readable=!1),P.writable===!1&&(this.writable=!1),P.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f))))):new d(P)}function f(){this._writableState.ended||c.nextTick(y,this)}function y(P){P.end()}var m=Object.keys||function(P){var N=[];for(var k in P)N.push(k);return N};u.exports=d;var v=o("./_stream_readable"),b=o("./_stream_writable");o("inherits")(d,v);for(var x,E=m(b.prototype),C=0;C<E.length;C++)x=E[C],d.prototype[x]||(d.prototype[x]=b.prototype[x]);Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(P){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=P,this._writableState.destroyed=P)}})}).call(this)}).call(this,o("_process"))},{"./_stream_readable":18,"./_stream_writable":20,_process:12,inherits:10}],17:[function(o,u){function c(f){return this instanceof c?void d.call(this,f):new c(f)}u.exports=c;var d=o("./_stream_transform");o("inherits")(c,d),c.prototype._transform=function(f,y,m){m(null,f)}},{"./_stream_transform":19,inherits:10}],18:[function(o,u){(function(c,d){(function(){function f(I){return H.from(I)}function y(I){return H.isBuffer(I)||I instanceof ce}function m(I,p,S){return typeof I.prependListener=="function"?I.prependListener(p,S):void(I._events&&I._events[p]?Array.isArray(I._events[p])?I._events[p].unshift(S):I._events[p]=[S,I._events[p]]:I.on(p,S))}function v(I,p,S){oe=oe||o("./_stream_duplex"),I=I||{},typeof S!="boolean"&&(S=p instanceof oe),this.objectMode=!!I.objectMode,S&&(this.objectMode=this.objectMode||!!I.readableObjectMode),this.highWaterMark=St(this,I,"readableHighWaterMark",S),this.buffer=new Me,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=I.emitClose!==!1,this.autoDestroy=!!I.autoDestroy,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(!Z&&(Z=o("string_decoder/").StringDecoder),this.decoder=new Z(I.encoding),this.encoding=I.encoding)}function b(I){if(oe=oe||o("./_stream_duplex"),!(this instanceof b))return new b(I);var p=this instanceof oe;this._readableState=new v(I,this,p),this.readable=!0,I&&(typeof I.read=="function"&&(this._read=I.read),typeof I.destroy=="function"&&(this._destroy=I.destroy)),V.call(this)}function x(I,p,S,A,F){se("readableAddChunk",p);var W=I._readableState;if(p===null)W.reading=!1,k(I,W);else{var te;if(F||(te=C(W,p)),te)fe(I,te);else if(!(W.objectMode||p&&0<p.length))A||(W.reading=!1,D(I,W));else if(typeof p=="string"||W.objectMode||Object.getPrototypeOf(p)===H.prototype||(p=f(p)),A)W.endEmitted?fe(I,new ee):E(I,W,p,!0);else if(W.ended)fe(I,new kt);else{if(W.destroyed)return!1;W.reading=!1,W.decoder&&!S?(p=W.decoder.write(p),W.objectMode||p.length!==0?E(I,W,p,!1):D(I,W)):E(I,W,p,!1)}}return!W.ended&&(W.length<W.highWaterMark||W.length===0)}function E(I,p,S,A){p.flowing&&p.length===0&&!p.sync?(p.awaitDrain=0,I.emit("data",S)):(p.length+=p.objectMode?1:S.length,A?p.buffer.unshift(S):p.buffer.push(S),p.needReadable&&R(I)),D(I,p)}function C(I,p){var S;return y(p)||typeof p=="string"||p===void 0||I.objectMode||(S=new at("chunk",["string","Buffer","Uint8Array"],p)),S}function P(I){return 1073741824<=I?I=1073741824:(I--,I|=I>>>1,I|=I>>>2,I|=I>>>4,I|=I>>>8,I|=I>>>16,I++),I}function N(I,p){return 0>=I||p.length===0&&p.ended?0:p.objectMode?1:I===I?(I>p.highWaterMark&&(p.highWaterMark=P(I)),I<=p.length?I:p.ended?p.length:(p.needReadable=!0,0)):p.flowing&&p.length?p.buffer.head.data.length:p.length}function k(I,p){if(se("onEofChunk"),!p.ended){if(p.decoder){var S=p.decoder.end();S&&S.length&&(p.buffer.push(S),p.length+=p.objectMode?1:S.length)}p.ended=!0,p.sync?R(I):(p.needReadable=!1,!p.emittedReadable&&(p.emittedReadable=!0,j(I)))}}function R(I){var p=I._readableState;se("emitReadable",p.needReadable,p.emittedReadable),p.needReadable=!1,p.emittedReadable||(se("emitReadable",p.flowing),p.emittedReadable=!0,c.nextTick(j,I))}function j(I){var p=I._readableState;se("emitReadable_",p.destroyed,p.length,p.ended),!p.destroyed&&(p.length||p.ended)&&(I.emit("readable"),p.emittedReadable=!1),p.needReadable=!p.flowing&&!p.ended&&p.length<=p.highWaterMark,ue(I)}function D(I,p){p.readingMore||(p.readingMore=!0,c.nextTick(O,I,p))}function O(I,p){for(;!p.reading&&!p.ended&&(p.length<p.highWaterMark||p.flowing&&p.length===0);){var S=p.length;if(se("maybeReadMore read 0"),I.read(0),S===p.length)break}p.readingMore=!1}function M(I){return function(){var p=I._readableState;se("pipeOnDrain",p.awaitDrain),p.awaitDrain&&p.awaitDrain--,p.awaitDrain===0&&me(I,"data")&&(p.flowing=!0,ue(I))}}function Q(I){var p=I._readableState;p.readableListening=0<I.listenerCount("readable"),p.resumeScheduled&&!p.paused?p.flowing=!0:0<I.listenerCount("data")&&I.resume()}function z(I){se("readable nexttick read 0"),I.read(0)}function q(I,p){p.resumeScheduled||(p.resumeScheduled=!0,c.nextTick(re,I,p))}function re(I,p){se("resume",p.reading),p.reading||I.read(0),p.resumeScheduled=!1,I.emit("resume"),ue(I),p.flowing&&!p.reading&&I.read(0)}function ue(I){var p=I._readableState;for(se("flow",p.flowing);p.flowing&&I.read()!==null;);}function xe(I,p){if(p.length===0)return null;var S;return p.objectMode?S=p.buffer.shift():!I||I>=p.length?(S=p.decoder?p.buffer.join(""):p.buffer.length===1?p.buffer.first():p.buffer.concat(p.length),p.buffer.clear()):S=p.buffer.consume(I,p.decoder),S}function Pe(I){var p=I._readableState;se("endReadable",p.endEmitted),p.endEmitted||(p.ended=!0,c.nextTick(Re,p,I))}function Re(I,p){if(se("endReadableNT",I.endEmitted,I.length),!I.endEmitted&&I.length===0&&(I.endEmitted=!0,p.readable=!1,p.emit("end"),I.autoDestroy)){var S=p._writableState;(!S||S.autoDestroy&&S.finished)&&p.destroy()}}function Se(I,p){for(var S=0,A=I.length;S<A;S++)if(I[S]===p)return S;return-1}u.exports=b;var oe;b.ReadableState=v;var se;o("events").EventEmitter;var me=function(I,p){return I.listeners(p).length},V=o("./internal/streams/stream"),H=o("buffer").Buffer,ce=d.Uint8Array||function(){},ne=o("util");se=ne&&ne.debuglog?ne.debuglog("stream"):function(){};var Z,he,_e,Me=o("./internal/streams/buffer_list"),Fe=o("./internal/streams/destroy"),We=o("./internal/streams/state"),St=We.getHighWaterMark,ft=o("../errors").codes,at=ft.ERR_INVALID_ARG_TYPE,kt=ft.ERR_STREAM_PUSH_AFTER_EOF,Y=ft.ERR_METHOD_NOT_IMPLEMENTED,ee=ft.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;o("inherits")(b,V);var fe=Fe.errorOrDestroy,Ae=["error","close","destroy","pause","resume"];Object.defineProperty(b.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(I){this._readableState&&(this._readableState.destroyed=I)}}),b.prototype.destroy=Fe.destroy,b.prototype._undestroy=Fe.undestroy,b.prototype._destroy=function(I,p){p(I)},b.prototype.push=function(I,p){var S,A=this._readableState;return A.objectMode?S=!0:typeof I=="string"&&(p=p||A.defaultEncoding,p!==A.encoding&&(I=H.from(I,p),p=""),S=!0),x(this,I,p,!1,S)},b.prototype.unshift=function(I){return x(this,I,null,!0,!1)},b.prototype.isPaused=function(){return this._readableState.flowing===!1},b.prototype.setEncoding=function(I){Z||(Z=o("string_decoder/").StringDecoder);var p=new Z(I);this._readableState.decoder=p,this._readableState.encoding=this._readableState.decoder.encoding;for(var S=this._readableState.buffer.head,A="";S!==null;)A+=p.write(S.data),S=S.next;return this._readableState.buffer.clear(),A!==""&&this._readableState.buffer.push(A),this._readableState.length=A.length,this},b.prototype.read=function(I){se("read",I),I=parseInt(I,10);var p=this._readableState,S=I;if(I!==0&&(p.emittedReadable=!1),I===0&&p.needReadable&&((p.highWaterMark===0?0<p.length:p.length>=p.highWaterMark)||p.ended))return se("read: emitReadable",p.length,p.ended),p.length===0&&p.ended?Pe(this):R(this),null;if(I=N(I,p),I===0&&p.ended)return p.length===0&&Pe(this),null;var A=p.needReadable;se("need readable",A),(p.length===0||p.length-I<p.highWaterMark)&&(A=!0,se("length less than watermark",A)),p.ended||p.reading?(A=!1,se("reading or ended",A)):A&&(se("do read"),p.reading=!0,p.sync=!0,p.length===0&&(p.needReadable=!0),this._read(p.highWaterMark),p.sync=!1,!p.reading&&(I=N(S,p)));var F;return F=0<I?xe(I,p):null,F===null?(p.needReadable=p.length<=p.highWaterMark,I=0):(p.length-=I,p.awaitDrain=0),p.length===0&&(!p.ended&&(p.needReadable=!0),S!==I&&p.ended&&Pe(this)),F!==null&&this.emit("data",F),F},b.prototype._read=function(){fe(this,new Y("_read()"))},b.prototype.pipe=function(I,p){function S(rn,kr){se("onunpipe"),rn===Ve&&kr&&kr.hasUnpiped===!1&&(kr.hasUnpiped=!0,F())}function A(){se("onend"),I.end()}function F(){se("cleanup"),I.removeListener("close",Ee),I.removeListener("finish",$e),I.removeListener("drain",zr),I.removeListener("error",te),I.removeListener("unpipe",S),Ve.removeListener("end",A),Ve.removeListener("end",Qe),Ve.removeListener("data",W),tn=!0,Be.awaitDrain&&(!I._writableState||I._writableState.needDrain)&&zr()}function W(rn){se("ondata");var kr=I.write(rn);se("dest.write",kr),kr===!1&&((Be.pipesCount===1&&Be.pipes===I||1<Be.pipesCount&&Se(Be.pipes,I)!==-1)&&!tn&&(se("false write response, pause",Be.awaitDrain),Be.awaitDrain++),Ve.pause())}function te(rn){se("onerror",rn),Qe(),I.removeListener("error",te),me(I,"error")===0&&fe(I,rn)}function Ee(){I.removeListener("finish",$e),Qe()}function $e(){se("onfinish"),I.removeListener("close",Ee),Qe()}function Qe(){se("unpipe"),Ve.unpipe(I)}var Ve=this,Be=this._readableState;switch(Be.pipesCount){case 0:Be.pipes=I;break;case 1:Be.pipes=[Be.pipes,I];break;default:Be.pipes.push(I)}Be.pipesCount+=1,se("pipe count=%d opts=%j",Be.pipesCount,p);var ot=(!p||p.end!==!1)&&I!==c.stdout&&I!==c.stderr,Mr=ot?A:Qe;Be.endEmitted?c.nextTick(Mr):Ve.once("end",Mr),I.on("unpipe",S);var zr=M(Ve);I.on("drain",zr);var tn=!1;return Ve.on("data",W),m(I,"error",te),I.once("close",Ee),I.once("finish",$e),I.emit("pipe",Ve),Be.flowing||(se("pipe resume"),Ve.resume()),I},b.prototype.unpipe=function(I){var p=this._readableState,S={hasUnpiped:!1};if(p.pipesCount===0)return this;if(p.pipesCount===1)return I&&I!==p.pipes?this:(I||(I=p.pipes),p.pipes=null,p.pipesCount=0,p.flowing=!1,I&&I.emit("unpipe",this,S),this);if(!I){var A=p.pipes,F=p.pipesCount;p.pipes=null,p.pipesCount=0,p.flowing=!1;for(var W=0;W<F;W++)A[W].emit("unpipe",this,{hasUnpiped:!1});return this}var te=Se(p.pipes,I);return te===-1?this:(p.pipes.splice(te,1),p.pipesCount-=1,p.pipesCount===1&&(p.pipes=p.pipes[0]),I.emit("unpipe",this,S),this)},b.prototype.on=function(I,p){var S=V.prototype.on.call(this,I,p),A=this._readableState;return I==="data"?(A.readableListening=0<this.listenerCount("readable"),A.flowing!==!1&&this.resume()):I=="readable"&&!A.endEmitted&&!A.readableListening&&(A.readableListening=A.needReadable=!0,A.flowing=!1,A.emittedReadable=!1,se("on readable",A.length,A.reading),A.length?R(this):!A.reading&&c.nextTick(z,this)),S},b.prototype.addListener=b.prototype.on,b.prototype.removeListener=function(I,p){var S=V.prototype.removeListener.call(this,I,p);return I==="readable"&&c.nextTick(Q,this),S},b.prototype.removeAllListeners=function(I){var p=V.prototype.removeAllListeners.apply(this,arguments);return(I==="readable"||I===void 0)&&c.nextTick(Q,this),p},b.prototype.resume=function(){var I=this._readableState;return I.flowing||(se("resume"),I.flowing=!I.readableListening,q(this,I)),I.paused=!1,this},b.prototype.pause=function(){return se("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(se("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},b.prototype.wrap=function(I){var p=this,S=this._readableState,A=!1;for(var F in I.on("end",function(){if(se("wrapped end"),S.decoder&&!S.ended){var te=S.decoder.end();te&&te.length&&p.push(te)}p.push(null)}),I.on("data",function(te){if(se("wrapped data"),S.decoder&&(te=S.decoder.write(te)),!(S.objectMode&&te==null)&&(S.objectMode||te&&te.length)){var Ee=p.push(te);Ee||(A=!0,I.pause())}}),I)this[F]===void 0&&typeof I[F]=="function"&&(this[F]=(function(te){return function(){return I[te].apply(I,arguments)}})(F));for(var W=0;W<Ae.length;W++)I.on(Ae[W],this.emit.bind(this,Ae[W]));return this._read=function(te){se("wrapped _read",te),A&&(A=!1,I.resume())},this},typeof Symbol=="function"&&(b.prototype[Symbol.asyncIterator]=function(){return he===void 0&&(he=o("./internal/streams/async_iterator")),he(this)}),Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(b.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(b.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(I){this._readableState&&(this._readableState.flowing=I)}}),b._fromList=xe,Object.defineProperty(b.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(b.from=function(I,p){return _e===void 0&&(_e=o("./internal/streams/from")),_e(b,I,p)})}).call(this)}).call(this,o("_process"),typeof Rr>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Rr)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/async_iterator":21,"./internal/streams/buffer_list":22,"./internal/streams/destroy":23,"./internal/streams/from":25,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,events:7,inherits:10,"string_decoder/":31,util:2}],19:[function(o,u){function c(P,N){var k=this._transformState;k.transforming=!1;var R=k.writecb;if(R===null)return this.emit("error",new b);k.writechunk=null,k.writecb=null,N!=null&&this.push(N),R(P);var j=this._readableState;j.reading=!1,(j.needReadable||j.length<j.highWaterMark)&&this._read(j.highWaterMark)}function d(P){return this instanceof d?(C.call(this,P),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,P&&(typeof P.transform=="function"&&(this._transform=P.transform),typeof P.flush=="function"&&(this._flush=P.flush)),void this.on("prefinish",f)):new d(P)}function f(){var P=this;typeof this._flush!="function"||this._readableState.destroyed?y(this,null,null):this._flush(function(N,k){y(P,N,k)})}function y(P,N,k){if(N)return P.emit("error",N);if(k!=null&&P.push(k),P._writableState.length)throw new E;if(P._transformState.transforming)throw new x;return P.push(null)}u.exports=d;var m=o("../errors").codes,v=m.ERR_METHOD_NOT_IMPLEMENTED,b=m.ERR_MULTIPLE_CALLBACK,x=m.ERR_TRANSFORM_ALREADY_TRANSFORMING,E=m.ERR_TRANSFORM_WITH_LENGTH_0,C=o("./_stream_duplex");o("inherits")(d,C),d.prototype.push=function(P,N){return this._transformState.needTransform=!1,C.prototype.push.call(this,P,N)},d.prototype._transform=function(P,N,k){k(new v("_transform()"))},d.prototype._write=function(P,N,k){var R=this._transformState;if(R.writecb=k,R.writechunk=P,R.writeencoding=N,!R.transforming){var j=this._readableState;(R.needTransform||j.needReadable||j.length<j.highWaterMark)&&this._read(j.highWaterMark)}},d.prototype._read=function(){var P=this._transformState;P.writechunk===null||P.transforming?P.needTransform=!0:(P.transforming=!0,this._transform(P.writechunk,P.writeencoding,P.afterTransform))},d.prototype._destroy=function(P,N){C.prototype._destroy.call(this,P,function(k){N(k)})}},{"../errors":15,"./_stream_duplex":16,inherits:10}],20:[function(o,u){(function(c,d){(function(){function f(Y){var ee=this;this.next=null,this.entry=null,this.finish=function(){Pe(ee,Y)}}function y(Y){return se.from(Y)}function m(Y){return se.isBuffer(Y)||Y instanceof me}function v(){}function b(Y,ee,fe){Re=Re||o("./_stream_duplex"),Y=Y||{},typeof fe!="boolean"&&(fe=ee instanceof Re),this.objectMode=!!Y.objectMode,fe&&(this.objectMode=this.objectMode||!!Y.writableObjectMode),this.highWaterMark=ce(this,Y,"writableHighWaterMark",fe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ae=Y.decodeStrings===!1;this.decodeStrings=!Ae,this.defaultEncoding=Y.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(I){D(ee,I)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Y.emitClose!==!1,this.autoDestroy=!!Y.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}function x(Y){Re=Re||o("./_stream_duplex");var ee=this instanceof Re;return ee||kt.call(x,this)?(this._writableState=new b(Y,this,ee),this.writable=!0,Y&&(typeof Y.write=="function"&&(this._write=Y.write),typeof Y.writev=="function"&&(this._writev=Y.writev),typeof Y.destroy=="function"&&(this._destroy=Y.destroy),typeof Y.final=="function"&&(this._final=Y.final)),void oe.call(this)):new x(Y)}function E(Y,ee){var fe=new St;at(Y,fe),c.nextTick(ee,fe)}function C(Y,ee,fe,Ae){var I;return fe===null?I=new We:typeof fe!="string"&&!ee.objectMode&&(I=new Z("chunk",["string","Buffer"],fe)),!I||(at(Y,I),c.nextTick(Ae,I),!1)}function P(Y,ee,fe){return Y.objectMode||Y.decodeStrings===!1||typeof ee!="string"||(ee=se.from(ee,fe)),ee}function N(Y,ee,fe,Ae,I,p){if(!fe){var S=P(ee,Ae,I);Ae!==S&&(fe=!0,I="buffer",Ae=S)}var A=ee.objectMode?1:Ae.length;ee.length+=A;var F=ee.length<ee.highWaterMark;if(F||(ee.needDrain=!0),ee.writing||ee.corked){var W=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:Ae,encoding:I,isBuf:fe,callback:p,next:null},W?W.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else k(Y,ee,!1,A,Ae,I,p);return F}function k(Y,ee,fe,Ae,I,p,S){ee.writelen=Ae,ee.writecb=S,ee.writing=!0,ee.sync=!0,ee.destroyed?ee.onwrite(new Fe("write")):fe?Y._writev(I,ee.onwrite):Y._write(I,p,ee.onwrite),ee.sync=!1}function R(Y,ee,fe,Ae,I){--ee.pendingcb,fe?(c.nextTick(I,Ae),c.nextTick(ue,Y,ee),Y._writableState.errorEmitted=!0,at(Y,Ae)):(I(Ae),Y._writableState.errorEmitted=!0,at(Y,Ae),ue(Y,ee))}function j(Y){Y.writing=!1,Y.writecb=null,Y.length-=Y.writelen,Y.writelen=0}function D(Y,ee){var fe=Y._writableState,Ae=fe.sync,I=fe.writecb;if(typeof I!="function")throw new _e;if(j(fe),ee)R(Y,fe,Ae,ee,I);else{var p=z(fe)||Y.destroyed;p||fe.corked||fe.bufferProcessing||!fe.bufferedRequest||Q(Y,fe),Ae?c.nextTick(O,Y,fe,p,I):O(Y,fe,p,I)}}function O(Y,ee,fe,Ae){fe||M(Y,ee),ee.pendingcb--,Ae(),ue(Y,ee)}function M(Y,ee){ee.length===0&&ee.needDrain&&(ee.needDrain=!1,Y.emit("drain"))}function Q(Y,ee){ee.bufferProcessing=!0;var fe=ee.bufferedRequest;if(Y._writev&&fe&&fe.next){var Ae=ee.bufferedRequestCount,I=Array(Ae),p=ee.corkedRequestsFree;p.entry=fe;for(var S=0,A=!0;fe;)I[S]=fe,fe.isBuf||(A=!1),fe=fe.next,S+=1;I.allBuffers=A,k(Y,ee,!0,ee.length,I,"",p.finish),ee.pendingcb++,ee.lastBufferedRequest=null,p.next?(ee.corkedRequestsFree=p.next,p.next=null):ee.corkedRequestsFree=new f(ee),ee.bufferedRequestCount=0}else{for(;fe;){var F=fe.chunk,W=fe.encoding,te=fe.callback,Ee=ee.objectMode?1:F.length;if(k(Y,ee,!1,Ee,F,W,te),fe=fe.next,ee.bufferedRequestCount--,ee.writing)break}fe===null&&(ee.lastBufferedRequest=null)}ee.bufferedRequest=fe,ee.bufferProcessing=!1}function z(Y){return Y.ending&&Y.length===0&&Y.bufferedRequest===null&&!Y.finished&&!Y.writing}function q(Y,ee){Y._final(function(fe){ee.pendingcb--,fe&&at(Y,fe),ee.prefinished=!0,Y.emit("prefinish"),ue(Y,ee)})}function re(Y,ee){ee.prefinished||ee.finalCalled||(typeof Y._final!="function"||ee.destroyed?(ee.prefinished=!0,Y.emit("prefinish")):(ee.pendingcb++,ee.finalCalled=!0,c.nextTick(q,Y,ee)))}function ue(Y,ee){var fe=z(ee);if(fe&&(re(Y,ee),ee.pendingcb===0&&(ee.finished=!0,Y.emit("finish"),ee.autoDestroy))){var Ae=Y._readableState;(!Ae||Ae.autoDestroy&&Ae.endEmitted)&&Y.destroy()}return fe}function xe(Y,ee,fe){ee.ending=!0,ue(Y,ee),fe&&(ee.finished?c.nextTick(fe):Y.once("finish",fe)),ee.ended=!0,Y.writable=!1}function Pe(Y,ee,fe){var Ae=Y.entry;for(Y.entry=null;Ae;){var I=Ae.callback;ee.pendingcb--,I(fe),Ae=Ae.next}ee.corkedRequestsFree.next=Y}u.exports=x;var Re;x.WritableState=b;var Se={deprecate:o("util-deprecate")},oe=o("./internal/streams/stream"),se=o("buffer").Buffer,me=d.Uint8Array||function(){},V=o("./internal/streams/destroy"),H=o("./internal/streams/state"),ce=H.getHighWaterMark,ne=o("../errors").codes,Z=ne.ERR_INVALID_ARG_TYPE,he=ne.ERR_METHOD_NOT_IMPLEMENTED,_e=ne.ERR_MULTIPLE_CALLBACK,Me=ne.ERR_STREAM_CANNOT_PIPE,Fe=ne.ERR_STREAM_DESTROYED,We=ne.ERR_STREAM_NULL_VALUES,St=ne.ERR_STREAM_WRITE_AFTER_END,ft=ne.ERR_UNKNOWN_ENCODING,at=V.errorOrDestroy;o("inherits")(x,oe),b.prototype.getBuffer=function(){for(var Y=this.bufferedRequest,ee=[];Y;)ee.push(Y),Y=Y.next;return ee},(function(){try{Object.defineProperty(b.prototype,"buffer",{get:Se.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var kt;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(kt=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(Y){return!!kt.call(this,Y)||this===x&&Y&&Y._writableState instanceof b}})):kt=function(Y){return Y instanceof this},x.prototype.pipe=function(){at(this,new Me)},x.prototype.write=function(Y,ee,fe){var Ae=this._writableState,I=!1,p=!Ae.objectMode&&m(Y);return p&&!se.isBuffer(Y)&&(Y=y(Y)),typeof ee=="function"&&(fe=ee,ee=null),p?ee="buffer":!ee&&(ee=Ae.defaultEncoding),typeof fe!="function"&&(fe=v),Ae.ending?E(this,fe):(p||C(this,Ae,Y,fe))&&(Ae.pendingcb++,I=N(this,Ae,p,Y,ee,fe)),I},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var Y=this._writableState;Y.corked&&(Y.corked--,!Y.writing&&!Y.corked&&!Y.bufferProcessing&&Y.bufferedRequest&&Q(this,Y))},x.prototype.setDefaultEncoding=function(Y){if(typeof Y=="string"&&(Y=Y.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Y+"").toLowerCase())))throw new ft(Y);return this._writableState.defaultEncoding=Y,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(Y,ee,fe){fe(new he("_write()"))},x.prototype._writev=null,x.prototype.end=function(Y,ee,fe){var Ae=this._writableState;return typeof Y=="function"?(fe=Y,Y=null,ee=null):typeof ee=="function"&&(fe=ee,ee=null),Y!=null&&this.write(Y,ee),Ae.corked&&(Ae.corked=1,this.uncork()),Ae.ending||xe(this,Ae,fe),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Y){this._writableState&&(this._writableState.destroyed=Y)}}),x.prototype.destroy=V.destroy,x.prototype._undestroy=V.undestroy,x.prototype._destroy=function(Y,ee){ee(Y)}}).call(this)}).call(this,o("_process"),typeof Rr>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Rr)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/destroy":23,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,inherits:10,"util-deprecate":32}],21:[function(o,u){(function(c){(function(){function d(M,Q,z){return Q in M?Object.defineProperty(M,Q,{value:z,enumerable:!0,configurable:!0,writable:!0}):M[Q]=z,M}function f(M,Q){return{value:M,done:Q}}function y(M){var Q=M[E];if(Q!==null){var z=M[j].read();z!==null&&(M[k]=null,M[E]=null,M[C]=null,Q(f(z,!1)))}}function m(M){c.nextTick(y,M)}function v(M,Q){return function(z,q){M.then(function(){return Q[N]?void z(f(void 0,!0)):void Q[R](z,q)},q)}}var b,x=o("./end-of-stream"),E=Symbol("lastResolve"),C=Symbol("lastReject"),P=Symbol("error"),N=Symbol("ended"),k=Symbol("lastPromise"),R=Symbol("handlePromise"),j=Symbol("stream"),D=Object.getPrototypeOf(function(){}),O=Object.setPrototypeOf((b={get stream(){return this[j]},next:function(){var M=this,Q=this[P];if(Q!==null)return Promise.reject(Q);if(this[N])return Promise.resolve(f(void 0,!0));if(this[j].destroyed)return new Promise(function(ue,xe){c.nextTick(function(){M[P]?xe(M[P]):ue(f(void 0,!0))})});var z,q=this[k];if(q)z=new Promise(v(q,this));else{var re=this[j].read();if(re!==null)return Promise.resolve(f(re,!1));z=new Promise(this[R])}return this[k]=z,z}},d(b,Symbol.asyncIterator,function(){return this}),d(b,"return",function(){var M=this;return new Promise(function(Q,z){M[j].destroy(null,function(q){return q?void z(q):void Q(f(void 0,!0))})})}),b),D);u.exports=function(M){var Q,z=Object.create(O,(Q={},d(Q,j,{value:M,writable:!0}),d(Q,E,{value:null,writable:!0}),d(Q,C,{value:null,writable:!0}),d(Q,P,{value:null,writable:!0}),d(Q,N,{value:M._readableState.endEmitted,writable:!0}),d(Q,R,{value:function(q,re){var ue=z[j].read();ue?(z[k]=null,z[E]=null,z[C]=null,q(f(ue,!1))):(z[E]=q,z[C]=re)},writable:!0}),Q));return z[k]=null,x(M,function(q){if(q&&q.code!=="ERR_STREAM_PREMATURE_CLOSE"){var re=z[C];return re!==null&&(z[k]=null,z[E]=null,z[C]=null,re(q)),void(z[P]=q)}var ue=z[E];ue!==null&&(z[k]=null,z[E]=null,z[C]=null,ue(f(void 0,!0))),z[N]=!0}),M.on("readable",m.bind(null,z)),z}}).call(this)}).call(this,o("_process"))},{"./end-of-stream":24,_process:12}],22:[function(o,u){function c(k,R){var j=Object.keys(k);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(k);R&&(D=D.filter(function(O){return Object.getOwnPropertyDescriptor(k,O).enumerable})),j.push.apply(j,D)}return j}function d(k){for(var R,j=1;j<arguments.length;j++)R=arguments[j]==null?{}:arguments[j],j%2?c(Object(R),!0).forEach(function(D){f(k,D,R[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(R)):c(Object(R)).forEach(function(D){Object.defineProperty(k,D,Object.getOwnPropertyDescriptor(R,D))});return k}function f(k,R,j){return R in k?Object.defineProperty(k,R,{value:j,enumerable:!0,configurable:!0,writable:!0}):k[R]=j,k}function y(k,R){if(!(k instanceof R))throw new TypeError("Cannot call a class as a function")}function m(k,R){for(var j,D=0;D<R.length;D++)j=R[D],j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(k,j.key,j)}function v(k,R,j){return R&&m(k.prototype,R),k}function b(k,R,j){E.prototype.copy.call(k,R,j)}var x=o("buffer"),E=x.Buffer,C=o("util"),P=C.inspect,N=P&&P.custom||"inspect";u.exports=(function(){function k(){y(this,k),this.head=null,this.tail=null,this.length=0}return v(k,[{key:"push",value:function(R){var j={data:R,next:null};0<this.length?this.tail.next=j:this.head=j,this.tail=j,++this.length}},{key:"unshift",value:function(R){var j={data:R,next:this.head};this.length===0&&(this.tail=j),this.head=j,++this.length}},{key:"shift",value:function(){if(this.length!==0){var R=this.head.data;return this.head=this.length===1?this.tail=null:this.head.next,--this.length,R}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(R){if(this.length===0)return"";for(var j=this.head,D=""+j.data;j=j.next;)D+=R+j.data;return D}},{key:"concat",value:function(R){if(this.length===0)return E.alloc(0);for(var j=E.allocUnsafe(R>>>0),D=this.head,O=0;D;)b(D.data,j,O),O+=D.data.length,D=D.next;return j}},{key:"consume",value:function(R,j){var D;return R<this.head.data.length?(D=this.head.data.slice(0,R),this.head.data=this.head.data.slice(R)):R===this.head.data.length?D=this.shift():D=j?this._getString(R):this._getBuffer(R),D}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(R){var j=this.head,D=1,O=j.data;for(R-=O.length;j=j.next;){var M=j.data,Q=R>M.length?M.length:R;if(O+=Q===M.length?M:M.slice(0,R),R-=Q,R===0){Q===M.length?(++D,this.head=j.next?j.next:this.tail=null):(this.head=j,j.data=M.slice(Q));break}++D}return this.length-=D,O}},{key:"_getBuffer",value:function(R){var j=E.allocUnsafe(R),D=this.head,O=1;for(D.data.copy(j),R-=D.data.length;D=D.next;){var M=D.data,Q=R>M.length?M.length:R;if(M.copy(j,j.length-R,0,Q),R-=Q,R===0){Q===M.length?(++O,this.head=D.next?D.next:this.tail=null):(this.head=D,D.data=M.slice(Q));break}++O}return this.length-=O,j}},{key:N,value:function(R,j){return P(this,d({},j,{depth:0,customInspect:!1}))}}]),k})()},{buffer:3,util:2}],23:[function(o,u){(function(c){(function(){function d(m,v){y(m,v),f(m)}function f(m){m._writableState&&!m._writableState.emitClose||m._readableState&&!m._readableState.emitClose||m.emit("close")}function y(m,v){m.emit("error",v)}u.exports={destroy:function(m,v){var b=this,x=this._readableState&&this._readableState.destroyed,E=this._writableState&&this._writableState.destroyed;return x||E?(v?v(m):m&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,c.nextTick(y,this,m)):c.nextTick(y,this,m)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(m||null,function(C){!v&&C?b._writableState?b._writableState.errorEmitted?c.nextTick(f,b):(b._writableState.errorEmitted=!0,c.nextTick(d,b,C)):c.nextTick(d,b,C):v?(c.nextTick(f,b),v(C)):c.nextTick(f,b)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(m,v){var b=m._readableState,x=m._writableState;b&&b.autoDestroy||x&&x.autoDestroy?m.destroy(v):m.emit("error",v)}}}).call(this)}).call(this,o("_process"))},{_process:12}],24:[function(o,u){function c(v){var b=!1;return function(){if(!b){b=!0;for(var x=arguments.length,E=Array(x),C=0;C<x;C++)E[C]=arguments[C];v.apply(this,E)}}}function d(){}function f(v){return v.setHeader&&typeof v.abort=="function"}function y(v,b,x){if(typeof b=="function")return y(v,null,b);b||(b={}),x=c(x||d);var E=b.readable||b.readable!==!1&&v.readable,C=b.writable||b.writable!==!1&&v.writable,P=function(){v.writable||k()},N=v._writableState&&v._writableState.finished,k=function(){C=!1,N=!0,E||x.call(v)},R=v._readableState&&v._readableState.endEmitted,j=function(){E=!1,R=!0,C||x.call(v)},D=function(Q){x.call(v,Q)},O=function(){var Q;return E&&!R?(v._readableState&&v._readableState.ended||(Q=new m),x.call(v,Q)):C&&!N?(v._writableState&&v._writableState.ended||(Q=new m),x.call(v,Q)):void 0},M=function(){v.req.on("finish",k)};return f(v)?(v.on("complete",k),v.on("abort",O),v.req?M():v.on("request",M)):C&&!v._writableState&&(v.on("end",P),v.on("close",P)),v.on("end",j),v.on("finish",k),b.error!==!1&&v.on("error",D),v.on("close",O),function(){v.removeListener("complete",k),v.removeListener("abort",O),v.removeListener("request",M),v.req&&v.req.removeListener("finish",k),v.removeListener("end",P),v.removeListener("close",P),v.removeListener("finish",k),v.removeListener("end",j),v.removeListener("error",D),v.removeListener("close",O)}}var m=o("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;u.exports=y},{"../../../errors":15}],25:[function(o,u){u.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],26:[function(o,u){function c(N){var k=!1;return function(){k||(k=!0,N.apply(void 0,arguments))}}function d(N){if(N)throw N}function f(N){return N.setHeader&&typeof N.abort=="function"}function y(N,k,R,j){j=c(j);var D=!1;N.on("close",function(){D=!0}),x===void 0&&(x=o("./end-of-stream")),x(N,{readable:k,writable:R},function(M){return M?j(M):(D=!0,void j())});var O=!1;return function(M){if(!D)return O?void 0:(O=!0,f(N)?N.abort():typeof N.destroy=="function"?N.destroy():void j(M||new P("pipe")))}}function m(N){N()}function v(N,k){return N.pipe(k)}function b(N){return N.length&&typeof N[N.length-1]=="function"?N.pop():d}var x,E=o("../../../errors").codes,C=E.ERR_MISSING_ARGS,P=E.ERR_STREAM_DESTROYED;u.exports=function(){for(var N=arguments.length,k=Array(N),R=0;R<N;R++)k[R]=arguments[R];var j=b(k);if(Array.isArray(k[0])&&(k=k[0]),2>k.length)throw new C("streams");var D,O=k.map(function(M,Q){var z=Q<k.length-1;return y(M,z,0<Q,function(q){D||(D=q),q&&O.forEach(m),z||(O.forEach(m),j(D))})});return k.reduce(v)}},{"../../../errors":15,"./end-of-stream":24}],27:[function(o,u){function c(f,y,m){return f.highWaterMark==null?y?f[m]:null:f.highWaterMark}var d=o("../../../errors").codes.ERR_INVALID_OPT_VALUE;u.exports={getHighWaterMark:function(f,y,m,v){var b=c(y,v,m);if(b!=null){if(!(isFinite(b)&&r(b)===b)||0>b){var x=v?m:"highWaterMark";throw new d(x,b)}return r(b)}return f.objectMode?16:16384}}},{"../../../errors":15}],28:[function(o,u){u.exports=o("events").EventEmitter},{events:7}],29:[function(o,u,c){c=u.exports=o("./lib/_stream_readable.js"),c.Stream=c,c.Readable=c,c.Writable=o("./lib/_stream_writable.js"),c.Duplex=o("./lib/_stream_duplex.js"),c.Transform=o("./lib/_stream_transform.js"),c.PassThrough=o("./lib/_stream_passthrough.js"),c.finished=o("./lib/internal/streams/end-of-stream.js"),c.pipeline=o("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":16,"./lib/_stream_passthrough.js":17,"./lib/_stream_readable.js":18,"./lib/_stream_transform.js":19,"./lib/_stream_writable.js":20,"./lib/internal/streams/end-of-stream.js":24,"./lib/internal/streams/pipeline.js":26}],30:[function(o,u,c){function d(v,b){for(var x in v)b[x]=v[x]}function f(v,b,x){return m(v,b,x)}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var y=o("buffer"),m=y.Buffer;m.from&&m.alloc&&m.allocUnsafe&&m.allocUnsafeSlow?u.exports=y:(d(y,c),c.Buffer=f),f.prototype=Object.create(m.prototype),d(m,f),f.from=function(v,b,x){if(typeof v=="number")throw new TypeError("Argument must not be a number");return m(v,b,x)},f.alloc=function(v,b,x){if(typeof v!="number")throw new TypeError("Argument must be a number");var E=m(v);return b===void 0?E.fill(0):typeof x=="string"?E.fill(b,x):E.fill(b),E},f.allocUnsafe=function(v){if(typeof v!="number")throw new TypeError("Argument must be a number");return m(v)},f.allocUnsafeSlow=function(v){if(typeof v!="number")throw new TypeError("Argument must be a number");return y.SlowBuffer(v)}},{buffer:3}],31:[function(o,u,c){function d(O){if(!O)return"utf8";for(var M;;)switch(O){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return O;default:if(M)return;O=(""+O).toLowerCase(),M=!0}}function f(O){var M=d(O);if(typeof M!="string"&&(j.isEncoding===D||!D(O)))throw new Error("Unknown encoding: "+O);return M||O}function y(O){this.encoding=f(O);var M;switch(this.encoding){case"utf16le":this.text=E,this.end=C,M=4;break;case"utf8":this.fillLast=x,M=4;break;case"base64":this.text=P,this.end=N,M=3;break;default:return this.write=k,void(this.end=R)}this.lastNeed=0,this.lastTotal=0,this.lastChar=j.allocUnsafe(M)}function m(O){return 127>=O?0:O>>5==6?2:O>>4==14?3:O>>3==30?4:O>>6==2?-1:-2}function v(O,M,Q){var z=M.length-1;if(z<Q)return 0;var q=m(M[z]);return 0<=q?(0<q&&(O.lastNeed=q-1),q):--z<Q||q===-2?0:(q=m(M[z]),0<=q?(0<q&&(O.lastNeed=q-2),q):--z<Q||q===-2?0:(q=m(M[z]),0<=q?(0<q&&(q===2?q=0:O.lastNeed=q-3),q):0))}function b(O,M){if((192&M[0])!=128)return O.lastNeed=0,"";if(1<O.lastNeed&&1<M.length){if((192&M[1])!=128)return O.lastNeed=1,"";if(2<O.lastNeed&&2<M.length&&(192&M[2])!=128)return O.lastNeed=2,""}}function x(O){var M=this.lastTotal-this.lastNeed,Q=b(this,O);return Q===void 0?this.lastNeed<=O.length?(O.copy(this.lastChar,M,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(O.copy(this.lastChar,M,0,O.length),void(this.lastNeed-=O.length)):Q}function E(O,M){if((O.length-M)%2==0){var Q=O.toString("utf16le",M);if(Q){var z=Q.charCodeAt(Q.length-1);if(55296<=z&&56319>=z)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=O[O.length-2],this.lastChar[1]=O[O.length-1],Q.slice(0,-1)}return Q}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=O[O.length-1],O.toString("utf16le",M,O.length-1)}function C(O){var M=O&&O.length?this.write(O):"";if(this.lastNeed){var Q=this.lastTotal-this.lastNeed;return M+this.lastChar.toString("utf16le",0,Q)}return M}function P(O,M){var Q=(O.length-M)%3;return Q==0?O.toString("base64",M):(this.lastNeed=3-Q,this.lastTotal=3,Q==1?this.lastChar[0]=O[O.length-1]:(this.lastChar[0]=O[O.length-2],this.lastChar[1]=O[O.length-1]),O.toString("base64",M,O.length-Q))}function N(O){var M=O&&O.length?this.write(O):"";return this.lastNeed?M+this.lastChar.toString("base64",0,3-this.lastNeed):M}function k(O){return O.toString(this.encoding)}function R(O){return O&&O.length?this.write(O):""}var j=o("safe-buffer").Buffer,D=j.isEncoding||function(O){switch(O=""+O,O&&O.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};c.StringDecoder=y,y.prototype.write=function(O){if(O.length===0)return"";var M,Q;if(this.lastNeed){if(M=this.fillLast(O),M===void 0)return"";Q=this.lastNeed,this.lastNeed=0}else Q=0;return Q<O.length?M?M+this.text(O,Q):this.text(O,Q):M||""},y.prototype.end=function(O){var M=O&&O.length?this.write(O):"";return this.lastNeed?M+"":M},y.prototype.text=function(O,M){var Q=v(this,O,M);if(!this.lastNeed)return O.toString("utf8",M);this.lastTotal=Q;var z=O.length-(Q-this.lastNeed);return O.copy(this.lastChar,0,z),O.toString("utf8",M,z)},y.prototype.fillLast=function(O){return this.lastNeed<=O.length?(O.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(O.copy(this.lastChar,this.lastTotal-this.lastNeed,0,O.length),void(this.lastNeed-=O.length))}},{"safe-buffer":30}],32:[function(o,u){(function(c){(function(){function d(f){try{if(!c.localStorage)return!1}catch{return!1}var y=c.localStorage[f];return y!=null&&(y+"").toLowerCase()==="true"}u.exports=function(f,y){function m(){if(!v){if(d("throwDeprecation"))throw new Error(y);d("traceDeprecation")?console.trace(y):console.warn(y),v=!0}return f.apply(this,arguments)}if(d("noDeprecation"))return f;var v=!1;return m}}).call(this)}).call(this,typeof Rr>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Rr)},{}],"/":[function(o,u){function c(N){return N.replace(/a=ice-options:trickle\s\n/g,"")}function d(N){console.warn(N)}/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const f=o("debug")("simple-peer"),y=o("get-browser-rtc"),m=o("randombytes"),v=o("readable-stream"),b=o("queue-microtask"),x=o("err-code"),{Buffer:E}=o("buffer"),C=65536;class P extends v.Duplex{constructor(k){if(k=Object.assign({allowHalfOpen:!1},k),super(k),this._id=m(4).toString("hex").slice(0,7),this._debug("new peer %o",k),this.channelName=k.initiator?k.channelName||m(20).toString("hex"):null,this.initiator=k.initiator||!1,this.channelConfig=k.channelConfig||P.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},P.config,k.config),this.offerOptions=k.offerOptions||{},this.answerOptions=k.answerOptions||{},this.sdpTransform=k.sdpTransform||(R=>R),this.streams=k.streams||(k.stream?[k.stream]:[]),this.trickle=k.trickle===void 0||k.trickle,this.allowHalfTrickle=k.allowHalfTrickle!==void 0&&k.allowHalfTrickle,this.iceCompleteTimeout=k.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=k.wrtc&&typeof k.wrtc=="object"?k.wrtc:y(),!this._wrtc)throw x(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(R){return void this.destroy(x(R,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=R=>{this._onIceCandidate(R)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(R=>{this.destroy(x(R,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=R=>{this._setupData(R)},this.streams&&this.streams.forEach(R=>{this.addStream(R)}),this._pc.ontrack=R=>{this._onTrack(R)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(k){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof k=="string")try{k=JSON.parse(k)}catch{k={}}this._debug("signal()"),k.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),k.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(k.transceiverRequest.kind,k.transceiverRequest.init)),k.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(k.candidate):this._pendingCandidates.push(k.candidate)),k.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(k)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(R=>{this._addIceCandidate(R)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(R=>{this.destroy(x(R,"ERR_SET_REMOTE_DESCRIPTION"))}),k.sdp||k.candidate||k.renegotiate||k.transceiverRequest||this.destroy(x(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(k){const R=new this._wrtc.RTCIceCandidate(k);this._pc.addIceCandidate(R).catch(j=>{!R.address||R.address.endsWith(".local")?d("Ignoring unsupported ICE candidate."):this.destroy(x(j,"ERR_ADD_ICE_CANDIDATE"))})}send(k){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(k)}}addTransceiver(k,R){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(k,R),this._needsNegotiation()}catch(j){this.destroy(x(j,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:k,init:R}})}}addStream(k){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),k.getTracks().forEach(R=>{this.addTrack(R,k)})}}addTrack(k,R){if(this.destroying)return;if(this.destroyed)throw x(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const j=this._senderMap.get(k)||new Map;let D=j.get(R);if(!D)D=this._pc.addTrack(k,R),j.set(R,D),this._senderMap.set(k,j),this._needsNegotiation();else throw D.removed?x(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):x(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(k,R,j){if(this.destroying)return;if(this.destroyed)throw x(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const D=this._senderMap.get(k),O=D?D.get(j):null;if(!O)throw x(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");R&&this._senderMap.set(R,D),O.replaceTrack==null?this.destroy(x(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):O.replaceTrack(R)}removeTrack(k,R){if(this.destroying)return;if(this.destroyed)throw x(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const j=this._senderMap.get(k),D=j?j.get(R):null;if(!D)throw x(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{D.removed=!0,this._pc.removeTrack(D)}catch(O){O.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(D):this.destroy(x(O,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(k){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),k.getTracks().forEach(R=>{this.removeTrack(R,k)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,b(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(k){this._destroy(k,()=>{})}_destroy(k,R){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",k&&(k.message||k)),b(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",k&&(k.message||k)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,k&&this.emit("error",k),this.emit("close"),R()}))}_setupData(k){if(!k.channel)return this.destroy(x(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=k.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=C),this.channelName=this._channel.label,this._channel.onmessage=j=>{this._onChannelMessage(j)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=j=>{const D=j.error instanceof Error?j.error:new Error(`Datachannel error: ${j.message} ${j.filename}:${j.lineno}:${j.colno}`);this.destroy(x(D,"ERR_DATA_CHANNEL"))};let R=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(R&&this._onChannelClose(),R=!0):R=!1},5e3)}_read(){}_write(k,R,j){if(this.destroyed)return j(x(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(k)}catch(D){return this.destroy(x(D,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>C?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=j):j(null)}else this._debug("write before connect"),this._chunk=k,this._cb=j}_onFinish(){if(!this.destroyed){const k=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?k():this.once("connect",k)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(k=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(k.sdp=c(k.sdp)),k.sdp=this.sdpTransform(k.sdp);const R=()=>{if(!this.destroyed){const j=this._pc.localDescription||k;this._debug("signal"),this.emit("signal",{type:j.type,sdp:j.sdp})}};this._pc.setLocalDescription(k).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?R():this.once("_iceComplete",R))}).catch(j=>{this.destroy(x(j,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(k=>{this.destroy(x(k,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(k=>{k.mid||!k.sender.track||k.requested||(k.requested=!0,this.addTransceiver(k.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(k=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(k.sdp=c(k.sdp)),k.sdp=this.sdpTransform(k.sdp);const R=()=>{if(!this.destroyed){const j=this._pc.localDescription||k;this._debug("signal"),this.emit("signal",{type:j.type,sdp:j.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(k).then(()=>{this.destroyed||(this.trickle||this._iceComplete?R():this.once("_iceComplete",R))}).catch(j=>{this.destroy(x(j,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(k=>{this.destroy(x(k,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(x(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const k=this._pc.iceConnectionState,R=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",k,R),this.emit("iceStateChange",k,R),(k==="connected"||k==="completed")&&(this._pcReady=!0,this._maybeReady()),k==="failed"&&this.destroy(x(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),k==="closed"&&this.destroy(x(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(k){const R=j=>(Object.prototype.toString.call(j.values)==="[object Array]"&&j.values.forEach(D=>{Object.assign(j,D)}),j);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(j=>{const D=[];j.forEach(O=>{D.push(R(O))}),k(null,D)},j=>k(j)):0<this._pc.getStats.length?this._pc.getStats(j=>{if(this.destroyed)return;const D=[];j.result().forEach(O=>{const M={};O.names().forEach(Q=>{M[Q]=O.stat(Q)}),M.id=O.id,M.type=O.type,M.timestamp=O.timestamp,D.push(R(M))}),k(null,D)},j=>k(j)):k(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const k=()=>{this.destroyed||this.getStats((R,j)=>{if(this.destroyed)return;R&&(j=[]);const D={},O={},M={};let Q=!1;j.forEach(q=>{(q.type==="remotecandidate"||q.type==="remote-candidate")&&(D[q.id]=q),(q.type==="localcandidate"||q.type==="local-candidate")&&(O[q.id]=q),(q.type==="candidatepair"||q.type==="candidate-pair")&&(M[q.id]=q)});const z=q=>{Q=!0;let re=O[q.localCandidateId];re&&(re.ip||re.address)?(this.localAddress=re.ip||re.address,this.localPort=+re.port):re&&re.ipAddress?(this.localAddress=re.ipAddress,this.localPort=+re.portNumber):typeof q.googLocalAddress=="string"&&(re=q.googLocalAddress.split(":"),this.localAddress=re[0],this.localPort=+re[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let ue=D[q.remoteCandidateId];ue&&(ue.ip||ue.address)?(this.remoteAddress=ue.ip||ue.address,this.remotePort=+ue.port):ue&&ue.ipAddress?(this.remoteAddress=ue.ipAddress,this.remotePort=+ue.portNumber):typeof q.googRemoteAddress=="string"&&(ue=q.googRemoteAddress.split(":"),this.remoteAddress=ue[0],this.remotePort=+ue[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(j.forEach(q=>{q.type==="transport"&&q.selectedCandidatePairId&&z(M[q.selectedCandidatePairId]),(q.type==="googCandidatePair"&&q.googActiveConnection==="true"||(q.type==="candidatepair"||q.type==="candidate-pair")&&q.selected)&&z(q)}),!Q&&(!Object.keys(M).length||Object.keys(O).length))return void setTimeout(k,100);if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(re){return this.destroy(x(re,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const q=this._cb;this._cb=null,q(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};k()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>C)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(k=>{this._pc.removeTrack(k),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(k){this.destroyed||(k.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:k.candidate.candidate,sdpMLineIndex:k.candidate.sdpMLineIndex,sdpMid:k.candidate.sdpMid}}):!k.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),k.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(k){if(this.destroyed)return;let R=k.data;R instanceof ArrayBuffer&&(R=E.from(R)),this.push(R)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const k=this._cb;this._cb=null,k(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(k){this.destroyed||k.streams.forEach(R=>{this._debug("on track"),this.emit("track",k.track,R),this._remoteTracks.push({track:k.track,stream:R}),this._remoteStreams.some(j=>j.id===R.id)||(this._remoteStreams.push(R),b(()=>{this._debug("on stream"),this.emit("stream",R)}))})}_debug(){const k=[].slice.call(arguments);k[0]="["+this._id+"] "+k[0],f.apply(null,k)}}P.WEBRTC_SUPPORT=!!y(),P.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},P.channelConfig={},u.exports=P},{buffer:3,debug:4,"err-code":6,"get-browser-rtc":8,"queue-microtask":13,randombytes:14,"readable-stream":29}]},{},[])("/")})})(Zc)),Zc.exports}var OR=jR();const Jy=Sl(OR),I_=B.createContext(null),NR=({children:t})=>{const[e,r]=B.useState("idle"),[i,a]=B.useState(!1),[o,u]=B.useState(null),[c,d]=B.useState(null),[f,y]=B.useState(null),[m,v]=B.useState(!1),[b,x]=B.useState(!0),[E,C]=B.useState(0),P=B.useRef(null),N=B.useRef(null),k=B.useRef(null),R=B.useRef(null),j=B.useRef(null),D=B.useRef(null),O=B.useCallback(()=>{const H=localStorage.getItem("yolmov_partner");if(H)try{const Z=JSON.parse(H),he=Z.id||Z.partner_id;return console.log(" [CallContext] getCurrentUser - Partner found:",he),{id:he,type:"partner",name:Z.company_name||Z.name,phone:Z.phone}}catch(Z){console.error(" [CallContext] Error parsing partner data:",Z)}const ce=localStorage.getItem("yolmov_customer");if(ce)try{const Z=JSON.parse(ce);return console.log(" [CallContext] getCurrentUser - Customer found:",Z.id),{id:Z.id,type:"customer",name:Z.name,phone:Z.phone}}catch(Z){console.error(" [CallContext] Error parsing customer data:",Z)}let ne=localStorage.getItem("yolmov_anonymous_caller_id");return ne||(ne="anon_"+crypto.randomUUID(),localStorage.setItem("yolmov_anonymous_caller_id",ne)),console.log(" [CallContext] getCurrentUser - Anonymous:",ne),{id:ne,type:"customer",name:"Anonim Arayan",isAnonymous:!0}},[]);B.useEffect(()=>{console.log(" [CallContext] Setting up realtime subscription (global channel)");const H=K.channel("calls_global_incoming").on("postgres_changes",{event:"INSERT",schema:"public",table:"calls"},async ce=>{const ne=ce.new,Z=O();if(!Z){console.log(" [CallContext] No user found, ignoring call");return}if(console.log(" [CallContext] New call detected:",ne.id,"receiver:",ne.receiver_id,"my id:",Z.id),ne.receiver_id!==Z.id){console.log(" [CallContext] Call not for me, ignoring");return}if(ne.status!=="ringing")return;console.log(" [CallContext] Incoming call FOR ME!",ne);let he=null;if(ne.caller_id.startsWith("anon_"))he={name:"Anonim Arayan",phone:null};else if(ne.caller_type==="customer"){const{data:_e}=await K.from("customers").select("id, first_name, last_name, phone").eq("id",ne.caller_id).single();_e&&(he={name:`${_e.first_name||""} ${_e.last_name||""}`.trim()||"Mteri",phone:_e.phone})}else if(ne.caller_type==="partner"){const{data:_e}=await K.from("partners").select("id, company_name, phone").eq("id",ne.caller_id).single();_e&&(he={name:_e.company_name,phone:_e.phone})}a(!0),r("ringing"),d(he),u({id:ne.id,callerId:ne.caller_id,callerName:(he==null?void 0:he.name)||"Arayan",callerPhone:he==null?void 0:he.phone,callerType:ne.caller_type,receiverId:ne.receiver_id,receiverType:ne.receiver_type,status:"ringing",startedAt:ne.started_at}),j.current=ne.id,M()}).subscribe(ce=>{console.log(" [CallContext] Realtime subscription status:",ce)});return()=>{K.removeChannel(H)}},[]),B.useEffect(()=>{if(e!=="calling")return;console.log(" [CallContext] Setting up SDP answer listener...");const H=K.channel("call_updates_global").on("postgres_changes",{event:"UPDATE",schema:"public",table:"calls"},ce=>{const ne=ce.new,Z=j.current;if(!Z||ne.id!==Z){console.log(` [CallContext] Update received for call ${ne.id}, but my call is ${Z} - ignoring`);return}if(console.log(" [CallContext]  My call updated:",ne.status,"has answer:",!!ne.sdp_answer),ne.status==="rejected"||ne.status==="missed"){ue(ne.status);return}if(ne.sdp_answer&&k.current){console.log(" [CallContext] Got SDP answer from partner, signaling peer...");try{!k.current.destroyed&&!k.current.connected?(k.current.signal(ne.sdp_answer),console.log(" [CallContext]  SDP answer signaled to peer!")):console.log(" [CallContext] Peer already connected or destroyed, skipping signal")}catch(he){console.error(" [CallContext]  Error signaling peer:",he)}}}).subscribe(ce=>{console.log(" [CallContext] SDP answer subscription status:",ce)});return()=>{console.log(" [CallContext] Removing SDP answer subscription"),K.removeChannel(H)}},[e]);const M=()=>{try{const H=new Audio("/sounds/ringtone.mp3");H.loop=!0,H.play().catch(()=>{}),window.__yolmov_ringtone=H}catch{}},Q=()=>{try{const H=window.__yolmov_ringtone;H&&(H.pause(),H.currentTime=0,delete window.__yolmov_ringtone)}catch{}},z=()=>{C(0),D.current=setInterval(()=>{C(H=>H+1)},1e3)},q=()=>{D.current&&(clearInterval(D.current),D.current=null)},re=()=>{k.current&&(k.current.destroy(),k.current=null),R.current&&(R.current.getTracks().forEach(H=>H.stop()),R.current=null),Q(),q(),r("idle"),a(!1),u(null),d(null),y(null),v(!1),C(0),j.current=null},ue=H=>{console.log(" [CallContext] Call ended:",H),re(),r("ended"),setTimeout(()=>{r("idle")},2e3)},xe=async(H,ce="partner")=>{const ne=O();try{r("calling"),y(null),console.log(" [CallContext] Starting call to:",H);const Z=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1});R.current=Z,P.current&&(P.current.srcObject=Z,P.current.muted=!0);const he=new Jy({initiator:!0,trickle:!1,stream:Z,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]}});k.current=he,he.on("signal",async _e=>{console.log(" [CallContext] Got SDP offer, saving to DB...");const{data:Me,error:Fe}=await K.from("calls").insert({caller_id:ne.id,caller_type:ne.type,receiver_id:H,receiver_type:ce,status:"ringing",sdp_offer:_e}).select().single();if(Fe){console.error(" [CallContext] Error creating call:",Fe),y("Arama balatlamad"),re();return}if(j.current=Me.id,u({id:Me.id,callerId:ne.id,callerName:ne.name,callerType:ne.type,receiverId:H,receiverType:ce,status:"calling",startedAt:Me.started_at}),ce==="partner"){console.log(" [CallContext] Sending push notification to partner:",H);try{await fetch("/api/send-call-notification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({partnerId:H,callerName:ne.name||"Mteri",callerPhone:ne.phone||"",callId:Me.id})}),console.log(" [CallContext] Push notification sent")}catch(We){console.warn(" [CallContext] Push notification failed:",We)}}}),he.on("connect",()=>{console.log(" [CallContext] Peer connected!"),r("connected"),z(),j.current&&K.from("calls").update({status:"connected",connected_at:new Date().toISOString()}).eq("id",j.current).then(()=>{})}),he.on("stream",_e=>{console.log(" [CallContext] Got remote stream"),N.current&&(N.current.srcObject=_e,N.current.play().catch(()=>{}))}),he.on("error",_e=>{console.error(" [CallContext] Peer error:",_e),y("Balant hatas"),ue("error")}),he.on("close",()=>{console.log(" [CallContext] Peer closed"),ue("peer_closed")}),setTimeout(()=>{e==="calling"&&j.current&&(console.log(" [CallContext] Call timeout - no answer"),K.from("calls").update({status:"missed",ended_at:new Date().toISOString()}).eq("id",j.current).then(()=>{}),ue("timeout"))},3e4)}catch(Z){console.error(" [CallContext] Error starting call:",Z),y(Z.message||"Mikrofon eriimi reddedildi"),re()}},Pe=async()=>{if(!j.current||!o){y("Geersiz arama");return}const H=O();if((H==null?void 0:H.type)==="partner"&&!H.isAnonymous)try{const{data:ce}=await K.from("partner_credits").select("balance").eq("partner_id",H.id).maybeSingle(),ne=(ce==null?void 0:ce.balance)||0;if(ne<1){y("Yetersiz kredi! Aramay cevaplayabilmek iin en az 1 krediniz olmal."),await K.from("calls").update({status:"rejected",ended_at:new Date().toISOString(),end_reason:"insufficient_credits"}).eq("id",j.current),re();return}console.log(" [CallContext] Partner has",ne,"credits, deducting 1...");const{error:Z}=await K.from("partner_credits").update({balance:ne-1,updated_at:new Date().toISOString()}).eq("partner_id",H.id);if(Z)console.error(" [CallContext] Credit deduction failed:",Z);else{console.log(" [CallContext] Credit deducted! New balance:",ne-1);const{data:he}=await K.from("partners").select("company_name").eq("id",H.id).single(),{error:_e}=await K.from("credit_transactions").insert({partner_id:H.id,partner_name:(he==null?void 0:he.company_name)||"Partner",amount:-1,type:"usage",balance_before:ne,balance_after:ne-1,description:`Gelen arama cevaplanp - Arayan: ${(c==null?void 0:c.name)||"Anonim"}`});_e?console.error(" [CallContext] Credit transaction log failed:",_e):console.log(" [CallContext] Credit transaction logged")}}catch(ce){console.error(" [CallContext] Credit check error:",ce)}try{Q(),a(!1),r("connected"),console.log(" [CallContext] Answering call:",j.current);const ce=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1});R.current=ce,P.current&&(P.current.srcObject=ce,P.current.muted=!0);const{data:ne,error:Z}=await K.from("calls").select("*").eq("id",j.current).single();if(Z||!(ne!=null&&ne.sdp_offer)){y("Arama verisi alnamad"),re();return}const he=new Jy({initiator:!1,trickle:!1,stream:ce,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]}});k.current=he,he.on("signal",async _e=>{console.log(" [CallContext] Got SDP answer, saving to DB..."),await K.from("calls").update({sdp_answer:_e,status:"connected",connected_at:new Date().toISOString()}).eq("id",j.current)}),he.on("connect",()=>{console.log(" [CallContext] Peer connected!"),z()}),he.on("stream",_e=>{console.log(" [CallContext] Got remote stream"),N.current&&(N.current.srcObject=_e,N.current.play().catch(()=>{}))}),he.on("error",_e=>{console.error(" [CallContext] Peer error:",_e),y("Balant hatas"),ue("error")}),he.on("close",()=>{console.log(" [CallContext] Peer closed"),ue("peer_closed")}),he.signal(ne.sdp_offer)}catch(ce){console.error(" [CallContext] Error answering call:",ce),y(ce.message||"Mikrofon eriimi reddedildi"),re()}},Re=async H=>{console.log(" [CallContext] answerCallById:",H),j.current=H;const{data:ce,error:ne}=await K.from("calls").select("*").eq("id",H).single();if(ne||!ce){console.error(" [CallContext] Call not found:",ne),y("Arama bulunamad");return}d({name:"Arayan",phone:null}),u({id:ce.id,callerId:ce.caller_id,callerName:"Arayan",callerType:ce.caller_type,receiverId:ce.receiver_id,receiverType:ce.receiver_type,status:"ringing",startedAt:ce.started_at}),await Pe()},Se=async H=>{console.log(" [CallContext] rejectCallById:",H),await K.from("calls").update({status:"rejected",ended_at:new Date().toISOString(),end_reason:"receiver_rejected"}).eq("id",H),re()},oe=async()=>{j.current&&(console.log(" [CallContext] Rejecting call:",j.current),Q(),await K.from("calls").update({status:"rejected",ended_at:new Date().toISOString(),end_reason:"receiver_rejected"}).eq("id",j.current),re())},se=async()=>{if(!j.current){re();return}const H=O();console.log(" [CallContext] Ending call:",j.current),await K.from("calls").update({status:"ended",ended_at:new Date().toISOString(),end_reason:(H==null?void 0:H.type)==="customer"?"caller_ended":"receiver_ended",duration_seconds:E}).eq("id",j.current),ue("user_ended")},me=()=>{if(R.current){const H=R.current.getAudioTracks()[0];H&&(H.enabled=!H.enabled,v(!H.enabled))}},V=()=>{N.current&&(N.current.muted=b,x(!b))};return w.jsxs(I_.Provider,{value:{callStatus:e,isIncoming:i,currentCall:o,callerInfo:c,error:f,startCall:xe,answerCall:Pe,answerCallById:Re,rejectCall:oe,rejectCallById:Se,endCall:se,isMuted:m,toggleMute:me,isSpeakerOn:b,toggleSpeaker:V,callDuration:E,localAudioRef:P,remoteAudioRef:N},children:[t,w.jsx("audio",{ref:P,autoPlay:!0,muted:!0,playsInline:!0,style:{display:"none"}}),w.jsx("audio",{ref:N,autoPlay:!0,playsInline:!0,style:{display:"none"}})]})},Ll=()=>{const t=B.useContext(I_);if(!t)throw new Error("useCall must be used within a CallProvider");return t},IR=async()=>{try{const t=document.documentElement;t.requestFullscreen?await t.requestFullscreen():t.webkitRequestFullscreen?await t.webkitRequestFullscreen():t.msRequestFullscreen&&await t.msRequestFullscreen()}catch{console.log("Fullscreen not supported or denied")}},DR=async()=>{try{document.fullscreenElement?await document.exitFullscreen():document.webkitFullscreenElement?await document.webkitExitFullscreen():document.msFullscreenElement&&await document.msExitFullscreen()}catch{console.log("Exit fullscreen failed")}},LR=()=>{const{isIncoming:t,callStatus:e,callerInfo:r,answerCall:i,rejectCall:a,error:o}=Ll();if(console.log(" [IncomingCallModal] isIncoming:",t,"callStatus:",e,"callerInfo:",r),B.useEffect(()=>{t&&e==="ringing"&&IR()},[t,e]),!t||e!=="ringing")return null;const u=(r==null?void 0:r.name)||(r==null?void 0:r.company_name)||"Mteri",c=(r==null?void 0:r.phone)||"",d=async()=>{await DR(),a()},f=async()=>{i()};return w.jsx(Nr,{children:w.jsxs(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 flex flex-col items-center justify-between py-12 px-6",children:[w.jsx("div",{className:"flex flex-col items-center",children:w.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white/10 rounded-full backdrop-blur-sm",children:[w.jsx(sa,{size:14,className:"text-green-400"}),w.jsx("span",{className:"text-white/80 text-sm font-medium",children:"Yolmov Voice"})]})}),w.jsxs("div",{className:"flex flex-col items-center text-center",children:[w.jsxs(De.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"relative mb-8",children:[w.jsx("div",{className:"absolute inset-0 w-36 h-36 rounded-full bg-green-500/20 animate-ping"}),w.jsx("div",{className:"absolute inset-2 w-32 h-32 rounded-full bg-green-500/30 animate-pulse"}),w.jsx("div",{className:"relative w-32 h-32 rounded-full bg-gradient-to-br from-slate-600 to-slate-700 flex items-center justify-center text-white shadow-2xl border-4 border-white/10",children:w.jsx(Jd,{size:56,strokeWidth:1.5})})]}),w.jsx(De.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl font-bold text-white mb-2",children:u}),c&&w.jsx(De.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-lg text-white/60 mb-4",children:c}),w.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex items-center gap-2 px-4 py-2 bg-orange-500/20 rounded-full",children:[w.jsx(El,{size:16,className:"text-orange-400"}),w.jsx("span",{className:"text-orange-300 text-sm font-medium",children:"Yol Yardm Talebi"})]}),w.jsx(De.p,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},className:"text-white/50 text-lg mt-8",children:"Mteri aryor..."}),w.jsxs(De.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-4 flex items-center gap-2 px-4 py-2 bg-yellow-500/20 rounded-full",children:[w.jsx(dS,{size:14,className:"text-yellow-400"}),w.jsx("span",{className:"text-yellow-300 text-xs font-medium",children:"Cevaplamak 1 kredi harcar"})]})]}),w.jsxs(De.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.5},className:"flex items-center justify-center gap-12",children:[w.jsxs("button",{onClick:d,className:"group flex flex-col items-center gap-3",children:[w.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500 flex items-center justify-center shadow-lg shadow-red-500/30 transition-transform group-hover:scale-110 group-active:scale-95",children:w.jsx(il,{size:28,className:"text-white"})}),w.jsx("span",{className:"text-white/60 text-sm font-medium",children:"Reddet"})]}),w.jsxs("button",{onClick:f,className:"group flex flex-col items-center gap-3",children:[w.jsx(De.div,{animate:{scale:[1,1.15,1]},transition:{duration:1,repeat:1/0},className:"w-20 h-20 rounded-full bg-green-500 flex items-center justify-center shadow-lg shadow-green-500/30 transition-transform group-hover:scale-110 group-active:scale-95",children:w.jsx(sa,{size:36,className:"text-white"})}),w.jsx("span",{className:"text-white/60 text-sm font-medium",children:"Cevapla"})]})]})]})})},Qy=async()=>{try{document.fullscreenElement?await document.exitFullscreen():document.webkitFullscreenElement?await document.webkitExitFullscreen():document.msFullscreenElement&&await document.msExitFullscreen()}catch{console.log("Exit fullscreen failed")}},MR=({minimized:t=!1,onMinimize:e,onMaximize:r})=>{const{callStatus:i,currentCall:a,callerInfo:o,endCall:u,isMuted:c,toggleMute:d,isSpeakerOn:f,toggleSpeaker:y,callDuration:m}=Ll();if(B.useEffect(()=>{(i==="ended"||i==="idle")&&Qy()},[i]),i!=="connected")return null;const v=E=>{const C=Math.floor(E/60),P=E%60;return`${C.toString().padStart(2,"0")}:${P.toString().padStart(2,"0")}`},b=async()=>{await Qy(),u()},x=(o==null?void 0:o.name)||(o==null?void 0:o.company_name)||(a==null?void 0:a.callerName)||"Grme";return t?w.jsx(De.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},onClick:r,className:"fixed bottom-20 left-4 right-4 z-[9998] bg-green-600 rounded-2xl p-4 shadow-2xl cursor-pointer",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:w.jsx(sa,{size:20,className:"text-white"})}),w.jsxs("div",{children:[w.jsx("p",{className:"text-white font-bold text-sm",children:x}),w.jsxs("p",{className:"text-white/70 text-xs flex items-center gap-1",children:[w.jsx(od,{size:12}),v(m)]})]})]}),w.jsx("button",{onClick:E=>{E.stopPropagation(),b()},className:"w-10 h-10 rounded-full bg-red-500 flex items-center justify-center",children:w.jsx(il,{size:18,className:"text-white"})})]})}):w.jsx(Nr,{children:w.jsxs(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] bg-gradient-to-b from-green-900 via-green-800 to-slate-900 flex flex-col items-center justify-between py-12 px-6",children:[w.jsxs("div",{className:"w-full flex items-center justify-between",children:[w.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-colors",children:w.jsx(yS,{size:20,className:"text-white"})}),w.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-green-500/30 rounded-full",children:[w.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),w.jsx("span",{className:"text-green-300 text-sm font-medium",children:"Grme Devam Ediyor"})]}),w.jsx("div",{className:"w-10"})," "]}),w.jsxs("div",{className:"flex flex-col items-center text-center",children:[w.jsxs("div",{className:"relative mb-6",children:[w.jsx(De.div,{animate:{scale:[1,1.2,1],opacity:[.3,.1,.3]},transition:{duration:1.5,repeat:1/0},className:"absolute inset-0 w-32 h-32 rounded-full bg-green-400"}),w.jsx("div",{className:"relative w-32 h-32 rounded-full bg-gradient-to-br from-green-600 to-green-700 flex items-center justify-center text-white shadow-2xl border-4 border-green-400/30",children:w.jsx(Jd,{size:56,strokeWidth:1.5})})]}),w.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:x}),w.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-xl",children:[w.jsx(od,{size:20}),w.jsx("span",{className:"font-mono",children:v(m)})]})]}),w.jsxs("div",{className:"flex flex-col items-center gap-8",children:[w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsx("button",{onClick:d,className:`w-14 h-14 rounded-full flex items-center justify-center transition-all ${c?"bg-red-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:c?w.jsx(mS,{size:24}):w.jsx(gS,{size:24})}),w.jsx("button",{onClick:y,className:`w-14 h-14 rounded-full flex items-center justify-center transition-all ${f?"bg-white/10 text-white hover:bg-white/20":"bg-red-500 text-white"}`,children:f?w.jsx(SS,{size:24}):w.jsx(kS,{size:24})})]}),w.jsx("button",{onClick:b,className:"w-20 h-20 rounded-full bg-red-500 flex items-center justify-center shadow-lg shadow-red-500/30 hover:bg-red-600 transition-colors active:scale-95",children:w.jsx(il,{size:32,className:"text-white"})}),w.jsx("span",{className:"text-white/50 text-sm",children:"Grmeyi Sonlandr"})]})]})})},zR=async t=>{if(t)try{t.requestFullscreen?await t.requestFullscreen():t.webkitRequestFullscreen?await t.webkitRequestFullscreen():t.msRequestFullscreen&&await t.msRequestFullscreen()}catch{console.log("Fullscreen not supported or denied")}},Xy=async()=>{try{document.fullscreenElement?await document.exitFullscreen():document.webkitFullscreenElement?await document.webkitExitFullscreen():document.msFullscreenElement&&await document.msExitFullscreen()}catch{console.log("Exit fullscreen failed")}},UR=()=>{const{callStatus:t,currentCall:e,endCall:r,error:i,isIncoming:a}=Ll(),[o,u]=B.useState(""),c=B.useRef(null);if(B.useEffect(()=>(t==="calling"&&!a&&zR(document.documentElement),()=>{t!=="calling"&&t!=="connected"&&Xy()}),[t,a]),B.useEffect(()=>{if(t==="calling"){const f=setInterval(()=>{u(y=>y.length>=3?"":y+".")},500);return()=>clearInterval(f)}},[t]),t!=="calling"||a)return null;const d=async()=>{await Xy(),r()};return w.jsx(Nr,{children:w.jsxs(De.div,{ref:c,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] bg-gradient-to-b from-orange-900 via-orange-800 to-slate-900 flex flex-col items-center justify-between py-12 px-6",children:[w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white/10 rounded-full backdrop-blur-sm",children:[w.jsx(sa,{size:14,className:"text-orange-400"}),w.jsx("span",{className:"text-white/80 text-sm font-medium",children:"Yolmov Voice"})]}),i&&w.jsx(De.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-4 px-4 py-2 bg-red-500/20 rounded-lg",children:w.jsx("span",{className:"text-red-300 text-sm",children:i})})]}),w.jsxs("div",{className:"flex flex-col items-center text-center",children:[w.jsxs(De.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},className:"relative mb-8",children:[w.jsx(De.div,{animate:{scale:[1,1.5],opacity:[.5,0]},transition:{duration:1.5,repeat:1/0},className:"absolute inset-0 w-32 h-32 rounded-full bg-orange-500"}),w.jsx(De.div,{animate:{scale:[1,1.3],opacity:[.3,0]},transition:{duration:1.5,repeat:1/0,delay:.5},className:"absolute inset-0 w-32 h-32 rounded-full bg-orange-400"}),w.jsx("div",{className:"relative w-32 h-32 rounded-full bg-gradient-to-br from-orange-600 to-orange-700 flex items-center justify-center text-white shadow-2xl border-4 border-white/10",children:w.jsx(Jd,{size:56,strokeWidth:1.5})})]}),w.jsx(De.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl font-bold text-white mb-2",children:(e==null?void 0:e.receiverName)||"Partner"}),w.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex items-center gap-3 mt-4",children:[w.jsx(_v,{size:20,className:"text-orange-400 animate-spin"}),w.jsxs("span",{className:"text-white/70 text-lg",children:["Aranyor",o]})]}),w.jsx(De.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-white/40 text-sm mt-8 max-w-xs",children:"Partner cevapladnda grme balayacak"})]}),w.jsxs(De.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex flex-col items-center gap-4",children:[w.jsx("button",{onClick:d,className:"group w-20 h-20 rounded-full bg-red-500 flex items-center justify-center shadow-lg shadow-red-500/30 hover:bg-red-600 transition-all active:scale-95",children:w.jsx(il,{size:32,className:"text-white"})}),w.jsx("span",{className:"text-white/50 text-sm",children:"Aramay ptal Et"})]})]})})},BR=({onClick:t})=>{const{callStatus:e,isIncoming:r,currentCall:i,endCall:a,callDuration:o}=Ll();if(e==="idle"||e==="ended")return null;const u=y=>{const m=Math.floor(y/60),v=y%60;return`${m.toString().padStart(2,"0")}:${v.toString().padStart(2,"0")}`},d=r&&e==="ringing"?{bg:"bg-blue-500",icon:wS,text:"Gelen Arama",animate:!0}:e==="calling"?{bg:"bg-yellow-500",icon:sa,text:"Aranyor...",animate:!0}:e==="connected"?{bg:"bg-green-500",icon:bv,text:u(o),animate:!1}:null;if(!d)return null;const f=d.icon;return w.jsxs(De.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},onClick:t,className:`
        fixed top-4 left-1/2 -translate-x-1/2 z-[9990]
        ${d.bg} rounded-full px-4 py-2 shadow-lg cursor-pointer
        flex items-center gap-2
      `,children:[w.jsx(De.div,{animate:d.animate?{scale:[1,1.2,1]}:{},transition:{duration:1,repeat:1/0},children:w.jsx(f,{size:18,className:"text-white"})}),w.jsx("span",{className:"text-white font-medium text-sm",children:d.text}),e==="connected"&&w.jsx("button",{onClick:y=>{y.stopPropagation(),a()},className:"ml-1 w-6 h-6 rounded-full bg-red-500 flex items-center justify-center hover:bg-red-600 transition-colors",children:w.jsx(aa,{size:14,className:"text-white"})})]})},FR=Le.lazy(()=>Ue(()=>import("./AboutPage-CP4FA5dk.js"),__vite__mapDeps([0,1,2,3,4,5]))),$R=Le.lazy(()=>Ue(()=>import("./ServicesPage-X49ibGpc.js"),__vite__mapDeps([6,7,4,8]))),VR=Le.lazy(()=>Ue(()=>import("./FAQPage-DJrQyani.js"),__vite__mapDeps([9,10]))),qR=Le.lazy(()=>Ue(()=>import("./ContactPage-CN5mmYKv.js"),__vite__mapDeps([11,12,13]))),KR=Le.lazy(()=>Ue(()=>import("./CareerPage-2I9zGgz9.js"),__vite__mapDeps([14,5,3,2,15,13]))),WR=Le.lazy(()=>Ue(()=>import("./BlogPage-DdjuDF4q.js"),__vite__mapDeps([16,17,18]))),HR=Le.lazy(()=>Ue(()=>import("./CampaignsPage-B20tphLq.js"),__vite__mapDeps([19,20,21,22,17]))),GR=Le.lazy(()=>Ue(()=>import("./CampaignDetailPage-DtwfHjxZ.js"),__vite__mapDeps([23,21,20,22,24,17]))),Zy=Le.lazy(()=>Ue(()=>import("./LoginPage-CqZGK58T.js"),__vite__mapDeps([25,26,27,28,29,30]))),YR=Le.lazy(()=>Ue(()=>import("./AuthRequiredPage-CDFaOYs6.js"),__vite__mapDeps([31,28,32]))),JR=Le.lazy(()=>Ue(()=>import("./PartnerRegisterPage-Cd1B9bu-.js"),__vite__mapDeps([33,34,35,36,28,37,5,38]))),QR=Le.lazy(()=>Ue(()=>import("./PartnerDashboard-C24_MB3L.js"),__vite__mapDeps([39,40,24,8,41,5,42,43,30,34,44,37,45,46,47,48,49,17,50,22,51,52,38,53,27,4,2,54,55,56,13,57,28,58,59,60,36,61]))),XR=Le.lazy(()=>Ue(()=>import("./CustomerProfilePage-DGq271X5.js"),__vite__mapDeps([62,26,36,61,63,3,28,49,27,48,37,56,30,47,29]))),ZR=Le.lazy(()=>Ue(()=>import("./OffersPanel-P3jIxUdC.js"),__vite__mapDeps([64,20,65,27,30,37,8]))),ej=Le.lazy(()=>Ue(()=>import("./QuotePage-ClDy7zce.js"),__vite__mapDeps([66,34,44,37,45,46,47,67,20,38,68,57]))),tj=Le.lazy(()=>Ue(()=>import("./ListingPage-CWpm2aQs.js"),__vite__mapDeps([69,60,37,27,59,17]))),rj=Le.lazy(()=>Ue(()=>import("./ProviderDetailPage-BDFtDUxR.js"),__vite__mapDeps([70,47,20,27,37,42,38,54]))),ev=Le.lazy(()=>Ue(()=>import("./AdminLoginPage-3EVYVbYR.js"),__vite__mapDeps([71,4,47,36,28,29,30]))),tv=Le.lazy(()=>Ue(()=>import("./AdminSignupPage-f2HnRZ3w.js"),__vite__mapDeps([72,37,36,28]))),Je=Le.lazy(()=>Ue(()=>import("./AdminDashboard-Qmk8MNwN.js").then(t=>t.a),__vite__mapDeps([73,68,18,52,42,30,27,61,40,17,8,24,74,4,32,75,48,36]))),nj=Le.lazy(()=>Ue(()=>import("./AdminSystemLogs-Dn5OUXwT.js"),__vite__mapDeps([76,40,17,24,4,30,49,75,48])));Le.lazy(()=>Ue(()=>import("./AdminUserDetailPage-KlZVDGv6.js"),__vite__mapDeps([77,20,36,17,63,8,27])));Le.lazy(()=>Ue(()=>import("./AdminPartnerDetailPage-DFgz8lhC.js"),__vite__mapDeps([78,20,27,24,8,42,36,17])));Le.lazy(()=>Ue(()=>import("./AdminRequestDetailPage-C-NSWZZK.js"),__vite__mapDeps([79,20,24,63,17,8])));Le.lazy(()=>Ue(()=>import("./AdminOfferDetailPage-Cocqu_hX.js"),__vite__mapDeps([80,20,24,13,17])));Le.lazy(()=>Ue(()=>import("./AdminFleetDetailPage-C146J0er.js"),__vite__mapDeps([81,74,20,17,30,24,8])));Le.lazy(()=>Ue(()=>import("./AdminReviewDetailPage-CkoeTPdE.js"),__vite__mapDeps([82,20,50,30,29,27,24])));Le.lazy(()=>Ue(()=>import("./AdminLeadRequestDetailPage-Csyiqslt.js"),__vite__mapDeps([83,20,42,17,24])));Le.lazy(()=>Ue(()=>import("./AdminAreaRequestDetailPage-fUmxmIfO.js"),__vite__mapDeps([84,20,58,17,24])));Le.lazy(()=>Ue(()=>import("./AdminSupportRequestDetailPage-BU-LY1IW.js"),__vite__mapDeps([85,20,40,24,17])));const ij=Le.lazy(()=>Ue(()=>import("./NotificationTestPage-CFmknB98.js"),__vite__mapDeps([86,47,13]))),sj=Le.lazy(()=>Ue(()=>import("./EmailConfirmationPage-HqW5b6sA.js"),__vite__mapDeps([87,37]))),aj=Le.lazy(()=>Ue(()=>import("./PrivacyPolicyPage-BCkl2Ppk.js"),__vite__mapDeps([88,20,4]))),oj=Le.lazy(()=>Ue(()=>import("./TermsOfServicePage-DHcB4j_r.js"),__vite__mapDeps([89,20,40]))),lj=Le.lazy(()=>Ue(()=>import("./NotFoundPage-WjDJObQ1.js"),__vite__mapDeps([90,47]))),uj=Le.lazy(()=>Ue(()=>import("./SEOServicePage-I6bT4O8m.js"),__vite__mapDeps([91,92,47,24,93,4,27,94,10,5,12]))),cj=Le.lazy(()=>Ue(()=>import("./SEOStatsPage-BZiOw_Ab.js"),__vite__mapDeps([95,93,15,5,96]))),dj=Le.lazy(()=>Ue(()=>import("./SEOBrandPage-Cyxfg16M.js"),__vite__mapDeps([97,93,92,47,24,2,38,4,7,27,94,10,5]))),hj=Le.lazy(()=>Ue(()=>import("./PartnerSEOPage-DILjHI6w.js"),__vite__mapDeps([98,93,8,1,5,94,38,42,40,24,27,2]))),fj=Le.lazy(()=>Ue(()=>import("./PriceCalculatorWizard-BZcc-VdE.js"),__vite__mapDeps([99,100,94,37,67,46,5]))),pj=Le.lazy(()=>Ue(()=>import("./PasswordSetupPage-DO-8gtPb.js"),__vite__mapDeps([101,28]))),mj=Le.lazy(()=>Ue(()=>import("./PartnerReviewPendingPage-C_00HJGD.js"),__vite__mapDeps([102,4,36]))),gj=Le.lazy(()=>Ue(()=>import("./SpecialVehiclePage-DfMUtdM0.js"),__vite__mapDeps([103,92,47,24,4,27,63,10]))),yj=Le.lazy(()=>Ue(()=>import("./OnDutyPage-BQSp2SB4.js"),__vite__mapDeps([104,92,47,24,38,4,27,10]))),vj=Le.lazy(()=>Ue(()=>import("./IntercityPage-CGni0oPO.js"),__vite__mapDeps([105,92,47,24,60,4,94,59,27,10]))),wj=Le.lazy(()=>Ue(()=>import("./SpecialLocationPage-NaZMtnNl.js"),__vite__mapDeps([106,92,47,24,4,10]))),_j=Le.lazy(()=>Ue(()=>import("./PricingPage-D8GfwcT1.js"),__vite__mapDeps([107,92,47,24,94,46,5,27,10]))),bj=()=>w.jsx("div",{className:"flex items-center justify-center h-screen",children:w.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-brand-orange"})}),xj=()=>{const t=oi(),e=(r,i,a)=>{t(`/liste?city=${encodeURIComponent(r)}&district=${encodeURIComponent(i)}&serviceId=${encodeURIComponent(a)}&fromHero=1`)};return w.jsxs(w.Fragment,{children:[w.jsx(fR,{onSearch:e}),w.jsx(pR,{}),w.jsx(mR,{}),w.jsx(gR,{}),w.jsx(yR,{})]})},Sj=({children:t})=>{const e=Lr(),r=["/partner","/admin","/admin/giris","/admin/sistem-loglari"].some(i=>e.pathname===i||e.pathname.startsWith(i+"/"));return B.useEffect(()=>{window.scrollTo(0,0)},[e.pathname]),w.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 font-sans text-brand-dark selection:bg-brand-orange selection:text-white",children:[!r&&w.jsx(uR,{}),w.jsx("main",{className:"flex-grow",children:t}),!r&&w.jsx(vR,{}),w.jsx(wR,{})]})},kj=()=>{const t=Lr();return B.useEffect(()=>{PR(document.title)},[t.pathname]),null};function Ej(){const[t,e]=B.useState(!1);return w.jsxs(q1,{children:[w.jsxs(NR,{children:[w.jsx(kj,{}),w.jsxs(Hy,{children:[w.jsx(Sj,{children:w.jsx(B.Suspense,{fallback:w.jsx(bj,{}),children:w.jsx(Hy,{children:w.jsxs(L1,{children:[w.jsx(ge,{path:"/",element:w.jsx(xj,{})}),w.jsx(ge,{path:"/hakkimizda",element:w.jsx(FR,{})}),w.jsx(ge,{path:"/hizmetler",element:w.jsx($R,{})}),w.jsx(ge,{path:"/sss",element:w.jsx(VR,{})}),w.jsx(ge,{path:"/iletisim",element:w.jsx(qR,{})}),w.jsx(ge,{path:"/kariyer",element:w.jsx(KR,{})}),w.jsx(ge,{path:"/blog",element:w.jsx(WR,{})}),w.jsx(ge,{path:"/kampanyalar",element:w.jsx(HR,{})}),w.jsx(ge,{path:"/kampanya/:id",element:w.jsx(GR,{})}),w.jsx(ge,{path:"/giris-gerekli",element:w.jsx(YR,{})}),w.jsx(ge,{path:"/giris/musteri",element:w.jsx(Zy,{userType:"customer"})}),w.jsx(ge,{path:"/giris/partner",element:w.jsx(Zy,{userType:"partner"})}),w.jsx(ge,{path:"/partner/kayit",element:w.jsx(JR,{})}),w.jsx(ge,{path:"/email-dogrulama",element:w.jsx(sj,{})}),w.jsx(ge,{path:"/partner",element:w.jsx(QR,{})}),w.jsx(ge,{path:"/partner/inceleniyor",element:w.jsx(mj,{})}),w.jsx(ge,{path:"/sifre-olustur",element:w.jsx(pj,{})}),w.jsx(ge,{path:"/musteri/profil",element:w.jsx(Ko,{children:w.jsx(XR,{})})}),w.jsx(ge,{path:"/musteri/teklifler",element:w.jsx(Ko,{children:w.jsx(ZR,{})})}),w.jsx(ge,{path:"/liste",element:w.jsx(tj,{})}),w.jsx(ge,{path:"/hizmet/:id",element:w.jsx(rj,{})}),w.jsx(ge,{path:"/teklif",element:w.jsx(Ko,{children:w.jsx(ej,{})})}),w.jsx(ge,{path:"/fiyat-hesapla",element:w.jsx(Ko,{children:w.jsx(fj,{})})}),w.jsx(ge,{path:"/admin/giris",element:w.jsx(ev,{})}),w.jsx(ge,{path:"/admin/kayit",element:w.jsx(tv,{})}),w.jsx(ge,{path:"/operasyon/kayit",element:w.jsx(tv,{})}),w.jsx(ge,{path:"/admin",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/kullanicilar",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/kullanicilar/:id",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/partnerler",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/partnerler/:id",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/partner-onay",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/talepler",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/musteri-talepleri",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/musteri-talepleri/:id",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/teklifler",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/teklifler/:id",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/raporlar",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/belgeler",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/filo",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/filo/:vehicleId",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/degerlendirmeler",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/degerlendirmeler/:id",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/finansal",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/krediler",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/is-gecmisi",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/admin-kullanicilari",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/partner-vitrin",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/hizmet-bolgeleri",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/kampanyalar",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/aktivite",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/canli-gorusmeler",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/cagri-kayitlari",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/talepler/lead/:id",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/talepler/alan/:id",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/talepler/destek/:id",element:w.jsx(Je,{})}),w.jsx(ge,{path:"/admin/sistem-loglari",element:w.jsx(nj,{})}),w.jsx(ge,{path:"/bildirim-test",element:w.jsx(ij,{})}),w.jsx(ge,{path:"/seo-istatistikler",element:w.jsx(cj,{})}),w.jsx(ge,{path:"/gizlilik-politikasi",element:w.jsx(aj,{})}),w.jsx(ge,{path:"/kullanim-kosullari",element:w.jsx(oj,{})}),w.jsx(ge,{path:"/operasyon",element:w.jsx(ev,{})}),w.jsx(ge,{path:"/partner-ol/:service/:city/:district",element:w.jsx(hj,{})}),w.jsx(ge,{path:"/tasima/:vehicleType/:city/:district",element:w.jsx(gj,{})}),w.jsx(ge,{path:"/nobetci/:service/:city/:district",element:w.jsx(yj,{})}),w.jsx(ge,{path:"/sehirlerarasi/:from/:to",element:w.jsx(vj,{})}),w.jsx(ge,{path:"/lokasyon/:slug",element:w.jsx(wj,{})}),w.jsx(ge,{path:"/fiyat/:service/:city",element:w.jsx(_j,{})}),w.jsx(ge,{path:"/:service/:city/:district",element:w.jsx(uj,{})}),w.jsx(ge,{path:"/marka/:brandSlug",element:w.jsx(dj,{})}),w.jsx(ge,{path:"*",element:w.jsx(lj,{})})]})})})}),w.jsx(LR,{}),w.jsx(UR,{}),w.jsx(MR,{minimized:t,onMinimize:()=>e(!0),onMaximize:()=>e(!1)}),w.jsx(BR,{onClick:()=>e(!1)})]})]}),w.jsx(nS,{})]})}function Cj(){"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{const t=await navigator.serviceWorker.register("/sw.js",{updateViaCache:"none"});console.log(" PWA Service Worker registered:",t.scope),t.addEventListener("updatefound",()=>{const e=t.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&console.log(" New Service Worker available")})})}catch(t){console.error(" Service Worker registration failed:",t)}})}let Qs=null;function Tj(){window.addEventListener("beforeinstallprompt",t=>{console.log(" PWA install prompt available"),t.preventDefault(),Qs=t,Aj()}),window.addEventListener("appinstalled",()=>{console.log(" YOLMOV PWA has been installed"),localStorage.setItem("pwa-installed","true");const t=document.getElementById("pwa-install-banner");t&&t.remove()}),window.matchMedia("(display-mode: standalone)").matches&&(console.log(" Running as installed PWA"),document.documentElement.classList.add("pwa-mode"))}function Aj(){if(sessionStorage.getItem("pwa-install-prompt-shown")||localStorage.getItem("pwa-install-dismissed")==="true"||localStorage.getItem("pwa-installed")==="true")return;const i=document.createElement("div");i.id="pwa-install-banner",i.style.cssText=`
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(to right, #FF7A00, #FF9A2A);
    color: white;
    padding: 1rem;
    box-shadow: 0 -4px 20px rgba(0,0,0,0.2);
    z-index: 9999;
    animation: slideUp 0.3s ease-out;
  `,i.innerHTML=`
    <style>
      @keyframes slideUp {
        from { transform: translateY(100%); }
        to { transform: translateY(0); }
      }
    </style>
    <div style="max-width: 1200px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; gap: 1rem; flex-wrap: wrap;">
      <div style="display: flex; align-items: center; gap: 1rem;">
        <div style="width: 48px; height: 48px; background: white; border-radius: 12px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
          <img 
            src="https://raw.githubusercontent.com/yosoyorhan/repo2/refs/heads/main/yolmov-logo-cutter.png" 
            alt="YOLMOV" 
            style="width: 32px; height: 32px; object-fit: contain;"
          />
        </div>
        <div>
          <p style="font-weight: 700; margin: 0; font-size: 1rem;">YOLMOV'u Telefonunuza Ekleyin</p>
          <p style="margin: 0; font-size: 0.875rem; opacity: 0.9;">Daha hzl eriim iin uygulamay ykleyin</p>
        </div>
      </div>
      <div style="display: flex; align-items: center; gap: 0.5rem; flex-shrink: 0;">
        <button 
          id="pwa-install-button" 
          style="padding: 0.5rem 1.5rem; background: white; color: #FF7A00; border: none; border-radius: 8px; font-weight: 700; font-size: 0.875rem; cursor: pointer; transition: all 0.2s;"
          onmouseover="this.style.background='#FFF5F0'"
          onmouseout="this.style.background='white'"
        >
          Ykle
        </button>
        <button 
          id="pwa-dismiss-button" 
          style="padding: 0.5rem 0.75rem; background: transparent; color: white; border: none; font-size: 1.5rem; cursor: pointer; opacity: 0.8; transition: opacity 0.2s;"
          onmouseover="this.style.opacity='1'"
          onmouseout="this.style.opacity='0.8'"
        >
          
        </button>
      </div>
    </div>
  `,document.body.appendChild(i),sessionStorage.setItem("pwa-install-prompt-shown","true");const a=document.getElementById("pwa-install-button");a&&a.addEventListener("click",async()=>{if(!Qs)return;Qs.prompt();const{outcome:u}=await Qs.userChoice;console.log(`User response to install prompt: ${u}`),console.log(u==="accepted"?" User accepted the install prompt":" User dismissed the install prompt"),Qs=null,i.remove()});const o=document.getElementById("pwa-dismiss-button");o&&o.addEventListener("click",()=>{i.remove(),localStorage.setItem("pwa-install-dismissed","true")}),setTimeout(()=>{const u=document.getElementById("pwa-install-banner");u&&u.remove()},15e3)}const D_=document.getElementById("root");if(!D_)throw new Error("Could not find root element to mount to");const Pj=Fx.createRoot(D_);Pj.render(w.jsx(Le.StrictMode,{children:w.jsx(Ej,{})}));Cj();Tj();export{J2 as $,Nr as A,Jm as B,od as C,vv as D,pS as E,wv as F,Bh as G,fS as H,Qm as I,Xm as J,yv as K,_v as L,Yd as M,vS as N,Nj as O,sa as P,$d as Q,Le as R,ld as S,El as T,xS as U,Oj as V,ES as W,aa as X,Ak as Y,Y2 as Z,Ue as _,lS as a,G2 as a0,Q2 as a1,Z2 as a2,X2 as a3,bl as a4,ra as a5,SS as a6,eO as a7,tO as a8,H2 as a9,Jd as b,qe as c,sd as d,j_ as e,jj as f,ad as g,Lr as h,gv as i,w as j,qo as k,_S as l,De as m,K as n,cS as o,dS as p,bS as q,B as r,Or as s,uS as t,oi as u,Ll as v,bv as w,il as x,wS as y,Rc as z};
