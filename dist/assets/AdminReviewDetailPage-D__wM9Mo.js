import{f,u as v,r,j as e,q as y,o as z}from"./index-BygeAlJs.js";import{A as k}from"./arrow-left-DsP_xmY8.js";import{P as w}from"./pen-BPyRgCsq.js";import{E as C}from"./eye-CsCCJcwi.js";import{E as b}from"./eye-off-MMYqy9CY.js";import{S as h}from"./star-BonZqzJH.js";import{C as E}from"./circle-check-big-BdAyo3sb.js";const R=[{id:"REV-001",jobId:"JOB-4923",partnerId:"PTR-001",partnerName:"Yılmaz Oto Kurtarma",customerName:"Ahmet Yılmaz",service:"Çekici Hizmeti",date:"2024-11-22 15:30",rating:5,comment:"Çok hızlı geldi, işini profesyonelce yaptı. Teşekkürler!",tags:["Kibar Müşteri","Sorunsuz Ödeme","Bahşiş Bıraktı"]},{id:"REV-002",jobId:"JOB-4920",partnerId:"PTR-001",partnerName:"Yılmaz Oto Kurtarma",customerName:"Mehmet K.",service:"Akü Takviyesi",date:"2024-11-19 10:15",rating:2,comment:"Geç geldi, müşteri hizmetleri vasat.",tags:["Geç Geldi","İletişim Zor"],objection:{reason:"Haksız değerlendirme",details:"Trafikte kaza oldu, bu yüzden geç kaldım. Müşteriye bilgi verdim ama yine de kötü puan verdi.",submittedAt:"2024-11-19 16:00",status:"pending"}}],P=()=>{const{id:p}=f(),o=v(),[t,n]=r.useState(R.find(s=>s.id===p)||null),[d,i]=r.useState(!1),[x,j]=r.useState((t==null?void 0:t.comment)||""),[l,g]=r.useState((t==null?void 0:t.rating)||5);if(!t)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Değerlendirme Bulunamadı"}),e.jsx("button",{onClick:()=>o("/admin"),className:"text-blue-600 font-bold hover:underline",children:"Admin panele dön"})]})});const c=s=>s>=4?"text-green-500":s===3?"text-yellow-500":"text-red-500",u=()=>{n({...t,comment:x,rating:l}),i(!1)},N=()=>{n({...t,hidden:!t.hidden})},m=s=>{t.objection&&n({...t,objection:{...t.objection,status:s,resolvedBy:"Admin User",resolvedAt:new Date().toISOString()}})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("button",{onClick:()=>o("/admin"),className:"p-3 bg-white rounded-xl hover:bg-slate-100 transition-all shadow-sm",children:e.jsx(k,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black text-slate-900",children:"Değerlendirme Detayları"}),e.jsx("p",{className:"text-slate-500",children:t.id})]}),e.jsx("div",{className:"ml-auto flex gap-2",children:d?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-xl font-bold hover:bg-slate-300",children:"İptal"}),e.jsx("button",{onClick:u,className:"px-4 py-2 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700",children:"Kaydet"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(w,{size:16}),"Düzenle"]}),e.jsxs("button",{onClick:N,className:`px-4 py-2 rounded-xl font-bold flex items-center gap-2 ${t.hidden?"bg-green-600 text-white hover:bg-green-700":"bg-orange-600 text-white hover:bg-orange-700"}`,children:[t.hidden?e.jsx(C,{size:16}):e.jsx(b,{size:16}),t.hidden?"Göster":"Gizle"]})]})})]}),t.hidden&&e.jsxs("div",{className:"bg-orange-100 border border-orange-300 rounded-xl p-4 mb-6 flex items-center gap-3",children:[e.jsx(b,{size:20,className:"text-orange-600"}),e.jsx("p",{className:"text-orange-900 font-bold",children:"Bu değerlendirme gizlenmiş durumda"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Temel Bilgiler"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Partner"}),e.jsx("p",{className:"font-bold text-slate-900",children:t.partnerName}),e.jsx("p",{className:"text-xs text-slate-500",children:t.partnerId})]}),e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Müşteri"}),e.jsx("p",{className:"font-bold text-slate-900",children:t.customerName})]}),e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Hizmet"}),e.jsx("p",{className:"font-bold text-slate-900",children:t.service})]}),e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Tarih & İş ID"}),e.jsx("p",{className:"font-bold text-slate-900",children:t.date}),e.jsx("p",{className:"text-xs text-slate-500",children:t.jobId})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Puan"}),d?e.jsxs("div",{className:"flex items-center gap-2",children:[[1,2,3,4,5].map(s=>e.jsx("button",{onClick:()=>g(s),className:"hover:scale-110 transition-transform",children:e.jsx(h,{size:32,className:s<=l?c(l):"text-slate-300",fill:s<=l?"currentColor":"none"})},s)),e.jsxs("span",{className:"ml-2 text-2xl font-bold text-slate-900",children:[l,"/5"]})]}):e.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((s,a)=>e.jsx(h,{size:32,className:a<t.rating?c(t.rating):"text-slate-300",fill:a<t.rating?"currentColor":"none"},a)),e.jsxs("span",{className:"ml-2 text-2xl font-bold text-slate-900",children:[t.rating,"/5"]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Yorum"}),d?e.jsx("textarea",{value:x,onChange:s=>j(s.target.value),className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",rows:4}):e.jsx("p",{className:"text-slate-900",children:t.comment})]}),t.tags&&t.tags.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Etiketler"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((s,a)=>e.jsx("span",{className:"px-3 py-1 bg-slate-100 text-slate-700 rounded-full text-sm font-bold",children:s},a))})]}),t.objection&&e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(y,{className:"text-orange-600"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"İtiraz"}),e.jsx("span",{className:`ml-auto px-3 py-1 rounded-full text-sm font-bold ${t.objection.status==="pending"?"bg-yellow-100 text-yellow-700":t.objection.status==="approved"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:t.objection.status==="pending"?"Beklemede":t.objection.status==="approved"?"Onaylandı":"Reddedildi"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"İtiraz Sebebi"}),e.jsx("p",{className:"font-bold text-slate-900",children:t.objection.reason})]}),e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Detaylar"}),e.jsx("p",{className:"text-slate-900",children:t.objection.details})]}),e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Gönderilme Tarihi"}),e.jsx("p",{className:"font-bold text-slate-900",children:t.objection.submittedAt})]}),t.objection.status==="pending"&&e.jsxs("div",{className:"flex gap-3 pt-3",children:[e.jsxs("button",{onClick:()=>m("approved"),className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 flex items-center justify-center gap-2",children:[e.jsx(E,{size:20}),"İtirazı Onayla"]}),e.jsxs("button",{onClick:()=>m("rejected"),className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[e.jsx(z,{size:20}),"İtirazı Reddet"]})]}),t.objection.resolvedBy&&e.jsxs("div",{className:"bg-blue-50 rounded-xl border border-blue-200 p-4",children:[e.jsx("p",{className:"text-xs text-blue-600 mb-1",children:"Çözümleyen"}),e.jsx("p",{className:"font-bold text-blue-900",children:t.objection.resolvedBy}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:t.objection.resolvedAt})]})]})]})]})]})})};export{P as default};
