const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AboutPage-CY8GxFO9.js","assets/target-D7Zm22wI.js","assets/award-BXyTuFdO.js","assets/heart-BlpQoITa.js","assets/shield-DMGAfL-I.js","assets/trending-up-BAdfPGUb.js","assets/ServicesPage-CIy2lEBU.js","assets/battery-CSYKrSCk.js","assets/dollar-sign-DtswdEgd.js","assets/FAQPage-4Xu0cBwv.js","assets/chevron-up-CHYUqVyF.js","assets/ContactPage-Dm236l72.js","assets/message-circle-DWgzWNSK.js","assets/send-DN_UWuYS.js","assets/CareerPage-B4mhyLGh.js","assets/globe-B9NZ4557.js","assets/BlogPage-2wlHKpsh.js","assets/calendar-DCS2JJOb.js","assets/tag-fw2YDG26.js","assets/CampaignsPage-CfPAcyQY.js","assets/arrow-left-Cs68MGtl.js","assets/gift-Zvz0PrJF.js","assets/percent-Dr4nPw75.js","assets/CampaignDetailPage-CTOFtuqr.js","assets/circle-check-big-DAxPtXeV.js","assets/LoginPage-ByvMmk4C.js","assets/notifications-DUxxgNGo.js","assets/star-CoAXDSsY.js","assets/lock-B6qBZtSO.js","assets/eye-off-DhNxi-c2.js","assets/eye-C8I1BLEo.js","assets/AuthRequiredPage-CdXMkGUY.js","assets/user-plus-DyW7LK6K.js","assets/PartnerRegisterPage-jEG5jLtd.js","assets/imageCompression-Bm6Dowu7.js","assets/UIComponents-DF9aBG_4.js","assets/mail-D7m381hS.js","assets/circle-check-DzSAhlne.js","assets/zap-kBMN5wpb.js","assets/PartnerDashboard-Cm0B9TYS.js","assets/file-text-SNmadKPE.js","assets/filter-7skK_Pgq.js","assets/credit-card-47RaOW0L.js","assets/download-uVABWa-q.js","assets/useToast-YUOgcLX9.js","assets/image-DvN1v67v.js","assets/info-dNC10SnY.js","assets/circle-alert-DhYx87xa.js","assets/trash-2-CgCwyRPk.js","assets/plus-DeZY7yAL.js","assets/pen-BJ4U3IfJ.js","assets/showcaseSanitizer-CU8VnsaU.js","assets/wallet-Dayn4l5E.js","assets/save-AgS7H4rJ.js","assets/phone-missed-tOnURnVl.js","assets/camera-Xn48r0Tl.js","assets/circle-help-DiynJJGY.js","assets/building-DkfX0-XD.js","assets/map-DfN4-K4V.js","assets/route-DgQsILjY.js","assets/log-out-Cu9POiDV.js","assets/CustomerProfilePage-CPug5HCz.js","assets/package-Dy-meL4l.js","assets/OffersPanel-C5MPXd-o.js","assets/ban-CQNnEG8L.js","assets/QuotePage-riPmzMhw.js","assets/bus-Bc80I1SG.js","assets/activity-D0E2Lqv9.js","assets/ListingPage-BaGsCqcX.js","assets/ProviderDetailPage-Jq66qN5G.js","assets/AdminLoginPage-DokjcDVQ.js","assets/AdminSignupPage-B9h4P4Uy.js","assets/AdminDashboard-CVIzmgAF.js","assets/StatusBadge-CwzhfZFg.js","assets/square-pen-CUOIjXWc.js","assets/AdminSystemLogs-DnpbZaKD.js","assets/AdminUserDetailPage-Du_sDdPW.js","assets/AdminPartnerDetailPage-B-ugmdQR.js","assets/AdminRequestDetailPage-CEJx-cyE.js","assets/AdminOfferDetailPage-q7mjrVkc.js","assets/AdminFleetDetailPage-BEAZn9hK.js","assets/AdminReviewDetailPage-DCh9qXot.js","assets/AdminLeadRequestDetailPage-BF8yEoz6.js","assets/AdminAreaRequestDetailPage-B14xk0qF.js","assets/AdminSupportRequestDetailPage-DbcHXat9.js","assets/NotificationTestPage-EMsuoFpq.js","assets/EmailConfirmationPage-vWw42Z69.js","assets/PrivacyPolicyPage-Dy3OSD-5.js","assets/TermsOfServicePage-j4o6PFej.js","assets/NotFoundPage-TIxWhv9L.js","assets/SEOServicePage-Doc-6GFD.js","assets/EmergencyFloatingButton-hBFplurf.js","assets/seoData-CNkhpeHJ.js","assets/calculator-R_8pOtiY.js","assets/SEOStatsPage-CktVONqK.js","assets/external-link-Dgw56mMt.js","assets/SEOBrandPage-B7cTV51s.js","assets/PartnerSEOPage-qJpcao66.js","assets/PriceCalculatorWizard-D7Q51xRS.js","assets/priceCalculator-Bv36E9gB.js","assets/PasswordSetupPage-CVa1FwU7.js","assets/PartnerReviewPendingPage-8idxVFOL.js","assets/SpecialVehiclePage-BP2F4fiP.js","assets/OnDutyPage-iWS19-oB.js","assets/IntercityPage-CPjvD9BK.js","assets/SpecialLocationPage-BMX8B0Br.js","assets/PricingPage-GFOAVIi9.js"])))=>i.map(i=>d[i]);
var Vx=Object.defineProperty;var qx=(t,e,r)=>e in t?Vx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Yt=(t,e,r)=>qx(t,typeof e!="symbol"?e+"":e,r);function dv(t,e){for(var r=0;r<e.length;r++){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(i,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var Dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ya(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var a=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:function(){return t[i]}})}),r}var Tu={exports:{}},Vs={},Au={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function Kx(){if(Lm)return He;Lm=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),m=Symbol.iterator;function w(W){return W===null||typeof W!="object"?null:(W=m&&W[m]||W["@@iterator"],typeof W=="function"?W:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function C(W,ne,ye){this.props=W,this.context=ne,this.refs=E,this.updater=ye||b}C.prototype.isReactComponent={},C.prototype.setState=function(W,ne){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,ne,"setState")},C.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function j(){}j.prototype=C.prototype;function I(W,ne,ye){this.props=W,this.context=ne,this.refs=E,this.updater=ye||b}var k=I.prototype=new j;k.constructor=I,x(k,C.prototype),k.isPureReactComponent=!0;var P=Array.isArray,R=Object.prototype.hasOwnProperty,D={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function L(W,ne,ye){var me,ie={},ke=null,Ve=null;if(ne!=null)for(me in ne.ref!==void 0&&(Ve=ne.ref),ne.key!==void 0&&(ke=""+ne.key),ne)R.call(ne,me)&&!O.hasOwnProperty(me)&&(ie[me]=ne[me]);var Be=arguments.length-2;if(Be===1)ie.children=ye;else if(1<Be){for(var Ke=Array(Be),Ge=0;Ge<Be;Ge++)Ke[Ge]=arguments[Ge+2];ie.children=Ke}if(W&&W.defaultProps)for(me in Be=W.defaultProps,Be)ie[me]===void 0&&(ie[me]=Be[me]);return{$$typeof:t,type:W,key:ke,ref:Ve,props:ie,_owner:D.current}}function J(W,ne){return{$$typeof:t,type:W.type,key:ne,ref:W.ref,props:W.props,_owner:W._owner}}function z(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function H(W){var ne={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ye){return ne[ye]})}var te=/\/+/g;function oe(W,ne){return typeof W=="object"&&W!==null&&W.key!=null?H(""+W.key):ne.toString(36)}function be(W,ne,ye,me,ie){var ke=typeof W;(ke==="undefined"||ke==="boolean")&&(W=null);var Ve=!1;if(W===null)Ve=!0;else switch(ke){case"string":case"number":Ve=!0;break;case"object":switch(W.$$typeof){case t:case e:Ve=!0}}if(Ve)return Ve=W,ie=ie(Ve),W=me===""?"."+oe(Ve,0):me,P(ie)?(ye="",W!=null&&(ye=W.replace(te,"$&/")+"/"),be(ie,ne,ye,"",function(Ge){return Ge})):ie!=null&&(z(ie)&&(ie=J(ie,ye+(!ie.key||Ve&&Ve.key===ie.key?"":(""+ie.key).replace(te,"$&/")+"/")+W)),ne.push(ie)),1;if(Ve=0,me=me===""?".":me+":",P(W))for(var Be=0;Be<W.length;Be++){ke=W[Be];var Ke=me+oe(ke,Be);Ve+=be(ke,ne,ye,Ke,ie)}else if(Ke=w(W),typeof Ke=="function")for(W=Ke.call(W),Be=0;!(ke=W.next()).done;)ke=ke.value,Ke=me+oe(ke,Be++),Ve+=be(ke,ne,ye,Ke,ie);else if(ke==="object")throw ne=String(W),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return Ve}function Re(W,ne,ye){if(W==null)return W;var me=[],ie=0;return be(W,me,"","",function(ke){return ne.call(ye,ke,ie++)}),me}function Ae(W){if(W._status===-1){var ne=W._result;ne=ne(),ne.then(function(ye){(W._status===0||W._status===-1)&&(W._status=1,W._result=ye)},function(ye){(W._status===0||W._status===-1)&&(W._status=2,W._result=ye)}),W._status===-1&&(W._status=0,W._result=ne)}if(W._status===1)return W._result.default;throw W._result}var Ce={current:null},le={transition:null},ae={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:le,ReactCurrentOwner:D};function pe(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:Re,forEach:function(W,ne,ye){Re(W,function(){ne.apply(this,arguments)},ye)},count:function(W){var ne=0;return Re(W,function(){ne++}),ne},toArray:function(W){return Re(W,function(ne){return ne})||[]},only:function(W){if(!z(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},He.Component=C,He.Fragment=r,He.Profiler=a,He.PureComponent=I,He.StrictMode=i,He.Suspense=d,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,He.act=pe,He.cloneElement=function(W,ne,ye){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var me=x({},W.props),ie=W.key,ke=W.ref,Ve=W._owner;if(ne!=null){if(ne.ref!==void 0&&(ke=ne.ref,Ve=D.current),ne.key!==void 0&&(ie=""+ne.key),W.type&&W.type.defaultProps)var Be=W.type.defaultProps;for(Ke in ne)R.call(ne,Ke)&&!O.hasOwnProperty(Ke)&&(me[Ke]=ne[Ke]===void 0&&Be!==void 0?Be[Ke]:ne[Ke])}var Ke=arguments.length-2;if(Ke===1)me.children=ye;else if(1<Ke){Be=Array(Ke);for(var Ge=0;Ge<Ke;Ge++)Be[Ge]=arguments[Ge+2];me.children=Be}return{$$typeof:t,type:W.type,key:ie,ref:ke,props:me,_owner:Ve}},He.createContext=function(W){return W={$$typeof:c,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:o,_context:W},W.Consumer=W},He.createElement=L,He.createFactory=function(W){var ne=L.bind(null,W);return ne.type=W,ne},He.createRef=function(){return{current:null}},He.forwardRef=function(W){return{$$typeof:u,render:W}},He.isValidElement=z,He.lazy=function(W){return{$$typeof:y,_payload:{_status:-1,_result:W},_init:Ae}},He.memo=function(W,ne){return{$$typeof:p,type:W,compare:ne===void 0?null:ne}},He.startTransition=function(W){var ne=le.transition;le.transition={};try{W()}finally{le.transition=ne}},He.unstable_act=pe,He.useCallback=function(W,ne){return Ce.current.useCallback(W,ne)},He.useContext=function(W){return Ce.current.useContext(W)},He.useDebugValue=function(){},He.useDeferredValue=function(W){return Ce.current.useDeferredValue(W)},He.useEffect=function(W,ne){return Ce.current.useEffect(W,ne)},He.useId=function(){return Ce.current.useId()},He.useImperativeHandle=function(W,ne,ye){return Ce.current.useImperativeHandle(W,ne,ye)},He.useInsertionEffect=function(W,ne){return Ce.current.useInsertionEffect(W,ne)},He.useLayoutEffect=function(W,ne){return Ce.current.useLayoutEffect(W,ne)},He.useMemo=function(W,ne){return Ce.current.useMemo(W,ne)},He.useReducer=function(W,ne,ye){return Ce.current.useReducer(W,ne,ye)},He.useRef=function(W){return Ce.current.useRef(W)},He.useState=function(W){return Ce.current.useState(W)},He.useSyncExternalStore=function(W,ne,ye){return Ce.current.useSyncExternalStore(W,ne,ye)},He.useTransition=function(){return Ce.current.useTransition()},He.version="18.3.1",He}var Mm;function Hd(){return Mm||(Mm=1,Au.exports=Kx()),Au.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function Wx(){if(zm)return Vs;zm=1;var t=Hd(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(u,d,p){var y,m={},w=null,b=null;p!==void 0&&(w=""+p),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(b=d.ref);for(y in d)i.call(d,y)&&!o.hasOwnProperty(y)&&(m[y]=d[y]);if(u&&u.defaultProps)for(y in d=u.defaultProps,d)m[y]===void 0&&(m[y]=d[y]);return{$$typeof:e,type:u,key:w,ref:b,props:m,_owner:a.current}}return Vs.Fragment=r,Vs.jsx=c,Vs.jsxs=c,Vs}var Um;function Hx(){return Um||(Um=1,Tu.exports=Wx()),Tu.exports}var g=Hx(),B=Hd();const Me=Cl(B),Gx=dv({__proto__:null,default:Me},[B]);var No={},Pu={exports:{}},Jt={},ju={exports:{}},Ru={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function Yx(){return Bm||(Bm=1,(function(t){function e(le,ae){var pe=le.length;le.push(ae);e:for(;0<pe;){var W=pe-1>>>1,ne=le[W];if(0<a(ne,ae))le[W]=ae,le[pe]=ne,pe=W;else break e}}function r(le){return le.length===0?null:le[0]}function i(le){if(le.length===0)return null;var ae=le[0],pe=le.pop();if(pe!==ae){le[0]=pe;e:for(var W=0,ne=le.length,ye=ne>>>1;W<ye;){var me=2*(W+1)-1,ie=le[me],ke=me+1,Ve=le[ke];if(0>a(ie,pe))ke<ne&&0>a(Ve,ie)?(le[W]=Ve,le[ke]=pe,W=ke):(le[W]=ie,le[me]=pe,W=me);else if(ke<ne&&0>a(Ve,pe))le[W]=Ve,le[ke]=pe,W=ke;else break e}}return ae}function a(le,ae){var pe=le.sortIndex-ae.sortIndex;return pe!==0?pe:le.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var d=[],p=[],y=1,m=null,w=3,b=!1,x=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(le){for(var ae=r(p);ae!==null;){if(ae.callback===null)i(p);else if(ae.startTime<=le)i(p),ae.sortIndex=ae.expirationTime,e(d,ae);else break;ae=r(p)}}function P(le){if(E=!1,k(le),!x)if(r(d)!==null)x=!0,Ae(R);else{var ae=r(p);ae!==null&&Ce(P,ae.startTime-le)}}function R(le,ae){x=!1,E&&(E=!1,j(L),L=-1),b=!0;var pe=w;try{for(k(ae),m=r(d);m!==null&&(!(m.expirationTime>ae)||le&&!H());){var W=m.callback;if(typeof W=="function"){m.callback=null,w=m.priorityLevel;var ne=W(m.expirationTime<=ae);ae=t.unstable_now(),typeof ne=="function"?m.callback=ne:m===r(d)&&i(d),k(ae)}else i(d);m=r(d)}if(m!==null)var ye=!0;else{var me=r(p);me!==null&&Ce(P,me.startTime-ae),ye=!1}return ye}finally{m=null,w=pe,b=!1}}var D=!1,O=null,L=-1,J=5,z=-1;function H(){return!(t.unstable_now()-z<J)}function te(){if(O!==null){var le=t.unstable_now();z=le;var ae=!0;try{ae=O(!0,le)}finally{ae?oe():(D=!1,O=null)}}else D=!1}var oe;if(typeof I=="function")oe=function(){I(te)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,Re=be.port2;be.port1.onmessage=te,oe=function(){Re.postMessage(null)}}else oe=function(){C(te,0)};function Ae(le){O=le,D||(D=!0,oe())}function Ce(le,ae){L=C(function(){le(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(le){le.callback=null},t.unstable_continueExecution=function(){x||b||(x=!0,Ae(R))},t.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<le?Math.floor(1e3/le):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(le){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var pe=w;w=ae;try{return le()}finally{w=pe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(le,ae){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var pe=w;w=le;try{return ae()}finally{w=pe}},t.unstable_scheduleCallback=function(le,ae,pe){var W=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?W+pe:W):pe=W,le){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=pe+ne,le={id:y++,callback:ae,priorityLevel:le,startTime:pe,expirationTime:ne,sortIndex:-1},pe>W?(le.sortIndex=pe,e(p,le),r(d)===null&&le===r(p)&&(E?(j(L),L=-1):E=!0,Ce(P,pe-W))):(le.sortIndex=ne,e(d,le),x||b||(x=!0,Ae(R))),le},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(le){var ae=w;return function(){var pe=w;w=ae;try{return le.apply(this,arguments)}finally{w=pe}}}})(Ru)),Ru}var $m;function Jx(){return $m||($m=1,ju.exports=Yx()),ju.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function Qx(){if(Fm)return Jt;Fm=1;var t=Hd(),e=Jx();function r(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function o(n,s){c(n,s),c(n+"Capture",s)}function c(n,s){for(a[n]=s,n=0;n<s.length;n++)i.add(s[n])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},m={};function w(n){return d.call(m,n)?!0:d.call(y,n)?!1:p.test(n)?m[n]=!0:(y[n]=!0,!1)}function b(n,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function x(n,s,l,h){if(s===null||typeof s>"u"||b(n,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function E(n,s,l,h,v,_,A){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=v,this.mustUseProperty=l,this.propertyName=n,this.type=s,this.sanitizeURL=_,this.removeEmptyString=A}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){C[n]=new E(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];C[s]=new E(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){C[n]=new E(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){C[n]=new E(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){C[n]=new E(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){C[n]=new E(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){C[n]=new E(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){C[n]=new E(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){C[n]=new E(n,5,!1,n.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function I(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(j,I);C[s]=new E(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(j,I);C[s]=new E(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(j,I);C[s]=new E(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){C[n]=new E(n,1,!1,n.toLowerCase(),null,!1,!1)}),C.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){C[n]=new E(n,1,!1,n.toLowerCase(),null,!0,!0)});function k(n,s,l,h){var v=C.hasOwnProperty(s)?C[s]:null;(v!==null?v.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(x(s,l,v,h)&&(l=null),h||v===null?w(s)&&(l===null?n.removeAttribute(s):n.setAttribute(s,""+l)):v.mustUseProperty?n[v.propertyName]=l===null?v.type===3?!1:"":l:(s=v.attributeName,h=v.attributeNamespace,l===null?n.removeAttribute(s):(v=v.type,l=v===3||v===4&&l===!0?"":""+l,h?n.setAttributeNS(h,s,l):n.setAttribute(s,l))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),D=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),H=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),le=Symbol.iterator;function ae(n){return n===null||typeof n!="object"?null:(n=le&&n[le]||n["@@iterator"],typeof n=="function"?n:null)}var pe=Object.assign,W;function ne(n){if(W===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);W=s&&s[1]||""}return`
`+W+n}var ye=!1;function me(n,s){if(!n||ye)return"";ye=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Z){var h=Z}Reflect.construct(n,[],s)}else{try{s.call()}catch(Z){h=Z}n.call(s.prototype)}else{try{throw Error()}catch(Z){h=Z}n()}}catch(Z){if(Z&&h&&typeof Z.stack=="string"){for(var v=Z.stack.split(`
`),_=h.stack.split(`
`),A=v.length-1,M=_.length-1;1<=A&&0<=M&&v[A]!==_[M];)M--;for(;1<=A&&0<=M;A--,M--)if(v[A]!==_[M]){if(A!==1||M!==1)do if(A--,M--,0>M||v[A]!==_[M]){var F=`
`+v[A].replace(" at new "," at ");return n.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",n.displayName)),F}while(1<=A&&0<=M);break}}}finally{ye=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?ne(n):""}function ie(n){switch(n.tag){case 5:return ne(n.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return n=me(n.type,!1),n;case 11:return n=me(n.type.render,!1),n;case 1:return n=me(n.type,!0),n;default:return""}}function ke(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case O:return"Fragment";case D:return"Portal";case J:return"Profiler";case L:return"StrictMode";case oe:return"Suspense";case be:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case H:return(n.displayName||"Context")+".Consumer";case z:return(n._context.displayName||"Context")+".Provider";case te:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Re:return s=n.displayName||null,s!==null?s:ke(n.type)||"Memo";case Ae:s=n._payload,n=n._init;try{return ke(n(s))}catch{}}return null}function Ve(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(s);case 8:return s===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Be(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ke(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ge(n){var s=Ke(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),h=""+n[s];if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var v=l.get,_=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return v.call(this)},set:function(A){h=""+A,_.call(this,A)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(A){h=""+A},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function _t(n){n._valueTracker||(n._valueTracker=Ge(n))}function ct(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return n&&(h=Ke(n)?n.checked?"true":"false":n.value),n=h,n!==l?(s.setValue(n),!0):!1}function se(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ge(n,s){var l=s.checked;return pe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function V(n,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Be(s.value!=null?s.value:l),n._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function G(n,s){s=s.checked,s!=null&&k(n,"checked",s,!1)}function X(n,s){G(n,s);var l=Be(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(h==="submit"||h==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?N(n,s.type,l):s.hasOwnProperty("defaultValue")&&N(n,s.type,Be(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function he(n,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,l||s===n.value||(n.value=s),n.defaultValue=s}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function N(n,s,l){(s!=="number"||se(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var f=Array.isArray;function S(n,s,l,h){if(n=n.options,s){s={};for(var v=0;v<l.length;v++)s["$"+l[v]]=!0;for(l=0;l<n.length;l++)v=s.hasOwnProperty("$"+n[l].value),n[l].selected!==v&&(n[l].selected=v),v&&h&&(n[l].defaultSelected=!0)}else{for(l=""+Be(l),s=null,v=0;v<n.length;v++){if(n[v].value===l){n[v].selected=!0,h&&(n[v].defaultSelected=!0);return}s!==null||n[v].disabled||(s=n[v])}s!==null&&(s.selected=!0)}}function T(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return pe({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function U(n,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(r(92));if(f(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),l=s}n._wrapperState={initialValue:Be(l)}}function K(n,s){var l=Be(s.value),h=Be(s.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),s.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),h!=null&&(n.defaultValue=""+h)}function ee(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Ee(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $e(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Ee(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var et,We=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,v){MSApp.execUnsafeLocalFunction(function(){return n(s,l,h,v)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(et=et||document.createElement("div"),et.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=et.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Fe(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var ut={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Br=["Webkit","ms","Moz","O"];Object.keys(ut).forEach(function(n){Br.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),ut[s]=ut[n]})});function $r(n,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||ut.hasOwnProperty(n)&&ut[n]?(""+s).trim():s+"px"}function sn(n,s){n=n.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,v=$r(l,s[l],h);l==="float"&&(l="cssFloat"),h?n.setProperty(l,v):n[l]=v}}var an=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pr(n,s){if(s){if(an[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function Bl(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $l=null;function Fl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Vl=null,di=null,hi=null;function Xh(n){if(n=As(n)){if(typeof Vl!="function")throw Error(r(280));var s=n.stateNode;s&&(s=Ha(s),Vl(n.stateNode,n.type,s))}}function Zh(n){di?hi?hi.push(n):hi=[n]:di=n}function ef(){if(di){var n=di,s=hi;if(hi=di=null,Xh(n),s)for(n=0;n<s.length;n++)Xh(s[n])}}function tf(n,s){return n(s)}function rf(){}var ql=!1;function nf(n,s,l){if(ql)return n(s,l);ql=!0;try{return tf(n,s,l)}finally{ql=!1,(di!==null||hi!==null)&&(rf(),ef())}}function os(n,s){var l=n.stateNode;if(l===null)return null;var h=Ha(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Kl=!1;if(u)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){Kl=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{Kl=!1}function Y_(n,s,l,h,v,_,A,M,F){var Z=Array.prototype.slice.call(arguments,3);try{s.apply(l,Z)}catch(ue){this.onError(ue)}}var cs=!1,Ea=null,Ca=!1,Wl=null,J_={onError:function(n){cs=!0,Ea=n}};function Q_(n,s,l,h,v,_,A,M,F){cs=!1,Ea=null,Y_.apply(J_,arguments)}function X_(n,s,l,h,v,_,A,M,F){if(Q_.apply(this,arguments),cs){if(cs){var Z=Ea;cs=!1,Ea=null}else throw Error(r(198));Ca||(Ca=!0,Wl=Z)}}function Ln(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function sf(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function af(n){if(Ln(n)!==n)throw Error(r(188))}function Z_(n){var s=n.alternate;if(!s){if(s=Ln(n),s===null)throw Error(r(188));return s!==n?null:n}for(var l=n,h=s;;){var v=l.return;if(v===null)break;var _=v.alternate;if(_===null){if(h=v.return,h!==null){l=h;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===l)return af(v),n;if(_===h)return af(v),s;_=_.sibling}throw Error(r(188))}if(l.return!==h.return)l=v,h=_;else{for(var A=!1,M=v.child;M;){if(M===l){A=!0,l=v,h=_;break}if(M===h){A=!0,h=v,l=_;break}M=M.sibling}if(!A){for(M=_.child;M;){if(M===l){A=!0,l=_,h=v;break}if(M===h){A=!0,h=_,l=v;break}M=M.sibling}if(!A)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:s}function of(n){return n=Z_(n),n!==null?lf(n):null}function lf(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=lf(n);if(s!==null)return s;n=n.sibling}return null}var cf=e.unstable_scheduleCallback,uf=e.unstable_cancelCallback,eb=e.unstable_shouldYield,tb=e.unstable_requestPaint,gt=e.unstable_now,rb=e.unstable_getCurrentPriorityLevel,Hl=e.unstable_ImmediatePriority,df=e.unstable_UserBlockingPriority,Ta=e.unstable_NormalPriority,nb=e.unstable_LowPriority,hf=e.unstable_IdlePriority,Aa=null,jr=null;function ib(n){if(jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(Aa,n,void 0,(n.current.flags&128)===128)}catch{}}var pr=Math.clz32?Math.clz32:ob,sb=Math.log,ab=Math.LN2;function ob(n){return n>>>=0,n===0?32:31-(sb(n)/ab|0)|0}var Pa=64,ja=4194304;function us(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ra(n,s){var l=n.pendingLanes;if(l===0)return 0;var h=0,v=n.suspendedLanes,_=n.pingedLanes,A=l&268435455;if(A!==0){var M=A&~v;M!==0?h=us(M):(_&=A,_!==0&&(h=us(_)))}else A=l&~v,A!==0?h=us(A):_!==0&&(h=us(_));if(h===0)return 0;if(s!==0&&s!==h&&(s&v)===0&&(v=h&-h,_=s&-s,v>=_||v===16&&(_&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=h;0<s;)l=31-pr(s),v=1<<l,h|=n[l],s&=~v;return h}function lb(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cb(n,s){for(var l=n.suspendedLanes,h=n.pingedLanes,v=n.expirationTimes,_=n.pendingLanes;0<_;){var A=31-pr(_),M=1<<A,F=v[A];F===-1?((M&l)===0||(M&h)!==0)&&(v[A]=lb(M,s)):F<=s&&(n.expiredLanes|=M),_&=~M}}function Gl(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ff(){var n=Pa;return Pa<<=1,(Pa&4194240)===0&&(Pa=64),n}function Yl(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function ds(n,s,l){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-pr(s),n[s]=l}function ub(n,s){var l=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var h=n.eventTimes;for(n=n.expirationTimes;0<l;){var v=31-pr(l),_=1<<v;s[v]=0,h[v]=-1,n[v]=-1,l&=~_}}function Jl(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var h=31-pr(l),v=1<<h;v&s|n[h]&s&&(n[h]|=s),l&=~v}}var tt=0;function pf(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var mf,Ql,gf,yf,vf,Xl=!1,Oa=[],on=null,ln=null,cn=null,hs=new Map,fs=new Map,un=[],db="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wf(n,s){switch(n){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":cn=null;break;case"pointerover":case"pointerout":hs.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":fs.delete(s.pointerId)}}function ps(n,s,l,h,v,_){return n===null||n.nativeEvent!==_?(n={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[v]},s!==null&&(s=As(s),s!==null&&Ql(s)),n):(n.eventSystemFlags|=h,s=n.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),n)}function hb(n,s,l,h,v){switch(s){case"focusin":return on=ps(on,n,s,l,h,v),!0;case"dragenter":return ln=ps(ln,n,s,l,h,v),!0;case"mouseover":return cn=ps(cn,n,s,l,h,v),!0;case"pointerover":var _=v.pointerId;return hs.set(_,ps(hs.get(_)||null,n,s,l,h,v)),!0;case"gotpointercapture":return _=v.pointerId,fs.set(_,ps(fs.get(_)||null,n,s,l,h,v)),!0}return!1}function _f(n){var s=Mn(n.target);if(s!==null){var l=Ln(s);if(l!==null){if(s=l.tag,s===13){if(s=sf(l),s!==null){n.blockedOn=s,vf(n.priority,function(){gf(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Na(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=ec(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var h=new l.constructor(l.type,l);$l=h,l.target.dispatchEvent(h),$l=null}else return s=As(l),s!==null&&Ql(s),n.blockedOn=l,!1;s.shift()}return!0}function bf(n,s,l){Na(n)&&l.delete(s)}function fb(){Xl=!1,on!==null&&Na(on)&&(on=null),ln!==null&&Na(ln)&&(ln=null),cn!==null&&Na(cn)&&(cn=null),hs.forEach(bf),fs.forEach(bf)}function ms(n,s){n.blockedOn===s&&(n.blockedOn=null,Xl||(Xl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fb)))}function gs(n){function s(v){return ms(v,n)}if(0<Oa.length){ms(Oa[0],n);for(var l=1;l<Oa.length;l++){var h=Oa[l];h.blockedOn===n&&(h.blockedOn=null)}}for(on!==null&&ms(on,n),ln!==null&&ms(ln,n),cn!==null&&ms(cn,n),hs.forEach(s),fs.forEach(s),l=0;l<un.length;l++)h=un[l],h.blockedOn===n&&(h.blockedOn=null);for(;0<un.length&&(l=un[0],l.blockedOn===null);)_f(l),l.blockedOn===null&&un.shift()}var fi=P.ReactCurrentBatchConfig,Ia=!0;function pb(n,s,l,h){var v=tt,_=fi.transition;fi.transition=null;try{tt=1,Zl(n,s,l,h)}finally{tt=v,fi.transition=_}}function mb(n,s,l,h){var v=tt,_=fi.transition;fi.transition=null;try{tt=4,Zl(n,s,l,h)}finally{tt=v,fi.transition=_}}function Zl(n,s,l,h){if(Ia){var v=ec(n,s,l,h);if(v===null)yc(n,s,h,Da,l),wf(n,h);else if(hb(v,n,s,l,h))h.stopPropagation();else if(wf(n,h),s&4&&-1<db.indexOf(n)){for(;v!==null;){var _=As(v);if(_!==null&&mf(_),_=ec(n,s,l,h),_===null&&yc(n,s,h,Da,l),_===v)break;v=_}v!==null&&h.stopPropagation()}else yc(n,s,h,null,l)}}var Da=null;function ec(n,s,l,h){if(Da=null,n=Fl(h),n=Mn(n),n!==null)if(s=Ln(n),s===null)n=null;else if(l=s.tag,l===13){if(n=sf(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Da=n,null}function xf(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rb()){case Hl:return 1;case df:return 4;case Ta:case nb:return 16;case hf:return 536870912;default:return 16}default:return 16}}var dn=null,tc=null,La=null;function Sf(){if(La)return La;var n,s=tc,l=s.length,h,v="value"in dn?dn.value:dn.textContent,_=v.length;for(n=0;n<l&&s[n]===v[n];n++);var A=l-n;for(h=1;h<=A&&s[l-h]===v[_-h];h++);return La=v.slice(n,1<h?1-h:void 0)}function Ma(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function za(){return!0}function kf(){return!1}function Zt(n){function s(l,h,v,_,A){this._reactName=l,this._targetInst=v,this.type=h,this.nativeEvent=_,this.target=A,this.currentTarget=null;for(var M in n)n.hasOwnProperty(M)&&(l=n[M],this[M]=l?l(_):_[M]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?za:kf,this.isPropagationStopped=kf,this}return pe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=za)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=za)},persist:function(){},isPersistent:za}),s}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rc=Zt(pi),ys=pe({},pi,{view:0,detail:0}),gb=Zt(ys),nc,ic,vs,Ua=pe({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ac,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==vs&&(vs&&n.type==="mousemove"?(nc=n.screenX-vs.screenX,ic=n.screenY-vs.screenY):ic=nc=0,vs=n),nc)},movementY:function(n){return"movementY"in n?n.movementY:ic}}),Ef=Zt(Ua),yb=pe({},Ua,{dataTransfer:0}),vb=Zt(yb),wb=pe({},ys,{relatedTarget:0}),sc=Zt(wb),_b=pe({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),bb=Zt(_b),xb=pe({},pi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Sb=Zt(xb),kb=pe({},pi,{data:0}),Cf=Zt(kb),Eb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ab(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Tb[n])?!!s[n]:!1}function ac(){return Ab}var Pb=pe({},ys,{key:function(n){if(n.key){var s=Eb[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ma(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Cb[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ac,charCode:function(n){return n.type==="keypress"?Ma(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ma(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),jb=Zt(Pb),Rb=pe({},Ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tf=Zt(Rb),Ob=pe({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ac}),Nb=Zt(Ob),Ib=pe({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Db=Zt(Ib),Lb=pe({},Ua,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Mb=Zt(Lb),zb=[9,13,27,32],oc=u&&"CompositionEvent"in window,ws=null;u&&"documentMode"in document&&(ws=document.documentMode);var Ub=u&&"TextEvent"in window&&!ws,Af=u&&(!oc||ws&&8<ws&&11>=ws),Pf=" ",jf=!1;function Rf(n,s){switch(n){case"keyup":return zb.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Of(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var mi=!1;function Bb(n,s){switch(n){case"compositionend":return Of(s);case"keypress":return s.which!==32?null:(jf=!0,Pf);case"textInput":return n=s.data,n===Pf&&jf?null:n;default:return null}}function $b(n,s){if(mi)return n==="compositionend"||!oc&&Rf(n,s)?(n=Sf(),La=tc=dn=null,mi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Af&&s.locale!=="ko"?null:s.data;default:return null}}var Fb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Fb[n.type]:s==="textarea"}function If(n,s,l,h){Zh(h),s=qa(s,"onChange"),0<s.length&&(l=new rc("onChange","change",null,l,h),n.push({event:l,listeners:s}))}var _s=null,bs=null;function Vb(n){Xf(n,0)}function Ba(n){var s=_i(n);if(ct(s))return n}function qb(n,s){if(n==="change")return s}var Df=!1;if(u){var lc;if(u){var cc="oninput"in document;if(!cc){var Lf=document.createElement("div");Lf.setAttribute("oninput","return;"),cc=typeof Lf.oninput=="function"}lc=cc}else lc=!1;Df=lc&&(!document.documentMode||9<document.documentMode)}function Mf(){_s&&(_s.detachEvent("onpropertychange",zf),bs=_s=null)}function zf(n){if(n.propertyName==="value"&&Ba(bs)){var s=[];If(s,bs,n,Fl(n)),nf(Vb,s)}}function Kb(n,s,l){n==="focusin"?(Mf(),_s=s,bs=l,_s.attachEvent("onpropertychange",zf)):n==="focusout"&&Mf()}function Wb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ba(bs)}function Hb(n,s){if(n==="click")return Ba(s)}function Gb(n,s){if(n==="input"||n==="change")return Ba(s)}function Yb(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var mr=typeof Object.is=="function"?Object.is:Yb;function xs(n,s){if(mr(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var v=l[h];if(!d.call(s,v)||!mr(n[v],s[v]))return!1}return!0}function Uf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Bf(n,s){var l=Uf(n);n=0;for(var h;l;){if(l.nodeType===3){if(h=n+l.textContent.length,n<=s&&h>=s)return{node:l,offset:s-n};n=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Uf(l)}}function $f(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?$f(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Ff(){for(var n=window,s=se();s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=se(n.document)}return s}function uc(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function Jb(n){var s=Ff(),l=n.focusedElem,h=n.selectionRange;if(s!==l&&l&&l.ownerDocument&&$f(l.ownerDocument.documentElement,l)){if(h!==null&&uc(l)){if(s=h.start,n=h.end,n===void 0&&(n=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(n,l.value.length);else if(n=(s=l.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var v=l.textContent.length,_=Math.min(h.start,v);h=h.end===void 0?_:Math.min(h.end,v),!n.extend&&_>h&&(v=h,h=_,_=v),v=Bf(l,_);var A=Bf(l,h);v&&A&&(n.rangeCount!==1||n.anchorNode!==v.node||n.anchorOffset!==v.offset||n.focusNode!==A.node||n.focusOffset!==A.offset)&&(s=s.createRange(),s.setStart(v.node,v.offset),n.removeAllRanges(),_>h?(n.addRange(s),n.extend(A.node,A.offset)):(s.setEnd(A.node,A.offset),n.addRange(s)))}}for(s=[],n=l;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)n=s[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Qb=u&&"documentMode"in document&&11>=document.documentMode,gi=null,dc=null,Ss=null,hc=!1;function Vf(n,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;hc||gi==null||gi!==se(h)||(h=gi,"selectionStart"in h&&uc(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ss&&xs(Ss,h)||(Ss=h,h=qa(dc,"onSelect"),0<h.length&&(s=new rc("onSelect","select",null,s,l),n.push({event:s,listeners:h}),s.target=gi)))}function $a(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var yi={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionend:$a("Transition","TransitionEnd")},fc={},qf={};u&&(qf=document.createElement("div").style,"AnimationEvent"in window||(delete yi.animationend.animation,delete yi.animationiteration.animation,delete yi.animationstart.animation),"TransitionEvent"in window||delete yi.transitionend.transition);function Fa(n){if(fc[n])return fc[n];if(!yi[n])return n;var s=yi[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in qf)return fc[n]=s[l];return n}var Kf=Fa("animationend"),Wf=Fa("animationiteration"),Hf=Fa("animationstart"),Gf=Fa("transitionend"),Yf=new Map,Jf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hn(n,s){Yf.set(n,s),o(s,[n])}for(var pc=0;pc<Jf.length;pc++){var mc=Jf[pc],Xb=mc.toLowerCase(),Zb=mc[0].toUpperCase()+mc.slice(1);hn(Xb,"on"+Zb)}hn(Kf,"onAnimationEnd"),hn(Wf,"onAnimationIteration"),hn(Hf,"onAnimationStart"),hn("dblclick","onDoubleClick"),hn("focusin","onFocus"),hn("focusout","onBlur"),hn(Gf,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ex=new Set("cancel close invalid load scroll toggle".split(" ").concat(ks));function Qf(n,s,l){var h=n.type||"unknown-event";n.currentTarget=l,X_(h,s,void 0,n),n.currentTarget=null}function Xf(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var h=n[l],v=h.event;h=h.listeners;e:{var _=void 0;if(s)for(var A=h.length-1;0<=A;A--){var M=h[A],F=M.instance,Z=M.currentTarget;if(M=M.listener,F!==_&&v.isPropagationStopped())break e;Qf(v,M,Z),_=F}else for(A=0;A<h.length;A++){if(M=h[A],F=M.instance,Z=M.currentTarget,M=M.listener,F!==_&&v.isPropagationStopped())break e;Qf(v,M,Z),_=F}}}if(Ca)throw n=Wl,Ca=!1,Wl=null,n}function it(n,s){var l=s[Sc];l===void 0&&(l=s[Sc]=new Set);var h=n+"__bubble";l.has(h)||(Zf(s,n,2,!1),l.add(h))}function gc(n,s,l){var h=0;s&&(h|=4),Zf(l,n,h,s)}var Va="_reactListening"+Math.random().toString(36).slice(2);function Es(n){if(!n[Va]){n[Va]=!0,i.forEach(function(l){l!=="selectionchange"&&(ex.has(l)||gc(l,!1,n),gc(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Va]||(s[Va]=!0,gc("selectionchange",!1,s))}}function Zf(n,s,l,h){switch(xf(s)){case 1:var v=pb;break;case 4:v=mb;break;default:v=Zl}l=v.bind(null,s,l,n),v=void 0,!Kl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),h?v!==void 0?n.addEventListener(s,l,{capture:!0,passive:v}):n.addEventListener(s,l,!0):v!==void 0?n.addEventListener(s,l,{passive:v}):n.addEventListener(s,l,!1)}function yc(n,s,l,h,v){var _=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var M=h.stateNode.containerInfo;if(M===v||M.nodeType===8&&M.parentNode===v)break;if(A===4)for(A=h.return;A!==null;){var F=A.tag;if((F===3||F===4)&&(F=A.stateNode.containerInfo,F===v||F.nodeType===8&&F.parentNode===v))return;A=A.return}for(;M!==null;){if(A=Mn(M),A===null)return;if(F=A.tag,F===5||F===6){h=_=A;continue e}M=M.parentNode}}h=h.return}nf(function(){var Z=_,ue=Fl(l),de=[];e:{var ce=Yf.get(n);if(ce!==void 0){var we=rc,Se=n;switch(n){case"keypress":if(Ma(l)===0)break e;case"keydown":case"keyup":we=jb;break;case"focusin":Se="focus",we=sc;break;case"focusout":Se="blur",we=sc;break;case"beforeblur":case"afterblur":we=sc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Ef;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=vb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=Nb;break;case Kf:case Wf:case Hf:we=bb;break;case Gf:we=Db;break;case"scroll":we=gb;break;case"wheel":we=Mb;break;case"copy":case"cut":case"paste":we=Sb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=Tf}var Te=(s&4)!==0,yt=!Te&&n==="scroll",Y=Te?ce!==null?ce+"Capture":null:ce;Te=[];for(var q=Z,Q;q!==null;){Q=q;var fe=Q.stateNode;if(Q.tag===5&&fe!==null&&(Q=fe,Y!==null&&(fe=os(q,Y),fe!=null&&Te.push(Cs(q,fe,Q)))),yt)break;q=q.return}0<Te.length&&(ce=new we(ce,Se,null,l,ue),de.push({event:ce,listeners:Te}))}}if((s&7)===0){e:{if(ce=n==="mouseover"||n==="pointerover",we=n==="mouseout"||n==="pointerout",ce&&l!==$l&&(Se=l.relatedTarget||l.fromElement)&&(Mn(Se)||Se[Fr]))break e;if((we||ce)&&(ce=ue.window===ue?ue:(ce=ue.ownerDocument)?ce.defaultView||ce.parentWindow:window,we?(Se=l.relatedTarget||l.toElement,we=Z,Se=Se?Mn(Se):null,Se!==null&&(yt=Ln(Se),Se!==yt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(we=null,Se=Z),we!==Se)){if(Te=Ef,fe="onMouseLeave",Y="onMouseEnter",q="mouse",(n==="pointerout"||n==="pointerover")&&(Te=Tf,fe="onPointerLeave",Y="onPointerEnter",q="pointer"),yt=we==null?ce:_i(we),Q=Se==null?ce:_i(Se),ce=new Te(fe,q+"leave",we,l,ue),ce.target=yt,ce.relatedTarget=Q,fe=null,Mn(ue)===Z&&(Te=new Te(Y,q+"enter",Se,l,ue),Te.target=Q,Te.relatedTarget=yt,fe=Te),yt=fe,we&&Se)t:{for(Te=we,Y=Se,q=0,Q=Te;Q;Q=vi(Q))q++;for(Q=0,fe=Y;fe;fe=vi(fe))Q++;for(;0<q-Q;)Te=vi(Te),q--;for(;0<Q-q;)Y=vi(Y),Q--;for(;q--;){if(Te===Y||Y!==null&&Te===Y.alternate)break t;Te=vi(Te),Y=vi(Y)}Te=null}else Te=null;we!==null&&ep(de,ce,we,Te,!1),Se!==null&&yt!==null&&ep(de,yt,Se,Te,!0)}}e:{if(ce=Z?_i(Z):window,we=ce.nodeName&&ce.nodeName.toLowerCase(),we==="select"||we==="input"&&ce.type==="file")var Pe=qb;else if(Nf(ce))if(Df)Pe=Gb;else{Pe=Wb;var Oe=Kb}else(we=ce.nodeName)&&we.toLowerCase()==="input"&&(ce.type==="checkbox"||ce.type==="radio")&&(Pe=Hb);if(Pe&&(Pe=Pe(n,Z))){If(de,Pe,l,ue);break e}Oe&&Oe(n,ce,Z),n==="focusout"&&(Oe=ce._wrapperState)&&Oe.controlled&&ce.type==="number"&&N(ce,"number",ce.value)}switch(Oe=Z?_i(Z):window,n){case"focusin":(Nf(Oe)||Oe.contentEditable==="true")&&(gi=Oe,dc=Z,Ss=null);break;case"focusout":Ss=dc=gi=null;break;case"mousedown":hc=!0;break;case"contextmenu":case"mouseup":case"dragend":hc=!1,Vf(de,l,ue);break;case"selectionchange":if(Qb)break;case"keydown":case"keyup":Vf(de,l,ue)}var Ne;if(oc)e:{switch(n){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else mi?Rf(n,l)&&(ze="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(ze="onCompositionStart");ze&&(Af&&l.locale!=="ko"&&(mi||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&mi&&(Ne=Sf()):(dn=ue,tc="value"in dn?dn.value:dn.textContent,mi=!0)),Oe=qa(Z,ze),0<Oe.length&&(ze=new Cf(ze,n,null,l,ue),de.push({event:ze,listeners:Oe}),Ne?ze.data=Ne:(Ne=Of(l),Ne!==null&&(ze.data=Ne)))),(Ne=Ub?Bb(n,l):$b(n,l))&&(Z=qa(Z,"onBeforeInput"),0<Z.length&&(ue=new Cf("onBeforeInput","beforeinput",null,l,ue),de.push({event:ue,listeners:Z}),ue.data=Ne))}Xf(de,s)})}function Cs(n,s,l){return{instance:n,listener:s,currentTarget:l}}function qa(n,s){for(var l=s+"Capture",h=[];n!==null;){var v=n,_=v.stateNode;v.tag===5&&_!==null&&(v=_,_=os(n,l),_!=null&&h.unshift(Cs(n,_,v)),_=os(n,s),_!=null&&h.push(Cs(n,_,v))),n=n.return}return h}function vi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function ep(n,s,l,h,v){for(var _=s._reactName,A=[];l!==null&&l!==h;){var M=l,F=M.alternate,Z=M.stateNode;if(F!==null&&F===h)break;M.tag===5&&Z!==null&&(M=Z,v?(F=os(l,_),F!=null&&A.unshift(Cs(l,F,M))):v||(F=os(l,_),F!=null&&A.push(Cs(l,F,M)))),l=l.return}A.length!==0&&n.push({event:s,listeners:A})}var tx=/\r\n?/g,rx=/\u0000|\uFFFD/g;function tp(n){return(typeof n=="string"?n:""+n).replace(tx,`
`).replace(rx,"")}function Ka(n,s,l){if(s=tp(s),tp(n)!==s&&l)throw Error(r(425))}function Wa(){}var vc=null,wc=null;function _c(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var bc=typeof setTimeout=="function"?setTimeout:void 0,nx=typeof clearTimeout=="function"?clearTimeout:void 0,rp=typeof Promise=="function"?Promise:void 0,ix=typeof queueMicrotask=="function"?queueMicrotask:typeof rp<"u"?function(n){return rp.resolve(null).then(n).catch(sx)}:bc;function sx(n){setTimeout(function(){throw n})}function xc(n,s){var l=s,h=0;do{var v=l.nextSibling;if(n.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(h===0){n.removeChild(v),gs(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=v}while(l);gs(s)}function fn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function np(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return n;s--}else l==="/$"&&s++}n=n.previousSibling}return null}var wi=Math.random().toString(36).slice(2),Rr="__reactFiber$"+wi,Ts="__reactProps$"+wi,Fr="__reactContainer$"+wi,Sc="__reactEvents$"+wi,ax="__reactListeners$"+wi,ox="__reactHandles$"+wi;function Mn(n){var s=n[Rr];if(s)return s;for(var l=n.parentNode;l;){if(s=l[Fr]||l[Rr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=np(n);n!==null;){if(l=n[Rr])return l;n=np(n)}return s}n=l,l=n.parentNode}return null}function As(n){return n=n[Rr]||n[Fr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function _i(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Ha(n){return n[Ts]||null}var kc=[],bi=-1;function pn(n){return{current:n}}function st(n){0>bi||(n.current=kc[bi],kc[bi]=null,bi--)}function rt(n,s){bi++,kc[bi]=n.current,n.current=s}var mn={},It=pn(mn),qt=pn(!1),zn=mn;function xi(n,s){var l=n.type.contextTypes;if(!l)return mn;var h=n.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var v={},_;for(_ in l)v[_]=s[_];return h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=v),v}function Kt(n){return n=n.childContextTypes,n!=null}function Ga(){st(qt),st(It)}function ip(n,s,l){if(It.current!==mn)throw Error(r(168));rt(It,s),rt(qt,l)}function sp(n,s,l){var h=n.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var v in h)if(!(v in s))throw Error(r(108,Ve(n)||"Unknown",v));return pe({},l,h)}function Ya(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||mn,zn=It.current,rt(It,n),rt(qt,qt.current),!0}function ap(n,s,l){var h=n.stateNode;if(!h)throw Error(r(169));l?(n=sp(n,s,zn),h.__reactInternalMemoizedMergedChildContext=n,st(qt),st(It),rt(It,n)):st(qt),rt(qt,l)}var Vr=null,Ja=!1,Ec=!1;function op(n){Vr===null?Vr=[n]:Vr.push(n)}function lx(n){Ja=!0,op(n)}function gn(){if(!Ec&&Vr!==null){Ec=!0;var n=0,s=tt;try{var l=Vr;for(tt=1;n<l.length;n++){var h=l[n];do h=h(!0);while(h!==null)}Vr=null,Ja=!1}catch(v){throw Vr!==null&&(Vr=Vr.slice(n+1)),cf(Hl,gn),v}finally{tt=s,Ec=!1}}return null}var Si=[],ki=0,Qa=null,Xa=0,ar=[],or=0,Un=null,qr=1,Kr="";function Bn(n,s){Si[ki++]=Xa,Si[ki++]=Qa,Qa=n,Xa=s}function lp(n,s,l){ar[or++]=qr,ar[or++]=Kr,ar[or++]=Un,Un=n;var h=qr;n=Kr;var v=32-pr(h)-1;h&=~(1<<v),l+=1;var _=32-pr(s)+v;if(30<_){var A=v-v%5;_=(h&(1<<A)-1).toString(32),h>>=A,v-=A,qr=1<<32-pr(s)+v|l<<v|h,Kr=_+n}else qr=1<<_|l<<v|h,Kr=n}function Cc(n){n.return!==null&&(Bn(n,1),lp(n,1,0))}function Tc(n){for(;n===Qa;)Qa=Si[--ki],Si[ki]=null,Xa=Si[--ki],Si[ki]=null;for(;n===Un;)Un=ar[--or],ar[or]=null,Kr=ar[--or],ar[or]=null,qr=ar[--or],ar[or]=null}var er=null,tr=null,ot=!1,gr=null;function cp(n,s){var l=dr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=n,s=n.deletions,s===null?(n.deletions=[l],n.flags|=16):s.push(l)}function up(n,s){switch(n.tag){case 5:var l=n.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,er=n,tr=fn(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,er=n,tr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Un!==null?{id:qr,overflow:Kr}:null,n.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=dr(18,null,null,0),l.stateNode=s,l.return=n,n.child=l,er=n,tr=null,!0):!1;default:return!1}}function Ac(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Pc(n){if(ot){var s=tr;if(s){var l=s;if(!up(n,s)){if(Ac(n))throw Error(r(418));s=fn(l.nextSibling);var h=er;s&&up(n,s)?cp(h,l):(n.flags=n.flags&-4097|2,ot=!1,er=n)}}else{if(Ac(n))throw Error(r(418));n.flags=n.flags&-4097|2,ot=!1,er=n}}}function dp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;er=n}function Za(n){if(n!==er)return!1;if(!ot)return dp(n),ot=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!_c(n.type,n.memoizedProps)),s&&(s=tr)){if(Ac(n))throw hp(),Error(r(418));for(;s;)cp(n,s),s=fn(s.nextSibling)}if(dp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(s===0){tr=fn(n.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}n=n.nextSibling}tr=null}}else tr=er?fn(n.stateNode.nextSibling):null;return!0}function hp(){for(var n=tr;n;)n=fn(n.nextSibling)}function Ei(){tr=er=null,ot=!1}function jc(n){gr===null?gr=[n]:gr.push(n)}var cx=P.ReactCurrentBatchConfig;function Ps(n,s,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var h=l.stateNode}if(!h)throw Error(r(147,n));var v=h,_=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===_?s.ref:(s=function(A){var M=v.refs;A===null?delete M[_]:M[_]=A},s._stringRef=_,s)}if(typeof n!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,n))}return n}function eo(n,s){throw n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function fp(n){var s=n._init;return s(n._payload)}function pp(n){function s(Y,q){if(n){var Q=Y.deletions;Q===null?(Y.deletions=[q],Y.flags|=16):Q.push(q)}}function l(Y,q){if(!n)return null;for(;q!==null;)s(Y,q),q=q.sibling;return null}function h(Y,q){for(Y=new Map;q!==null;)q.key!==null?Y.set(q.key,q):Y.set(q.index,q),q=q.sibling;return Y}function v(Y,q){return Y=kn(Y,q),Y.index=0,Y.sibling=null,Y}function _(Y,q,Q){return Y.index=Q,n?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<q?(Y.flags|=2,q):Q):(Y.flags|=2,q)):(Y.flags|=1048576,q)}function A(Y){return n&&Y.alternate===null&&(Y.flags|=2),Y}function M(Y,q,Q,fe){return q===null||q.tag!==6?(q=bu(Q,Y.mode,fe),q.return=Y,q):(q=v(q,Q),q.return=Y,q)}function F(Y,q,Q,fe){var Pe=Q.type;return Pe===O?ue(Y,q,Q.props.children,fe,Q.key):q!==null&&(q.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===Ae&&fp(Pe)===q.type)?(fe=v(q,Q.props),fe.ref=Ps(Y,q,Q),fe.return=Y,fe):(fe=Eo(Q.type,Q.key,Q.props,null,Y.mode,fe),fe.ref=Ps(Y,q,Q),fe.return=Y,fe)}function Z(Y,q,Q,fe){return q===null||q.tag!==4||q.stateNode.containerInfo!==Q.containerInfo||q.stateNode.implementation!==Q.implementation?(q=xu(Q,Y.mode,fe),q.return=Y,q):(q=v(q,Q.children||[]),q.return=Y,q)}function ue(Y,q,Q,fe,Pe){return q===null||q.tag!==7?(q=Gn(Q,Y.mode,fe,Pe),q.return=Y,q):(q=v(q,Q),q.return=Y,q)}function de(Y,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number")return q=bu(""+q,Y.mode,Q),q.return=Y,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case R:return Q=Eo(q.type,q.key,q.props,null,Y.mode,Q),Q.ref=Ps(Y,null,q),Q.return=Y,Q;case D:return q=xu(q,Y.mode,Q),q.return=Y,q;case Ae:var fe=q._init;return de(Y,fe(q._payload),Q)}if(f(q)||ae(q))return q=Gn(q,Y.mode,Q,null),q.return=Y,q;eo(Y,q)}return null}function ce(Y,q,Q,fe){var Pe=q!==null?q.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Pe!==null?null:M(Y,q,""+Q,fe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case R:return Q.key===Pe?F(Y,q,Q,fe):null;case D:return Q.key===Pe?Z(Y,q,Q,fe):null;case Ae:return Pe=Q._init,ce(Y,q,Pe(Q._payload),fe)}if(f(Q)||ae(Q))return Pe!==null?null:ue(Y,q,Q,fe,null);eo(Y,Q)}return null}function we(Y,q,Q,fe,Pe){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return Y=Y.get(Q)||null,M(q,Y,""+fe,Pe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case R:return Y=Y.get(fe.key===null?Q:fe.key)||null,F(q,Y,fe,Pe);case D:return Y=Y.get(fe.key===null?Q:fe.key)||null,Z(q,Y,fe,Pe);case Ae:var Oe=fe._init;return we(Y,q,Q,Oe(fe._payload),Pe)}if(f(fe)||ae(fe))return Y=Y.get(Q)||null,ue(q,Y,fe,Pe,null);eo(q,fe)}return null}function Se(Y,q,Q,fe){for(var Pe=null,Oe=null,Ne=q,ze=q=0,At=null;Ne!==null&&ze<Q.length;ze++){Ne.index>ze?(At=Ne,Ne=null):At=Ne.sibling;var Je=ce(Y,Ne,Q[ze],fe);if(Je===null){Ne===null&&(Ne=At);break}n&&Ne&&Je.alternate===null&&s(Y,Ne),q=_(Je,q,ze),Oe===null?Pe=Je:Oe.sibling=Je,Oe=Je,Ne=At}if(ze===Q.length)return l(Y,Ne),ot&&Bn(Y,ze),Pe;if(Ne===null){for(;ze<Q.length;ze++)Ne=de(Y,Q[ze],fe),Ne!==null&&(q=_(Ne,q,ze),Oe===null?Pe=Ne:Oe.sibling=Ne,Oe=Ne);return ot&&Bn(Y,ze),Pe}for(Ne=h(Y,Ne);ze<Q.length;ze++)At=we(Ne,Y,ze,Q[ze],fe),At!==null&&(n&&At.alternate!==null&&Ne.delete(At.key===null?ze:At.key),q=_(At,q,ze),Oe===null?Pe=At:Oe.sibling=At,Oe=At);return n&&Ne.forEach(function(En){return s(Y,En)}),ot&&Bn(Y,ze),Pe}function Te(Y,q,Q,fe){var Pe=ae(Q);if(typeof Pe!="function")throw Error(r(150));if(Q=Pe.call(Q),Q==null)throw Error(r(151));for(var Oe=Pe=null,Ne=q,ze=q=0,At=null,Je=Q.next();Ne!==null&&!Je.done;ze++,Je=Q.next()){Ne.index>ze?(At=Ne,Ne=null):At=Ne.sibling;var En=ce(Y,Ne,Je.value,fe);if(En===null){Ne===null&&(Ne=At);break}n&&Ne&&En.alternate===null&&s(Y,Ne),q=_(En,q,ze),Oe===null?Pe=En:Oe.sibling=En,Oe=En,Ne=At}if(Je.done)return l(Y,Ne),ot&&Bn(Y,ze),Pe;if(Ne===null){for(;!Je.done;ze++,Je=Q.next())Je=de(Y,Je.value,fe),Je!==null&&(q=_(Je,q,ze),Oe===null?Pe=Je:Oe.sibling=Je,Oe=Je);return ot&&Bn(Y,ze),Pe}for(Ne=h(Y,Ne);!Je.done;ze++,Je=Q.next())Je=we(Ne,Y,ze,Je.value,fe),Je!==null&&(n&&Je.alternate!==null&&Ne.delete(Je.key===null?ze:Je.key),q=_(Je,q,ze),Oe===null?Pe=Je:Oe.sibling=Je,Oe=Je);return n&&Ne.forEach(function(Fx){return s(Y,Fx)}),ot&&Bn(Y,ze),Pe}function yt(Y,q,Q,fe){if(typeof Q=="object"&&Q!==null&&Q.type===O&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case R:e:{for(var Pe=Q.key,Oe=q;Oe!==null;){if(Oe.key===Pe){if(Pe=Q.type,Pe===O){if(Oe.tag===7){l(Y,Oe.sibling),q=v(Oe,Q.props.children),q.return=Y,Y=q;break e}}else if(Oe.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===Ae&&fp(Pe)===Oe.type){l(Y,Oe.sibling),q=v(Oe,Q.props),q.ref=Ps(Y,Oe,Q),q.return=Y,Y=q;break e}l(Y,Oe);break}else s(Y,Oe);Oe=Oe.sibling}Q.type===O?(q=Gn(Q.props.children,Y.mode,fe,Q.key),q.return=Y,Y=q):(fe=Eo(Q.type,Q.key,Q.props,null,Y.mode,fe),fe.ref=Ps(Y,q,Q),fe.return=Y,Y=fe)}return A(Y);case D:e:{for(Oe=Q.key;q!==null;){if(q.key===Oe)if(q.tag===4&&q.stateNode.containerInfo===Q.containerInfo&&q.stateNode.implementation===Q.implementation){l(Y,q.sibling),q=v(q,Q.children||[]),q.return=Y,Y=q;break e}else{l(Y,q);break}else s(Y,q);q=q.sibling}q=xu(Q,Y.mode,fe),q.return=Y,Y=q}return A(Y);case Ae:return Oe=Q._init,yt(Y,q,Oe(Q._payload),fe)}if(f(Q))return Se(Y,q,Q,fe);if(ae(Q))return Te(Y,q,Q,fe);eo(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,q!==null&&q.tag===6?(l(Y,q.sibling),q=v(q,Q),q.return=Y,Y=q):(l(Y,q),q=bu(Q,Y.mode,fe),q.return=Y,Y=q),A(Y)):l(Y,q)}return yt}var Ci=pp(!0),mp=pp(!1),to=pn(null),ro=null,Ti=null,Rc=null;function Oc(){Rc=Ti=ro=null}function Nc(n){var s=to.current;st(to),n._currentValue=s}function Ic(n,s,l){for(;n!==null;){var h=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),n===l)break;n=n.return}}function Ai(n,s){ro=n,Rc=Ti=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Wt=!0),n.firstContext=null)}function lr(n){var s=n._currentValue;if(Rc!==n)if(n={context:n,memoizedValue:s,next:null},Ti===null){if(ro===null)throw Error(r(308));Ti=n,ro.dependencies={lanes:0,firstContext:n}}else Ti=Ti.next=n;return s}var $n=null;function Dc(n){$n===null?$n=[n]:$n.push(n)}function gp(n,s,l,h){var v=s.interleaved;return v===null?(l.next=l,Dc(s)):(l.next=v.next,v.next=l),s.interleaved=l,Wr(n,h)}function Wr(n,s){n.lanes|=s;var l=n.alternate;for(l!==null&&(l.lanes|=s),l=n,n=n.return;n!==null;)n.childLanes|=s,l=n.alternate,l!==null&&(l.childLanes|=s),l=n,n=n.return;return l.tag===3?l.stateNode:null}var yn=!1;function Lc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yp(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Hr(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function vn(n,s,l){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(Ye&2)!==0){var v=h.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),h.pending=s,Wr(n,l)}return v=h.interleaved,v===null?(s.next=s,Dc(h)):(s.next=v.next,v.next=s),h.interleaved=s,Wr(n,l)}function no(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=n.pendingLanes,l|=h,s.lanes=l,Jl(n,l)}}function vp(n,s){var l=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var v=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var A={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};_===null?v=_=A:_=_.next=A,l=l.next}while(l!==null);_===null?v=_=s:_=_.next=s}else v=_=s;l={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:h.shared,effects:h.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}function io(n,s,l,h){var v=n.updateQueue;yn=!1;var _=v.firstBaseUpdate,A=v.lastBaseUpdate,M=v.shared.pending;if(M!==null){v.shared.pending=null;var F=M,Z=F.next;F.next=null,A===null?_=Z:A.next=Z,A=F;var ue=n.alternate;ue!==null&&(ue=ue.updateQueue,M=ue.lastBaseUpdate,M!==A&&(M===null?ue.firstBaseUpdate=Z:M.next=Z,ue.lastBaseUpdate=F))}if(_!==null){var de=v.baseState;A=0,ue=Z=F=null,M=_;do{var ce=M.lane,we=M.eventTime;if((h&ce)===ce){ue!==null&&(ue=ue.next={eventTime:we,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Se=n,Te=M;switch(ce=s,we=l,Te.tag){case 1:if(Se=Te.payload,typeof Se=="function"){de=Se.call(we,de,ce);break e}de=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Te.payload,ce=typeof Se=="function"?Se.call(we,de,ce):Se,ce==null)break e;de=pe({},de,ce);break e;case 2:yn=!0}}M.callback!==null&&M.lane!==0&&(n.flags|=64,ce=v.effects,ce===null?v.effects=[M]:ce.push(M))}else we={eventTime:we,lane:ce,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ue===null?(Z=ue=we,F=de):ue=ue.next=we,A|=ce;if(M=M.next,M===null){if(M=v.shared.pending,M===null)break;ce=M,M=ce.next,ce.next=null,v.lastBaseUpdate=ce,v.shared.pending=null}}while(!0);if(ue===null&&(F=de),v.baseState=F,v.firstBaseUpdate=Z,v.lastBaseUpdate=ue,s=v.shared.interleaved,s!==null){v=s;do A|=v.lane,v=v.next;while(v!==s)}else _===null&&(v.shared.lanes=0);qn|=A,n.lanes=A,n.memoizedState=de}}function wp(n,s,l){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var h=n[s],v=h.callback;if(v!==null){if(h.callback=null,h=l,typeof v!="function")throw Error(r(191,v));v.call(h)}}}var js={},Or=pn(js),Rs=pn(js),Os=pn(js);function Fn(n){if(n===js)throw Error(r(174));return n}function Mc(n,s){switch(rt(Os,s),rt(Rs,n),rt(Or,js),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:$e(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=$e(s,n)}st(Or),rt(Or,s)}function Pi(){st(Or),st(Rs),st(Os)}function _p(n){Fn(Os.current);var s=Fn(Or.current),l=$e(s,n.type);s!==l&&(rt(Rs,n),rt(Or,l))}function zc(n){Rs.current===n&&(st(Or),st(Rs))}var dt=pn(0);function so(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Uc=[];function Bc(){for(var n=0;n<Uc.length;n++)Uc[n]._workInProgressVersionPrimary=null;Uc.length=0}var ao=P.ReactCurrentDispatcher,$c=P.ReactCurrentBatchConfig,Vn=0,ht=null,kt=null,Ct=null,oo=!1,Ns=!1,Is=0,ux=0;function Dt(){throw Error(r(321))}function Fc(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!mr(n[l],s[l]))return!1;return!0}function Vc(n,s,l,h,v,_){if(Vn=_,ht=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ao.current=n===null||n.memoizedState===null?px:mx,n=l(h,v),Ns){_=0;do{if(Ns=!1,Is=0,25<=_)throw Error(r(301));_+=1,Ct=kt=null,s.updateQueue=null,ao.current=gx,n=l(h,v)}while(Ns)}if(ao.current=uo,s=kt!==null&&kt.next!==null,Vn=0,Ct=kt=ht=null,oo=!1,s)throw Error(r(300));return n}function qc(){var n=Is!==0;return Is=0,n}function Nr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?ht.memoizedState=Ct=n:Ct=Ct.next=n,Ct}function cr(){if(kt===null){var n=ht.alternate;n=n!==null?n.memoizedState:null}else n=kt.next;var s=Ct===null?ht.memoizedState:Ct.next;if(s!==null)Ct=s,kt=n;else{if(n===null)throw Error(r(310));kt=n,n={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Ct===null?ht.memoizedState=Ct=n:Ct=Ct.next=n}return Ct}function Ds(n,s){return typeof s=="function"?s(n):s}function Kc(n){var s=cr(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var h=kt,v=h.baseQueue,_=l.pending;if(_!==null){if(v!==null){var A=v.next;v.next=_.next,_.next=A}h.baseQueue=v=_,l.pending=null}if(v!==null){_=v.next,h=h.baseState;var M=A=null,F=null,Z=_;do{var ue=Z.lane;if((Vn&ue)===ue)F!==null&&(F=F.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),h=Z.hasEagerState?Z.eagerState:n(h,Z.action);else{var de={lane:ue,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};F===null?(M=F=de,A=h):F=F.next=de,ht.lanes|=ue,qn|=ue}Z=Z.next}while(Z!==null&&Z!==_);F===null?A=h:F.next=M,mr(h,s.memoizedState)||(Wt=!0),s.memoizedState=h,s.baseState=A,s.baseQueue=F,l.lastRenderedState=h}if(n=l.interleaved,n!==null){v=n;do _=v.lane,ht.lanes|=_,qn|=_,v=v.next;while(v!==n)}else v===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Wc(n){var s=cr(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var h=l.dispatch,v=l.pending,_=s.memoizedState;if(v!==null){l.pending=null;var A=v=v.next;do _=n(_,A.action),A=A.next;while(A!==v);mr(_,s.memoizedState)||(Wt=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,h]}function bp(){}function xp(n,s){var l=ht,h=cr(),v=s(),_=!mr(h.memoizedState,v);if(_&&(h.memoizedState=v,Wt=!0),h=h.queue,Hc(Ep.bind(null,l,h,n),[n]),h.getSnapshot!==s||_||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Ls(9,kp.bind(null,l,h,v,s),void 0,null),Tt===null)throw Error(r(349));(Vn&30)!==0||Sp(l,s,v)}return v}function Sp(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=ht.updateQueue,s===null?(s={lastEffect:null,stores:null},ht.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function kp(n,s,l,h){s.value=l,s.getSnapshot=h,Cp(s)&&Tp(n)}function Ep(n,s,l){return l(function(){Cp(s)&&Tp(n)})}function Cp(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!mr(n,l)}catch{return!0}}function Tp(n){var s=Wr(n,1);s!==null&&_r(s,n,1,-1)}function Ap(n){var s=Nr();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:n},s.queue=n,n=n.dispatch=fx.bind(null,ht,n),[s.memoizedState,n]}function Ls(n,s,l,h){return n={tag:n,create:s,destroy:l,deps:h,next:null},s=ht.updateQueue,s===null?(s={lastEffect:null,stores:null},ht.updateQueue=s,s.lastEffect=n.next=n):(l=s.lastEffect,l===null?s.lastEffect=n.next=n:(h=l.next,l.next=n,n.next=h,s.lastEffect=n)),n}function Pp(){return cr().memoizedState}function lo(n,s,l,h){var v=Nr();ht.flags|=n,v.memoizedState=Ls(1|s,l,void 0,h===void 0?null:h)}function co(n,s,l,h){var v=cr();h=h===void 0?null:h;var _=void 0;if(kt!==null){var A=kt.memoizedState;if(_=A.destroy,h!==null&&Fc(h,A.deps)){v.memoizedState=Ls(s,l,_,h);return}}ht.flags|=n,v.memoizedState=Ls(1|s,l,_,h)}function jp(n,s){return lo(8390656,8,n,s)}function Hc(n,s){return co(2048,8,n,s)}function Rp(n,s){return co(4,2,n,s)}function Op(n,s){return co(4,4,n,s)}function Np(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Ip(n,s,l){return l=l!=null?l.concat([n]):null,co(4,4,Np.bind(null,s,n),l)}function Gc(){}function Dp(n,s){var l=cr();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Fc(s,h[1])?h[0]:(l.memoizedState=[n,s],n)}function Lp(n,s){var l=cr();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Fc(s,h[1])?h[0]:(n=n(),l.memoizedState=[n,s],n)}function Mp(n,s,l){return(Vn&21)===0?(n.baseState&&(n.baseState=!1,Wt=!0),n.memoizedState=l):(mr(l,s)||(l=ff(),ht.lanes|=l,qn|=l,n.baseState=!0),s)}function dx(n,s){var l=tt;tt=l!==0&&4>l?l:4,n(!0);var h=$c.transition;$c.transition={};try{n(!1),s()}finally{tt=l,$c.transition=h}}function zp(){return cr().memoizedState}function hx(n,s,l){var h=xn(n);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Up(n))Bp(s,l);else if(l=gp(n,s,l,h),l!==null){var v=Ft();_r(l,n,h,v),$p(l,s,h)}}function fx(n,s,l){var h=xn(n),v={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Up(n))Bp(s,v);else{var _=n.alternate;if(n.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var A=s.lastRenderedState,M=_(A,l);if(v.hasEagerState=!0,v.eagerState=M,mr(M,A)){var F=s.interleaved;F===null?(v.next=v,Dc(s)):(v.next=F.next,F.next=v),s.interleaved=v;return}}catch{}finally{}l=gp(n,s,v,h),l!==null&&(v=Ft(),_r(l,n,h,v),$p(l,s,h))}}function Up(n){var s=n.alternate;return n===ht||s!==null&&s===ht}function Bp(n,s){Ns=oo=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function $p(n,s,l){if((l&4194240)!==0){var h=s.lanes;h&=n.pendingLanes,l|=h,s.lanes=l,Jl(n,l)}}var uo={readContext:lr,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},px={readContext:lr,useCallback:function(n,s){return Nr().memoizedState=[n,s===void 0?null:s],n},useContext:lr,useEffect:jp,useImperativeHandle:function(n,s,l){return l=l!=null?l.concat([n]):null,lo(4194308,4,Np.bind(null,s,n),l)},useLayoutEffect:function(n,s){return lo(4194308,4,n,s)},useInsertionEffect:function(n,s){return lo(4,2,n,s)},useMemo:function(n,s){var l=Nr();return s=s===void 0?null:s,n=n(),l.memoizedState=[n,s],n},useReducer:function(n,s,l){var h=Nr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},h.queue=n,n=n.dispatch=hx.bind(null,ht,n),[h.memoizedState,n]},useRef:function(n){var s=Nr();return n={current:n},s.memoizedState=n},useState:Ap,useDebugValue:Gc,useDeferredValue:function(n){return Nr().memoizedState=n},useTransition:function(){var n=Ap(!1),s=n[0];return n=dx.bind(null,n[1]),Nr().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,l){var h=ht,v=Nr();if(ot){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Tt===null)throw Error(r(349));(Vn&30)!==0||Sp(h,s,l)}v.memoizedState=l;var _={value:l,getSnapshot:s};return v.queue=_,jp(Ep.bind(null,h,_,n),[n]),h.flags|=2048,Ls(9,kp.bind(null,h,_,l,s),void 0,null),l},useId:function(){var n=Nr(),s=Tt.identifierPrefix;if(ot){var l=Kr,h=qr;l=(h&~(1<<32-pr(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=Is++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=ux++,s=":"+s+"r"+l.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},mx={readContext:lr,useCallback:Dp,useContext:lr,useEffect:Hc,useImperativeHandle:Ip,useInsertionEffect:Rp,useLayoutEffect:Op,useMemo:Lp,useReducer:Kc,useRef:Pp,useState:function(){return Kc(Ds)},useDebugValue:Gc,useDeferredValue:function(n){var s=cr();return Mp(s,kt.memoizedState,n)},useTransition:function(){var n=Kc(Ds)[0],s=cr().memoizedState;return[n,s]},useMutableSource:bp,useSyncExternalStore:xp,useId:zp,unstable_isNewReconciler:!1},gx={readContext:lr,useCallback:Dp,useContext:lr,useEffect:Hc,useImperativeHandle:Ip,useInsertionEffect:Rp,useLayoutEffect:Op,useMemo:Lp,useReducer:Wc,useRef:Pp,useState:function(){return Wc(Ds)},useDebugValue:Gc,useDeferredValue:function(n){var s=cr();return kt===null?s.memoizedState=n:Mp(s,kt.memoizedState,n)},useTransition:function(){var n=Wc(Ds)[0],s=cr().memoizedState;return[n,s]},useMutableSource:bp,useSyncExternalStore:xp,useId:zp,unstable_isNewReconciler:!1};function yr(n,s){if(n&&n.defaultProps){s=pe({},s),n=n.defaultProps;for(var l in n)s[l]===void 0&&(s[l]=n[l]);return s}return s}function Yc(n,s,l,h){s=n.memoizedState,l=l(h,s),l=l==null?s:pe({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var ho={isMounted:function(n){return(n=n._reactInternals)?Ln(n)===n:!1},enqueueSetState:function(n,s,l){n=n._reactInternals;var h=Ft(),v=xn(n),_=Hr(h,v);_.payload=s,l!=null&&(_.callback=l),s=vn(n,_,v),s!==null&&(_r(s,n,v,h),no(s,n,v))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var h=Ft(),v=xn(n),_=Hr(h,v);_.tag=1,_.payload=s,l!=null&&(_.callback=l),s=vn(n,_,v),s!==null&&(_r(s,n,v,h),no(s,n,v))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=Ft(),h=xn(n),v=Hr(l,h);v.tag=2,s!=null&&(v.callback=s),s=vn(n,v,h),s!==null&&(_r(s,n,h,l),no(s,n,h))}};function Fp(n,s,l,h,v,_,A){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,_,A):s.prototype&&s.prototype.isPureReactComponent?!xs(l,h)||!xs(v,_):!0}function Vp(n,s,l){var h=!1,v=mn,_=s.contextType;return typeof _=="object"&&_!==null?_=lr(_):(v=Kt(s)?zn:It.current,h=s.contextTypes,_=(h=h!=null)?xi(n,v):mn),s=new s(l,_),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ho,n.stateNode=s,s._reactInternals=n,h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=v,n.__reactInternalMemoizedMaskedChildContext=_),s}function qp(n,s,l,h){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==n&&ho.enqueueReplaceState(s,s.state,null)}function Jc(n,s,l,h){var v=n.stateNode;v.props=l,v.state=n.memoizedState,v.refs={},Lc(n);var _=s.contextType;typeof _=="object"&&_!==null?v.context=lr(_):(_=Kt(s)?zn:It.current,v.context=xi(n,_)),v.state=n.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Yc(n,s,_,l),v.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(s=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),s!==v.state&&ho.enqueueReplaceState(v,v.state,null),io(n,l,v,h),v.state=n.memoizedState),typeof v.componentDidMount=="function"&&(n.flags|=4194308)}function ji(n,s){try{var l="",h=s;do l+=ie(h),h=h.return;while(h);var v=l}catch(_){v=`
Error generating stack: `+_.message+`
`+_.stack}return{value:n,source:s,stack:v,digest:null}}function Qc(n,s,l){return{value:n,source:null,stack:l??null,digest:s??null}}function Xc(n,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var yx=typeof WeakMap=="function"?WeakMap:Map;function Kp(n,s,l){l=Hr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){wo||(wo=!0,fu=h),Xc(n,s)},l}function Wp(n,s,l){l=Hr(-1,l),l.tag=3;var h=n.type.getDerivedStateFromError;if(typeof h=="function"){var v=s.value;l.payload=function(){return h(v)},l.callback=function(){Xc(n,s)}}var _=n.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(l.callback=function(){Xc(n,s),typeof h!="function"&&(_n===null?_n=new Set([this]):_n.add(this));var A=s.stack;this.componentDidCatch(s.value,{componentStack:A!==null?A:""})}),l}function Hp(n,s,l){var h=n.pingCache;if(h===null){h=n.pingCache=new yx;var v=new Set;h.set(s,v)}else v=h.get(s),v===void 0&&(v=new Set,h.set(s,v));v.has(l)||(v.add(l),n=Rx.bind(null,n,s,l),s.then(n,n))}function Gp(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Yp(n,s,l,h,v){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Hr(-1,1),s.tag=2,vn(l,s,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=v,n)}var vx=P.ReactCurrentOwner,Wt=!1;function $t(n,s,l,h){s.child=n===null?mp(s,null,l,h):Ci(s,n.child,l,h)}function Jp(n,s,l,h,v){l=l.render;var _=s.ref;return Ai(s,v),h=Vc(n,s,l,h,_,v),l=qc(),n!==null&&!Wt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~v,Gr(n,s,v)):(ot&&l&&Cc(s),s.flags|=1,$t(n,s,h,v),s.child)}function Qp(n,s,l,h,v){if(n===null){var _=l.type;return typeof _=="function"&&!_u(_)&&_.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=_,Xp(n,s,_,h,v)):(n=Eo(l.type,null,h,s,s.mode,v),n.ref=s.ref,n.return=s,s.child=n)}if(_=n.child,(n.lanes&v)===0){var A=_.memoizedProps;if(l=l.compare,l=l!==null?l:xs,l(A,h)&&n.ref===s.ref)return Gr(n,s,v)}return s.flags|=1,n=kn(_,h),n.ref=s.ref,n.return=s,s.child=n}function Xp(n,s,l,h,v){if(n!==null){var _=n.memoizedProps;if(xs(_,h)&&n.ref===s.ref)if(Wt=!1,s.pendingProps=h=_,(n.lanes&v)!==0)(n.flags&131072)!==0&&(Wt=!0);else return s.lanes=n.lanes,Gr(n,s,v)}return Zc(n,s,l,h,v)}function Zp(n,s,l){var h=s.pendingProps,v=h.children,_=n!==null?n.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Oi,rr),rr|=l;else{if((l&1073741824)===0)return n=_!==null?_.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,rt(Oi,rr),rr|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=_!==null?_.baseLanes:l,rt(Oi,rr),rr|=h}else _!==null?(h=_.baseLanes|l,s.memoizedState=null):h=l,rt(Oi,rr),rr|=h;return $t(n,s,v,l),s.child}function em(n,s){var l=s.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Zc(n,s,l,h,v){var _=Kt(l)?zn:It.current;return _=xi(s,_),Ai(s,v),l=Vc(n,s,l,h,_,v),h=qc(),n!==null&&!Wt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~v,Gr(n,s,v)):(ot&&h&&Cc(s),s.flags|=1,$t(n,s,l,v),s.child)}function tm(n,s,l,h,v){if(Kt(l)){var _=!0;Ya(s)}else _=!1;if(Ai(s,v),s.stateNode===null)po(n,s),Vp(s,l,h),Jc(s,l,h,v),h=!0;else if(n===null){var A=s.stateNode,M=s.memoizedProps;A.props=M;var F=A.context,Z=l.contextType;typeof Z=="object"&&Z!==null?Z=lr(Z):(Z=Kt(l)?zn:It.current,Z=xi(s,Z));var ue=l.getDerivedStateFromProps,de=typeof ue=="function"||typeof A.getSnapshotBeforeUpdate=="function";de||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(M!==h||F!==Z)&&qp(s,A,h,Z),yn=!1;var ce=s.memoizedState;A.state=ce,io(s,h,A,v),F=s.memoizedState,M!==h||ce!==F||qt.current||yn?(typeof ue=="function"&&(Yc(s,l,ue,h),F=s.memoizedState),(M=yn||Fp(s,l,M,h,ce,F,Z))?(de||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(s.flags|=4194308)):(typeof A.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=F),A.props=h,A.state=F,A.context=Z,h=M):(typeof A.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{A=s.stateNode,yp(n,s),M=s.memoizedProps,Z=s.type===s.elementType?M:yr(s.type,M),A.props=Z,de=s.pendingProps,ce=A.context,F=l.contextType,typeof F=="object"&&F!==null?F=lr(F):(F=Kt(l)?zn:It.current,F=xi(s,F));var we=l.getDerivedStateFromProps;(ue=typeof we=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(M!==de||ce!==F)&&qp(s,A,h,F),yn=!1,ce=s.memoizedState,A.state=ce,io(s,h,A,v);var Se=s.memoizedState;M!==de||ce!==Se||qt.current||yn?(typeof we=="function"&&(Yc(s,l,we,h),Se=s.memoizedState),(Z=yn||Fp(s,l,Z,h,ce,Se,F)||!1)?(ue||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(h,Se,F),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(h,Se,F)),typeof A.componentDidUpdate=="function"&&(s.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof A.componentDidUpdate!="function"||M===n.memoizedProps&&ce===n.memoizedState||(s.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&ce===n.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Se),A.props=h,A.state=Se,A.context=F,h=Z):(typeof A.componentDidUpdate!="function"||M===n.memoizedProps&&ce===n.memoizedState||(s.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&ce===n.memoizedState||(s.flags|=1024),h=!1)}return eu(n,s,l,h,_,v)}function eu(n,s,l,h,v,_){em(n,s);var A=(s.flags&128)!==0;if(!h&&!A)return v&&ap(s,l,!1),Gr(n,s,_);h=s.stateNode,vx.current=s;var M=A&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,n!==null&&A?(s.child=Ci(s,n.child,null,_),s.child=Ci(s,null,M,_)):$t(n,s,M,_),s.memoizedState=h.state,v&&ap(s,l,!0),s.child}function rm(n){var s=n.stateNode;s.pendingContext?ip(n,s.pendingContext,s.pendingContext!==s.context):s.context&&ip(n,s.context,!1),Mc(n,s.containerInfo)}function nm(n,s,l,h,v){return Ei(),jc(v),s.flags|=256,$t(n,s,l,h),s.child}var tu={dehydrated:null,treeContext:null,retryLane:0};function ru(n){return{baseLanes:n,cachePool:null,transitions:null}}function im(n,s,l){var h=s.pendingProps,v=dt.current,_=!1,A=(s.flags&128)!==0,M;if((M=A)||(M=n!==null&&n.memoizedState===null?!1:(v&2)!==0),M?(_=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(v|=1),rt(dt,v&1),n===null)return Pc(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(A=h.children,n=h.fallback,_?(h=s.mode,_=s.child,A={mode:"hidden",children:A},(h&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=A):_=Co(A,h,0,null),n=Gn(n,h,l,null),_.return=s,n.return=s,_.sibling=n,s.child=_,s.child.memoizedState=ru(l),s.memoizedState=tu,n):nu(s,A));if(v=n.memoizedState,v!==null&&(M=v.dehydrated,M!==null))return wx(n,s,A,h,M,v,l);if(_){_=h.fallback,A=s.mode,v=n.child,M=v.sibling;var F={mode:"hidden",children:h.children};return(A&1)===0&&s.child!==v?(h=s.child,h.childLanes=0,h.pendingProps=F,s.deletions=null):(h=kn(v,F),h.subtreeFlags=v.subtreeFlags&14680064),M!==null?_=kn(M,_):(_=Gn(_,A,l,null),_.flags|=2),_.return=s,h.return=s,h.sibling=_,s.child=h,h=_,_=s.child,A=n.child.memoizedState,A=A===null?ru(l):{baseLanes:A.baseLanes|l,cachePool:null,transitions:A.transitions},_.memoizedState=A,_.childLanes=n.childLanes&~l,s.memoizedState=tu,h}return _=n.child,n=_.sibling,h=kn(_,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,n!==null&&(l=s.deletions,l===null?(s.deletions=[n],s.flags|=16):l.push(n)),s.child=h,s.memoizedState=null,h}function nu(n,s){return s=Co({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function fo(n,s,l,h){return h!==null&&jc(h),Ci(s,n.child,null,l),n=nu(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function wx(n,s,l,h,v,_,A){if(l)return s.flags&256?(s.flags&=-257,h=Qc(Error(r(422))),fo(n,s,A,h)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(_=h.fallback,v=s.mode,h=Co({mode:"visible",children:h.children},v,0,null),_=Gn(_,v,A,null),_.flags|=2,h.return=s,_.return=s,h.sibling=_,s.child=h,(s.mode&1)!==0&&Ci(s,n.child,null,A),s.child.memoizedState=ru(A),s.memoizedState=tu,_);if((s.mode&1)===0)return fo(n,s,A,null);if(v.data==="$!"){if(h=v.nextSibling&&v.nextSibling.dataset,h)var M=h.dgst;return h=M,_=Error(r(419)),h=Qc(_,h,void 0),fo(n,s,A,h)}if(M=(A&n.childLanes)!==0,Wt||M){if(h=Tt,h!==null){switch(A&-A){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(h.suspendedLanes|A))!==0?0:v,v!==0&&v!==_.retryLane&&(_.retryLane=v,Wr(n,v),_r(h,n,v,-1))}return wu(),h=Qc(Error(r(421))),fo(n,s,A,h)}return v.data==="$?"?(s.flags|=128,s.child=n.child,s=Ox.bind(null,n),v._reactRetry=s,null):(n=_.treeContext,tr=fn(v.nextSibling),er=s,ot=!0,gr=null,n!==null&&(ar[or++]=qr,ar[or++]=Kr,ar[or++]=Un,qr=n.id,Kr=n.overflow,Un=s),s=nu(s,h.children),s.flags|=4096,s)}function sm(n,s,l){n.lanes|=s;var h=n.alternate;h!==null&&(h.lanes|=s),Ic(n.return,s,l)}function iu(n,s,l,h,v){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:v}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=l,_.tailMode=v)}function am(n,s,l){var h=s.pendingProps,v=h.revealOrder,_=h.tail;if($t(n,s,h.children,l),h=dt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&sm(n,l,s);else if(n.tag===19)sm(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}if(rt(dt,h),(s.mode&1)===0)s.memoizedState=null;else switch(v){case"forwards":for(l=s.child,v=null;l!==null;)n=l.alternate,n!==null&&so(n)===null&&(v=l),l=l.sibling;l=v,l===null?(v=s.child,s.child=null):(v=l.sibling,l.sibling=null),iu(s,!1,v,l,_);break;case"backwards":for(l=null,v=s.child,s.child=null;v!==null;){if(n=v.alternate,n!==null&&so(n)===null){s.child=v;break}n=v.sibling,v.sibling=l,l=v,v=n}iu(s,!0,l,null,_);break;case"together":iu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function po(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Gr(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),qn|=s.lanes,(l&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,l=kn(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=kn(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function _x(n,s,l){switch(s.tag){case 3:rm(s),Ei();break;case 5:_p(s);break;case 1:Kt(s.type)&&Ya(s);break;case 4:Mc(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,v=s.memoizedProps.value;rt(to,h._currentValue),h._currentValue=v;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(rt(dt,dt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?im(n,s,l):(rt(dt,dt.current&1),n=Gr(n,s,l),n!==null?n.sibling:null);rt(dt,dt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(n.flags&128)!==0){if(h)return am(n,s,l);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),rt(dt,dt.current),h)break;return null;case 22:case 23:return s.lanes=0,Zp(n,s,l)}return Gr(n,s,l)}var om,su,lm,cm;om=function(n,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},su=function(){},lm=function(n,s,l,h){var v=n.memoizedProps;if(v!==h){n=s.stateNode,Fn(Or.current);var _=null;switch(l){case"input":v=ge(n,v),h=ge(n,h),_=[];break;case"select":v=pe({},v,{value:void 0}),h=pe({},h,{value:void 0}),_=[];break;case"textarea":v=T(n,v),h=T(n,h),_=[];break;default:typeof v.onClick!="function"&&typeof h.onClick=="function"&&(n.onclick=Wa)}Pr(l,h);var A;l=null;for(Z in v)if(!h.hasOwnProperty(Z)&&v.hasOwnProperty(Z)&&v[Z]!=null)if(Z==="style"){var M=v[Z];for(A in M)M.hasOwnProperty(A)&&(l||(l={}),l[A]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(a.hasOwnProperty(Z)?_||(_=[]):(_=_||[]).push(Z,null));for(Z in h){var F=h[Z];if(M=v!=null?v[Z]:void 0,h.hasOwnProperty(Z)&&F!==M&&(F!=null||M!=null))if(Z==="style")if(M){for(A in M)!M.hasOwnProperty(A)||F&&F.hasOwnProperty(A)||(l||(l={}),l[A]="");for(A in F)F.hasOwnProperty(A)&&M[A]!==F[A]&&(l||(l={}),l[A]=F[A])}else l||(_||(_=[]),_.push(Z,l)),l=F;else Z==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,M=M?M.__html:void 0,F!=null&&M!==F&&(_=_||[]).push(Z,F)):Z==="children"?typeof F!="string"&&typeof F!="number"||(_=_||[]).push(Z,""+F):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(a.hasOwnProperty(Z)?(F!=null&&Z==="onScroll"&&it("scroll",n),_||M===F||(_=[])):(_=_||[]).push(Z,F))}l&&(_=_||[]).push("style",l);var Z=_;(s.updateQueue=Z)&&(s.flags|=4)}},cm=function(n,s,l,h){l!==h&&(s.flags|=4)};function Ms(n,s){if(!ot)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function Lt(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,h=0;if(s)for(var v=n.child;v!==null;)l|=v.lanes|v.childLanes,h|=v.subtreeFlags&14680064,h|=v.flags&14680064,v.return=n,v=v.sibling;else for(v=n.child;v!==null;)l|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=n,v=v.sibling;return n.subtreeFlags|=h,n.childLanes=l,s}function bx(n,s,l){var h=s.pendingProps;switch(Tc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(s),null;case 1:return Kt(s.type)&&Ga(),Lt(s),null;case 3:return h=s.stateNode,Pi(),st(qt),st(It),Bc(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(n===null||n.child===null)&&(Za(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,gr!==null&&(gu(gr),gr=null))),su(n,s),Lt(s),null;case 5:zc(s);var v=Fn(Os.current);if(l=s.type,n!==null&&s.stateNode!=null)lm(n,s,l,h,v),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Lt(s),null}if(n=Fn(Or.current),Za(s)){h=s.stateNode,l=s.type;var _=s.memoizedProps;switch(h[Rr]=s,h[Ts]=_,n=(s.mode&1)!==0,l){case"dialog":it("cancel",h),it("close",h);break;case"iframe":case"object":case"embed":it("load",h);break;case"video":case"audio":for(v=0;v<ks.length;v++)it(ks[v],h);break;case"source":it("error",h);break;case"img":case"image":case"link":it("error",h),it("load",h);break;case"details":it("toggle",h);break;case"input":V(h,_),it("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!_.multiple},it("invalid",h);break;case"textarea":U(h,_),it("invalid",h)}Pr(l,_),v=null;for(var A in _)if(_.hasOwnProperty(A)){var M=_[A];A==="children"?typeof M=="string"?h.textContent!==M&&(_.suppressHydrationWarning!==!0&&Ka(h.textContent,M,n),v=["children",M]):typeof M=="number"&&h.textContent!==""+M&&(_.suppressHydrationWarning!==!0&&Ka(h.textContent,M,n),v=["children",""+M]):a.hasOwnProperty(A)&&M!=null&&A==="onScroll"&&it("scroll",h)}switch(l){case"input":_t(h),he(h,_,!0);break;case"textarea":_t(h),ee(h);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(h.onclick=Wa)}h=v,s.updateQueue=h,h!==null&&(s.flags|=4)}else{A=v.nodeType===9?v:v.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ee(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=A.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof h.is=="string"?n=A.createElement(l,{is:h.is}):(n=A.createElement(l),l==="select"&&(A=n,h.multiple?A.multiple=!0:h.size&&(A.size=h.size))):n=A.createElementNS(n,l),n[Rr]=s,n[Ts]=h,om(n,s,!1,!1),s.stateNode=n;e:{switch(A=Bl(l,h),l){case"dialog":it("cancel",n),it("close",n),v=h;break;case"iframe":case"object":case"embed":it("load",n),v=h;break;case"video":case"audio":for(v=0;v<ks.length;v++)it(ks[v],n);v=h;break;case"source":it("error",n),v=h;break;case"img":case"image":case"link":it("error",n),it("load",n),v=h;break;case"details":it("toggle",n),v=h;break;case"input":V(n,h),v=ge(n,h),it("invalid",n);break;case"option":v=h;break;case"select":n._wrapperState={wasMultiple:!!h.multiple},v=pe({},h,{value:void 0}),it("invalid",n);break;case"textarea":U(n,h),v=T(n,h),it("invalid",n);break;default:v=h}Pr(l,v),M=v;for(_ in M)if(M.hasOwnProperty(_)){var F=M[_];_==="style"?sn(n,F):_==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&We(n,F)):_==="children"?typeof F=="string"?(l!=="textarea"||F!=="")&&Fe(n,F):typeof F=="number"&&Fe(n,""+F):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(a.hasOwnProperty(_)?F!=null&&_==="onScroll"&&it("scroll",n):F!=null&&k(n,_,F,A))}switch(l){case"input":_t(n),he(n,h,!1);break;case"textarea":_t(n),ee(n);break;case"option":h.value!=null&&n.setAttribute("value",""+Be(h.value));break;case"select":n.multiple=!!h.multiple,_=h.value,_!=null?S(n,!!h.multiple,_,!1):h.defaultValue!=null&&S(n,!!h.multiple,h.defaultValue,!0);break;default:typeof v.onClick=="function"&&(n.onclick=Wa)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Lt(s),null;case 6:if(n&&s.stateNode!=null)cm(n,s,n.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(l=Fn(Os.current),Fn(Or.current),Za(s)){if(h=s.stateNode,l=s.memoizedProps,h[Rr]=s,(_=h.nodeValue!==l)&&(n=er,n!==null))switch(n.tag){case 3:Ka(h.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ka(h.nodeValue,l,(n.mode&1)!==0)}_&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Rr]=s,s.stateNode=h}return Lt(s),null;case 13:if(st(dt),h=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ot&&tr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)hp(),Ei(),s.flags|=98560,_=!1;else if(_=Za(s),h!==null&&h.dehydrated!==null){if(n===null){if(!_)throw Error(r(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Rr]=s}else Ei(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Lt(s),_=!1}else gr!==null&&(gu(gr),gr=null),_=!0;if(!_)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(n!==null&&n.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(dt.current&1)!==0?Et===0&&(Et=3):wu())),s.updateQueue!==null&&(s.flags|=4),Lt(s),null);case 4:return Pi(),su(n,s),n===null&&Es(s.stateNode.containerInfo),Lt(s),null;case 10:return Nc(s.type._context),Lt(s),null;case 17:return Kt(s.type)&&Ga(),Lt(s),null;case 19:if(st(dt),_=s.memoizedState,_===null)return Lt(s),null;if(h=(s.flags&128)!==0,A=_.rendering,A===null)if(h)Ms(_,!1);else{if(Et!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(A=so(n),A!==null){for(s.flags|=128,Ms(_,!1),h=A.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)_=l,n=h,_.flags&=14680066,A=_.alternate,A===null?(_.childLanes=0,_.lanes=n,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=A.childLanes,_.lanes=A.lanes,_.child=A.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=A.memoizedProps,_.memoizedState=A.memoizedState,_.updateQueue=A.updateQueue,_.type=A.type,n=A.dependencies,_.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return rt(dt,dt.current&1|2),s.child}n=n.sibling}_.tail!==null&&gt()>Ni&&(s.flags|=128,h=!0,Ms(_,!1),s.lanes=4194304)}else{if(!h)if(n=so(A),n!==null){if(s.flags|=128,h=!0,l=n.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Ms(_,!0),_.tail===null&&_.tailMode==="hidden"&&!A.alternate&&!ot)return Lt(s),null}else 2*gt()-_.renderingStartTime>Ni&&l!==1073741824&&(s.flags|=128,h=!0,Ms(_,!1),s.lanes=4194304);_.isBackwards?(A.sibling=s.child,s.child=A):(l=_.last,l!==null?l.sibling=A:s.child=A,_.last=A)}return _.tail!==null?(s=_.tail,_.rendering=s,_.tail=s.sibling,_.renderingStartTime=gt(),s.sibling=null,l=dt.current,rt(dt,h?l&1|2:l&1),s):(Lt(s),null);case 22:case 23:return vu(),h=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(rr&1073741824)!==0&&(Lt(s),s.subtreeFlags&6&&(s.flags|=8192)):Lt(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function xx(n,s){switch(Tc(s),s.tag){case 1:return Kt(s.type)&&Ga(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Pi(),st(qt),st(It),Bc(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return zc(s),null;case 13:if(st(dt),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ei()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return st(dt),null;case 4:return Pi(),null;case 10:return Nc(s.type._context),null;case 22:case 23:return vu(),null;case 24:return null;default:return null}}var mo=!1,Mt=!1,Sx=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Ri(n,s){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){pt(n,s,h)}else l.current=null}function au(n,s,l){try{l()}catch(h){pt(n,s,h)}}var um=!1;function kx(n,s){if(vc=Ia,n=Ff(),uc(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var v=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var A=0,M=-1,F=-1,Z=0,ue=0,de=n,ce=null;t:for(;;){for(var we;de!==l||v!==0&&de.nodeType!==3||(M=A+v),de!==_||h!==0&&de.nodeType!==3||(F=A+h),de.nodeType===3&&(A+=de.nodeValue.length),(we=de.firstChild)!==null;)ce=de,de=we;for(;;){if(de===n)break t;if(ce===l&&++Z===v&&(M=A),ce===_&&++ue===h&&(F=A),(we=de.nextSibling)!==null)break;de=ce,ce=de.parentNode}de=we}l=M===-1||F===-1?null:{start:M,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(wc={focusedElem:n,selectionRange:l},Ia=!1,_e=s;_e!==null;)if(s=_e,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,_e=n;else for(;_e!==null;){s=_e;try{var Se=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Te=Se.memoizedProps,yt=Se.memoizedState,Y=s.stateNode,q=Y.getSnapshotBeforeUpdate(s.elementType===s.type?Te:yr(s.type,Te),yt);Y.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var Q=s.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(fe){pt(s,s.return,fe)}if(n=s.sibling,n!==null){n.return=s.return,_e=n;break}_e=s.return}return Se=um,um=!1,Se}function zs(n,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var v=h=h.next;do{if((v.tag&n)===n){var _=v.destroy;v.destroy=void 0,_!==void 0&&au(s,l,_)}v=v.next}while(v!==h)}}function go(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&n)===n){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function ou(n){var s=n.ref;if(s!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof s=="function"?s(n):s.current=n}}function dm(n){var s=n.alternate;s!==null&&(n.alternate=null,dm(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Rr],delete s[Ts],delete s[Sc],delete s[ax],delete s[ox])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function hm(n){return n.tag===5||n.tag===3||n.tag===4}function fm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||hm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function lu(n,s,l){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(n,s):l.insertBefore(n,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(n,l)):(s=l,s.appendChild(n)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Wa));else if(h!==4&&(n=n.child,n!==null))for(lu(n,s,l),n=n.sibling;n!==null;)lu(n,s,l),n=n.sibling}function cu(n,s,l){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(h!==4&&(n=n.child,n!==null))for(cu(n,s,l),n=n.sibling;n!==null;)cu(n,s,l),n=n.sibling}var Pt=null,vr=!1;function wn(n,s,l){for(l=l.child;l!==null;)pm(n,s,l),l=l.sibling}function pm(n,s,l){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(Aa,l)}catch{}switch(l.tag){case 5:Mt||Ri(l,s);case 6:var h=Pt,v=vr;Pt=null,wn(n,s,l),Pt=h,vr=v,Pt!==null&&(vr?(n=Pt,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):Pt.removeChild(l.stateNode));break;case 18:Pt!==null&&(vr?(n=Pt,l=l.stateNode,n.nodeType===8?xc(n.parentNode,l):n.nodeType===1&&xc(n,l),gs(n)):xc(Pt,l.stateNode));break;case 4:h=Pt,v=vr,Pt=l.stateNode.containerInfo,vr=!0,wn(n,s,l),Pt=h,vr=v;break;case 0:case 11:case 14:case 15:if(!Mt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){v=h=h.next;do{var _=v,A=_.destroy;_=_.tag,A!==void 0&&((_&2)!==0||(_&4)!==0)&&au(l,s,A),v=v.next}while(v!==h)}wn(n,s,l);break;case 1:if(!Mt&&(Ri(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(M){pt(l,s,M)}wn(n,s,l);break;case 21:wn(n,s,l);break;case 22:l.mode&1?(Mt=(h=Mt)||l.memoizedState!==null,wn(n,s,l),Mt=h):wn(n,s,l);break;default:wn(n,s,l)}}function mm(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new Sx),s.forEach(function(h){var v=Nx.bind(null,n,h);l.has(h)||(l.add(h),h.then(v,v))})}}function wr(n,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var v=l[h];try{var _=n,A=s,M=A;e:for(;M!==null;){switch(M.tag){case 5:Pt=M.stateNode,vr=!1;break e;case 3:Pt=M.stateNode.containerInfo,vr=!0;break e;case 4:Pt=M.stateNode.containerInfo,vr=!0;break e}M=M.return}if(Pt===null)throw Error(r(160));pm(_,A,v),Pt=null,vr=!1;var F=v.alternate;F!==null&&(F.return=null),v.return=null}catch(Z){pt(v,s,Z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)gm(s,n),s=s.sibling}function gm(n,s){var l=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(wr(s,n),Ir(n),h&4){try{zs(3,n,n.return),go(3,n)}catch(Te){pt(n,n.return,Te)}try{zs(5,n,n.return)}catch(Te){pt(n,n.return,Te)}}break;case 1:wr(s,n),Ir(n),h&512&&l!==null&&Ri(l,l.return);break;case 5:if(wr(s,n),Ir(n),h&512&&l!==null&&Ri(l,l.return),n.flags&32){var v=n.stateNode;try{Fe(v,"")}catch(Te){pt(n,n.return,Te)}}if(h&4&&(v=n.stateNode,v!=null)){var _=n.memoizedProps,A=l!==null?l.memoizedProps:_,M=n.type,F=n.updateQueue;if(n.updateQueue=null,F!==null)try{M==="input"&&_.type==="radio"&&_.name!=null&&G(v,_),Bl(M,A);var Z=Bl(M,_);for(A=0;A<F.length;A+=2){var ue=F[A],de=F[A+1];ue==="style"?sn(v,de):ue==="dangerouslySetInnerHTML"?We(v,de):ue==="children"?Fe(v,de):k(v,ue,de,Z)}switch(M){case"input":X(v,_);break;case"textarea":K(v,_);break;case"select":var ce=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!_.multiple;var we=_.value;we!=null?S(v,!!_.multiple,we,!1):ce!==!!_.multiple&&(_.defaultValue!=null?S(v,!!_.multiple,_.defaultValue,!0):S(v,!!_.multiple,_.multiple?[]:"",!1))}v[Ts]=_}catch(Te){pt(n,n.return,Te)}}break;case 6:if(wr(s,n),Ir(n),h&4){if(n.stateNode===null)throw Error(r(162));v=n.stateNode,_=n.memoizedProps;try{v.nodeValue=_}catch(Te){pt(n,n.return,Te)}}break;case 3:if(wr(s,n),Ir(n),h&4&&l!==null&&l.memoizedState.isDehydrated)try{gs(s.containerInfo)}catch(Te){pt(n,n.return,Te)}break;case 4:wr(s,n),Ir(n);break;case 13:wr(s,n),Ir(n),v=n.child,v.flags&8192&&(_=v.memoizedState!==null,v.stateNode.isHidden=_,!_||v.alternate!==null&&v.alternate.memoizedState!==null||(hu=gt())),h&4&&mm(n);break;case 22:if(ue=l!==null&&l.memoizedState!==null,n.mode&1?(Mt=(Z=Mt)||ue,wr(s,n),Mt=Z):wr(s,n),Ir(n),h&8192){if(Z=n.memoizedState!==null,(n.stateNode.isHidden=Z)&&!ue&&(n.mode&1)!==0)for(_e=n,ue=n.child;ue!==null;){for(de=_e=ue;_e!==null;){switch(ce=_e,we=ce.child,ce.tag){case 0:case 11:case 14:case 15:zs(4,ce,ce.return);break;case 1:Ri(ce,ce.return);var Se=ce.stateNode;if(typeof Se.componentWillUnmount=="function"){h=ce,l=ce.return;try{s=h,Se.props=s.memoizedProps,Se.state=s.memoizedState,Se.componentWillUnmount()}catch(Te){pt(h,l,Te)}}break;case 5:Ri(ce,ce.return);break;case 22:if(ce.memoizedState!==null){wm(de);continue}}we!==null?(we.return=ce,_e=we):wm(de)}ue=ue.sibling}e:for(ue=null,de=n;;){if(de.tag===5){if(ue===null){ue=de;try{v=de.stateNode,Z?(_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(M=de.stateNode,F=de.memoizedProps.style,A=F!=null&&F.hasOwnProperty("display")?F.display:null,M.style.display=$r("display",A))}catch(Te){pt(n,n.return,Te)}}}else if(de.tag===6){if(ue===null)try{de.stateNode.nodeValue=Z?"":de.memoizedProps}catch(Te){pt(n,n.return,Te)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===n)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===n)break e;for(;de.sibling===null;){if(de.return===null||de.return===n)break e;ue===de&&(ue=null),de=de.return}ue===de&&(ue=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:wr(s,n),Ir(n),h&4&&mm(n);break;case 21:break;default:wr(s,n),Ir(n)}}function Ir(n){var s=n.flags;if(s&2){try{e:{for(var l=n.return;l!==null;){if(hm(l)){var h=l;break e}l=l.return}throw Error(r(160))}switch(h.tag){case 5:var v=h.stateNode;h.flags&32&&(Fe(v,""),h.flags&=-33);var _=fm(n);cu(n,_,v);break;case 3:case 4:var A=h.stateNode.containerInfo,M=fm(n);lu(n,M,A);break;default:throw Error(r(161))}}catch(F){pt(n,n.return,F)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Ex(n,s,l){_e=n,ym(n)}function ym(n,s,l){for(var h=(n.mode&1)!==0;_e!==null;){var v=_e,_=v.child;if(v.tag===22&&h){var A=v.memoizedState!==null||mo;if(!A){var M=v.alternate,F=M!==null&&M.memoizedState!==null||Mt;M=mo;var Z=Mt;if(mo=A,(Mt=F)&&!Z)for(_e=v;_e!==null;)A=_e,F=A.child,A.tag===22&&A.memoizedState!==null?_m(v):F!==null?(F.return=A,_e=F):_m(v);for(;_!==null;)_e=_,ym(_),_=_.sibling;_e=v,mo=M,Mt=Z}vm(n)}else(v.subtreeFlags&8772)!==0&&_!==null?(_.return=v,_e=_):vm(n)}}function vm(n){for(;_e!==null;){var s=_e;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Mt||go(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Mt)if(l===null)h.componentDidMount();else{var v=s.elementType===s.type?l.memoizedProps:yr(s.type,l.memoizedProps);h.componentDidUpdate(v,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var _=s.updateQueue;_!==null&&wp(s,_,h);break;case 3:var A=s.updateQueue;if(A!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}wp(s,A,l)}break;case 5:var M=s.stateNode;if(l===null&&s.flags&4){l=M;var F=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&l.focus();break;case"img":F.src&&(l.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Z=s.alternate;if(Z!==null){var ue=Z.memoizedState;if(ue!==null){var de=ue.dehydrated;de!==null&&gs(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Mt||s.flags&512&&ou(s)}catch(ce){pt(s,s.return,ce)}}if(s===n){_e=null;break}if(l=s.sibling,l!==null){l.return=s.return,_e=l;break}_e=s.return}}function wm(n){for(;_e!==null;){var s=_e;if(s===n){_e=null;break}var l=s.sibling;if(l!==null){l.return=s.return,_e=l;break}_e=s.return}}function _m(n){for(;_e!==null;){var s=_e;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{go(4,s)}catch(F){pt(s,l,F)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var v=s.return;try{h.componentDidMount()}catch(F){pt(s,v,F)}}var _=s.return;try{ou(s)}catch(F){pt(s,_,F)}break;case 5:var A=s.return;try{ou(s)}catch(F){pt(s,A,F)}}}catch(F){pt(s,s.return,F)}if(s===n){_e=null;break}var M=s.sibling;if(M!==null){M.return=s.return,_e=M;break}_e=s.return}}var Cx=Math.ceil,yo=P.ReactCurrentDispatcher,uu=P.ReactCurrentOwner,ur=P.ReactCurrentBatchConfig,Ye=0,Tt=null,bt=null,jt=0,rr=0,Oi=pn(0),Et=0,Us=null,qn=0,vo=0,du=0,Bs=null,Ht=null,hu=0,Ni=1/0,Yr=null,wo=!1,fu=null,_n=null,_o=!1,bn=null,bo=0,$s=0,pu=null,xo=-1,So=0;function Ft(){return(Ye&6)!==0?gt():xo!==-1?xo:xo=gt()}function xn(n){return(n.mode&1)===0?1:(Ye&2)!==0&&jt!==0?jt&-jt:cx.transition!==null?(So===0&&(So=ff()),So):(n=tt,n!==0||(n=window.event,n=n===void 0?16:xf(n.type)),n)}function _r(n,s,l,h){if(50<$s)throw $s=0,pu=null,Error(r(185));ds(n,l,h),((Ye&2)===0||n!==Tt)&&(n===Tt&&((Ye&2)===0&&(vo|=l),Et===4&&Sn(n,jt)),Gt(n,h),l===1&&Ye===0&&(s.mode&1)===0&&(Ni=gt()+500,Ja&&gn()))}function Gt(n,s){var l=n.callbackNode;cb(n,s);var h=Ra(n,n===Tt?jt:0);if(h===0)l!==null&&uf(l),n.callbackNode=null,n.callbackPriority=0;else if(s=h&-h,n.callbackPriority!==s){if(l!=null&&uf(l),s===1)n.tag===0?lx(xm.bind(null,n)):op(xm.bind(null,n)),ix(function(){(Ye&6)===0&&gn()}),l=null;else{switch(pf(h)){case 1:l=Hl;break;case 4:l=df;break;case 16:l=Ta;break;case 536870912:l=hf;break;default:l=Ta}l=jm(l,bm.bind(null,n))}n.callbackPriority=s,n.callbackNode=l}}function bm(n,s){if(xo=-1,So=0,(Ye&6)!==0)throw Error(r(327));var l=n.callbackNode;if(Ii()&&n.callbackNode!==l)return null;var h=Ra(n,n===Tt?jt:0);if(h===0)return null;if((h&30)!==0||(h&n.expiredLanes)!==0||s)s=ko(n,h);else{s=h;var v=Ye;Ye|=2;var _=km();(Tt!==n||jt!==s)&&(Yr=null,Ni=gt()+500,Wn(n,s));do try{Px();break}catch(M){Sm(n,M)}while(!0);Oc(),yo.current=_,Ye=v,bt!==null?s=0:(Tt=null,jt=0,s=Et)}if(s!==0){if(s===2&&(v=Gl(n),v!==0&&(h=v,s=mu(n,v))),s===1)throw l=Us,Wn(n,0),Sn(n,h),Gt(n,gt()),l;if(s===6)Sn(n,h);else{if(v=n.current.alternate,(h&30)===0&&!Tx(v)&&(s=ko(n,h),s===2&&(_=Gl(n),_!==0&&(h=_,s=mu(n,_))),s===1))throw l=Us,Wn(n,0),Sn(n,h),Gt(n,gt()),l;switch(n.finishedWork=v,n.finishedLanes=h,s){case 0:case 1:throw Error(r(345));case 2:Hn(n,Ht,Yr);break;case 3:if(Sn(n,h),(h&130023424)===h&&(s=hu+500-gt(),10<s)){if(Ra(n,0)!==0)break;if(v=n.suspendedLanes,(v&h)!==h){Ft(),n.pingedLanes|=n.suspendedLanes&v;break}n.timeoutHandle=bc(Hn.bind(null,n,Ht,Yr),s);break}Hn(n,Ht,Yr);break;case 4:if(Sn(n,h),(h&4194240)===h)break;for(s=n.eventTimes,v=-1;0<h;){var A=31-pr(h);_=1<<A,A=s[A],A>v&&(v=A),h&=~_}if(h=v,h=gt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Cx(h/1960))-h,10<h){n.timeoutHandle=bc(Hn.bind(null,n,Ht,Yr),h);break}Hn(n,Ht,Yr);break;case 5:Hn(n,Ht,Yr);break;default:throw Error(r(329))}}}return Gt(n,gt()),n.callbackNode===l?bm.bind(null,n):null}function mu(n,s){var l=Bs;return n.current.memoizedState.isDehydrated&&(Wn(n,s).flags|=256),n=ko(n,s),n!==2&&(s=Ht,Ht=l,s!==null&&gu(s)),n}function gu(n){Ht===null?Ht=n:Ht.push.apply(Ht,n)}function Tx(n){for(var s=n;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var v=l[h],_=v.getSnapshot;v=v.value;try{if(!mr(_(),v))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Sn(n,s){for(s&=~du,s&=~vo,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var l=31-pr(s),h=1<<l;n[l]=-1,s&=~h}}function xm(n){if((Ye&6)!==0)throw Error(r(327));Ii();var s=Ra(n,0);if((s&1)===0)return Gt(n,gt()),null;var l=ko(n,s);if(n.tag!==0&&l===2){var h=Gl(n);h!==0&&(s=h,l=mu(n,h))}if(l===1)throw l=Us,Wn(n,0),Sn(n,s),Gt(n,gt()),l;if(l===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Hn(n,Ht,Yr),Gt(n,gt()),null}function yu(n,s){var l=Ye;Ye|=1;try{return n(s)}finally{Ye=l,Ye===0&&(Ni=gt()+500,Ja&&gn())}}function Kn(n){bn!==null&&bn.tag===0&&(Ye&6)===0&&Ii();var s=Ye;Ye|=1;var l=ur.transition,h=tt;try{if(ur.transition=null,tt=1,n)return n()}finally{tt=h,ur.transition=l,Ye=s,(Ye&6)===0&&gn()}}function vu(){rr=Oi.current,st(Oi)}function Wn(n,s){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,nx(l)),bt!==null)for(l=bt.return;l!==null;){var h=l;switch(Tc(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Ga();break;case 3:Pi(),st(qt),st(It),Bc();break;case 5:zc(h);break;case 4:Pi();break;case 13:st(dt);break;case 19:st(dt);break;case 10:Nc(h.type._context);break;case 22:case 23:vu()}l=l.return}if(Tt=n,bt=n=kn(n.current,null),jt=rr=s,Et=0,Us=null,du=vo=qn=0,Ht=Bs=null,$n!==null){for(s=0;s<$n.length;s++)if(l=$n[s],h=l.interleaved,h!==null){l.interleaved=null;var v=h.next,_=l.pending;if(_!==null){var A=_.next;_.next=v,h.next=A}l.pending=h}$n=null}return n}function Sm(n,s){do{var l=bt;try{if(Oc(),ao.current=uo,oo){for(var h=ht.memoizedState;h!==null;){var v=h.queue;v!==null&&(v.pending=null),h=h.next}oo=!1}if(Vn=0,Ct=kt=ht=null,Ns=!1,Is=0,uu.current=null,l===null||l.return===null){Et=1,Us=s,bt=null;break}e:{var _=n,A=l.return,M=l,F=s;if(s=jt,M.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var Z=F,ue=M,de=ue.tag;if((ue.mode&1)===0&&(de===0||de===11||de===15)){var ce=ue.alternate;ce?(ue.updateQueue=ce.updateQueue,ue.memoizedState=ce.memoizedState,ue.lanes=ce.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var we=Gp(A);if(we!==null){we.flags&=-257,Yp(we,A,M,_,s),we.mode&1&&Hp(_,Z,s),s=we,F=Z;var Se=s.updateQueue;if(Se===null){var Te=new Set;Te.add(F),s.updateQueue=Te}else Se.add(F);break e}else{if((s&1)===0){Hp(_,Z,s),wu();break e}F=Error(r(426))}}else if(ot&&M.mode&1){var yt=Gp(A);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),Yp(yt,A,M,_,s),jc(ji(F,M));break e}}_=F=ji(F,M),Et!==4&&(Et=2),Bs===null?Bs=[_]:Bs.push(_),_=A;do{switch(_.tag){case 3:_.flags|=65536,s&=-s,_.lanes|=s;var Y=Kp(_,F,s);vp(_,Y);break e;case 1:M=F;var q=_.type,Q=_.stateNode;if((_.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(_n===null||!_n.has(Q)))){_.flags|=65536,s&=-s,_.lanes|=s;var fe=Wp(_,M,s);vp(_,fe);break e}}_=_.return}while(_!==null)}Cm(l)}catch(Pe){s=Pe,bt===l&&l!==null&&(bt=l=l.return);continue}break}while(!0)}function km(){var n=yo.current;return yo.current=uo,n===null?uo:n}function wu(){(Et===0||Et===3||Et===2)&&(Et=4),Tt===null||(qn&268435455)===0&&(vo&268435455)===0||Sn(Tt,jt)}function ko(n,s){var l=Ye;Ye|=2;var h=km();(Tt!==n||jt!==s)&&(Yr=null,Wn(n,s));do try{Ax();break}catch(v){Sm(n,v)}while(!0);if(Oc(),Ye=l,yo.current=h,bt!==null)throw Error(r(261));return Tt=null,jt=0,Et}function Ax(){for(;bt!==null;)Em(bt)}function Px(){for(;bt!==null&&!eb();)Em(bt)}function Em(n){var s=Pm(n.alternate,n,rr);n.memoizedProps=n.pendingProps,s===null?Cm(n):bt=s,uu.current=null}function Cm(n){var s=n;do{var l=s.alternate;if(n=s.return,(s.flags&32768)===0){if(l=bx(l,s,rr),l!==null){bt=l;return}}else{if(l=xx(l,s),l!==null){l.flags&=32767,bt=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Et=6,bt=null;return}}if(s=s.sibling,s!==null){bt=s;return}bt=s=n}while(s!==null);Et===0&&(Et=5)}function Hn(n,s,l){var h=tt,v=ur.transition;try{ur.transition=null,tt=1,jx(n,s,l,h)}finally{ur.transition=v,tt=h}return null}function jx(n,s,l,h){do Ii();while(bn!==null);if((Ye&6)!==0)throw Error(r(327));l=n.finishedWork;var v=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var _=l.lanes|l.childLanes;if(ub(n,_),n===Tt&&(bt=Tt=null,jt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||_o||(_o=!0,jm(Ta,function(){return Ii(),null})),_=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||_){_=ur.transition,ur.transition=null;var A=tt;tt=1;var M=Ye;Ye|=4,uu.current=null,kx(n,l),gm(l,n),Jb(wc),Ia=!!vc,wc=vc=null,n.current=l,Ex(l),tb(),Ye=M,tt=A,ur.transition=_}else n.current=l;if(_o&&(_o=!1,bn=n,bo=v),_=n.pendingLanes,_===0&&(_n=null),ib(l.stateNode),Gt(n,gt()),s!==null)for(h=n.onRecoverableError,l=0;l<s.length;l++)v=s[l],h(v.value,{componentStack:v.stack,digest:v.digest});if(wo)throw wo=!1,n=fu,fu=null,n;return(bo&1)!==0&&n.tag!==0&&Ii(),_=n.pendingLanes,(_&1)!==0?n===pu?$s++:($s=0,pu=n):$s=0,gn(),null}function Ii(){if(bn!==null){var n=pf(bo),s=ur.transition,l=tt;try{if(ur.transition=null,tt=16>n?16:n,bn===null)var h=!1;else{if(n=bn,bn=null,bo=0,(Ye&6)!==0)throw Error(r(331));var v=Ye;for(Ye|=4,_e=n.current;_e!==null;){var _=_e,A=_.child;if((_e.flags&16)!==0){var M=_.deletions;if(M!==null){for(var F=0;F<M.length;F++){var Z=M[F];for(_e=Z;_e!==null;){var ue=_e;switch(ue.tag){case 0:case 11:case 15:zs(8,ue,_)}var de=ue.child;if(de!==null)de.return=ue,_e=de;else for(;_e!==null;){ue=_e;var ce=ue.sibling,we=ue.return;if(dm(ue),ue===Z){_e=null;break}if(ce!==null){ce.return=we,_e=ce;break}_e=we}}}var Se=_.alternate;if(Se!==null){var Te=Se.child;if(Te!==null){Se.child=null;do{var yt=Te.sibling;Te.sibling=null,Te=yt}while(Te!==null)}}_e=_}}if((_.subtreeFlags&2064)!==0&&A!==null)A.return=_,_e=A;else e:for(;_e!==null;){if(_=_e,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:zs(9,_,_.return)}var Y=_.sibling;if(Y!==null){Y.return=_.return,_e=Y;break e}_e=_.return}}var q=n.current;for(_e=q;_e!==null;){A=_e;var Q=A.child;if((A.subtreeFlags&2064)!==0&&Q!==null)Q.return=A,_e=Q;else e:for(A=q;_e!==null;){if(M=_e,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:go(9,M)}}catch(Pe){pt(M,M.return,Pe)}if(M===A){_e=null;break e}var fe=M.sibling;if(fe!==null){fe.return=M.return,_e=fe;break e}_e=M.return}}if(Ye=v,gn(),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(Aa,n)}catch{}h=!0}return h}finally{tt=l,ur.transition=s}}return!1}function Tm(n,s,l){s=ji(l,s),s=Kp(n,s,1),n=vn(n,s,1),s=Ft(),n!==null&&(ds(n,1,s),Gt(n,s))}function pt(n,s,l){if(n.tag===3)Tm(n,n,l);else for(;s!==null;){if(s.tag===3){Tm(s,n,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(_n===null||!_n.has(h))){n=ji(l,n),n=Wp(s,n,1),s=vn(s,n,1),n=Ft(),s!==null&&(ds(s,1,n),Gt(s,n));break}}s=s.return}}function Rx(n,s,l){var h=n.pingCache;h!==null&&h.delete(s),s=Ft(),n.pingedLanes|=n.suspendedLanes&l,Tt===n&&(jt&l)===l&&(Et===4||Et===3&&(jt&130023424)===jt&&500>gt()-hu?Wn(n,0):du|=l),Gt(n,s)}function Am(n,s){s===0&&((n.mode&1)===0?s=1:(s=ja,ja<<=1,(ja&130023424)===0&&(ja=4194304)));var l=Ft();n=Wr(n,s),n!==null&&(ds(n,s,l),Gt(n,l))}function Ox(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),Am(n,l)}function Nx(n,s){var l=0;switch(n.tag){case 13:var h=n.stateNode,v=n.memoizedState;v!==null&&(l=v.retryLane);break;case 19:h=n.stateNode;break;default:throw Error(r(314))}h!==null&&h.delete(s),Am(n,l)}var Pm;Pm=function(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps||qt.current)Wt=!0;else{if((n.lanes&l)===0&&(s.flags&128)===0)return Wt=!1,_x(n,s,l);Wt=(n.flags&131072)!==0}else Wt=!1,ot&&(s.flags&1048576)!==0&&lp(s,Xa,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;po(n,s),n=s.pendingProps;var v=xi(s,It.current);Ai(s,l),v=Vc(null,s,h,n,v,l);var _=qc();return s.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Kt(h)?(_=!0,Ya(s)):_=!1,s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Lc(s),v.updater=ho,s.stateNode=v,v._reactInternals=s,Jc(s,h,n,l),s=eu(null,s,h,!0,_,l)):(s.tag=0,ot&&_&&Cc(s),$t(null,s,v,l),s=s.child),s;case 16:h=s.elementType;e:{switch(po(n,s),n=s.pendingProps,v=h._init,h=v(h._payload),s.type=h,v=s.tag=Dx(h),n=yr(h,n),v){case 0:s=Zc(null,s,h,n,l);break e;case 1:s=tm(null,s,h,n,l);break e;case 11:s=Jp(null,s,h,n,l);break e;case 14:s=Qp(null,s,h,yr(h.type,n),l);break e}throw Error(r(306,h,""))}return s;case 0:return h=s.type,v=s.pendingProps,v=s.elementType===h?v:yr(h,v),Zc(n,s,h,v,l);case 1:return h=s.type,v=s.pendingProps,v=s.elementType===h?v:yr(h,v),tm(n,s,h,v,l);case 3:e:{if(rm(s),n===null)throw Error(r(387));h=s.pendingProps,_=s.memoizedState,v=_.element,yp(n,s),io(s,h,null,l);var A=s.memoizedState;if(h=A.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){v=ji(Error(r(423)),s),s=nm(n,s,h,l,v);break e}else if(h!==v){v=ji(Error(r(424)),s),s=nm(n,s,h,l,v);break e}else for(tr=fn(s.stateNode.containerInfo.firstChild),er=s,ot=!0,gr=null,l=mp(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ei(),h===v){s=Gr(n,s,l);break e}$t(n,s,h,l)}s=s.child}return s;case 5:return _p(s),n===null&&Pc(s),h=s.type,v=s.pendingProps,_=n!==null?n.memoizedProps:null,A=v.children,_c(h,v)?A=null:_!==null&&_c(h,_)&&(s.flags|=32),em(n,s),$t(n,s,A,l),s.child;case 6:return n===null&&Pc(s),null;case 13:return im(n,s,l);case 4:return Mc(s,s.stateNode.containerInfo),h=s.pendingProps,n===null?s.child=Ci(s,null,h,l):$t(n,s,h,l),s.child;case 11:return h=s.type,v=s.pendingProps,v=s.elementType===h?v:yr(h,v),Jp(n,s,h,v,l);case 7:return $t(n,s,s.pendingProps,l),s.child;case 8:return $t(n,s,s.pendingProps.children,l),s.child;case 12:return $t(n,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,v=s.pendingProps,_=s.memoizedProps,A=v.value,rt(to,h._currentValue),h._currentValue=A,_!==null)if(mr(_.value,A)){if(_.children===v.children&&!qt.current){s=Gr(n,s,l);break e}}else for(_=s.child,_!==null&&(_.return=s);_!==null;){var M=_.dependencies;if(M!==null){A=_.child;for(var F=M.firstContext;F!==null;){if(F.context===h){if(_.tag===1){F=Hr(-1,l&-l),F.tag=2;var Z=_.updateQueue;if(Z!==null){Z=Z.shared;var ue=Z.pending;ue===null?F.next=F:(F.next=ue.next,ue.next=F),Z.pending=F}}_.lanes|=l,F=_.alternate,F!==null&&(F.lanes|=l),Ic(_.return,l,s),M.lanes|=l;break}F=F.next}}else if(_.tag===10)A=_.type===s.type?null:_.child;else if(_.tag===18){if(A=_.return,A===null)throw Error(r(341));A.lanes|=l,M=A.alternate,M!==null&&(M.lanes|=l),Ic(A,l,s),A=_.sibling}else A=_.child;if(A!==null)A.return=_;else for(A=_;A!==null;){if(A===s){A=null;break}if(_=A.sibling,_!==null){_.return=A.return,A=_;break}A=A.return}_=A}$t(n,s,v.children,l),s=s.child}return s;case 9:return v=s.type,h=s.pendingProps.children,Ai(s,l),v=lr(v),h=h(v),s.flags|=1,$t(n,s,h,l),s.child;case 14:return h=s.type,v=yr(h,s.pendingProps),v=yr(h.type,v),Qp(n,s,h,v,l);case 15:return Xp(n,s,s.type,s.pendingProps,l);case 17:return h=s.type,v=s.pendingProps,v=s.elementType===h?v:yr(h,v),po(n,s),s.tag=1,Kt(h)?(n=!0,Ya(s)):n=!1,Ai(s,l),Vp(s,h,v),Jc(s,h,v,l),eu(null,s,h,!0,n,l);case 19:return am(n,s,l);case 22:return Zp(n,s,l)}throw Error(r(156,s.tag))};function jm(n,s){return cf(n,s)}function Ix(n,s,l,h){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(n,s,l,h){return new Ix(n,s,l,h)}function _u(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Dx(n){if(typeof n=="function")return _u(n)?1:0;if(n!=null){if(n=n.$$typeof,n===te)return 11;if(n===Re)return 14}return 2}function kn(n,s){var l=n.alternate;return l===null?(l=dr(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function Eo(n,s,l,h,v,_){var A=2;if(h=n,typeof n=="function")_u(n)&&(A=1);else if(typeof n=="string")A=5;else e:switch(n){case O:return Gn(l.children,v,_,s);case L:A=8,v|=8;break;case J:return n=dr(12,l,s,v|2),n.elementType=J,n.lanes=_,n;case oe:return n=dr(13,l,s,v),n.elementType=oe,n.lanes=_,n;case be:return n=dr(19,l,s,v),n.elementType=be,n.lanes=_,n;case Ce:return Co(l,v,_,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case z:A=10;break e;case H:A=9;break e;case te:A=11;break e;case Re:A=14;break e;case Ae:A=16,h=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return s=dr(A,l,s,v),s.elementType=n,s.type=h,s.lanes=_,s}function Gn(n,s,l,h){return n=dr(7,n,h,s),n.lanes=l,n}function Co(n,s,l,h){return n=dr(22,n,h,s),n.elementType=Ce,n.lanes=l,n.stateNode={isHidden:!1},n}function bu(n,s,l){return n=dr(6,n,null,s),n.lanes=l,n}function xu(n,s,l){return s=dr(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function Lx(n,s,l,h,v){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yl(0),this.expirationTimes=Yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yl(0),this.identifierPrefix=h,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Su(n,s,l,h,v,_,A,M,F){return n=new Lx(n,s,l,M,F),s===1?(s=1,_===!0&&(s|=8)):s=0,_=dr(3,null,null,s),n.current=_,_.stateNode=n,_.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lc(_),n}function Mx(n,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:h==null?null:""+h,children:n,containerInfo:s,implementation:l}}function Rm(n){if(!n)return mn;n=n._reactInternals;e:{if(Ln(n)!==n||n.tag!==1)throw Error(r(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Kt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(n.tag===1){var l=n.type;if(Kt(l))return sp(n,l,s)}return s}function Om(n,s,l,h,v,_,A,M,F){return n=Su(l,h,!0,n,v,_,A,M,F),n.context=Rm(null),l=n.current,h=Ft(),v=xn(l),_=Hr(h,v),_.callback=s??null,vn(l,_,v),n.current.lanes=v,ds(n,v,h),Gt(n,h),n}function To(n,s,l,h){var v=s.current,_=Ft(),A=xn(v);return l=Rm(l),s.context===null?s.context=l:s.pendingContext=l,s=Hr(_,A),s.payload={element:n},h=h===void 0?null:h,h!==null&&(s.callback=h),n=vn(v,s,A),n!==null&&(_r(n,v,A,_),no(n,v,A)),A}function Ao(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Nm(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function ku(n,s){Nm(n,s),(n=n.alternate)&&Nm(n,s)}function zx(){return null}var Im=typeof reportError=="function"?reportError:function(n){console.error(n)};function Eu(n){this._internalRoot=n}Po.prototype.render=Eu.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));To(n,s,null,null)},Po.prototype.unmount=Eu.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Kn(function(){To(null,n,null,null)}),s[Fr]=null}};function Po(n){this._internalRoot=n}Po.prototype.unstable_scheduleHydration=function(n){if(n){var s=yf();n={blockedOn:null,target:n,priority:s};for(var l=0;l<un.length&&s!==0&&s<un[l].priority;l++);un.splice(l,0,n),l===0&&_f(n)}};function Cu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function jo(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Dm(){}function Ux(n,s,l,h,v){if(v){if(typeof h=="function"){var _=h;h=function(){var Z=Ao(A);_.call(Z)}}var A=Om(s,h,n,0,null,!1,!1,"",Dm);return n._reactRootContainer=A,n[Fr]=A.current,Es(n.nodeType===8?n.parentNode:n),Kn(),A}for(;v=n.lastChild;)n.removeChild(v);if(typeof h=="function"){var M=h;h=function(){var Z=Ao(F);M.call(Z)}}var F=Su(n,0,!1,null,null,!1,!1,"",Dm);return n._reactRootContainer=F,n[Fr]=F.current,Es(n.nodeType===8?n.parentNode:n),Kn(function(){To(s,F,l,h)}),F}function Ro(n,s,l,h,v){var _=l._reactRootContainer;if(_){var A=_;if(typeof v=="function"){var M=v;v=function(){var F=Ao(A);M.call(F)}}To(s,A,n,v)}else A=Ux(l,s,n,v,h);return Ao(A)}mf=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var l=us(s.pendingLanes);l!==0&&(Jl(s,l|1),Gt(s,gt()),(Ye&6)===0&&(Ni=gt()+500,gn()))}break;case 13:Kn(function(){var h=Wr(n,1);if(h!==null){var v=Ft();_r(h,n,1,v)}}),ku(n,1)}},Ql=function(n){if(n.tag===13){var s=Wr(n,134217728);if(s!==null){var l=Ft();_r(s,n,134217728,l)}ku(n,134217728)}},gf=function(n){if(n.tag===13){var s=xn(n),l=Wr(n,s);if(l!==null){var h=Ft();_r(l,n,s,h)}ku(n,s)}},yf=function(){return tt},vf=function(n,s){var l=tt;try{return tt=n,s()}finally{tt=l}},Vl=function(n,s,l){switch(s){case"input":if(X(n,l),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==n&&h.form===n.form){var v=Ha(h);if(!v)throw Error(r(90));ct(h),X(h,v)}}}break;case"textarea":K(n,l);break;case"select":s=l.value,s!=null&&S(n,!!l.multiple,s,!1)}},tf=yu,rf=Kn;var Bx={usingClientEntryPoint:!1,Events:[As,_i,Ha,Zh,ef,yu]},Fs={findFiberByHostInstance:Mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$x={bundleType:Fs.bundleType,version:Fs.version,rendererPackageName:Fs.rendererPackageName,rendererConfig:Fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=of(n),n===null?null:n.stateNode},findFiberByHostInstance:Fs.findFiberByHostInstance||zx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oo.isDisabled&&Oo.supportsFiber)try{Aa=Oo.inject($x),jr=Oo}catch{}}return Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bx,Jt.createPortal=function(n,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cu(s))throw Error(r(200));return Mx(n,s,null,l)},Jt.createRoot=function(n,s){if(!Cu(n))throw Error(r(299));var l=!1,h="",v=Im;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=Su(n,1,!1,null,null,l,!1,h,v),n[Fr]=s.current,Es(n.nodeType===8?n.parentNode:n),new Eu(s)},Jt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=of(s),n=n===null?null:n.stateNode,n},Jt.flushSync=function(n){return Kn(n)},Jt.hydrate=function(n,s,l){if(!jo(s))throw Error(r(200));return Ro(null,n,s,!0,l)},Jt.hydrateRoot=function(n,s,l){if(!Cu(n))throw Error(r(405));var h=l!=null&&l.hydratedSources||null,v=!1,_="",A=Im;if(l!=null&&(l.unstable_strictMode===!0&&(v=!0),l.identifierPrefix!==void 0&&(_=l.identifierPrefix),l.onRecoverableError!==void 0&&(A=l.onRecoverableError)),s=Om(s,null,n,1,l??null,v,!1,_,A),n[Fr]=s.current,Es(n),h)for(n=0;n<h.length;n++)l=h[n],v=l._getVersion,v=v(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,v]:s.mutableSourceEagerHydrationData.push(l,v);return new Po(s)},Jt.render=function(n,s,l){if(!jo(s))throw Error(r(200));return Ro(null,n,s,!1,l)},Jt.unmountComponentAtNode=function(n){if(!jo(n))throw Error(r(40));return n._reactRootContainer?(Kn(function(){Ro(null,null,n,!1,function(){n._reactRootContainer=null,n[Fr]=null})}),!0):!1},Jt.unstable_batchedUpdates=yu,Jt.unstable_renderSubtreeIntoContainer=function(n,s,l,h){if(!jo(l))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return Ro(n,s,l,!1,h)},Jt.version="18.3.1-next-f1338f8080-20240426",Jt}var Vm;function hv(){if(Vm)return Pu.exports;Vm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pu.exports=Qx(),Pu.exports}var qm;function Xx(){if(qm)return No;qm=1;var t=hv();return No.createRoot=t.createRoot,No.hydrateRoot=t.hydrateRoot,No}var Zx=Xx();const eS=Cl(Zx),tS="modulepreload",rS=function(t){return"/"+t},Km={},Ue=function(e,r,i){let a=Promise.resolve();if(r&&r.length>0){let c=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=c(r.map(p=>{if(p=rS(p),p in Km)return;Km[p]=!0;const y=p.endsWith(".css"),m=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${m}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":tS,y||(w.as="script"),w.crossOrigin="",w.href=p,d&&w.setAttribute("nonce",d),document.head.appendChild(w),y)return new Promise((b,x)=>{w.addEventListener("load",b),w.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return a.then(c=>{for(const u of c||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};hv();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oa(){return oa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},oa.apply(this,arguments)}var jn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(jn||(jn={}));const Wm="popstate";function nS(t){t===void 0&&(t={});function e(i,a){let{pathname:o,search:c,hash:u}=i.location;return id("",{pathname:o,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){return typeof a=="string"?a:al(a)}return sS(e,r,null,t)}function wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iS(){return Math.random().toString(36).substr(2,8)}function Hm(t,e){return{usr:t.state,key:t.key,idx:e}}function id(t,e,r,i){return r===void 0&&(r=null),oa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ts(e):e,{state:r,key:e&&e.key||i||iS()})}function al(t){let{pathname:e="/",search:r="",hash:i=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ts(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function sS(t,e,r,i){i===void 0&&(i={});let{window:a=document.defaultView,v5Compat:o=!1}=i,c=a.history,u=jn.Pop,d=null,p=y();p==null&&(p=0,c.replaceState(oa({},c.state,{idx:p}),""));function y(){return(c.state||{idx:null}).idx}function m(){u=jn.Pop;let C=y(),j=C==null?null:C-p;p=C,d&&d({action:u,location:E.location,delta:j})}function w(C,j){u=jn.Push;let I=id(E.location,C,j);p=y()+1;let k=Hm(I,p),P=E.createHref(I);try{c.pushState(k,"",P)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;a.location.assign(P)}o&&d&&d({action:u,location:E.location,delta:1})}function b(C,j){u=jn.Replace;let I=id(E.location,C,j);p=y();let k=Hm(I,p),P=E.createHref(I);c.replaceState(k,"",P),o&&d&&d({action:u,location:E.location,delta:0})}function x(C){let j=a.location.origin!=="null"?a.location.origin:a.location.href,I=typeof C=="string"?C:al(C);return I=I.replace(/ $/,"%20"),wt(j,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,j)}let E={get action(){return u},get location(){return t(a,c)},listen(C){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Wm,m),d=C,()=>{a.removeEventListener(Wm,m),d=null}},createHref(C){return e(a,C)},createURL:x,encodeLocation(C){let j=x(C);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:w,replace:b,go(C){return c.go(C)}};return E}var Gm;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Gm||(Gm={}));function aS(t,e,r){return r===void 0&&(r="/"),oS(t,e,r)}function oS(t,e,r,i){let a=typeof e=="string"?ts(e):e,o=Yd(a.pathname||"/",r);if(o==null)return null;let c=fv(t);lS(c);let u=null;for(let d=0;u==null&&d<c.length;++d){let p=_S(o);u=yS(c[d],p)}return u}function fv(t,e,r,i){e===void 0&&(e=[]),r===void 0&&(r=[]),i===void 0&&(i="");let a=(o,c,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};d.relativePath.startsWith("/")&&(wt(d.relativePath.startsWith(i),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(i.length));let p=Rn([i,d.relativePath]),y=r.concat(d);o.children&&o.children.length>0&&(wt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),fv(o.children,e,y,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:mS(p,o.index),routesMeta:y})};return t.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,c);else for(let d of pv(o.path))a(o,c,d)}),e}function pv(t){let e=t.split("/");if(e.length===0)return[];let[r,...i]=e,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let c=pv(i.join("/")),u=[];return u.push(...c.map(d=>d===""?o:[o,d].join("/"))),a&&u.push(...c),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function lS(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:gS(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const cS=/^:[\w-]+$/,uS=3,dS=2,hS=1,fS=10,pS=-2,Ym=t=>t==="*";function mS(t,e){let r=t.split("/"),i=r.length;return r.some(Ym)&&(i+=pS),e&&(i+=dS),r.filter(a=>!Ym(a)).reduce((a,o)=>a+(cS.test(o)?uS:o===""?hS:fS),i)}function gS(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function yS(t,e,r){let{routesMeta:i}=t,a={},o="/",c=[];for(let u=0;u<i.length;++u){let d=i[u],p=u===i.length-1,y=o==="/"?e:e.slice(o.length)||"/",m=vS({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),w=d.route;if(!m)return null;Object.assign(a,m.params),c.push({params:a,pathname:Rn([o,m.pathname]),pathnameBase:ES(Rn([o,m.pathnameBase])),route:w}),m.pathnameBase!=="/"&&(o=Rn([o,m.pathnameBase]))}return c}function vS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,i]=wS(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:i.reduce((p,y,m)=>{let{paramName:w,isOptional:b}=y;if(w==="*"){let E=u[m]||"";c=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const x=u[m];return b&&!x?p[w]=void 0:p[w]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:t}}function wS(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Gd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,d)=>(i.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function _S(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Yd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=t.charAt(r);return i&&i!=="/"?null:t.slice(r)||"/"}const bS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xS=t=>bS.test(t);function SS(t,e){e===void 0&&(e="/");let{pathname:r,search:i="",hash:a=""}=typeof t=="string"?ts(t):t,o;if(r)if(xS(r))o=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),Gd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+r))}r.startsWith("/")?o=Jm(r.substring(1),"/"):o=Jm(r,e)}else o=e;return{pathname:o,search:CS(i),hash:TS(a)}}function Jm(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Ou(t,e,r,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kS(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Jd(t,e){let r=kS(t);return e?r.map((i,a)=>a===r.length-1?i.pathname:i.pathnameBase):r.map(i=>i.pathnameBase)}function Qd(t,e,r,i){i===void 0&&(i=!1);let a;typeof t=="string"?a=ts(t):(a=oa({},t),wt(!a.pathname||!a.pathname.includes("?"),Ou("?","pathname","search",a)),wt(!a.pathname||!a.pathname.includes("#"),Ou("#","pathname","hash",a)),wt(!a.search||!a.search.includes("#"),Ou("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,u;if(c==null)u=r;else{let m=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),m-=1;a.pathname=w.join("/")}u=m>=0?e[m]:"/"}let d=SS(a,u),p=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}const Rn=t=>t.join("/").replace(/\/\/+/g,"/"),ES=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function AS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mv=["post","put","patch","delete"];new Set(mv);const PS=["get",...mv];new Set(PS);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function la(){return la=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},la.apply(this,arguments)}const Xd=B.createContext(null),jS=B.createContext(null),In=B.createContext(null),Tl=B.createContext(null),rn=B.createContext({outlet:null,matches:[],isDataRoute:!1}),gv=B.createContext(null);function RS(t,e){let{relative:r}=e===void 0?{}:e;rs()||wt(!1);let{basename:i,navigator:a}=B.useContext(In),{hash:o,pathname:c,search:u}=vv(t,{relative:r}),d=c;return i!=="/"&&(d=c==="/"?i:Rn([i,c])),a.createHref({pathname:d,search:u,hash:o})}function rs(){return B.useContext(Tl)!=null}function Ar(){return rs()||wt(!1),B.useContext(Tl).location}function yv(t){B.useContext(In).static||B.useLayoutEffect(t)}function ci(){let{isDataRoute:t}=B.useContext(rn);return t?qS():OS()}function OS(){rs()||wt(!1);let t=B.useContext(Xd),{basename:e,future:r,navigator:i}=B.useContext(In),{matches:a}=B.useContext(rn),{pathname:o}=Ar(),c=JSON.stringify(Jd(a,r.v7_relativeSplatPath)),u=B.useRef(!1);return yv(()=>{u.current=!0}),B.useCallback(function(p,y){if(y===void 0&&(y={}),!u.current)return;if(typeof p=="number"){i.go(p);return}let m=Qd(p,JSON.parse(c),o,y.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Rn([e,m.pathname])),(y.replace?i.replace:i.push)(m,y.state,y)},[e,i,c,o,t])}function l2(){let{matches:t}=B.useContext(rn),e=t[t.length-1];return e?e.params:{}}function vv(t,e){let{relative:r}=e===void 0?{}:e,{future:i}=B.useContext(In),{matches:a}=B.useContext(rn),{pathname:o}=Ar(),c=JSON.stringify(Jd(a,i.v7_relativeSplatPath));return B.useMemo(()=>Qd(t,JSON.parse(c),o,r==="path"),[t,c,o,r])}function NS(t,e){return IS(t,e)}function IS(t,e,r,i){rs()||wt(!1);let{navigator:a}=B.useContext(In),{matches:o}=B.useContext(rn),c=o[o.length-1],u=c?c.params:{};c&&c.pathname;let d=c?c.pathnameBase:"/";c&&c.route;let p=Ar(),y;if(e){var m;let C=typeof e=="string"?ts(e):e;d==="/"||(m=C.pathname)!=null&&m.startsWith(d)||wt(!1),y=C}else y=p;let w=y.pathname||"/",b=w;if(d!=="/"){let C=d.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(C.length).join("/")}let x=aS(t,{pathname:b}),E=US(x&&x.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:Rn([d,a.encodeLocation?a.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:Rn([d,a.encodeLocation?a.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,r,i);return e&&E?B.createElement(Tl.Provider,{value:{location:la({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:jn.Pop}},E):E}function DS(){let t=VS(),e=AS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),r?B.createElement("pre",{style:a},r):null,null)}const LS=B.createElement(DS,null);class MS extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?B.createElement(rn.Provider,{value:this.props.routeContext},B.createElement(gv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zS(t){let{routeContext:e,match:r,children:i}=t,a=B.useContext(Xd);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),B.createElement(rn.Provider,{value:e},i)}function US(t,e,r,i){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),i===void 0&&(i=null),t==null){var o;if(!r)return null;if(r.errors)t=r.matches;else if((o=i)!=null&&o.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let c=t,u=(a=r)==null?void 0:a.errors;if(u!=null){let y=c.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);y>=0||wt(!1),c=c.slice(0,Math.min(c.length,y+1))}let d=!1,p=-1;if(r&&i&&i.v7_partialHydration)for(let y=0;y<c.length;y++){let m=c[y];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=y),m.route.id){let{loaderData:w,errors:b}=r,x=m.route.loader&&w[m.route.id]===void 0&&(!b||b[m.route.id]===void 0);if(m.route.lazy||x){d=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((y,m,w)=>{let b,x=!1,E=null,C=null;r&&(b=u&&m.route.id?u[m.route.id]:void 0,E=m.route.errorElement||LS,d&&(p<0&&w===0?(KS("route-fallback"),x=!0,C=null):p===w&&(x=!0,C=m.route.hydrateFallbackElement||null)));let j=e.concat(c.slice(0,w+1)),I=()=>{let k;return b?k=E:x?k=C:m.route.Component?k=B.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=y,B.createElement(zS,{match:m,routeContext:{outlet:y,matches:j,isDataRoute:r!=null},children:k})};return r&&(m.route.ErrorBoundary||m.route.errorElement||w===0)?B.createElement(MS,{location:r.location,revalidation:r.revalidation,component:E,error:b,children:I(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):I()},null)}var wv=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(wv||{}),_v=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(_v||{});function BS(t){let e=B.useContext(Xd);return e||wt(!1),e}function $S(t){let e=B.useContext(jS);return e||wt(!1),e}function FS(t){let e=B.useContext(rn);return e||wt(!1),e}function bv(t){let e=FS(),r=e.matches[e.matches.length-1];return r.route.id||wt(!1),r.route.id}function VS(){var t;let e=B.useContext(gv),r=$S(),i=bv();return e!==void 0?e:(t=r.errors)==null?void 0:t[i]}function qS(){let{router:t}=BS(wv.UseNavigateStable),e=bv(_v.UseNavigateStable),r=B.useRef(!1);return yv(()=>{r.current=!0}),B.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,la({fromRouteId:e},o)))},[t,e])}const Qm={};function KS(t,e,r){Qm[t]||(Qm[t]=!0)}function WS(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function xv(t){let{to:e,replace:r,state:i,relative:a}=t;rs()||wt(!1);let{future:o,static:c}=B.useContext(In),{matches:u}=B.useContext(rn),{pathname:d}=Ar(),p=ci(),y=Qd(e,Jd(u,o.v7_relativeSplatPath),d,a==="path"),m=JSON.stringify(y);return B.useEffect(()=>p(JSON.parse(m),{replace:r,state:i,relative:a}),[p,m,a,r,i]),null}function ve(t){wt(!1)}function HS(t){let{basename:e="/",children:r=null,location:i,navigationType:a=jn.Pop,navigator:o,static:c=!1,future:u}=t;rs()&&wt(!1);let d=e.replace(/^\/*/,"/"),p=B.useMemo(()=>({basename:d,navigator:o,static:c,future:la({v7_relativeSplatPath:!1},u)}),[d,u,o,c]);typeof i=="string"&&(i=ts(i));let{pathname:y="/",search:m="",hash:w="",state:b=null,key:x="default"}=i,E=B.useMemo(()=>{let C=Yd(y,d);return C==null?null:{location:{pathname:C,search:m,hash:w,state:b,key:x},navigationType:a}},[d,y,m,w,b,x,a]);return E==null?null:B.createElement(In.Provider,{value:p},B.createElement(Tl.Provider,{children:r,value:E}))}function GS(t){let{children:e,location:r}=t;return NS(sd(e),r)}new Promise(()=>{});function sd(t,e){e===void 0&&(e=[]);let r=[];return B.Children.forEach(t,(i,a)=>{if(!B.isValidElement(i))return;let o=[...e,a];if(i.type===B.Fragment){r.push.apply(r,sd(i.props.children,o));return}i.type!==ve&&wt(!1),!i.props.index||!i.props.children||wt(!1);let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=sd(i.props.children,o)),r.push(c)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ad(){return ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ad.apply(this,arguments)}function YS(t,e){if(t==null)return{};var r={},i=Object.keys(t),a,o;for(o=0;o<i.length;o++)a=i[o],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function JS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function QS(t,e){return t.button===0&&(!e||e==="_self")&&!JS(t)}function od(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let i=t[r];return e.concat(Array.isArray(i)?i.map(a=>[r,a]):[[r,i]])},[]))}function XS(t,e){let r=od(t);return e&&e.forEach((i,a)=>{r.has(a)||e.getAll(a).forEach(o=>{r.append(a,o)})}),r}const ZS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],e1="6";try{window.__reactRouterVersion=e1}catch{}const t1="startTransition",Xm=Gx[t1];function r1(t){let{basename:e,children:r,future:i,window:a}=t,o=B.useRef();o.current==null&&(o.current=nS({window:a,v5Compat:!0}));let c=o.current,[u,d]=B.useState({action:c.action,location:c.location}),{v7_startTransition:p}=i||{},y=B.useCallback(m=>{p&&Xm?Xm(()=>d(m)):d(m)},[d,p]);return B.useLayoutEffect(()=>c.listen(y),[c,y]),B.useEffect(()=>WS(i),[i]),B.createElement(HS,{basename:e,children:r,location:u.location,navigationType:u.action,navigator:c,future:i})}const n1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",i1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c2=B.forwardRef(function(e,r){let{onClick:i,relative:a,reloadDocument:o,replace:c,state:u,target:d,to:p,preventScrollReset:y,viewTransition:m}=e,w=YS(e,ZS),{basename:b}=B.useContext(In),x,E=!1;if(typeof p=="string"&&i1.test(p)&&(x=p,n1))try{let k=new URL(window.location.href),P=p.startsWith("//")?new URL(k.protocol+p):new URL(p),R=Yd(P.pathname,b);P.origin===k.origin&&R!=null?p=R+P.search+P.hash:E=!0}catch{}let C=RS(p,{relative:a}),j=s1(p,{replace:c,state:u,target:d,preventScrollReset:y,relative:a,viewTransition:m});function I(k){i&&i(k),k.defaultPrevented||j(k)}return B.createElement("a",ad({},w,{href:x||C,onClick:E||o?i:I,ref:r,target:d}))});var Zm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Zm||(Zm={}));var eg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(eg||(eg={}));function s1(t,e){let{target:r,replace:i,state:a,preventScrollReset:o,relative:c,viewTransition:u}=e===void 0?{}:e,d=ci(),p=Ar(),y=vv(t,{relative:c});return B.useCallback(m=>{if(QS(m,r)){m.preventDefault();let w=i!==void 0?i:al(p)===al(y);d(t,{replace:w,state:a,preventScrollReset:o,relative:c,viewTransition:u})}},[p,d,y,i,a,r,t,o,c,u])}function u2(t){let e=B.useRef(od(t)),r=B.useRef(!1),i=Ar(),a=B.useMemo(()=>XS(i.search,r.current?null:e.current),[i.search]),o=ci(),c=B.useCallback((u,d)=>{const p=od(typeof u=="function"?u(a):u);r.current=!0,o("?"+p,d)},[o,a]);return[a,c]}var tg={},a1="@vercel/analytics",o1="1.6.1",l1=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function Sv(){return typeof window<"u"}function kv(){try{const t="production"}catch{}return"production"}function c1(t="auto"){if(t==="auto"){window.vam=kv();return}window.vam=t}function u1(){return(Sv()?window.vam:kv())||"production"}function ld(){return u1()==="development"}function d1(t){return t.scriptSrc?t.scriptSrc:ld()?"https://va.vercel-scripts.com/v1/script.debug.js":t.basePath?`${t.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function h1(t={debug:!0}){var e;if(!Sv())return;c1(t.mode),l1(),t.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",t.beforeSend));const r=d1(t);if(document.head.querySelector(`script[src*="${r}"]`))return;const i=document.createElement("script");i.src=r,i.defer=!0,i.dataset.sdkn=a1+(t.framework?`/${t.framework}`:""),i.dataset.sdkv=o1,t.disableAutoTrack&&(i.dataset.disableAutoTrack="1"),t.endpoint?i.dataset.endpoint=t.endpoint:t.basePath&&(i.dataset.endpoint=`${t.basePath}/insights`),t.dsn&&(i.dataset.dsn=t.dsn),i.onerror=()=>{const a=ld()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${r}. ${a}`)},ld()&&t.debug===!1&&(i.dataset.debug="false"),document.head.appendChild(i)}function f1({route:t,path:e}){var r;(r=window.va)==null||r.call(window,"pageview",{route:t,path:e})}function p1(){if(!(typeof process>"u"||typeof tg>"u"))return tg.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function m1(t){return B.useEffect(()=>{var e;t.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",t.beforeSend))},[t.beforeSend]),B.useEffect(()=>{h1({framework:t.framework||"react",basePath:t.basePath??p1(),...t.route!==void 0&&{disableAutoTrack:!0},...t})},[]),B.useEffect(()=>{t.route&&t.path&&f1({route:t.route,path:t.path})},[t.route,t.path]),null}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ev=(...t)=>t.filter((e,r,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var y1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=B.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:c,...u},d)=>B.createElement("svg",{ref:d,...y1,width:e,height:e,stroke:t,strokeWidth:i?Number(r)*24/Number(e):r,className:Ev("lucide",a),...u},[...c.map(([p,y])=>B.createElement(p,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(t,e)=>{const r=B.forwardRef(({className:i,...a},o)=>B.createElement(v1,{ref:o,iconNode:e,className:Ev(`lucide-${g1(t)}`,i),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=qe("BatteryCharging",[["path",{d:"M15 7h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2",key:"1sdynx"}],["path",{d:"M6 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h1",key:"1gkd3k"}],["path",{d:"m11 7-3 5h4l-3 5",key:"b4a64w"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=qe("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=qe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=qe("CarFront",[["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=qe("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=qe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=qe("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=qe("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=qe("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=qe("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=qe("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=qe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=qe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=qe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=qe("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=qe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=qe("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=qe("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=qe("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=qe("PhoneIncoming",[["polyline",{points:"16 2 16 8 22 8",key:"1ygljm"}],["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=qe("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=qe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=qe("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=qe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=qe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=qe("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=qe("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=qe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),th=B.createContext({});function rh(t){const e=B.useRef(null);return e.current===null&&(e.current=t()),e.current}const jl=B.createContext(null),nh=B.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class B1 extends B.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function $1({children:t,isPresent:e}){const r=B.useId(),i=B.useRef(null),a=B.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=B.useContext(nh);return B.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:p}=a.current;if(e||!i.current||!c||!u)return;i.current.dataset.motionPopId=r;const y=document.createElement("style");return o&&(y.nonce=o),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            top: ${d}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(y)}},[e]),g.jsx(B1,{isPresent:e,childRef:i,sizeRef:a,children:B.cloneElement(t,{ref:i})})}const F1=({children:t,initial:e,isPresent:r,onExitComplete:i,custom:a,presenceAffectsLayout:o,mode:c})=>{const u=rh(V1),d=B.useId(),p=B.useCallback(m=>{u.set(m,!0);for(const w of u.values())if(!w)return;i&&i()},[u,i]),y=B.useMemo(()=>({id:d,initial:e,isPresent:r,custom:a,onExitComplete:p,register:m=>(u.set(m,!1),()=>u.delete(m))}),o?[Math.random(),p]:[r,p]);return B.useMemo(()=>{u.forEach((m,w)=>u.set(w,!1))},[r]),B.useEffect(()=>{!r&&!u.size&&i&&i()},[r]),c==="popLayout"&&(t=g.jsx($1,{isPresent:r,children:t})),g.jsx(jl.Provider,{value:y,children:t})};function V1(){return new Map}function Rv(t=!0){const e=B.useContext(jl);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:i,register:a}=e,o=B.useId();B.useEffect(()=>{t&&a(o)},[t]);const c=B.useCallback(()=>t&&i&&i(o),[o,i,t]);return!r&&i?[!1,c]:[!0]}const Io=t=>t.key||"";function sg(t){const e=[];return B.Children.forEach(t,r=>{B.isValidElement(r)&&e.push(r)}),e}const ih=typeof window<"u",Ov=ih?B.useLayoutEffect:B.useEffect,Tr=({children:t,custom:e,initial:r=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:o="sync",propagate:c=!1})=>{const[u,d]=Rv(c),p=B.useMemo(()=>sg(t),[t]),y=c&&!u?[]:p.map(Io),m=B.useRef(!0),w=B.useRef(p),b=rh(()=>new Map),[x,E]=B.useState(p),[C,j]=B.useState(p);Ov(()=>{m.current=!1,w.current=p;for(let P=0;P<C.length;P++){const R=Io(C[P]);y.includes(R)?b.delete(R):b.get(R)!==!0&&b.set(R,!1)}},[C,y.length,y.join("-")]);const I=[];if(p!==x){let P=[...p];for(let R=0;R<C.length;R++){const D=C[R],O=Io(D);y.includes(O)||(P.splice(R,0,D),I.push(D))}o==="wait"&&I.length&&(P=I),j(sg(P)),E(p);return}const{forceRender:k}=B.useContext(th);return g.jsx(g.Fragment,{children:C.map(P=>{const R=Io(P),D=c&&!u?!1:p===C||y.includes(R),O=()=>{if(b.has(R))b.set(R,!0);else return;let L=!0;b.forEach(J=>{J||(L=!1)}),L&&(k==null||k(),j(w.current),c&&(d==null||d()),i&&i())};return g.jsx(F1,{isPresent:D,initial:!m.current||r?void 0:!1,custom:D?void 0:e,presenceAffectsLayout:a,mode:o,onExitComplete:D?void 0:O,children:P},R)})})},ir=t=>t;let Nv=ir;function sh(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ji=(t,e,r)=>{const i=e-t;return i===0?1:(r-t)/i},Zr=t=>t*1e3,en=t=>t/1e3,q1={useManualTiming:!1};function K1(t){let e=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(p){o.has(p)&&(d.schedule(p),t()),p(c)}const d={schedule:(p,y=!1,m=!1)=>{const b=m&&i?e:r;return y&&o.add(p),b.has(p)||b.add(p),p},cancel:p=>{r.delete(p),o.delete(p)},process:p=>{if(c=p,i){a=!0;return}i=!0,[e,r]=[r,e],e.forEach(u),e.clear(),i=!1,a&&(a=!1,d.process(p))}};return d}const Do=["read","resolveKeyframes","update","preRender","render","postRender"],W1=40;function Iv(t,e){let r=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>r=!0,c=Do.reduce((j,I)=>(j[I]=K1(o),j),{}),{read:u,resolveKeyframes:d,update:p,preRender:y,render:m,postRender:w}=c,b=()=>{const j=performance.now();r=!1,a.delta=i?1e3/60:Math.max(Math.min(j-a.timestamp,W1),1),a.timestamp=j,a.isProcessing=!0,u.process(a),d.process(a),p.process(a),y.process(a),m.process(a),w.process(a),a.isProcessing=!1,r&&e&&(i=!1,t(b))},x=()=>{r=!0,i=!0,a.isProcessing||t(b)};return{schedule:Do.reduce((j,I)=>{const k=c[I];return j[I]=(P,R=!1,D=!1)=>(r||x(),k.schedule(P,R,D)),j},{}),cancel:j=>{for(let I=0;I<Do.length;I++)c[Do[I]].cancel(j)},state:a,steps:c}}const{schedule:at,cancel:On,state:Nt,steps:Iu}=Iv(typeof requestAnimationFrame<"u"?requestAnimationFrame:ir,!0),Dv=B.createContext({strict:!1}),ag={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qi={};for(const t in ag)Qi[t]={isEnabled:e=>ag[t].some(r=>!!e[r])};function H1(t){for(const e in t)Qi[e]={...Qi[e],...t[e]}}const G1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ll(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||G1.has(t)}let Lv=t=>!ll(t);function Y1(t){t&&(Lv=e=>e.startsWith("on")?!ll(e):t(e))}try{Y1(require("@emotion/is-prop-valid").default)}catch{}function J1(t,e,r){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(Lv(a)||r===!0&&ll(a)||!e&&!ll(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}function Q1(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...i)=>t(...i);return new Proxy(r,{get:(i,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const Rl=B.createContext({});function ca(t){return typeof t=="string"||Array.isArray(t)}function Ol(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const ah=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],oh=["initial",...ah];function Nl(t){return Ol(t.animate)||oh.some(e=>ca(t[e]))}function Mv(t){return!!(Nl(t)||t.variants)}function X1(t,e){if(Nl(t)){const{initial:r,animate:i}=t;return{initial:r===!1||ca(r)?r:void 0,animate:ca(i)?i:void 0}}return t.inherit!==!1?e:{}}function Z1(t){const{initial:e,animate:r}=X1(t,B.useContext(Rl));return B.useMemo(()=>({initial:e,animate:r}),[og(e),og(r)])}function og(t){return Array.isArray(t)?t.join(" "):t}const ek=Symbol.for("motionComponentSymbol");function $i(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function tk(t,e,r){return B.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),r&&(typeof r=="function"?r(i):$i(r)&&(r.current=i))},[e])}const lh=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rk="framerAppearId",zv="data-"+lh(rk),{schedule:ch}=Iv(queueMicrotask,!1),Uv=B.createContext({});function nk(t,e,r,i,a){var o,c;const{visualElement:u}=B.useContext(Rl),d=B.useContext(Dv),p=B.useContext(jl),y=B.useContext(nh).reducedMotion,m=B.useRef(null);i=i||d.renderer,!m.current&&i&&(m.current=i(t,{visualState:e,parent:u,props:r,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:y}));const w=m.current,b=B.useContext(Uv);w&&!w.projection&&a&&(w.type==="html"||w.type==="svg")&&ik(m.current,r,a,b);const x=B.useRef(!1);B.useInsertionEffect(()=>{w&&x.current&&w.update(r,p)});const E=r[zv],C=B.useRef(!!E&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,E))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,E)));return Ov(()=>{w&&(x.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),ch.render(w.render),C.current&&w.animationState&&w.animationState.animateChanges())}),B.useEffect(()=>{w&&(!C.current&&w.animationState&&w.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)===null||j===void 0||j.call(window,E)}),C.current=!1))}),w}function ik(t,e,r,i){const{layoutId:a,layout:o,drag:c,dragConstraints:u,layoutScroll:d,layoutRoot:p}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:Bv(t.parent)),t.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!c||u&&$i(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,layoutScroll:d,layoutRoot:p})}function Bv(t){if(t)return t.options.allowProjection!==!1?t.projection:Bv(t.parent)}function sk({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:i,Component:a}){var o,c;t&&H1(t);function u(p,y){let m;const w={...B.useContext(nh),...p,layoutId:ak(p)},{isStatic:b}=w,x=Z1(p),E=i(p,b);if(!b&&ih){ok();const C=lk(w);m=C.MeasureLayout,x.visualElement=nk(a,E,w,e,C.ProjectionNode)}return g.jsxs(Rl.Provider,{value:x,children:[m&&x.visualElement?g.jsx(m,{visualElement:x.visualElement,...w}):null,r(a,p,tk(E,x.visualElement,y),E,b,x.visualElement)]})}u.displayName=`motion.${typeof a=="string"?a:`create(${(c=(o=a.displayName)!==null&&o!==void 0?o:a.name)!==null&&c!==void 0?c:""})`}`;const d=B.forwardRef(u);return d[ek]=a,d}function ak({layoutId:t}){const e=B.useContext(th).id;return e&&t!==void 0?e+"-"+t:t}function ok(t,e){B.useContext(Dv).strict}function lk(t){const{drag:e,layout:r}=Qi;if(!e&&!r)return{};const i={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const ck=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function uh(t){return typeof t!="string"||t.includes("-")?!1:!!(ck.indexOf(t)>-1||/[A-Z]/u.test(t))}function lg(t){const e=[{},{}];return t==null||t.values.forEach((r,i)=>{e[0][i]=r.get(),e[1][i]=r.getVelocity()}),e}function dh(t,e,r,i){if(typeof e=="function"){const[a,o]=lg(i);e=e(r!==void 0?r:t.custom,a,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,o]=lg(i);e=e(r!==void 0?r:t.custom,a,o)}return e}const fd=t=>Array.isArray(t),uk=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),dk=t=>fd(t)?t[t.length-1]||0:t,Bt=t=>!!(t&&t.getVelocity);function Qo(t){const e=Bt(t)?t.get():t;return uk(e)?e.toValue():e}function hk({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:r},i,a,o){const c={latestValues:fk(i,a,o,t),renderState:e()};return r&&(c.onMount=u=>r({props:i,current:u,...c}),c.onUpdate=u=>r(u)),c}const $v=t=>(e,r)=>{const i=B.useContext(Rl),a=B.useContext(jl),o=()=>hk(t,e,i,a);return r?o():rh(o)};function fk(t,e,r,i){const a={},o=i(t,{});for(const w in o)a[w]=Qo(o[w]);let{initial:c,animate:u}=t;const d=Nl(t),p=Mv(t);e&&p&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let y=r?r.initial===!1:!1;y=y||c===!1;const m=y?u:c;if(m&&typeof m!="boolean"&&!Ol(m)){const w=Array.isArray(m)?m:[m];for(let b=0;b<w.length;b++){const x=dh(t,w[b]);if(x){const{transitionEnd:E,transition:C,...j}=x;for(const I in j){let k=j[I];if(Array.isArray(k)){const P=y?k.length-1:0;k=k[P]}k!==null&&(a[I]=k)}for(const I in E)a[I]=E[I]}}}return a}const ns=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ui=new Set(ns),Fv=t=>e=>typeof e=="string"&&e.startsWith(t),Vv=Fv("--"),pk=Fv("var(--"),hh=t=>pk(t)?mk.test(t.split("/*")[0].trim()):!1,mk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qv=(t,e)=>e&&typeof t=="number"?e.transform(t):t,tn=(t,e,r)=>r>e?e:r<t?t:r,is={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ua={...is,transform:t=>tn(0,1,t)},Lo={...is,default:1},va=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Tn=va("deg"),zr=va("%"),Le=va("px"),gk=va("vh"),yk=va("vw"),cg={...zr,parse:t=>zr.parse(t)/100,transform:t=>zr.transform(t*100)},vk={borderWidth:Le,borderTopWidth:Le,borderRightWidth:Le,borderBottomWidth:Le,borderLeftWidth:Le,borderRadius:Le,radius:Le,borderTopLeftRadius:Le,borderTopRightRadius:Le,borderBottomRightRadius:Le,borderBottomLeftRadius:Le,width:Le,maxWidth:Le,height:Le,maxHeight:Le,top:Le,right:Le,bottom:Le,left:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,backgroundPositionX:Le,backgroundPositionY:Le},wk={rotate:Tn,rotateX:Tn,rotateY:Tn,rotateZ:Tn,scale:Lo,scaleX:Lo,scaleY:Lo,scaleZ:Lo,skew:Tn,skewX:Tn,skewY:Tn,distance:Le,translateX:Le,translateY:Le,translateZ:Le,x:Le,y:Le,z:Le,perspective:Le,transformPerspective:Le,opacity:ua,originX:cg,originY:cg,originZ:Le},ug={...is,transform:Math.round},fh={...vk,...wk,zIndex:ug,size:Le,fillOpacity:ua,strokeOpacity:ua,numOctaves:ug},_k={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bk=ns.length;function xk(t,e,r){let i="",a=!0;for(let o=0;o<bk;o++){const c=ns[o],u=t[c];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(c.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||r){const p=qv(u,fh[c]);if(!d){a=!1;const y=_k[c]||c;i+=`${y}(${p}) `}r&&(e[c]=p)}}return i=i.trim(),r?i=r(e,a?"":i):a&&(i="none"),i}function ph(t,e,r){const{style:i,vars:a,transformOrigin:o}=t;let c=!1,u=!1;for(const d in e){const p=e[d];if(ui.has(d)){c=!0;continue}else if(Vv(d)){a[d]=p;continue}else{const y=qv(p,fh[d]);d.startsWith("origin")?(u=!0,o[d]=y):i[d]=y}}if(e.transform||(c||r?i.transform=xk(e,t.transform,r):i.transform&&(i.transform="none")),u){const{originX:d="50%",originY:p="50%",originZ:y=0}=o;i.transformOrigin=`${d} ${p} ${y}`}}const Sk={offset:"stroke-dashoffset",array:"stroke-dasharray"},kk={offset:"strokeDashoffset",array:"strokeDasharray"};function Ek(t,e,r=1,i=0,a=!0){t.pathLength=1;const o=a?Sk:kk;t[o.offset]=Le.transform(-i);const c=Le.transform(e),u=Le.transform(r);t[o.array]=`${c} ${u}`}function dg(t,e,r){return typeof t=="string"?t:Le.transform(e+r*t)}function Ck(t,e,r){const i=dg(e,t.x,t.width),a=dg(r,t.y,t.height);return`${i} ${a}`}function mh(t,{attrX:e,attrY:r,attrScale:i,originX:a,originY:o,pathLength:c,pathSpacing:u=1,pathOffset:d=0,...p},y,m){if(ph(t,p,m),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:b,dimensions:x}=t;w.transform&&(x&&(b.transform=w.transform),delete w.transform),x&&(a!==void 0||o!==void 0||b.transform)&&(b.transformOrigin=Ck(x,a!==void 0?a:.5,o!==void 0?o:.5)),e!==void 0&&(w.x=e),r!==void 0&&(w.y=r),i!==void 0&&(w.scale=i),c!==void 0&&Ek(w,c,u,d,!1)}const gh=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Kv=()=>({...gh(),attrs:{}}),yh=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Wv(t,{style:e,vars:r},i,a){Object.assign(t.style,e,a&&a.getProjectionStyles(i));for(const o in r)t.style.setProperty(o,r[o])}const Hv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Gv(t,e,r,i){Wv(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(Hv.has(a)?a:lh(a),e.attrs[a])}const cl={};function Tk(t){Object.assign(cl,t)}function Yv(t,{layout:e,layoutId:r}){return ui.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!cl[t]||t==="opacity")}function vh(t,e,r){var i;const{style:a}=t,o={};for(const c in a)(Bt(a[c])||e.style&&Bt(e.style[c])||Yv(c,t)||((i=r==null?void 0:r.getValue(c))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(o[c]=a[c]);return o}function Jv(t,e,r){const i=vh(t,e,r);for(const a in t)if(Bt(t[a])||Bt(e[a])){const o=ns.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[o]=t[a]}return i}function Ak(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const hg=["x","y","width","height","cx","cy","r"],Pk={useVisualState:$v({scrapeMotionValuesFromProps:Jv,createRenderState:Kv,onUpdate:({props:t,prevProps:e,current:r,renderState:i,latestValues:a})=>{if(!r)return;let o=!!t.drag;if(!o){for(const u in a)if(ui.has(u)){o=!0;break}}if(!o)return;let c=!e;if(e)for(let u=0;u<hg.length;u++){const d=hg[u];t[d]!==e[d]&&(c=!0)}c&&at.read(()=>{Ak(r,i),at.render(()=>{mh(i,a,yh(r.tagName),t.transformTemplate),Gv(r,i)})})}})},jk={useVisualState:$v({scrapeMotionValuesFromProps:vh,createRenderState:gh})};function Qv(t,e,r){for(const i in e)!Bt(e[i])&&!Yv(i,r)&&(t[i]=e[i])}function Rk({transformTemplate:t},e){return B.useMemo(()=>{const r=gh();return ph(r,e,t),Object.assign({},r.vars,r.style)},[e])}function Ok(t,e){const r=t.style||{},i={};return Qv(i,r,t),Object.assign(i,Rk(t,e)),i}function Nk(t,e){const r={},i=Ok(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}function Ik(t,e,r,i){const a=B.useMemo(()=>{const o=Kv();return mh(o,e,yh(i),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Qv(o,t.style,t),a.style={...o,...a.style}}return a}function Dk(t=!1){return(r,i,a,{latestValues:o},c)=>{const d=(uh(r)?Ik:Nk)(i,o,c,r),p=J1(i,typeof r=="string",t),y=r!==B.Fragment?{...p,...d,ref:a}:{},{children:m}=i,w=B.useMemo(()=>Bt(m)?m.get():m,[m]);return B.createElement(r,{...y,children:w})}}function Lk(t,e){return function(i,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...uh(i)?Pk:jk,preloadedFeatures:t,useRender:Dk(a),createVisualElement:e,Component:i};return sk(c)}}function Xv(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}function Il(t,e,r){const i=t.getProps();return dh(i,e,r!==void 0?r:i.custom,t)}const Mk=sh(()=>window.ScrollTimeline!==void 0);class zk{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,r){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=r}attachTimeline(e,r){const i=this.animations.map(a=>{if(Mk()&&a.attachTimeline)return a.attachTimeline(e);if(typeof r=="function")return r(a)});return()=>{i.forEach((a,o)=>{a&&a(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Uk extends zk{then(e,r){return Promise.all(this.animations).then(e).catch(r)}}function wh(t,e){return t?t[e]||t.default||t:void 0}const pd=2e4;function Zv(t){let e=0;const r=50;let i=t.next(e);for(;!i.done&&e<pd;)e+=r,i=t.next(e);return e>=pd?1/0:e}function _h(t){return typeof t=="function"}function fg(t,e){t.timeline=e,t.onfinish=null}const bh=t=>Array.isArray(t)&&typeof t[0]=="number",Bk={linearEasing:void 0};function $k(t,e){const r=sh(t);return()=>{var i;return(i=Bk[e])!==null&&i!==void 0?i:r()}}const ul=$k(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),e0=(t,e,r=10)=>{let i="";const a=Math.max(Math.round(e/r),2);for(let o=0;o<a;o++)i+=t(Ji(0,a-1,o))+", ";return`linear(${i.substring(0,i.length-2)})`};function t0(t){return!!(typeof t=="function"&&ul()||!t||typeof t=="string"&&(t in md||ul())||bh(t)||Array.isArray(t)&&t.every(t0))}const Js=([t,e,r,i])=>`cubic-bezier(${t}, ${e}, ${r}, ${i})`,md={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Js([0,.65,.55,1]),circOut:Js([.55,0,1,.45]),backIn:Js([.31,.01,.66,-.59]),backOut:Js([.33,1.53,.69,.99])};function r0(t,e){if(t)return typeof t=="function"&&ul()?e0(t,e):bh(t)?Js(t):Array.isArray(t)?t.map(r=>r0(r,e)||md.easeOut):md[t]}const xr={x:!1,y:!1};function n0(){return xr.x||xr.y}function Fk(t,e,r){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let a=document;const o=(i=void 0)!==null&&i!==void 0?i:a.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function i0(t,e){const r=Fk(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[r,a,()=>i.abort()]}function pg(t){return e=>{e.pointerType==="touch"||n0()||t(e)}}function Vk(t,e,r={}){const[i,a,o]=i0(t,r),c=pg(u=>{const{target:d}=u,p=e(u);if(typeof p!="function"||!d)return;const y=pg(m=>{p(m),d.removeEventListener("pointerleave",y)});d.addEventListener("pointerleave",y,a)});return i.forEach(u=>{u.addEventListener("pointerenter",c,a)}),o}const s0=(t,e)=>e?t===e?!0:s0(t,e.parentElement):!1,xh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,qk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Kk(t){return qk.has(t.tagName)||t.tabIndex!==-1}const Qs=new WeakSet;function mg(t){return e=>{e.key==="Enter"&&t(e)}}function Du(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Wk=(t,e)=>{const r=t.currentTarget;if(!r)return;const i=mg(()=>{if(Qs.has(r))return;Du(r,"down");const a=mg(()=>{Du(r,"up")}),o=()=>Du(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",o,e)});r.addEventListener("keydown",i,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),e)};function gg(t){return xh(t)&&!n0()}function Hk(t,e,r={}){const[i,a,o]=i0(t,r),c=u=>{const d=u.currentTarget;if(!gg(u)||Qs.has(d))return;Qs.add(d);const p=e(u),y=(b,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",w),!(!gg(b)||!Qs.has(d))&&(Qs.delete(d),typeof p=="function"&&p(b,{success:x}))},m=b=>{y(b,r.useGlobalTarget||s0(d,b.target))},w=b=>{y(b,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",w,a)};return i.forEach(u=>{!Kk(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(r.useGlobalTarget?window:u).addEventListener("pointerdown",c,a),u.addEventListener("focus",p=>Wk(p,a),a)}),o}function Gk(t){return t==="x"||t==="y"?xr[t]?null:(xr[t]=!0,()=>{xr[t]=!1}):xr.x||xr.y?null:(xr.x=xr.y=!0,()=>{xr.x=xr.y=!1})}const a0=new Set(["width","height","top","left","right","bottom",...ns]);let Xo;function Yk(){Xo=void 0}const Ur={now:()=>(Xo===void 0&&Ur.set(Nt.isProcessing||q1.useManualTiming?Nt.timestamp:performance.now()),Xo),set:t=>{Xo=t,queueMicrotask(Yk)}};function Sh(t,e){t.indexOf(e)===-1&&t.push(e)}function kh(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class Eh{constructor(){this.subscriptions=[]}add(e){return Sh(this.subscriptions,e),()=>kh(this.subscriptions,e)}notify(e,r,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,i);else for(let o=0;o<a;o++){const c=this.subscriptions[o];c&&c(e,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function o0(t,e){return e?t*(1e3/e):0}const yg=30,Jk=t=>!isNaN(parseFloat(t));class Qk{constructor(e,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,a=!0)=>{const o=Ur.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Ur.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Jk(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Eh);const i=this.events[e].add(r);return e==="change"?()=>{i(),at.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,i){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ur.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>yg)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,yg);return o0(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function da(t,e){return new Qk(t,e)}function Xk(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,da(r))}function Zk(t,e){const r=Il(t,e);let{transitionEnd:i={},transition:a={},...o}=r||{};o={...o,...i};for(const c in o){const u=dk(o[c]);Xk(t,c,u)}}function eE(t){return!!(Bt(t)&&t.add)}function gd(t,e){const r=t.getValue("willChange");if(eE(r))return r.add(e)}function l0(t){return t.props[zv]}const c0=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,tE=1e-7,rE=12;function nE(t,e,r,i,a){let o,c,u=0;do c=e+(r-e)/2,o=c0(c,i,a)-t,o>0?r=c:e=c;while(Math.abs(o)>tE&&++u<rE);return c}function wa(t,e,r,i){if(t===e&&r===i)return ir;const a=o=>nE(o,0,1,t,r);return o=>o===0||o===1?o:c0(a(o),e,i)}const u0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,d0=t=>e=>1-t(1-e),h0=wa(.33,1.53,.69,.99),Ch=d0(h0),f0=u0(Ch),p0=t=>(t*=2)<1?.5*Ch(t):.5*(2-Math.pow(2,-10*(t-1))),Th=t=>1-Math.sin(Math.acos(t)),m0=d0(Th),g0=u0(Th),y0=t=>/^0[^.\s]+$/u.test(t);function iE(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||y0(t):!0}const ra=t=>Math.round(t*1e5)/1e5,Ah=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function sE(t){return t==null}const aE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ph=(t,e)=>r=>!!(typeof r=="string"&&aE.test(r)&&r.startsWith(t)||e&&!sE(r)&&Object.prototype.hasOwnProperty.call(r,e)),v0=(t,e,r)=>i=>{if(typeof i!="string")return i;const[a,o,c,u]=i.match(Ah);return{[t]:parseFloat(a),[e]:parseFloat(o),[r]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},oE=t=>tn(0,255,t),Lu={...is,transform:t=>Math.round(oE(t))},ai={test:Ph("rgb","red"),parse:v0("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:i=1})=>"rgba("+Lu.transform(t)+", "+Lu.transform(e)+", "+Lu.transform(r)+", "+ra(ua.transform(i))+")"};function lE(t){let e="",r="",i="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const yd={test:Ph("#"),parse:lE,transform:ai.transform},Fi={test:Ph("hsl","hue"),parse:v0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:i=1})=>"hsla("+Math.round(t)+", "+zr.transform(ra(e))+", "+zr.transform(ra(r))+", "+ra(ua.transform(i))+")"},Ut={test:t=>ai.test(t)||yd.test(t)||Fi.test(t),parse:t=>ai.test(t)?ai.parse(t):Fi.test(t)?Fi.parse(t):yd.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ai.transform(t):Fi.transform(t)},cE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uE(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Ah))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(cE))===null||r===void 0?void 0:r.length)||0)>0}const w0="number",_0="color",dE="var",hE="var(",vg="${}",fE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ha(t){const e=t.toString(),r=[],i={color:[],number:[],var:[]},a=[];let o=0;const u=e.replace(fE,d=>(Ut.test(d)?(i.color.push(o),a.push(_0),r.push(Ut.parse(d))):d.startsWith(hE)?(i.var.push(o),a.push(dE),r.push(d)):(i.number.push(o),a.push(w0),r.push(parseFloat(d))),++o,vg)).split(vg);return{values:r,split:u,indexes:i,types:a}}function b0(t){return ha(t).values}function x0(t){const{split:e,types:r}=ha(t),i=e.length;return a=>{let o="";for(let c=0;c<i;c++)if(o+=e[c],a[c]!==void 0){const u=r[c];u===w0?o+=ra(a[c]):u===_0?o+=Ut.transform(a[c]):o+=a[c]}return o}}const pE=t=>typeof t=="number"?0:t;function mE(t){const e=b0(t);return x0(t)(e.map(pE))}const Nn={test:uE,parse:b0,createTransformer:x0,getAnimatableNone:mE},gE=new Set(["brightness","contrast","saturate","opacity"]);function yE(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=r.match(Ah)||[];if(!i)return t;const a=r.replace(i,"");let o=gE.has(e)?1:0;return i!==r&&(o*=100),e+"("+o+a+")"}const vE=/\b([a-z-]*)\(.*?\)/gu,vd={...Nn,getAnimatableNone:t=>{const e=t.match(vE);return e?e.map(yE).join(" "):t}},wE={...fh,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:vd,WebkitFilter:vd},jh=t=>wE[t];function S0(t,e){let r=jh(t);return r!==vd&&(r=Nn),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const _E=new Set(["auto","none","0"]);function bE(t,e,r){let i=0,a;for(;i<t.length&&!a;){const o=t[i];typeof o=="string"&&!_E.has(o)&&ha(o).values.length&&(a=t[i]),i++}if(a&&r)for(const o of e)t[o]=S0(r,a)}const wg=t=>t===is||t===Le,_g=(t,e)=>parseFloat(t.split(", ")[e]),bg=(t,e)=>(r,{transform:i})=>{if(i==="none"||!i)return 0;const a=i.match(/^matrix3d\((.+)\)$/u);if(a)return _g(a[1],e);{const o=i.match(/^matrix\((.+)\)$/u);return o?_g(o[1],t):0}},xE=new Set(["x","y","z"]),SE=ns.filter(t=>!xE.has(t));function kE(t){const e=[];return SE.forEach(r=>{const i=t.getValue(r);i!==void 0&&(e.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),e}const Xi={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:bg(4,13),y:bg(5,14)};Xi.translateX=Xi.x;Xi.translateY=Xi.y;const li=new Set;let wd=!1,_d=!1;function k0(){if(_d){const t=Array.from(li).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),r=new Map;e.forEach(i=>{const a=kE(i);a.length&&(r.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=r.get(i);a&&a.forEach(([o,c])=>{var u;(u=i.getValue(o))===null||u===void 0||u.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}_d=!1,wd=!1,li.forEach(t=>t.complete()),li.clear()}function E0(){li.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(_d=!0)})}function EE(){E0(),k0()}class Rh{constructor(e,r,i,a,o,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=i,this.motionValue=a,this.element=o,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(li.add(this),wd||(wd=!0,at.read(E0),at.resolveKeyframes(k0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:i,motionValue:a}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const c=a==null?void 0:a.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&r){const d=i.readValue(r,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),a&&c===void 0&&a.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),li.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,li.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const C0=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),CE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TE(t){const e=CE.exec(t);if(!e)return[,];const[,r,i,a]=e;return[`--${r??i}`,a]}function T0(t,e,r=1){const[i,a]=TE(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const c=o.trim();return C0(c)?parseFloat(c):c}return hh(a)?T0(a,e,r+1):a}const A0=t=>e=>e.test(t),AE={test:t=>t==="auto",parse:t=>t},P0=[is,Le,zr,Tn,yk,gk,AE],xg=t=>P0.find(A0(t));class j0 extends Rh{constructor(e,r,i,a,o){super(e,r,i,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:i}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),hh(p))){const y=T0(p,r.current);y!==void 0&&(e[d]=y),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!a0.has(i)||e.length!==2)return;const[a,o]=e,c=xg(a),u=xg(o);if(c!==u)if(wg(c)&&wg(u))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,i=[];for(let a=0;a<e.length;a++)iE(e[a])&&i.push(a);i.length&&bE(e,i,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xi[i](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var e;const{element:r,name:i,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const o=r.getValue(i);o&&o.jump(this.measuredOrigin,!1);const c=a.length-1,u=a[c];a[c]=Xi[i](r.measureViewportBox(),window.getComputedStyle(r.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,p])=>{r.getValue(d).set(p)}),this.resolveNoneKeyframes()}}const Sg=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Nn.test(t)||t==="0")&&!t.startsWith("url("));function PE(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function jE(t,e,r,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=Sg(a,e),u=Sg(o,e);return!c||!u?!1:PE(t)||(r==="spring"||_h(r))&&i}const RE=t=>t!==null;function Dl(t,{repeat:e,repeatType:r="loop"},i){const a=t.filter(RE),o=e&&r!=="loop"&&e%2===1?0:a.length-1;return!o||i===void 0?a[o]:i}const OE=40;class R0{constructor({autoplay:e=!0,delay:r=0,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:c="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ur.now(),this.options={autoplay:e,delay:r,type:i,repeat:a,repeatDelay:o,repeatType:c,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>OE?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&EE(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=Ur.now(),this.hasAttemptedResolve=!0;const{name:i,type:a,velocity:o,delay:c,onComplete:u,onUpdate:d,isGenerator:p}=this.options;if(!p&&!jE(e,i,a,o))if(c)this.options.duration=0;else{d&&d(Dl(e,this.options,r)),u&&u(),this.resolveFinishedPromise();return}const y=this.initPlayback(e,r);y!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...y},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ft=(t,e,r)=>t+(e-t)*r;function Mu(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function NE({hue:t,saturation:e,lightness:r,alpha:i}){t/=360,e/=100,r/=100;let a=0,o=0,c=0;if(!e)a=o=c=r;else{const u=r<.5?r*(1+e):r+e-r*e,d=2*r-u;a=Mu(d,u,t+1/3),o=Mu(d,u,t),c=Mu(d,u,t-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:i}}function dl(t,e){return r=>r>0?e:t}const zu=(t,e,r)=>{const i=t*t,a=r*(e*e-i)+i;return a<0?0:Math.sqrt(a)},IE=[yd,ai,Fi],DE=t=>IE.find(e=>e.test(t));function kg(t){const e=DE(t);if(!e)return!1;let r=e.parse(t);return e===Fi&&(r=NE(r)),r}const Eg=(t,e)=>{const r=kg(t),i=kg(e);if(!r||!i)return dl(t,e);const a={...r};return o=>(a.red=zu(r.red,i.red,o),a.green=zu(r.green,i.green,o),a.blue=zu(r.blue,i.blue,o),a.alpha=ft(r.alpha,i.alpha,o),ai.transform(a))},LE=(t,e)=>r=>e(t(r)),_a=(...t)=>t.reduce(LE),bd=new Set(["none","hidden"]);function ME(t,e){return bd.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function zE(t,e){return r=>ft(t,e,r)}function Oh(t){return typeof t=="number"?zE:typeof t=="string"?hh(t)?dl:Ut.test(t)?Eg:$E:Array.isArray(t)?O0:typeof t=="object"?Ut.test(t)?Eg:UE:dl}function O0(t,e){const r=[...t],i=r.length,a=t.map((o,c)=>Oh(o)(o,e[c]));return o=>{for(let c=0;c<i;c++)r[c]=a[c](o);return r}}function UE(t,e){const r={...t,...e},i={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Oh(t[a])(t[a],e[a]));return a=>{for(const o in i)r[o]=i[o](a);return r}}function BE(t,e){var r;const i=[],a={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const c=e.types[o],u=t.indexes[c][a[c]],d=(r=t.values[u])!==null&&r!==void 0?r:0;i[o]=d,a[c]++}return i}const $E=(t,e)=>{const r=Nn.createTransformer(e),i=ha(t),a=ha(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?bd.has(t)&&!a.values.length||bd.has(e)&&!i.values.length?ME(t,e):_a(O0(BE(i,a),a.values),r):dl(t,e)};function N0(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?ft(t,e,r):Oh(t)(t,e)}const FE=5;function I0(t,e,r){const i=Math.max(e-FE,0);return o0(r-t(i),e-i)}const mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Uu=.001;function VE({duration:t=mt.duration,bounce:e=mt.bounce,velocity:r=mt.velocity,mass:i=mt.mass}){let a,o,c=1-e;c=tn(mt.minDamping,mt.maxDamping,c),t=tn(mt.minDuration,mt.maxDuration,en(t)),c<1?(a=p=>{const y=p*c,m=y*t,w=y-r,b=xd(p,c),x=Math.exp(-m);return Uu-w/b*x},o=p=>{const m=p*c*t,w=m*r+r,b=Math.pow(c,2)*Math.pow(p,2)*t,x=Math.exp(-m),E=xd(Math.pow(p,2),c);return(-a(p)+Uu>0?-1:1)*((w-b)*x)/E}):(a=p=>{const y=Math.exp(-p*t),m=(p-r)*t+1;return-Uu+y*m},o=p=>{const y=Math.exp(-p*t),m=(r-p)*(t*t);return y*m});const u=5/t,d=KE(a,o,u);if(t=Zr(t),isNaN(d))return{stiffness:mt.stiffness,damping:mt.damping,duration:t};{const p=Math.pow(d,2)*i;return{stiffness:p,damping:c*2*Math.sqrt(i*p),duration:t}}}const qE=12;function KE(t,e,r){let i=r;for(let a=1;a<qE;a++)i=i-t(i)/e(i);return i}function xd(t,e){return t*Math.sqrt(1-e*e)}const WE=["duration","bounce"],HE=["stiffness","damping","mass"];function Cg(t,e){return e.some(r=>t[r]!==void 0)}function GE(t){let e={velocity:mt.velocity,stiffness:mt.stiffness,damping:mt.damping,mass:mt.mass,isResolvedFromDuration:!1,...t};if(!Cg(t,HE)&&Cg(t,WE))if(t.visualDuration){const r=t.visualDuration,i=2*Math.PI/(r*1.2),a=i*i,o=2*tn(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:mt.mass,stiffness:a,damping:o}}else{const r=VE(t);e={...e,...r,mass:mt.mass},e.isResolvedFromDuration=!0}return e}function D0(t=mt.visualDuration,e=mt.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=r;const o=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],u={done:!1,value:o},{stiffness:d,damping:p,mass:y,duration:m,velocity:w,isResolvedFromDuration:b}=GE({...r,velocity:-en(r.velocity||0)}),x=w||0,E=p/(2*Math.sqrt(d*y)),C=c-o,j=en(Math.sqrt(d/y)),I=Math.abs(C)<5;i||(i=I?mt.restSpeed.granular:mt.restSpeed.default),a||(a=I?mt.restDelta.granular:mt.restDelta.default);let k;if(E<1){const R=xd(j,E);k=D=>{const O=Math.exp(-E*j*D);return c-O*((x+E*j*C)/R*Math.sin(R*D)+C*Math.cos(R*D))}}else if(E===1)k=R=>c-Math.exp(-j*R)*(C+(x+j*C)*R);else{const R=j*Math.sqrt(E*E-1);k=D=>{const O=Math.exp(-E*j*D),L=Math.min(R*D,300);return c-O*((x+E*j*C)*Math.sinh(L)+R*C*Math.cosh(L))/R}}const P={calculatedDuration:b&&m||null,next:R=>{const D=k(R);if(b)u.done=R>=m;else{let O=0;E<1&&(O=R===0?Zr(x):I0(k,R,D));const L=Math.abs(O)<=i,J=Math.abs(c-D)<=a;u.done=L&&J}return u.value=u.done?c:D,u},toString:()=>{const R=Math.min(Zv(P),pd),D=e0(O=>P.next(R*O).value,R,30);return R+"ms "+D}};return P}function Tg({keyframes:t,velocity:e=0,power:r=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:c,min:u,max:d,restDelta:p=.5,restSpeed:y}){const m=t[0],w={done:!1,value:m},b=L=>u!==void 0&&L<u||d!==void 0&&L>d,x=L=>u===void 0?d:d===void 0||Math.abs(u-L)<Math.abs(d-L)?u:d;let E=r*e;const C=m+E,j=c===void 0?C:c(C);j!==C&&(E=j-m);const I=L=>-E*Math.exp(-L/i),k=L=>j+I(L),P=L=>{const J=I(L),z=k(L);w.done=Math.abs(J)<=p,w.value=w.done?j:z};let R,D;const O=L=>{b(w.value)&&(R=L,D=D0({keyframes:[w.value,x(w.value)],velocity:I0(k,L,w.value),damping:a,stiffness:o,restDelta:p,restSpeed:y}))};return O(0),{calculatedDuration:null,next:L=>{let J=!1;return!D&&R===void 0&&(J=!0,P(L),O(L)),R!==void 0&&L>=R?D.next(L-R):(!J&&P(L),w)}}}const YE=wa(.42,0,1,1),JE=wa(0,0,.58,1),L0=wa(.42,0,.58,1),QE=t=>Array.isArray(t)&&typeof t[0]!="number",XE={linear:ir,easeIn:YE,easeInOut:L0,easeOut:JE,circIn:Th,circInOut:g0,circOut:m0,backIn:Ch,backInOut:f0,backOut:h0,anticipate:p0},Ag=t=>{if(bh(t)){Nv(t.length===4);const[e,r,i,a]=t;return wa(e,r,i,a)}else if(typeof t=="string")return XE[t];return t};function ZE(t,e,r){const i=[],a=r||N0,o=t.length-1;for(let c=0;c<o;c++){let u=a(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||ir:e;u=_a(d,u)}i.push(u)}return i}function eC(t,e,{clamp:r=!0,ease:i,mixer:a}={}){const o=t.length;if(Nv(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=ZE(e,i,a),d=u.length,p=y=>{if(c&&y<t[0])return e[0];let m=0;if(d>1)for(;m<t.length-2&&!(y<t[m+1]);m++);const w=Ji(t[m],t[m+1],y);return u[m](w)};return r?y=>p(tn(t[0],t[o-1],y)):p}function tC(t,e){const r=t[t.length-1];for(let i=1;i<=e;i++){const a=Ji(0,e,i);t.push(ft(r,1,a))}}function rC(t){const e=[0];return tC(e,t.length-1),e}function nC(t,e){return t.map(r=>r*e)}function iC(t,e){return t.map(()=>e||L0).splice(0,t.length-1)}function hl({duration:t=300,keyframes:e,times:r,ease:i="easeInOut"}){const a=QE(i)?i.map(Ag):Ag(i),o={done:!1,value:e[0]},c=nC(r&&r.length===e.length?r:rC(e),t),u=eC(c,e,{ease:Array.isArray(a)?a:iC(e,a)});return{calculatedDuration:t,next:d=>(o.value=u(d),o.done=d>=t,o)}}const sC=t=>{const e=({timestamp:r})=>t(r);return{start:()=>at.update(e,!0),stop:()=>On(e),now:()=>Nt.isProcessing?Nt.timestamp:Ur.now()}},aC={decay:Tg,inertia:Tg,tween:hl,keyframes:hl,spring:D0},oC=t=>t/100;class Nh extends R0{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:r,motionValue:i,element:a,keyframes:o}=this.options,c=(a==null?void 0:a.KeyframeResolver)||Rh,u=(d,p)=>this.onKeyframesResolved(d,p);this.resolver=new c(o,u,r,i,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o,velocity:c=0}=this.options,u=_h(r)?r:aC[r]||hl;let d,p;u!==hl&&typeof e[0]!="number"&&(d=_a(oC,N0(e[0],e[1])),e=[0,100]);const y=u({...this.options,keyframes:e});o==="mirror"&&(p=u({...this.options,keyframes:[...e].reverse(),velocity:-c})),y.calculatedDuration===null&&(y.calculatedDuration=Zv(y));const{calculatedDuration:m}=y,w=m+a,b=w*(i+1)-a;return{generator:y,mirroredGenerator:p,mapPercentToKeyframes:d,calculatedDuration:m,resolvedDuration:w,totalDuration:b}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:i}=this;if(!i){const{keyframes:L}=this.options;return{done:!0,value:L[L.length-1]}}const{finalKeyframe:a,generator:o,mirroredGenerator:c,mapPercentToKeyframes:u,keyframes:d,calculatedDuration:p,totalDuration:y,resolvedDuration:m}=i;if(this.startTime===null)return o.next(0);const{delay:w,repeat:b,repeatType:x,repeatDelay:E,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-y/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const j=this.currentTime-w*(this.speed>=0?1:-1),I=this.speed>=0?j<0:j>y;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let k=this.currentTime,P=o;if(b){const L=Math.min(this.currentTime,y)/m;let J=Math.floor(L),z=L%1;!z&&L>=1&&(z=1),z===1&&J--,J=Math.min(J,b+1),!!(J%2)&&(x==="reverse"?(z=1-z,E&&(z-=E/m)):x==="mirror"&&(P=c)),k=tn(0,1,z)*m}const R=I?{done:!1,value:d[0]}:P.next(k);u&&(R.value=u(R.value));let{done:D}=R;!I&&p!==null&&(D=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return O&&a!==void 0&&(R.value=Dl(d,this.options,a)),C&&C(R.value),O&&this.finish(),R}get duration(){const{resolved:e}=this;return e?en(e.calculatedDuration):0}get time(){return en(this.currentTime)}set time(e){e=Zr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=en(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=sC,onPlay:r,startTime:i}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),r&&r();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const lC=new Set(["opacity","clipPath","filter","transform"]);function cC(t,e,r,{delay:i=0,duration:a=300,repeat:o=0,repeatType:c="loop",ease:u="easeInOut",times:d}={}){const p={[e]:r};d&&(p.offset=d);const y=r0(u,a);return Array.isArray(y)&&(p.easing=y),t.animate(p,{delay:i,duration:a,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"})}const uC=sh(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),fl=10,dC=2e4;function hC(t){return _h(t.type)||t.type==="spring"||!t0(t.ease)}function fC(t,e){const r=new Nh({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const a=[];let o=0;for(;!i.done&&o<dC;)i=r.sample(o),a.push(i.value),o+=fl;return{times:void 0,keyframes:a,duration:o-fl,ease:"linear"}}const M0={anticipate:p0,backInOut:f0,circInOut:g0};function pC(t){return t in M0}class Pg extends R0{constructor(e){super(e);const{name:r,motionValue:i,element:a,keyframes:o}=this.options;this.resolver=new j0(o,(c,u)=>this.onKeyframesResolved(c,u),r,i,a),this.resolver.scheduleResolve()}initPlayback(e,r){let{duration:i=300,times:a,ease:o,type:c,motionValue:u,name:d,startTime:p}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof o=="string"&&ul()&&pC(o)&&(o=M0[o]),hC(this.options)){const{onComplete:m,onUpdate:w,motionValue:b,element:x,...E}=this.options,C=fC(e,E);e=C.keyframes,e.length===1&&(e[1]=e[0]),i=C.duration,a=C.times,o=C.ease,c="keyframes"}const y=cC(u.owner.current,d,e,{...this.options,duration:i,times:a,ease:o});return y.startTime=p??this.calcStartTime(),this.pendingTimeline?(fg(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:m}=this.options;u.set(Dl(e,this.options,r)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:i,times:a,type:c,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return en(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return en(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:i}=r;i.currentTime=Zr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:i}=r;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return ir;const{animation:i}=r;fg(i,e)}return ir}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:i,duration:a,type:o,ease:c,times:u}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:y,onComplete:m,element:w,...b}=this.options,x=new Nh({...b,keyframes:i,duration:a,type:o,ease:c,times:u,isGenerator:!0}),E=Zr(this.time);p.setWithVelocity(x.sample(E-fl).value,x.sample(E).value,fl)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:i,repeatDelay:a,repeatType:o,damping:c,type:u}=e;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=r.owner.getProps();return uC()&&i&&lC.has(i)&&!d&&!p&&!a&&o!=="mirror"&&c!==0&&u!=="inertia"}}const mC={type:"spring",stiffness:500,damping:25,restSpeed:10},gC=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),yC={type:"keyframes",duration:.8},vC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wC=(t,{keyframes:e})=>e.length>2?yC:ui.has(t)?t.startsWith("scale")?gC(e[1]):mC:vC;function _C({when:t,delay:e,delayChildren:r,staggerChildren:i,staggerDirection:a,repeat:o,repeatType:c,repeatDelay:u,from:d,elapsed:p,...y}){return!!Object.keys(y).length}const Ih=(t,e,r,i={},a,o)=>c=>{const u=wh(i,t)||{},d=u.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Zr(d);let y={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-p,onUpdate:w=>{e.set(w),u.onUpdate&&u.onUpdate(w)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:a};_C(u)||(y={...y,...wC(t,y)}),y.duration&&(y.duration=Zr(y.duration)),y.repeatDelay&&(y.repeatDelay=Zr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let m=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(m=!0)),m&&!o&&e.get()!==void 0){const w=Dl(y.keyframes,u);if(w!==void 0)return at.update(()=>{y.onUpdate(w),y.onComplete()}),new Uk([])}return!o&&Pg.supports(y)?new Pg(y):new Nh(y)};function bC({protectedKeys:t,needsAnimating:e},r){const i=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,i}function z0(t,e,{delay:r=0,transitionOverride:i,type:a}={}){var o;let{transition:c=t.getDefaultTransition(),transitionEnd:u,...d}=e;i&&(c=i);const p=[],y=a&&t.animationState&&t.animationState.getState()[a];for(const m in d){const w=t.getValue(m,(o=t.latestValues[m])!==null&&o!==void 0?o:null),b=d[m];if(b===void 0||y&&bC(y,m))continue;const x={delay:r,...wh(c||{},m)};let E=!1;if(window.MotionHandoffAnimation){const j=l0(t);if(j){const I=window.MotionHandoffAnimation(j,m,at);I!==null&&(x.startTime=I,E=!0)}}gd(t,m),w.start(Ih(m,w,b,t.shouldReduceMotion&&a0.has(m)?{type:!1}:x,t,E));const C=w.animation;C&&p.push(C)}return u&&Promise.all(p).then(()=>{at.update(()=>{u&&Zk(t,u)})}),p}function Sd(t,e,r={}){var i;const a=Il(t,e,r.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(o=r.transitionOverride);const c=a?()=>Promise.all(z0(t,a,r)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:m,staggerDirection:w}=o;return xC(t,e,y+p,m,w,r)}:()=>Promise.resolve(),{when:d}=o;if(d){const[p,y]=d==="beforeChildren"?[c,u]:[u,c];return p().then(()=>y())}else return Promise.all([c(),u(r.delay)])}function xC(t,e,r=0,i=0,a=1,o){const c=[],u=(t.variantChildren.size-1)*i,d=a===1?(p=0)=>p*i:(p=0)=>u-p*i;return Array.from(t.variantChildren).sort(SC).forEach((p,y)=>{p.notify("AnimationStart",e),c.push(Sd(p,e,{...o,delay:r+d(y)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function SC(t,e){return t.sortNodePosition(e)}function kC(t,e,r={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(o=>Sd(t,o,r));i=Promise.all(a)}else if(typeof e=="string")i=Sd(t,e,r);else{const a=typeof e=="function"?Il(t,e,r.custom):e;i=Promise.all(z0(t,a,r))}return i.then(()=>{t.notify("AnimationComplete",e)})}const EC=oh.length;function U0(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?U0(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<EC;r++){const i=oh[r],a=t.props[i];(ca(a)||a===!1)&&(e[i]=a)}return e}const CC=[...ah].reverse(),TC=ah.length;function AC(t){return e=>Promise.all(e.map(({animation:r,options:i})=>kC(t,r,i)))}function PC(t){let e=AC(t),r=jg(),i=!0;const a=d=>(p,y)=>{var m;const w=Il(t,y,d==="exit"?(m=t.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(w){const{transition:b,transitionEnd:x,...E}=w;p={...p,...E,...x}}return p};function o(d){e=d(t)}function c(d){const{props:p}=t,y=U0(t.parent)||{},m=[],w=new Set;let b={},x=1/0;for(let C=0;C<TC;C++){const j=CC[C],I=r[j],k=p[j]!==void 0?p[j]:y[j],P=ca(k),R=j===d?I.isActive:null;R===!1&&(x=C);let D=k===y[j]&&k!==p[j]&&P;if(D&&i&&t.manuallyAnimateOnMount&&(D=!1),I.protectedKeys={...b},!I.isActive&&R===null||!k&&!I.prevProp||Ol(k)||typeof k=="boolean")continue;const O=jC(I.prevProp,k);let L=O||j===d&&I.isActive&&!D&&P||C>x&&P,J=!1;const z=Array.isArray(k)?k:[k];let H=z.reduce(a(j),{});R===!1&&(H={});const{prevResolvedValues:te={}}=I,oe={...te,...H},be=Ce=>{L=!0,w.has(Ce)&&(J=!0,w.delete(Ce)),I.needsAnimating[Ce]=!0;const le=t.getValue(Ce);le&&(le.liveStyle=!1)};for(const Ce in oe){const le=H[Ce],ae=te[Ce];if(b.hasOwnProperty(Ce))continue;let pe=!1;fd(le)&&fd(ae)?pe=!Xv(le,ae):pe=le!==ae,pe?le!=null?be(Ce):w.add(Ce):le!==void 0&&w.has(Ce)?be(Ce):I.protectedKeys[Ce]=!0}I.prevProp=k,I.prevResolvedValues=H,I.isActive&&(b={...b,...H}),i&&t.blockInitialAnimation&&(L=!1),L&&(!(D&&O)||J)&&m.push(...z.map(Ce=>({animation:Ce,options:{type:j}})))}if(w.size){const C={};w.forEach(j=>{const I=t.getBaseTarget(j),k=t.getValue(j);k&&(k.liveStyle=!0),C[j]=I??null}),m.push({animation:C})}let E=!!m.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(E=!1),i=!1,E?e(m):Promise.resolve()}function u(d,p){var y;if(r[d].isActive===p)return Promise.resolve();(y=t.variantChildren)===null||y===void 0||y.forEach(w=>{var b;return(b=w.animationState)===null||b===void 0?void 0:b.setActive(d,p)}),r[d].isActive=p;const m=c(d);for(const w in r)r[w].protectedKeys={};return m}return{animateChanges:c,setActive:u,setAnimateFunction:o,getState:()=>r,reset:()=>{r=jg(),i=!0}}}function jC(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Xv(e,t):!1}function Yn(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function jg(){return{animate:Yn(!0),whileInView:Yn(),whileHover:Yn(),whileTap:Yn(),whileDrag:Yn(),whileFocus:Yn(),exit:Yn()}}class Dn{constructor(e){this.isMounted=!1,this.node=e}update(){}}class RC extends Dn{constructor(e){super(e),e.animationState||(e.animationState=PC(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ol(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let OC=0;class NC extends Dn{constructor(){super(...arguments),this.id=OC++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const IC={animation:{Feature:RC},exit:{Feature:NC}};function fa(t,e,r,i={passive:!0}){return t.addEventListener(e,r,i),()=>t.removeEventListener(e,r)}function ba(t){return{point:{x:t.pageX,y:t.pageY}}}const DC=t=>e=>xh(e)&&t(e,ba(e));function na(t,e,r,i){return fa(t,e,DC(r),i)}const Rg=(t,e)=>Math.abs(t-e);function LC(t,e){const r=Rg(t.x,e.x),i=Rg(t.y,e.y);return Math.sqrt(r**2+i**2)}class B0{constructor(e,r,{transformPagePoint:i,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=$u(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,b=LC(m.offset,{x:0,y:0})>=3;if(!w&&!b)return;const{point:x}=m,{timestamp:E}=Nt;this.history.push({...x,timestamp:E});const{onStart:C,onMove:j}=this.handlers;w||(C&&C(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,m)},this.handlePointerMove=(m,w)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Bu(w,this.transformPagePoint),at.update(this.updatePoint,!0)},this.handlePointerUp=(m,w)=>{this.end();const{onEnd:b,onSessionEnd:x,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=$u(m.type==="pointercancel"?this.lastMoveEventInfo:Bu(w,this.transformPagePoint),this.history);this.startEvent&&b&&b(m,C),x&&x(m,C)},!xh(e))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=i,this.contextWindow=a||window;const c=ba(e),u=Bu(c,this.transformPagePoint),{point:d}=u,{timestamp:p}=Nt;this.history=[{...d,timestamp:p}];const{onSessionStart:y}=r;y&&y(e,$u(u,this.history)),this.removeListeners=_a(na(this.contextWindow,"pointermove",this.handlePointerMove),na(this.contextWindow,"pointerup",this.handlePointerUp),na(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),On(this.updatePoint)}}function Bu(t,e){return e?{point:e(t.point)}:t}function Og(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $u({point:t},e){return{point:t,delta:Og(t,$0(e)),offset:Og(t,MC(e)),velocity:zC(e,.1)}}function MC(t){return t[0]}function $0(t){return t[t.length-1]}function zC(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,i=null;const a=$0(t);for(;r>=0&&(i=t[r],!(a.timestamp-i.timestamp>Zr(e)));)r--;if(!i)return{x:0,y:0};const o=en(a.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const c={x:(a.x-i.x)/o,y:(a.y-i.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const F0=1e-4,UC=1-F0,BC=1+F0,V0=.01,$C=0-V0,FC=0+V0;function sr(t){return t.max-t.min}function VC(t,e,r){return Math.abs(t-e)<=r}function Ng(t,e,r,i=.5){t.origin=i,t.originPoint=ft(e.min,e.max,t.origin),t.scale=sr(r)/sr(e),t.translate=ft(r.min,r.max,t.origin)-t.originPoint,(t.scale>=UC&&t.scale<=BC||isNaN(t.scale))&&(t.scale=1),(t.translate>=$C&&t.translate<=FC||isNaN(t.translate))&&(t.translate=0)}function ia(t,e,r,i){Ng(t.x,e.x,r.x,i?i.originX:void 0),Ng(t.y,e.y,r.y,i?i.originY:void 0)}function Ig(t,e,r){t.min=r.min+e.min,t.max=t.min+sr(e)}function qC(t,e,r){Ig(t.x,e.x,r.x),Ig(t.y,e.y,r.y)}function Dg(t,e,r){t.min=e.min-r.min,t.max=t.min+sr(e)}function sa(t,e,r){Dg(t.x,e.x,r.x),Dg(t.y,e.y,r.y)}function KC(t,{min:e,max:r},i){return e!==void 0&&t<e?t=i?ft(e,t,i.min):Math.max(t,e):r!==void 0&&t>r&&(t=i?ft(r,t,i.max):Math.min(t,r)),t}function Lg(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function WC(t,{top:e,left:r,bottom:i,right:a}){return{x:Lg(t.x,r,a),y:Lg(t.y,e,i)}}function Mg(t,e){let r=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,i]=[i,r]),{min:r,max:i}}function HC(t,e){return{x:Mg(t.x,e.x),y:Mg(t.y,e.y)}}function GC(t,e){let r=.5;const i=sr(t),a=sr(e);return a>i?r=Ji(e.min,e.max-i,t.min):i>a&&(r=Ji(t.min,t.max-a,e.min)),tn(0,1,r)}function YC(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const kd=.35;function JC(t=kd){return t===!1?t=0:t===!0&&(t=kd),{x:zg(t,"left","right"),y:zg(t,"top","bottom")}}function zg(t,e,r){return{min:Ug(t,e),max:Ug(t,r)}}function Ug(t,e){return typeof t=="number"?t:t[e]||0}const Bg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vi=()=>({x:Bg(),y:Bg()}),$g=()=>({min:0,max:0}),vt=()=>({x:$g(),y:$g()});function fr(t){return[t("x"),t("y")]}function q0({top:t,left:e,right:r,bottom:i}){return{x:{min:e,max:r},y:{min:t,max:i}}}function QC({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function XC(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function Fu(t){return t===void 0||t===1}function Ed({scale:t,scaleX:e,scaleY:r}){return!Fu(t)||!Fu(e)||!Fu(r)}function Xn(t){return Ed(t)||K0(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function K0(t){return Fg(t.x)||Fg(t.y)}function Fg(t){return t&&t!=="0%"}function pl(t,e,r){const i=t-r,a=e*i;return r+a}function Vg(t,e,r,i,a){return a!==void 0&&(t=pl(t,a,i)),pl(t,r,i)+e}function Cd(t,e=0,r=1,i,a){t.min=Vg(t.min,e,r,i,a),t.max=Vg(t.max,e,r,i,a)}function W0(t,{x:e,y:r}){Cd(t.x,e.translate,e.scale,e.originPoint),Cd(t.y,r.translate,r.scale,r.originPoint)}const qg=.999999999999,Kg=1.0000000000001;function ZC(t,e,r,i=!1){const a=r.length;if(!a)return;e.x=e.y=1;let o,c;for(let u=0;u<a;u++){o=r[u],c=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ki(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,W0(t,c)),i&&Xn(o.latestValues)&&Ki(t,o.latestValues))}e.x<Kg&&e.x>qg&&(e.x=1),e.y<Kg&&e.y>qg&&(e.y=1)}function qi(t,e){t.min=t.min+e,t.max=t.max+e}function Wg(t,e,r,i,a=.5){const o=ft(t.min,t.max,a);Cd(t,e,r,o,i)}function Ki(t,e){Wg(t.x,e.x,e.scaleX,e.scale,e.originX),Wg(t.y,e.y,e.scaleY,e.scale,e.originY)}function H0(t,e){return q0(XC(t.getBoundingClientRect(),e))}function eT(t,e,r){const i=H0(t,r),{scroll:a}=e;return a&&(qi(i.x,a.offset.x),qi(i.y,a.offset.y)),i}const G0=({current:t})=>t?t.ownerDocument.defaultView:null,tT=new WeakMap;class rT{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vt(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ba(y).point)},o=(y,m)=>{const{drag:w,dragPropagation:b,onDragStart:x}=this.getProps();if(w&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Gk(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fr(C=>{let j=this.getAxisMotionValue(C).get()||0;if(zr.test(j)){const{projection:I}=this.visualElement;if(I&&I.layout){const k=I.layout.layoutBox[C];k&&(j=sr(k)*(parseFloat(j)/100))}}this.originPoint[C]=j}),x&&at.postRender(()=>x(y,m)),gd(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},c=(y,m)=>{const{dragPropagation:w,dragDirectionLock:b,onDirectionLock:x,onDrag:E}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:C}=m;if(b&&this.currentDirection===null){this.currentDirection=nT(C),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,C),this.updateAxis("y",m.point,C),this.visualElement.render(),E&&E(y,m)},u=(y,m)=>this.stop(y,m),d=()=>fr(y=>{var m;return this.getAnimationState(y)==="paused"&&((m=this.getAxisMotionValue(y).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new B0(e,{onSessionStart:a,onStart:o,onMove:c,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:G0(this.visualElement)})}stop(e,r){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&at.postRender(()=>o(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,i){const{drag:a}=this.getProps();if(!i||!Mo(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=KC(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:i}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;r&&$i(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=WC(a.layoutBox,r):this.constraints=!1,this.elastic=JC(i),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&fr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=YC(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!$i(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=eT(i,a.root,this.visualElement.getTransformPagePoint());let c=HC(a.layout.layoutBox,o);if(r){const u=r(QC(c));this.hasMutatedConstraints=!!u,u&&(c=q0(u))}return c}startAnimation(e){const{drag:r,dragMomentum:i,dragElastic:a,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},p=fr(y=>{if(!Mo(y,r,this.currentDirection))return;let m=d&&d[y]||{};c&&(m={min:0,max:0});const w=a?200:1e6,b=a?40:1e7,x={type:"inertia",velocity:i?e[y]:0,bounceStiffness:w,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(y,x)});return Promise.all(p).then(u)}startAxisValueAnimation(e,r){const i=this.getAxisMotionValue(e);return gd(this.visualElement,e),i.start(Ih(e,i,0,r,this.visualElement,!1))}stopAnimation(){fr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fr(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[r];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){fr(r=>{const{drag:i}=this.getProps();if(!Mo(r,i,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(r);if(a&&a.layout){const{min:c,max:u}=a.layout.layoutBox[r];o.set(e[r]-ft(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!$i(r)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};fr(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const d=u.get();a[c]=GC({min:d,max:d},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),fr(c=>{if(!Mo(c,e,null))return;const u=this.getAxisMotionValue(c),{min:d,max:p}=this.constraints[c];u.set(ft(d,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;tT.set(this.visualElement,this);const e=this.visualElement.current,r=na(e,"pointerdown",d=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();$i(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),at.read(i);const c=fa(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(fr(y=>{const m=this.getAxisMotionValue(y);m&&(this.originPoint[y]+=d[y].translate,m.set(m.get()+d[y].translate))}),this.visualElement.render())}));return()=>{c(),r(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:c=kd,dragMomentum:u=!0}=e;return{...e,drag:r,dragDirectionLock:i,dragPropagation:a,dragConstraints:o,dragElastic:c,dragMomentum:u}}}function Mo(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function nT(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class iT extends Dn{constructor(e){super(e),this.removeGroupControls=ir,this.removeListeners=ir,this.controls=new rT(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ir}unmount(){this.removeGroupControls(),this.removeListeners()}}const Hg=t=>(e,r)=>{t&&at.postRender(()=>t(e,r))};class sT extends Dn{constructor(){super(...arguments),this.removePointerDownListener=ir}onPointerDown(e){this.session=new B0(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:G0(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Hg(e),onStart:Hg(r),onMove:i,onEnd:(o,c)=>{delete this.session,a&&at.postRender(()=>a(o,c))}}}mount(){this.removePointerDownListener=na(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Gg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const qs={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Le.test(t))t=parseFloat(t);else return t;const r=Gg(t,e.target.x),i=Gg(t,e.target.y);return`${r}% ${i}%`}},aT={correct:(t,{treeScale:e,projectionDelta:r})=>{const i=t,a=Nn.parse(t);if(a.length>5)return i;const o=Nn.createTransformer(t),c=typeof a[0]!="number"?1:0,u=r.x.scale*e.x,d=r.y.scale*e.y;a[0+c]/=u,a[1+c]/=d;const p=ft(u,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),o(a)}};class oT extends B.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i,layoutId:a}=this.props,{projection:o}=e;Tk(lT),o&&(r.group&&r.group.add(o),i&&i.register&&a&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Zo.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:i,drag:a,isPresent:o}=this.props,c=i.projection;return c&&(c.isPresent=o,a||e.layoutDependency!==r||r===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||at.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ch.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Y0(t){const[e,r]=Rv(),i=B.useContext(th);return g.jsx(oT,{...t,layoutGroup:i,switchLayoutGroup:B.useContext(Uv),isPresent:e,safeToRemove:r})}const lT={borderRadius:{...qs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qs,borderTopRightRadius:qs,borderBottomLeftRadius:qs,borderBottomRightRadius:qs,boxShadow:aT};function cT(t,e,r){const i=Bt(t)?t:da(t);return i.start(Ih("",i,e,r)),i.animation}function uT(t){return t instanceof SVGElement&&t.tagName!=="svg"}const dT=(t,e)=>t.depth-e.depth;class hT{constructor(){this.children=[],this.isDirty=!1}add(e){Sh(this.children,e),this.isDirty=!0}remove(e){kh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dT),this.isDirty=!1,this.children.forEach(e)}}function fT(t,e){const r=Ur.now(),i=({timestamp:a})=>{const o=a-r;o>=e&&(On(i),t(o-e))};return at.read(i,!0),()=>On(i)}const J0=["TopLeft","TopRight","BottomLeft","BottomRight"],pT=J0.length,Yg=t=>typeof t=="string"?parseFloat(t):t,Jg=t=>typeof t=="number"||Le.test(t);function mT(t,e,r,i,a,o){a?(t.opacity=ft(0,r.opacity!==void 0?r.opacity:1,gT(i)),t.opacityExit=ft(e.opacity!==void 0?e.opacity:1,0,yT(i))):o&&(t.opacity=ft(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,i));for(let c=0;c<pT;c++){const u=`border${J0[c]}Radius`;let d=Qg(e,u),p=Qg(r,u);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||Jg(d)===Jg(p)?(t[u]=Math.max(ft(Yg(d),Yg(p),i),0),(zr.test(p)||zr.test(d))&&(t[u]+="%")):t[u]=p}(e.rotate||r.rotate)&&(t.rotate=ft(e.rotate||0,r.rotate||0,i))}function Qg(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const gT=Q0(0,.5,m0),yT=Q0(.5,.95,ir);function Q0(t,e,r){return i=>i<t?0:i>e?1:r(Ji(t,e,i))}function Xg(t,e){t.min=e.min,t.max=e.max}function hr(t,e){Xg(t.x,e.x),Xg(t.y,e.y)}function Zg(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ey(t,e,r,i,a){return t-=e,t=pl(t,1/r,i),a!==void 0&&(t=pl(t,1/a,i)),t}function vT(t,e=0,r=1,i=.5,a,o=t,c=t){if(zr.test(e)&&(e=parseFloat(e),e=ft(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=ft(o.min,o.max,i);t===o&&(u-=e),t.min=ey(t.min,e,r,u,a),t.max=ey(t.max,e,r,u,a)}function ty(t,e,[r,i,a],o,c){vT(t,e[r],e[i],e[a],e.scale,o,c)}const wT=["x","scaleX","originX"],_T=["y","scaleY","originY"];function ry(t,e,r,i){ty(t.x,e,wT,r?r.x:void 0,i?i.x:void 0),ty(t.y,e,_T,r?r.y:void 0,i?i.y:void 0)}function ny(t){return t.translate===0&&t.scale===1}function X0(t){return ny(t.x)&&ny(t.y)}function iy(t,e){return t.min===e.min&&t.max===e.max}function bT(t,e){return iy(t.x,e.x)&&iy(t.y,e.y)}function sy(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Z0(t,e){return sy(t.x,e.x)&&sy(t.y,e.y)}function ay(t){return sr(t.x)/sr(t.y)}function oy(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class xT{constructor(){this.members=[]}add(e){Sh(this.members,e),e.scheduleRender()}remove(e){if(kh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let i;for(let a=r;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,r){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,r&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:i}=e;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ST(t,e,r){let i="";const a=t.x.translate/e.x,o=t.y.translate/e.y,c=(r==null?void 0:r.z)||0;if((a||o||c)&&(i=`translate3d(${a}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:p,rotate:y,rotateX:m,rotateY:w,skewX:b,skewY:x}=r;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),m&&(i+=`rotateX(${m}deg) `),w&&(i+=`rotateY(${w}deg) `),b&&(i+=`skewX(${b}deg) `),x&&(i+=`skewY(${x}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(i+=`scale(${u}, ${d})`),i||"none"}const Zn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Xs=typeof window<"u"&&window.MotionDebug!==void 0,Vu=["","X","Y","Z"],kT={visibility:"hidden"},ly=1e3;let ET=0;function qu(t,e,r,i){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function ew(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=l0(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",at,!(a||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&ew(i)}function tw({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},u=e==null?void 0:e()){this.id=ET++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Xs&&(Zn.totalNodes=Zn.resolvedTargetDeltas=Zn.recalculatedProjection=0),this.nodes.forEach(AT),this.nodes.forEach(NT),this.nodes.forEach(IT),this.nodes.forEach(PT),Xs&&window.MotionDebug.record(Zn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new hT)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Eh),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const d=this.eventHandlers.get(c);d&&d.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=uT(c),this.instance=c;const{layoutId:d,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(p||d)&&(this.isLayoutDirty=!0),t){let m;const w=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=fT(w,250),Zo.hasAnimatedSinceResize&&(Zo.hasAnimatedSinceResize=!1,this.nodes.forEach(uy))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&y&&(d||p)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:w,hasRelativeTargetChanged:b,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||y.getDefaultTransition()||UT,{onLayoutAnimationStart:C,onLayoutAnimationComplete:j}=y.getProps(),I=!this.targetLayout||!Z0(this.targetLayout,x)||b,k=!w&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||w&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,k);const P={...wh(E,"layout"),onPlay:C,onComplete:j};(y.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else w||uy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,On(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DT),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ew(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const m=this.path[y];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cy);return}this.isUpdating||this.nodes.forEach(RT),this.isUpdating=!1,this.nodes.forEach(OT),this.nodes.forEach(CT),this.nodes.forEach(TT),this.clearAllSnapshots();const u=Ur.now();Nt.delta=tn(0,1e3/60,u-Nt.timestamp),Nt.timestamp=u,Nt.isProcessing=!0,Iu.update.process(Nt),Iu.preRender.process(Nt),Iu.render.process(Nt),Nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ch.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jT),this.sharedNodes.forEach(LT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,at.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){at.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!X0(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&(u||Xn(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return c&&(d=this.removeTransform(d)),BT(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:u}=this.options;if(!u)return vt();const d=u.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some($T))){const{scroll:y}=this.root;y&&(qi(d.x,y.offset.x),qi(d.y,y.offset.y))}return d}removeElementScroll(c){var u;const d=vt();if(hr(d,c),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return d;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:m,options:w}=y;y!==this.root&&m&&w.layoutScroll&&(m.wasRoot&&hr(d,c),qi(d.x,m.offset.x),qi(d.y,m.offset.y))}return d}applyTransform(c,u=!1){const d=vt();hr(d,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!u&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Ki(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Xn(y.latestValues)&&Ki(d,y.latestValues)}return Xn(this.latestValues)&&Ki(d,this.latestValues),d}removeTransform(c){const u=vt();hr(u,c);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Xn(p.latestValues))continue;Ed(p.latestValues)&&p.updateSnapshot();const y=vt(),m=p.measurePageBox();hr(y,m),ry(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Xn(this.latestValues)&&ry(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var u;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:w}=this.options;if(!(!this.layout||!(m||w))){if(this.resolvedRelativeTargetAt=Nt.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),sa(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),hr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=vt(),this.targetWithTransforms=vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hr(this.target,this.layout.layoutBox),W0(this.target,this.targetDelta)):hr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),sa(this.relativeTargetOrigin,this.target,b.target),hr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Xs&&Zn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ed(this.parent.latestValues)||K0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const u=this.getLead(),d=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Nt.timestamp&&(p=!1),p)return;const{layout:y,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||m))return;hr(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,b=this.treeScale.y;ZC(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=vt());const{target:x}=u;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Zg(this.prevProjectionDelta.x,this.projectionDelta.x),Zg(this.prevProjectionDelta.y,this.projectionDelta.y)),ia(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==b||!oy(this.projectionDelta.x,this.prevProjectionDelta.x)||!oy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Xs&&Zn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vi(),this.projectionDelta=Vi(),this.projectionDeltaWithTransform=Vi()}setAnimationOrigin(c,u=!1){const d=this.snapshot,p=d?d.latestValues:{},y={...this.latestValues},m=Vi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const w=vt(),b=d?d.source:void 0,x=this.layout?this.layout.source:void 0,E=b!==x,C=this.getStack(),j=!C||C.members.length<=1,I=!!(E&&!j&&this.options.crossfade===!0&&!this.path.some(zT));this.animationProgress=0;let k;this.mixTargetDelta=P=>{const R=P/1e3;dy(m.x,c.x,R),dy(m.y,c.y,R),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(sa(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),MT(this.relativeTarget,this.relativeTargetOrigin,w,R),k&&bT(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=vt()),hr(k,this.relativeTarget)),E&&(this.animationValues=y,mT(y,p,this.latestValues,R,I,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(On(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=at.update(()=>{Zo.hasAnimatedSinceResize=!0,this.currentAnimation=cT(0,ly,{...c,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ly),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:d,layout:p,latestValues:y}=c;if(!(!u||!d||!p)){if(this!==c&&this.layout&&p&&rw(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||vt();const m=sr(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+m;const w=sr(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+w}hr(u,d),Ki(u,y),ia(this.projectionDeltaWithTransform,this.layoutCorrected,u,y)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new xT),this.sharedNodes.get(c).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:u}=this.options;return u?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:u}=this.options;return u?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const p={};d.z&&qu("z",c,p,this.animationValues);for(let y=0;y<Vu.length;y++)qu(`rotate${Vu[y]}`,c,p,this.animationValues),qu(`skew${Vu[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}getProjectionStyles(c){var u,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return kT;const p={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Qo(c==null?void 0:c.pointerEvents)||"",p.transform=y?y(this.latestValues,""):"none",p;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=Qo(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Xn(this.latestValues)&&(E.transform=y?y({},""):"none",this.hasProjected=!1),E}const w=m.animationValues||m.latestValues;this.applyTransformsToTarget(),p.transform=ST(this.projectionDeltaWithTransform,this.treeScale,w),y&&(p.transform=y(w,p.transform));const{x:b,y:x}=this.projectionDelta;p.transformOrigin=`${b.origin*100}% ${x.origin*100}% 0`,m.animationValues?p.opacity=m===this?(d=(u=w.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:p.opacity=m===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const E in cl){if(w[E]===void 0)continue;const{correct:C,applyTo:j}=cl[E],I=p.transform==="none"?w[E]:C(w[E],m);if(j){const k=j.length;for(let P=0;P<k;P++)p[j[P]]=I}else p[E]=I}return this.options.layoutId&&(p.pointerEvents=m===this?Qo(c==null?void 0:c.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(cy),this.root.sharedNodes.clear()}}}function CT(t){t.updateLayout()}function TT(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=t.layout,{animationType:o}=t.options,c=r.source!==t.layout.source;o==="size"?fr(m=>{const w=c?r.measuredBox[m]:r.layoutBox[m],b=sr(w);w.min=i[m].min,w.max=w.min+b}):rw(o,r.layoutBox,i)&&fr(m=>{const w=c?r.measuredBox[m]:r.layoutBox[m],b=sr(i[m]);w.max=w.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+b)});const u=Vi();ia(u,i,r.layoutBox);const d=Vi();c?ia(d,t.applyTransform(a,!0),r.measuredBox):ia(d,i,r.layoutBox);const p=!X0(u);let y=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:w,layout:b}=m;if(w&&b){const x=vt();sa(x,r.layoutBox,w.layoutBox);const E=vt();sa(E,i,b.layoutBox),Z0(x,E)||(y=!0),m.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=x,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:r,delta:d,layoutDelta:u,hasLayoutChanged:p,hasRelativeTargetChanged:y})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function AT(t){Xs&&Zn.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function PT(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function jT(t){t.clearSnapshot()}function cy(t){t.clearMeasurements()}function RT(t){t.isLayoutDirty=!1}function OT(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function uy(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function NT(t){t.resolveTargetDelta()}function IT(t){t.calcProjection()}function DT(t){t.resetSkewAndRotation()}function LT(t){t.removeLeadSnapshot()}function dy(t,e,r){t.translate=ft(e.translate,0,r),t.scale=ft(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function hy(t,e,r,i){t.min=ft(e.min,r.min,i),t.max=ft(e.max,r.max,i)}function MT(t,e,r,i){hy(t.x,e.x,r.x,i),hy(t.y,e.y,r.y,i)}function zT(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const UT={duration:.45,ease:[.4,0,.1,1]},fy=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),py=fy("applewebkit/")&&!fy("chrome/")?Math.round:ir;function my(t){t.min=py(t.min),t.max=py(t.max)}function BT(t){my(t.x),my(t.y)}function rw(t,e,r){return t==="position"||t==="preserve-aspect"&&!VC(ay(e),ay(r),.2)}function $T(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const FT=tw({attachResizeListener:(t,e)=>fa(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ku={current:void 0},nw=tw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ku.current){const t=new FT({});t.mount(window),t.setOptions({layoutScroll:!0}),Ku.current=t}return Ku.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),VT={pan:{Feature:sT},drag:{Feature:iT,ProjectionNode:nw,MeasureLayout:Y0}};function gy(t,e,r){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,o=i[a];o&&at.postRender(()=>o(e,ba(e)))}class qT extends Dn{mount(){const{current:e}=this.node;e&&(this.unmount=Vk(e,r=>(gy(this.node,r,"Start"),i=>gy(this.node,i,"End"))))}unmount(){}}class KT extends Dn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_a(fa(this.node.current,"focus",()=>this.onFocus()),fa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yy(t,e,r){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),o=i[a];o&&at.postRender(()=>o(e,ba(e)))}class WT extends Dn{mount(){const{current:e}=this.node;e&&(this.unmount=Hk(e,r=>(yy(this.node,r,"Start"),(i,{success:a})=>yy(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Td=new WeakMap,Wu=new WeakMap,HT=t=>{const e=Td.get(t.target);e&&e(t)},GT=t=>{t.forEach(HT)};function YT({root:t,...e}){const r=t||document;Wu.has(r)||Wu.set(r,{});const i=Wu.get(r),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(GT,{root:t,...e})),i[a]}function JT(t,e,r){const i=YT(e);return Td.set(t,r),i.observe(t),()=>{Td.delete(t),i.unobserve(t)}}const QT={some:0,all:1};class XT extends Dn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:i,amount:a="some",once:o}=e,c={root:r?r.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:QT[a]},u=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,o&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:m}=this.node.getProps(),w=p?y:m;w&&w(d)};return JT(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(ZT(e,r))&&this.startObserver()}unmount(){}}function ZT({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const eA={inView:{Feature:XT},tap:{Feature:WT},focus:{Feature:KT},hover:{Feature:qT}},tA={layout:{ProjectionNode:nw,MeasureLayout:Y0}},Ad={current:null},iw={current:!1};function rA(){if(iw.current=!0,!!ih)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ad.current=t.matches;t.addListener(e),e()}else Ad.current=!1}const nA=[...P0,Ut,Nn],iA=t=>nA.find(A0(t)),vy=new WeakMap;function sA(t,e,r){for(const i in e){const a=e[i],o=r[i];if(Bt(a))t.addValue(i,a);else if(Bt(o))t.addValue(i,da(a,{owner:t}));else if(o!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,da(c!==void 0?c:a,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const wy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class aA{scrapeMotionValuesFromProps(e,r,i){return{}}constructor({parent:e,props:r,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:o,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Rh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Ur.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,at.render(this.render,!1,!0))};const{latestValues:d,renderState:p,onUpdate:y}=c;this.onUpdate=y,this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=r,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Nl(r),this.isVariantNode=Mv(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...w}=this.scrapeMotionValuesFromProps(r,{},this);for(const b in w){const x=w[b];d[b]!==void 0&&Bt(x)&&x.set(d[b],!1)}}mount(e){this.current=e,vy.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),iw.current||rA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ad.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){vy.delete(this.current),this.projection&&this.projection.unmount(),On(this.notifyUpdate),On(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ui.has(e),a=r.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&at.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=r.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),o(),c&&c(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Qi){const r=Qi[e];if(!r)continue;const{isEnabled:i,Feature:a}=r;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<wy.length;i++){const a=wy[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,c=e[o];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=sA(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const i=this.values.get(e);r!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&r!==void 0&&(i=da(r===null?void 0:r,{owner:this}),this.addValue(e,i)),i}readValue(e,r){var i;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(C0(a)||y0(a))?a=parseFloat(a):!iA(a)&&Nn.test(r)&&(a=S0(e,r)),this.setBaseTarget(e,Bt(a)?a.get():a)),Bt(a)?a.get():a}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:i}=this.props;let a;if(typeof i=="string"||typeof i=="object"){const c=dh(this.props,i,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);c&&(a=c[e])}if(i&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Bt(o)?o:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Eh),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class sw extends aA{constructor(){super(...arguments),this.KeyframeResolver=j0}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:i}){delete r[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Bt(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function oA(t){return window.getComputedStyle(t)}class lA extends sw{constructor(){super(...arguments),this.type="html",this.renderInstance=Wv}readValueFromInstance(e,r){if(ui.has(r)){const i=jh(r);return i&&i.default||0}else{const i=oA(e),a=(Vv(r)?i.getPropertyValue(r):i[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return H0(e,r)}build(e,r,i){ph(e,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,r,i){return vh(e,r,i)}}class cA extends sw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vt}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(ui.has(r)){const i=jh(r);return i&&i.default||0}return r=Hv.has(r)?r:lh(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,i){return Jv(e,r,i)}build(e,r,i){mh(e,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,r,i,a){Gv(e,r,i,a)}mount(e){this.isSVGTag=yh(e.tagName),super.mount(e)}}const uA=(t,e)=>uh(t)?new cA(e):new lA(e,{allowProjection:t!==B.Fragment}),dA=Lk({...IC,...eA,...VT,...tA},uA),Ie=Q1(dA);var Jr={},zo={},Pd=function(t,e){return Pd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},Pd(t,e)};function aw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Pd(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ml=function(){return ml=Object.assign||function(e){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},ml.apply(this,arguments)};function ss(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(r[i[a]]=t[i[a]]);return r}function ow(t,e,r,i){var a=arguments.length,o=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,i);else for(var u=t.length-1;u>=0;u--)(c=t[u])&&(o=(a<3?c(o):a>3?c(e,r,o):c(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o}function lw(t,e){return function(r,i){e(r,i,t)}}function cw(t,e,r,i,a,o){function c(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var u=i.kind,d=u==="getter"?"get":u==="setter"?"set":"value",p=!e&&t?i.static?t:t.prototype:null,y=e||(p?Object.getOwnPropertyDescriptor(p,i.name):{}),m,w=!1,b=r.length-1;b>=0;b--){var x={};for(var E in i)x[E]=E==="access"?{}:i[E];for(var E in i.access)x.access[E]=i.access[E];x.addInitializer=function(j){if(w)throw new TypeError("Cannot add initializers after decoration has completed");o.push(c(j||null))};var C=(0,r[b])(u==="accessor"?{get:y.get,set:y.set}:y[d],x);if(u==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(m=c(C.get))&&(y.get=m),(m=c(C.set))&&(y.set=m),(m=c(C.init))&&a.unshift(m)}else(m=c(C))&&(u==="field"?a.unshift(m):y[d]=m)}p&&Object.defineProperty(p,i.name,y),w=!0}function uw(t,e,r){for(var i=arguments.length>2,a=0;a<e.length;a++)r=i?e[a].call(t,r):e[a].call(t);return i?r:void 0}function dw(t){return typeof t=="symbol"?t:"".concat(t)}function hw(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function fw(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function xe(t,e,r,i){function a(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function u(y){try{p(i.next(y))}catch(m){c(m)}}function d(y){try{p(i.throw(y))}catch(m){c(m)}}function p(y){y.done?o(y.value):a(y.value).then(u,d)}p((i=i.apply(t,e||[])).next())})}function pw(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,a,o,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=u(0),c.throw=u(1),c.return=u(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(p){return function(y){return d([p,y])}}function d(p){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(r=0)),r;)try{if(i=1,a&&(o=p[0]&2?a.return:p[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,p[1])).done)return o;switch(a=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,a=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){r.label=p[1];break}if(p[0]===6&&r.label<o[1]){r.label=o[1],o=p;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(p);break}o[2]&&r.ops.pop(),r.trys.pop();continue}p=e.call(t,r)}catch(y){p=[6,y],a=0}finally{i=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var Ll=Object.create?(function(t,e,r,i){i===void 0&&(i=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,a)}):(function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]});function mw(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ll(e,t,r)}function gl(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dh(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),a,o=[],c;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(u){c={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(c)throw c.error}}return o}function gw(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Dh(arguments[e]));return t}function yw(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var i=Array(t),a=0,e=0;e<r;e++)for(var o=arguments[e],c=0,u=o.length;c<u;c++,a++)i[a]=o[c];return i}function vw(t,e,r){if(r||arguments.length===2)for(var i=0,a=e.length,o;i<a;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))}function Zi(t){return this instanceof Zi?(this.v=t,this):new Zi(t)}function ww(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(t,e||[]),a,o=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(b){return function(x){return Promise.resolve(x).then(b,m)}}function u(b,x){i[b]&&(a[b]=function(E){return new Promise(function(C,j){o.push([b,E,C,j])>1||d(b,E)})},x&&(a[b]=x(a[b])))}function d(b,x){try{p(i[b](x))}catch(E){w(o[0][3],E)}}function p(b){b.value instanceof Zi?Promise.resolve(b.value.v).then(y,m):w(o[0][2],b)}function y(b){d("next",b)}function m(b){d("throw",b)}function w(b,x){b(x),o.shift(),o.length&&d(o[0][0],o[0][1])}}function _w(t){var e,r;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,o){e[a]=t[a]?function(c){return(r=!r)?{value:Zi(t[a](c)),done:!1}:o?o(c):c}:o}}function bw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof gl=="function"?gl(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(o){r[o]=t[o]&&function(c){return new Promise(function(u,d){c=t[o](c),a(u,d,c.done,c.value)})}}function a(o,c,u,d){Promise.resolve(d).then(function(p){o({value:p,done:u})},c)}}function xw(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var hA=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},jd=function(t){return jd=Object.getOwnPropertyNames||function(e){var r=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[r.length]=i);return r},jd(t)};function Sw(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=jd(t),i=0;i<r.length;i++)r[i]!=="default"&&Ll(e,t,r[i]);return hA(e,t),e}function kw(t){return t&&t.__esModule?t:{default:t}}function Ew(t,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(t):i?i.value:e.get(t)}function Cw(t,e,r,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(t,r):a?a.value=r:e.set(t,r),r}function Tw(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Aw(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],r&&(a=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");a&&(i=function(){try{a.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:i,async:r})}else r&&t.stack.push({async:!0});return e}var fA=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var i=new Error(r);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};function Pw(t){function e(o){t.error=t.hasError?new fA(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var r,i=0;function a(){for(;r=t.stack.pop();)try{if(!r.async&&i===1)return i=0,t.stack.push(r),Promise.resolve().then(a);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(o).then(a,function(c){return e(c),a()})}else i|=1}catch(c){e(c)}if(i===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return a()}function jw(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,i,a,o,c){return i?e?".jsx":".js":a&&(!o||!c)?r:a+o+"."+c.toLowerCase()+"js"}):t}const pA={__extends:aw,__assign:ml,__rest:ss,__decorate:ow,__param:lw,__esDecorate:cw,__runInitializers:uw,__propKey:dw,__setFunctionName:hw,__metadata:fw,__awaiter:xe,__generator:pw,__createBinding:Ll,__exportStar:mw,__values:gl,__read:Dh,__spread:gw,__spreadArrays:yw,__spreadArray:vw,__await:Zi,__asyncGenerator:ww,__asyncDelegator:_w,__asyncValues:bw,__makeTemplateObject:xw,__importStar:Sw,__importDefault:kw,__classPrivateFieldGet:Ew,__classPrivateFieldSet:Cw,__classPrivateFieldIn:Tw,__addDisposableResource:Aw,__disposeResources:Pw,__rewriteRelativeImportExtension:jw},mA=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Aw,get __assign(){return ml},__asyncDelegator:_w,__asyncGenerator:ww,__asyncValues:bw,__await:Zi,__awaiter:xe,__classPrivateFieldGet:Ew,__classPrivateFieldIn:Tw,__classPrivateFieldSet:Cw,__createBinding:Ll,__decorate:ow,__disposeResources:Pw,__esDecorate:cw,__exportStar:mw,__extends:aw,__generator:pw,__importDefault:kw,__importStar:Sw,__makeTemplateObject:xw,__metadata:fw,__param:lw,__propKey:dw,__read:Dh,__rest:ss,__rewriteRelativeImportExtension:jw,__runInitializers:uw,__setFunctionName:hw,__spread:gw,__spreadArray:vw,__spreadArrays:yw,__values:gl,default:pA},Symbol.toStringTag,{value:"Module"})),gA=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let Ml=class extends Error{constructor(e,r="FunctionsError",i){super(e),this.name=r,this.context=i}},Rw=class extends Ml{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Rd=class extends Ml{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Od=class extends Ml{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var yl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(yl||(yl={}));class yA{constructor(e,{headers:r={},customFetch:i,region:a=yl.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=gA(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return xe(this,arguments,void 0,function*(r,i={}){var a;let o,c;try{const{headers:u,method:d,body:p,signal:y,timeout:m}=i;let w={},{region:b}=i;b||(b=this.region);const x=new URL(`${this.url}/${r}`);b&&b!=="any"&&(w["x-region"]=b,x.searchParams.set("forceFunctionRegion",b));let E;p&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",E=p):typeof p=="string"?(w["Content-Type"]="text/plain",E=p):typeof FormData<"u"&&p instanceof FormData?E=p:(w["Content-Type"]="application/json",E=JSON.stringify(p)):E=p;let C=y;m&&(c=new AbortController,o=setTimeout(()=>c.abort(),m),y?(C=c.signal,y.addEventListener("abort",()=>c.abort())):C=c.signal);const j=yield this.fetch(x.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),u),body:E,signal:C}).catch(R=>{throw new Rw(R)}),I=j.headers.get("x-relay-error");if(I&&I==="true")throw new Rd(j);if(!j.ok)throw new Od(j);let k=((a=j.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),P;return k==="application/json"?P=yield j.json():k==="application/octet-stream"||k==="application/pdf"?P=yield j.blob():k==="text/event-stream"?P=j:k==="multipart/form-data"?P=yield j.formData():P=yield j.text(),{data:P,error:null,response:j}}catch(u){return{data:null,error:u,response:u instanceof Od||u instanceof Rd?u.context:void 0}}finally{o&&clearTimeout(o)}})}}const vA=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return yl},FunctionsClient:yA,FunctionsError:Ml,FunctionsFetchError:Rw,FunctionsHttpError:Od,FunctionsRelayError:Rd},Symbol.toStringTag,{value:"Module"})),Ow=ya(vA);var zt={};const as=ya(mA);var Uo={},Bo={},$o={},Fo={},Vo={},qo={},_y;function Nw(){if(_y)return qo;_y=1,Object.defineProperty(qo,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return qo.default=t,qo}var by;function Iw(){if(by)return Vo;by=1,Object.defineProperty(Vo,"__esModule",{value:!0});const e=as.__importDefault(Nw());let r=class{constructor(a){var o,c;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(o=a.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=a.signal,this.isMaybeSingle=(c=a.isMaybeSingle)!==null&&c!==void 0?c:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=new Headers(this.headers),this.headers.set(a,o),this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let u=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var p,y,m,w;let b=null,x=null,E=null,C=d.status,j=d.statusText;if(d.ok){if(this.method!=="HEAD"){const R=await d.text();R===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?x=R:x=JSON.parse(R))}const k=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),P=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");k&&P&&P.length>1&&(E=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(b={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,E=null,C=406,j="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const k=await d.text();try{b=JSON.parse(k),Array.isArray(b)&&d.status===404&&(x=[],b=null,C=200,j="OK")}catch{d.status===404&&k===""?(C=204,j="No Content"):b={message:k}}if(b&&this.isMaybeSingle&&(!((w=b==null?void 0:b.details)===null||w===void 0)&&w.includes("0 rows"))&&(b=null,C=200,j="OK"),b&&this.shouldThrowOnError)throw new e.default(b)}return{error:b,data:x,count:E,status:C,statusText:j}});return this.shouldThrowOnError||(u=u.catch(d=>{var p,y,m,w,b,x;let E="";const C=d==null?void 0:d.cause;if(C){const j=(p=C==null?void 0:C.message)!==null&&p!==void 0?p:"",I=(y=C==null?void 0:C.code)!==null&&y!==void 0?y:"";E=`${(m=d==null?void 0:d.name)!==null&&m!==void 0?m:"FetchError"}: ${d==null?void 0:d.message}`,E+=`

Caused by: ${(w=C==null?void 0:C.name)!==null&&w!==void 0?w:"Error"}: ${j}`,I&&(E+=` (${I})`),C!=null&&C.stack&&(E+=`
${C.stack}`)}else E=(b=d==null?void 0:d.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(x=d==null?void 0:d.name)!==null&&x!==void 0?x:"FetchError"}: ${d==null?void 0:d.message}`,details:E,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(a,o)}returns(){return this}overrideTypes(){return this}};return Vo.default=r,Vo}var xy;function Dw(){if(xy)return Fo;xy=1,Object.defineProperty(Fo,"__esModule",{value:!0});const e=as.__importDefault(Iw());let r=class extends e.default{select(a){let o=!1;const c=(a??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:o=!0,nullsFirst:c,foreignTable:u,referencedTable:d=u}={}){const p=d?`${d}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${a}.${o?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:o,referencedTable:c=o}={}){const u=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,o,{foreignTable:c,referencedTable:u=c}={}){const d=typeof u>"u"?"offset":`${u}.offset`,p=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(p,`${o-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:o=!1,settings:c=!1,buffers:u=!1,wal:d=!1,format:p="text"}={}){var y;const m=[a?"analyze":null,o?"verbose":null,c?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),w=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${w}"; options=${m};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};return Fo.default=r,Fo}var Sy;function Lh(){if(Sy)return $o;Sy=1,Object.defineProperty($o,"__esModule",{value:!0});const e=as.__importDefault(Dw()),r=new RegExp("[,()]");let i=class extends e.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}regexMatch(o,c){return this.url.searchParams.append(o,`match.${c}`),this}regexIMatch(o,c){return this.url.searchParams.append(o,`imatch.${c}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}isDistinct(o,c){return this.url.searchParams.append(o,`isdistinct.${c}`),this}in(o,c){const u=Array.from(new Set(c)).map(d=>typeof d=="string"&&r.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(o,`in.(${u})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:u,type:d}={}){let p="";d==="plain"?p="pl":d==="phrase"?p="ph":d==="websearch"&&(p="w");const y=u===void 0?"":`(${u})`;return this.url.searchParams.append(o,`${p}fts${y}.${c}`),this}match(o){return Object.entries(o).forEach(([c,u])=>{this.url.searchParams.append(c,`eq.${u}`)}),this}not(o,c,u){return this.url.searchParams.append(o,`not.${c}.${u}`),this}or(o,{foreignTable:c,referencedTable:u=c}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${o})`),this}filter(o,c,u){return this.url.searchParams.append(o,`${c}.${u}`),this}};return $o.default=i,$o}var ky;function Lw(){if(ky)return Bo;ky=1,Object.defineProperty(Bo,"__esModule",{value:!0});const e=as.__importDefault(Lh());let r=class{constructor(a,{headers:o={},schema:c,fetch:u}){this.url=a,this.headers=new Headers(o),this.schema=c,this.fetch=u}select(a,o){const{head:c=!1,count:u}=o??{},d=c?"HEAD":"GET";let p=!1;const y=(a??"*").split("").map(m=>/\s/.test(m)&&!p?"":(m==='"'&&(p=!p),m)).join("");return this.url.searchParams.set("select",y),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:o,defaultToNull:c=!0}={}){var u;const d="POST";if(o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const p=a.reduce((y,m)=>y.concat(Object.keys(m)),[]);if(p.length>0){const y=[...new Set(p)].map(m=>`"${m}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(a,{onConflict:o,ignoreDuplicates:c=!1,count:u,defaultToNull:d=!0}={}){var p;const y="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((w,b)=>w.concat(Object.keys(b)),[]);if(m.length>0){const w=[...new Set(m)].map(b=>`"${b}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(a,{count:o}={}){var c;const u="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:a}={}){var o;const c="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};return Bo.default=r,Bo}var Ey;function wA(){if(Ey)return Uo;Ey=1,Object.defineProperty(Uo,"__esModule",{value:!0});const t=as,e=t.__importDefault(Lw()),r=t.__importDefault(Lh());let i=class Mw{constructor(o,{headers:c={},schema:u,fetch:d}={}){this.url=o,this.headers=new Headers(c),this.schemaName=u,this.fetch=d}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${o}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new Mw(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,c={},{head:u=!1,get:d=!1,count:p}={}){var y;let m;const w=new URL(`${this.url}/rpc/${o}`);let b;u||d?(m=u?"HEAD":"GET",Object.entries(c).filter(([E,C])=>C!==void 0).map(([E,C])=>[E,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([E,C])=>{w.searchParams.append(E,C)})):(m="POST",b=c);const x=new Headers(this.headers);return p&&x.set("Prefer",`count=${p}`),new r.default({method:m,url:w,headers:x,schema:this.schemaName,body:b,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}};return Uo.default=i,Uo}var Cy;function zw(){if(Cy)return zt;Cy=1,Object.defineProperty(zt,"__esModule",{value:!0}),zt.PostgrestError=zt.PostgrestBuilder=zt.PostgrestTransformBuilder=zt.PostgrestFilterBuilder=zt.PostgrestQueryBuilder=zt.PostgrestClient=void 0;const t=as,e=t.__importDefault(wA());zt.PostgrestClient=e.default;const r=t.__importDefault(Lw());zt.PostgrestQueryBuilder=r.default;const i=t.__importDefault(Lh());zt.PostgrestFilterBuilder=i.default;const a=t.__importDefault(Dw());zt.PostgrestTransformBuilder=a.default;const o=t.__importDefault(Iw());zt.PostgrestBuilder=o.default;const c=t.__importDefault(Nw());return zt.PostgrestError=c.default,zt.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:o.default,PostgrestError:c.default},zt}class Uw{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const i=this.getWebSocketConstructor();return new i(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const _A="2.86.2",bA=`realtime-js/${_A}`,Bw="1.0.0",xA="2.0.0",Ty=Bw,Nd=1e4,SA=1e3,kA=100;var ii;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ii||(ii={}));var xt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(xt||(xt={}));var kr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(kr||(kr={}));var Id;(function(t){t.websocket="websocket"})(Id||(Id={}));var si;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(si||(si={}));class EA{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,i;const a=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var r,i;const a=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,r,i){var a,o;const c=e.topic,u=(a=e.ref)!==null&&a!==void 0?a:"",d=(o=e.join_ref)!==null&&o!==void 0?o:"",p=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(y).length===0?"":JSON.stringify(y);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+c.length+p.length+m.length,b=new ArrayBuffer(this.HEADER_LENGTH+w);let x=new DataView(b),E=0;x.setUint8(E++,this.KINDS.userBroadcastPush),x.setUint8(E++,d.length),x.setUint8(E++,u.length),x.setUint8(E++,c.length),x.setUint8(E++,p.length),x.setUint8(E++,m.length),x.setUint8(E++,r),Array.from(d,j=>x.setUint8(E++,j.charCodeAt(0))),Array.from(u,j=>x.setUint8(E++,j.charCodeAt(0))),Array.from(c,j=>x.setUint8(E++,j.charCodeAt(0))),Array.from(p,j=>x.setUint8(E++,j.charCodeAt(0))),Array.from(m,j=>x.setUint8(E++,j.charCodeAt(0)));var C=new Uint8Array(b.byteLength+i.byteLength);return C.set(new Uint8Array(b),0),C.set(new Uint8Array(i),b.byteLength),C.buffer}decode(e,r){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return r(i)}if(typeof e=="string"){const i=JSON.parse(e),[a,o,c,u,d]=i;return r({join_ref:a,ref:o,topic:c,event:u,payload:d})}return r({})}_binaryDecode(e){const r=new DataView(e),i=r.getUint8(0),a=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,a)}}_decodeUserBroadcast(e,r,i){const a=r.getUint8(1),o=r.getUint8(2),c=r.getUint8(3),u=r.getUint8(4);let d=this.HEADER_LENGTH+4;const p=i.decode(e.slice(d,d+a));d=d+a;const y=i.decode(e.slice(d,d+o));d=d+o;const m=i.decode(e.slice(d,d+c));d=d+c;const w=e.slice(d,e.byteLength),b=u===this.JSON_ENCODING?JSON.parse(i.decode(w)):w,x={type:this.BROADCAST_EVENT,event:y,payload:b};return c>0&&(x.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>r.includes(i)))}}class $w{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(nt||(nt={}));const Ay=(t,e,r={})=>{var i;const a=(i=r.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((o,c)=>(o[c]=CA(c,t,e,a),o),{}):{}},CA=(t,e,r,i)=>{const a=e.find(u=>u.name===t),o=a==null?void 0:a.type,c=r[t];return o&&!i.includes(o)?Fw(o,c):Dd(c)},Fw=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return jA(e,r)}switch(t){case nt.bool:return TA(e);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return AA(e);case nt.json:case nt.jsonb:return PA(e);case nt.timestamp:return RA(e);case nt.abstime:case nt.date:case nt.daterange:case nt.int4range:case nt.int8range:case nt.money:case nt.reltime:case nt.text:case nt.time:case nt.timestamptz:case nt.timetz:case nt.tsrange:case nt.tstzrange:return Dd(e);default:return Dd(e)}},Dd=t=>t,TA=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},AA=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},PA=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},jA=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,i=t[r];if(t[0]==="{"&&i==="}"){let o;const c=t.slice(1,r);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(u=>Fw(e,u))}return t},RA=t=>typeof t=="string"?t.replace(" ","T"):t,Vw=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Hu{constructor(e,r,i={},a=Nd){this.channel=e,this.event=r,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var i;return this._hasReceived(e)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ld;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ld||(Ld={}));let qw=class el{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:o,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=el.syncState(this.state,a,o,c),this.pendingDiffs.forEach(d=>{this.state=el.syncDiff(this.state,d,o,c)}),this.pendingDiffs=[],u()}),this.channel._on(i.diff,{},a=>{const{onJoin:o,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=el.syncDiff(this.state,a,o,c),u())}),this.onJoin((a,o,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:c})}),this.onLeave((a,o,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,i,a){const o=this.cloneDeep(e),c=this.transformState(r),u={},d={};return this.map(o,(p,y)=>{c[p]||(d[p]=y)}),this.map(c,(p,y)=>{const m=o[p];if(m){const w=y.map(C=>C.presence_ref),b=m.map(C=>C.presence_ref),x=y.filter(C=>b.indexOf(C.presence_ref)<0),E=m.filter(C=>w.indexOf(C.presence_ref)<0);x.length>0&&(u[p]=x),E.length>0&&(d[p]=E)}else u[p]=y}),this.syncDiff(o,{joins:u,leaves:d},i,a)}static syncDiff(e,r,i,a){const{joins:o,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(o,(u,d)=>{var p;const y=(p=e[u])!==null&&p!==void 0?p:[];if(e[u]=this.cloneDeep(d),y.length>0){const m=e[u].map(b=>b.presence_ref),w=y.filter(b=>m.indexOf(b.presence_ref)<0);e[u].unshift(...w)}i(u,y,d)}),this.map(c,(u,d)=>{let p=e[u];if(!p)return;const y=d.map(m=>m.presence_ref);p=p.filter(m=>y.indexOf(m.presence_ref)<0),e[u]=p,a(u,p,d),p.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(i=>r(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,i)=>{const a=e[i];return"metas"in a?r[i]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[i]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Md;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Md||(Md={}));var Wi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Wi||(Wi={}));var Lr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Lr||(Lr={}));const OA=xt;let Kw=class Ww{constructor(e,r={config:{}},i){var a,o;if(this.topic=e,this.params=r,this.socket=i,this.bindings={},this.state=xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Hu(this,kr.join,this.params,this.timeout),this.rejoinTimer=new $w(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kr.reply,{},(c,u)=>{this._trigger(this._replyEventName(u),c)}),this.presence=new qw(this),this.broadcastEndpointURL=Vw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var i,a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==xt.closed){const{config:{broadcast:c,presence:u,private:d}}=this.params,p=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(b=>b.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[Wi.PRESENCE]&&this.bindings[Wi.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,m={},w={broadcast:c,presence:Object.assign(Object.assign({},u),{enabled:y}),postgres_changes:p,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(Lr.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(Lr.CLOSED)),this.updateJoinPayload(Object.assign({config:w},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var x;if(this.socket.setAuth(),b===void 0){e==null||e(Lr.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,C=(x=E==null?void 0:E.length)!==null&&x!==void 0?x:0,j=[];for(let I=0;I<C;I++){const k=E[I],{filter:{event:P,schema:R,table:D,filter:O}}=k,L=b&&b[I];if(L&&L.event===P&&L.schema===R&&L.table===D&&L.filter===O)j.push(Object.assign(Object.assign({},k),{id:L.id}));else{this.unsubscribe(),this.state=xt.errored,e==null||e(Lr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(Lr.SUBSCRIBED);return}}).receive("error",b=>{this.state=xt.errored,e==null||e(Lr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Lr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,i){return this.state===xt.joined&&e===Wi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,i)}async httpSend(e,r,i={}){var a;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const p=await u.json();d=p.error||p.message||d}catch{}return Promise.reject(new Error(d))}async send(e,r={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:c}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=p.body)===null||a===void 0?void 0:a.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,u,d;const p=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),p.receive("ok",()=>o("ok")),p.receive("error",()=>o("error")),p.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=xt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new Hu(this,kr.leave,{},e),i.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=xt.closed,this.bindings={}}async _fetchWithTimeout(e,r,i){const a=new AbortController,o=setTimeout(()=>a.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(o),c}_push(e,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Hu(this,e,r,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>kA){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,i){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,i){var a,o;const c=e.toLocaleLowerCase(),{close:u,error:d,leave:p,join:y}=kr;if(i&&[u,d,p,y].indexOf(c)>=0&&i!==this._joinRef())return;let w=this._onMessage(c,r,i);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(b=>{var x,E,C;return((x=b.filter)===null||x===void 0?void 0:x.event)==="*"||((C=(E=b.filter)===null||E===void 0?void 0:E.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===c}).map(b=>b.callback(w,i)):(o=this.bindings[c])===null||o===void 0||o.filter(b=>{var x,E,C,j,I,k;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in b){const P=b.id,R=(x=b.filter)===null||x===void 0?void 0:x.event;return P&&((E=r.ids)===null||E===void 0?void 0:E.includes(P))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const P=(I=(j=b==null?void 0:b.filter)===null||j===void 0?void 0:j.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return P==="*"||P===((k=r==null?void 0:r.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===c}).map(b=>{if(typeof w=="object"&&"ids"in w){const x=w.data,{schema:E,table:C,commit_timestamp:j,type:I,errors:k}=x;w=Object.assign(Object.assign({},{schema:E,table:C,commit_timestamp:j,eventType:I,new:{},old:{},errors:k}),this._getPayloadRecords(x))}b.callback(w,i)})}_isClosed(){return this.state===xt.closed}_isJoined(){return this.state===xt.joined}_isJoining(){return this.state===xt.joining}_isLeaving(){return this.state===xt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,i){const a=e.toLocaleLowerCase(),o={type:a,filter:r,callback:i};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(e,r){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&Ww.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const i in e)if(e[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(kr.close,{},e)}_onError(e){this._on(kr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Ay(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Ay(e.columns,e.old_record)),r}};const Gu=()=>{},Ko={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},NA=[1e3,2e3,5e3,1e4],IA=1e4,DA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let LA=class{constructor(e,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Nd,this.transport=null,this.heartbeatIntervalMs=Ko.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gu,this.ref=0,this.reconnectTimer=null,this.vsn=Ty,this.logger=Gu,this.conn=null,this.sendBuffer=[],this.serializer=new EA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...o)=>a(...o):(...o)=>fetch(...o),!(!((i=r==null?void 0:r.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Id.websocket}`,this.httpEndpoint=Vw(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Uw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,i){this.logger(e,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ii.connecting:return si.Connecting;case ii.open:return si.Open;case ii.closing:return si.Closing;default:return si.Closed}}isConnected(){return this.connectionState()===si.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(o=>o.topic===i);if(a)return a;{const o=new Kw(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:i,payload:a,ref:o}=e,c=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${i} (${o})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(SA,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ko.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:o,ref:c}=r,u=c?`(${c})`:"",d=o.status||"";this.log("receive",`${d} ${i} ${a} ${u}`.trim(),o),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(a,o,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ii.open||this.conn.readyState===ii.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(kr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${i}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const i=new Blob([DA],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:bA};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(kr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new $w(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ko.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,i,a,o,c,u,d,p,y,m,w,b;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:Nd,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Ko.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:Gu,this.vsn=(d=e==null?void 0:e.vsn)!==null&&d!==void 0?d:Ty,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:(x=>NA[x-1]||IA),this.vsn){case Bw:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((x,E)=>E(JSON.stringify(x))),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:((x,E)=>E(JSON.parse(x)));break;case xA:this.encode=(w=e==null?void 0:e.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const MA=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:OA,get REALTIME_LISTEN_TYPES(){return Wi},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Md},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Ld},get REALTIME_SUBSCRIBE_STATES(){return Lr},RealtimeChannel:Kw,RealtimeClient:LA,RealtimePresence:qw,WebSocketFactory:Uw},Symbol.toStringTag,{value:"Module"})),Hw=ya(MA);class xa extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function lt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Gw extends xa{constructor(e,r,i){super(e),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vl extends xa{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Mh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),zA=()=>Response,zd=t=>{if(Array.isArray(t))return t.map(r=>zd(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,i])=>{const a=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[a]=zd(i)}),e},UA=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},BA=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Yu=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},$A=(t,e,r)=>xe(void 0,void 0,void 0,function*(){const i=yield zA();t instanceof i&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{const o=t.status||500,c=(a==null?void 0:a.statusCode)||o+"";e(new Gw(Yu(a),o,c))}).catch(a=>{e(new vl(Yu(a),a))}):e(new vl(Yu(t),t))}),FA=(t,e,r,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!i?a:(UA(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(i)):a.body=i,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function Sa(t,e,r,i,a,o){return xe(this,void 0,void 0,function*(){return new Promise((c,u)=>{t(r,FA(e,i,a,o)).then(d=>{if(!d.ok)throw d;return i!=null&&i.noResolveJson?d:d.json()}).then(d=>c(d)).catch(d=>$A(d,u,i))})})}function pa(t,e,r,i){return xe(this,void 0,void 0,function*(){return Sa(t,"GET",e,r,i)})}function Sr(t,e,r,i,a){return xe(this,void 0,void 0,function*(){return Sa(t,"POST",e,i,a,r)})}function Ud(t,e,r,i,a){return xe(this,void 0,void 0,function*(){return Sa(t,"PUT",e,i,a,r)})}function VA(t,e,r,i){return xe(this,void 0,void 0,function*(){return Sa(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function zh(t,e,r,i,a){return xe(this,void 0,void 0,function*(){return Sa(t,"DELETE",e,i,a,r)})}class qA{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return xe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}}var Yw;class KA{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Yw]="BlobDownloadBuilder",this.promise=null}asStream(){return new qA(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return xe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}}Yw=Symbol.toStringTag;const WA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Py={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class HA{constructor(e,r={},i,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=i,this.fetch=Mh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,i,a){return xe(this,void 0,void 0,function*(){try{let o;const c=Object.assign(Object.assign({},Py),a);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const d=c.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.has("cacheControl")||o.append("cacheControl",c.cacheControl),d&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(d))):(o=i,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!c.duplex&&(c.duplex="half")),a!=null&&a.headers&&(u=Object.assign(Object.assign({},u),a.headers));const p=this._removeEmptyFolders(r),y=this._getFinalPath(p),m=yield(e=="PUT"?Ud:Sr)(this.fetch,`${this.url}/object/${y}`,o,Object.assign({headers:u},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:m.Id,fullPath:m.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(lt(o))return{data:null,error:o};throw o}})}upload(e,r,i){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,i)})}uploadToSignedUrl(e,r,i,a){return xe(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),c=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${c}`);u.searchParams.set("token",r);try{let d;const p=Object.assign({upsert:Py.upsert},a),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.append("cacheControl",p.cacheControl)):(d=i,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const m=yield Ud(this.fetch,u.toString(),d,{headers:y});return{data:{path:o,fullPath:m.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(lt(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,r){return xe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const o=yield Sr(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),c=new URL(this.url+o.url),u=c.searchParams.get("token");if(!u)throw new xa("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:u},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}update(e,r,i){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,i)})}move(e,r,i){return xe(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}copy(e,r,i){return xe(this,void 0,void 0,function*(){try{return{data:{path:(yield Sr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,i){return xe(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),o=yield Sr(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,i){return xe(this,void 0,void 0,function*(){try{const a=yield Sr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}download(e,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),c=o?`?${o}`:"",u=this._getFinalPath(e),d=()=>pa(this.fetch,`${this.url}/${a}/${u}${c}`,{headers:this.headers,noResolveJson:!0});return new KA(d,this.shouldThrowOnError)}info(e){return xe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const i=yield pa(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:zd(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}exists(e){return xe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield VA(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i)&&i instanceof vl){const a=i.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,r){const i=this._getFinalPath(e),a=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&a.push(o);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});d!==""&&a.push(d);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${i}${p}`)}}}remove(e){return xe(this,void 0,void 0,function*(){try{return{data:yield zh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}list(e,r,i){return xe(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},WA),r),{prefix:e||""});return{data:yield Sr(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}listV2(e,r){return xe(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Sr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Jw="2.86.2",Qw={"X-Client-Info":`storage-js/${Jw}`};class GA{constructor(e,r={},i,a){this.shouldThrowOnError=!1;const o=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qw),r),this.fetch=Mh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return xe(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield pa(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}getBucket(e){return xe(this,void 0,void 0,function*(){try{return{data:yield pa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}createBucket(e){return xe(this,arguments,void 0,function*(r,i={public:!1}){try{return{data:yield Sr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}updateBucket(e,r){return xe(this,void 0,void 0,function*(){try{return{data:yield Ud(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}emptyBucket(e){return xe(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return xe(this,void 0,void 0,function*(){try{return{data:yield zh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var ma=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function YA(t,e,r){const i=new URL(e,t);if(r)for(const[a,o]of Object.entries(r))o!==void 0&&i.searchParams.set(a,o);return i.toString()}async function JA(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function QA(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:a,body:o,headers:c}){const u=YA(t.baseUrl,i,a),d=await JA(t.auth),p=await e(u,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...d,...c},body:o?JSON.stringify(o):void 0}),y=await p.text(),m=(p.headers.get("content-type")||"").includes("application/json"),w=m&&y?JSON.parse(y):y;if(!p.ok){const b=m?w:void 0,x=b==null?void 0:b.error;throw new ma((x==null?void 0:x.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:b})}return{status:p.status,headers:p.headers,data:w}}}}function Wo(t){return t.join("")}var XA=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Wo(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Wo(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wo(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Wo(t.namespace)}`}),!0}catch(e){if(e instanceof ma&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof ma&&r.status===409)return;throw r}}};function Di(t){return t.join("")}var ZA=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Di(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Di(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Di(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Di(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Di(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Di(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof ma&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof ma&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},eP=class{constructor(t){var i;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=QA({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(i=t.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new XA(this.client,e),this.tableOps=new ZA(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class Xw{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qw),r),this.fetch=Mh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return xe(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}listBuckets(e){return xe(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const i=r.toString(),a=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield pa(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return xe(this,void 0,void 0,function*(){try{return{data:yield zh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}from(e){if(!BA(e))throw new xa("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new eP({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>xe(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Uh={"X-Client-Info":`storage-js/${Jw}`,"Content-Type":"application/json"};class Bh extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Xt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class tl extends Bh{constructor(e,r,i){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Zw extends Bh{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Bd;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Bd||(Bd={}));const zl=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),tP=()=>Response,e_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},rP=t=>Array.from(new Float32Array(t)),nP=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},jy=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),iP=(t,e,r)=>xe(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const a=t.status||500,o=t;if(typeof o.json=="function")o.json().then(c=>{const u=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||a+"";e(new tl(jy(c),a,u))}).catch(()=>{const c=a+"",u=o.statusText||`HTTP ${a} error`;e(new tl(u,a,c))});else{const c=a+"",u=o.statusText||`HTTP ${a} error`;e(new tl(u,a,c))}}else e(new Zw(jy(t),t))}),sP=(t,e,r,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return i?(e_(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(i)):a.body=i,Object.assign(Object.assign({},a),r)):a};function aP(t,e,r,i,a,o){return xe(this,void 0,void 0,function*(){return new Promise((c,u)=>{t(r,sP(e,i,a,o)).then(d=>{if(!d.ok)throw d;if(i!=null&&i.noResolveJson)return d;const p=d.headers.get("content-type");return!p||!p.includes("application/json")?{}:d.json()}).then(d=>c(d)).catch(d=>iP(d,u,i))})})}function nr(t,e,r,i,a){return xe(this,void 0,void 0,function*(){return aP(t,"POST",e,i,a,r)})}class t_{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Uh),r),this.fetch=zl(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return xe(this,void 0,void 0,function*(){try{return{data:(yield nr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}getIndex(e,r){return xe(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}listIndexes(e){return xe(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return xe(this,void 0,void 0,function*(){try{return{data:(yield nr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}}class r_{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Uh),r),this.fetch=zl(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return xe(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield nr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}getVectors(e){return xe(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}listVectors(e){return xe(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield nr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}queryVectors(e){return xe(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}deleteVectors(e){return xe(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield nr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}}class n_{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Uh),r),this.fetch=zl(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return xe(this,void 0,void 0,function*(){try{return{data:(yield nr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}getBucket(e){return xe(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}listBuckets(){return xe(this,arguments,void 0,function*(e={}){try{return{data:yield nr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return xe(this,void 0,void 0,function*(){try{return{data:(yield nr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}}class i_ extends n_{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new s_(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return xe(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return xe(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return xe(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return xe(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class s_ extends t_{constructor(e,r,i,a){super(e,r,a),this.vectorBucketName=i}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return xe(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return xe(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return xe(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return xe(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new a_(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class a_ extends r_{constructor(e,r,i,a,o){super(e,r,o),this.vectorBucketName=i,this.indexName=a}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return xe(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return xe(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return xe(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return xe(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return xe(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class oP extends GA{constructor(e,r={},i,a){super(e,r,i,a)}from(e){return new HA(this.url,this.headers,e,this.fetch)}get vectors(){return new i_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Xw(this.url+"/iceberg",this.headers,this.fetch)}}const lP=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Xw,StorageApiError:Gw,StorageClient:oP,StorageError:xa,StorageUnknownError:vl,StorageVectorsApiError:tl,StorageVectorsClient:i_,StorageVectorsError:Bh,get StorageVectorsErrorCode(){return Bd},StorageVectorsUnknownError:Zw,VectorBucketApi:n_,VectorBucketScope:s_,VectorDataApi:r_,VectorIndexApi:t_,VectorIndexScope:a_,isPlainObject:e_,isStorageError:lt,isStorageVectorsError:Xt,normalizeToFloat32:rP,resolveFetch:zl,resolveResponse:tP,validateVectorDimension:nP},Symbol.toStringTag,{value:"Module"})),cP=ya(lP);var Ju={},Ks={},Ry;function uP(){return Ry||(Ry=1,Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.version=void 0,Ks.version="2.86.2"),Ks}var Oy;function dP(){return Oy||(Oy=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=uP();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(Ju)),Ju}var Qu={},Ny;function hP(){return Ny||(Ny=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=a=>a?(...o)=>a(...o):(...o)=>fetch(...o);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const i=(a,o,c)=>{const u=(0,t.resolveFetch)(c),d=(0,t.resolveHeadersConstructor)();return async(p,y)=>{var m;const w=(m=await o())!==null&&m!==void 0?m:a;let b=new d(y==null?void 0:y.headers);return b.has("apikey")||b.set("apikey",a),b.has("Authorization")||b.set("Authorization",`Bearer ${w}`),u(p,Object.assign(Object.assign({},y),{headers:b}))}};t.fetchWithAuth=i})(Qu)),Qu}var Qr={},Iy;function fP(){if(Iy)return Qr;Iy=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.isBrowser=void 0,Qr.uuid=t,Qr.ensureTrailingSlash=e,Qr.applySettingDefaults=i,Qr.validateSupabaseUrl=a;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var c=Math.random()*16|0,u=o=="x"?c:c&3|8;return u.toString(16)})}function e(o){return o.endsWith("/")?o:o+"/"}const r=()=>typeof window<"u";Qr.isBrowser=r;function i(o,c){var u,d;const{db:p,auth:y,realtime:m,global:w}=o,{db:b,auth:x,realtime:E,global:C}=c,j={db:Object.assign(Object.assign({},b),p),auth:Object.assign(Object.assign({},x),y),realtime:Object.assign(Object.assign({},E),m),storage:{},global:Object.assign(Object.assign(Object.assign({},C),w),{headers:Object.assign(Object.assign({},(u=C==null?void 0:C.headers)!==null&&u!==void 0?u:{}),(d=w==null?void 0:w.headers)!==null&&d!==void 0?d:{})}),accessToken:async()=>""};return o.accessToken?j.accessToken=o.accessToken:delete j.accessToken,j}function a(o){const c=o==null?void 0:o.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Qr}var Ws={};const o_="2.86.2",Ui=30*1e3,$d=3,Xu=$d*Ui,pP="http://localhost:9999",mP="supabase.auth.token",gP={"X-Client-Info":`gotrue-js/${o_}`},Fd="X-Supabase-Api-Version",l_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vP=600*1e3;let es=class extends Error{constructor(e,r,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}};function je(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let c_=class extends es{constructor(e,r,i){super(e,r,i),this.name="AuthApiError",this.status=r,this.code=i}};function u_(t){return je(t)&&t.name==="AuthApiError"}let An=class extends es{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},nn=class extends es{constructor(e,r,i,a){super(e,i,a),this.name=r,this.status=i}},Qt=class extends nn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function d_(t){return je(t)&&t.name==="AuthSessionMissingError"}let ei=class extends nn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Zs=class extends nn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},ea=class extends nn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function h_(t){return je(t)&&t.name==="AuthImplicitGrantRedirectError"}let Vd=class extends nn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},wl=class extends nn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function rl(t){return je(t)&&t.name==="AuthRetryableFetchError"}let qd=class extends nn{constructor(e,r,i){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}};function wP(t){return je(t)&&t.name==="AuthWeakPasswordError"}let _l=class extends nn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const bl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dy=` 	
\r=`.split(""),_P=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Dy.length;e+=1)t[Dy[e].charCodeAt(0)]=-2;for(let e=0;e<bl.length;e+=1)t[bl[e].charCodeAt(0)]=e;return t})();function Ly(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(bl[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(bl[i]),e.queuedBits-=6}}function f_(t,e,r){const i=_P[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function My(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=c=>{SP(c,i,r)};for(let c=0;c<t.length;c+=1)f_(t.charCodeAt(c),a,o);return e.join("")}function bP(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function xP(t,e){for(let r=0;r<t.length;r+=1){let i=t.charCodeAt(r);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}bP(i,e)}}function SP(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Hi(t){const e=[],r={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)f_(t.charCodeAt(a),r,i);return new Uint8Array(e)}function kP(t){const e=[];return xP(t,r=>e.push(r)),new Uint8Array(e)}function oi(t){const e=[],r={queue:0,queuedBits:0},i=a=>{e.push(a)};return t.forEach(a=>Ly(a,r,i)),Ly(null,r,i),e.join("")}function EP(t){return Math.round(Date.now()/1e3)+t}function CP(){return Symbol("auth-callback")}const Ot=()=>typeof window<"u"&&typeof document<"u",Jn={tested:!1,writable:!1},p_=()=>{if(!Ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jn.tested)return Jn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Jn.tested=!0,Jn.writable=!0}catch{Jn.tested=!0,Jn.writable=!1}return Jn.writable};function TP(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,o)=>{e[o]=a})}catch{}return r.searchParams.forEach((i,a)=>{e[a]=i}),e}const m_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),AP=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Bi=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Qn=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Rt=async(t,e)=>{await t.removeItem(e)};class Ul{constructor(){this.promise=new Ul.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ul.promiseConstructor=Promise;function Zu(t){const e=t.split(".");if(e.length!==3)throw new _l("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!yP.test(e[i]))throw new _l("JWT not in base64url format");return{header:JSON.parse(My(e[0])),payload:JSON.parse(My(e[1])),signature:Hi(e[2]),raw:{header:e[0],payload:e[1]}}}async function PP(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function jP(t,e){return new Promise((i,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await t(o);if(!e(o,null,c)){i(c);return}}catch(c){if(!e(o,c)){a(c);return}}})()})}function RP(t){return("0"+t.toString(16)).substr(-2)}function OP(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let a="";for(let o=0;o<56;o++)a+=r.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,RP).join("")}async function NP(t){const r=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(i);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function IP(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await NP(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Li(t,e,r=!1){const i=OP();let a=i;r&&(a+="/PASSWORD_RECOVERY"),await Bi(t,`${e}-code-verifier`,a);const o=await IP(i);return[o,i===o?"plain":"s256"]}const DP=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function LP(t){const e=t.headers.get(Fd);if(!e||!e.match(DP))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function MP(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function zP(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UP=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Mi(t){if(!UP.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ed(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function BP(t,e){return new Proxy(t,{get:(r,i,a)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,a)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,i,a)}})}function zy(t){return JSON.parse(JSON.stringify(t))}const ti=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$P=[502,503,504];async function Uy(t){var e;if(!AP(t))throw new wl(ti(t),0);if($P.includes(t.status))throw new wl(ti(t),t.status);let r;try{r=await t.json()}catch(o){throw new An(ti(o),o)}let i;const a=LP(t);if(a&&a.getTime()>=l_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new qd(ti(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Qt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new qd(ti(r),t.status,r.weak_password.reasons);throw new c_(ti(r),t.status||500,i)}const FP=(t,e,r,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),r))};async function De(t,e,r,i){var a;const o=Object.assign({},i==null?void 0:i.headers);o[Fd]||(o[Fd]=l_["2024-01-01"].name),i!=null&&i.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const c=(a=i==null?void 0:i.query)!==null&&a!==void 0?a:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",d=await VP(t,e,r+u,{headers:o,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(d):{data:Object.assign({},d),error:null}}async function VP(t,e,r,i,a,o){const c=FP(e,i,a,o);let u;try{u=await t(r,Object.assign({},c))}catch(d){throw console.error(d),new wl(ti(d),0)}if(u.ok||await Uy(u),i!=null&&i.noResolveJson)return u;try{return await u.json()}catch(d){await Uy(d)}}function br(t){var e;let r=null;WP(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=EP(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:i},error:null}}function By(t){const e=br(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Pn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function qP(t){return{data:t,error:null}}function KP(t){const{action_link:e,email_otp:r,hashed_token:i,redirect_to:a,verification_type:o}=t,c=ss(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:i,redirect_to:a,verification_type:o},d=Object.assign({},c);return{data:{properties:u,user:d},error:null}}function $y(t){return t}function WP(t){return t.access_token&&t.refresh_token&&t.expires_in}const nl=["global","local","others"];let $h=class{constructor({url:e="",headers:r={},fetch:i}){this.url=e,this.headers=r,this.fetch=m_(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=nl[0]){if(nl.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${nl.join(", ")}`);try{return await De(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(je(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,r={}){try{return await De(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Pn})}catch(i){if(je(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:r}=e,i=ss(e,["options"]),a=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(a.new_email=i==null?void 0:i.newEmail,delete a.newEmail),await De(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:KP,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(je(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await De(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Pn})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,i,a,o,c,u,d;try{const p={nextPage:null,lastPage:0,total:0},y=await De(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:$y});if(y.error)throw y.error;const m=await y.json(),w=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(d=(u=y.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(x=>{const E=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(x.split(";")[1].split("=")[1]);p[`${C}Page`]=E}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},m),p),error:null}}catch(p){if(je(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Mi(e);try{return await De(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Pn})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Mi(e);try{return await De(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Pn})}catch(i){if(je(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,r=!1){Mi(e);try{return await De(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Pn})}catch(i){if(je(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Mi(e.userId);try{const{data:r,error:i}=await De(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:i}}catch(r){if(je(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Mi(e.userId),Mi(e.id);try{return{data:await De(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,i,a,o,c,u,d;try{const p={nextPage:null,lastPage:0,total:0},y=await De(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:$y});if(y.error)throw y.error;const m=await y.json(),w=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(d=(u=y.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(x=>{const E=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(x.split(";")[1].split("=")[1]);p[`${C}Page`]=E}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},m),p),error:null}}catch(p){if(je(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await De(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await De(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(je(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await De(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}};function Fy(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ri={debug:!!(globalThis&&p_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let g_=class extends Fh{};class HP extends Fh{}async function y_(t,e,r){ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),ri.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new g_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ri.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const Vy={};async function GP(t,e,r){var i;const a=(i=Vy[t])!==null&&i!==void 0?i:Promise.resolve(),o=Promise.race([a.catch(()=>null),e>=0?new Promise((c,u)=>{setTimeout(()=>{u(new HP(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await r());return Vy[t]=o.catch(async c=>{if(c&&c.isAcquireTimeout)return await a,null;throw c}),await o}function YP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function v_(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function JP(t){return parseInt(t,16)}function QP(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function XP(t){var e;const{chainId:r,domain:i,expirationTime:a,issuedAt:o=new Date,nonce:c,notBefore:u,requestId:d,resources:p,scheme:y,uri:m,version:w}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=v_(t.address),x=y?`${y}://${i}`:i,E=t.statement?`${t.statement}
`:"",C=`${x} wants you to sign in with your Ethereum account:
${b}

${E}`;let j=`URI: ${m}
Version: ${w}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(a&&(j+=`
Expiration Time: ${a.toISOString()}`),u&&(j+=`
Not Before: ${u.toISOString()}`),d&&(j+=`
Request ID: ${d}`),p){let I=`
Resources:`;for(const k of p){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);I+=`
- ${k}`}j+=I}return`${C}
${j}`}class St extends Error{constructor({message:e,code:r,cause:i,name:a}){var o;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(o=a??(i instanceof Error?i.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class xl extends St{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function ZP({error:t,options:e}){var r,i,a;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new St({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new St({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new St({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new St({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new St({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new St({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new St({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new St({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(w_(c)){if(o.rp.id!==c)return new St({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new St({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new St({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new St({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new St({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function ej({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new St({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new St({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(w_(i)){if(r.rpId!==i)return new St({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new St({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new St({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new St({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class tj{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const rj=new tj;function nj(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:i}=t,a=ss(t,["challenge","user","excludeCredentials"]),o=Hi(e).buffer,c=Object.assign(Object.assign({},r),{id:Hi(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:o,user:c});if(i&&i.length>0){u.excludeCredentials=new Array(i.length);for(let d=0;d<i.length;d++){const p=i[d];u.excludeCredentials[d]=Object.assign(Object.assign({},p),{id:Hi(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return u}function ij(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,i=ss(t,["challenge","allowCredentials"]),a=Hi(e).buffer,o=Object.assign(Object.assign({},i),{challenge:a});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];o.allowCredentials[c]=Object.assign(Object.assign({},u),{id:Hi(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function sj(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:oi(new Uint8Array(t.response.attestationObject)),clientDataJSON:oi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function aj(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,i=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:oi(new Uint8Array(a.authenticatorData)),clientDataJSON:oi(new Uint8Array(a.clientDataJSON)),signature:oi(new Uint8Array(a.signature)),userHandle:a.userHandle?oi(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function w_(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function qy(){var t,e;return!!(Ot()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function oj(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new xl("Browser returned unexpected credential type",e)}:{data:null,error:new xl("Empty credential response",e)}}catch(e){return{data:null,error:ZP({error:e,options:t})}}}async function lj(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new xl("Browser returned unexpected credential type",e)}:{data:null,error:new xl("Empty credential response",e)}}catch(e){return{data:null,error:ej({error:e,options:t})}}}const cj={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},uj={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Sl(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of t)if(a)for(const o in a){const c=a[o];if(c!==void 0)if(Array.isArray(c))i[o]=c;else if(r(c))i[o]=c;else if(e(c)){const u=i[o];e(u)?i[o]=Sl(u,c):i[o]=Sl(c)}else i[o]=c}return i}function dj(t,e){return Sl(cj,t,e||{})}function hj(t,e){return Sl(uj,t,e||{})}class fj{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:i,signal:a},o){try{const{data:c,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:u};const d=a??rj.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${i}`),p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=dj(c.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:y,error:m}=await oj({publicKey:p,signal:d});return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:m}}case"request":{const p=hj(c.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:y,error:m}=await lj(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:d}));return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:m}}}}catch(c){return je(c)?{data:null,error:c}:{data:null,error:new An("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!r)return{data:null,error:new es("rpId is required for WebAuthn authentication")};try{if(!qy())return{data:null,error:new An("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:i},signal:a},{request:o});if(!c)return{data:null,error:u};const{webauthn:d}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:i,credential_response:d.credential_response}})}catch(c){return je(c)?{data:null,error:c}:{data:null,error:new An("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!r)return{data:null,error:new es("rpId is required for WebAuthn registration")};try{if(!qy())return{data:null,error:new An("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(y=>{var m;return(m=y.data)===null||m===void 0?void 0:m.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:u};const{data:d,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:a},{create:o});return d?this._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:i,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:p}}catch(c){return je(c)?{data:null,error:c}:{data:null,error:new An("Unexpected error in register",c)}}}}YP();const pj={url:pP,storageKey:mP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ky(t,e,r){return await r()}const zi={};let Vh=class Kd{get jwks(){var e,r;return(r=(e=zi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){zi[this.storageKey]=Object.assign(Object.assign({},zi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=zi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){zi[this.storageKey]=Object.assign(Object.assign({},zi[this.storageKey]),{cachedAt:e})}constructor(e){var r,i,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},pj),e);if(this.storageKey=o.storageKey,this.instanceID=(r=Kd.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Kd.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Ot()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new $h({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=m_(o.fetch),this.lock=o.lock||Ky,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:Ot()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=y_:this.lock=Ky,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new fj(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:p_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Fy(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Fy(this.memoryStorage)),Ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${o_}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},i="none";if(Ot()&&(r=TP(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),Ot()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:o}=await this._getSessionFromURL(r,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),h_(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return je(r)?this._returnResult({error:r}):this._returnResult({error:new An("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,i,a;try{const o=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:br}),{data:c,error:u}=o;if(u||!c)return this._returnResult({data:{user:null,session:null},error:u});const d=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(o){if(je(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,i,a;try{let o;if("email"in e){const{email:y,password:m,options:w}=e;let b=null,x=null;this.flowType==="pkce"&&([b,x]=await Li(this.storage,this.storageKey)),o=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:y,password:m,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:b,code_challenge_method:x},xform:br})}else if("phone"in e){const{phone:y,password:m,options:w}=e;o=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:m,data:(i=w==null?void 0:w.data)!==null&&i!==void 0?i:{},channel:(a=w==null?void 0:w.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:br})}else throw new Zs("You must provide either an email or phone number and a password");const{data:c,error:u}=o;if(u||!c)return await Rt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(o){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),je(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:c,options:u}=e;r=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:By})}else if("phone"in e){const{phone:o,password:c,options:u}=e;r=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:By})}else throw new Zs("You must provide either an email or phone number and a password");const{data:i,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!i||!i.session||!i.user){const o=new ei;return this._returnResult({data:{user:null,session:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(r){if(je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,i,a,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,i,a,o,c,u,d,p,y,m,w;let b,x;if("message"in e)b=e.message,x=e.signature;else{const{chain:E,wallet:C,statement:j,options:I}=e;let k;if(Ot())if(typeof C=="object")k=C;else{const J=window;if("ethereum"in J&&typeof J.ethereum=="object"&&"request"in J.ethereum&&typeof J.ethereum.request=="function")k=J.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=C}const P=new URL((r=I==null?void 0:I.url)!==null&&r!==void 0?r:window.location.href),R=await k.request({method:"eth_requestAccounts"}).then(J=>J).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=v_(R[0]);let O=(i=I==null?void 0:I.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!O){const J=await k.request({method:"eth_chainId"});O=JP(J)}const L={domain:P.host,address:D,statement:j,uri:P.href,version:"1",chainId:O,nonce:(a=I==null?void 0:I.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(o=I==null?void 0:I.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(u=I==null?void 0:I.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=I==null?void 0:I.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(p=I==null?void 0:I.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=I==null?void 0:I.signInWithEthereum)===null||y===void 0?void 0:y.resources};b=XP(L),x=await k.request({method:"personal_sign",params:[QP(b),D]})}try{const{data:E,error:C}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:x},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:br});if(C)throw C;if(!E||!E.session||!E.user){const j=new ei;return this._returnResult({data:{user:null,session:null},error:j})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:C})}catch(E){if(je(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var r,i,a,o,c,u,d,p,y,m,w,b;let x,E;if("message"in e)x=e.message,E=e.signature;else{const{chain:C,wallet:j,statement:I,options:k}=e;let P;if(Ot())if(typeof j=="object")P=j;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))P=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=j}const R=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const D=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),I?{statement:I}:null));let O;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")O=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)O=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)x=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),E=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${R.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(a=(i=k==null?void 0:k.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=k==null?void 0:k.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((c=k==null?void 0:k.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((d=k==null?void 0:k.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((p=k==null?void 0:k.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((m=(y=k==null?void 0:k.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||m===void 0)&&m.length?["Resources",...k.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const D=await P.signMessage(new TextEncoder().encode(x),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=D}}try{const{data:C,error:j}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:oi(E)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:br});if(j)throw j;if(!C||!C.session||!C.user){const I=new ei;return this._returnResult({data:{user:null,session:null},error:I})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:j})}catch(C){if(je(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const r=await Qn(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(r??"").split("/");try{const{data:o,error:c}=await De(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:br});if(await Rt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!o||!o.session||!o.user){const u=new ei;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:c})}catch(o){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),je(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:i,token:a,access_token:o,nonce:c}=e,u=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:br}),{data:d,error:p}=u;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!d||!d.session||!d.user){const y=new ei;return this._returnResult({data:{user:null,session:null},error:y})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:p})}catch(r){if(je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,i,a,o,c;try{if("email"in e){const{email:u,options:d}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Li(this.storage,this.storageKey));const{error:m}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(i=d==null?void 0:d.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:u,options:d}=e,{data:p,error:y}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d==null?void 0:d.data)!==null&&a!==void 0?a:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(c=d==null?void 0:d.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:y})}throw new Zs("You must provide either an email or phone number.")}catch(u){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),je(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var r,i;try{let a,o;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:u}=await De(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:br});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const d=c.session,p=c.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(a){if(je(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var r,i,a,o,c;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Li(this.storage,this.storageKey));const p=await De(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:qP});return!((o=p.data)===null||o===void 0)&&o.url&&Ot()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(u){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),je(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new Qt;const{error:a}=await De(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(je(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:o}=e,{error:c}=await De(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:i,type:a,options:o}=e,{data:c,error:u}=await De(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new Zs("You must provide either an email or phone number and a type")}catch(r){if(je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Qn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Xu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const c=await Qn(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=ed()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=BP(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Pn}):await this._useSession(async r=>{var i,a,o;const{data:c,error:u}=r;if(u)throw u;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qt}:await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:Pn})})}catch(r){if(je(r))return d_(r)&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{const{data:a,error:o}=i;if(o)throw o;if(!a.session)throw new Qt;const c=a.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await Li(this.storage,this.storageKey));const{data:p,error:y}=await De(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:c.access_token,xform:Pn});if(y)throw y;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(i){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),je(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qt;const r=Date.now()/1e3;let i=r,a=!0,o=null;const{payload:c}=Zu(e.access_token);if(c.exp&&(i=c.exp,a=i<=r),a){const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(je(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){const{data:c,error:u}=r;if(u)throw u;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new Qt;const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ot())throw new ea("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ea(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Vd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ea("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Vd("No code detected.");const{data:I,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:o,refresh_token:c,expires_in:u,expires_at:d,token_type:p}=e;if(!o||!u||!c||!p)throw new ea("No session defined in URL");const y=Math.round(Date.now()/1e3),m=parseInt(u);let w=y+m;d&&(w=parseInt(d));const b=w-y;b*1e3<=Ui&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${m}s`);const x=w-m;y-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,w,y):y-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,w,y);const{data:E,error:C}=await this._getUser(o);if(C)throw C;const j={provider_token:i,provider_refresh_token:a,access_token:o,expires_in:m,expires_at:w,refresh_token:c,token_type:p,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:e.type},error:null})}catch(i){if(je(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Qn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:a,error:o}=r;if(o)return this._returnResult({error:o});const c=(i=a.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:u}=await this.admin.signOut(c,e);if(u&&!(u_(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=CP(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,a;try{const{data:{session:o},error:c}=r;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await Li(this.storage,this.storageKey,!0));try{return await De(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),je(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:i,error:a}=await this._useSession(async o=>{var c,u,d,p,y;const{data:m,error:w}=o;if(w)throw w;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await De(this.fetch,"GET",b,{headers:this.headers,jwt:(y=(p=m.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return Ot()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(je(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var i;try{const{error:a,data:{session:o}}=r;if(a)throw a;const{options:c,provider:u,token:d,access_token:p,nonce:y}=e,m=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=o==null?void 0:o.access_token)!==null&&i!==void 0?i:void 0,body:{provider:u,id_token:d,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:br}),{data:w,error:b}=m;return b?this._returnResult({data:{user:null,session:null},error:b}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new ei}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:b}))}catch(a){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),je(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,a;const{data:o,error:c}=r;if(c)throw c;return await De(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await jP(async a=>(a>0&&await PP(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await De(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:br})),(a,o)=>{const c=200*Math.pow(2,a);return o&&rl(o)&&Date.now()+c-i<Ui})}catch(i){if(this._debug(r,"error",i),je(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),Ot()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await Qn(this.storage,this.storageKey);if(a&&this.userStorage){let c=await Qn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await Bi(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:ed()}else if(a&&!a.user&&!a.user){const c=await Qn(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(a.user=c.user,await Rt(this.storage,this.storageKey+"-user"),await Bi(this.storage,this.storageKey,a)):a.user=ed()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const o=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Xu;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${Xu}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),rl(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:u}=await this._getUser(a.access_token);!u&&(c!=null&&c.user)?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new Qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ul;const{data:o,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!o.session)throw new Qt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(a,"error",o),je(o)){const c={data:null,error:o};return rl(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,r)}catch(d){o.push(d)}});if(await Promise.all(c),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Rt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Bi(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const o=zy(a);await Bi(this.storage,this.storageKey,o)}else{const a=zy(r);await Bi(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Rt(this.storage,this.storageKey),await Rt(this.storage,this.storageKey+"-code-verifier"),await Rt(this.storage,this.storageKey+"-user"),this.userStorage&&await Rt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ui);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/Ui);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ui}ms, refresh threshold is ${$d} ticks`),a<=$d&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Fh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){const a=[`provider=${encodeURIComponent(r)}`];if(i!=null&&i.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,c]=await Li(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(u.toString())}if(i!=null&&i.queryParams){const o=new URLSearchParams(i.queryParams);a.push(o.toString())}return i!=null&&i.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;const{data:a,error:o}=r;return o?this._returnResult({data:null,error:o}):await De(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,a;const{data:o,error:c}=r;if(c)return this._returnResult({data:null,error:c});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:p}=await De(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&d.type==="totp"&&(!((a=d==null?void 0:d.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?sj(e.webauthn.credential_response):aj(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:d}=await De(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=await De(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});if(c.error)return c;const{data:u}=c;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:nj(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:ij(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])a.all.push(o),o.status==="verified"&&a[o.factor_type].push(o);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Zu(i.access_token);let c=null;o.aal&&(c=o.aal);let u=c;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const p=o.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;return a?this._returnResult({data:null,error:a}):i?await De(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Qt})})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:a},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new Qt});const c=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&Ot()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(i){if(je(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:a},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new Qt});const c=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&Ot()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(i){if(je(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;return i?this._returnResult({data:null,error:i}):r?await De(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Qt})})}catch(e){if(je(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;return a?this._returnResult({data:null,error:a}):i?(await De(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Qt})})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let i=r.keys.find(u=>u.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(u=>u.kid===e),i&&this.jwks_cached_at+vP>a)return i;const{data:o,error:c}=await De(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,i=o.keys.find(u=>u.kid===e),!i)?null:i}async getClaims(e,r={}){try{let i=e;if(!i){const{data:b,error:x}=await this.getSession();if(x||!b.session)return this._returnResult({data:null,error:x});i=b.session.access_token}const{header:a,payload:o,signature:c,raw:{header:u,payload:d}}=Zu(i);r!=null&&r.allowExpired||MP(o.exp);const p=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!p){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:o,header:a,signature:c},error:null}}const y=zP(a.alg),m=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,m,c,kP(`${u}.${d}`)))throw new _l("Invalid JWT signature");return{data:{claims:o,header:a,signature:c},error:null}}catch(i){if(je(i))return this._returnResult({data:null,error:i});throw i}}};Vh.nextInstanceID={};const mj=$h,gj=Vh,yj=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:mj,AuthApiError:c_,AuthClient:gj,AuthError:es,AuthImplicitGrantRedirectError:ea,AuthInvalidCredentialsError:Zs,AuthInvalidJwtError:_l,AuthInvalidTokenResponseError:ei,AuthPKCEGrantCodeExchangeError:Vd,AuthRetryableFetchError:wl,AuthSessionMissingError:Qt,AuthUnknownError:An,AuthWeakPasswordError:qd,CustomAuthError:nn,GoTrueAdminApi:$h,GoTrueClient:Vh,NavigatorLockAcquireTimeoutError:g_,SIGN_OUT_SCOPES:nl,isAuthApiError:u_,isAuthError:je,isAuthImplicitGrantRedirectError:h_,isAuthRetryableFetchError:rl,isAuthSessionMissingError:d_,isAuthWeakPasswordError:wP,lockInternals:ri,navigatorLock:y_,processLock:GP},Symbol.toStringTag,{value:"Module"})),__=ya(yj);var Wy;function vj(){if(Wy)return Ws;Wy=1,Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.SupabaseAuthClient=void 0;const t=__;let e=class extends t.AuthClient{constructor(i){super(i)}};return Ws.SupabaseAuthClient=e,Ws}var Hy;function Gy(){if(Hy)return zo;Hy=1,Object.defineProperty(zo,"__esModule",{value:!0});const t=Ow,e=zw(),r=Hw,i=cP,a=dP(),o=hP(),c=fP(),u=vj();class d{constructor(y,m,w){var b,x,E;this.supabaseUrl=y,this.supabaseKey=m;const C=(0,c.validateSupabaseUrl)(y);if(!m)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",C),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",C),this.storageUrl=new URL("storage/v1",C),this.functionsUrl=new URL("functions/v1",C);const j=`sb-${C.hostname.split(".")[0]}-auth-token`,I={db:a.DEFAULT_DB_OPTIONS,realtime:a.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},a.DEFAULT_AUTH_OPTIONS),{storageKey:j}),global:a.DEFAULT_GLOBAL_OPTIONS},k=(0,c.applySettingDefaults)(w??{},I);this.storageKey=(b=k.auth.storageKey)!==null&&b!==void 0?b:"",this.headers=(x=k.global.headers)!==null&&x!==void 0?x:{},k.accessToken?(this.accessToken=k.accessToken,this.auth=new Proxy({},{get:(P,R)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(R)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((E=k.auth)!==null&&E!==void 0?E:{},this.headers,k.global.fetch),this.fetch=(0,o.fetchWithAuth)(m,this._getAccessToken.bind(this),k.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},k.realtime)),this.accessToken&&this.accessToken().then(P=>this.realtime.setAuth(P)).catch(P=>console.warn("Failed to set initial Realtime auth token:",P)),this.rest=new e.PostgrestClient(new URL("rest/v1",C).href,{headers:this.headers,schema:k.db.schema,fetch:this.fetch}),this.storage=new i.StorageClient(this.storageUrl.href,this.headers,this.fetch,w==null?void 0:w.storage),k.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(y){return this.rest.from(y)}schema(y){return this.rest.schema(y)}rpc(y,m={},w={head:!1,get:!1,count:void 0}){return this.rest.rpc(y,m,w)}channel(y,m={config:{}}){return this.realtime.channel(y,m)}getChannels(){return this.realtime.getChannels()}removeChannel(y){return this.realtime.removeChannel(y)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var y,m;if(this.accessToken)return await this.accessToken();const{data:w}=await this.auth.getSession();return(m=(y=w.session)===null||y===void 0?void 0:y.access_token)!==null&&m!==void 0?m:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:y,persistSession:m,detectSessionInUrl:w,storage:b,userStorage:x,storageKey:E,flowType:C,lock:j,debug:I,throwOnError:k},P,R){const D={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},D),P),storageKey:E,autoRefreshToken:y,persistSession:m,detectSessionInUrl:w,storage:b,userStorage:x,flowType:C,lock:j,debug:I,throwOnError:k,fetch:R,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(y){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},y),{params:Object.assign({apikey:this.supabaseKey},y==null?void 0:y.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((m,w)=>{this._handleTokenChanged(m,"CLIENT",w==null?void 0:w.access_token)})}_handleTokenChanged(y,m,w){(y==="TOKEN_REFRESHED"||y==="SIGNED_IN")&&this.changedAccessToken!==w?(this.changedAccessToken=w,this.realtime.setAuth(w)):y==="SIGNED_OUT"&&(this.realtime.setAuth(),m=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return zo.default=d,zo}var Yy;function wj(){return Yy||(Yy=1,(function(t){var e=Jr&&Jr.__createBinding||(Object.create?(function(y,m,w,b){b===void 0&&(b=w);var x=Object.getOwnPropertyDescriptor(m,w);(!x||("get"in x?!m.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return m[w]}}),Object.defineProperty(y,b,x)}):(function(y,m,w,b){b===void 0&&(b=w),y[b]=m[w]})),r=Jr&&Jr.__exportStar||function(y,m){for(var w in y)w!=="default"&&!Object.prototype.hasOwnProperty.call(m,w)&&e(m,y,w)},i=Jr&&Jr.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const a=i(Gy());r(__,t);var o=zw();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return o.PostgrestError}});var c=Ow;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),r(Hw,t);var u=Gy();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return i(u).default}});const d=(y,m,w)=>new a.default(y,m,w);t.createClient=d;function p(){if(typeof window<"u"||typeof process>"u")return!1;const y=process.version;if(y==null)return!1;const m=y.match(/^v(\d+)\./);return m?parseInt(m[1],10)<=18:!1}p()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Jr)),Jr}var b_=wj();const x_=Cl(b_),_j=dv({__proto__:null,default:x_},[b_]),{PostgrestError:L2,FunctionsHttpError:M2,FunctionsFetchError:z2,FunctionsRelayError:U2,FunctionsError:B2,FunctionRegion:$2,SupabaseClient:F2,createClient:bj,GoTrueAdminApi:V2,GoTrueClient:q2,AuthAdminApi:K2,AuthClient:W2,navigatorLock:H2,NavigatorLockAcquireTimeoutError:G2,lockInternals:Y2,processLock:J2,SIGN_OUT_SCOPES:Q2,AuthError:X2,AuthApiError:Z2,AuthUnknownError:eO,CustomAuthError:tO,AuthSessionMissingError:rO,AuthInvalidTokenResponseError:nO,AuthInvalidCredentialsError:iO,AuthImplicitGrantRedirectError:sO,AuthPKCEGrantCodeExchangeError:aO,AuthRetryableFetchError:oO,AuthWeakPasswordError:lO,AuthInvalidJwtError:cO,isAuthError:uO,isAuthApiError:dO,isAuthSessionMissingError:hO,isAuthImplicitGrantRedirectError:fO,isAuthRetryableFetchError:pO,isAuthWeakPasswordError:mO,RealtimePresence:gO,RealtimeChannel:yO,RealtimeClient:vO,REALTIME_LISTEN_TYPES:wO,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:_O,REALTIME_PRESENCE_LISTEN_EVENTS:bO,REALTIME_SUBSCRIBE_STATES:xO,REALTIME_CHANNEL_STATES:SO}=x_||_j,Gi={},S_=(Gi==null?void 0:Gi.VITE_SUPABASE_URL)||"https://uwslxmciglqxpvfbgjzm.supabase.co",k_=(Gi==null?void 0:Gi.VITE_SUPABASE_ANON_KEY)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV3c2x4bWNpZ2xxeHB2ZmJnanptIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQzMzU3NDcsImV4cCI6MjA3OTkxMTc0N30.Pzk2Zrp08-f93VoApIj6QjWx_9nEQSkZFRU_t1UX_ow",td=S_,Jy=k_,$=bj(S_,k_,{auth:{autoRefreshToken:!1,persistSession:!1,detectSessionInUrl:!1,storage:void 0,flowType:"pkce"},realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Client-Info":"yolmov-web"}}});function qh(){if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")try{return crypto.randomUUID()}catch{}if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"){const t=new Uint8Array(16);crypto.getRandomValues(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128;const e=Array.from(t,r=>r.toString(16).padStart(2,"0")).join("");return`${e.slice(0,8)}-${e.slice(8,12)}-${e.slice(12,16)}-${e.slice(16,20)}-${e.slice(20)}`}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}const re=(t,e)=>{throw console.error(`[Supabase API Error] ${e}:`,t),new Error(`${e} failed: ${t.message||"Unknown error"}`)},Xe=async()=>{try{const t=localStorage.getItem("yolmov-auth-session"),e=localStorage.getItem("yolmov_admin"),r=localStorage.getItem("yolmov_partner");if(!t&&!e&&!r)return!1;const i=t?JSON.parse(t):null;return e||r?!0:!(i!=null&&i.access_token)||!(i!=null&&i.refresh_token)?(localStorage.removeItem("yolmov-auth-session"),!1):i.expires_at&&new Date(i.expires_at*1e3)<=new Date?(console.log(" Session expired in ensureAuthSession, clearing..."),localStorage.removeItem("yolmov-auth-session"),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"session-expired"}})),!1):(await $.auth.setSession({access_token:i.access_token,refresh_token:i.refresh_token}),!0)}catch(t){return console.warn("ensureAuthSession failed",t),localStorage.removeItem("yolmov-auth-session"),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"session-error"}})),!1}},Kh={signUpCustomer:async(t,e,r)=>{try{if(!r.phone||r.phone.length<10)throw new Error("Telefon numaras gerekli (minimum 10 karakter)");const{data:i,error:a}=await $.auth.signUp({email:t,password:e,options:{emailRedirectTo:`${window.location.origin}/email-dogrulama`,data:{user_type:"customer",first_name:r.firstName,last_name:r.lastName}}});if(a)throw a;if(!i.user)throw new Error("Kullanc oluturulamad");const o={id:i.user.id,first_name:r.firstName||"",last_name:r.lastName||"",phone:r.phone,email:t,avatar_url:r.avatarUrl||null,city:r.city||null,district:r.district||null},{data:c,error:u}=await $.from("customers").insert(o).select().single();if(u){if(console.error(" Customer insert failed, rolling back auth user:",u),await $.auth.admin.deleteUser(i.user.id).catch(()=>{}),u.code==="23505"){if(u.message.includes("phone"))throw new Error("Bu telefon numaras zaten kaytl");if(u.message.includes("email"))throw new Error("Bu email adresi zaten kaytl")}throw u}const d={id:c.id,firstName:c.first_name,lastName:c.last_name,phone:c.phone,email:c.email||void 0,avatarUrl:c.avatar_url||void 0,city:c.city||void 0,district:c.district||void 0,createdAt:c.created_at};return{user:i.user,customer:d,session:i.session}}catch(i){throw re(i,"Customer Sign Up"),i}},signUpPartner:async(t,e,r)=>{try{if(!t||!e)throw new Error("Email ve ifre gereklidir");const{data:i,error:a}=await $.auth.signUp({email:t,password:e,options:{emailRedirectTo:`${window.location.origin}/email-dogrulama`,data:{user_type:"partner",first_name:r.first_name,last_name:r.last_name}}});if(a)throw a;if(!i.user)throw new Error("Auth kullancs oluturulamad");const o={id:i.user.id,name:r.company_name||r.name||"",first_name:r.first_name||"",last_name:r.last_name||"",company_name:r.company_name||"",tax_number:r.tax_number||null,sector:r.sector||null,city:r.city||null,district:r.district||null,phone:r.phone||null,email:t,vehicle_count:r.vehicle_count||0,vehicle_types:r.vehicle_types||null,service_types:r.service_types||null,commercial_registry_url:r.commercial_registry_url||null,vehicle_license_url:r.vehicle_license_url||null,status:"pending",rating:0,completed_jobs:0,credits:0},{data:c,error:u}=await $.from("partners").insert(o).select().single();if(u)throw u;return{user:i.user,partner:c}}catch(i){throw console.error(" signUpPartner error:",i),new Error(i.message||"Partner kayd baarsz")}},signInPartner:async(t,e)=>{var r;try{if(!t||!e)throw new Error("Email ve ifre gereklidir");const{data:i,error:a}=await $.auth.signInWithPassword({email:t,password:e});if(a)throw a;const o=(r=i.user)==null?void 0:r.id;if(!o)throw new Error("Kullanc bulunamad");const{data:c,error:u}=await $.from("partners").select("*").eq("id",o).maybeSingle();if(u)throw u;if(!c)throw new Error("Partner kayd bulunamad");return c.status!=="active"?{user:i.user,session:i.session,partner:c,approved:!1}:{user:i.user,session:i.session,partner:c,approved:!0}}catch(i){throw console.error(" signInPartner error:",i),new Error(i.message||"Partner girii baarsz")}},sendMagicLinkPartner:async t=>{try{if(!t)throw new Error("Email gerekli");const{data:e,error:r}=await $.auth.signInWithOtp({email:t,options:{emailRedirectTo:`${window.location.origin}/partner`,data:{user_type:"partner"}}});if(r)throw r;return e}catch(e){throw console.error(" Partner magic link error:",e),new Error(e.message||"Sihirli link gnderilemedi")}},sendPartnerActivationEmail:async t=>{try{if(!t)throw new Error("Email gerekli");const{data:e,error:r}=await $.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/sifre-olustur`});if(r)throw r;return e}catch(e){throw console.error(" Partner activation email error:",e),new Error(e.message||"Aktivasyon maili gnderilemedi")}},signIn:async(t,e)=>{var r,i,a;try{console.log(" signIn started for:",t);const o=`${td}/auth/v1/token?grant_type=password`,c=Jy;console.log(" Using RAW FETCH to Supabase auth...");const u=Date.now(),d=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",apikey:c,Authorization:`Bearer ${c}`},body:JSON.stringify({email:t,password:e})}),p=Date.now()-u;if(console.log(" Auth response received in",`${p}ms`),!d.ok){const x=await d.json();throw console.error(" Auth failed:",x),(r=x.error_description)!=null&&r.includes("Invalid login credentials")?new Error("Email veya ifre hatal"):(i=x.error_description)!=null&&i.includes("Email not confirmed")?new Error("Email adresinizi dorulamanz gerekiyor. Ltfen mail kutunuzu kontrol edin."):new Error(x.error_description||"Giri baarsz")}const y=await d.json();if(console.log(" Auth successful:",{hasAccessToken:!!y.access_token,hasUser:!!y.user,userId:(a=y.user)==null?void 0:a.id}),!y.user)throw new Error("Kullanc bilgisi alnamad");const m={access_token:y.access_token,refresh_token:y.refresh_token,expires_in:y.expires_in,expires_at:y.expires_at,user:y.user};localStorage.setItem("yolmov-auth-session",JSON.stringify(m)),console.log(" Session saved to localStorage"),await $.auth.setSession({access_token:y.access_token,refresh_token:y.refresh_token}),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"login",session:m}})),console.log(" Checking customer record...");const b=await(await fetch(`${td}/rest/v1/customers?id=eq.${y.user.id}&select=id`,{headers:{apikey:c,Authorization:`Bearer ${y.access_token}`}})).json();if(console.log(" Customer check result:",{count:b==null?void 0:b.length}),!b||b.length===0)throw console.error(" Customer record not found"),new Error("Kayt ileminiz tamamlanmam. Ltfen tekrar kayt olmay deneyin.");return console.log(" signIn successful"),{user:y.user,session:m}}catch(o){throw console.error(" Sign In Error:",o),o}},signInAdmin:async(t,e)=>{var r,i,a,o,c,u;try{console.log(" Admin signIn started for:",t);const d=`${td}/auth/v1/token?grant_type=password`,p=Jy,y=await fetch(d,{method:"POST",headers:{"Content-Type":"application/json",apikey:p,Authorization:`Bearer ${p}`},body:JSON.stringify({email:t,password:e})});if(!y.ok){const b=await y.json();throw(r=b.error_description)!=null&&r.includes("Invalid login credentials")?new Error("Email veya ifre hatal"):(i=b.error_description)!=null&&i.includes("Email not confirmed")?new Error("Email adresinizi dorulamanz gerekiyor. Ltfen mail kutunuzu kontrol edin."):new Error(b.error_description||"Giri baarsz")}const m=await y.json();if(!m.user)throw new Error("Kullanc bilgisi alnamad");const w={access_token:m.access_token,refresh_token:m.refresh_token,expires_in:m.expires_in,expires_at:m.expires_at,user:m.user};localStorage.setItem("yolmov-auth-session",JSON.stringify(w)),await $.auth.setSession({access_token:m.access_token,refresh_token:m.refresh_token}),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"login",session:w}})),console.log(" Admin signIn successful");try{const b=((o=(a=m.user)==null?void 0:a.user_metadata)==null?void 0:o.first_name)||"Admin",x=((u=(c=m.user)==null?void 0:c.user_metadata)==null?void 0:u.last_name)||"User",E=await fetch("/api/bootstrap-admin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e,firstName:b,lastName:x})});E.ok?console.log(" bootstrap-admin ensured admin_users row"):console.warn(" bootstrap-admin failed:",await E.text().catch(()=>""))}catch(b){console.warn("bootstrap-admin call error",b)}return{user:m.user,session:w}}catch(d){throw console.error(" Admin Sign In Error:",d),d}},signOut:async()=>{try{localStorage.removeItem("yolmov-auth-session"),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"logout"}}))}catch(t){re(t,"Sign Out")}},getCurrentUser:async()=>{try{const{data:{user:t},error:e}=await $.auth.getUser();if(e)throw e;return t}catch(t){return console.error(" Get Current User Error:",t),null}},getSession:async()=>{try{const t=localStorage.getItem("yolmov-auth-session");if(!t)return null;const e=JSON.parse(t);return e.expires_at&&new Date(e.expires_at*1e3)<new Date?(console.log(" Session expired, clearing..."),localStorage.removeItem("yolmov-auth-session"),null):e}catch(t){return console.error(" Get Session Error:",t),null}},onAuthStateChange:t=>{const e=async r=>{if(r.key==="yolmov-auth-session"){const i=r.newValue;if(i){const a=JSON.parse(i);t("SIGNED_IN",a)}else t("SIGNED_OUT",null)}};return window.addEventListener("storage",e),{data:{subscription:{unsubscribe:()=>{window.removeEventListener("storage",e)}}}}},getUserRole:async()=>{try{const t=await Kh.getCurrentUser();if(!t)return null;const{data:e}=await $.from("partners").select("status").eq("id",t.id).maybeSingle();if(e)return{type:"partner",status:e.status};const{data:r}=await $.from("customers").select("id").eq("id",t.id).maybeSingle();if(r)return{type:"customer"};try{const{data:i}=await $.from("admin_users").select("role").eq("id",t.id).maybeSingle();if(i)return{type:"admin",role:i.role}}catch{}return null}catch(t){re(t,"Get User Role")}}},E_={getAll:async()=>{try{const{data:t,error:e}=await $.from("customers").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(r=>({id:r.id,firstName:r.first_name,lastName:r.last_name,phone:r.phone,email:r.email,avatarUrl:r.avatar_url,city:r.city,district:r.district,createdAt:r.created_at}))}catch(t){return re(t,"Get All Customers"),[]}},getById:async t=>{try{const{data:e,error:r}=await $.from("customers").select("*").eq("id",t).maybeSingle();if(r)throw r;return e?{id:e.id,firstName:e.first_name,lastName:e.last_name,phone:e.phone,email:e.email,avatarUrl:e.avatar_url,city:e.city,district:e.district,createdAt:e.created_at}:null}catch(e){return re(e,`Get Customer ${t}`),null}},create:async t=>{try{const e={first_name:t.firstName,last_name:t.lastName,phone:t.phone||"",email:t.email||null,avatar_url:t.avatarUrl||null,city:t.city||null,district:t.district||null},{data:r,error:i}=await $.from("customers").insert(e).select().single();if(i)throw i;return{id:r.id,firstName:r.first_name,lastName:r.last_name,phone:r.phone,email:r.email||void 0,avatarUrl:r.avatar_url||void 0,city:r.city||void 0,district:r.district||void 0,createdAt:r.created_at}}catch(e){throw re(e,"Create Customer"),e}},update:async(t,e)=>{try{const r={};e.firstName!==void 0&&(r.first_name=e.firstName),e.lastName!==void 0&&(r.last_name=e.lastName),e.phone!==void 0&&(r.phone=e.phone),e.email!==void 0&&(r.email=e.email),e.avatarUrl!==void 0&&(r.avatar_url=e.avatarUrl),e.city!==void 0&&(r.city=e.city),e.district!==void 0&&(r.district=e.district);const{data:i,error:a}=await $.from("customers").update(r).eq("id",t).select().single();if(a)throw a;return{id:i.id,firstName:i.first_name,lastName:i.last_name,phone:i.phone,email:i.email,avatarUrl:i.avatar_url,city:i.city,district:i.district,createdAt:i.created_at}}catch(r){throw re(r,`Update Customer ${t}`),r}},delete:async t=>{try{const{error:e}=await $.from("customers").delete().eq("id",t);if(e)throw e}catch(e){re(e,`Delete Customer ${t}`)}}},kl={getAll:async()=>{try{const{data:t,error:e}=await $.from("partners").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return re(t,"Get All Partners"),[]}},getActive:async()=>{try{const{data:t,error:e}=await $.from("partners").select("*").eq("status","active").order("rating",{ascending:!1});if(e)throw e;return t||[]}catch(t){return re(t,"Get Active Partners"),[]}},getById:async t=>{try{const{data:e,error:r}=await $.from("partners").select("*").eq("id",t).maybeSingle();if(r)throw r;return e}catch(e){return re(e,`Get Partner ${t}`),null}},update:async(t,e)=>{try{console.log(" [partnersApi.update] Updating partner:",t,e);const r={...e,updated_at:new Date().toISOString()},{data:i,error:a,count:o}=await $.from("partners").update(r).eq("id",t).select();if(console.log(" [partnersApi.update] Result:",{data:i,error:a,count:o}),a)throw console.error(" [partnersApi.update] Error:",a),a;if(!i||i.length===0)throw console.warn(" [partnersApi.update] No rows updated - RLS may be blocking"),new Error("Partner gncellenemedi. Yetki sorunu olabilir.");return console.log(" [partnersApi.update] Success:",i[0]),i[0]}catch(r){throw re(r,`Update Partner ${t}`),r}},approve:async t=>kl.update(t,{status:"active"}),suspend:async t=>kl.update(t,{status:"suspended"}),delete:async t=>{try{const{error:e}=await $.from("partners").delete().eq("id",t);if(e)throw e}catch(e){re(e,`Delete Partner ${t}`)}}},C_={getByCustomerId:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const{data:r,error:i}=await $.from("customer_favorites").select("id, customer_id, partner_id, created_at, partners!partner_id(id, name, phone, rating, city, district, service_types)").eq("customer_id",t).order("created_at",{ascending:!1});if(i)throw i;return(r||[]).map(o=>({id:o.id,customer_id:o.customer_id,partner_id:o.partner_id,created_at:o.created_at,partners:Array.isArray(o.partners)&&o.partners.length>0?o.partners[0]:null}))}catch(e){return re(e,"Get Favorites"),[]}},add:async(t,e)=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const{error:i}=await $.from("customer_favorites").insert({customer_id:t,partner_id:e});if(i)throw i}catch(r){throw re(r,"Add Favorite"),r}},remove:async(t,e)=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const{error:i}=await $.from("customer_favorites").delete().eq("customer_id",t).eq("partner_id",e);if(i)throw i}catch(r){throw re(r,"Remove Favorite"),r}}},T_={getByCustomerId:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const{data:r,error:i}=await $.from("customer_addresses").select("*").eq("customer_id",t).order("created_at",{ascending:!1});if(i)throw i;return(r||[]).map(a=>({id:a.id,customer_id:a.customer_id,label:a.label,type:a.type,address:a.address,city:a.city,district:a.district,created_at:a.created_at}))}catch(e){return re(e,"Get Addresses"),[]}},add:async(t,e)=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const i={customer_id:t,label:e.label,type:e.type,address:e.address,city:e.city,district:e.district},{data:a,error:o}=await $.from("customer_addresses").insert(i).select("*").single();if(o)throw o;return{id:a.id,customer_id:a.customer_id,label:a.label,type:a.type,address:a.address,city:a.city,district:a.district,created_at:a.created_at}}catch(r){throw re(r,"Add Address"),r}},remove:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const{error:r}=await $.from("customer_addresses").delete().eq("id",t);if(r)throw r}catch(e){throw re(e,"Remove Address"),e}}},A_={getByCustomerId:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const{data:r,error:i}=await $.from("notifications").select("*").eq("customer_id",t).order("created_at",{ascending:!1});if(i)throw i;return(r||[]).map(a=>({id:a.id,customerId:a.customer_id,type:a.type,title:a.title,message:a.message,read:a.read,relatedId:a.related_id,relatedType:a.related_type,actionUrl:a.action_url,createdAt:a.created_at,readAt:a.read_at}))}catch(e){throw re(e,"Get Notifications"),e}},getUnreadCount:async t=>{try{if(!await Xe())return 0;const{count:r,error:i}=await $.from("notifications").select("*",{count:"exact",head:!0}).eq("customer_id",t).eq("read",!1);if(i)throw i;return r||0}catch(e){return console.error("Get Unread Count Error:",e),0}},markAsRead:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const{error:r}=await $.from("notifications").update({read:!0}).eq("id",t);if(r)throw r}catch(e){throw re(e,"Mark Notification As Read"),e}},markAllAsRead:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const{error:r}=await $.from("notifications").update({read:!0}).eq("customer_id",t).eq("read",!1);if(r)throw r}catch(e){throw re(e,"Mark All Notifications As Read"),e}},create:async t=>{try{const e={customer_id:t.customerId,type:t.type,title:t.title,message:t.message,read:t.read,related_id:t.relatedId,related_type:t.relatedType,action_url:t.actionUrl},{data:r,error:i}=await $.from("notifications").insert(e).select().single();if(i)throw i;return{id:r.id,customerId:r.customer_id,type:r.type,title:r.title,message:r.message,read:r.read,relatedId:r.related_id,relatedType:r.related_type,actionUrl:r.action_url,createdAt:r.created_at,readAt:r.read_at}}catch(e){throw re(e,"Create Notification"),e}},delete:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const{error:r}=await $.from("notifications").delete().eq("id",t);if(r)throw r}catch(e){throw re(e,"Delete Notification"),e}},deleteAll:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const{error:r}=await $.from("notifications").delete().eq("customer_id",t);if(r)throw r}catch(e){throw re(e,"Delete All Notifications"),e}}},P_={getByCustomerId:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const{data:r,error:i}=await $.from("customer_notification_preferences").select("*").eq("customer_id",t).single();if(i&&i.code!=="PGRST116")throw i;if(r)return{id:r.id,customerId:r.customer_id,emailEnabled:r.email_enabled,pushEnabled:r.push_enabled,orderUpdates:r.order_updates,promotions:r.promotions,newsletter:r.newsletter,createdAt:r.created_at,updatedAt:r.updated_at};const a={customer_id:t,email_enabled:!0,push_enabled:!0,order_updates:!0,promotions:!1,newsletter:!0},{data:o,error:c}=await $.from("customer_notification_preferences").insert(a).select().single();if(c)throw c;return{id:o.id,customerId:o.customer_id,emailEnabled:o.email_enabled,pushEnabled:o.push_enabled,orderUpdates:o.order_updates,promotions:o.promotions,newsletter:o.newsletter,createdAt:o.created_at,updatedAt:o.updated_at}}catch(e){throw re(e,"Get Notification Preferences"),e}},update:async(t,e)=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const i={};e.emailEnabled!==void 0&&(i.email_enabled=e.emailEnabled),e.pushEnabled!==void 0&&(i.push_enabled=e.pushEnabled),e.orderUpdates!==void 0&&(i.order_updates=e.orderUpdates),e.promotions!==void 0&&(i.promotions=e.promotions),e.newsletter!==void 0&&(i.newsletter=e.newsletter);const{data:a,error:o}=await $.from("customer_notification_preferences").update(i).eq("customer_id",t).select().single();if(o)throw o;return{id:a.id,customerId:a.customer_id,emailEnabled:a.email_enabled,pushEnabled:a.push_enabled,orderUpdates:a.order_updates,promotions:a.promotions,newsletter:a.newsletter,createdAt:a.created_at,updatedAt:a.updated_at}}catch(r){throw re(r,"Update Notification Preferences"),r}}},Qy=t=>{const e={};return t.customerId!==void 0&&(e.customer_id=t.customerId),t.customerName!==void 0&&(e.customer_name=t.customerName),t.serviceType!==void 0&&(e.service_type=t.serviceType),t.description!==void 0&&(e.description=t.description),t.fromLocation!==void 0&&(e.from_location=t.fromLocation),t.toLocation!==void 0&&(e.to_location=t.toLocation),t.vehicleInfo!==void 0&&(e.vehicle_info=t.vehicleInfo),t.status!==void 0&&(e.status=t.status),t.amount!==void 0&&(e.amount=t.amount),t.jobStage!==void 0&&(e.job_stage=t.jobStage),t.assignedPartnerId!==void 0&&(e.assigned_partner_id=t.assignedPartnerId),t.assignedPartnerName!==void 0&&(e.assigned_partner_name=t.assignedPartnerName),t.stageUpdatedAt!==void 0&&(e.stage_updated_at=t.stageUpdatedAt),t.vehicleCondition!==void 0&&(e.vehicle_condition=t.vehicleCondition),t.hasLoad!==void 0&&(e.has_load=t.hasLoad),t.loadDescription!==void 0&&(e.load_description=t.loadDescription),t.damagePhotoUrls!==void 0&&(e.damage_photo_urls=t.damagePhotoUrls),t.timing!==void 0&&(e.timing=t.timing),t.customerPhone!==void 0&&(e.customer_phone=t.customerPhone),t.fromCoordinates!==void 0&&(e.from_coordinates=t.fromCoordinates),t.toCoordinates!==void 0&&(e.to_coordinates=t.toCoordinates),t.archived!==void 0&&(e.archived=t.archived),t.archivedAt!==void 0&&(e.archived_at=t.archivedAt),t.start_proof_photo!==void 0&&(e.start_proof_photo=t.start_proof_photo),t.end_proof_photo!==void 0&&(e.end_proof_photo=t.end_proof_photo),e},Cn=t=>({id:t.id,customerId:t.customer_id,customerName:t.customer_name,serviceType:t.service_type,description:t.description,fromLocation:t.from_location,toLocation:t.to_location,vehicleInfo:t.vehicle_info,status:t.status,createdAt:t.created_at,amount:t.amount,jobStage:t.job_stage,assignedPartnerId:t.assigned_partner_id,assignedPartnerName:t.assigned_partner_name,stageUpdatedAt:t.stage_updated_at,vehicleCondition:t.vehicle_condition,hasLoad:t.has_load,loadDescription:t.load_description,damagePhotoUrls:t.damage_photo_urls,timing:t.timing,customerPhone:t.customer_phone,fromCoordinates:t.from_coordinates,toCoordinates:t.to_coordinates,archived:t.archived,archivedAt:t.archived_at}),Xr={getAll:async()=>{try{await Xe();const{data:t,error:e}=await $.from("requests").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(Cn)}catch(t){return re(t,"Get All Requests"),[]}},getByCustomerId:async(t,e=!1)=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");let i=$.from("requests").select("*").eq("customer_id",t);e||(i=i.or("archived.is.null,archived.eq.false"));const{data:a,error:o}=await i.order("created_at",{ascending:!1});if(o)throw o;return(a||[]).map(Cn)}catch(r){return re(r,`Get Requests for Customer ${t}`),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await $.from("requests").select("*").eq("assigned_partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return(e||[]).map(Cn)}catch(e){return re(e,`Get Requests for Partner ${t}`),[]}},getOpen:async()=>{try{const{data:t,error:e}=await $.from("requests").select("*").eq("status","open").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(Cn)}catch(t){return re(t,"Get Open Requests"),[]}},getOpenByServiceAreas:async t=>{try{if(!t||t.length===0)return console.warn(" [getOpenByServiceAreas] No service area cities provided, returning all open requests"),Xr.getOpen();const{data:e,error:r}=await $.from("requests").select("*").eq("status","open").order("created_at",{ascending:!1});if(r)throw r;const i=(e||[]).map(Cn),a=i.filter(o=>{if(!o.fromLocation)return!1;const c=o.fromLocation.toLowerCase().replace(//g,"i").replace(//g,"g").replace(//g,"u").replace(//g,"s").replace(//g,"o").replace(//g,"c");return t.some(u=>{const d=u.toLowerCase().replace(//g,"i").replace(//g,"g").replace(//g,"u").replace(//g,"s").replace(//g,"o").replace(//g,"c");return c.includes(d)})});return console.log(` [getOpenByServiceAreas] Filtered ${i.length}  ${a.length} requests for cities:`,t),a}catch(e){return re(e,"Get Open Requests by Service Areas"),[]}},getById:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const{data:r,error:i}=await $.from("requests").select("*").eq("id",t).single();if(i)throw i;return r?Cn(r):null}catch(e){return re(e,`Get Request ${t}`),null}},create:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const r=Qy(t),{data:i,error:a}=await $.from("requests").insert(r).select().single();if(a)throw a;return Cn(i)}catch(e){throw re(e,"Create Request"),e}},update:async(t,e)=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");const i=Qy(e),{data:a,error:o}=await $.from("requests").update(i).eq("id",t).select().single();if(o)throw o;return Cn(a)}catch(r){throw re(r,`Update Request ${t}`),r}},updateStatus:async(t,e)=>Xr.update(t,{status:e}),updateJobStage:async(t,e,r,i)=>Xr.update(t,{jobStage:e,assignedPartnerId:r,assignedPartnerName:i,stageUpdatedAt:new Date().toISOString()}),assignPartner:async(t,e,r)=>Xr.update(t,{assignedPartnerId:e,assignedPartnerName:r,status:"matched",jobStage:0,stageUpdatedAt:new Date().toISOString()}),delete:async t=>{try{await Xe();const{error:e}=await $.from("requests").delete().eq("id",t);if(e)throw e}catch(e){throw re(e,`Delete Request ${t}`),e}},archive:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");return Xr.update(t,{archived:!0,archivedAt:new Date().toISOString()})}catch(e){throw re(e,`Archive Request ${t}`),e}},unarchive:async t=>{try{if(!await Xe())throw new Error("Session expired. Please login again.");return Xr.update(t,{archived:!1,archivedAt:void 0})}catch(e){throw re(e,`Unarchive Request ${t}`),e}}},Hs=t=>({id:t.id,requestId:t.request_id,partnerId:t.partner_id,partnerName:t.partner_name,price:t.price,etaMinutes:t.eta_minutes,message:t.message,status:t.status,createdAt:t.created_at}),El={getAll:async()=>{try{const{data:t,error:e}=await $.from("offers").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(Hs)}catch(t){return re(t,"Get All Offers"),[]}},getByRequestId:async t=>{try{const{data:e,error:r}=await $.from("offers").select("*").eq("request_id",t).order("price",{ascending:!0});if(r)throw r;return(e||[]).map(Hs)}catch(e){return re(e,`Get Offers for Request ${t}`),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await $.from("offers").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return(e||[]).map(Hs)}catch(e){return re(e,`Get Offers for Partner ${t}`),[]}},create:async t=>{try{const e={request_id:t.requestId,partner_id:t.partnerId,partner_name:t.partnerName,price:t.price,eta_minutes:t.etaMinutes,message:t.message,status:t.status},{data:r,error:i}=await $.from("offers").insert(e).select().single();if(i)throw i;return Hs(r)}catch(e){throw re(e,"Create Offer"),e}},update:async(t,e)=>{try{const r={};e.requestId!==void 0&&(r.request_id=e.requestId),e.partnerId!==void 0&&(r.partner_id=e.partnerId),e.partnerName!==void 0&&(r.partner_name=e.partnerName),e.price!==void 0&&(r.price=e.price),e.etaMinutes!==void 0&&(r.eta_minutes=e.etaMinutes),e.message!==void 0&&(r.message=e.message),e.status!==void 0&&(r.status=e.status);const{data:i,error:a}=await $.from("offers").update(r).eq("id",t).select().single();if(a)throw a;return Hs(i)}catch(r){throw re(r,`Update Offer ${t}`),r}},accept:async t=>{try{const e=await El.update(t,{status:"accepted"}),{error:r}=await $.from("offers").update({status:"rejected"}).eq("request_id",e.requestId).neq("id",t);if(r)throw r;return await Xr.assignPartner(e.requestId,e.partnerId,e.partnerName||"Partner"),e}catch(e){throw re(e,`Accept Offer ${t}`),e}},reject:async t=>El.update(t,{status:"rejected"}),delete:async t=>{try{const{error:e}=await $.from("offers").delete().eq("id",t);if(e)throw e}catch(e){re(e,`Delete Offer ${t}`)}}},Gs=t=>({id:t.id,requestId:t.request_id,partnerId:t.partner_id,partnerName:t.partner_name,customerId:t.customer_id,customerName:t.customer_name,customerPhone:t.customer_phone,serviceType:t.service_type,startLocation:t.start_location,endLocation:t.end_location,distance:t.distance,startTime:t.start_time,completionTime:t.completion_time,duration:t.duration,totalAmount:t.total_amount,commission:t.commission,partnerEarning:t.partner_earning,paymentMethod:t.payment_method,rating:t.rating,vehicleType:t.vehicle_type,vehiclePlate:t.vehicle_plate,status:t.status}),j_={getAll:async()=>{try{const{data:t,error:e}=await $.from("completed_jobs").select("*").order("completion_time",{ascending:!1});if(e)throw e;return(t||[]).map(Gs)}catch(t){return re(t,"Get All Completed Jobs"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await $.from("completed_jobs").select("*").eq("partner_id",t).order("completion_time",{ascending:!1});if(r)throw r;return(e||[]).map(Gs)}catch(e){return re(e,`Get Completed Jobs for Partner ${t}`),[]}},getByCustomerId:async t=>{try{const{data:e,error:r}=await $.from("completed_jobs").select("*").eq("customer_id",t).order("completion_time",{ascending:!1});if(r)throw r;return(e||[]).map(Gs)}catch(e){return re(e,`Get Completed Jobs for Customer ${t}`),[]}},create:async t=>{try{const e={request_id:t.requestId,partner_id:t.partnerId,partner_name:t.partnerName,customer_id:t.customerId,customer_name:t.customerName,customer_phone:t.customerPhone,service_type:t.serviceType,start_location:t.startLocation,end_location:t.endLocation,distance:t.distance,start_time:t.startTime,completion_time:t.completionTime,duration:t.duration,total_amount:t.totalAmount,commission:t.commission,partner_earning:t.partnerEarning,payment_method:t.paymentMethod,rating:t.rating,vehicle_type:t.vehicleType,vehicle_plate:t.vehiclePlate,status:t.status},{data:r,error:i}=await $.from("completed_jobs").insert(e).select().single();if(i)throw i;return Gs(r)}catch(e){throw re(e,"Create Completed Job"),e}},update:async(t,e)=>{try{const r={};e.requestId!==void 0&&(r.request_id=e.requestId),e.partnerId!==void 0&&(r.partner_id=e.partnerId),e.partnerName!==void 0&&(r.partner_name=e.partnerName),e.customerId!==void 0&&(r.customer_id=e.customerId),e.customerName!==void 0&&(r.customer_name=e.customerName),e.customerPhone!==void 0&&(r.customer_phone=e.customerPhone),e.serviceType!==void 0&&(r.service_type=e.serviceType),e.startLocation!==void 0&&(r.start_location=e.startLocation),e.endLocation!==void 0&&(r.end_location=e.endLocation),e.distance!==void 0&&(r.distance=e.distance),e.startTime!==void 0&&(r.start_time=e.startTime),e.completionTime!==void 0&&(r.completion_time=e.completionTime),e.duration!==void 0&&(r.duration=e.duration),e.totalAmount!==void 0&&(r.total_amount=e.totalAmount),e.commission!==void 0&&(r.commission=e.commission),e.partnerEarning!==void 0&&(r.partner_earning=e.partnerEarning),e.paymentMethod!==void 0&&(r.payment_method=e.paymentMethod),e.rating!==void 0&&(r.rating=e.rating),e.vehicleType!==void 0&&(r.vehicle_type=e.vehicleType),e.vehiclePlate!==void 0&&(r.vehicle_plate=e.vehiclePlate),e.status!==void 0&&(r.status=e.status);const{data:i,error:a}=await $.from("completed_jobs").update(r).eq("id",t).select().single();if(a)throw a;return Gs(i)}catch(r){throw re(r,`Update Completed Job ${t}`),r}}},R_={getAll:async()=>{try{const{data:t,error:e}=await $.from("partner_reviews").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(r=>({id:r.id,jobId:r.job_id,partnerId:r.partner_id,partnerName:r.partner_name,customerId:r.customer_id,customerName:r.customer_name,service:r.service,rating:r.rating,comment:r.comment,tags:r.tags||[],date:r.created_at}))}catch(t){return re(t,"Get All Partner Reviews"),[]}},getById:async t=>{try{const{data:e,error:r}=await $.from("partner_reviews").select("*").eq("id",t).single();if(r)throw r;return e?{id:e.id,jobId:e.job_id,partnerId:e.partner_id,partnerName:e.partner_name,customerId:e.customer_id,customerName:e.customer_name,service:e.service,rating:e.rating,comment:e.comment,tags:e.tags||[],date:e.created_at}:null}catch(e){return re(e,`Get Review ${t}`),null}},getByPartnerId:async t=>{try{const{data:e,error:r}=await $.from("partner_reviews").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return(e||[]).map(i=>({id:i.id,jobId:i.job_id,partnerId:i.partner_id,partnerName:i.partner_name,customerId:i.customer_id,customerName:i.customer_name,service:i.service,rating:i.rating,comment:i.comment,tags:i.tags||[],date:i.created_at}))}catch(e){return re(e,`Get Reviews for Partner ${t}`),[]}},create:async t=>{try{const e={job_id:t.jobId,partner_id:t.partnerId,partner_name:t.partnerName,customer_id:t.customerId,customer_name:t.customerName,service:t.service,rating:t.rating,comment:t.comment,tags:t.tags},{data:r,error:i}=await $.from("partner_reviews").insert(e).select().single();if(i)throw i;return r}catch(e){throw re(e,"Create Partner Review"),e}},delete:async t=>{try{const{error:e}=await $.from("partner_reviews").delete().eq("id",t);if(e)throw e}catch(e){re(e,`Delete Review ${t}`)}}},Xy=t=>({id:t.id,partnerId:t.partner_id,partnerName:t.partner_name,type:t.type,fileName:t.file_name,fileUrl:t.file_url,fileSize:t.file_size,status:t.status,uploadDate:t.upload_date,expiryDate:t.expiry_date,rejectionReason:t.rejection_reason,reviewedBy:t.reviewed_by,reviewedAt:t.reviewed_at}),ga={getAll:async()=>{try{const{data:t,error:e}=await $.from("partner_documents").select("*").order("upload_date",{ascending:!1});if(e)throw e;return(t||[]).map(Xy)}catch(t){return re(t,"Get All Partner Documents"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await $.from("partner_documents").select("*").eq("partner_id",t).order("upload_date",{ascending:!1});if(r)throw r;return(e||[]).map(Xy)}catch(e){return re(e,`Get Documents for Partner ${t}`),[]}},create:async t=>{try{const e={partner_id:t.partnerId,partner_name:t.partnerName,type:t.type,file_name:t.fileName,file_url:t.fileData||t.fileUrl,file_size:typeof t.fileSize=="number"?`${(t.fileSize/1024).toFixed(1)} KB`:t.fileSize,status:t.status||"pending",expiry_date:t.expiryDate},{data:r,error:i}=await $.from("partner_documents").insert(e).select().single();if(i)throw i;return r}catch(e){throw re(e,"Create Partner Document"),e}},update:async(t,e)=>{try{const r={};e.status&&(r.status=e.status),e.reviewedBy&&(r.reviewed_by=e.reviewedBy),e.reviewedAt&&(r.reviewed_at=e.reviewedAt),e.rejectionReason&&(r.rejection_reason=e.rejectionReason),e.fileName&&(r.file_name=e.fileName),e.fileUrl&&(r.file_url=e.fileUrl),e.expiryDate&&(r.expiry_date=e.expiryDate);const{data:i,error:a}=await $.from("partner_documents").update(r).eq("id",t).select().single();if(a)throw a;return i}catch(r){throw re(r,`Update Document ${t}`),r}},approve:async(t,e)=>ga.update(t,{status:"approved",reviewedBy:e,reviewedAt:new Date().toISOString()}),reject:async(t,e,r)=>ga.update(t,{status:"rejected",reviewedBy:e,reviewedAt:new Date().toISOString(),rejectionReason:r}),uploadFile:async(t,e,r)=>{try{const i=`${t}/${r}/${Date.now()}_${e.name}`,{data:a,error:o}=await $.storage.from("partner-documents").upload(i,e);if(o)throw o;const{data:{publicUrl:c}}=$.storage.from("partner-documents").getPublicUrl(i);return c}catch(i){throw re(i,"Upload Partner Document"),i}}},Wh={getAll:async()=>{try{const{data:t,error:e}=await $.from("support_tickets").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return re(t,"Get All Support Tickets"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await $.from("support_tickets").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(e){return re(e,`Get Tickets for Partner ${t}`),[]}},create:async t=>{try{const{data:e,error:r}=await $.from("support_tickets").insert(t).select().single();if(r)throw r;return e}catch(e){throw re(e,"Create Support Ticket"),e}},update:async(t,e)=>{try{const{data:r,error:i}=await $.from("support_tickets").update(e).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw re(r,`Update Ticket ${t}`),r}},resolve:async(t,e,r)=>Wh.update(t,{status:"resolved",resolution:e,assignedTo:r})},O_={getAll:async()=>{try{const{data:t,error:e}=await $.from("partner_vehicles").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return re(t,"Get All Partner Vehicles"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await $.from("partner_vehicles").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(e){return re(e,`Get Vehicles for Partner ${t}`),[]}},create:async t=>{try{const{data:e,error:r}=await $.from("partner_vehicles").insert(t).select().single();if(r)throw r;return e}catch(e){throw re(e,"Create Partner Vehicle"),e}},update:async(t,e)=>{try{const{data:r,error:i}=await $.from("partner_vehicles").update(e).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw re(r,`Update Vehicle ${t}`),r}},delete:async t=>{try{const{error:e}=await $.from("partner_vehicles").delete().eq("id",t);if(e)throw e}catch(e){re(e,`Delete Vehicle ${t}`)}},getVehicleStats:async(t,e)=>{try{const{data:r,error:i}=await $.from("completed_jobs").select("id, rating, partner_earning, completion_time").eq("vehicle_plate",t).eq("partner_id",e);if(i)throw i;const a=(r==null?void 0:r.length)||0,o=new Date;o.setDate(o.getDate()-30);const c=(r==null?void 0:r.filter(y=>new Date(y.completion_time)>=o).length)||0,u=(r==null?void 0:r.filter(y=>y.rating).map(y=>y.rating))||[],d=u.length>0?u.reduce((y,m)=>y+m,0)/u.length:0,p=(r==null?void 0:r.reduce((y,m)=>y+(m.partner_earning||0),0))||0;return{totalJobs:a,monthlyJobs:c,averageRating:Number(d.toFixed(1)),totalEarnings:Number(p.toFixed(2))}}catch(r){return re(r,`Get Vehicle Stats for ${t}`),{totalJobs:0,monthlyJobs:0,averageRating:0,totalEarnings:0}}}},aa={getAll:async()=>{try{const{data:t,error:e}=await $.from("partner_credits").select("*").order("balance",{ascending:!1});if(e)throw e;return(t||[]).map(r=>({partnerId:r.partner_id,partnerName:r.partner_name,balance:r.balance||0,totalPurchased:r.total_purchased||0,totalUsed:r.total_used||0,lastTransaction:r.last_updated||r.updated_at||""}))}catch(t){return re(t,"Get All Partner Credits"),[]}},getAllTransactions:async()=>{try{const{data:t,error:e}=await $.from("credit_transactions").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).map(r=>({id:r.id,partnerId:r.partner_id,partnerName:r.partner_name,type:r.type,amount:r.amount,balanceBefore:r.balance_before,balanceAfter:r.balance_after,description:r.description,date:r.created_at,requestId:r.request_id,adminUser:r.admin_user}))}catch(t){return re(t,"Get All Credit Transactions"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await $.from("partner_credits").select("*").eq("partner_id",t).maybeSingle();if(r)throw r;return e}catch(e){return re(e,`Get Credits for Partner ${t}`),null}},addCredits:async(t,e,r,i)=>{try{const a=await aa.getByPartnerId(t),o=(a==null?void 0:a.balance)||0,c=o+r,{data:u,error:d}=await $.from("credit_transactions").insert({partner_id:t,partner_name:e,type:"purchase",amount:r,balance_before:o,balance_after:c,description:i}).select().single();if(d)throw d;return u}catch(a){throw re(a,"Add Partner Credits"),a}},useCredits:async(t,e,r,i,a)=>{try{const o=await aa.getByPartnerId(t),c=(o==null?void 0:o.balance)||0;if(c<r)throw new Error("Yetersiz kredi bakiyesi");const u=c-r,{data:d,error:p}=await $.from("credit_transactions").insert({partner_id:t,partner_name:e,type:"usage",amount:-r,balance_before:c,balance_after:u,description:i,request_id:a}).select().single();if(p)throw p;return d}catch(o){throw re(o,"Use Partner Credits"),o}},getTransactions:async t=>{try{const{data:e,error:r}=await $.from("credit_transactions").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(e){return re(e,`Get Transactions for Partner ${t}`),[]}},adjustCredits:async(t,e,r,i,a)=>{try{const o=await aa.getByPartnerId(t),c=(o==null?void 0:o.balance)||0,u=c+r;if(u<0)throw new Error("Bakiye negatif olamaz");const{error:d}=await $.from("partner_credits").upsert({partner_id:t,partner_name:e,balance:u,total_purchased:((o==null?void 0:o.total_purchased)||0)+(r>0?r:0),total_used:((o==null?void 0:o.total_used)||0)+(r<0?Math.abs(r):0),updated_at:new Date().toISOString()},{onConflict:"partner_id"});if(d)throw d;const{data:p,error:y}=await $.from("credit_transactions").insert({partner_id:t,partner_name:e,type:"adjustment",amount:r,balance_before:c,balance_after:u,description:`Admin tarafndan ${r>0?"eklendi":"drld"}: ${i}`}).select().single();if(y)throw y;return{transaction:{id:p.id,partnerId:p.partner_id,partnerName:p.partner_name,type:p.type,amount:p.amount,balanceBefore:p.balance_before,balanceAfter:p.balance_after,description:p.description,date:p.created_at,adminUser:p.admin_user},newBalance:u}}catch(o){throw re(o,"Adjust Partner Credits"),o}}},N_={getAll:async()=>{try{const{data:t,error:e}=await $.from("empty_truck_routes").select("*").eq("status","active").order("departure_date",{ascending:!0});if(e)throw e;return t||[]}catch(t){return re(t,"Get All Empty Truck Routes"),[]}},getByPartnerId:async t=>{try{const{data:e,error:r}=await $.from("empty_truck_routes").select("*").eq("partner_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(e){return re(e,`Get Routes for Partner ${t}`),[]}},create:async t=>{try{const{data:e,error:r}=await $.from("empty_truck_routes").insert(t).select().single();if(r)throw r;return e}catch(e){throw re(e,"Create Empty Truck Route"),e}},update:async(t,e)=>{try{const{data:r,error:i}=await $.from("empty_truck_routes").update(e).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw re(r,`Update Route ${t}`),r}},delete:async t=>{try{const{error:e}=await $.from("empty_truck_routes").delete().eq("id",t);if(e)throw e}catch(e){re(e,`Delete Route ${t}`)}}},I_={getAll:async()=>{try{const{data:t,error:e}=await $.from("admin_users").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return re(t,"Get All Admin Users"),[]}},create:async t=>{try{const{data:e,error:r}=await $.from("admin_users").insert(t).select().single();if(r)throw r;return e}catch(e){throw re(e,"Create Admin User"),e}},update:async(t,e)=>{try{const{data:r,error:i}=await $.from("admin_users").update(e).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw re(r,`Update Admin User ${t}`),r}},delete:async t=>{try{const{error:e}=await $.from("admin_users").delete().eq("id",t);if(e)throw e}catch(e){re(e,`Delete Admin User ${t}`)}}},D_={create:async t=>{try{const{data:e,error:r}=await $.from("system_logs").insert(t).select().single();if(r)throw r;return e}catch(e){throw re(e,"Create System Log"),e}},getAll:async(t=100)=>{try{const{data:e,error:r}=await $.from("system_logs").select("*").order("created_at",{ascending:!1}).limit(t);if(r)throw r;return e||[]}catch(e){return re(e,"Get System Logs"),[]}},getByEntity:async(t,e)=>{try{const{data:r,error:i}=await $.from("system_logs").select("*").eq("entity",t).eq("entity_id",e).order("created_at",{ascending:!1});if(i)throw i;return r||[]}catch(r){return re(r,`Get Logs for ${t} ${e}`),[]}}},L_={subscribeToRequests:t=>$.channel("requests-changes").on("postgres_changes",{event:"*",schema:"public",table:"requests"},t).subscribe(),subscribeToOffers:(t,e)=>$.channel(`offers-${t}`).on("postgres_changes",{event:"*",schema:"public",table:"offers",filter:`request_id=eq.${t}`},e).subscribe(),subscribeToJobStages:(t,e)=>$.channel(`job-stages-${t}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"requests",filter:`id=eq.${t}`},e).subscribe(),unsubscribe:t=>{$.removeChannel(t)}},M_={getPartnerStats:async()=>{try{const{data:t,error:e}=await $.from("partner_stats").select("*");if(e)throw e;return t}catch(t){return re(t,"Get Partner Stats"),[]}},getCustomerStats:async()=>{try{const{data:t,error:e}=await $.from("customer_stats").select("*");if(e)throw e;return t}catch(t){return re(t,"Get Customer Stats"),[]}},getDailyStats:async(t=30)=>{try{const{data:e,error:r}=await $.from("daily_stats").select("*").limit(t);if(r)throw r;return e}catch(e){return re(e,"Get Daily Stats"),[]}}},Hh={getByPartnerId:async t=>{try{const{data:e,error:r}=await $.from("partner_service_areas").select("*").eq("partner_id",t).order("is_primary",{ascending:!1}).order("city",{ascending:!0});if(r)throw r;return(e||[]).map(i=>({id:i.id,partnerId:i.partner_id,city:i.city,districts:i.districts,isPrimary:i.is_primary,priceMultiplier:i.price_multiplier,isActive:i.is_active,notes:i.notes,createdAt:i.created_at,updatedAt:i.updated_at}))}catch(e){return re(e,"Get Service Areas by Partner"),[]}},getPartnersByCity:async t=>{try{const{data:e,error:r}=await $.from("partner_service_areas").select(`
          *,
          partners!inner (
            id, name, company_name, phone, email, rating, status, city, district, service_types, profile_photo_url, logo_url
          )
        `).eq("city",t).eq("is_active",!0).eq("partners.status","active").order("is_primary",{ascending:!1});if(r)throw r;return e||[]}catch(e){return re(e,`Get Partners by City: ${t}`),[]}},create:async t=>{try{const{data:e,error:r}=await $.from("partner_service_areas").insert({partner_id:t.partnerId,city:t.city,districts:t.districts||null,is_primary:t.isPrimary||!1,price_multiplier:t.priceMultiplier||1,notes:t.notes||null,is_active:!0}).select().single();if(r)throw r;return{id:e.id,partnerId:e.partner_id,city:e.city,districts:e.districts,isPrimary:e.is_primary,priceMultiplier:e.price_multiplier,isActive:e.is_active,notes:e.notes,createdAt:e.created_at,updatedAt:e.updated_at}}catch(e){throw re(e,"Create Service Area"),e}},update:async(t,e)=>{try{const r={};e.districts!==void 0&&(r.districts=e.districts),e.isPrimary!==void 0&&(r.is_primary=e.isPrimary),e.priceMultiplier!==void 0&&(r.price_multiplier=e.priceMultiplier),e.isActive!==void 0&&(r.is_active=e.isActive),e.notes!==void 0&&(r.notes=e.notes);const{data:i,error:a}=await $.from("partner_service_areas").update(r).eq("id",t).select().single();if(a)throw a;return{id:i.id,partnerId:i.partner_id,city:i.city,districts:i.districts,isPrimary:i.is_primary,priceMultiplier:i.price_multiplier,isActive:i.is_active,notes:i.notes,createdAt:i.created_at,updatedAt:i.updated_at}}catch(r){throw re(r,`Update Service Area ${t}`),r}},delete:async t=>{try{const{error:e}=await $.from("partner_service_areas").delete().eq("id",t);if(e)throw e}catch(e){throw re(e,`Delete Service Area ${t}`),e}},setPrimary:async(t,e)=>{try{await $.from("partner_service_areas").update({is_primary:!1}).eq("partner_id",t);const{error:r}=await $.from("partner_service_areas").update({is_primary:!0}).eq("id",e);if(r)throw r}catch(r){throw re(r,"Set Primary Service Area"),r}}},Gh={getByPartnerId:async t=>{try{const{data:e,error:r}=await $.from("vehicle_return_routes").select("*").eq("partner_id",t).order("departure_date",{ascending:!0});if(r)throw r;return(e||[]).map(i=>({id:i.id,partnerId:i.partner_id,vehicleId:i.vehicle_id,originCity:i.origin_city,destinationCity:i.destination_city,routeCities:i.route_cities,departureDate:i.departure_date,departureTime:i.departure_time,estimatedArrival:i.estimated_arrival,vehicleType:i.vehicle_type,vehiclePlate:i.vehicle_plate,driverName:i.driver_name,driverPhone:i.driver_phone,availableCapacity:i.available_capacity,pricePerKm:i.price_per_km,discountPercent:i.discount_percent,minPrice:i.min_price,status:i.status,notes:i.notes,createdAt:i.created_at,updatedAt:i.updated_at}))}catch(e){return re(e,"Get Return Routes by Partner"),[]}},getActiveByPartnerId:async t=>{try{const e=new Date().toISOString().split("T")[0],{data:r,error:i}=await $.from("vehicle_return_routes").select("*").eq("partner_id",t).eq("status","active").gte("departure_date",e).order("departure_date",{ascending:!0});if(i)throw i;return(r||[]).map(a=>({id:a.id,partnerId:a.partner_id,vehicleId:a.vehicle_id,originCity:a.origin_city,destinationCity:a.destination_city,routeCities:a.route_cities,departureDate:a.departure_date,departureTime:a.departure_time,estimatedArrival:a.estimated_arrival,vehicleType:a.vehicle_type,vehiclePlate:a.vehicle_plate,driverName:a.driver_name,driverPhone:a.driver_phone,availableCapacity:a.available_capacity,pricePerKm:a.price_per_km,discountPercent:a.discount_percent,minPrice:a.min_price,status:a.status,notes:a.notes,createdAt:a.created_at,updatedAt:a.updated_at}))}catch(e){return re(e,"Get Active Return Routes by Partner"),[]}},getByCity:async t=>{try{const e=new Date().toISOString().split("T")[0],{data:r,error:i}=await $.from("vehicle_return_routes").select(`
          *,
          partners!inner (
            id, name, company_name, phone, email, rating, status, profile_photo_url, logo_url
          )
        `).contains("route_cities",[t]).eq("status","active").gte("departure_date",e).eq("partners.status","active").order("departure_date",{ascending:!0});if(i)throw i;return(r||[]).map(a=>{var o,c,u,d,p;return{id:a.id,partnerId:a.partner_id,partnerName:(o=a.partners)==null?void 0:o.name,companyName:(c=a.partners)==null?void 0:c.company_name,partnerRating:(u=a.partners)==null?void 0:u.rating,profilePhotoUrl:(d=a.partners)==null?void 0:d.profile_photo_url,logoUrl:(p=a.partners)==null?void 0:p.logo_url,vehicleId:a.vehicle_id,originCity:a.origin_city,destinationCity:a.destination_city,routeCities:a.route_cities,departureDate:a.departure_date,departureTime:a.departure_time,vehicleType:a.vehicle_type,vehiclePlate:a.vehicle_plate,discountPercent:a.discount_percent,availableCapacity:a.available_capacity,status:a.status,createdAt:a.created_at}})}catch(e){return re(e,`Get Return Routes by City: ${t}`),[]}},create:async t=>{try{const{data:e,error:r}=await $.from("vehicle_return_routes").insert({partner_id:t.partnerId,vehicle_id:t.vehicleId||null,origin_city:t.originCity,destination_city:t.destinationCity,route_cities:t.routeCities,departure_date:t.departureDate,departure_time:t.departureTime||null,estimated_arrival:t.estimatedArrival||null,vehicle_type:t.vehicleType,vehicle_plate:t.vehiclePlate,driver_name:t.driverName||null,driver_phone:t.driverPhone||null,available_capacity:t.availableCapacity||null,price_per_km:t.pricePerKm||null,discount_percent:t.discountPercent||0,min_price:t.minPrice||null,notes:t.notes||null,status:"active"}).select().single();if(r)throw r;return{id:e.id,partnerId:e.partner_id,vehicleId:e.vehicle_id,originCity:e.origin_city,destinationCity:e.destination_city,routeCities:e.route_cities,departureDate:e.departure_date,departureTime:e.departure_time,estimatedArrival:e.estimated_arrival,vehicleType:e.vehicle_type,vehiclePlate:e.vehicle_plate,driverName:e.driver_name,driverPhone:e.driver_phone,availableCapacity:e.available_capacity,pricePerKm:e.price_per_km,discountPercent:e.discount_percent,minPrice:e.min_price,status:e.status,notes:e.notes,createdAt:e.created_at,updatedAt:e.updated_at}}catch(e){throw re(e,"Create Return Route"),e}},update:async(t,e)=>{try{const r={};e.originCity!==void 0&&(r.origin_city=e.originCity),e.destinationCity!==void 0&&(r.destination_city=e.destinationCity),e.routeCities!==void 0&&(r.route_cities=e.routeCities),e.departureDate!==void 0&&(r.departure_date=e.departureDate),e.departureTime!==void 0&&(r.departure_time=e.departureTime),e.estimatedArrival!==void 0&&(r.estimated_arrival=e.estimatedArrival),e.vehicleType!==void 0&&(r.vehicle_type=e.vehicleType),e.vehiclePlate!==void 0&&(r.vehicle_plate=e.vehiclePlate),e.driverName!==void 0&&(r.driver_name=e.driverName),e.driverPhone!==void 0&&(r.driver_phone=e.driverPhone),e.availableCapacity!==void 0&&(r.available_capacity=e.availableCapacity),e.pricePerKm!==void 0&&(r.price_per_km=e.pricePerKm),e.discountPercent!==void 0&&(r.discount_percent=e.discountPercent),e.minPrice!==void 0&&(r.min_price=e.minPrice),e.status!==void 0&&(r.status=e.status),e.notes!==void 0&&(r.notes=e.notes);const{error:i}=await $.from("vehicle_return_routes").update(r).eq("id",t);if(i)throw i}catch(r){throw re(r,`Update Return Route ${t}`),r}},delete:async t=>{try{const{error:e}=await $.from("vehicle_return_routes").delete().eq("id",t);if(e)throw e}catch(e){throw re(e,`Delete Return Route ${t}`),e}},cancel:async t=>{try{const{error:e}=await $.from("vehicle_return_routes").update({status:"cancelled"}).eq("id",t);if(e)throw e}catch(e){throw re(e,`Cancel Return Route ${t}`),e}},complete:async t=>{try{const{error:e}=await $.from("vehicle_return_routes").update({status:"completed"}).eq("id",t);if(e)throw e}catch(e){throw re(e,`Complete Return Route ${t}`),e}}},z_={getAvailablePartners:async t=>{try{const e=await Hh.getPartnersByCity(t),r=await Gh.getByCity(t),i=new Set,a=[];for(const o of e){const c=o.partners;c&&!i.has(c.id)&&(i.add(c.id),a.push({partnerId:c.id,partnerName:c.name,companyName:c.company_name,partnerRating:c.rating,partnerPhone:c.phone,partnerEmail:c.email,serviceTypes:c.service_types,profilePhotoUrl:c.profile_photo_url,logoUrl:c.logo_url,city:c.city,district:c.district,source:"service_area",isPrimaryArea:o.is_primary,priceMultiplier:o.price_multiplier,routeId:null,discountPercent:null,departureDate:null}))}for(const o of r)i.has(o.partnerId)||(i.add(o.partnerId),a.push({partnerId:o.partnerId,partnerName:o.partnerName,companyName:o.companyName,partnerRating:o.partnerRating,profilePhotoUrl:o.profilePhotoUrl,logoUrl:o.logoUrl,source:"return_route",isPrimaryArea:!1,priceMultiplier:1,routeId:o.id,discountPercent:o.discountPercent,departureDate:o.departureDate,vehicleType:o.vehicleType,vehiclePlate:o.vehiclePlate,originCity:o.originCity,destinationCity:o.destinationCity}));return a.sort((o,c)=>(c.partnerRating||0)-(o.partnerRating||0)),a}catch(e){return re(e,`Get Available Partners for City: ${t}`),[]}}},U_={getShowcaseData:async t=>{try{const{data:e,error:r}=await $.from("partners").select(`
          id, name, company_name, email, phone, rating, completed_jobs, status,
          city, district, logo_url, profile_photo_url,
          showcase_description, showcase_working_hours, showcase_payment_methods,
          showcase_is_24_7, showcase_satisfaction_rate, showcase_response_time, showcase_total_reviews
        `).eq("id",t).single();if(r)throw r;if(!e)throw new Error("Partner not found");const{data:i}=await $.from("partner_vehicles").select(`
          id, partner_id, brand, model, model_name, year, type, vehicle_type, plate_number,
          image_url, front_photo_url, side_photo_url, back_photo_url, status,
          showcase_capacity, showcase_insurance_type, showcase_equipment, showcase_description, is_showcase_vehicle
        `).eq("partner_id",t),a=(i||[]).map(d=>({...d,plate:d.plate_number,partnerId:d.partner_id})),{data:o}=await $.from("partner_reviews").select("id, customer_id, rating, comment, created_at").eq("partner_id",t).order("created_at",{ascending:!1}).limit(5),{count:c}=await $.from("partner_reviews").select("id",{count:"exact",head:!0}).eq("partner_id",t),u=await Promise.all((o||[]).map(async d=>{const{data:p}=await $.from("customers").select("first_name, last_name").eq("id",d.customer_id).single(),y=p?`${p.first_name||""} ${(p.last_name||"").charAt(0)}.`:"Anonim";return{id:d.id,customer_name:y,rating:d.rating,comment:d.comment,created_at:d.created_at}}));return{partner:e,vehicles:a,showcaseVehicle:a.find(d=>d.is_showcase_vehicle)||a[0]||null,reviews:u,totalReviews:c||0}}catch(e){return re(e,`Get Showcase Data for Partner: ${t}`),null}},updateShowcase:async(t,e)=>{try{await Xe();const{data:r,error:i}=await $.from("partners").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(i)throw i;return r}catch(r){return re(r,`Update Showcase for Partner: ${t}`),null}},updateVehicleShowcase:async(t,e)=>{try{await Xe();const{data:r,error:i}=await $.from("partner_vehicles").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(i)throw i;return r}catch(r){return re(r,`Update Vehicle Showcase: ${t}`),null}},setShowcaseVehicle:async(t,e)=>{try{await Xe(),await $.from("partner_vehicles").update({is_showcase_vehicle:!1}).eq("partner_id",t);const{data:r,error:i}=await $.from("partner_vehicles").update({is_showcase_vehicle:!0}).eq("id",e).select().single();if(i)throw i;return r}catch(r){return re(r,`Set Showcase Vehicle: ${e}`),null}}},Er={auth:Kh,customers:E_,partners:kl,requests:Xr,offers:El,completedJobs:j_,partnerReviews:R_,partnerDocuments:ga,supportTickets:Wh,partnerVehicles:O_,partnerCredits:aa,emptyTruckRoutes:N_,adminUsers:I_,systemLogs:D_,realtime:L_,analytics:M_,favorites:C_,addresses:T_,notifications:A_,notificationPreferences:P_,documents:ga,serviceAreas:Hh,returnRoutes:Gh,partnerSearch:z_,partnerShowcase:U_,storage:{uploadCustomerPhoto:async(t,e)=>{try{await Xe();const r=t.name.replace(/[^a-zA-Z0-9_.-]/g,"_"),i=e||"guest",a=Date.now(),o=`${i}/${a}_${r}`;console.log(` Uploading to: request-photos/${o}`);const{data:c,error:u}=await $.storage.from("request-photos").upload(o,t,{upsert:!0,contentType:t.type});if(u)throw console.error("Storage upload error:",u),u;const{data:d}=$.storage.from("request-photos").getPublicUrl(o);return console.log(` Photo uploaded: ${d.publicUrl}`),d.publicUrl}catch(r){throw console.error(" Upload failed:",r),re(r,"Upload Customer Photo"),r}},uploadPartnerDocument:async(t,e,r,i)=>{try{await Xe();const a=t.name.replace(/[^a-zA-Z0-9_.-]/g,"_"),o=Date.now(),c=r?`${e}/${r}/${o}_${a}`:`${e}/${i}/${o}_${a}`;console.log(` Uploading partner document to: partner-documents/${c}`);const{data:u,error:d}=await $.storage.from("partner-documents").upload(c,t,{upsert:!0,contentType:t.type});if(d)return console.error("Partner document upload error:",d),{success:!1,error:d.message};const{data:p}=$.storage.from("partner-documents").getPublicUrl(c);return console.log(` Partner document uploaded: ${p.publicUrl}`),{success:!0,url:p.publicUrl}}catch(a){return console.error(" Partner document upload failed:",a),{success:!1,error:a.message}}}}},B_={getAll:async()=>{try{await Xe();const{data:t,error:e}=await $.from("campaigns").select("*").order("sort_order",{ascending:!0});if(e)throw e;return t||[]}catch(t){throw re(t,"Get All Campaigns"),t}},getActive:async()=>{try{const{data:t,error:e}=await $.from("campaigns").select("*").eq("is_active",!0).order("sort_order",{ascending:!0});if(e)throw e;return t||[]}catch(t){return console.error("Get Active Campaigns Error:",t),[]}},getById:async t=>{try{const{data:e,error:r}=await $.from("campaigns").select("*").eq("id",t).single();if(r&&r.code!=="PGRST116")throw r;return e}catch(e){return console.error("Get Campaign By ID Error:",e),null}},create:async t=>{try{await Xe();const{data:e,error:r}=await $.from("campaigns").insert({title:t.title,description:t.description,image_url:t.image_url,badge_text:t.badge_text||null,valid_until:t.valid_until||null,discount:t.discount||null,code:t.code||null,is_active:t.is_active??!0,sort_order:t.sort_order??0}).select().single();if(r)throw r;return e}catch(e){throw re(e,"Create Campaign"),e}},update:async(t,e)=>{try{await Xe();const{data:r,error:i}=await $.from("campaigns").update({...e.title&&{title:e.title},...e.description&&{description:e.description},...e.image_url&&{image_url:e.image_url},badge_text:e.badge_text,valid_until:e.valid_until,discount:e.discount,code:e.code,...e.is_active!==void 0&&{is_active:e.is_active},...e.sort_order!==void 0&&{sort_order:e.sort_order}}).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw re(r,"Update Campaign"),r}},delete:async t=>{try{await Xe();const{error:e}=await $.from("campaigns").delete().eq("id",t);if(e)throw e}catch(e){throw re(e,"Delete Campaign"),e}},toggleActive:async(t,e)=>{try{await Xe();const{data:r,error:i}=await $.from("campaigns").update({is_active:e}).eq("id",t).select().single();if(i)throw i;return r}catch(r){throw re(r,"Toggle Campaign Active"),r}}},kO=Object.freeze(Object.defineProperty({__proto__:null,addressesApi:T_,adminUsersApi:I_,analyticsApi:M_,authApi:Kh,campaignsApi:B_,completedJobsApi:j_,customersApi:E_,default:Er,emptyTruckRoutesApi:N_,favoritesApi:C_,notificationPreferencesApi:P_,notificationsApi:A_,offersApi:El,partnerCreditsApi:aa,partnerDocumentsApi:ga,partnerReviewsApi:R_,partnerSearchApi:z_,partnerShowcaseApi:U_,partnerVehiclesApi:O_,partnersApi:kl,realtimeApi:L_,requestsApi:Xr,returnRoutesApi:Gh,serviceAreasApi:Hh,supabase:$,supabaseApi:Er,supportTicketsApi:Wh,systemLogsApi:D_},Symbol.toStringTag,{value:"Module"})),xj=()=>{const[t,e]=B.useState(!1),[r,i]=B.useState([]),[a,o]=B.useState(0),[c,u]=B.useState(!0),d=async()=>{var x;try{const E=localStorage.getItem("yolmov-auth-session");if(!E){i([]),o(0),u(!1);return}const C=JSON.parse(E),j=(x=C==null?void 0:C.user)==null?void 0:x.id;if(!j){i([]),o(0),u(!1);return}const[I,k]=await Promise.all([Er.notifications.getByCustomerId(j),Er.notifications.getUnreadCount(j)]);i(I),o(k)}catch(E){console.error("Bildirimler yklenemedi:",E),i([]),o(0)}finally{u(!1)}};B.useEffect(()=>{d();const x=setInterval(d,3e4),E=()=>{d()};return window.addEventListener("yolmov-auth-change",E),()=>{clearInterval(x),window.removeEventListener("yolmov-auth-change",E)}},[]);const p=async x=>{try{await Er.notifications.markAsRead(x),await d()}catch(E){console.error("Bildirim okundu iaretlenemedi:",E)}},y=async()=>{var x;try{const E=localStorage.getItem("yolmov-auth-session");if(!E)return;const C=JSON.parse(E),j=(x=C==null?void 0:C.user)==null?void 0:x.id;if(!j)return;await Er.notifications.markAllAsRead(j),await d()}catch(E){console.error("Tm bildirimler okundu iaretlenemedi:",E)}},m=async(x,E)=>{E.stopPropagation();try{await Er.notifications.delete(x),await d()}catch(C){console.error("Bildirim silinemedi:",C)}},w=async()=>{var x;if(confirm("Tm bildirimleri silmek istediinizden emin misiniz?"))try{const E=localStorage.getItem("yolmov-auth-session");if(!E)return;const C=JSON.parse(E);if(!((x=C==null?void 0:C.user)==null?void 0:x.id))return;await Promise.all(r.map(I=>Er.notifications.delete(I.id))),await d()}catch(E){console.error("Bildirimler silinemedi:",E)}},b=x=>{switch(x){case"offer_received":return"";case"offer_accepted":return"";case"offer_rejected":return"";case"request_matched":return"";case"system":return"";default:return""}};return g.jsxs("div",{className:"relative",children:[g.jsxs("button",{onClick:()=>e(!t),className:"relative p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-xl transition-all","aria-label":"Bildirimler",children:[g.jsx(Nu,{size:24}),a>0&&g.jsx("span",{className:"absolute top-0 right-0 w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:a>9?"9+":a})]}),g.jsx(Tr,{children:t&&g.jsxs(g.Fragment,{children:[g.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:()=>e(!1)}),g.jsxs(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute right-0 top-full mt-2 w-96 max-w-[calc(100vw-2rem)] bg-white rounded-2xl shadow-2xl border border-slate-200 overflow-hidden z-50",children:[g.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-200 flex items-center justify-between",children:[g.jsxs("h3",{className:"text-sm font-bold text-slate-900",children:["Bildirimler",a>0&&g.jsxs("span",{className:"ml-2 text-xs text-slate-500",children:["(",a," okunmam)"]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[a>0&&g.jsxs("button",{onClick:y,className:"text-xs text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1",children:[g.jsx(ud,{size:14}),"Tmn Okundu aretle"]}),r.length>0&&g.jsxs("button",{onClick:w,className:"text-xs text-red-600 hover:text-red-700 font-medium flex items-center gap-1",children:[g.jsx(Yi,{size:14}),"Tmn Sil"]})]})]}),g.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:c?g.jsxs("div",{className:"p-8 text-center",children:[g.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-3 animate-pulse",children:g.jsx(Nu,{size:32,className:"text-slate-400"})}),g.jsx("p",{className:"text-sm text-slate-500",children:"Ykleniyor..."})]}):r.length===0?g.jsxs("div",{className:"p-8 text-center",children:[g.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-3",children:g.jsx(Nu,{size:32,className:"text-slate-400"})}),g.jsx("p",{className:"text-sm text-slate-500",children:"Henz bildiriminiz yok"})]}):g.jsx("div",{className:"divide-y divide-slate-100",children:r.map(x=>g.jsxs("div",{className:`p-4 hover:bg-slate-50 transition-colors relative group ${x.read?"":"bg-blue-50/30"}`,children:[g.jsxs("div",{className:"flex items-start gap-3 cursor-pointer",onClick:()=>p(x.id),children:[g.jsx("span",{className:"text-2xl shrink-0",children:b(x.type)}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[g.jsx("h4",{className:"text-sm font-bold text-slate-900 truncate",children:x.title}),!x.read&&g.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full shrink-0 mt-1"})]}),g.jsx("p",{className:"text-xs text-slate-600 mb-2 line-clamp-2",children:x.message}),g.jsx("p",{className:"text-xs text-slate-400",children:new Date(x.createdAt).toLocaleString("tr-TR",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]})]}),g.jsx("button",{onClick:E=>m(x.id,E),className:"absolute top-2 right-2 p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Sil",children:g.jsx(Yi,{size:16})})]},x.id))})})]})]})})]})},Sj=()=>{const t=ci();Ar();const[e,r]=B.useState(!1),[i,a]=B.useState(!1),[o,c]=B.useState(null),[u,d]=B.useState(!0);B.useEffect(()=>{let m=!0;const w=async j=>{try{const I=await Er.customers.getById(j);m&&I&&c(I)}catch(I){console.error("Customer ykleme hatas:",I)}},b=async()=>{var j;try{const I=localStorage.getItem("yolmov-auth-session");if(I){const k=JSON.parse(I);if(k.expires_at&&new Date(k.expires_at*1e3)<=new Date){console.log(" Session expired in Header, clearing..."),localStorage.removeItem("yolmov-auth-session"),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"session-expired"}})),m&&c(null);return}(j=k==null?void 0:k.user)!=null&&j.id&&await w(k.user.id)}else m&&c(null)}catch(I){console.error("Session kontrol hatas:",I),localStorage.removeItem("yolmov-auth-session"),m&&c(null)}finally{m&&d(!1)}};b();const x=j=>{j.key==="yolmov-auth-session"&&b()},E=j=>{var k;console.log(" Auth change event received:",(k=j.detail)==null?void 0:k.type),b()};window.addEventListener("storage",x),window.addEventListener("yolmov-auth-change",E);const C=setInterval(b,3e4);return()=>{m=!1,window.removeEventListener("storage",x),window.removeEventListener("yolmov-auth-change",E),clearInterval(C)}},[]);const p=async()=>{try{localStorage.removeItem("yolmov-auth-session"),window.dispatchEvent(new CustomEvent("yolmov-auth-change",{detail:{type:"logout"}})),c(null),a(!1),t("/")}catch(m){console.error("k hatas:",m),t("/")}},y=()=>r(!e);return g.jsxs("header",{className:"sticky top-0 z-50 w-full bg-white shadow-sm border-b border-gray-100 h-[80px] flex items-center",children:[g.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32 flex items-center justify-between h-full",children:[g.jsxs("div",{className:"flex items-center gap-8 lg:gap-12",children:[g.jsx("button",{className:"flex items-center cursor-pointer shrink-0 bg-transparent border-0 p-0",onClick:()=>t("/"),"aria-label":"Anasayfaya git",children:g.jsx("span",{className:"yolmov-logo text-3xl font-bold",style:{color:"#FF7A00"},children:"yolmov"})}),g.jsxs("nav",{className:"hidden md:flex items-center space-x-6 lg:space-x-8",children:[g.jsx("button",{onClick:()=>t("/hakkimizda"),className:"text-gray-600 hover:text-brand-orange font-medium transition-colors text-sm lg:text-base whitespace-nowrap",children:"Hakkmzda"}),g.jsx("button",{onClick:()=>t("/hizmetler"),className:"text-gray-600 hover:text-brand-orange font-medium transition-colors text-sm lg:text-base whitespace-nowrap",children:"Hizmetler"}),g.jsx("button",{onClick:()=>t("/iletisim"),className:"text-gray-600 hover:text-brand-orange font-medium transition-colors text-sm lg:text-base whitespace-nowrap",children:"letiim"}),g.jsx("button",{onClick:()=>t("/sss"),className:"text-gray-600 hover:text-brand-orange font-medium transition-colors text-sm lg:text-base whitespace-nowrap",children:"SSS"})]})]}),g.jsxs("div",{className:"hidden md:flex items-center gap-3 shrink-0",children:[o&&g.jsx(xj,{}),!o&&g.jsxs(g.Fragment,{children:[g.jsxs("button",{onClick:()=>t("/giris/partner"),"aria-label":"Acente giri sayfasna git",className:"text-sm font-bold text-gray-700 hover:text-blue-600 px-3 py-2 transition-colors flex items-center gap-1",children:[g.jsx(rg,{size:16}),"Acente Girii"]}),g.jsx("div",{className:"w-px h-6 bg-gray-200 mx-1"}),g.jsx("button",{onClick:()=>t("/giris/musteri"),"aria-label":"Mteri giri sayfasna git",className:"px-6 py-2.5 rounded-xl border-2 font-semibold hover:bg-orange-50 transition-colors",style:{borderColor:"#FF7A00",color:"#FF7A00"},children:"Giri Yap"}),g.jsx("button",{onClick:()=>t("/partner/kayit"),"aria-label":"Partner kayt sayfasna git",className:"px-6 py-2.5 rounded-xl text-white font-semibold shadow-md hover:shadow-lg hover:opacity-95 transition-all transform hover:-translate-y-0.5",style:{background:"linear-gradient(to right, #FF7A00, #FF9933)"},children:"Partner Ol"})]}),o&&g.jsxs("div",{className:"relative",children:[g.jsxs("button",{onClick:()=>a(m=>!m),className:"flex items-center gap-3 px-3 py-2 rounded-xl border border-gray-200 hover:border-brand-orange hover:bg-orange-50 transition-colors",children:[g.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-orange-300 to-orange-500 text-white flex items-center justify-center font-bold text-sm overflow-hidden",children:o.avatarUrl?g.jsx("img",{src:o.avatarUrl,alt:"avatar",className:"w-full h-full object-cover"}):o.firstName.charAt(0)}),g.jsx("span",{className:"font-semibold text-gray-700",children:o.firstName})]}),i&&g.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-100 py-2 z-50 animate-fade-in",children:[g.jsx("button",{onClick:()=>{t("/musteri/profil"),a(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Profilim"}),g.jsx("div",{className:"my-1 h-px bg-gray-100"}),g.jsx("button",{onClick:()=>{p(),a(!1)},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"k Yap"})]})]})]}),g.jsx("div",{className:"md:hidden flex items-center gap-3",children:g.jsx("button",{className:"text-gray-600",onClick:y,"aria-label":e?"Meny kapat":"Meny a","aria-expanded":e,children:e?g.jsx(Yi,{size:28}):g.jsx(T1,{size:28})})})]}),g.jsx(Tr,{children:e&&g.jsx(Ie.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"absolute top-[80px] left-0 w-full bg-white shadow-lg overflow-hidden md:hidden border-t border-gray-100",children:g.jsxs("div",{className:"flex flex-col p-6 space-y-4",children:[g.jsx("button",{onClick:()=>{t("/hakkimizda"),r(!1)},className:"text-lg font-medium text-gray-700 py-2 border-b border-gray-50 text-left",children:"Hakkmzda"}),g.jsx("button",{onClick:()=>{t("/hizmetler"),r(!1)},className:"text-lg font-medium text-gray-700 py-2 border-b border-gray-50 text-left",children:"Hizmetler"}),g.jsx("button",{onClick:()=>{t("/iletisim"),r(!1)},className:"text-lg font-medium text-gray-700 py-2 border-b border-gray-50 text-left",children:"letiim"}),g.jsx("button",{onClick:()=>{t("/sss"),r(!1)},className:"text-lg font-medium text-gray-700 py-2 border-b border-gray-50 text-left",children:"SSS"}),g.jsxs("div",{className:"pt-4 flex flex-col gap-3",children:[!o&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>{t("/giris/musteri"),r(!1)},className:"w-full py-3 rounded-xl border border-brand-orange text-brand-orange font-semibold",children:"Giri Yap"}),g.jsxs("button",{onClick:()=>{t("/giris/partner"),r(!1)},className:"w-full py-3 rounded-xl border border-blue-600 text-blue-600 font-semibold flex items-center justify-center gap-2",children:[g.jsx(rg,{size:18})," Acente Girii"]}),g.jsx("button",{onClick:()=>{t("/partner/kayit"),r(!1)},className:"w-full py-3 rounded-xl bg-brand-orange text-white font-semibold shadow-md",children:"Partner Ol"})]}),o&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>{t("/musteri/profil"),r(!1)},className:"w-full py-3 rounded-xl bg-gray-100 text-gray-700 font-semibold",children:"Profilim"}),g.jsx("button",{onClick:()=>{p(),r(!1)},className:"w-full py-3 rounded-xl bg-red-50 text-red-600 font-semibold",children:"k Yap"})]})]})]})})})]})},Wd=[{id:"tow",title:"ekici Hizmeti",description:"Aracnz bozulduunda veya kaza durumunda en yakn ekici.",icon:Al},{id:"battery",title:"Ak Takviyesi",description:"Aknz m bitti? Hzlca takviye veya deiim destei.",icon:Cv},{id:"tire",title:"Lastik Deiimi",description:"Lastiiniz patladysa yerinde deiim veya tamir.",icon:Av},{id:"fuel",title:"Yakt Getirme",description:"Yolda yaktnz bittiyse size en yakn istasyondan yakt.",icon:Pv},{id:"rescue",title:"Ara Kurtarma",description:"Zorlu koullarda yolda kalan aracnz iin kurtarma.",icon:w1},{id:"general",title:"Genel Yol Yardm",description:"Anahtar kayb ve dier teknik sorunlar iin destek.",icon:U1}],kj=[{id:1,title:"Konumunu Belirt",description:"GPS zerinden konumunu payla veya adresi manuel gir.",icon:eh},{id:2,title:"Hizmeti Se",description:"htiyacn olan yol yardm hizmetini kategorilerden se.",icon:hd},{id:3,title:"Yardm Yola ksn",description:"En yakn uzman ekipten teklif al ve onayla.",icon:Al}],Ej=[{id:"trust",title:"Gvenilir Hizmet",icon:I1},{id:"network",title:"Dorulanm Acente A",icon:L1},{id:"speed",title:"Hzl Eriim",icon:dd},{id:"support",title:"7/24 Canl Destek",icon:jv}],Ho={Adana:["Alada","Ceyhan","ukurova","Feke","mamolu","Karaisal","Karata","Kozan","Pozant","Saimbeyli","Saram","Seyhan","Tufanbeyli","Yumurtalk","Yreir"],Adyaman:["Besni","elikhan","Gerger","Glba","Kahta","Merkez","Samsat","Sincik","Tut"],Afyonkarahisar:["Bamak","Bayat","Bolvadin","ay","obanlar","Dazkr","Dinar","Emirda","Evciler","Hocalar","hsaniye","scehisar","Kzlren","Merkez","Sandkl","Sinanpaa","Sultanda","uhut"],Ar:["Diyadin","Doubayazt","Elekirt","Hamur","Merkez","Patnos","Talay","Tutak"],Aksaray:["Aaren","Eskil","Glaa","Gzelyurt","Merkez","Ortaky","Saryahi","Sultanhan"],Amasya:["Gyncek","Gmhacky","Hamamz","Merkez","Merzifon","Suluova","Taova"],Ankara:["Akyurt","Altnda","Aya","Bala","Beypazar","amldere","ankaya","ubuk","Elmada","Etimesgut","Evren","Glba","Gdl","Haymana","Kalecik","Kahramankazan","Keiren","Kzlcahamam","Mamak","Nallhan","Polatl","Pursaklar","Sincan","ereflikohisar","Yenimahalle"],Antalya:["Akseki","Aksu","Alanya","Demre","Demealt","Elmal","Finike","Gazipaa","Gndomu","brad","Ka","Kemer","Kepez","Konyaalt","Korkuteli","Kumluca","Manavgat","Muratpaa","Serik"],Ardahan:["ldr","Damal","Gle","Hanak","Merkez","Posof"],Artvin:["Ardanu","Arhavi","Borka","Hopa","Kemalpaa","Merkez","Murgul","avat","Yusufeli"],Aydn:["Bozdoan","Buharkent","ine","Didim","Efeler","Germencik","ncirliova","Karacasu","Karpuzlu","Koarl","Kk","Kuadas","Kuyucak","Nazilli","Ske","Sultanhisar","Yenipazar"],Balkesir:["Altnyayla","Ayvalk","Balya","Bandrma","Bigadi","Burhaniye","Dursunbey","Edremit","Erdek","Gme","Gnen","Havran","vrindi","Karesi","Kepsut","Manyas","Marmara","Savatepe","Sndrg","Susurluk"],Bartn:["Amasra","Kurucaile","Merkez","Ulus"],Batman:["Beiri","Gerc","Hasankeyf","Kozluk","Merkez","Sason"],Bayburt:["Aydntepe","Demirz","Merkez"],Bilecik:["Bozyk","Glpazar","nhisar","Merkez","Osmaneli","Pazaryeri","St","Yenipazar"],Bingl:["Adakl","Gen","Karlova","Ki","Merkez","Solhan","Yayladere","Yedisu"],Bitlis:["Adilcevaz","Ahlat","Groymak","Hizan","Merkez","Mutki","Tatvan"],Bolu:["Drtdivan","Gerede","Gynk","Kbrsck","Mengen","Merkez","Mudurnu","Seben","Yeniaa"],Burdur:["Alasun","Altnyayla","Bucak","avdr","eltiki","Glhisar","Karamanl","Kemer","Merkez","Tefenni","Yeilova"],Bursa:["Bykorhan","Gemlik","Grsu","Harmanck","negl","znik","Karacabey","Keles","Kestel","Mudanya","Mustafakemalpaa","Nilfer","Orhaneli","Orhangazi","Osmangazi","Yeniehir","Yldrm"],anakkale:["Ayvack","Bayrami","Biga","Bozcaada","an","Eceabat","Ezine","Gelibolu","Gkeada","Lapseki","Merkez","Yenice"],ankr:["Atkaracalar","Bayramren","erke","Eldivan","Ilgaz","Kzlrmak","Korgun","Kurunlu","Merkez","Orta","abanz","Yaprakl"],orum:["Alaca","Bayat","Boazkale","Dodurga","skilip","Karg","Lain","Mecitz","Merkez","Ouzlar","Ortaky","Osmanck","Sungurlu","Uurluda"],Denizli:["Acpayam","Babada","Baklan","Bekilli","Beyaa","Bozkurt","Buldan","al","ameli","ardak","ivril","Gney","Honaz","Kale","Merkezefendi","Pamukkale","Sarayky","Serinhisar","Tavas"],Diyarbakr:["Balar","Bismil","ermik","nar","ng","Dicle","Eil","Ergani","Hani","Hazro","Kayapnar","Kocaky","Kulp","Lice","Silvan","Sur","Yeniehir"],Dzce:["Akakoca","Cumayeri","ilimli","Glyaka","Gmova","Kaynal","Merkez","Ylca"],Edirne:["Enez","Havsa","psala","Kean","Lalapaa","Meri","Merkez","Slolu","Uzunkpr"],Elaz:["An","Alacakaya","Arcak","Baskil","Karakoan","Keban","Kovanclar","Maden","Merkez","Palu","Sivrice"],Erzincan:["ayrl","li","Kemah","Kemaliye","Merkez","Otlukbeli","Refahiye","Tercan","zml"],Erzurum:["Akale","Aziziye","at","Hns","Horasan","spir","Karaoban","Karayaz","Kprky","Narman","Oltu","Olur","Palandken","Pasinler","Pazaryolu","enkaya","Tekman","Tortum","Uzundere","Yakutiye"],Eskiehir:["Alpu","Beylikova","ifteler","Gnyz","Han","nn","Mahmudiye","Mihalgazi","Mihalk","Odunpazar","Sarcakaya","Seyitgazi","Sivrihisar","Tepeba"],Gaziantep:["Araban","slahiye","Karkam","Nizip","Nurda","Ouzeli","ahinbey","ehitkamil","Yavuzeli"],Giresun:["Alucra","Bulancak","amoluk","anak","Dereli","Doankent","Espiye","Eynesil","Grele","Gce","Keap","Merkez","Piraziz","ebinkarahisar","Tirebolu","Yaldere"],Gmhane:["Kelkit","Kse","Krtn","Merkez","iran","Torul"],Hakkari:["ukurca","Derecik","Merkez","emdinli","Yksekova"],Hatay:["Altnz","Antakya","Arsuz","Belen","Defne","Drtyol","Erzin","Hassa","skenderun","Krkhan","Kumlu","Payas","Reyhanl","Samanda","Yaylada"],Idr:["Aralk","Karakoyunlu","Merkez","Tuzluca"],Isparta:["Aksu","Atabey","Eirdir","Gelendost","Gnen","Keiborlu","Merkez","Senirkent","Stler","arkikaraaa","Uluborlu","Yalva","Yeniarbademli"],stanbul:["Adalar","Arnavutky","Ataehir","Avclar","Baclar","Bahelievler","Bakrky","Baakehir","Bayrampaa","Beikta","Beykoz","Beylikdz","Beyolu","Bykekmece","atalca","ekmeky","Esenler","Esenyurt","Eypsultan","Fatih","Gaziosmanpaa","Gngren","Kadky","Kathane","Kartal","Kkekmece","Maltepe","Pendik","Sancaktepe","Saryer","Silivri","Sultanbeyli","Sultangazi","ile","ili","Tuzla","mraniye","skdar","Zeytinburnu"],zmir:["Aliaa","Balova","Bayndr","Bayrakl","Bergama","Beyda","Bornova","Buca","eme","ili","Dikili","Foa","Gaziemir","Gzelbahe","Karabalar","Karaburun","Karyaka","Kemalpaa","Knk","Kiraz","Konak","Menderes","Menemen","Narldere","demi","Seferihisar","Seluk","Tire","Torbal","Urla"],Kahramanmara:["Afin","Andrn","alayancerit","Dulkadirolu","Ekinz","Elbistan","Gksun","Nurhak","Onikiubat","Pazarck","Trkolu"],Karabk:["Eflani","Eskipazar","Merkez","Ovack","Safranbolu","Yenice"],Karaman:["Ayranc","Bayayla","Ermenek","Kazmkarabekir","Merkez","Sarveliler"],Kars:["Akyaka","Arpaay","Digor","Kazman","Merkez","Sarkam","Selim","Susuz"],Kastamonu:["Abana","Al","Ara","Azdavay","Bozkurt","Cide","atalzeytin","Daday","Devrekani","Doanyurt","Hann","hsangazi","nebolu","Kre","Merkez","Pnarba","Seydiler","enpazar","Takpr","Tosya"],Kayseri:["Akkla","Bnyan","Develi","Felahiye","Haclar","ncesu","Kocasinan","Melikgazi","zvatan","Pnarba","Sarolan","Sarz","Talas","Tomarza","Yahyal","Yeilhisar"],Krkkale:["Bahl","Baleyh","elebi","Delice","Karakeili","Keskin","Merkez","Sulakyurt","Yahihan"],Krklareli:["Babaeski","Demirky","Kofaz","Lleburgaz","Merkez","Pehlivanky","Pnarhisar","Vize"],Krehir:["Akakent","Akpnar","Boztepe","iekda","Kaman","Merkez","Mucur"],Kilis:["Elbeyli","Merkez","Musabeyli","Polateli"],Kocaeli:["Baiskele","ayrova","Darca","Derince","Dilovas","Gebze","Glck","zmit","Kandra","Karamrsel","Kartepe","Krfez"],Konya:["Ahrl","Akren","Akehir","Altnekin","Beyehir","Bozkr","Cihanbeyli","eltik","umra","Derbent","Derebucak","Doanhisar","Emirgazi","Ereli","Gneysnr","Hadim","Halkapnar","Hyk","Ilgn","Kadnhan","Karapnar","Karatay","Kulu","Meram","Sarayn","Seluklu","Seydiehir","Takent","Tuzluku","Yalhyk","Yunak"],Ktahya:["Altnta","Aslanapa","avdarhisar","Domani","Dumlupnar","Emet","Gediz","Hisarck","Merkez","Pazarlar","Simav","aphane","Tavanl"],Malatya:["Akada","Arapgir","Arguvan","Battalgazi","Darende","Doanehir","Doanyol","Hekimhan","Kale","Kuluncak","Ptrge","Yazhan","Yeilyurt"],Manisa:["Ahmetli","Akhisar","Alaehir","Demirci","Glmarmara","Grdes","Krkaa","Kprba","Kula","Salihli","Sargl","Saruhanl","Selendi","Soma","ehzadeler","Turgutlu","Yunusemre"],Mardin:["Artuklu","Dargeit","Derik","Kzltepe","Mazda","Midyat","Nusaybin","merli","Savur","Yeilli"],Mersin:["Akdeniz","Anamur","Aydnck","Bozyaz","amlyayla","Erdemli","Glnar","Mezitli","Mut","Silifke","Tarsus","Toroslar","Yeniehir"],Mula:["Bodrum","Dalaman","Data","Fethiye","Kavakldere","Kyceiz","Marmaris","Mentee","Milas","Ortaca","Seydikemer","Ula","Yataan"],Mu:["Bulank","Hasky","Korkut","Malazgirt","Merkez","Varto"],Nevehir:["Acgl","Avanos","Derinkuyu","Glehir","Hacbekta","Kozakl","Merkez","rgp"],Nide:["Altunhisar","Bor","amard","iftlik","Merkez","Ulukla"],Ordu:["Akku","Altnordu","Aybast","ama","atalpnar","ayba","Fatsa","Glky","Glyal","Grgentepe","kizce","Kabadz","Kabata","Korgan","Kumru","Mesudiye","Perembe","Ulubey","nye"],Osmaniye:["Bahe","Dzii","Hasanbeyli","Kadirli","Merkez","Sumbas","Toprakkale"],Rize:["Ardeen","amlhemin","ayeli","Derepazar","Fndkl","Gneysu","Hemin","kizdere","yidere","Kalkandere","Merkez","Pazar"],Sakarya:["Adapazar","Akyaz","Arifiye","Erenler","Ferizli","Geyve","Hendek","Karaprek","Karasu","Kaynarca","Kocaali","Pamukova","Sapanca","Serdivan","Stl","Tarakl"],Samsun:["19 Mays","Alaam","Asarck","Atakum","Ayvack","Bafra","Canik","aramba","Havza","lkadm","Kavak","Ladik","Salpazar","Tekkeky","Terme","Vezirkpr","Yakakent"],Siirt:["Baykan","Eruh","Kurtalan","Merkez","Pervari","irvan","Tillo"],Sinop:["Ayanck","Boyabat","Dikmen","Duraan","Erfelek","Gerze","Merkez","Saraydz","Trkeli"],Sivas:["Aknclar","Altnyayla","Divrii","Doanar","Gemerek","Glova","Grn","Hafik","mranl","Kangal","Koyulhisar","Merkez","Suehri","arkla","Ula","Yldzeli","Zara"],anlurfa:["Akakale","Birecik","Bozova","Ceylanpnar","Eyybiye","Halfeti","Haliliye","Harran","Hilvan","Karakpr","Siverek","Suru","Viranehir"],rnak:["Beytebap","Cizre","Glkonak","dil","Merkez","Silopi","Uludere"],Tekirda:["erkezky","orlu","Ergene","Hayrabolu","Kapakl","Malkara","Marmaraerelisi","Muratl","Saray","Sleymanpaa","arky"],Tokat:["Almus","Artova","Baiftlik","Erbaa","Merkez","Niksar","Pazar","Readiye","Sulusaray","Turhal","Yeilyurt","Zile"],Trabzon:["Akaabat","Arakl","Arsin","Beikdz","arba","aykara","Dernekpazar","Dzky","Hayrat","Kprba","Maka","Of","Ortahisar","Srmene","alpazar","Tonya","Vakfkebir","Yomra"],Tunceli:["emigezek","Hozat","Mazgirt","Merkez","Nazmiye","Ovack","Pertek","Plmr"],Uak:["Banaz","Eme","Karahall","Merkez","Sivasl","Ulubey"],Van:["Bahesaray","Bakale","aldran","atak","Edremit","Erci","Geva","Grpnar","pekyolu","Muradiye","zalp","Saray","Tuba"],Yalova:["Altnova","Armutlu","narck","iftlikky","Merkez","Termal"],Yozgat:["Akdamadeni","Aydnck","Boazlyan","andr","ayralan","ekerek","Kadehri","Merkez","Saraykent","Sarkaya","Sorgun","efaatli","Yenifakl","Yerky"],Zonguldak:["Alapl","aycuma","Devrek","Ereli","Gkebey","Kilimli","Kozlu","Merkez"]},EO={highDemand:[{from:"istanbul",to:"ankara",fromName:"stanbul",toName:"Ankara"},{from:"istanbul",to:"izmir",fromName:"stanbul",toName:"zmir"},{from:"istanbul",to:"antalya",fromName:"stanbul",toName:"Antalya"},{from:"ankara",to:"izmir",fromName:"Ankara",toName:"zmir"},{from:"ankara",to:"antalya",fromName:"Ankara",toName:"Antalya"},{from:"izmir",to:"antalya",fromName:"zmir",toName:"Antalya"}]},CO=[{id:"tekne",name:"Tekne Tama",slug:"tekne",description:"Tekne, yat ve deniz arac tama hizmeti",avgPrice:8e3,icon:"",targetCities:["mugla","antalya","izmir","istanbul"]},{id:"forklift",name:"Forklift Tama",slug:"forklift",description:" makinesi ve forklift nakliyesi",avgPrice:6500,icon:"",targetCities:["kocaeli","bursa","ankara","istanbul","izmir"]},{id:"karavan",name:"Karavan Tama",slug:"karavan",description:"Karavan ve motorhome ekici hizmeti",avgPrice:5500,icon:"",targetCities:["antalya","mugla","aydin","izmir"]},{id:"motosiklet",name:"Motosiklet ekici",slug:"motosiklet",description:"Motorsiklet ve ATV tama",avgPrice:2500,icon:"",targetCities:["istanbul","ankara","izmir","antalya"]},{id:"klasik-arac",name:"Klasik Ara Tama",slug:"klasik-arac",description:"Antika ve koleksiyon ara nakliyesi",avgPrice:9e3,icon:"",targetCities:["istanbul","ankara","izmir"]},{id:"is-makinesi",name:" Makinesi Tama",slug:"is-makinesi",description:"Vin, greyder, kazc tama",avgPrice:12e3,icon:"",targetCities:["ankara","istanbul","izmir","kocaeli","bursa"]}],TO=[{id:"lastikci",name:"Nbeti Lastiki",slug:"lastikci"},{id:"aku",name:"Nbeti Ak",slug:"aku"},{id:"cekici",name:"Nbeti ekici",slug:"cekici"},{id:"oto-elektrik",name:"Nbeti Oto Elektrik",slug:"oto-elektrik"},{id:"cam",name:"Nbeti Cam Tamiri",slug:"cam"}],AO=[{slug:"tem-otoyolu",name:"TEM Otoyolu",city:"stanbul",type:"highway"},{slug:"kuzey-marmara-otoyolu",name:"Kuzey Marmara Otoyolu",city:"stanbul",type:"highway"},{slug:"o-3-otoyolu",name:"O-3 Otoyolu (Avrupa)",city:"stanbul",type:"highway"},{slug:"o-4-otoyolu",name:"O-4 Otoyolu",city:"stanbul",type:"highway"},{slug:"ankara-izmir-otoyolu",name:"Ankara-zmir Otoyolu",city:"Ankara",type:"highway"},{slug:"istanbul-havalimani",name:"stanbul Havaliman",city:"stanbul",type:"airport"},{slug:"sabiha-gokcen",name:"Sabiha Gken Havaliman",city:"stanbul",type:"airport"},{slug:"esenboga-havalimani",name:"Esenboa Havaliman",city:"Ankara",type:"airport"},{slug:"izmir-adnan-menderes",name:"zmir Adnan Menderes Havaliman",city:"zmir",type:"airport"},{slug:"antalya-havalimani",name:"Antalya Havaliman",city:"Antalya",type:"airport"},{slug:"ostim-sanayi",name:"OSTM Sanayi Sitesi",city:"Ankara",type:"industrial"},{slug:"ikitelli-osb",name:"kitelli OSB",city:"stanbul",type:"industrial"},{slug:"dudullu-osb",name:"Dudullu OSB",city:"stanbul",type:"industrial"},{slug:"gebze-osb",name:"Gebze Organize Sanayi",city:"Kocaeli",type:"industrial"},{slug:"ege-serbest-bolge",name:"Ege Serbest Blgesi",city:"zmir",type:"industrial"},{slug:"maslak-oto-sanayi",name:"Maslak Oto Sanayi",city:"stanbul",type:"automotive"},{slug:"mecidiyekoy-oto-sanayi",name:"Mecidiyeky Oto Sanayi",city:"stanbul",type:"automotive"},{slug:"topkapi-oto-sanayi",name:"Topkap Oto Sanayi",city:"stanbul",type:"automotive"},{slug:"kozyatagi-oto-sanayi",name:"Kozyata Oto Sanayi",city:"stanbul",type:"automotive"}],PO=[{id:"cekici",name:"ekici Fiyatlar",slug:"cekici"},{id:"oto-kurtarma",name:"Oto Kurtarma Fiyatlar",slug:"oto-kurtarma"},{id:"lastik-degisimi",name:"Lastik Deiimi Fiyatlar",slug:"lastik-degisimi"},{id:"aku-takviyesi",name:"Ak Takviyesi Fiyatlar",slug:"aku-takviyesi"},{id:"sehirler-arasi",name:"ehirler Aras ekici Fiyatlar",slug:"sehirler-arasi"},{id:"yakit-yardimi",name:"Yakt Yardm Fiyatlar",slug:"yakit-yardimi"}],jO=2025,Cj="/assets/1765057362098_kis-2.webp",Tj=({onSearch:t})=>{const[e,r]=B.useState(!1),[i,a]=B.useState("city"),[o,c]=B.useState(""),[u,d]=B.useState(!1),[p,y]=B.useState("Konum alnyor..."),[m,w]=B.useState(""),[b,x]=B.useState(""),[E,C]=B.useState(!1),[j,I]=B.useState(""),[k,P]=B.useState(!1),[R,D]=B.useState("Arama balatlyor..."),[O,L]=B.useState(null),J=B.useRef(null),z=B.useRef(null),H=B.useRef(null),te=B.useRef(null);B.useEffect(()=>{function ie(ke){J.current&&!J.current.contains(ke.target)&&r(!1),z.current&&!z.current.contains(ke.target)&&C(!1)}return document.addEventListener("mousedown",ie),()=>document.removeEventListener("mousedown",ie)},[]);const oe=Object.keys(Ho),be=m?Ho[m]:[],Re=i==="city"?oe.filter(ie=>ie.toLocaleLowerCase("tr").includes(o.toLocaleLowerCase("tr"))):be.filter(ie=>ie.toLocaleLowerCase("tr").includes(o.toLocaleLowerCase("tr"))),Ae=Wd.find(ie=>ie.id===j),Ce=ie=>{I(ie),C(!1)},le=ie=>{var ke;w(ie),a("district"),c(""),(ke=H.current)==null||ke.focus()},ae=ie=>{x(ie),c(""),r(!1)},pe=ie=>{var ke;ie==null||ie.stopPropagation(),w(""),x(""),a("city"),c(""),r(!0),(ke=H.current)==null||ke.focus()},W=()=>{var ie;a("city"),x(""),w(""),c(""),(ie=H.current)==null||ie.focus()},ne=()=>{if(!navigator.geolocation){alert("Taraycnz konum zelliini desteklemiyor.");return}console.log(" Konum servisi isteniyor (Hero)..."),d(!0),y("GPS konumunuz alnyor..."),r(!1),navigator.geolocation.getCurrentPosition(async ie=>{console.log(" Konum alnd:",ie.coords),y("Adres bilgileri zlyor...");const{latitude:ke,longitude:Ve}=ie.coords;try{console.log(" Reverse geocoding balatlyor...");const Be=await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${ke}&lon=${Ve}&format=json&accept-language=tr`,{headers:{"User-Agent":"YOLMOV App"}});if(!Be.ok)throw new Error("Geocoding API hatas");const Ke=await Be.json();console.log(" Geocoding sonucu:",Ke),y("ehir ve ile eletiriliyor...");const Ge=Ke.address||{};let _t=Ge.province||Ge.state||Ge.city||Ge.town,ct=Ge.county||Ge.district||Ge.suburb||Ge.neighbourhood;console.log(" Tespit edilen ehir:",_t,"/ le:",ct);const se=Object.keys(Ho).find(ge=>ge.toLowerCase()===(_t==null?void 0:_t.toLowerCase()));if(se){console.log(" ehir eleti:",se),le(se);const V=Ho[se].find(G=>G.toLowerCase().includes(ct==null?void 0:ct.toLowerCase())||(ct==null?void 0:ct.toLowerCase().includes(G.toLowerCase())));V?(console.log(" le eleti:",V),y("Konum baaryla belirlendi!"),setTimeout(()=>{ae(V),d(!1)},500)):(console.warn(" le elemedi, ehir seildi"),a("district"),r(!0),d(!1))}else console.warn(" ehir sistemde bulunamad:",_t),d(!1),r(!0)}catch(Be){console.error(" Reverse geocoding error:",Be),alert("Konum bilgisi alnamad. Ltfen manuel olarak sein."),d(!1),r(!0)}},ie=>{console.error(" Geolocation error:",ie);let ke="Konum eriimi reddedildi.";switch(ie.code){case ie.PERMISSION_DENIED:ke="Konum izni reddedildi. Tarayc ayarlarndan konum iznini an.";break;case ie.POSITION_UNAVAILABLE:ke="Konum bilgisi kullanlamyor. GPS/Wi-Fi ak olduundan emin olun.";break;case ie.TIMEOUT:ke="Konum tespiti zaman amna urad. Tekrar deneyin.";break}console.error("Konum hatas:",ke),d(!1),r(!0)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},ye=async()=>{if(te.current){const ie=te.current.getBoundingClientRect();L({top:ie.top,left:ie.left,width:ie.width,height:ie.height}),P(!0),D("Konumunuz analiz ediliyor...");const ke=setTimeout(()=>{D("Blgedeki uzmanlar taranyor...")},800),Ve=setTimeout(()=>{D("Msaitlik durumlar kontrol ediliyor...")},1800),Be=2500,Ke=Date.now();try{const Ge=await Er.partnerSearch.getAvailablePartners(m,b);sessionStorage.setItem("yolmov_search_results",JSON.stringify({partners:Ge,city:m,district:b,timestamp:Date.now()}));const _t=Date.now()-Ke,ct=Math.max(0,Be-_t);await new Promise(se=>setTimeout(se,ct)),D("Sonular hazr!"),setTimeout(()=>{clearTimeout(ke),clearTimeout(Ve),t&&t(m,b,j)},400)}catch(Ge){console.error("Partner arama hatas:",Ge),D("Sonular hazr!"),setTimeout(()=>{clearTimeout(ke),clearTimeout(Ve),t&&t(m,b,j)},400)}}},me=()=>{if(!j)return g.jsx(ng,{size:64,className:"text-white",strokeWidth:1.5});switch(j){case"tow":return g.jsx(Al,{size:64,className:"text-white",strokeWidth:1.5});case"battery":return g.jsx(Cv,{size:64,className:"text-white",strokeWidth:1.5});case"tire":return g.jsx(Av,{size:64,className:"text-white",strokeWidth:1.5});case"fuel":return g.jsx(Pv,{size:64,className:"text-white",strokeWidth:1.5});default:return g.jsx(ng,{size:64,className:"text-white",strokeWidth:1.5})}};return g.jsxs("section",{className:"relative w-full min-h-[700px] flex items-center z-30",children:[k&&O&&g.jsx(Ie.div,{initial:{position:"fixed",top:O.top,left:O.left,width:O.width,height:O.height,borderRadius:"1.5rem",backgroundColor:"#FF7A00",zIndex:9999,opacity:1},animate:{top:0,left:0,width:"100vw",height:"100vh",borderRadius:0},transition:{duration:.6,ease:[.645,.045,.355,1]},className:"flex flex-col items-center justify-center overflow-hidden",children:g.jsxs(Ie.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3,duration:.4},className:"flex flex-col items-center text-white p-6 text-center w-full max-w-lg",children:[g.jsx(Ie.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-10",children:g.jsx("h1",{className:"yolmov-logo text-5xl font-bold text-white",children:"yolmov"})}),g.jsxs("div",{className:"relative w-full h-40 flex items-center justify-center mb-8 overflow-hidden",children:[g.jsx("div",{className:"absolute w-32 h-32 bg-white/10 rounded-full animate-ping opacity-20"}),g.jsx("div",{className:"absolute w-48 h-48 bg-white/5 rounded-full animate-ping opacity-10 delay-150"}),g.jsx("div",{className:"absolute bottom-10 w-[200%] flex gap-12 animate-move-left opacity-30",children:[1,2,3,4,5,6,7,8].map(ie=>g.jsx("div",{className:"w-16 h-1 bg-white rounded-full"},ie))}),g.jsxs(Ie.div,{animate:{y:[0,-4,0]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},className:"relative z-10 drop-shadow-[0_10px_20px_rgba(0,0,0,0.3)]",children:[me(),g.jsx("div",{className:"absolute -bottom-2 left-2 right-2 h-1.5 bg-black/20 rounded-[100%] blur-sm"})]}),g.jsx(Ie.div,{className:"absolute top-10 right-10 w-10 h-0.5 bg-white/40 rounded-full",animate:{x:[50,-100],opacity:[0,1,0]},transition:{repeat:1/0,duration:.8,delay:.2}}),g.jsx(Ie.div,{className:"absolute bottom-12 right-0 w-16 h-0.5 bg-white/30 rounded-full",animate:{x:[50,-100],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.1}})]}),g.jsx("div",{className:"h-20 flex flex-col items-center justify-center",children:g.jsx(Tr,{mode:"wait",children:g.jsx(Ie.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"text-3xl md:text-4xl font-display font-bold tracking-tight leading-tight text-white",children:R},R)})}),g.jsx(Ie.div,{className:"w-64 h-1.5 bg-black/10 rounded-full mt-8 overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:g.jsx(Ie.div,{className:"h-full bg-white rounded-full",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:2.8,ease:"easeInOut"}})})]})}),g.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden",children:[g.jsx("img",{src:Cj,className:"absolute inset-0 w-full h-full object-cover",alt:"Yolmov K Manzaras"}),g.jsx("div",{className:"absolute inset-0 bg-black/20 z-10"})]}),g.jsx("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32 relative z-20 pt-4 md:pt-10 pb-10",children:g.jsxs("div",{className:"flex flex-col items-center text-center max-w-5xl mx-auto",children:[g.jsxs(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"mb-4 md:mb-10",children:[g.jsxs("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-display font-black text-white leading-tight mb-1 md:mb-6 tracking-tight",style:{textShadow:"0 4px 12px rgba(0,0,0,0.6), 0 2px 4px rgba(0,0,0,0.4)"},children:["Yolda Kaldnzda ",g.jsx("br",{className:"hidden md:block"}),g.jsx("span",{className:"inline-block mt-1 md:mt-2",style:{color:"#FF7A00",textShadow:"0 4px 12px rgba(255,122,0,0.6), 0 2px 4px rgba(0,0,0,0.4)"},children:"Yannzdayz."})]}),g.jsx("p",{className:"text-sm md:text-lg text-white max-w-xl mx-auto font-medium leading-snug",style:{textShadow:"0 2px 8px rgba(0,0,0,0.6)"},children:"ekici, ak takviyesi, yakt, lastik ve yol yardm hizmetlerine tek tkla, gvenle ulan."})]}),g.jsx(Ie.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"w-full max-w-5xl relative z-50",children:g.jsxs("div",{className:"bg-white rounded-[2rem] shadow-[0_20px_50px_rgba(0,0,0,0.4)] border border-white/20 flex flex-col md:flex-row p-3 items-center backdrop-blur-sm bg-white/95 relative z-50",children:[g.jsxs("div",{className:"relative w-full md:flex-1 group",ref:J,children:[g.jsxs("div",{className:`flex items-center h-20 px-6 cursor-pointer rounded-[1.5rem] transition-all duration-200 border border-transparent ${e?"bg-white shadow-lg border-gray-100":"hover:bg-gray-50"}`,onClick:()=>{var ie;k||(r(!0),C(!1),(ie=H.current)==null||ie.focus())},children:[g.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mr-4 transition-colors ${e?"bg-brand-orange text-white":"bg-orange-50 text-brand-orange"}`,children:g.jsx(eh,{size:22,strokeWidth:2.5})}),g.jsxs("div",{className:"flex-1 flex flex-col items-start overflow-hidden",children:[g.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:m&&i==="district"?"Hangi le?":"Neredesin?"}),!e&&m?g.jsxs("div",{className:"w-full text-gray-800 font-bold text-lg truncate",children:[m," ",b?`/ ${b}`:""]}):g.jsx("input",{ref:H,type:"text",className:"w-full bg-transparent border-none p-0 text-gray-800 font-bold text-lg placeholder-gray-300 focus:ring-0 leading-tight truncate",placeholder:i==="city"?"l ara...":`${m} > le ara...`,value:o,onChange:ie=>{c(ie.target.value),e||r(!0)},onFocus:()=>r(!0),autoComplete:"off",disabled:k})]}),m&&g.jsx("button",{onClick:pe,className:"p-1 text-gray-300 hover:text-red-500 transition-colors z-20",disabled:k,children:g.jsx(x1,{size:20})})]}),g.jsx(Tr,{children:e&&!k&&g.jsxs(Ie.div,{initial:{opacity:0,scale:.98,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.98,y:10},transition:{duration:.2},className:"absolute top-[110%] left-0 w-full md:min-w-[350px] bg-white rounded-2xl shadow-2xl border border-gray-100 max-h-[350px] overflow-y-auto z-[60] py-2 scrollbar-thin scrollbar-thumb-gray-200",children:[g.jsxs("div",{className:"px-2 pb-2 mb-2 border-b border-gray-50 sticky top-0 bg-white z-10 flex flex-col gap-1",children:[i==="district"&&g.jsxs("button",{onClick:W,className:"flex items-center gap-2 text-gray-500 hover:text-brand-orange text-sm px-4 py-2 transition-colors font-medium",children:[g.jsx(Tv,{size:16}),"l Seimine Dn (",m,")"]}),i==="city"&&g.jsxs("button",{className:"w-full flex items-center gap-3 text-brand-orange font-semibold p-3 hover:bg-orange-50 rounded-xl transition-colors text-sm disabled:opacity-50",onClick:ne,disabled:u,children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center",children:g.jsx(O1,{size:14,fill:"currentColor",className:u?"animate-spin":""})}),u?"Konum Alnyor...":"Mevcut Konumumu Kullan"]})]}),g.jsxs("div",{className:"px-2",children:[g.jsx("div",{className:"px-4 py-1 text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:i==="city"?"ehirler":`${m} leleri`}),Re.length>0?Re.map(ie=>g.jsxs("div",{className:`px-4 py-3 hover:bg-gray-50 cursor-pointer rounded-xl flex items-center justify-between group transition-colors mb-1 
                                ${i==="city"&&m===ie||i==="district"&&b===ie?"bg-gray-50":""}`,onClick:()=>{i==="city"?le(ie):ae(ie)},children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300 group-hover:bg-brand-orange transition-colors"}),g.jsx("span",{className:`text-sm font-medium ${i==="city"&&m===ie||i==="district"&&b===ie?"text-brand-orange":"text-gray-700"}`,children:ie})]}),(i==="city"&&m===ie||i==="district"&&b===ie)&&g.jsx(ud,{size:18,className:"text-brand-orange"})]},ie)):g.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"Sonu bulunamad."})]})]})})]}),g.jsx("div",{className:"hidden md:block w-[1px] h-12 bg-gray-100 mx-2"}),g.jsxs("div",{className:"relative w-full md:flex-1 group border-t border-gray-100 md:border-0",ref:z,children:[g.jsxs("div",{className:`flex items-center h-20 px-6 cursor-pointer rounded-[1.5rem] transition-all duration-200 border border-transparent ${E?"bg-white shadow-lg border-gray-100":"hover:bg-gray-50"}`,onClick:()=>{k||(C(!E),r(!1))},children:[g.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mr-4 transition-colors ${E?"bg-brand-orange text-white":"bg-orange-50 text-brand-orange"}`,children:Ae?g.jsx(Ae.icon,{size:22,strokeWidth:2.5}):g.jsx(hd,{size:22,strokeWidth:2.5})}),g.jsxs("div",{className:"flex-1 flex flex-col items-start",children:[g.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"htiyacn Nedir?"}),g.jsxs("div",{className:"flex items-center justify-between w-full pr-2",children:[g.jsx("span",{className:`text-lg font-bold truncate ${Ae?"text-gray-800":"text-gray-300"}`,children:Ae?Ae.title:"Hizmet Sein"}),g.jsx(_1,{size:18,className:`text-gray-400 transition-transform duration-300 ${E?"rotate-180 text-brand-orange":""}`})]})]})]}),g.jsx(Tr,{children:E&&!k&&g.jsx(Ie.div,{initial:{opacity:0,scale:.98,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.98,y:10},transition:{duration:.2},className:"absolute top-[110%] left-0 md:-left-12 w-full md:w-[120%] bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden z-[60]",children:g.jsx("div",{className:"p-3 grid grid-cols-1 md:grid-cols-2 gap-2 max-h-[400px] overflow-y-auto",children:Wd.map(ie=>g.jsxs("div",{onClick:()=>Ce(ie.id),className:`flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all border border-transparent hover:border-orange-100 hover:bg-orange-50/50 ${j===ie.id?"bg-orange-50 border-orange-200":""}`,children:[g.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 shadow-sm ${j===ie.id?"bg-brand-orange text-white":"bg-white text-brand-orange"}`,children:g.jsx(ie.icon,{size:18})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h4",{className:`text-sm font-bold ${j===ie.id?"text-brand-orange":"text-gray-800"}`,children:ie.title}),g.jsx("p",{className:"text-[11px] text-gray-400 line-clamp-1 leading-normal mt-0.5",children:ie.description})]}),j===ie.id&&g.jsx(ud,{size:16,className:"text-brand-orange"})]},ie.id))})})})]}),g.jsx("div",{className:"p-2 w-full md:w-auto",children:g.jsxs("button",{ref:te,onClick:ye,disabled:k,"aria-label":"Hizmet ara ve talep olutur",className:"w-full md:w-auto h-16 md:h-20 px-8 text-white rounded-[1.5rem] shadow-lg shadow-orange-200 transition-all transform hover:scale-105 active:scale-95 flex items-center justify-center gap-3 whitespace-nowrap group disabled:opacity-0",style:{backgroundColor:"#FF7A00"},children:[g.jsx("span",{className:"font-bold text-lg",children:"Hemen Bul"}),g.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center group-hover:bg-white/30 transition-colors",children:g.jsx(hd,{size:18,strokeWidth:3})})]})})]})})]})}),g.jsx(Tr,{children:u&&g.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:g.jsxs(Ie.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",damping:20},className:"bg-white rounded-3xl p-10 flex flex-col items-center shadow-2xl max-w-md mx-4",children:[g.jsxs("div",{className:"relative mb-6",children:[g.jsx(Zd,{className:"animate-spin text-brand-orange",size:64,strokeWidth:2.5}),g.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-orange-100 animate-pulse"})]}),g.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Konumunuz Belirleniyor"}),g.jsx("p",{className:"text-lg text-gray-600 text-center",children:p})]})})}),g.jsx("style",{children:`
        @keyframes move-left {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
        .animate-move-left {
          animation: move-left 1s linear infinite;
        }
      `})]})},Aj=()=>g.jsx("section",{className:"relative z-10 py-16 md:py-24 bg-white",id:"services",children:g.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-brand-dark mb-4",children:"Hangi Hizmete htiyacnz Var?"}),g.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto",children:"Aracnzla ilgili her trl sorunda uzman ekiplerimiz bir tk uzanzda."})]}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:Wd.map((t,e)=>g.jsxs(Ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.1,duration:.5},className:"group p-8 rounded-2xl border border-gray-100 bg-white hover:shadow-[0_8px_30px_rgb(0,0,0,0.06)] hover:border-orange-100 transition-all duration-300 cursor-pointer",children:[g.jsx("div",{className:"w-14 h-14 rounded-xl bg-orange-50 flex items-center justify-center mb-6 group-hover:bg-brand-orange transition-colors duration-300",children:g.jsx(t.icon,{className:"w-7 h-7 text-brand-orange group-hover:text-white transition-colors duration-300",strokeWidth:2})}),g.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3 group-hover:text-brand-orange transition-colors",children:t.title}),g.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:t.description})]},t.id))})]})}),Pj=()=>g.jsxs("section",{className:"py-24 bg-gray-50 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-1/3 h-1/3 bg-orange-100/40 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/3 pointer-events-none"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-1/3 h-1/3 bg-blue-100/40 rounded-full blur-[100px] translate-y-1/2 -translate-x-1/3 pointer-events-none"}),g.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32 relative z-10",children:[g.jsxs("div",{className:"text-center mb-20 max-w-3xl mx-auto",children:[g.jsx(Ie.span,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-brand-orange font-bold uppercase tracking-wider text-xs md:text-sm mb-3 block",children:"Kolay Kullanm"}),g.jsx(Ie.h2,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-3xl md:text-4xl font-display font-bold text-brand-dark mb-6",children:"Yolmov Nasl alr?"}),g.jsx(Ie.p,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-gray-500 text-lg font-light",children:"Karmak srelerle uramayn. Sadece 3 basit admda, ihtiyacnz olan uzman yardm bulunduunuz konuma ynlendiriyoruz."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 relative",children:[g.jsx("div",{className:"hidden md:block absolute top-[40%] left-10 right-10 h-0.5 bg-gradient-to-r from-gray-200 via-brand-orange/30 to-gray-200 -z-0 border-t border-dashed border-gray-300"}),kj.map((t,e)=>g.jsxs(Ie.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.2},className:"relative bg-white p-8 rounded-[2rem] shadow-xl shadow-gray-100/50 border border-gray-100 hover:-translate-y-2 transition-transform duration-500 z-10 group overflow-hidden",children:[g.jsxs("div",{className:"absolute -top-6 -right-6 text-[8rem] font-display font-black text-gray-50 group-hover:text-orange-50/60 transition-colors select-none -z-10 pointer-events-none leading-none",children:["0",t.id]}),g.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-50 to-white border border-orange-100 rounded-2xl flex items-center justify-center mb-8 shadow-sm group-hover:shadow-md group-hover:scale-110 transition-all duration-300 group-hover:bg-brand-orange group-hover:border-brand-orange",children:g.jsx(t.icon,{className:"w-7 h-7 text-brand-orange group-hover:text-white transition-colors duration-300",strokeWidth:2})}),g.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3 group-hover:text-brand-orange transition-colors",children:t.title}),g.jsx("p",{className:"text-gray-500 leading-relaxed text-sm md:text-base",children:t.description}),e<2&&g.jsx("div",{className:"md:hidden absolute bottom-4 right-4 text-orange-100",children:g.jsx(cd,{className:"rotate-90 w-6 h-6"})})]},t.id))]})]})]}),jj=()=>g.jsx("section",{className:"py-16 bg-white",children:g.jsx("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32",children:g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-8",children:Ej.map(t=>g.jsxs("div",{className:"flex flex-col items-center text-center p-6 bg-gray-50 rounded-xl hover:bg-orange-50/50 transition-colors",children:[g.jsx("div",{className:"mb-4 p-3 bg-white rounded-xl shadow-sm",children:g.jsx(t.icon,{className:"w-6 h-6 text-brand-orange"})}),g.jsx("h4",{className:"font-bold text-gray-800 text-sm md:text-base",children:t.title})]},t.id))})})}),Rj=()=>{const t=B.useRef(null),e=ci(),[r,i]=B.useState([]),[a,o]=B.useState(!0);B.useEffect(()=>{(async()=>{try{const d=await B_.getActive();i(d)}catch(d){console.error("Kampanyalar yklenemedi:",d),i([])}finally{o(!1)}})()},[]);const c=u=>{if(t.current){const{current:d}=t,p=u==="left"?-d.offsetWidth/2:d.offsetWidth/2;d.scrollBy({left:p,behavior:"smooth"})}};return!a&&r.length===0?null:a?g.jsx("section",{className:"py-20 bg-white border-t border-gray-100 overflow-hidden",children:g.jsx("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32",children:g.jsxs("div",{className:"animate-pulse",children:[g.jsx("div",{className:"h-4 w-24 bg-slate-200 rounded mb-4"}),g.jsx("div",{className:"h-8 w-64 bg-slate-200 rounded mb-2"}),g.jsx("div",{className:"h-4 w-96 bg-slate-200 rounded mb-10"}),g.jsxs("div",{className:"flex gap-6",children:[g.jsx("div",{className:"min-w-[85vw] md:min-w-[calc(50%-12px)] lg:min-w-[calc(33.33%-16px)] h-[450px] bg-slate-200 rounded-3xl"}),g.jsx("div",{className:"min-w-[85vw] md:min-w-[calc(50%-12px)] lg:min-w-[calc(33.33%-16px)] h-[450px] bg-slate-200 rounded-3xl"})]})]})})}):g.jsx("section",{className:"py-20 bg-white border-t border-gray-100 overflow-hidden","aria-label":"Frsatlar ve Kampanyalar blm",children:g.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32",children:[g.jsxs("div",{className:"flex justify-between items-end mb-10",children:[g.jsxs("div",{children:[g.jsx("span",{className:"font-bold uppercase tracking-wider text-xs md:text-sm mb-2 block",style:{color:"#FF7A00"},children:"Avantajlar"}),g.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-brand-dark",children:"Frsatlar ve Kampanyalar"}),g.jsx("p",{className:"text-gray-500 mt-2 max-w-xl",children:"Yolmov kullanclarna zel indirimler, i birlikleri ve mevsimsel avantajlar kefedin."})]}),g.jsxs("div",{className:"hidden md:flex gap-3",children:[g.jsx("button",{onClick:()=>c("left"),"aria-label":"nceki kampanyalar",className:"w-12 h-12 rounded-full border border-gray-200 flex items-center justify-center text-gray-600 hover:text-white hover:border-brand-orange transition-all",style:{hover:{backgroundColor:"#FF6B35"}},children:g.jsx(Tv,{size:24})}),g.jsx("button",{onClick:()=>c("right"),"aria-label":"Sonraki kampanyalar",className:"w-12 h-12 rounded-full border border-gray-200 flex items-center justify-center text-gray-600 hover:text-white hover:border-brand-orange transition-all",style:{hover:{backgroundColor:"#FF6B35"}},children:g.jsx(b1,{size:24})})]})]}),g.jsxs("div",{ref:t,className:"flex gap-6 overflow-x-auto pb-8 snap-x snap-mandatory scrollbar-hide -mx-4 px-4 md:mx-0 md:px-0",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[r.map((u,d)=>g.jsxs(Ie.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:d*.1},onClick:()=>e(`/kampanya/${u.id}`),className:"min-w-[85vw] md:min-w-[calc(50%-12px)] lg:min-w-[calc(33.33%-16px)] snap-center group relative h-[450px] rounded-3xl overflow-hidden cursor-pointer shadow-md",children:[g.jsx("img",{src:u.image_url,alt:u.title,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent opacity-90 group-hover:opacity-100 transition-opacity"}),g.jsxs("div",{className:"absolute inset-0 p-8 flex flex-col justify-between",children:[g.jsx("div",{className:"flex justify-start",children:u.badge_text&&g.jsx("span",{className:"px-4 py-2 bg-white/20 backdrop-blur-md text-white text-xs font-bold uppercase tracking-wider rounded-xl border border-white/30 shadow-sm",children:u.badge_text})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-2xl font-bold text-white mb-3 leading-tight group-hover:text-brand-orange transition-colors",children:u.title}),g.jsx("p",{className:"text-gray-300 text-sm mb-6 line-clamp-2 leading-relaxed",children:u.description}),g.jsxs("div",{className:"flex items-center gap-2 text-white font-bold text-sm group/btn",children:[g.jsx("span",{className:"border-b-2 border-white/30 group-hover/btn:border-brand-orange pb-1 transition-colors",children:"Detayl Bilgi"}),g.jsx(cd,{size:16,className:"group-hover/btn:translate-x-1 transition-transform"})]})]})]})]},u.id)),g.jsxs(Ie.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:r.length*.1},onClick:()=>e("/kampanyalar"),className:"min-w-[85vw] md:min-w-[calc(50%-12px)] lg:min-w-[calc(33.33%-16px)] snap-center bg-gray-50 rounded-3xl flex flex-col items-center justify-center p-8 border-2 border-dashed border-gray-200 hover:border-brand-orange hover:bg-orange-50 transition-all cursor-pointer group h-[450px]",children:[g.jsx("div",{className:"w-20 h-20 rounded-full bg-white shadow-md flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:g.jsx(cd,{size:32,className:"text-brand-orange"})}),g.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2 group-hover:text-brand-orange transition-colors",children:"Tm Kampanyalar"}),g.jsx("p",{className:"text-gray-500 text-center text-base max-w-xs",children:"Gemi ve gelecek tm frsatlar incelemek iin tklayn."})]})]})]})})};function Go(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var rd={exports:{}},Zy;function Oj(){return Zy||(Zy=1,(function(t,e){(function(r){t.exports=r()})(function(){var r=Math.floor,i=Math.abs,a=Math.pow;return(function(){function o(c,u,d){function p(w,b){if(!u[w]){if(!c[w]){var x=typeof Go=="function"&&Go;if(!b&&x)return x(w,!0);if(y)return y(w,!0);var E=new Error("Cannot find module '"+w+"'");throw E.code="MODULE_NOT_FOUND",E}var C=u[w]={exports:{}};c[w][0].call(C.exports,function(j){var I=c[w][1][j];return p(I||j)},C,C.exports,o,c,u,d)}return u[w].exports}for(var y=typeof Go=="function"&&Go,m=0;m<d.length;m++)p(d[m]);return p}return o})()({1:[function(o,c,u){function d(P){var R=P.length;if(0<R%4)throw new Error("Invalid string. Length must be a multiple of 4");var D=P.indexOf("=");D===-1&&(D=R);var O=D===R?0:4-D%4;return[D,O]}function p(P,R,D){return 3*(R+D)/4-D}function y(P){var R,D,O=d(P),L=O[0],J=O[1],z=new C(p(P,L,J)),H=0,te=0<J?L-4:L;for(D=0;D<te;D+=4)R=E[P.charCodeAt(D)]<<18|E[P.charCodeAt(D+1)]<<12|E[P.charCodeAt(D+2)]<<6|E[P.charCodeAt(D+3)],z[H++]=255&R>>16,z[H++]=255&R>>8,z[H++]=255&R;return J===2&&(R=E[P.charCodeAt(D)]<<2|E[P.charCodeAt(D+1)]>>4,z[H++]=255&R),J===1&&(R=E[P.charCodeAt(D)]<<10|E[P.charCodeAt(D+1)]<<4|E[P.charCodeAt(D+2)]>>2,z[H++]=255&R>>8,z[H++]=255&R),z}function m(P){return x[63&P>>18]+x[63&P>>12]+x[63&P>>6]+x[63&P]}function w(P,R,D){for(var O,L=[],J=R;J<D;J+=3)O=(16711680&P[J]<<16)+(65280&P[J+1]<<8)+(255&P[J+2]),L.push(m(O));return L.join("")}function b(P){for(var R,D=P.length,O=D%3,L=[],J=16383,z=0,H=D-O;z<H;z+=J)L.push(w(P,z,z+J>H?H:z+J));return O===1?(R=P[D-1],L.push(x[R>>2]+x[63&R<<4]+"==")):O===2&&(R=(P[D-2]<<8)+P[D-1],L.push(x[R>>10]+x[63&R>>4]+x[63&R<<2]+"=")),L.join("")}u.byteLength=function(P){var R=d(P),D=R[0],O=R[1];return 3*(D+O)/4-O},u.toByteArray=y,u.fromByteArray=b;for(var x=[],E=[],C=typeof Uint8Array>"u"?Array:Uint8Array,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I=0,k=j.length;I<k;++I)x[I]=j[I],E[j.charCodeAt(I)]=I;E[45]=62,E[95]=63},{}],2:[function(){},{}],3:[function(o,c,u){(function(){(function(){var d=String.fromCharCode,p=Math.min;function y(f){if(2147483647<f)throw new RangeError('The value "'+f+'" is invalid for option "size"');var S=new Uint8Array(f);return S.__proto__=m.prototype,S}function m(f,S,T){if(typeof f=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(f)}return w(f,S,T)}function w(f,S,T){if(typeof f=="string")return C(f,S);if(ArrayBuffer.isView(f))return j(f);if(f==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(V(f,ArrayBuffer)||f&&V(f.buffer,ArrayBuffer))return I(f,S,T);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var U=f.valueOf&&f.valueOf();if(U!=null&&U!==f)return m.from(U,S,T);var K=k(f);if(K)return K;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return m.from(f[Symbol.toPrimitive]("string"),S,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}function b(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(0>f)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function x(f,S,T){return b(f),0>=f||S===void 0?y(f):typeof T=="string"?y(f).fill(S,T):y(f).fill(S)}function E(f){return b(f),y(0>f?0:0|P(f))}function C(f,S){if((typeof S!="string"||S==="")&&(S="utf8"),!m.isEncoding(S))throw new TypeError("Unknown encoding: "+S);var T=0|R(f,S),U=y(T),K=U.write(f,S);return K!==T&&(U=U.slice(0,K)),U}function j(f){for(var S=0>f.length?0:0|P(f.length),T=y(S),U=0;U<S;U+=1)T[U]=255&f[U];return T}function I(f,S,T){if(0>S||f.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<S+(T||0))throw new RangeError('"length" is outside of buffer bounds');var U;return U=S===void 0&&T===void 0?new Uint8Array(f):T===void 0?new Uint8Array(f,S):new Uint8Array(f,S,T),U.__proto__=m.prototype,U}function k(f){if(m.isBuffer(f)){var S=0|P(f.length),T=y(S);return T.length===0||f.copy(T,0,0,S),T}return f.length===void 0?f.type==="Buffer"&&Array.isArray(f.data)?j(f.data):void 0:typeof f.length!="number"||G(f.length)?y(0):j(f)}function P(f){if(f>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|f}function R(f,S){if(m.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||V(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);var T=f.length,U=2<arguments.length&&arguments[2]===!0;if(!U&&T===0)return 0;for(var K=!1;;)switch(S){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return Ge(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*T;case"hex":return T>>>1;case"base64":return se(f).length;default:if(K)return U?-1:Ge(f).length;S=(""+S).toLowerCase(),K=!0}}function D(f,S,T){var U=!1;if((S===void 0||0>S)&&(S=0),S>this.length||((T===void 0||T>this.length)&&(T=this.length),0>=T)||(T>>>=0,S>>>=0,T<=S))return"";for(f||(f="utf8");;)switch(f){case"hex":return W(this,S,T);case"utf8":case"utf-8":return Ce(this,S,T);case"ascii":return ae(this,S,T);case"latin1":case"binary":return pe(this,S,T);case"base64":return Ae(this,S,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,S,T);default:if(U)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),U=!0}}function O(f,S,T){var U=f[S];f[S]=f[T],f[T]=U}function L(f,S,T,U,K){if(f.length===0)return-1;if(typeof T=="string"?(U=T,T=0):2147483647<T?T=2147483647:-2147483648>T&&(T=-2147483648),T=+T,G(T)&&(T=K?0:f.length-1),0>T&&(T=f.length+T),T>=f.length){if(K)return-1;T=f.length-1}else if(0>T)if(K)T=0;else return-1;if(typeof S=="string"&&(S=m.from(S,U)),m.isBuffer(S))return S.length===0?-1:J(f,S,T,U,K);if(typeof S=="number")return S&=255,typeof Uint8Array.prototype.indexOf=="function"?K?Uint8Array.prototype.indexOf.call(f,S,T):Uint8Array.prototype.lastIndexOf.call(f,S,T):J(f,[S],T,U,K);throw new TypeError("val must be string, number or Buffer")}function J(f,S,T,U,K){function ee($r,sn){return Ee===1?$r[sn]:$r.readUInt16BE(sn*Ee)}var Ee=1,$e=f.length,et=S.length;if(U!==void 0&&(U=(U+"").toLowerCase(),U==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(2>f.length||2>S.length)return-1;Ee=2,$e/=2,et/=2,T/=2}var We;if(K){var Fe=-1;for(We=T;We<$e;We++)if(ee(f,We)!==ee(S,Fe===-1?0:We-Fe))Fe!==-1&&(We-=We-Fe),Fe=-1;else if(Fe===-1&&(Fe=We),We-Fe+1===et)return Fe*Ee}else for(T+et>$e&&(T=$e-et),We=T;0<=We;We--){for(var ut=!0,Br=0;Br<et;Br++)if(ee(f,We+Br)!==ee(S,Br)){ut=!1;break}if(ut)return We}return-1}function z(f,S,T,U){T=+T||0;var K=f.length-T;U?(U=+U,U>K&&(U=K)):U=K;var ee=S.length;U>ee/2&&(U=ee/2);for(var Ee,$e=0;$e<U;++$e){if(Ee=parseInt(S.substr(2*$e,2),16),G(Ee))return $e;f[T+$e]=Ee}return $e}function H(f,S,T,U){return ge(Ge(S,f.length-T),f,T,U)}function te(f,S,T,U){return ge(_t(S),f,T,U)}function oe(f,S,T,U){return te(f,S,T,U)}function be(f,S,T,U){return ge(se(S),f,T,U)}function Re(f,S,T,U){return ge(ct(S,f.length-T),f,T,U)}function Ae(f,S,T){return S===0&&T===f.length?X.fromByteArray(f):X.fromByteArray(f.slice(S,T))}function Ce(f,S,T){T=p(f.length,T);for(var U=[],K=S;K<T;){var ee=f[K],Ee=null,$e=239<ee?4:223<ee?3:191<ee?2:1;if(K+$e<=T){var et,We,Fe,ut;$e===1?128>ee&&(Ee=ee):$e===2?(et=f[K+1],(192&et)==128&&(ut=(31&ee)<<6|63&et,127<ut&&(Ee=ut))):$e===3?(et=f[K+1],We=f[K+2],(192&et)==128&&(192&We)==128&&(ut=(15&ee)<<12|(63&et)<<6|63&We,2047<ut&&(55296>ut||57343<ut)&&(Ee=ut))):$e===4&&(et=f[K+1],We=f[K+2],Fe=f[K+3],(192&et)==128&&(192&We)==128&&(192&Fe)==128&&(ut=(15&ee)<<18|(63&et)<<12|(63&We)<<6|63&Fe,65535<ut&&1114112>ut&&(Ee=ut)))}Ee===null?(Ee=65533,$e=1):65535<Ee&&(Ee-=65536,U.push(55296|1023&Ee>>>10),Ee=56320|1023&Ee),U.push(Ee),K+=$e}return le(U)}function le(f){var S=f.length;if(S<=4096)return d.apply(String,f);for(var T="",U=0;U<S;)T+=d.apply(String,f.slice(U,U+=4096));return T}function ae(f,S,T){var U="";T=p(f.length,T);for(var K=S;K<T;++K)U+=d(127&f[K]);return U}function pe(f,S,T){var U="";T=p(f.length,T);for(var K=S;K<T;++K)U+=d(f[K]);return U}function W(f,S,T){var U=f.length;(!S||0>S)&&(S=0),(!T||0>T||T>U)&&(T=U);for(var K="",ee=S;ee<T;++ee)K+=Ke(f[ee]);return K}function ne(f,S,T){for(var U=f.slice(S,T),K="",ee=0;ee<U.length;ee+=2)K+=d(U[ee]+256*U[ee+1]);return K}function ye(f,S,T){if(f%1!=0||0>f)throw new RangeError("offset is not uint");if(f+S>T)throw new RangeError("Trying to access beyond buffer length")}function me(f,S,T,U,K,ee){if(!m.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>K||S<ee)throw new RangeError('"value" argument is out of bounds');if(T+U>f.length)throw new RangeError("Index out of range")}function ie(f,S,T,U){if(T+U>f.length)throw new RangeError("Index out of range");if(0>T)throw new RangeError("Index out of range")}function ke(f,S,T,U,K){return S=+S,T>>>=0,K||ie(f,S,T,4),he.write(f,S,T,U,23,4),T+4}function Ve(f,S,T,U,K){return S=+S,T>>>=0,K||ie(f,S,T,8),he.write(f,S,T,U,52,8),T+8}function Be(f){if(f=f.split("=")[0],f=f.trim().replace(N,""),2>f.length)return"";for(;f.length%4!=0;)f+="=";return f}function Ke(f){return 16>f?"0"+f.toString(16):f.toString(16)}function Ge(f,S){S=S||1/0;for(var T,U=f.length,K=null,ee=[],Ee=0;Ee<U;++Ee){if(T=f.charCodeAt(Ee),55295<T&&57344>T){if(!K){if(56319<T){-1<(S-=3)&&ee.push(239,191,189);continue}else if(Ee+1===U){-1<(S-=3)&&ee.push(239,191,189);continue}K=T;continue}if(56320>T){-1<(S-=3)&&ee.push(239,191,189),K=T;continue}T=(K-55296<<10|T-56320)+65536}else K&&-1<(S-=3)&&ee.push(239,191,189);if(K=null,128>T){if(0>(S-=1))break;ee.push(T)}else if(2048>T){if(0>(S-=2))break;ee.push(192|T>>6,128|63&T)}else if(65536>T){if(0>(S-=3))break;ee.push(224|T>>12,128|63&T>>6,128|63&T)}else if(1114112>T){if(0>(S-=4))break;ee.push(240|T>>18,128|63&T>>12,128|63&T>>6,128|63&T)}else throw new Error("Invalid code point")}return ee}function _t(f){for(var S=[],T=0;T<f.length;++T)S.push(255&f.charCodeAt(T));return S}function ct(f,S){for(var T,U,K,ee=[],Ee=0;Ee<f.length&&!(0>(S-=2));++Ee)T=f.charCodeAt(Ee),U=T>>8,K=T%256,ee.push(K),ee.push(U);return ee}function se(f){return X.toByteArray(Be(f))}function ge(f,S,T,U){for(var K=0;K<U&&!(K+T>=S.length||K>=f.length);++K)S[K+T]=f[K];return K}function V(f,S){return f instanceof S||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===S.name}function G(f){return f!==f}var X=o("base64-js"),he=o("ieee754");u.Buffer=m,u.SlowBuffer=function(f){return+f!=f&&(f=0),m.alloc(+f)},u.INSPECT_MAX_BYTES=50,u.kMaxLength=2147483647,m.TYPED_ARRAY_SUPPORT=(function(){try{var f=new Uint8Array(1);return f.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},f.foo()===42}catch{return!1}})(),m.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){return m.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){return m.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol<"u"&&Symbol.species!=null&&m[Symbol.species]===m&&Object.defineProperty(m,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),m.poolSize=8192,m.from=function(f,S,T){return w(f,S,T)},m.prototype.__proto__=Uint8Array.prototype,m.__proto__=Uint8Array,m.alloc=function(f,S,T){return x(f,S,T)},m.allocUnsafe=function(f){return E(f)},m.allocUnsafeSlow=function(f){return E(f)},m.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==m.prototype},m.compare=function(f,S){if(V(f,Uint8Array)&&(f=m.from(f,f.offset,f.byteLength)),V(S,Uint8Array)&&(S=m.from(S,S.offset,S.byteLength)),!m.isBuffer(f)||!m.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===S)return 0;for(var T=f.length,U=S.length,K=0,ee=p(T,U);K<ee;++K)if(f[K]!==S[K]){T=f[K],U=S[K];break}return T<U?-1:U<T?1:0},m.isEncoding=function(f){switch((f+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(f,S){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return m.alloc(0);var T;if(S===void 0)for(S=0,T=0;T<f.length;++T)S+=f[T].length;var U=m.allocUnsafe(S),K=0;for(T=0;T<f.length;++T){var ee=f[T];if(V(ee,Uint8Array)&&(ee=m.from(ee)),!m.isBuffer(ee))throw new TypeError('"list" argument must be an Array of Buffers');ee.copy(U,K),K+=ee.length}return U},m.byteLength=R,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var f=this.length;if(f%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var S=0;S<f;S+=2)O(this,S,S+1);return this},m.prototype.swap32=function(){var f=this.length;if(f%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var S=0;S<f;S+=4)O(this,S,S+3),O(this,S+1,S+2);return this},m.prototype.swap64=function(){var f=this.length;if(f%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var S=0;S<f;S+=8)O(this,S,S+7),O(this,S+1,S+6),O(this,S+2,S+5),O(this,S+3,S+4);return this},m.prototype.toString=function(){var f=this.length;return f===0?"":arguments.length===0?Ce(this,0,f):D.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(f){if(!m.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f||m.compare(this,f)===0},m.prototype.inspect=function(){var f="",S=u.INSPECT_MAX_BYTES;return f=this.toString("hex",0,S).replace(/(.{2})/g,"$1 ").trim(),this.length>S&&(f+=" ... "),"<Buffer "+f+">"},m.prototype.compare=function(f,S,T,U,K){if(V(f,Uint8Array)&&(f=m.from(f,f.offset,f.byteLength)),!m.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(S===void 0&&(S=0),T===void 0&&(T=f?f.length:0),U===void 0&&(U=0),K===void 0&&(K=this.length),0>S||T>f.length||0>U||K>this.length)throw new RangeError("out of range index");if(U>=K&&S>=T)return 0;if(U>=K)return-1;if(S>=T)return 1;if(S>>>=0,T>>>=0,U>>>=0,K>>>=0,this===f)return 0;for(var ee=K-U,Ee=T-S,$e=p(ee,Ee),et=this.slice(U,K),We=f.slice(S,T),Fe=0;Fe<$e;++Fe)if(et[Fe]!==We[Fe]){ee=et[Fe],Ee=We[Fe];break}return ee<Ee?-1:Ee<ee?1:0},m.prototype.includes=function(f,S,T){return this.indexOf(f,S,T)!==-1},m.prototype.indexOf=function(f,S,T){return L(this,f,S,T,!0)},m.prototype.lastIndexOf=function(f,S,T){return L(this,f,S,T,!1)},m.prototype.write=function(f,S,T,U){if(S===void 0)U="utf8",T=this.length,S=0;else if(T===void 0&&typeof S=="string")U=S,T=this.length,S=0;else if(isFinite(S))S>>>=0,isFinite(T)?(T>>>=0,U===void 0&&(U="utf8")):(U=T,T=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var K=this.length-S;if((T===void 0||T>K)&&(T=K),0<f.length&&(0>T||0>S)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");U||(U="utf8");for(var ee=!1;;)switch(U){case"hex":return z(this,f,S,T);case"utf8":case"utf-8":return H(this,f,S,T);case"ascii":return te(this,f,S,T);case"latin1":case"binary":return oe(this,f,S,T);case"base64":return be(this,f,S,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Re(this,f,S,T);default:if(ee)throw new TypeError("Unknown encoding: "+U);U=(""+U).toLowerCase(),ee=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},m.prototype.slice=function(f,S){var T=this.length;f=~~f,S=S===void 0?T:~~S,0>f?(f+=T,0>f&&(f=0)):f>T&&(f=T),0>S?(S+=T,0>S&&(S=0)):S>T&&(S=T),S<f&&(S=f);var U=this.subarray(f,S);return U.__proto__=m.prototype,U},m.prototype.readUIntLE=function(f,S,T){f>>>=0,S>>>=0,T||ye(f,S,this.length);for(var U=this[f],K=1,ee=0;++ee<S&&(K*=256);)U+=this[f+ee]*K;return U},m.prototype.readUIntBE=function(f,S,T){f>>>=0,S>>>=0,T||ye(f,S,this.length);for(var U=this[f+--S],K=1;0<S&&(K*=256);)U+=this[f+--S]*K;return U},m.prototype.readUInt8=function(f,S){return f>>>=0,S||ye(f,1,this.length),this[f]},m.prototype.readUInt16LE=function(f,S){return f>>>=0,S||ye(f,2,this.length),this[f]|this[f+1]<<8},m.prototype.readUInt16BE=function(f,S){return f>>>=0,S||ye(f,2,this.length),this[f]<<8|this[f+1]},m.prototype.readUInt32LE=function(f,S){return f>>>=0,S||ye(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+16777216*this[f+3]},m.prototype.readUInt32BE=function(f,S){return f>>>=0,S||ye(f,4,this.length),16777216*this[f]+(this[f+1]<<16|this[f+2]<<8|this[f+3])},m.prototype.readIntLE=function(f,S,T){f>>>=0,S>>>=0,T||ye(f,S,this.length);for(var U=this[f],K=1,ee=0;++ee<S&&(K*=256);)U+=this[f+ee]*K;return K*=128,U>=K&&(U-=a(2,8*S)),U},m.prototype.readIntBE=function(f,S,T){f>>>=0,S>>>=0,T||ye(f,S,this.length);for(var U=S,K=1,ee=this[f+--U];0<U&&(K*=256);)ee+=this[f+--U]*K;return K*=128,ee>=K&&(ee-=a(2,8*S)),ee},m.prototype.readInt8=function(f,S){return f>>>=0,S||ye(f,1,this.length),128&this[f]?-1*(255-this[f]+1):this[f]},m.prototype.readInt16LE=function(f,S){f>>>=0,S||ye(f,2,this.length);var T=this[f]|this[f+1]<<8;return 32768&T?4294901760|T:T},m.prototype.readInt16BE=function(f,S){f>>>=0,S||ye(f,2,this.length);var T=this[f+1]|this[f]<<8;return 32768&T?4294901760|T:T},m.prototype.readInt32LE=function(f,S){return f>>>=0,S||ye(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},m.prototype.readInt32BE=function(f,S){return f>>>=0,S||ye(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},m.prototype.readFloatLE=function(f,S){return f>>>=0,S||ye(f,4,this.length),he.read(this,f,!0,23,4)},m.prototype.readFloatBE=function(f,S){return f>>>=0,S||ye(f,4,this.length),he.read(this,f,!1,23,4)},m.prototype.readDoubleLE=function(f,S){return f>>>=0,S||ye(f,8,this.length),he.read(this,f,!0,52,8)},m.prototype.readDoubleBE=function(f,S){return f>>>=0,S||ye(f,8,this.length),he.read(this,f,!1,52,8)},m.prototype.writeUIntLE=function(f,S,T,U){if(f=+f,S>>>=0,T>>>=0,!U){var K=a(2,8*T)-1;me(this,f,S,T,K,0)}var ee=1,Ee=0;for(this[S]=255&f;++Ee<T&&(ee*=256);)this[S+Ee]=255&f/ee;return S+T},m.prototype.writeUIntBE=function(f,S,T,U){if(f=+f,S>>>=0,T>>>=0,!U){var K=a(2,8*T)-1;me(this,f,S,T,K,0)}var ee=T-1,Ee=1;for(this[S+ee]=255&f;0<=--ee&&(Ee*=256);)this[S+ee]=255&f/Ee;return S+T},m.prototype.writeUInt8=function(f,S,T){return f=+f,S>>>=0,T||me(this,f,S,1,255,0),this[S]=255&f,S+1},m.prototype.writeUInt16LE=function(f,S,T){return f=+f,S>>>=0,T||me(this,f,S,2,65535,0),this[S]=255&f,this[S+1]=f>>>8,S+2},m.prototype.writeUInt16BE=function(f,S,T){return f=+f,S>>>=0,T||me(this,f,S,2,65535,0),this[S]=f>>>8,this[S+1]=255&f,S+2},m.prototype.writeUInt32LE=function(f,S,T){return f=+f,S>>>=0,T||me(this,f,S,4,4294967295,0),this[S+3]=f>>>24,this[S+2]=f>>>16,this[S+1]=f>>>8,this[S]=255&f,S+4},m.prototype.writeUInt32BE=function(f,S,T){return f=+f,S>>>=0,T||me(this,f,S,4,4294967295,0),this[S]=f>>>24,this[S+1]=f>>>16,this[S+2]=f>>>8,this[S+3]=255&f,S+4},m.prototype.writeIntLE=function(f,S,T,U){if(f=+f,S>>>=0,!U){var K=a(2,8*T-1);me(this,f,S,T,K-1,-K)}var ee=0,Ee=1,$e=0;for(this[S]=255&f;++ee<T&&(Ee*=256);)0>f&&$e===0&&this[S+ee-1]!==0&&($e=1),this[S+ee]=255&(f/Ee>>0)-$e;return S+T},m.prototype.writeIntBE=function(f,S,T,U){if(f=+f,S>>>=0,!U){var K=a(2,8*T-1);me(this,f,S,T,K-1,-K)}var ee=T-1,Ee=1,$e=0;for(this[S+ee]=255&f;0<=--ee&&(Ee*=256);)0>f&&$e===0&&this[S+ee+1]!==0&&($e=1),this[S+ee]=255&(f/Ee>>0)-$e;return S+T},m.prototype.writeInt8=function(f,S,T){return f=+f,S>>>=0,T||me(this,f,S,1,127,-128),0>f&&(f=255+f+1),this[S]=255&f,S+1},m.prototype.writeInt16LE=function(f,S,T){return f=+f,S>>>=0,T||me(this,f,S,2,32767,-32768),this[S]=255&f,this[S+1]=f>>>8,S+2},m.prototype.writeInt16BE=function(f,S,T){return f=+f,S>>>=0,T||me(this,f,S,2,32767,-32768),this[S]=f>>>8,this[S+1]=255&f,S+2},m.prototype.writeInt32LE=function(f,S,T){return f=+f,S>>>=0,T||me(this,f,S,4,2147483647,-2147483648),this[S]=255&f,this[S+1]=f>>>8,this[S+2]=f>>>16,this[S+3]=f>>>24,S+4},m.prototype.writeInt32BE=function(f,S,T){return f=+f,S>>>=0,T||me(this,f,S,4,2147483647,-2147483648),0>f&&(f=4294967295+f+1),this[S]=f>>>24,this[S+1]=f>>>16,this[S+2]=f>>>8,this[S+3]=255&f,S+4},m.prototype.writeFloatLE=function(f,S,T){return ke(this,f,S,!0,T)},m.prototype.writeFloatBE=function(f,S,T){return ke(this,f,S,!1,T)},m.prototype.writeDoubleLE=function(f,S,T){return Ve(this,f,S,!0,T)},m.prototype.writeDoubleBE=function(f,S,T){return Ve(this,f,S,!1,T)},m.prototype.copy=function(f,S,T,U){if(!m.isBuffer(f))throw new TypeError("argument should be a Buffer");if(T||(T=0),U||U===0||(U=this.length),S>=f.length&&(S=f.length),S||(S=0),0<U&&U<T&&(U=T),U===T||f.length===0||this.length===0)return 0;if(0>S)throw new RangeError("targetStart out of bounds");if(0>T||T>=this.length)throw new RangeError("Index out of range");if(0>U)throw new RangeError("sourceEnd out of bounds");U>this.length&&(U=this.length),f.length-S<U-T&&(U=f.length-S+T);var K=U-T;if(this===f&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(S,T,U);else if(this===f&&T<S&&S<U)for(var ee=K-1;0<=ee;--ee)f[ee+S]=this[ee+T];else Uint8Array.prototype.set.call(f,this.subarray(T,U),S);return K},m.prototype.fill=function(f,S,T,U){if(typeof f=="string"){if(typeof S=="string"?(U=S,S=0,T=this.length):typeof T=="string"&&(U=T,T=this.length),U!==void 0&&typeof U!="string")throw new TypeError("encoding must be a string");if(typeof U=="string"&&!m.isEncoding(U))throw new TypeError("Unknown encoding: "+U);if(f.length===1){var K=f.charCodeAt(0);(U==="utf8"&&128>K||U==="latin1")&&(f=K)}}else typeof f=="number"&&(f&=255);if(0>S||this.length<S||this.length<T)throw new RangeError("Out of range index");if(T<=S)return this;S>>>=0,T=T===void 0?this.length:T>>>0,f||(f=0);var ee;if(typeof f=="number")for(ee=S;ee<T;++ee)this[ee]=f;else{var Ee=m.isBuffer(f)?f:m.from(f,U),$e=Ee.length;if($e===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(ee=0;ee<T-S;++ee)this[ee+S]=Ee[ee%$e]}return this};var N=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,o("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:9}],4:[function(o,c,u){(function(d){(function(){function p(){let m;try{m=u.storage.getItem("debug")}catch{}return!m&&typeof d<"u"&&"env"in d&&(m=d.env.DEBUG),m}u.formatArgs=function(m){if(m[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+m[0]+(this.useColors?"%c ":" ")+"+"+c.exports.humanize(this.diff),!this.useColors)return;const w="color: "+this.color;m.splice(1,0,w,"color: inherit");let b=0,x=0;m[0].replace(/%[a-zA-Z%]/g,E=>{E==="%%"||(b++,E==="%c"&&(x=b))}),m.splice(x,0,w)},u.save=function(m){try{m?u.storage.setItem("debug",m):u.storage.removeItem("debug")}catch{}},u.load=p,u.useColors=function(){return!!(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},u.storage=(function(){try{return localStorage}catch{}})(),u.destroy=(()=>{let m=!1;return()=>{m||(m=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),u.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],u.log=console.debug||console.log||(()=>{}),c.exports=o("./common")(u);const{formatters:y}=c.exports;y.j=function(m){try{return JSON.stringify(m)}catch(w){return"[UnexpectedJSONParseError]: "+w.message}}}).call(this)}).call(this,o("_process"))},{"./common":5,_process:12}],5:[function(o,c){c.exports=function(u){function d(m){function w(...E){if(!w.enabled)return;const C=w,j=+new Date,I=j-(b||j);C.diff=I,C.prev=b,C.curr=j,b=j,E[0]=d.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let k=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(R,D)=>{if(R==="%%")return"%";k++;const O=d.formatters[D];if(typeof O=="function"){const L=E[k];R=O.call(C,L),E.splice(k,1),k--}return R}),d.formatArgs.call(C,E),(C.log||d.log).apply(C,E)}let b,x=null;return w.namespace=m,w.useColors=d.useColors(),w.color=d.selectColor(m),w.extend=p,w.destroy=d.destroy,Object.defineProperty(w,"enabled",{enumerable:!0,configurable:!1,get:()=>x===null?d.enabled(m):x,set:E=>{x=E}}),typeof d.init=="function"&&d.init(w),w}function p(m,w){const b=d(this.namespace+(typeof w>"u"?":":w)+m);return b.log=this.log,b}function y(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}return d.debug=d,d.default=d,d.coerce=function(m){return m instanceof Error?m.stack||m.message:m},d.disable=function(){const m=[...d.names.map(y),...d.skips.map(y).map(w=>"-"+w)].join(",");return d.enable(""),m},d.enable=function(m){d.save(m),d.names=[],d.skips=[];let w;const b=(typeof m=="string"?m:"").split(/[\s,]+/),x=b.length;for(w=0;w<x;w++)b[w]&&(m=b[w].replace(/\*/g,".*?"),m[0]==="-"?d.skips.push(new RegExp("^"+m.substr(1)+"$")):d.names.push(new RegExp("^"+m+"$")))},d.enabled=function(m){if(m[m.length-1]==="*")return!0;let w,b;for(w=0,b=d.skips.length;w<b;w++)if(d.skips[w].test(m))return!1;for(w=0,b=d.names.length;w<b;w++)if(d.names[w].test(m))return!0;return!1},d.humanize=o("ms"),d.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(u).forEach(m=>{d[m]=u[m]}),d.names=[],d.skips=[],d.formatters={},d.selectColor=function(m){let w=0;for(let b=0;b<m.length;b++)w=(w<<5)-w+m.charCodeAt(b),w|=0;return d.colors[i(w)%d.colors.length]},d.enable(d.load()),d}},{ms:11}],6:[function(o,c){function u(d,p){for(const y in p)Object.defineProperty(d,y,{value:p[y],enumerable:!0,configurable:!0});return d}c.exports=function(d,p,y){if(!d||typeof d=="string")throw new TypeError("Please pass an Error to err-code");y||(y={}),typeof p=="object"&&(y=p,p=""),p&&(y.code=p);try{return u(d,y)}catch{y.message=d.message,y.stack=d.stack;const w=function(){};return w.prototype=Object.create(Object.getPrototypeOf(d)),u(new w,y)}}},{}],7:[function(o,c){function u(z){console&&console.warn&&console.warn(z)}function d(){d.init.call(this)}function p(z){if(typeof z!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof z)}function y(z){return z._maxListeners===void 0?d.defaultMaxListeners:z._maxListeners}function m(z,H,te,oe){var be,Re,Ae;if(p(te),Re=z._events,Re===void 0?(Re=z._events=Object.create(null),z._eventsCount=0):(Re.newListener!==void 0&&(z.emit("newListener",H,te.listener?te.listener:te),Re=z._events),Ae=Re[H]),Ae===void 0)Ae=Re[H]=te,++z._eventsCount;else if(typeof Ae=="function"?Ae=Re[H]=oe?[te,Ae]:[Ae,te]:oe?Ae.unshift(te):Ae.push(te),be=y(z),0<be&&Ae.length>be&&!Ae.warned){Ae.warned=!0;var Ce=new Error("Possible EventEmitter memory leak detected. "+Ae.length+" "+(H+" listeners added. Use emitter.setMaxListeners() to increase limit"));Ce.name="MaxListenersExceededWarning",Ce.emitter=z,Ce.type=H,Ce.count=Ae.length,u(Ce)}return z}function w(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(z,H,te){var oe={fired:!1,wrapFn:void 0,target:z,type:H,listener:te},be=w.bind(oe);return be.listener=te,oe.wrapFn=be,be}function x(z,H,te){var oe=z._events;if(oe===void 0)return[];var be=oe[H];return be===void 0?[]:typeof be=="function"?te?[be.listener||be]:[be]:te?I(be):C(be,be.length)}function E(z){var H=this._events;if(H!==void 0){var te=H[z];if(typeof te=="function")return 1;if(te!==void 0)return te.length}return 0}function C(z,H){for(var te=Array(H),oe=0;oe<H;++oe)te[oe]=z[oe];return te}function j(z,H){for(;H+1<z.length;H++)z[H]=z[H+1];z.pop()}function I(z){for(var H=Array(z.length),te=0;te<H.length;++te)H[te]=z[te].listener||z[te];return H}function k(z,H,te){typeof z.on=="function"&&P(z,"error",H,te)}function P(z,H,te,oe){if(typeof z.on=="function")oe.once?z.once(H,te):z.on(H,te);else if(typeof z.addEventListener=="function")z.addEventListener(H,function be(Re){oe.once&&z.removeEventListener(H,be),te(Re)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof z)}var R,D=typeof Reflect=="object"?Reflect:null,O=D&&typeof D.apply=="function"?D.apply:function(z,H,te){return Function.prototype.apply.call(z,H,te)};R=D&&typeof D.ownKeys=="function"?D.ownKeys:Object.getOwnPropertySymbols?function(z){return Object.getOwnPropertyNames(z).concat(Object.getOwnPropertySymbols(z))}:function(z){return Object.getOwnPropertyNames(z)};var L=Number.isNaN||function(z){return z!==z};c.exports=d,c.exports.once=function(z,H){return new Promise(function(te,oe){function be(Ae){z.removeListener(H,Re),oe(Ae)}function Re(){typeof z.removeListener=="function"&&z.removeListener("error",be),te([].slice.call(arguments))}P(z,H,Re,{once:!0}),H!=="error"&&k(z,be,{once:!0})})},d.EventEmitter=d,d.prototype._events=void 0,d.prototype._eventsCount=0,d.prototype._maxListeners=void 0;var J=10;Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return J},set:function(z){if(typeof z!="number"||0>z||L(z))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+z+".");J=z}}),d.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},d.prototype.setMaxListeners=function(z){if(typeof z!="number"||0>z||L(z))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+z+".");return this._maxListeners=z,this},d.prototype.getMaxListeners=function(){return y(this)},d.prototype.emit=function(z){for(var H=[],te=1;te<arguments.length;te++)H.push(arguments[te]);var oe=z==="error",be=this._events;if(be!==void 0)oe=oe&&be.error===void 0;else if(!oe)return!1;if(oe){var Re;if(0<H.length&&(Re=H[0]),Re instanceof Error)throw Re;var Ae=new Error("Unhandled error."+(Re?" ("+Re.message+")":""));throw Ae.context=Re,Ae}var Ce=be[z];if(Ce===void 0)return!1;if(typeof Ce=="function")O(Ce,this,H);else for(var le=Ce.length,ae=C(Ce,le),te=0;te<le;++te)O(ae[te],this,H);return!0},d.prototype.addListener=function(z,H){return m(this,z,H,!1)},d.prototype.on=d.prototype.addListener,d.prototype.prependListener=function(z,H){return m(this,z,H,!0)},d.prototype.once=function(z,H){return p(H),this.on(z,b(this,z,H)),this},d.prototype.prependOnceListener=function(z,H){return p(H),this.prependListener(z,b(this,z,H)),this},d.prototype.removeListener=function(z,H){var te,oe,be,Re,Ae;if(p(H),oe=this._events,oe===void 0)return this;if(te=oe[z],te===void 0)return this;if(te===H||te.listener===H)--this._eventsCount==0?this._events=Object.create(null):(delete oe[z],oe.removeListener&&this.emit("removeListener",z,te.listener||H));else if(typeof te!="function"){for(be=-1,Re=te.length-1;0<=Re;Re--)if(te[Re]===H||te[Re].listener===H){Ae=te[Re].listener,be=Re;break}if(0>be)return this;be===0?te.shift():j(te,be),te.length===1&&(oe[z]=te[0]),oe.removeListener!==void 0&&this.emit("removeListener",z,Ae||H)}return this},d.prototype.off=d.prototype.removeListener,d.prototype.removeAllListeners=function(z){var H,te,oe;if(te=this._events,te===void 0)return this;if(te.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):te[z]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete te[z]),this;if(arguments.length===0){var be,Re=Object.keys(te);for(oe=0;oe<Re.length;++oe)be=Re[oe],be!=="removeListener"&&this.removeAllListeners(be);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(H=te[z],typeof H=="function")this.removeListener(z,H);else if(H!==void 0)for(oe=H.length-1;0<=oe;oe--)this.removeListener(z,H[oe]);return this},d.prototype.listeners=function(z){return x(this,z,!0)},d.prototype.rawListeners=function(z){return x(this,z,!1)},d.listenerCount=function(z,H){return typeof z.listenerCount=="function"?z.listenerCount(H):E.call(z,H)},d.prototype.listenerCount=E,d.prototype.eventNames=function(){return 0<this._eventsCount?R(this._events):[]}},{}],8:[function(o,c){c.exports=function(){if(typeof globalThis>"u")return null;var u={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return u.RTCPeerConnection?u:null}},{}],9:[function(o,c,u){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */u.read=function(d,p,y,m,w){var b,x,E=8*w-m-1,C=(1<<E)-1,j=C>>1,I=-7,k=y?w-1:0,P=y?-1:1,R=d[p+k];for(k+=P,b=R&(1<<-I)-1,R>>=-I,I+=E;0<I;b=256*b+d[p+k],k+=P,I-=8);for(x=b&(1<<-I)-1,b>>=-I,I+=m;0<I;x=256*x+d[p+k],k+=P,I-=8);if(b===0)b=1-j;else{if(b===C)return x?NaN:(R?-1:1)*(1/0);x+=a(2,m),b-=j}return(R?-1:1)*x*a(2,b-m)},u.write=function(d,p,y,m,w,b){var x,E,C,j=Math.LN2,I=Math.log,k=8*b-w-1,P=(1<<k)-1,R=P>>1,D=w===23?a(2,-24)-a(2,-77):0,O=m?0:b-1,L=m?1:-1,J=0>p||p===0&&0>1/p?1:0;for(p=i(p),isNaN(p)||p===1/0?(E=isNaN(p)?1:0,x=P):(x=r(I(p)/j),1>p*(C=a(2,-x))&&(x--,C*=2),p+=1<=x+R?D/C:D*a(2,1-R),2<=p*C&&(x++,C/=2),x+R>=P?(E=0,x=P):1<=x+R?(E=(p*C-1)*a(2,w),x+=R):(E=p*a(2,R-1)*a(2,w),x=0));8<=w;d[y+O]=255&E,O+=L,E/=256,w-=8);for(x=x<<w|E,k+=w;0<k;d[y+O]=255&x,O+=L,x/=256,k-=8);d[y+O-L]|=128*J}},{}],10:[function(o,c){c.exports=typeof Object.create=="function"?function(u,d){d&&(u.super_=d,u.prototype=Object.create(d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}))}:function(u,d){if(d){u.super_=d;var p=function(){};p.prototype=d.prototype,u.prototype=new p,u.prototype.constructor=u}}},{}],11:[function(o,c){var u=Math.round;function d(w){if(w+="",!(100<w.length)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(w);if(b){var x=parseFloat(b[1]),E=(b[2]||"ms").toLowerCase();return E==="years"||E==="year"||E==="yrs"||E==="yr"||E==="y"?315576e5*x:E==="weeks"||E==="week"||E==="w"?6048e5*x:E==="days"||E==="day"||E==="d"?864e5*x:E==="hours"||E==="hour"||E==="hrs"||E==="hr"||E==="h"?36e5*x:E==="minutes"||E==="minute"||E==="mins"||E==="min"||E==="m"?6e4*x:E==="seconds"||E==="second"||E==="secs"||E==="sec"||E==="s"?1e3*x:E==="milliseconds"||E==="millisecond"||E==="msecs"||E==="msec"||E==="ms"?x:void 0}}}function p(w){var b=i(w);return 864e5<=b?u(w/864e5)+"d":36e5<=b?u(w/36e5)+"h":6e4<=b?u(w/6e4)+"m":1e3<=b?u(w/1e3)+"s":w+"ms"}function y(w){var b=i(w);return 864e5<=b?m(w,b,864e5,"day"):36e5<=b?m(w,b,36e5,"hour"):6e4<=b?m(w,b,6e4,"minute"):1e3<=b?m(w,b,1e3,"second"):w+" ms"}function m(w,b,x,E){return u(w/x)+" "+E+(b>=1.5*x?"s":"")}c.exports=function(w,b){b=b||{};var x=typeof w;if(x=="string"&&0<w.length)return d(w);if(x==="number"&&isFinite(w))return b.long?y(w):p(w);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(w))}},{}],12:[function(o,c){function u(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function p(D){if(E===setTimeout)return setTimeout(D,0);if((E===u||!E)&&setTimeout)return E=setTimeout,setTimeout(D,0);try{return E(D,0)}catch{try{return E.call(null,D,0)}catch{return E.call(this,D,0)}}}function y(D){if(C===clearTimeout)return clearTimeout(D);if((C===d||!C)&&clearTimeout)return C=clearTimeout,clearTimeout(D);try{return C(D)}catch{try{return C.call(null,D)}catch{return C.call(this,D)}}}function m(){P&&I&&(P=!1,I.length?k=I.concat(k):R=-1,k.length&&w())}function w(){if(!P){var D=p(m);P=!0;for(var O=k.length;O;){for(I=k,k=[];++R<O;)I&&I[R].run();R=-1,O=k.length}I=null,P=!1,y(D)}}function b(D,O){this.fun=D,this.array=O}function x(){}var E,C,j=c.exports={};(function(){try{E=typeof setTimeout=="function"?setTimeout:u}catch{E=u}try{C=typeof clearTimeout=="function"?clearTimeout:d}catch{C=d}})();var I,k=[],P=!1,R=-1;j.nextTick=function(D){var O=Array(arguments.length-1);if(1<arguments.length)for(var L=1;L<arguments.length;L++)O[L-1]=arguments[L];k.push(new b(D,O)),k.length!==1||P||p(w)},b.prototype.run=function(){this.fun.apply(null,this.array)},j.title="browser",j.browser=!0,j.env={},j.argv=[],j.version="",j.versions={},j.on=x,j.addListener=x,j.once=x,j.off=x,j.removeListener=x,j.removeAllListeners=x,j.emit=x,j.prependListener=x,j.prependOnceListener=x,j.listeners=function(){return[]},j.binding=function(){throw new Error("process.binding is not supported")},j.cwd=function(){return"/"},j.chdir=function(){throw new Error("process.chdir is not supported")},j.umask=function(){return 0}},{}],13:[function(o,c){(function(u){(function(){/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let d;c.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window>"u"?u:window):p=>(d||(d=Promise.resolve())).then(p).catch(y=>setTimeout(()=>{throw y},0))}).call(this)}).call(this,typeof Dr>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Dr)},{}],14:[function(o,c){(function(u,d){(function(){var p=o("safe-buffer").Buffer,y=d.crypto||d.msCrypto;c.exports=y&&y.getRandomValues?function(m,w){if(m>4294967295)throw new RangeError("requested too many random bytes");var b=p.allocUnsafe(m);if(0<m)if(65536<m)for(var x=0;x<m;x+=65536)y.getRandomValues(b.slice(x,x+65536));else y.getRandomValues(b);return typeof w=="function"?u.nextTick(function(){w(null,b)}):b}:function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,o("_process"),typeof Dr>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Dr)},{_process:12,"safe-buffer":30}],15:[function(o,c){function u(x,E){x.prototype=Object.create(E.prototype),x.prototype.constructor=x,x.__proto__=E}function d(x,E,C){function j(k,P,R){return typeof E=="string"?E:E(k,P,R)}C||(C=Error);var I=(function(k){function P(R,D,O){return k.call(this,j(R,D,O))||this}return u(P,k),P})(C);I.prototype.name=C.name,I.prototype.code=x,b[x]=I}function p(x,E){if(Array.isArray(x)){var C=x.length;return x=x.map(function(j){return j+""}),2<C?"one of ".concat(E," ").concat(x.slice(0,C-1).join(", "),", or ")+x[C-1]:C===2?"one of ".concat(E," ").concat(x[0]," or ").concat(x[1]):"of ".concat(E," ").concat(x[0])}return"of ".concat(E," ").concat(x+"")}function y(x,E,C){return x.substr(0,E.length)===E}function m(x,E,C){return(C===void 0||C>x.length)&&(C=x.length),x.substring(C-E.length,C)===E}function w(x,E,C){return typeof C!="number"&&(C=0),!(C+E.length>x.length)&&x.indexOf(E,C)!==-1}var b={};d("ERR_INVALID_OPT_VALUE",function(x,E){return'The value "'+E+'" is invalid for option "'+x+'"'},TypeError),d("ERR_INVALID_ARG_TYPE",function(x,E,C){var j;typeof E=="string"&&y(E,"not ")?(j="must not be",E=E.replace(/^not /,"")):j="must be";var I;if(m(x," argument"))I="The ".concat(x," ").concat(j," ").concat(p(E,"type"));else{var k=w(x,".")?"property":"argument";I='The "'.concat(x,'" ').concat(k," ").concat(j," ").concat(p(E,"type"))}return I+=". Received type ".concat(typeof C),I},TypeError),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),d("ERR_METHOD_NOT_IMPLEMENTED",function(x){return"The "+x+" method is not implemented"}),d("ERR_STREAM_PREMATURE_CLOSE","Premature close"),d("ERR_STREAM_DESTROYED",function(x){return"Cannot call "+x+" after a stream was destroyed"}),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),d("ERR_STREAM_WRITE_AFTER_END","write after end"),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_UNKNOWN_ENCODING",function(x){return"Unknown encoding: "+x},TypeError),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),c.exports.codes=b},{}],16:[function(o,c){(function(u){(function(){function d(j){return this instanceof d?(w.call(this,j),b.call(this,j),this.allowHalfOpen=!0,void(j&&(j.readable===!1&&(this.readable=!1),j.writable===!1&&(this.writable=!1),j.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",p))))):new d(j)}function p(){this._writableState.ended||u.nextTick(y,this)}function y(j){j.end()}var m=Object.keys||function(j){var I=[];for(var k in j)I.push(k);return I};c.exports=d;var w=o("./_stream_readable"),b=o("./_stream_writable");o("inherits")(d,w);for(var x,E=m(b.prototype),C=0;C<E.length;C++)x=E[C],d.prototype[x]||(d.prototype[x]=b.prototype[x]);Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(j){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=j,this._writableState.destroyed=j)}})}).call(this)}).call(this,o("_process"))},{"./_stream_readable":18,"./_stream_writable":20,_process:12,inherits:10}],17:[function(o,c){function u(p){return this instanceof u?void d.call(this,p):new u(p)}c.exports=u;var d=o("./_stream_transform");o("inherits")(u,d),u.prototype._transform=function(p,y,m){m(null,p)}},{"./_stream_transform":19,inherits:10}],18:[function(o,c){(function(u,d){(function(){function p(N){return ne.from(N)}function y(N){return ne.isBuffer(N)||N instanceof ye}function m(N,f,S){return typeof N.prependListener=="function"?N.prependListener(f,S):void(N._events&&N._events[f]?Array.isArray(N._events[f])?N._events[f].unshift(S):N._events[f]=[S,N._events[f]]:N.on(f,S))}function w(N,f,S){le=le||o("./_stream_duplex"),N=N||{},typeof S!="boolean"&&(S=f instanceof le),this.objectMode=!!N.objectMode,S&&(this.objectMode=this.objectMode||!!N.readableObjectMode),this.highWaterMark=_t(this,N,"readableHighWaterMark",S),this.buffer=new Be,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=N.emitClose!==!1,this.autoDestroy=!!N.autoDestroy,this.destroyed=!1,this.defaultEncoding=N.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,N.encoding&&(!ie&&(ie=o("string_decoder/").StringDecoder),this.decoder=new ie(N.encoding),this.encoding=N.encoding)}function b(N){if(le=le||o("./_stream_duplex"),!(this instanceof b))return new b(N);var f=this instanceof le;this._readableState=new w(N,this,f),this.readable=!0,N&&(typeof N.read=="function"&&(this._read=N.read),typeof N.destroy=="function"&&(this._destroy=N.destroy)),W.call(this)}function x(N,f,S,T,U){ae("readableAddChunk",f);var K=N._readableState;if(f===null)K.reading=!1,k(N,K);else{var ee;if(U||(ee=C(K,f)),ee)X(N,ee);else if(!(K.objectMode||f&&0<f.length))T||(K.reading=!1,D(N,K));else if(typeof f=="string"||K.objectMode||Object.getPrototypeOf(f)===ne.prototype||(f=p(f)),T)K.endEmitted?X(N,new G):E(N,K,f,!0);else if(K.ended)X(N,new ge);else{if(K.destroyed)return!1;K.reading=!1,K.decoder&&!S?(f=K.decoder.write(f),K.objectMode||f.length!==0?E(N,K,f,!1):D(N,K)):E(N,K,f,!1)}}return!K.ended&&(K.length<K.highWaterMark||K.length===0)}function E(N,f,S,T){f.flowing&&f.length===0&&!f.sync?(f.awaitDrain=0,N.emit("data",S)):(f.length+=f.objectMode?1:S.length,T?f.buffer.unshift(S):f.buffer.push(S),f.needReadable&&P(N)),D(N,f)}function C(N,f){var S;return y(f)||typeof f=="string"||f===void 0||N.objectMode||(S=new se("chunk",["string","Buffer","Uint8Array"],f)),S}function j(N){return 1073741824<=N?N=1073741824:(N--,N|=N>>>1,N|=N>>>2,N|=N>>>4,N|=N>>>8,N|=N>>>16,N++),N}function I(N,f){return 0>=N||f.length===0&&f.ended?0:f.objectMode?1:N===N?(N>f.highWaterMark&&(f.highWaterMark=j(N)),N<=f.length?N:f.ended?f.length:(f.needReadable=!0,0)):f.flowing&&f.length?f.buffer.head.data.length:f.length}function k(N,f){if(ae("onEofChunk"),!f.ended){if(f.decoder){var S=f.decoder.end();S&&S.length&&(f.buffer.push(S),f.length+=f.objectMode?1:S.length)}f.ended=!0,f.sync?P(N):(f.needReadable=!1,!f.emittedReadable&&(f.emittedReadable=!0,R(N)))}}function P(N){var f=N._readableState;ae("emitReadable",f.needReadable,f.emittedReadable),f.needReadable=!1,f.emittedReadable||(ae("emitReadable",f.flowing),f.emittedReadable=!0,u.nextTick(R,N))}function R(N){var f=N._readableState;ae("emitReadable_",f.destroyed,f.length,f.ended),!f.destroyed&&(f.length||f.ended)&&(N.emit("readable"),f.emittedReadable=!1),f.needReadable=!f.flowing&&!f.ended&&f.length<=f.highWaterMark,oe(N)}function D(N,f){f.readingMore||(f.readingMore=!0,u.nextTick(O,N,f))}function O(N,f){for(;!f.reading&&!f.ended&&(f.length<f.highWaterMark||f.flowing&&f.length===0);){var S=f.length;if(ae("maybeReadMore read 0"),N.read(0),S===f.length)break}f.readingMore=!1}function L(N){return function(){var f=N._readableState;ae("pipeOnDrain",f.awaitDrain),f.awaitDrain&&f.awaitDrain--,f.awaitDrain===0&&pe(N,"data")&&(f.flowing=!0,oe(N))}}function J(N){var f=N._readableState;f.readableListening=0<N.listenerCount("readable"),f.resumeScheduled&&!f.paused?f.flowing=!0:0<N.listenerCount("data")&&N.resume()}function z(N){ae("readable nexttick read 0"),N.read(0)}function H(N,f){f.resumeScheduled||(f.resumeScheduled=!0,u.nextTick(te,N,f))}function te(N,f){ae("resume",f.reading),f.reading||N.read(0),f.resumeScheduled=!1,N.emit("resume"),oe(N),f.flowing&&!f.reading&&N.read(0)}function oe(N){var f=N._readableState;for(ae("flow",f.flowing);f.flowing&&N.read()!==null;);}function be(N,f){if(f.length===0)return null;var S;return f.objectMode?S=f.buffer.shift():!N||N>=f.length?(S=f.decoder?f.buffer.join(""):f.buffer.length===1?f.buffer.first():f.buffer.concat(f.length),f.buffer.clear()):S=f.buffer.consume(N,f.decoder),S}function Re(N){var f=N._readableState;ae("endReadable",f.endEmitted),f.endEmitted||(f.ended=!0,u.nextTick(Ae,f,N))}function Ae(N,f){if(ae("endReadableNT",N.endEmitted,N.length),!N.endEmitted&&N.length===0&&(N.endEmitted=!0,f.readable=!1,f.emit("end"),N.autoDestroy)){var S=f._writableState;(!S||S.autoDestroy&&S.finished)&&f.destroy()}}function Ce(N,f){for(var S=0,T=N.length;S<T;S++)if(N[S]===f)return S;return-1}c.exports=b;var le;b.ReadableState=w;var ae;o("events").EventEmitter;var pe=function(N,f){return N.listeners(f).length},W=o("./internal/streams/stream"),ne=o("buffer").Buffer,ye=d.Uint8Array||function(){},me=o("util");ae=me&&me.debuglog?me.debuglog("stream"):function(){};var ie,ke,Ve,Be=o("./internal/streams/buffer_list"),Ke=o("./internal/streams/destroy"),Ge=o("./internal/streams/state"),_t=Ge.getHighWaterMark,ct=o("../errors").codes,se=ct.ERR_INVALID_ARG_TYPE,ge=ct.ERR_STREAM_PUSH_AFTER_EOF,V=ct.ERR_METHOD_NOT_IMPLEMENTED,G=ct.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;o("inherits")(b,W);var X=Ke.errorOrDestroy,he=["error","close","destroy","pause","resume"];Object.defineProperty(b.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(N){this._readableState&&(this._readableState.destroyed=N)}}),b.prototype.destroy=Ke.destroy,b.prototype._undestroy=Ke.undestroy,b.prototype._destroy=function(N,f){f(N)},b.prototype.push=function(N,f){var S,T=this._readableState;return T.objectMode?S=!0:typeof N=="string"&&(f=f||T.defaultEncoding,f!==T.encoding&&(N=ne.from(N,f),f=""),S=!0),x(this,N,f,!1,S)},b.prototype.unshift=function(N){return x(this,N,null,!0,!1)},b.prototype.isPaused=function(){return this._readableState.flowing===!1},b.prototype.setEncoding=function(N){ie||(ie=o("string_decoder/").StringDecoder);var f=new ie(N);this._readableState.decoder=f,this._readableState.encoding=this._readableState.decoder.encoding;for(var S=this._readableState.buffer.head,T="";S!==null;)T+=f.write(S.data),S=S.next;return this._readableState.buffer.clear(),T!==""&&this._readableState.buffer.push(T),this._readableState.length=T.length,this},b.prototype.read=function(N){ae("read",N),N=parseInt(N,10);var f=this._readableState,S=N;if(N!==0&&(f.emittedReadable=!1),N===0&&f.needReadable&&((f.highWaterMark===0?0<f.length:f.length>=f.highWaterMark)||f.ended))return ae("read: emitReadable",f.length,f.ended),f.length===0&&f.ended?Re(this):P(this),null;if(N=I(N,f),N===0&&f.ended)return f.length===0&&Re(this),null;var T=f.needReadable;ae("need readable",T),(f.length===0||f.length-N<f.highWaterMark)&&(T=!0,ae("length less than watermark",T)),f.ended||f.reading?(T=!1,ae("reading or ended",T)):T&&(ae("do read"),f.reading=!0,f.sync=!0,f.length===0&&(f.needReadable=!0),this._read(f.highWaterMark),f.sync=!1,!f.reading&&(N=I(S,f)));var U;return U=0<N?be(N,f):null,U===null?(f.needReadable=f.length<=f.highWaterMark,N=0):(f.length-=N,f.awaitDrain=0),f.length===0&&(!f.ended&&(f.needReadable=!0),S!==N&&f.ended&&Re(this)),U!==null&&this.emit("data",U),U},b.prototype._read=function(){X(this,new V("_read()"))},b.prototype.pipe=function(N,f){function S(an,Pr){ae("onunpipe"),an===We&&Pr&&Pr.hasUnpiped===!1&&(Pr.hasUnpiped=!0,U())}function T(){ae("onend"),N.end()}function U(){ae("cleanup"),N.removeListener("close",Ee),N.removeListener("finish",$e),N.removeListener("drain",$r),N.removeListener("error",ee),N.removeListener("unpipe",S),We.removeListener("end",T),We.removeListener("end",et),We.removeListener("data",K),sn=!0,Fe.awaitDrain&&(!N._writableState||N._writableState.needDrain)&&$r()}function K(an){ae("ondata");var Pr=N.write(an);ae("dest.write",Pr),Pr===!1&&((Fe.pipesCount===1&&Fe.pipes===N||1<Fe.pipesCount&&Ce(Fe.pipes,N)!==-1)&&!sn&&(ae("false write response, pause",Fe.awaitDrain),Fe.awaitDrain++),We.pause())}function ee(an){ae("onerror",an),et(),N.removeListener("error",ee),pe(N,"error")===0&&X(N,an)}function Ee(){N.removeListener("finish",$e),et()}function $e(){ae("onfinish"),N.removeListener("close",Ee),et()}function et(){ae("unpipe"),We.unpipe(N)}var We=this,Fe=this._readableState;switch(Fe.pipesCount){case 0:Fe.pipes=N;break;case 1:Fe.pipes=[Fe.pipes,N];break;default:Fe.pipes.push(N)}Fe.pipesCount+=1,ae("pipe count=%d opts=%j",Fe.pipesCount,f);var ut=(!f||f.end!==!1)&&N!==u.stdout&&N!==u.stderr,Br=ut?T:et;Fe.endEmitted?u.nextTick(Br):We.once("end",Br),N.on("unpipe",S);var $r=L(We);N.on("drain",$r);var sn=!1;return We.on("data",K),m(N,"error",ee),N.once("close",Ee),N.once("finish",$e),N.emit("pipe",We),Fe.flowing||(ae("pipe resume"),We.resume()),N},b.prototype.unpipe=function(N){var f=this._readableState,S={hasUnpiped:!1};if(f.pipesCount===0)return this;if(f.pipesCount===1)return N&&N!==f.pipes?this:(N||(N=f.pipes),f.pipes=null,f.pipesCount=0,f.flowing=!1,N&&N.emit("unpipe",this,S),this);if(!N){var T=f.pipes,U=f.pipesCount;f.pipes=null,f.pipesCount=0,f.flowing=!1;for(var K=0;K<U;K++)T[K].emit("unpipe",this,{hasUnpiped:!1});return this}var ee=Ce(f.pipes,N);return ee===-1?this:(f.pipes.splice(ee,1),f.pipesCount-=1,f.pipesCount===1&&(f.pipes=f.pipes[0]),N.emit("unpipe",this,S),this)},b.prototype.on=function(N,f){var S=W.prototype.on.call(this,N,f),T=this._readableState;return N==="data"?(T.readableListening=0<this.listenerCount("readable"),T.flowing!==!1&&this.resume()):N=="readable"&&!T.endEmitted&&!T.readableListening&&(T.readableListening=T.needReadable=!0,T.flowing=!1,T.emittedReadable=!1,ae("on readable",T.length,T.reading),T.length?P(this):!T.reading&&u.nextTick(z,this)),S},b.prototype.addListener=b.prototype.on,b.prototype.removeListener=function(N,f){var S=W.prototype.removeListener.call(this,N,f);return N==="readable"&&u.nextTick(J,this),S},b.prototype.removeAllListeners=function(N){var f=W.prototype.removeAllListeners.apply(this,arguments);return(N==="readable"||N===void 0)&&u.nextTick(J,this),f},b.prototype.resume=function(){var N=this._readableState;return N.flowing||(ae("resume"),N.flowing=!N.readableListening,H(this,N)),N.paused=!1,this},b.prototype.pause=function(){return ae("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ae("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},b.prototype.wrap=function(N){var f=this,S=this._readableState,T=!1;for(var U in N.on("end",function(){if(ae("wrapped end"),S.decoder&&!S.ended){var ee=S.decoder.end();ee&&ee.length&&f.push(ee)}f.push(null)}),N.on("data",function(ee){if(ae("wrapped data"),S.decoder&&(ee=S.decoder.write(ee)),!(S.objectMode&&ee==null)&&(S.objectMode||ee&&ee.length)){var Ee=f.push(ee);Ee||(T=!0,N.pause())}}),N)this[U]===void 0&&typeof N[U]=="function"&&(this[U]=(function(ee){return function(){return N[ee].apply(N,arguments)}})(U));for(var K=0;K<he.length;K++)N.on(he[K],this.emit.bind(this,he[K]));return this._read=function(ee){ae("wrapped _read",ee),T&&(T=!1,N.resume())},this},typeof Symbol=="function"&&(b.prototype[Symbol.asyncIterator]=function(){return ke===void 0&&(ke=o("./internal/streams/async_iterator")),ke(this)}),Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(b.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(b.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(N){this._readableState&&(this._readableState.flowing=N)}}),b._fromList=be,Object.defineProperty(b.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(b.from=function(N,f){return Ve===void 0&&(Ve=o("./internal/streams/from")),Ve(b,N,f)})}).call(this)}).call(this,o("_process"),typeof Dr>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Dr)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/async_iterator":21,"./internal/streams/buffer_list":22,"./internal/streams/destroy":23,"./internal/streams/from":25,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,events:7,inherits:10,"string_decoder/":31,util:2}],19:[function(o,c){function u(j,I){var k=this._transformState;k.transforming=!1;var P=k.writecb;if(P===null)return this.emit("error",new b);k.writechunk=null,k.writecb=null,I!=null&&this.push(I),P(j);var R=this._readableState;R.reading=!1,(R.needReadable||R.length<R.highWaterMark)&&this._read(R.highWaterMark)}function d(j){return this instanceof d?(C.call(this,j),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,j&&(typeof j.transform=="function"&&(this._transform=j.transform),typeof j.flush=="function"&&(this._flush=j.flush)),void this.on("prefinish",p)):new d(j)}function p(){var j=this;typeof this._flush!="function"||this._readableState.destroyed?y(this,null,null):this._flush(function(I,k){y(j,I,k)})}function y(j,I,k){if(I)return j.emit("error",I);if(k!=null&&j.push(k),j._writableState.length)throw new E;if(j._transformState.transforming)throw new x;return j.push(null)}c.exports=d;var m=o("../errors").codes,w=m.ERR_METHOD_NOT_IMPLEMENTED,b=m.ERR_MULTIPLE_CALLBACK,x=m.ERR_TRANSFORM_ALREADY_TRANSFORMING,E=m.ERR_TRANSFORM_WITH_LENGTH_0,C=o("./_stream_duplex");o("inherits")(d,C),d.prototype.push=function(j,I){return this._transformState.needTransform=!1,C.prototype.push.call(this,j,I)},d.prototype._transform=function(j,I,k){k(new w("_transform()"))},d.prototype._write=function(j,I,k){var P=this._transformState;if(P.writecb=k,P.writechunk=j,P.writeencoding=I,!P.transforming){var R=this._readableState;(P.needTransform||R.needReadable||R.length<R.highWaterMark)&&this._read(R.highWaterMark)}},d.prototype._read=function(){var j=this._transformState;j.writechunk===null||j.transforming?j.needTransform=!0:(j.transforming=!0,this._transform(j.writechunk,j.writeencoding,j.afterTransform))},d.prototype._destroy=function(j,I){C.prototype._destroy.call(this,j,function(k){I(k)})}},{"../errors":15,"./_stream_duplex":16,inherits:10}],20:[function(o,c){(function(u,d){(function(){function p(V){var G=this;this.next=null,this.entry=null,this.finish=function(){Re(G,V)}}function y(V){return ae.from(V)}function m(V){return ae.isBuffer(V)||V instanceof pe}function w(){}function b(V,G,X){Ae=Ae||o("./_stream_duplex"),V=V||{},typeof X!="boolean"&&(X=G instanceof Ae),this.objectMode=!!V.objectMode,X&&(this.objectMode=this.objectMode||!!V.writableObjectMode),this.highWaterMark=ye(this,V,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var he=V.decodeStrings===!1;this.decodeStrings=!he,this.defaultEncoding=V.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(N){D(G,N)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=V.emitClose!==!1,this.autoDestroy=!!V.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new p(this)}function x(V){Ae=Ae||o("./_stream_duplex");var G=this instanceof Ae;return G||ge.call(x,this)?(this._writableState=new b(V,this,G),this.writable=!0,V&&(typeof V.write=="function"&&(this._write=V.write),typeof V.writev=="function"&&(this._writev=V.writev),typeof V.destroy=="function"&&(this._destroy=V.destroy),typeof V.final=="function"&&(this._final=V.final)),void le.call(this)):new x(V)}function E(V,G){var X=new _t;se(V,X),u.nextTick(G,X)}function C(V,G,X,he){var N;return X===null?N=new Ge:typeof X!="string"&&!G.objectMode&&(N=new ie("chunk",["string","Buffer"],X)),!N||(se(V,N),u.nextTick(he,N),!1)}function j(V,G,X){return V.objectMode||V.decodeStrings===!1||typeof G!="string"||(G=ae.from(G,X)),G}function I(V,G,X,he,N,f){if(!X){var S=j(G,he,N);he!==S&&(X=!0,N="buffer",he=S)}var T=G.objectMode?1:he.length;G.length+=T;var U=G.length<G.highWaterMark;if(U||(G.needDrain=!0),G.writing||G.corked){var K=G.lastBufferedRequest;G.lastBufferedRequest={chunk:he,encoding:N,isBuf:X,callback:f,next:null},K?K.next=G.lastBufferedRequest:G.bufferedRequest=G.lastBufferedRequest,G.bufferedRequestCount+=1}else k(V,G,!1,T,he,N,f);return U}function k(V,G,X,he,N,f,S){G.writelen=he,G.writecb=S,G.writing=!0,G.sync=!0,G.destroyed?G.onwrite(new Ke("write")):X?V._writev(N,G.onwrite):V._write(N,f,G.onwrite),G.sync=!1}function P(V,G,X,he,N){--G.pendingcb,X?(u.nextTick(N,he),u.nextTick(oe,V,G),V._writableState.errorEmitted=!0,se(V,he)):(N(he),V._writableState.errorEmitted=!0,se(V,he),oe(V,G))}function R(V){V.writing=!1,V.writecb=null,V.length-=V.writelen,V.writelen=0}function D(V,G){var X=V._writableState,he=X.sync,N=X.writecb;if(typeof N!="function")throw new Ve;if(R(X),G)P(V,X,he,G,N);else{var f=z(X)||V.destroyed;f||X.corked||X.bufferProcessing||!X.bufferedRequest||J(V,X),he?u.nextTick(O,V,X,f,N):O(V,X,f,N)}}function O(V,G,X,he){X||L(V,G),G.pendingcb--,he(),oe(V,G)}function L(V,G){G.length===0&&G.needDrain&&(G.needDrain=!1,V.emit("drain"))}function J(V,G){G.bufferProcessing=!0;var X=G.bufferedRequest;if(V._writev&&X&&X.next){var he=G.bufferedRequestCount,N=Array(he),f=G.corkedRequestsFree;f.entry=X;for(var S=0,T=!0;X;)N[S]=X,X.isBuf||(T=!1),X=X.next,S+=1;N.allBuffers=T,k(V,G,!0,G.length,N,"",f.finish),G.pendingcb++,G.lastBufferedRequest=null,f.next?(G.corkedRequestsFree=f.next,f.next=null):G.corkedRequestsFree=new p(G),G.bufferedRequestCount=0}else{for(;X;){var U=X.chunk,K=X.encoding,ee=X.callback,Ee=G.objectMode?1:U.length;if(k(V,G,!1,Ee,U,K,ee),X=X.next,G.bufferedRequestCount--,G.writing)break}X===null&&(G.lastBufferedRequest=null)}G.bufferedRequest=X,G.bufferProcessing=!1}function z(V){return V.ending&&V.length===0&&V.bufferedRequest===null&&!V.finished&&!V.writing}function H(V,G){V._final(function(X){G.pendingcb--,X&&se(V,X),G.prefinished=!0,V.emit("prefinish"),oe(V,G)})}function te(V,G){G.prefinished||G.finalCalled||(typeof V._final!="function"||G.destroyed?(G.prefinished=!0,V.emit("prefinish")):(G.pendingcb++,G.finalCalled=!0,u.nextTick(H,V,G)))}function oe(V,G){var X=z(G);if(X&&(te(V,G),G.pendingcb===0&&(G.finished=!0,V.emit("finish"),G.autoDestroy))){var he=V._readableState;(!he||he.autoDestroy&&he.endEmitted)&&V.destroy()}return X}function be(V,G,X){G.ending=!0,oe(V,G),X&&(G.finished?u.nextTick(X):V.once("finish",X)),G.ended=!0,V.writable=!1}function Re(V,G,X){var he=V.entry;for(V.entry=null;he;){var N=he.callback;G.pendingcb--,N(X),he=he.next}G.corkedRequestsFree.next=V}c.exports=x;var Ae;x.WritableState=b;var Ce={deprecate:o("util-deprecate")},le=o("./internal/streams/stream"),ae=o("buffer").Buffer,pe=d.Uint8Array||function(){},W=o("./internal/streams/destroy"),ne=o("./internal/streams/state"),ye=ne.getHighWaterMark,me=o("../errors").codes,ie=me.ERR_INVALID_ARG_TYPE,ke=me.ERR_METHOD_NOT_IMPLEMENTED,Ve=me.ERR_MULTIPLE_CALLBACK,Be=me.ERR_STREAM_CANNOT_PIPE,Ke=me.ERR_STREAM_DESTROYED,Ge=me.ERR_STREAM_NULL_VALUES,_t=me.ERR_STREAM_WRITE_AFTER_END,ct=me.ERR_UNKNOWN_ENCODING,se=W.errorOrDestroy;o("inherits")(x,le),b.prototype.getBuffer=function(){for(var V=this.bufferedRequest,G=[];V;)G.push(V),V=V.next;return G},(function(){try{Object.defineProperty(b.prototype,"buffer",{get:Ce.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var ge;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ge=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(V){return!!ge.call(this,V)||this===x&&V&&V._writableState instanceof b}})):ge=function(V){return V instanceof this},x.prototype.pipe=function(){se(this,new Be)},x.prototype.write=function(V,G,X){var he=this._writableState,N=!1,f=!he.objectMode&&m(V);return f&&!ae.isBuffer(V)&&(V=y(V)),typeof G=="function"&&(X=G,G=null),f?G="buffer":!G&&(G=he.defaultEncoding),typeof X!="function"&&(X=w),he.ending?E(this,X):(f||C(this,he,V,X))&&(he.pendingcb++,N=I(this,he,f,V,G,X)),N},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var V=this._writableState;V.corked&&(V.corked--,!V.writing&&!V.corked&&!V.bufferProcessing&&V.bufferedRequest&&J(this,V))},x.prototype.setDefaultEncoding=function(V){if(typeof V=="string"&&(V=V.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((V+"").toLowerCase())))throw new ct(V);return this._writableState.defaultEncoding=V,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(V,G,X){X(new ke("_write()"))},x.prototype._writev=null,x.prototype.end=function(V,G,X){var he=this._writableState;return typeof V=="function"?(X=V,V=null,G=null):typeof G=="function"&&(X=G,G=null),V!=null&&this.write(V,G),he.corked&&(he.corked=1,this.uncork()),he.ending||be(this,he,X),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(V){this._writableState&&(this._writableState.destroyed=V)}}),x.prototype.destroy=W.destroy,x.prototype._undestroy=W.undestroy,x.prototype._destroy=function(V,G){G(V)}}).call(this)}).call(this,o("_process"),typeof Dr>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Dr)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/destroy":23,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,inherits:10,"util-deprecate":32}],21:[function(o,c){(function(u){(function(){function d(L,J,z){return J in L?Object.defineProperty(L,J,{value:z,enumerable:!0,configurable:!0,writable:!0}):L[J]=z,L}function p(L,J){return{value:L,done:J}}function y(L){var J=L[E];if(J!==null){var z=L[R].read();z!==null&&(L[k]=null,L[E]=null,L[C]=null,J(p(z,!1)))}}function m(L){u.nextTick(y,L)}function w(L,J){return function(z,H){L.then(function(){return J[I]?void z(p(void 0,!0)):void J[P](z,H)},H)}}var b,x=o("./end-of-stream"),E=Symbol("lastResolve"),C=Symbol("lastReject"),j=Symbol("error"),I=Symbol("ended"),k=Symbol("lastPromise"),P=Symbol("handlePromise"),R=Symbol("stream"),D=Object.getPrototypeOf(function(){}),O=Object.setPrototypeOf((b={get stream(){return this[R]},next:function(){var L=this,J=this[j];if(J!==null)return Promise.reject(J);if(this[I])return Promise.resolve(p(void 0,!0));if(this[R].destroyed)return new Promise(function(oe,be){u.nextTick(function(){L[j]?be(L[j]):oe(p(void 0,!0))})});var z,H=this[k];if(H)z=new Promise(w(H,this));else{var te=this[R].read();if(te!==null)return Promise.resolve(p(te,!1));z=new Promise(this[P])}return this[k]=z,z}},d(b,Symbol.asyncIterator,function(){return this}),d(b,"return",function(){var L=this;return new Promise(function(J,z){L[R].destroy(null,function(H){return H?void z(H):void J(p(void 0,!0))})})}),b),D);c.exports=function(L){var J,z=Object.create(O,(J={},d(J,R,{value:L,writable:!0}),d(J,E,{value:null,writable:!0}),d(J,C,{value:null,writable:!0}),d(J,j,{value:null,writable:!0}),d(J,I,{value:L._readableState.endEmitted,writable:!0}),d(J,P,{value:function(H,te){var oe=z[R].read();oe?(z[k]=null,z[E]=null,z[C]=null,H(p(oe,!1))):(z[E]=H,z[C]=te)},writable:!0}),J));return z[k]=null,x(L,function(H){if(H&&H.code!=="ERR_STREAM_PREMATURE_CLOSE"){var te=z[C];return te!==null&&(z[k]=null,z[E]=null,z[C]=null,te(H)),void(z[j]=H)}var oe=z[E];oe!==null&&(z[k]=null,z[E]=null,z[C]=null,oe(p(void 0,!0))),z[I]=!0}),L.on("readable",m.bind(null,z)),z}}).call(this)}).call(this,o("_process"))},{"./end-of-stream":24,_process:12}],22:[function(o,c){function u(k,P){var R=Object.keys(k);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(k);P&&(D=D.filter(function(O){return Object.getOwnPropertyDescriptor(k,O).enumerable})),R.push.apply(R,D)}return R}function d(k){for(var P,R=1;R<arguments.length;R++)P=arguments[R]==null?{}:arguments[R],R%2?u(Object(P),!0).forEach(function(D){p(k,D,P[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(P)):u(Object(P)).forEach(function(D){Object.defineProperty(k,D,Object.getOwnPropertyDescriptor(P,D))});return k}function p(k,P,R){return P in k?Object.defineProperty(k,P,{value:R,enumerable:!0,configurable:!0,writable:!0}):k[P]=R,k}function y(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")}function m(k,P){for(var R,D=0;D<P.length;D++)R=P[D],R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(k,R.key,R)}function w(k,P,R){return P&&m(k.prototype,P),k}function b(k,P,R){E.prototype.copy.call(k,P,R)}var x=o("buffer"),E=x.Buffer,C=o("util"),j=C.inspect,I=j&&j.custom||"inspect";c.exports=(function(){function k(){y(this,k),this.head=null,this.tail=null,this.length=0}return w(k,[{key:"push",value:function(P){var R={data:P,next:null};0<this.length?this.tail.next=R:this.head=R,this.tail=R,++this.length}},{key:"unshift",value:function(P){var R={data:P,next:this.head};this.length===0&&(this.tail=R),this.head=R,++this.length}},{key:"shift",value:function(){if(this.length!==0){var P=this.head.data;return this.head=this.length===1?this.tail=null:this.head.next,--this.length,P}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(P){if(this.length===0)return"";for(var R=this.head,D=""+R.data;R=R.next;)D+=P+R.data;return D}},{key:"concat",value:function(P){if(this.length===0)return E.alloc(0);for(var R=E.allocUnsafe(P>>>0),D=this.head,O=0;D;)b(D.data,R,O),O+=D.data.length,D=D.next;return R}},{key:"consume",value:function(P,R){var D;return P<this.head.data.length?(D=this.head.data.slice(0,P),this.head.data=this.head.data.slice(P)):P===this.head.data.length?D=this.shift():D=R?this._getString(P):this._getBuffer(P),D}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(P){var R=this.head,D=1,O=R.data;for(P-=O.length;R=R.next;){var L=R.data,J=P>L.length?L.length:P;if(O+=J===L.length?L:L.slice(0,P),P-=J,P===0){J===L.length?(++D,this.head=R.next?R.next:this.tail=null):(this.head=R,R.data=L.slice(J));break}++D}return this.length-=D,O}},{key:"_getBuffer",value:function(P){var R=E.allocUnsafe(P),D=this.head,O=1;for(D.data.copy(R),P-=D.data.length;D=D.next;){var L=D.data,J=P>L.length?L.length:P;if(L.copy(R,R.length-P,0,J),P-=J,P===0){J===L.length?(++O,this.head=D.next?D.next:this.tail=null):(this.head=D,D.data=L.slice(J));break}++O}return this.length-=O,R}},{key:I,value:function(P,R){return j(this,d({},R,{depth:0,customInspect:!1}))}}]),k})()},{buffer:3,util:2}],23:[function(o,c){(function(u){(function(){function d(m,w){y(m,w),p(m)}function p(m){m._writableState&&!m._writableState.emitClose||m._readableState&&!m._readableState.emitClose||m.emit("close")}function y(m,w){m.emit("error",w)}c.exports={destroy:function(m,w){var b=this,x=this._readableState&&this._readableState.destroyed,E=this._writableState&&this._writableState.destroyed;return x||E?(w?w(m):m&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,u.nextTick(y,this,m)):u.nextTick(y,this,m)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(m||null,function(C){!w&&C?b._writableState?b._writableState.errorEmitted?u.nextTick(p,b):(b._writableState.errorEmitted=!0,u.nextTick(d,b,C)):u.nextTick(d,b,C):w?(u.nextTick(p,b),w(C)):u.nextTick(p,b)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(m,w){var b=m._readableState,x=m._writableState;b&&b.autoDestroy||x&&x.autoDestroy?m.destroy(w):m.emit("error",w)}}}).call(this)}).call(this,o("_process"))},{_process:12}],24:[function(o,c){function u(w){var b=!1;return function(){if(!b){b=!0;for(var x=arguments.length,E=Array(x),C=0;C<x;C++)E[C]=arguments[C];w.apply(this,E)}}}function d(){}function p(w){return w.setHeader&&typeof w.abort=="function"}function y(w,b,x){if(typeof b=="function")return y(w,null,b);b||(b={}),x=u(x||d);var E=b.readable||b.readable!==!1&&w.readable,C=b.writable||b.writable!==!1&&w.writable,j=function(){w.writable||k()},I=w._writableState&&w._writableState.finished,k=function(){C=!1,I=!0,E||x.call(w)},P=w._readableState&&w._readableState.endEmitted,R=function(){E=!1,P=!0,C||x.call(w)},D=function(J){x.call(w,J)},O=function(){var J;return E&&!P?(w._readableState&&w._readableState.ended||(J=new m),x.call(w,J)):C&&!I?(w._writableState&&w._writableState.ended||(J=new m),x.call(w,J)):void 0},L=function(){w.req.on("finish",k)};return p(w)?(w.on("complete",k),w.on("abort",O),w.req?L():w.on("request",L)):C&&!w._writableState&&(w.on("end",j),w.on("close",j)),w.on("end",R),w.on("finish",k),b.error!==!1&&w.on("error",D),w.on("close",O),function(){w.removeListener("complete",k),w.removeListener("abort",O),w.removeListener("request",L),w.req&&w.req.removeListener("finish",k),w.removeListener("end",j),w.removeListener("close",j),w.removeListener("finish",k),w.removeListener("end",R),w.removeListener("error",D),w.removeListener("close",O)}}var m=o("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;c.exports=y},{"../../../errors":15}],25:[function(o,c){c.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],26:[function(o,c){function u(I){var k=!1;return function(){k||(k=!0,I.apply(void 0,arguments))}}function d(I){if(I)throw I}function p(I){return I.setHeader&&typeof I.abort=="function"}function y(I,k,P,R){R=u(R);var D=!1;I.on("close",function(){D=!0}),x===void 0&&(x=o("./end-of-stream")),x(I,{readable:k,writable:P},function(L){return L?R(L):(D=!0,void R())});var O=!1;return function(L){if(!D)return O?void 0:(O=!0,p(I)?I.abort():typeof I.destroy=="function"?I.destroy():void R(L||new j("pipe")))}}function m(I){I()}function w(I,k){return I.pipe(k)}function b(I){return I.length&&typeof I[I.length-1]=="function"?I.pop():d}var x,E=o("../../../errors").codes,C=E.ERR_MISSING_ARGS,j=E.ERR_STREAM_DESTROYED;c.exports=function(){for(var I=arguments.length,k=Array(I),P=0;P<I;P++)k[P]=arguments[P];var R=b(k);if(Array.isArray(k[0])&&(k=k[0]),2>k.length)throw new C("streams");var D,O=k.map(function(L,J){var z=J<k.length-1;return y(L,z,0<J,function(H){D||(D=H),H&&O.forEach(m),z||(O.forEach(m),R(D))})});return k.reduce(w)}},{"../../../errors":15,"./end-of-stream":24}],27:[function(o,c){function u(p,y,m){return p.highWaterMark==null?y?p[m]:null:p.highWaterMark}var d=o("../../../errors").codes.ERR_INVALID_OPT_VALUE;c.exports={getHighWaterMark:function(p,y,m,w){var b=u(y,w,m);if(b!=null){if(!(isFinite(b)&&r(b)===b)||0>b){var x=w?m:"highWaterMark";throw new d(x,b)}return r(b)}return p.objectMode?16:16384}}},{"../../../errors":15}],28:[function(o,c){c.exports=o("events").EventEmitter},{events:7}],29:[function(o,c,u){u=c.exports=o("./lib/_stream_readable.js"),u.Stream=u,u.Readable=u,u.Writable=o("./lib/_stream_writable.js"),u.Duplex=o("./lib/_stream_duplex.js"),u.Transform=o("./lib/_stream_transform.js"),u.PassThrough=o("./lib/_stream_passthrough.js"),u.finished=o("./lib/internal/streams/end-of-stream.js"),u.pipeline=o("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":16,"./lib/_stream_passthrough.js":17,"./lib/_stream_readable.js":18,"./lib/_stream_transform.js":19,"./lib/_stream_writable.js":20,"./lib/internal/streams/end-of-stream.js":24,"./lib/internal/streams/pipeline.js":26}],30:[function(o,c,u){function d(w,b){for(var x in w)b[x]=w[x]}function p(w,b,x){return m(w,b,x)}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var y=o("buffer"),m=y.Buffer;m.from&&m.alloc&&m.allocUnsafe&&m.allocUnsafeSlow?c.exports=y:(d(y,u),u.Buffer=p),p.prototype=Object.create(m.prototype),d(m,p),p.from=function(w,b,x){if(typeof w=="number")throw new TypeError("Argument must not be a number");return m(w,b,x)},p.alloc=function(w,b,x){if(typeof w!="number")throw new TypeError("Argument must be a number");var E=m(w);return b===void 0?E.fill(0):typeof x=="string"?E.fill(b,x):E.fill(b),E},p.allocUnsafe=function(w){if(typeof w!="number")throw new TypeError("Argument must be a number");return m(w)},p.allocUnsafeSlow=function(w){if(typeof w!="number")throw new TypeError("Argument must be a number");return y.SlowBuffer(w)}},{buffer:3}],31:[function(o,c,u){function d(O){if(!O)return"utf8";for(var L;;)switch(O){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return O;default:if(L)return;O=(""+O).toLowerCase(),L=!0}}function p(O){var L=d(O);if(typeof L!="string"&&(R.isEncoding===D||!D(O)))throw new Error("Unknown encoding: "+O);return L||O}function y(O){this.encoding=p(O);var L;switch(this.encoding){case"utf16le":this.text=E,this.end=C,L=4;break;case"utf8":this.fillLast=x,L=4;break;case"base64":this.text=j,this.end=I,L=3;break;default:return this.write=k,void(this.end=P)}this.lastNeed=0,this.lastTotal=0,this.lastChar=R.allocUnsafe(L)}function m(O){return 127>=O?0:O>>5==6?2:O>>4==14?3:O>>3==30?4:O>>6==2?-1:-2}function w(O,L,J){var z=L.length-1;if(z<J)return 0;var H=m(L[z]);return 0<=H?(0<H&&(O.lastNeed=H-1),H):--z<J||H===-2?0:(H=m(L[z]),0<=H?(0<H&&(O.lastNeed=H-2),H):--z<J||H===-2?0:(H=m(L[z]),0<=H?(0<H&&(H===2?H=0:O.lastNeed=H-3),H):0))}function b(O,L){if((192&L[0])!=128)return O.lastNeed=0,"";if(1<O.lastNeed&&1<L.length){if((192&L[1])!=128)return O.lastNeed=1,"";if(2<O.lastNeed&&2<L.length&&(192&L[2])!=128)return O.lastNeed=2,""}}function x(O){var L=this.lastTotal-this.lastNeed,J=b(this,O);return J===void 0?this.lastNeed<=O.length?(O.copy(this.lastChar,L,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(O.copy(this.lastChar,L,0,O.length),void(this.lastNeed-=O.length)):J}function E(O,L){if((O.length-L)%2==0){var J=O.toString("utf16le",L);if(J){var z=J.charCodeAt(J.length-1);if(55296<=z&&56319>=z)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=O[O.length-2],this.lastChar[1]=O[O.length-1],J.slice(0,-1)}return J}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=O[O.length-1],O.toString("utf16le",L,O.length-1)}function C(O){var L=O&&O.length?this.write(O):"";if(this.lastNeed){var J=this.lastTotal-this.lastNeed;return L+this.lastChar.toString("utf16le",0,J)}return L}function j(O,L){var J=(O.length-L)%3;return J==0?O.toString("base64",L):(this.lastNeed=3-J,this.lastTotal=3,J==1?this.lastChar[0]=O[O.length-1]:(this.lastChar[0]=O[O.length-2],this.lastChar[1]=O[O.length-1]),O.toString("base64",L,O.length-J))}function I(O){var L=O&&O.length?this.write(O):"";return this.lastNeed?L+this.lastChar.toString("base64",0,3-this.lastNeed):L}function k(O){return O.toString(this.encoding)}function P(O){return O&&O.length?this.write(O):""}var R=o("safe-buffer").Buffer,D=R.isEncoding||function(O){switch(O=""+O,O&&O.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};u.StringDecoder=y,y.prototype.write=function(O){if(O.length===0)return"";var L,J;if(this.lastNeed){if(L=this.fillLast(O),L===void 0)return"";J=this.lastNeed,this.lastNeed=0}else J=0;return J<O.length?L?L+this.text(O,J):this.text(O,J):L||""},y.prototype.end=function(O){var L=O&&O.length?this.write(O):"";return this.lastNeed?L+"":L},y.prototype.text=function(O,L){var J=w(this,O,L);if(!this.lastNeed)return O.toString("utf8",L);this.lastTotal=J;var z=O.length-(J-this.lastNeed);return O.copy(this.lastChar,0,z),O.toString("utf8",L,z)},y.prototype.fillLast=function(O){return this.lastNeed<=O.length?(O.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(O.copy(this.lastChar,this.lastTotal-this.lastNeed,0,O.length),void(this.lastNeed-=O.length))}},{"safe-buffer":30}],32:[function(o,c){(function(u){(function(){function d(p){try{if(!u.localStorage)return!1}catch{return!1}var y=u.localStorage[p];return y!=null&&(y+"").toLowerCase()==="true"}c.exports=function(p,y){function m(){if(!w){if(d("throwDeprecation"))throw new Error(y);d("traceDeprecation")?console.trace(y):console.warn(y),w=!0}return p.apply(this,arguments)}if(d("noDeprecation"))return p;var w=!1;return m}}).call(this)}).call(this,typeof Dr>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Dr)},{}],"/":[function(o,c){function u(I){return I.replace(/a=ice-options:trickle\s\n/g,"")}function d(I){console.warn(I)}/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const p=o("debug")("simple-peer"),y=o("get-browser-rtc"),m=o("randombytes"),w=o("readable-stream"),b=o("queue-microtask"),x=o("err-code"),{Buffer:E}=o("buffer"),C=65536;class j extends w.Duplex{constructor(k){if(k=Object.assign({allowHalfOpen:!1},k),super(k),this._id=m(4).toString("hex").slice(0,7),this._debug("new peer %o",k),this.channelName=k.initiator?k.channelName||m(20).toString("hex"):null,this.initiator=k.initiator||!1,this.channelConfig=k.channelConfig||j.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},j.config,k.config),this.offerOptions=k.offerOptions||{},this.answerOptions=k.answerOptions||{},this.sdpTransform=k.sdpTransform||(P=>P),this.streams=k.streams||(k.stream?[k.stream]:[]),this.trickle=k.trickle===void 0||k.trickle,this.allowHalfTrickle=k.allowHalfTrickle!==void 0&&k.allowHalfTrickle,this.iceCompleteTimeout=k.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=k.wrtc&&typeof k.wrtc=="object"?k.wrtc:y(),!this._wrtc)throw x(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(P){return void this.destroy(x(P,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=P=>{this._onIceCandidate(P)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(P=>{this.destroy(x(P,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=P=>{this._setupData(P)},this.streams&&this.streams.forEach(P=>{this.addStream(P)}),this._pc.ontrack=P=>{this._onTrack(P)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(k){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof k=="string")try{k=JSON.parse(k)}catch{k={}}this._debug("signal()"),k.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),k.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(k.transceiverRequest.kind,k.transceiverRequest.init)),k.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(k.candidate):this._pendingCandidates.push(k.candidate)),k.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(k)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(P=>{this._addIceCandidate(P)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(P=>{this.destroy(x(P,"ERR_SET_REMOTE_DESCRIPTION"))}),k.sdp||k.candidate||k.renegotiate||k.transceiverRequest||this.destroy(x(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(k){const P=new this._wrtc.RTCIceCandidate(k);this._pc.addIceCandidate(P).catch(R=>{!P.address||P.address.endsWith(".local")?d("Ignoring unsupported ICE candidate."):this.destroy(x(R,"ERR_ADD_ICE_CANDIDATE"))})}send(k){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(k)}}addTransceiver(k,P){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(k,P),this._needsNegotiation()}catch(R){this.destroy(x(R,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:k,init:P}})}}addStream(k){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),k.getTracks().forEach(P=>{this.addTrack(P,k)})}}addTrack(k,P){if(this.destroying)return;if(this.destroyed)throw x(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const R=this._senderMap.get(k)||new Map;let D=R.get(P);if(!D)D=this._pc.addTrack(k,P),R.set(P,D),this._senderMap.set(k,R),this._needsNegotiation();else throw D.removed?x(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):x(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(k,P,R){if(this.destroying)return;if(this.destroyed)throw x(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const D=this._senderMap.get(k),O=D?D.get(R):null;if(!O)throw x(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");P&&this._senderMap.set(P,D),O.replaceTrack==null?this.destroy(x(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):O.replaceTrack(P)}removeTrack(k,P){if(this.destroying)return;if(this.destroyed)throw x(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const R=this._senderMap.get(k),D=R?R.get(P):null;if(!D)throw x(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{D.removed=!0,this._pc.removeTrack(D)}catch(O){O.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(D):this.destroy(x(O,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(k){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),k.getTracks().forEach(P=>{this.removeTrack(P,k)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,b(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw x(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(k){this._destroy(k,()=>{})}_destroy(k,P){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",k&&(k.message||k)),b(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",k&&(k.message||k)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,k&&this.emit("error",k),this.emit("close"),P()}))}_setupData(k){if(!k.channel)return this.destroy(x(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=k.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=C),this.channelName=this._channel.label,this._channel.onmessage=R=>{this._onChannelMessage(R)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=R=>{const D=R.error instanceof Error?R.error:new Error(`Datachannel error: ${R.message} ${R.filename}:${R.lineno}:${R.colno}`);this.destroy(x(D,"ERR_DATA_CHANNEL"))};let P=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(P&&this._onChannelClose(),P=!0):P=!1},5e3)}_read(){}_write(k,P,R){if(this.destroyed)return R(x(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(k)}catch(D){return this.destroy(x(D,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>C?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=R):R(null)}else this._debug("write before connect"),this._chunk=k,this._cb=R}_onFinish(){if(!this.destroyed){const k=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?k():this.once("connect",k)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(k=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(k.sdp=u(k.sdp)),k.sdp=this.sdpTransform(k.sdp);const P=()=>{if(!this.destroyed){const R=this._pc.localDescription||k;this._debug("signal"),this.emit("signal",{type:R.type,sdp:R.sdp})}};this._pc.setLocalDescription(k).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?P():this.once("_iceComplete",P))}).catch(R=>{this.destroy(x(R,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(k=>{this.destroy(x(k,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(k=>{k.mid||!k.sender.track||k.requested||(k.requested=!0,this.addTransceiver(k.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(k=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(k.sdp=u(k.sdp)),k.sdp=this.sdpTransform(k.sdp);const P=()=>{if(!this.destroyed){const R=this._pc.localDescription||k;this._debug("signal"),this.emit("signal",{type:R.type,sdp:R.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(k).then(()=>{this.destroyed||(this.trickle||this._iceComplete?P():this.once("_iceComplete",P))}).catch(R=>{this.destroy(x(R,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(k=>{this.destroy(x(k,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(x(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const k=this._pc.iceConnectionState,P=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",k,P),this.emit("iceStateChange",k,P),(k==="connected"||k==="completed")&&(this._pcReady=!0,this._maybeReady()),k==="failed"&&this.destroy(x(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),k==="closed"&&this.destroy(x(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(k){const P=R=>(Object.prototype.toString.call(R.values)==="[object Array]"&&R.values.forEach(D=>{Object.assign(R,D)}),R);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(R=>{const D=[];R.forEach(O=>{D.push(P(O))}),k(null,D)},R=>k(R)):0<this._pc.getStats.length?this._pc.getStats(R=>{if(this.destroyed)return;const D=[];R.result().forEach(O=>{const L={};O.names().forEach(J=>{L[J]=O.stat(J)}),L.id=O.id,L.type=O.type,L.timestamp=O.timestamp,D.push(P(L))}),k(null,D)},R=>k(R)):k(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const k=()=>{this.destroyed||this.getStats((P,R)=>{if(this.destroyed)return;P&&(R=[]);const D={},O={},L={};let J=!1;R.forEach(H=>{(H.type==="remotecandidate"||H.type==="remote-candidate")&&(D[H.id]=H),(H.type==="localcandidate"||H.type==="local-candidate")&&(O[H.id]=H),(H.type==="candidatepair"||H.type==="candidate-pair")&&(L[H.id]=H)});const z=H=>{J=!0;let te=O[H.localCandidateId];te&&(te.ip||te.address)?(this.localAddress=te.ip||te.address,this.localPort=+te.port):te&&te.ipAddress?(this.localAddress=te.ipAddress,this.localPort=+te.portNumber):typeof H.googLocalAddress=="string"&&(te=H.googLocalAddress.split(":"),this.localAddress=te[0],this.localPort=+te[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let oe=D[H.remoteCandidateId];oe&&(oe.ip||oe.address)?(this.remoteAddress=oe.ip||oe.address,this.remotePort=+oe.port):oe&&oe.ipAddress?(this.remoteAddress=oe.ipAddress,this.remotePort=+oe.portNumber):typeof H.googRemoteAddress=="string"&&(oe=H.googRemoteAddress.split(":"),this.remoteAddress=oe[0],this.remotePort=+oe[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(R.forEach(H=>{H.type==="transport"&&H.selectedCandidatePairId&&z(L[H.selectedCandidatePairId]),(H.type==="googCandidatePair"&&H.googActiveConnection==="true"||(H.type==="candidatepair"||H.type==="candidate-pair")&&H.selected)&&z(H)}),!J&&(!Object.keys(L).length||Object.keys(O).length))return void setTimeout(k,100);if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(te){return this.destroy(x(te,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const H=this._cb;this._cb=null,H(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};k()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>C)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(k=>{this._pc.removeTrack(k),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(k){this.destroyed||(k.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:k.candidate.candidate,sdpMLineIndex:k.candidate.sdpMLineIndex,sdpMid:k.candidate.sdpMid}}):!k.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),k.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(k){if(this.destroyed)return;let P=k.data;P instanceof ArrayBuffer&&(P=E.from(P)),this.push(P)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const k=this._cb;this._cb=null,k(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(k){this.destroyed||k.streams.forEach(P=>{this._debug("on track"),this.emit("track",k.track,P),this._remoteTracks.push({track:k.track,stream:P}),this._remoteStreams.some(R=>R.id===P.id)||(this._remoteStreams.push(P),b(()=>{this._debug("on stream"),this.emit("stream",P)}))})}_debug(){const k=[].slice.call(arguments);k[0]="["+this._id+"] "+k[0],p.apply(null,k)}}j.WEBRTC_SUPPORT=!!y(),j.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},j.channelConfig={},c.exports=j},{buffer:3,debug:4,"err-code":6,"get-browser-rtc":8,"queue-microtask":13,randombytes:14,"readable-stream":29}]},{},[])("/")})})(rd)),rd.exports}var Nj=Oj();const ev=Cl(Nj),Ys={mimeType:"audio/webm;codecs=opus",audioBitsPerSecond:16e3,sampleRate:16e3,channels:1},Ij=["audio/webm;codecs=opus","audio/webm","audio/ogg;codecs=opus","audio/mp4"];class Dj{constructor(){Yt(this,"mediaRecorder",null);Yt(this,"audioChunks",[]);Yt(this,"recordingState",{isRecording:!1,duration:0,fileSize:0});Yt(this,"options",null);Yt(this,"durationInterval",null);Yt(this,"startTime",0)}getSupportedMimeType(){for(const e of Ij)if(MediaRecorder.isTypeSupported(e))return console.log(" [Recording] Using MIME type:",e),e;return console.warn(" [Recording] No supported MIME type found, using default"),""}async startRecording(e,r,i){try{this.options=i,console.log(" [Recording] Starting dual-stream recording for call:",i.callId);const a=new AudioContext({sampleRate:Ys.sampleRate}),o=a.createMediaStreamDestination();if(e.getAudioTracks().length>0){const m=a.createMediaStreamSource(e),w=a.createGain();w.gain.value=1,m.connect(w),w.connect(o)}if(r.getAudioTracks().length>0){const m=a.createMediaStreamSource(r),w=a.createGain();w.gain.value=1,m.connect(w),w.connect(o)}const c=o.stream,u=this.getSupportedMimeType(),d={audioBitsPerSecond:Ys.audioBitsPerSecond};u&&(d.mimeType=u),this.mediaRecorder=new MediaRecorder(c,d),this.audioChunks=[],this.mediaRecorder.ondataavailable=m=>{m.data.size>0&&(this.audioChunks.push(m.data),this.recordingState.fileSize+=m.data.size,console.log(" [Recording] Chunk received:",m.data.size,"bytes"))},this.mediaRecorder.onstop=async()=>{console.log(" [Recording] MediaRecorder stopped"),await this.processAndUpload()},this.mediaRecorder.onerror=m=>{var w;console.error(" [Recording] Error:",m.error),this.handleRecordingError(((w=m.error)==null?void 0:w.message)||"Recording error")};const{data:p,error:y}=await $.from("call_recordings").insert({call_id:i.callId,caller_id:i.callerId,caller_type:i.callerType,caller_name:i.callerName||"Arayan",receiver_id:i.receiverId,receiver_type:i.receiverType,receiver_name:i.receiverName||"Partner",file_path:"",file_name:`call_${i.callId}.webm`,duration_seconds:0,sample_rate:Ys.sampleRate,bitrate:Ys.audioBitsPerSecond,channels:Ys.channels,status:"recording",request_id:i.requestId||null}).select().single();return y?(console.error(" [Recording] DB error:",y),null):(await $.from("calls").update({recording_id:p.id,is_recorded:!0}).eq("id",i.callId),this.mediaRecorder.start(1e3),this.startTime=Date.now(),this.durationInterval=window.setInterval(()=>{this.recordingState.duration=Math.floor((Date.now()-this.startTime)/1e3)},1e3),this.recordingState={isRecording:!0,recordingId:p.id,startTime:this.startTime,duration:0,fileSize:0},console.log(" [Recording] Started successfully, recording ID:",p.id),p.id)}catch(a){return console.error(" [Recording] Failed to start:",a),null}}async stopRecording(){console.log(" [Recording] Stopping...");const e=this.recordingState.isRecording;if(this.recordingState.isRecording=!1,this.durationInterval&&(clearInterval(this.durationInterval),this.durationInterval=null),this.mediaRecorder){if(this.mediaRecorder.ondataavailable=null,this.mediaRecorder.onstop=null,this.mediaRecorder.onerror=null,this.mediaRecorder.state!=="inactive")try{this.mediaRecorder.stop()}catch(r){console.warn(" [Recording] MediaRecorder stop error:",r)}this.mediaRecorder=null}return e&&this.audioChunks.length>0?await this.processAndUpload():(console.log(" [Recording] Nothing to upload"),this.cleanup(),null)}getState(){return{...this.recordingState}}async processAndUpload(){if(!this.options||!this.recordingState.recordingId||this.audioChunks.length===0)return console.warn(" [Recording] No data to process"),null;try{console.log(" [Recording] Processing and uploading..."),await $.from("call_recordings").update({status:"processing"}).eq("id",this.recordingState.recordingId);const e=this.getSupportedMimeType()||"audio/webm",r=new Blob(this.audioChunks,{type:e}),i=r.size,a=new Date,o=a.getFullYear(),c=String(a.getMonth()+1).padStart(2,"0"),u=`call_${this.options.callId}_${Date.now()}.webm`,d=`${o}/${c}/${u}`;console.log(" [Recording] Uploading to:",d,"Size:",i,"bytes");const{data:p,error:y}=await $.storage.from("call-recordings").upload(d,r,{contentType:e,upsert:!1});if(y)throw y;const m=this.recordingState.duration*35e4/8,w=m/i,{error:b}=await $.from("call_recordings").update({file_path:d,file_name:u,file_size_bytes:i,duration_seconds:this.recordingState.duration,original_size_bytes:Math.round(m),compression_ratio:Math.round(w*100)/100,status:"ready"}).eq("id",this.recordingState.recordingId);if(b)throw b;console.log(" [Recording] Upload successful!"),console.log(" Duration:",this.recordingState.duration,"seconds"),console.log(" File size:",Math.round(i/1024),"KB"),console.log(" Compression ratio:",w.toFixed(1),"x");const x={storagePath:d,fileSize:i};return this.cleanup(),x}catch(e){return console.error(" [Recording] Upload failed:",e),await this.handleRecordingError(e.message),null}}async handleRecordingError(e){this.recordingState.recordingId&&await $.from("call_recordings").update({status:"failed",error_message:e}).eq("id",this.recordingState.recordingId),this.cleanup()}cleanup(){this.mediaRecorder=null,this.audioChunks=[],this.options=null,this.recordingState={isRecording:!1,duration:0,fileSize:0}}}const Yh=new Dj;async function tv(t,e,r){return Yh.startRecording(t,e,r)}async function Lj(){return Yh.stopRecording()}function nd(){return Yh.getState()}const $_=B.createContext(null),Mj=({children:t})=>{const[e,r]=B.useState("idle"),[i,a]=B.useState(!1),[o,c]=B.useState(null),[u,d]=B.useState(null),[p,y]=B.useState(null),[m,w]=B.useState(!1),[b,x]=B.useState(!0),[E,C]=B.useState(0),[j,I]=B.useState(!1),[k,P]=B.useState(null),R=B.useRef(null),D=B.useRef(null),O=B.useRef(null),L=B.useRef(null),J=B.useRef(null),z=B.useRef(null),H=B.useRef(null),te=B.useCallback(()=>{const se=!!localStorage.getItem("yolmov_admin"),ge=!!localStorage.getItem("yolmov_partner"),V=!!localStorage.getItem("yolmov_customer");console.log(" [CallContext] getCurrentUser check - admin:",se,"partner:",ge,"customer:",V);const G=localStorage.getItem("yolmov_admin");if(G)try{const f=JSON.parse(G);if(f&&f.id)return console.log(" [CallContext] getCurrentUser - Admin found:",f.id),{id:f.id,type:"admin",name:f.name||f.email,email:f.email}}catch(f){console.error(" [CallContext] Error parsing admin data:",f),localStorage.removeItem("yolmov_admin")}const X=localStorage.getItem("yolmov_partner");if(X)try{const f=JSON.parse(X),S=f.id||f.partner_id;if(S)return console.log(" [CallContext] getCurrentUser - Partner found:",S),{id:S,type:"partner",name:f.company_name||f.name,phone:f.phone}}catch(f){console.error(" [CallContext] Error parsing partner data:",f),localStorage.removeItem("yolmov_partner")}const he=localStorage.getItem("yolmov_customer");if(he)try{const f=JSON.parse(he);if(f&&f.id)return console.log(" [CallContext] getCurrentUser - Customer found:",f.id),{id:f.id,type:"customer",name:f.name,phone:f.phone}}catch(f){console.error(" [CallContext] Error parsing customer data:",f),localStorage.removeItem("yolmov_customer")}let N=localStorage.getItem("yolmov_anonymous_caller_id");return N||(N="anon_"+qh(),localStorage.setItem("yolmov_anonymous_caller_id",N)),console.log(" [CallContext] getCurrentUser - Anonymous:",N),{id:N,type:"customer",name:"Anonim Arayan",isAnonymous:!0}},[]);B.useEffect(()=>{const se=te();if(!(se!=null&&se.id)){console.log(" [CallContext] No user found, skipping realtime subscription");return}console.log(" [CallContext] Setting up realtime subscription for user:",se.id);const ge=$.channel(`calls_incoming_${se.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"calls",filter:`receiver_id=eq.${se.id}`},async V=>{const G=V.new;if(G.receiver_id!==se.id){console.log(" [CallContext] Call receiver mismatch, ignoring");return}if(G.status!=="ringing")return;console.log(" [CallContext] Incoming call FOR ME!",G.id);let X=null;if(G.caller_id.startsWith("anon_"))X={name:"Anonim Arayan",phone:null};else if(G.caller_type==="customer"){const{data:he}=await $.from("customers").select("id, first_name, last_name, phone").eq("id",G.caller_id).single();he&&(X={name:`${he.first_name||""} ${he.last_name||""}`.trim()||"Mteri",phone:he.phone})}else if(G.caller_type==="partner"){const{data:he}=await $.from("partners").select("id, company_name, phone").eq("id",G.caller_id).single();he&&(X={name:he.company_name,phone:he.phone})}a(!0),r("ringing"),d(X),c({id:G.id,callerId:G.caller_id,callerName:(X==null?void 0:X.name)||"Arayan",callerPhone:X==null?void 0:X.phone,callerType:G.caller_type,receiverId:G.receiver_id,receiverType:G.receiver_type,status:"ringing",startedAt:G.started_at}),z.current=G.id,Re()}).subscribe(V=>{console.log(" [CallContext] Realtime subscription status:",V)});return()=>{$.removeChannel(ge)}},[]);const oe=B.useRef(null);B.useEffect(()=>{if(e!=="calling")return;const se=z.current;if(!se){console.log(" [CallContext] No call ID yet, waiting...");return}console.log(" [CallContext] Setting up SDP answer listener for call:",se);const ge=`call_answer_${se}_${Date.now()}`,V=$.channel(ge).on("postgres_changes",{event:"UPDATE",schema:"public",table:"calls",filter:`id=eq.${se}`},X=>{const he=X.new;if(console.log(" [CallContext]  My call updated:",he.status,"has answer:",!!he.sdp_answer),he.status==="rejected"||he.status==="missed"){me(he.status);return}if(he.sdp_answer&&L.current){console.log(" [CallContext] Got SDP answer, signaling peer...");try{!L.current.destroyed&&!L.current.connected?(L.current.signal(he.sdp_answer),console.log(" [CallContext]  SDP answer signaled to peer!"),oe.current&&(clearInterval(oe.current),oe.current=null)):console.log(" [CallContext] Peer already connected or destroyed, skipping signal")}catch(N){console.error(" [CallContext]  Error signaling peer:",N)}}}).subscribe(X=>{console.log(" [CallContext] SDP answer subscription status:",X)}),G=async()=>{if(!(!se||e!=="calling"))try{const{data:X}=await $.from("calls").select("sdp_answer, status").eq("id",se).single();if((X==null?void 0:X.status)==="rejected"||(X==null?void 0:X.status)==="missed"){me(X.status);return}X!=null&&X.sdp_answer&&L.current&&!L.current.destroyed&&!L.current.connected&&(console.log(" [CallContext]  Polling found SDP answer, signaling peer..."),L.current.signal(X.sdp_answer),oe.current&&(clearInterval(oe.current),oe.current=null))}catch(X){console.warn(" [CallContext] Polling error:",X)}};return oe.current=setInterval(G,2e3),setTimeout(G,500),()=>{console.log(" [CallContext] Removing SDP answer subscription"),$.removeChannel(V),oe.current&&(clearInterval(oe.current),oe.current=null)}},[e]);const be=se=>{var G;const ge=new Audio;ge.setAttribute("playsinline","true"),ge.setAttribute("webkit-playsinline","true"),ge.preload="auto";const V=(G=se.split(".").pop())==null?void 0:G.toLowerCase();return ge.src=se,ge},Re=()=>{try{const se=be("/sounds/mixkit-happy-bells-notification-937.wav");se.loop=!0,se.volume=1;const ge=se.play();ge!==void 0&&ge.catch(V=>{console.warn(" [CallContext] Ringtone autoplay blocked (Safari?):",V.message),document.addEventListener("click",function G(){se.play().catch(()=>{}),document.removeEventListener("click",G)},{once:!0})}),window.__yolmov_ringtone=se,console.log(" [CallContext] Ringtone started (partner incoming call)")}catch(se){console.warn(" [CallContext] Ringtone error:",se)}},Ae=()=>{try{const se=window.__yolmov_ringtone;se&&(se.pause(),se.currentTime=0,se.src="",delete window.__yolmov_ringtone,console.log(" [CallContext] Ringtone stopped"))}catch{}},Ce=()=>{try{const se=be("/sounds/mixkit-magic-marimba-2820.wav");se.loop=!0,se.volume=.7;const ge=se.play();ge!==void 0&&ge.catch(V=>{console.warn(" [CallContext] Waiting tone autoplay blocked:",V.message)}),window.__yolmov_waiting_tone=se,console.log(" [CallContext] Waiting tone started (customer calling)")}catch(se){console.warn(" [CallContext] Waiting tone error:",se)}},le=()=>{try{const se=window.__yolmov_waiting_tone;se&&(se.pause(),se.currentTime=0,se.src="",delete window.__yolmov_waiting_tone,console.log(" [CallContext] Waiting tone stopped"))}catch{}},ae=()=>{C(0),H.current=setInterval(()=>{C(se=>se+1)},1e3)},pe=()=>{H.current&&(clearInterval(H.current),H.current=null)},W=B.useRef(!1),ne=B.useRef(!1),ye=async()=>{if(W.current){console.log(" [CallContext] cleanupCall already in progress, skipping...");return}W.current=!0,console.log(" [CallContext] cleanupCall started..."),Ae(),le();const se=nd();if(se.isRecording||se.recordingId){try{console.log(" [CallContext] Stopping recording and uploading...");const ge=await Lj();ge&&console.log(" [CallContext] Recording uploaded:",ge.storagePath)}catch(ge){console.warn(" [CallContext] Recording stop error:",ge)}I(!1),P(null)}if(L.current){try{L.current.destroy()}catch{}L.current=null}J.current&&(J.current.getTracks().forEach(ge=>{try{ge.stop()}catch{}}),J.current=null),R.current&&(R.current.getTracks().forEach(ge=>{try{ge.stop()}catch{}}),R.current=null),Ae(),pe(),r("idle"),a(!1),c(null),d(null),y(null),w(!1),C(0),z.current=null,W.current=!1,ne.current=!1,console.log(" [CallContext] cleanupCall completed")},me=async se=>{if(ne.current){console.log(" [CallContext] Call already ended, ignoring:",se);return}ne.current=!0,console.log(" [CallContext] Call ended:",se),r("ended"),await ye(),setTimeout(()=>{r("idle")},2e3)},ie=async(se,ge="partner",V,G)=>{const X=te(),he=G||(ge==="admin"?"Yolmov Destek":ge==="partner"?"Partner":"Mteri");V&&(z.current=V,console.log(" [CallContext] Using existing call ID:",V));try{r("calling"),y(null),c({id:V||"",callerId:X.id,callerName:X.name,callerType:X.type,receiverId:se,receiverName:he,receiverType:ge,status:"calling",startedAt:new Date().toISOString()}),console.log(" [CallContext] Starting call to:",se,"displayName:",he);const N=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1});J.current=N,D.current&&(D.current.srcObject=N,D.current.muted=!0),console.log(" [CallContext] Playing call recording notice...");try{const S=be("/sounds/call-recording-notice.mp3");let T=!1;try{await new Promise((U,K)=>{S.oncanplaythrough=()=>U(!0),S.onerror=()=>K(new Error("Local audio not found")),setTimeout(()=>K(new Error("Audio load timeout")),2e3)}),T=!0,console.log(" [CallContext] Notice audio loaded from /sounds/")}catch{console.log(" [CallContext] Local audio not found, trying Supabase...");const{data:K,error:ee}=await $.storage.from("call-recordings").createSignedUrl("notice-audio.mp3",60);!ee&&(K!=null&&K.signedUrl)&&(S.src=K.signedUrl,await new Promise((Ee,$e)=>{S.oncanplaythrough=()=>Ee(!0),S.onerror=()=>$e(new Error("Supabase audio failed")),setTimeout(()=>$e(new Error("Supabase audio timeout")),3e3)}),T=!0,console.log(" [CallContext] Notice audio loaded from Supabase"))}if(T){await S.play(),console.log(" [CallContext] Notice audio playing...");const U=S.duration||9,K=Math.min(U*1e3,1e4);await new Promise(ee=>setTimeout(ee,K)),S.pause(),S.currentTime=0,console.log(" [CallContext] Notice audio finished")}else if(console.log(" [CallContext] Using Web Speech API fallback..."),"speechSynthesis"in window){const U=new SpeechSynthesisUtterance("Bu grme kalite standartlar gerei kayt altna alnmaktadr. Ltfen bekleyiniz.");U.lang="tr-TR",U.rate=.9,U.pitch=1,U.volume=1,await new Promise(K=>{U.onend=()=>K(),U.onerror=()=>K(),window.speechSynthesis.speak(U),setTimeout(K,8e3)}),console.log(" [CallContext] Speech synthesis finished")}else console.warn(" [CallContext] No audio system available"),await new Promise(U=>setTimeout(U,2e3))}catch(S){console.warn(" [CallContext] Notice audio failed, continuing:",S)}Ce(),D.current&&(D.current.srcObject=N,D.current.muted=!0);const f=new ev({initiator:!0,trickle:!1,stream:N,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]}});L.current=f,f.on("signal",async S=>{console.log(" [CallContext] Got SDP offer, saving to DB...");let T,U;if(z.current){console.log(" [CallContext] Updating existing call with SDP offer:",z.current);const K=await $.from("calls").update({sdp_offer:S,status:"ringing"}).eq("id",z.current);if(K.error)console.error(" [CallContext] Update error:",K.error),U=K.error;else{const ee=await $.from("calls").select("*").eq("id",z.current).maybeSingle();T=ee.data,U=ee.error}}else{console.log(" [CallContext] Creating new call record...");const K=await $.from("calls").insert({caller_id:X.id,caller_type:X.type,receiver_id:se,receiver_type:ge,status:"ringing",sdp_offer:S}).select().single();T=K.data,U=K.error}if(U||!T){console.error(" [CallContext] Error saving call:",U),y("Arama balatlamad"),await ye();return}if(z.current=T.id,c({id:T.id,callerId:X.id,callerName:X.name,callerType:X.type,receiverId:se,receiverName:he,receiverType:ge,status:"calling",startedAt:T.started_at}),ge==="partner"){console.log(" [CallContext] Sending push notification to partner:",se);try{await fetch("/api/send-call-notification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({partnerId:se,callerName:X.name||"Mteri",callerPhone:X.phone||"",callId:T.id})}),console.log(" [CallContext] Push notification sent")}catch(K){console.warn(" [CallContext] Push notification failed:",K)}}}),f.on("connect",()=>{console.log(" [CallContext] Peer connected!"),r("connected"),ae(),le(),z.current&&$.from("calls").update({status:"connected",connected_at:new Date().toISOString()}).eq("id",z.current).then(()=>{})}),f.on("stream",S=>{console.log(" [CallContext] Got remote stream"),R.current=S,O.current&&(O.current.srcObject=S,O.current.play().catch(()=>{})),J.current&&z.current&&(console.log(" [CallContext] Starting call recording..."),tv(J.current,S,{callId:z.current,callerId:X.id,callerType:X.type,callerName:X.name,receiverId:se,receiverType:ge,receiverName:"Partner"}).then(T=>{T&&(I(!0),P(nd()),console.log(" [CallContext] Recording started:",T))}).catch(T=>{console.warn(" [CallContext] Recording failed to start:",T)}))}),f.on("error",S=>{console.error(" [CallContext] Peer error:",S),y("Balant hatas"),me("error")}),f.on("close",()=>{console.log(" [CallContext] Peer closed"),me("peer_closed")}),setTimeout(()=>{e==="calling"&&z.current&&(console.log(" [CallContext] Call timeout - no answer"),$.from("calls").update({status:"missed",ended_at:new Date().toISOString()}).eq("id",z.current).then(()=>{}),me("timeout"))},3e4)}catch(N){console.error(" [CallContext] Error starting call:",N),y(N.message||"Mikrofon eriimi reddedildi"),await ye()}},ke=async()=>{if(!z.current||!o){y("Geersiz arama");return}const se=te();if((se==null?void 0:se.type)==="partner"&&!se.isAnonymous)try{const{data:ge}=await $.from("partner_credits").select("balance").eq("partner_id",se.id).maybeSingle(),V=(ge==null?void 0:ge.balance)||0;if(V<1){y("Yetersiz kredi! Aramay cevaplayabilmek iin en az 1 krediniz olmal."),await $.from("calls").update({status:"rejected",ended_at:new Date().toISOString(),end_reason:"insufficient_credits"}).eq("id",z.current),await ye();return}console.log(" [CallContext] Partner has",V,"credits, deducting 1...");const{error:G}=await $.from("partner_credits").update({balance:V-1,updated_at:new Date().toISOString()}).eq("partner_id",se.id);if(G)console.error(" [CallContext] Credit deduction failed:",G);else{console.log(" [CallContext] Credit deducted! New balance:",V-1);const{data:X}=await $.from("partners").select("company_name").eq("id",se.id).single(),{error:he}=await $.from("credit_transactions").insert({partner_id:se.id,partner_name:(X==null?void 0:X.company_name)||"Partner",amount:-1,type:"usage",balance_before:V,balance_after:V-1,description:`Gelen arama cevaplanp - Arayan: ${(u==null?void 0:u.name)||"Anonim"}`});he?console.error(" [CallContext] Credit transaction log failed:",he):console.log(" [CallContext] Credit transaction logged")}}catch(ge){console.error(" [CallContext] Credit check error:",ge)}try{Ae(),a(!1),r("connected"),console.log(" [CallContext] Answering call:",z.current);const ge=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1});J.current=ge,D.current&&(D.current.srcObject=ge,D.current.muted=!0);const{data:V,error:G}=await $.from("calls").select("*").eq("id",z.current).single();if(G||!(V!=null&&V.sdp_offer)){y("Arama verisi alnamad"),await ye();return}const X=new ev({initiator:!1,trickle:!1,stream:ge,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]}});L.current=X,X.on("signal",async he=>{console.log(" [CallContext] Got SDP answer, saving to DB..."),await $.from("calls").update({sdp_answer:he,status:"connected",connected_at:new Date().toISOString()}).eq("id",z.current)}),X.on("connect",()=>{console.log(" [CallContext] Peer connected!"),ae()}),X.on("stream",he=>{if(console.log(" [CallContext] Got remote stream"),R.current=he,O.current&&(O.current.srcObject=he,O.current.play().catch(()=>{})),J.current&&z.current&&o){console.log(" [CallContext] Starting call recording (receiver side)...");const N=te();tv(J.current,he,{callId:z.current,callerId:o.callerId,callerType:o.callerType,callerName:o.callerName,receiverId:N.id,receiverType:N.type,receiverName:N.name}).then(f=>{f&&(I(!0),P(nd()),console.log(" [CallContext] Recording started (receiver):",f))}).catch(f=>{console.warn(" [CallContext] Recording failed to start:",f)})}}),X.on("error",he=>{console.error(" [CallContext] Peer error:",he),y("Balant hatas"),me("error")}),X.on("close",()=>{console.log(" [CallContext] Peer closed"),me("peer_closed")}),X.signal(V.sdp_offer)}catch(ge){console.error(" [CallContext] Error answering call:",ge),y(ge.message||"Mikrofon eriimi reddedildi"),await ye()}},Ve=async se=>{console.log(" [CallContext] answerCallById:",se),z.current=se;const{data:ge,error:V}=await $.from("calls").select("*").eq("id",se).single();if(V||!ge){console.error(" [CallContext] Call not found:",V),y("Arama bulunamad");return}d({name:"Arayan",phone:null}),c({id:ge.id,callerId:ge.caller_id,callerName:"Arayan",callerType:ge.caller_type,receiverId:ge.receiver_id,receiverType:ge.receiver_type,status:"ringing",startedAt:ge.started_at}),await ke()},Be=async se=>{console.log(" [CallContext] rejectCallById:",se),await $.from("calls").update({status:"rejected",ended_at:new Date().toISOString(),end_reason:"receiver_rejected"}).eq("id",se),await ye()},Ke=async()=>{z.current&&(console.log(" [CallContext] Rejecting call:",z.current),Ae(),await $.from("calls").update({status:"rejected",ended_at:new Date().toISOString(),end_reason:"receiver_rejected"}).eq("id",z.current),await ye())},Ge=async()=>{if(!z.current){await ye();return}const se=te();console.log(" [CallContext] Ending call:",z.current),await $.from("calls").update({status:"ended",ended_at:new Date().toISOString(),end_reason:(se==null?void 0:se.type)==="customer"?"caller_ended":"receiver_ended",duration_seconds:E}).eq("id",z.current),me("user_ended")},_t=()=>{if(J.current){const se=J.current.getAudioTracks()[0];se&&(se.enabled=!se.enabled,w(!se.enabled))}},ct=()=>{O.current&&(O.current.muted=b,x(!b))};return g.jsxs($_.Provider,{value:{callStatus:e,isIncoming:i,currentCall:o,callerInfo:u,error:p,startCall:ie,answerCall:ke,answerCallById:Ve,rejectCall:Ke,rejectCallById:Be,endCall:Ge,isMuted:m,toggleMute:_t,isSpeakerOn:b,toggleSpeaker:ct,callDuration:E,localAudioRef:D,remoteAudioRef:O,isRecording:j,recordingState:k},children:[t,g.jsx("audio",{ref:D,autoPlay:!0,muted:!0,playsInline:!0,style:{display:"none"}}),g.jsx("audio",{ref:O,autoPlay:!0,playsInline:!0,style:{display:"none"}})]})},ka=()=>{const t=B.useContext($_);if(!t)throw new Error("useCall must be used within a CallProvider");return t},zj=async()=>{try{const t=document.documentElement;t.requestFullscreen?await t.requestFullscreen():t.webkitRequestFullscreen?await t.webkitRequestFullscreen():t.msRequestFullscreen&&await t.msRequestFullscreen()}catch{console.log("Fullscreen not supported or denied")}},Uj=async()=>{try{document.fullscreenElement?await document.exitFullscreen():document.webkitFullscreenElement?await document.webkitExitFullscreen():document.msFullscreenElement&&await document.msExitFullscreen()}catch{console.log("Exit fullscreen failed")}},Bj=()=>{const{isIncoming:t,callStatus:e,callerInfo:r,answerCall:i,rejectCall:a,error:o}=ka();console.log(" [IncomingCallModal] isIncoming:",t,"callStatus:",e,"callerInfo:",r);const c=(()=>{try{return!!localStorage.getItem("yolmov_admin")}catch{return!1}})();if(B.useEffect(()=>{t&&e==="ringing"&&!c&&zj()},[t,e,c]),c)return console.log(" [IncomingCallModal] Admin user detected, skipping fullscreen modal"),null;if(!t||e!=="ringing")return null;const u=(r==null?void 0:r.name)||(r==null?void 0:r.company_name)||"Mteri",d=(r==null?void 0:r.phone)||"",p=async()=>{await Uj(),a()},y=async()=>{i()};return g.jsx(Tr,{children:g.jsxs(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 flex flex-col items-center justify-between py-12 px-6",children:[g.jsx("div",{className:"flex flex-col items-center",children:g.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white/10 rounded-full backdrop-blur-sm",children:[g.jsx(Mr,{size:14,className:"text-green-400"}),g.jsx("span",{className:"text-white/80 text-sm font-medium",children:"Yolmov Voice"})]})}),g.jsxs("div",{className:"flex flex-col items-center text-center",children:[g.jsxs(Ie.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"relative mb-8",children:[g.jsx("div",{className:"absolute inset-0 w-36 h-36 rounded-full bg-green-500/20 animate-ping"}),g.jsx("div",{className:"absolute inset-2 w-32 h-32 rounded-full bg-green-500/30 animate-pulse"}),g.jsx("div",{className:"relative w-32 h-32 rounded-full bg-gradient-to-br from-slate-600 to-slate-700 flex items-center justify-center text-white shadow-2xl border-4 border-white/10",children:g.jsx(Pl,{size:56,strokeWidth:1.5})})]}),g.jsx(Ie.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl font-bold text-white mb-2",children:u}),d&&g.jsx(Ie.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-lg text-white/60 mb-4",children:d}),g.jsxs(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex items-center gap-2 px-4 py-2 bg-orange-500/20 rounded-full",children:[g.jsx(Al,{size:16,className:"text-orange-400"}),g.jsx("span",{className:"text-orange-300 text-sm font-medium",children:"Yol Yardm Talebi"})]}),g.jsx(Ie.p,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},className:"text-white/50 text-lg mt-8",children:"Mteri aryor..."}),g.jsxs(Ie.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-4 flex items-center gap-2 px-4 py-2 bg-yellow-500/20 rounded-full",children:[g.jsx(S1,{size:14,className:"text-yellow-400"}),g.jsx("span",{className:"text-yellow-300 text-xs font-medium",children:"Cevaplamak 1 kredi harcar"})]})]}),g.jsxs(Ie.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.5},className:"flex items-center justify-center gap-12",children:[g.jsxs("button",{onClick:p,className:"group flex flex-col items-center gap-3",children:[g.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500 flex items-center justify-center shadow-lg shadow-red-500/30 transition-transform group-hover:scale-110 group-active:scale-95",children:g.jsx(ol,{size:28,className:"text-white"})}),g.jsx("span",{className:"text-white/60 text-sm font-medium",children:"Reddet"})]}),g.jsxs("button",{onClick:y,className:"group flex flex-col items-center gap-3",children:[g.jsx(Ie.div,{animate:{scale:[1,1.15,1]},transition:{duration:1,repeat:1/0},className:"w-20 h-20 rounded-full bg-green-500 flex items-center justify-center shadow-lg shadow-green-500/30 transition-transform group-hover:scale-110 group-active:scale-95",children:g.jsx(Mr,{size:36,className:"text-white"})}),g.jsx("span",{className:"text-white/60 text-sm font-medium",children:"Cevapla"})]})]})]})})},rv=async()=>{try{document.fullscreenElement?await document.exitFullscreen():document.webkitFullscreenElement?await document.webkitExitFullscreen():document.msFullscreenElement&&await document.msExitFullscreen()}catch{console.log("Exit fullscreen failed")}},$j=({minimized:t=!1,onMinimize:e,onMaximize:r})=>{const{callStatus:i,currentCall:a,callerInfo:o,isIncoming:c,endCall:u,isMuted:d,toggleMute:p,isSpeakerOn:y,toggleSpeaker:m,callDuration:w}=ka(),b=(()=>{try{return!!localStorage.getItem("yolmov_admin")}catch{return!1}})();if(B.useEffect(()=>{(i==="ended"||i==="idle")&&rv()},[i]),i!=="connected")return null;if(b)return console.log(" [ActiveCallUI] Admin user detected, hiding fullscreen UI"),null;const x=P=>{const R=Math.floor(P/60),D=P%60;return`${R.toString().padStart(2,"0")}:${D.toString().padStart(2,"0")}`},E=async()=>{await rv(),u()},C=c?(o==null?void 0:o.name)||(o==null?void 0:o.company_name)||(a==null?void 0:a.callerName)||"Arayan":(a==null?void 0:a.receiverName)||((a==null?void 0:a.receiverType)==="admin"?"Yolmov Destek":"Partner"),j=(()=>{try{return!!localStorage.getItem("yolmov_partner")}catch{return!1}})(),I=(a==null?void 0:a.receiverType)==="admin",k=j&&I?{bgColor:"bg-purple-600",gradientFrom:"from-purple-900",gradientVia:"via-purple-800",statusBg:"bg-purple-500/30",statusText:"text-purple-300",statusDot:"bg-purple-400",avatarPulse:"bg-purple-400",avatarFrom:"from-purple-600",avatarTo:"to-purple-700",avatarBorder:"border-purple-400/30"}:{bgColor:"bg-green-600",gradientFrom:"from-green-900",gradientVia:"via-green-800",statusBg:"bg-green-500/30",statusText:"text-green-300",statusDot:"bg-green-400",avatarPulse:"bg-green-400",avatarFrom:"from-green-600",avatarTo:"to-green-700",avatarBorder:"border-green-400/30"};return t?g.jsx(Ie.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},onClick:r,className:`fixed bottom-20 left-4 right-4 z-[9998] ${k.bgColor} rounded-2xl p-4 shadow-2xl cursor-pointer`,children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:g.jsx(Mr,{size:20,className:"text-white"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-white font-bold text-sm",children:C}),g.jsxs("p",{className:"text-white/70 text-xs flex items-center gap-1",children:[g.jsx(dd,{size:12}),x(w)]})]})]}),g.jsx("button",{onClick:P=>{P.stopPropagation(),E()},className:"w-10 h-10 rounded-full bg-red-500 flex items-center justify-center",children:g.jsx(ol,{size:18,className:"text-white"})})]})}):g.jsx(Tr,{children:g.jsxs(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`fixed inset-0 z-[9999] bg-gradient-to-b ${k.gradientFrom} ${k.gradientVia} to-slate-900 flex flex-col items-center justify-between py-12 px-6`,children:[g.jsxs("div",{className:"w-full flex items-center justify-between",children:[g.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-colors",children:g.jsx(R1,{size:20,className:"text-white"})}),g.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 ${k.statusBg} rounded-full`,children:[g.jsx("div",{className:`w-2 h-2 rounded-full ${k.statusDot} animate-pulse`}),g.jsx("span",{className:`${k.statusText} text-sm font-medium`,children:"Grme Devam Ediyor"})]}),g.jsx("div",{className:"w-10"})," "]}),g.jsxs("div",{className:"flex flex-col items-center text-center",children:[g.jsxs("div",{className:"relative mb-6",children:[g.jsx(Ie.div,{animate:{scale:[1,1.2,1],opacity:[.3,.1,.3]},transition:{duration:1.5,repeat:1/0},className:`absolute inset-0 w-32 h-32 rounded-full ${k.avatarPulse}`}),g.jsx("div",{className:`relative w-32 h-32 rounded-full bg-gradient-to-br ${k.avatarFrom} ${k.avatarTo} flex items-center justify-center text-white shadow-2xl border-4 ${k.avatarBorder}`,children:g.jsx(Pl,{size:56,strokeWidth:1.5})})]}),g.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:C}),g.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-xl",children:[g.jsx(dd,{size:20}),g.jsx("span",{className:"font-mono",children:x(w)})]})]}),g.jsxs("div",{className:"flex flex-col items-center gap-8",children:[g.jsxs("div",{className:"flex items-center gap-6",children:[g.jsx("button",{onClick:p,className:`w-14 h-14 rounded-full flex items-center justify-center transition-all ${d?"bg-red-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:d?g.jsx(P1,{size:24}):g.jsx(j1,{size:24})}),g.jsx("button",{onClick:m,className:`w-14 h-14 rounded-full flex items-center justify-center transition-all ${y?"bg-white/10 text-white hover:bg-white/20":"bg-red-500 text-white"}`,children:y?g.jsx(M1,{size:24}):g.jsx(z1,{size:24})})]}),g.jsx("button",{onClick:E,className:"w-20 h-20 rounded-full bg-red-500 flex items-center justify-center shadow-lg shadow-red-500/30 hover:bg-red-600 transition-colors active:scale-95",children:g.jsx(ol,{size:32,className:"text-white"})}),g.jsx("span",{className:"text-white/50 text-sm",children:"Grmeyi Sonlandr"})]})]})})},Fj=async t=>{if(t)try{t.requestFullscreen?await t.requestFullscreen():t.webkitRequestFullscreen?await t.webkitRequestFullscreen():t.msRequestFullscreen&&await t.msRequestFullscreen()}catch{console.log("Fullscreen not supported or denied")}},nv=async()=>{try{document.fullscreenElement?await document.exitFullscreen():document.webkitFullscreenElement?await document.webkitExitFullscreen():document.msFullscreenElement&&await document.msExitFullscreen()}catch{console.log("Exit fullscreen failed")}},Vj=()=>{const{callStatus:t,currentCall:e,endCall:r,error:i,isIncoming:a}=ka(),[o,c]=B.useState(""),u=B.useRef(null),d=(()=>{try{return!!localStorage.getItem("yolmov_partner")}catch{return!1}})(),p=(e==null?void 0:e.receiverType)==="admin",y=d&&p?{gradientFrom:"from-purple-900",gradientVia:"via-purple-800",accent:"text-purple-400",pulseColor:"bg-purple-500",pulseColor2:"bg-purple-400",avatarFrom:"from-purple-600",avatarTo:"to-purple-700"}:{gradientFrom:"from-orange-900",gradientVia:"via-orange-800",accent:"text-orange-400",pulseColor:"bg-orange-500",pulseColor2:"bg-orange-400",avatarFrom:"from-orange-600",avatarTo:"to-orange-700"};if(B.useEffect(()=>(t==="calling"&&!a&&Fj(document.documentElement),()=>{t!=="calling"&&t!=="connected"&&nv()}),[t,a]),B.useEffect(()=>{if(t==="calling"){const w=setInterval(()=>{c(b=>b.length>=3?"":b+".")},500);return()=>clearInterval(w)}},[t]),t!=="calling"||a)return null;const m=async()=>{await nv(),r()};return g.jsx(Tr,{children:g.jsxs(Ie.div,{ref:u,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`fixed inset-0 z-[9999] bg-gradient-to-b ${y.gradientFrom} ${y.gradientVia} to-slate-900 flex flex-col items-center justify-between py-12 px-6`,children:[g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white/10 rounded-full backdrop-blur-sm",children:[g.jsx(Mr,{size:14,className:y.accent}),g.jsx("span",{className:"text-white/80 text-sm font-medium",children:"Yolmov Voice"})]}),i&&g.jsx(Ie.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-4 px-4 py-2 bg-red-500/20 rounded-lg",children:g.jsx("span",{className:"text-red-300 text-sm",children:i})})]}),g.jsxs("div",{className:"flex flex-col items-center text-center",children:[g.jsxs(Ie.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},className:"relative mb-8",children:[g.jsx(Ie.div,{animate:{scale:[1,1.5],opacity:[.5,0]},transition:{duration:1.5,repeat:1/0},className:`absolute inset-0 w-32 h-32 rounded-full ${y.pulseColor}`}),g.jsx(Ie.div,{animate:{scale:[1,1.3],opacity:[.3,0]},transition:{duration:1.5,repeat:1/0,delay:.5},className:`absolute inset-0 w-32 h-32 rounded-full ${y.pulseColor2}`}),g.jsx("div",{className:`relative w-32 h-32 rounded-full bg-gradient-to-br ${y.avatarFrom} ${y.avatarTo} flex items-center justify-center text-white shadow-2xl border-4 border-white/10`,children:g.jsx(Pl,{size:56,strokeWidth:1.5})})]}),g.jsx(Ie.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl font-bold text-white mb-2",children:(e==null?void 0:e.receiverName)||((e==null?void 0:e.receiverType)==="admin"?"Yolmov Destek":"Partner")}),g.jsxs(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex items-center gap-3 mt-4",children:[g.jsx(Zd,{size:20,className:`${y.accent} animate-spin`}),g.jsxs("span",{className:"text-white/70 text-lg",children:[(e==null?void 0:e.receiverType)==="admin"?"Destek hatt aranyor":"Aranyor",o]})]}),g.jsx(Ie.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-white/40 text-sm mt-8 max-w-xs",children:(e==null?void 0:e.receiverType)==="admin"?"Yolmov temsilcisi cevapladnda grme balayacak":"Partner cevapladnda grme balayacak"})]}),g.jsxs(Ie.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex flex-col items-center gap-4",children:[g.jsx("button",{onClick:m,className:"group w-20 h-20 rounded-full bg-red-500 flex items-center justify-center shadow-lg shadow-red-500/30 hover:bg-red-600 transition-all active:scale-95",children:g.jsx(ol,{size:32,className:"text-white"})}),g.jsx("span",{className:"text-white/50 text-sm",children:"Aramay ptal Et"})]})]})})},qj=({onClick:t})=>{const{callStatus:e,isIncoming:r,currentCall:i,endCall:a,callDuration:o}=ka();if(e==="idle"||e==="ended")return null;const c=y=>{const m=Math.floor(y/60),w=y%60;return`${m.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}`},d=r&&e==="ringing"?{bg:"bg-blue-500",icon:N1,text:"Gelen Arama",animate:!0}:e==="calling"?{bg:"bg-yellow-500",icon:Mr,text:"Aranyor...",animate:!0}:e==="connected"?{bg:"bg-green-500",icon:jv,text:c(o),animate:!1}:null;if(!d)return null;const p=d.icon;return g.jsxs(Ie.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},onClick:t,className:`
        fixed top-4 left-1/2 -translate-x-1/2 z-[9990]
        ${d.bg} rounded-full px-4 py-2 shadow-lg cursor-pointer
        flex items-center gap-2
      `,children:[g.jsx(Ie.div,{animate:d.animate?{scale:[1,1.2,1]}:{},transition:{duration:1,repeat:1/0},children:g.jsx(p,{size:18,className:"text-white"})}),g.jsx("span",{className:"text-white font-medium text-sm",children:d.text}),e==="connected"&&g.jsx("button",{onClick:y=>{y.stopPropagation(),a()},className:"ml-1 w-6 h-6 rounded-full bg-red-500 flex items-center justify-center hover:bg-red-600 transition-colors",children:g.jsx(Yi,{size:14,className:"text-white"})})]})};async function F_(){try{const{data:t,error:e}=await $.from("call_queues").select("*").order("priority",{ascending:!1});if(e)throw e;return t||[]}catch(t){return console.error(" [CallCenter] getCallQueues error:",t),[]}}async function V_(t){try{const{data:e,error:r}=await $.from("call_queues").select("*").eq("slug",t).eq("is_active",!0).single();return r?null:e}catch(e){return console.error(" [CallCenter] getQueueBySlug error:",e),null}}async function q_(){try{const{data:t,error:e}=await $.from("call_agents").select(`
        *,
        admin_users!inner (
          name,
          email,
          role,
          status
        )
      `).order("priority",{ascending:!1});if(e)throw e;return(t||[]).map(r=>{var i,a,o;return{...r,admin_name:(i=r.admin_users)==null?void 0:i.name,admin_email:(a=r.admin_users)==null?void 0:a.email,admin_role:(o=r.admin_users)==null?void 0:o.role}})}catch(t){return console.error(" [CallCenter] getCallAgents error:",t),[]}}async function K_(t){try{return(await q_()).filter(r=>{var i;return r.status==="online"&&!r.current_call_id&&((i=r.assigned_queues)==null?void 0:i.includes(t))})}catch(e){return console.error(" [CallCenter] getAvailableAgents error:",e),[]}}async function Kj(t,e){try{const{data:r,error:i}=await $.from("call_agents").select("*").eq("admin_id",t).maybeSingle();if(i&&console.warn(" [CallCenter] Check existing agent warning:",i),r){const{data:c,error:u}=await $.from("call_agents").update({display_name:e||r.display_name,updated_at:new Date().toISOString()}).eq("admin_id",t).select().maybeSingle();if(u)throw console.error(" [CallCenter] Update agent error:",u),u;return c}const{data:a,error:o}=await $.from("call_agents").insert({admin_id:t,display_name:e,status:"offline",assigned_queues:["general-support"]}).select().maybeSingle();if(o)throw console.error(" [CallCenter] Insert agent error:",o),o;return console.log(" [CallCenter] Agent registered:",a==null?void 0:a.id),a}catch(r){return console.error(" [CallCenter] registerAsAgent error:",r),null}}async function Wj(t,e){try{const{error:r}=await $.from("call_agents").update({status:e,status_changed_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("admin_id",t);if(r)throw r;return console.log(` [CallCenter] Agent status updated: ${e}`),!0}catch(r){return console.error(" [CallCenter] updateAgentStatus error:",r),!1}}async function Hj(t,e){try{const{error:r}=await $.from("call_agents").update({current_call_id:e,status:e?"busy":"online",status_changed_at:new Date().toISOString(),last_call_at:e?new Date().toISOString():void 0,updated_at:new Date().toISOString()}).eq("admin_id",t);if(r)throw r;return!0}catch(r){return console.error(" [CallCenter] setAgentCurrentCall error:",r),!1}}async function Gj(t){try{console.log(" [CallCenter] addToQueue called with:",{queueSlug:t.queueSlug,sourceType:t.sourceType,sourcePage:t.sourcePage});let e=await V_(t.queueSlug);if(!e){console.error(" [CallCenter] Queue not found:",t.queueSlug);const b=await F_();if(b.length===0)throw new Error("MIGRATION_NOT_RUN: Call center tables are not initialized. Please run migration 027.");if(e=b.find(x=>x.is_active),!e)throw new Error("NO_ACTIVE_QUEUE: No active queue found.");console.warn(" [CallCenter] Using fallback queue:",e.slug)}let r,i="customer";const a=typeof window<"u"?localStorage.getItem("yolmov_partner"):null,o=typeof window<"u"?localStorage.getItem("yolmov_customer"):null;if(a)try{const b=JSON.parse(a);r=b.id||b.partner_id,i="partner",console.log(" [CallCenter] Caller is partner:",r)}catch{r=`anon_${Date.now()}_${Math.floor(Math.random()*1e3)}`}else if(o)try{r=JSON.parse(o).id,i="customer",console.log(" [CallCenter] Caller is customer:",r)}catch{r=`anon_${Date.now()}_${Math.floor(Math.random()*1e3)}`}else{const{data:{user:b}}=await $.auth.getUser();r=b?b.id:`anon_${Date.now()}_${Math.floor(Math.random()*1e3)}`,console.log(" [CallCenter] Caller from auth/anon:",r)}console.log(" [CallCenter] Creating call record for:",r,"type:",i);const c=await K_(t.queueSlug),u=c.length>0?c[0]:null;if(!u)throw console.error(" [CallCenter] No available agents for queue:",t.queueSlug),new Error("NO_AVAILABLE_AGENT: u anda msait temsilci bulunmuyor. Ltfen daha sonra tekrar deneyin.");const d=u.admin_id,{data:p,error:y}=await $.from("calls").insert({caller_id:r,caller_type:i,receiver_id:d,receiver_type:"admin",status:"ringing",call_source:"queue"}).select().single();if(y)throw console.error(" [CallCenter] Failed to create call record:",y),y;console.log(" [CallCenter] Call record created:",p.id),console.log(" [CallCenter] Adding to queue with data:",{queue_id:e.id,call_id:p.id,source_type:t.sourceType,source_page:t.sourcePage,caller_name:t.callerName,caller_phone:t.callerPhone});const{data:m,error:w}=await $.from("call_queue_assignments").insert({queue_id:e.id,call_id:p.id,source_type:t.sourceType,source_page:t.sourcePage||null,caller_name:t.callerName||null,caller_phone:t.callerPhone||null,caller_email:t.callerEmail||null,caller_message:t.callerMessage||null,target_partner_id:t.targetPartnerId||null,status:"waiting",queued_at:new Date().toISOString()}).select().single();if(w)throw console.error(" [CallCenter] Supabase insert error:",{message:w.message,details:w.details,hint:w.hint,code:w.code}),w;if(console.log(` [CallCenter] Call added to queue: ${e.name}`),e.auto_distribute&&u){console.log(` [CallCenter] Auto-assigning to agent: ${u.display_name||u.admin_name}`);const{error:b}=await $.from("call_queue_assignments").update({assigned_agent_id:u.id,assigned_at:new Date().toISOString(),status:"ringing",updated_at:new Date().toISOString()}).eq("id",m.id);if(!b)return{...m,assigned_agent_id:u.id,status:"ringing"}}else u||console.log(" [CallCenter] No available agents for queue:",t.queueSlug);return m}catch(e){return console.error(" [CallCenter] addToQueue error:",e),null}}async function Yj(t,e,r){try{const i={status:e,updated_at:new Date().toISOString()};switch(e){case"answered":i.answered_at=new Date().toISOString();break;case"completed":case"abandoned":case"missed":i.completed_at=new Date().toISOString();break}r!=null&&r.agentNotes&&(i.agent_notes=r.agentNotes),r!=null&&r.callId&&(i.call_id=r.callId);const{error:a}=await $.from("call_queue_assignments").update(i).eq("id",t);if(a)throw a;return!0}catch(i){return console.error(" [CallCenter] updateQueueAssignmentStatus error:",i),!1}}async function Jj(t){try{let e=$.from("call_queue_assignments").select(`
        *,
        call_queues!inner (name, slug, priority),
        call_agents (display_name, admin_id),
        partners (company_name)
      `).eq("status","waiting").order("created_at",{ascending:!0});t&&(e=e.eq("call_queues.slug",t));const{data:r,error:i}=await e;if(i)throw i;return(r||[]).map(a=>{var o,c,u,d;return{...a,queue_name:(o=a.call_queues)==null?void 0:o.name,queue_slug:(c=a.call_queues)==null?void 0:c.slug,agent_name:(u=a.call_agents)==null?void 0:u.display_name,partner_name:(d=a.partners)==null?void 0:d.company_name}})}catch(e){return console.error(" [CallCenter] getWaitingCalls error:",e),[]}}async function Qj(){try{const{data:t,error:e}=await $.from("call_queue_assignments").select(`
        *,
        call_queues (name, slug, priority),
        call_agents (display_name, admin_id),
        partners (company_name)
      `).in("status",["waiting","ringing","answered"]).order("queued_at",{ascending:!0});if(e)throw e;return(t||[]).map(r=>{var i,a,o,c;return{...r,queue_name:(i=r.call_queues)==null?void 0:i.name,queue_slug:(a=r.call_queues)==null?void 0:a.slug,agent_name:(o=r.call_agents)==null?void 0:o.display_name,partner_name:(c=r.partners)==null?void 0:c.company_name}})}catch(t){return console.error(" [CallCenter] getActiveCalls error:",t),[]}}async function Xj(t){try{const e=(t==null?void 0:t.page)||1,r=(t==null?void 0:t.limit)||20,i=(e-1)*r;let a=$.from("call_queue_assignments").select(`
        *,
        call_queues (name, slug),
        call_agents (display_name, admin_id),
        partners (company_name),
        calls (
          id,
          duration_seconds,
          call_recordings (id, storage_path, duration_seconds)
        )
      `,{count:"exact"}).order("created_at",{ascending:!1}).range(i,i+r-1);t!=null&&t.queueSlug&&(a=a.eq("call_queues.slug",t.queueSlug)),t!=null&&t.agentId&&(a=a.eq("assigned_agent_id",t.agentId)),t!=null&&t.status&&(a=a.eq("status",t.status)),t!=null&&t.startDate&&(a=a.gte("created_at",t.startDate)),t!=null&&t.endDate&&(a=a.lte("created_at",t.endDate));const{data:o,error:c,count:u}=await a;if(c)throw c;return{data:(o||[]).map(p=>{var y,m,w,b;return{...p,queue_name:(y=p.call_queues)==null?void 0:y.name,queue_slug:(m=p.call_queues)==null?void 0:m.slug,agent_name:(w=p.call_agents)==null?void 0:w.display_name,partner_name:(b=p.partners)==null?void 0:b.company_name}}),total:u||0}}catch(e){return console.error(" [CallCenter] getCallHistory error:",e),{data:[],total:0}}}function Zj(t){const e=$.channel("call_queue_changes").on("postgres_changes",{event:"*",schema:"public",table:"call_queue_assignments"},r=>{console.log(" [CallCenter] Queue change:",r.eventType),t(r.new)}).subscribe();return()=>{$.removeChannel(e)}}function eR(t){const e=$.channel("call_agent_changes").on("postgres_changes",{event:"*",schema:"public",table:"call_agents"},r=>{console.log(" [CallCenter] Agent change:",r.eventType),t(r.new)}).subscribe();return()=>{$.removeChannel(e)}}async function tR(){try{const{data:t}=await $.from("call_agents").select("status"),e=(t==null?void 0:t.length)||0,r=(t==null?void 0:t.filter(y=>y.status==="online"||y.status==="busy").length)||0,{count:i}=await $.from("call_queue_assignments").select("*",{count:"exact",head:!0}).eq("status","waiting"),{count:a}=await $.from("call_queue_assignments").select("*",{count:"exact",head:!0}).in("status",["ringing","answered"]),o=new Date;o.setHours(0,0,0,0);const{count:c}=await $.from("call_queue_assignments").select("*",{count:"exact",head:!0}).eq("status","completed").gte("completed_at",o.toISOString()),{data:u}=await $.from("call_queue_assignments").select("wait_duration, talk_duration").eq("status","completed").not("wait_duration","is",null).order("completed_at",{ascending:!1}).limit(100);let d=0,p=0;if(u&&u.length>0){const y=u.reduce((w,b)=>w+(b.wait_duration||0),0),m=u.reduce((w,b)=>w+(b.talk_duration||0),0);d=Math.round(y/u.length),p=Math.round(m/u.length)}return{totalAgents:e,onlineAgents:r,waitingCalls:i||0,activeCalls:a||0,todayCompleted:c||0,avgWaitTime:d,avgTalkTime:p}}catch(t){return console.error(" [CallCenter] getCallCenterStats error:",t),{totalAgents:0,onlineAgents:0,waitingCalls:0,activeCalls:0,todayCompleted:0,avgWaitTime:0,avgTalkTime:0}}}async function rR(t){try{const{data:e,error:r}=await $.from("calls").select("id, caller_id, receiver_id, status").eq("id",t).single();return r?(console.error(" [CallCenter] getCallById error:",r),null):e}catch(e){return console.error(" [CallCenter] getCallById error:",e),null}}async function nR(t){try{const{error:e}=await $.from("calls").update({status:"ended",ended_at:new Date().toISOString()}).eq("id",t);return e?(console.error(" [CallCenter] endCall error:",e),!1):(console.log(" [CallCenter] Call ended successfully:",t),!0)}catch(e){return console.error(" [CallCenter] endCall error:",e),!1}}const iv={getCallQueues:F_,getQueueBySlug:V_,getCallAgents:q_,getAvailableAgents:K_,registerAsAgent:Kj,updateAgentStatus:Wj,setAgentCurrentCall:Hj,addToQueue:Gj,updateQueueAssignmentStatus:Yj,getWaitingCalls:Jj,getActiveCalls:Qj,getCallHistory:Xj,subscribeToQueueChanges:Zj,subscribeToAgentChanges:eR,getCallCenterStats:tR,getCallById:rR,endCall:nR},iR=({variant:t="primary",size:e="md",queueSlug:r="general-support",sourceType:i="web-contact",sourcePage:a,className:o="",label:c="Bizi Arayn"})=>{const{startCall:u,callStatus:d}=ka(),[p,y]=B.useState(!1),[m,w]=B.useState(!1),[b,x]=B.useState({name:"",phone:"",message:""}),[E,C]=B.useState(null),j=async()=>{w(!0),C(null);try{const P=await iv.addToQueue({queueSlug:r,sourceType:i,sourcePage:a||window.location.pathname,callerName:b.name||void 0,callerPhone:b.phone||void 0,callerMessage:b.message||void 0});if(!P)throw new Error("ar kuyrua eklenemedi");if(console.log(" [CallSupport] Added to queue:",P.id),P.status==="ringing"&&P.assigned_agent_id){const R=await iv.getCallById(P.call_id);if(R!=null&&R.receiver_id)console.log(" [CallSupport] Starting WebRTC call to agent:",R.receiver_id),console.log(" [CallSupport] Using existing call_id:",P.call_id),await u(R.receiver_id,"admin",P.call_id,"Yolmov Destek"),y(!1);else throw new Error("Agent bilgisi alnamad")}else C("u an tm temsilcilerimiz megul. Ltfen ksa bir sre sonra tekrar deneyin veya mesaj brakn.")}catch(P){console.error("Call start error:",P),C("Balant kurulamad. Ltfen tekrar deneyin.")}finally{w(!1)}},I={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2.5",lg:"px-6 py-3 text-lg"},k={primary:"bg-brand-orange text-white hover:bg-brand-lightOrange shadow-lg shadow-orange-200",secondary:"bg-white text-brand-orange border-2 border-brand-orange hover:bg-orange-50",floating:"bg-brand-orange text-white hover:bg-brand-lightOrange shadow-xl fixed bottom-6 right-6 z-50 rounded-full !p-4"};return t==="floating"?g.jsxs(g.Fragment,{children:[g.jsx(Ie.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>y(!0),className:`${k.floating} ${o}`,title:"Bizi Arayn",children:g.jsx(Mr,{size:24})}),g.jsx(sv,{show:p,onClose:()=>y(!1),onCall:j,loading:m,error:E,formData:b,setFormData:x,callStatus:d})]}):g.jsxs(g.Fragment,{children:[g.jsxs("button",{onClick:()=>y(!0),disabled:d!=="idle",className:`
          flex items-center justify-center gap-2 rounded-xl font-semibold transition-all
          ${I[e]}
          ${k[t]}
          ${d!=="idle"?"opacity-50 cursor-not-allowed":""}
          ${o}
        `,children:[g.jsx(Mr,{size:e==="sm"?16:e==="lg"?22:18}),c]}),g.jsx(sv,{show:p,onClose:()=>y(!1),onCall:j,loading:m,error:E,formData:b,setFormData:x,callStatus:d})]})},sv=({show:t,onClose:e,onCall:r,loading:i,error:a,formData:o,setFormData:c,callStatus:u})=>t?g.jsx(Tr,{children:g.jsxs(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",onClick:e,children:[g.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),g.jsxs(Ie.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:d=>d.stopPropagation(),className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[g.jsx("div",{className:"bg-gradient-to-r from-brand-orange to-orange-500 px-6 py-4 text-white",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:g.jsx(E1,{size:22})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-lg",children:"Yolmov Destek"}),g.jsx("p",{className:"text-sm text-white/80",children:"7/24 Canl Destek"})]})]}),g.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:g.jsx(Yi,{size:20})})]})}),g.jsx("div",{className:"p-6 space-y-4",children:u!=="idle"&&u!=="ended"?g.jsxs("div",{className:"text-center py-8",children:[g.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(Mr,{className:"text-green-600 animate-pulse",size:32})}),g.jsx("h4",{className:"text-lg font-bold text-gray-900",children:"Arama Devam Ediyor"}),g.jsx("p",{className:"text-gray-500 mt-2",children:"Temsilcimize balanyorsunuz..."})]}):g.jsxs(g.Fragment,{children:[g.jsx("p",{className:"text-gray-600 text-sm",children:"Sorularnz iin bizi hemen arayabilirsiniz. stee bal olarak bilgilerinizi brakabilirsiniz."}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adnz (stee bal)"}),g.jsxs("div",{className:"relative",children:[g.jsx(Pl,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),g.jsx("input",{type:"text",value:o.name,onChange:d=>c({...o,name:d.target.value}),placeholder:"Ahmet Ylmaz",className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:border-brand-orange focus:ring-2 focus:ring-orange-100 outline-none"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefon (stee bal)"}),g.jsxs("div",{className:"relative",children:[g.jsx(Mr,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),g.jsx("input",{type:"tel",value:o.phone,onChange:d=>c({...o,phone:d.target.value}),placeholder:"0532 XXX XX XX",className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:border-brand-orange focus:ring-2 focus:ring-orange-100 outline-none"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Konu (stee bal)"}),g.jsxs("div",{className:"relative",children:[g.jsx(A1,{size:18,className:"absolute left-3 top-3 text-gray-400"}),g.jsx("textarea",{value:o.message,onChange:d=>c({...o,message:d.target.value}),placeholder:"Nasl yardmc olabiliriz?",rows:2,className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:border-brand-orange focus:ring-2 focus:ring-orange-100 outline-none resize-none"})]})]})]}),a&&g.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-sm text-red-700",children:a}),g.jsx("button",{onClick:r,disabled:i,className:"w-full py-3 bg-green-500 hover:bg-green-600 text-white rounded-xl font-bold flex items-center justify-center gap-2 transition-colors disabled:opacity-50",children:i?g.jsxs(g.Fragment,{children:[g.jsx(Zd,{size:20,className:"animate-spin"}),"Balanyor..."]}):g.jsxs(g.Fragment,{children:[g.jsx(Mr,{size:20}),"Hemen Ara"]})}),g.jsx("p",{className:"text-xs text-center text-gray-400",children:"Bu grme kalite standartlar gerei kayt altna alnmaktadr."})]})})]})]})}):null,sR=()=>{const t=ci(),e=r=>{t(r),window.scrollTo({top:0,behavior:"smooth"})};return g.jsx("footer",{className:"bg-gradient-to-br from-gray-900 to-gray-800 text-white pt-16 pb-8",children:g.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 xl:px-32",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 mb-12",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"mb-6 cursor-pointer",onClick:()=>e("/"),children:[g.jsx("span",{className:"yolmov-logo text-3xl font-bold text-white block mb-4",children:"yolmov"}),g.jsx("span",{className:"hidden"})]}),g.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Yolda kaldnz her an yannzdayz. Modern, hzl ve gvenilir yol yardm platformu."})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-lg font-bold mb-6 text-white/90",children:"Kurumsal"}),g.jsxs("ul",{className:"space-y-3 text-sm text-gray-400",children:[g.jsx("li",{children:g.jsx("button",{onClick:()=>e("/hakkimizda"),className:"hover:text-brand-orange transition-colors text-left",children:"Hakkmzda"})}),g.jsx("li",{children:g.jsx("button",{onClick:()=>e("/hizmetler"),className:"hover:text-brand-orange transition-colors text-left",children:"Hizmetler"})}),g.jsx("li",{children:g.jsx("button",{onClick:()=>e("/kariyer"),className:"hover:text-brand-orange transition-colors text-left",children:"Kariyer"})}),g.jsx("li",{children:g.jsx("button",{onClick:()=>e("/blog"),className:"hover:text-brand-orange transition-colors text-left",children:"Blog"})}),g.jsx("li",{children:g.jsx("button",{onClick:()=>e("/iletisim"),className:"hover:text-brand-orange transition-colors text-left",children:"letiim"})})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-lg font-bold mb-6 text-white/90",children:"Hizmetler"}),g.jsx("ul",{className:"space-y-3 text-sm text-gray-400",children:["ekici Hizmeti","Ak Takviyesi","Lastik Deiimi","Yakt Destei","Oto Kurtarma"].map(r=>g.jsx("li",{children:g.jsx("button",{onClick:()=>e("/hizmetler"),className:"hover:text-brand-orange transition-colors text-left",children:r})},r))})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-lg font-bold mb-6 text-white/90",children:"Bize Ulan"}),g.jsxs("ul",{className:"space-y-4 text-sm text-gray-400",children:[g.jsxs("li",{className:"flex items-start gap-3",children:[g.jsx(eh,{className:"w-5 h-5 text-brand-orange shrink-0"}),g.jsx("span",{children:"Platform zerinden 7/24 hizmet talebinde bulunabilirsiniz"})]}),g.jsx("li",{children:g.jsx(iR,{variant:"secondary",size:"md",queueSlug:"general-support",sourceType:"web-contact",sourcePage:"/footer",label:"Destek Hatt",className:"w-full mt-2"})})]})]})]}),g.jsxs("div",{className:"border-t border-gray-700 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[g.jsxs("p",{className:"text-gray-500 text-xs text-center md:text-left",children:[" ",new Date().getFullYear()," Yolmov Teknoloji A.. Tm haklar sakldr."]}),g.jsxs("div",{className:"flex space-x-6 text-xs text-gray-500",children:[g.jsx("button",{onClick:()=>e("/gizlilik-politikasi"),className:"hover:text-white transition-colors",children:"Gizlilik Politikas"}),g.jsx("button",{onClick:()=>e("/kullanim-kosullari"),className:"hover:text-white transition-colors",children:"Kullanm Koullar"})]})]})]})})},aR=({onAccept:t,onReject:e})=>{const[r,i]=B.useState(!1);B.useEffect(()=>{localStorage.getItem("yolmov_cookie_consent")||setTimeout(()=>i(!0),1500)},[]);const a=()=>{localStorage.setItem("yolmov_cookie_consent","accepted"),i(!1),t&&t()},o=()=>{localStorage.setItem("yolmov_cookie_consent","rejected"),i(!1),e&&e()},c=()=>{i(!1)};return g.jsx(Tr,{children:r&&g.jsx(Ie.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 z-50 p-4 md:p-6",children:g.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-3xl shadow-2xl border-2 border-gray-200 overflow-hidden",children:[g.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 p-6 md:p-8",children:[g.jsx("div",{className:"shrink-0",children:g.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-2xl flex items-center justify-center",children:g.jsx(k1,{size:32,className:"text-brand-orange"})})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-2",children:" erez Bildirimi"}),g.jsxs("p",{className:"text-sm md:text-base text-gray-600 leading-relaxed",children:["Yolmov olarak, size daha iyi bir deneyim sunmak, platformumuzu gelitirmek ve yasal ykmllklerimizi yerine getirmek amacyla",g.jsx("strong",{className:"text-gray-800",children:" erezler ve benzer teknolojiler "})," kullanyoruz. Platformumuzu kullanmaya devam ederek,",g.jsx("button",{onClick:()=>{const u=new CustomEvent("yolmov:navigate",{detail:{page:"privacy-policy"}});window.dispatchEvent(u)},className:"text-brand-orange hover:underline font-bold ml-1",children:"Gizlilik Politikamz"})," ","ve erez kullanmn kabul etmi olursunuz."]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto md:shrink-0",children:[g.jsx("button",{onClick:o,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transition-colors text-sm whitespace-nowrap",children:"Reddet"}),g.jsx("button",{onClick:a,className:"px-6 py-3 bg-brand-orange text-white rounded-xl font-bold hover:bg-orange-600 transition-colors text-sm shadow-lg whitespace-nowrap",children:"Kabul Et"})]}),g.jsx("button",{onClick:c,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Kapat",children:g.jsx(Yi,{size:20})})]}),g.jsx("div",{className:"bg-gray-50 border-t border-gray-200 px-6 md:px-8 py-3",children:g.jsxs("p",{className:"text-xs text-gray-500 text-center",children:[g.jsx("strong",{className:"text-gray-700",children:"KVKK Uyars:"})," Kiisel verileriniz,",g.jsx("button",{onClick:()=>{const u=new CustomEvent("yolmov:navigate",{detail:{page:"privacy-policy"}});window.dispatchEvent(u)},className:"text-brand-orange hover:underline mx-1",children:"6698 sayl Kiisel Verilerin Korunmas Kanunu"}),"kapsamnda ilenmektedir. Detayl bilgi iin Gizlilik Politikamz inceleyebilirsiniz."]})})]})})})},Yo=({children:t})=>{const e=Ar(),[r,i]=B.useState(!0),[a,o]=B.useState(!1);return B.useEffect(()=>{const c=localStorage.getItem("yolmov_customer");console.log(" ProtectedRoute Auth Check:",{hasCustomer:!!c,path:e.pathname}),o(!!c),i(!1)},[e.pathname]),r?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"w-16 h-16 border-4 border-brand-orange border-t-transparent rounded-full animate-spin mx-auto mb-4"}),g.jsx("p",{className:"text-gray-600",children:"Ykleniyor..."})]})}):a?g.jsx(g.Fragment,{children:t}):g.jsx(xv,{to:"/giris-gerekli",state:{message:"Bu sayfaya erimek iin ye girii yapmanz gerekiyor.",returnUrl:e.pathname+e.search},replace:!0})},Qe=({children:t})=>{const e=Ar(),[r,i]=B.useState(!0),[a,o]=B.useState(!1);return B.useEffect(()=>{(async()=>{try{if(!localStorage.getItem("yolmov_admin")){console.log(" AdminProtectedRoute: No local admin data found"),o(!1),i(!1);return}if(!await Er.auth.getSession()){console.log(" AdminProtectedRoute: No active Supabase session"),localStorage.removeItem("yolmov_admin"),o(!1),i(!1);return}o(!0)}catch(u){console.error(" AdminProtectedRoute Error:",u),o(!1)}finally{i(!1)}})()},[e.pathname]),r?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),g.jsx("p",{className:"text-orange-500 font-medium",children:"Admin yetkisi kontrol ediliyor..."})]})}):a?g.jsx(g.Fragment,{children:t}):g.jsx(xv,{to:"/admin/giris",state:{returnUrl:e.pathname},replace:!0})};class av extends B.Component{constructor(){super(...arguments);Yt(this,"state",{hasError:!1,error:null,errorInfo:null,countdown:5,autoReload:!0});Yt(this,"countdownInterval",null);Yt(this,"startCountdown",()=>{this.countdownInterval&&clearInterval(this.countdownInterval),this.countdownInterval=setInterval(()=>{this.setState(r=>{const i=r.countdown-1;return i<=0&&r.autoReload?(this.countdownInterval&&clearInterval(this.countdownInterval),window.location.reload(),r):{countdown:i}})},1e3)});Yt(this,"cancelAutoReload",()=>{this.countdownInterval&&clearInterval(this.countdownInterval),this.setState({autoReload:!1})});Yt(this,"handleReload",()=>{window.location.reload()});Yt(this,"handleGoHome",()=>{window.location.href="/"});Yt(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,i){console.error(" [ErrorBoundary] Caught error:",r),console.error(" [ErrorBoundary] Error info:",i),this.setState({errorInfo:i,countdown:5,autoReload:!0}),this.startCountdown()}componentWillUnmount(){this.countdownInterval&&clearInterval(this.countdownInterval)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full p-8 text-center",children:[g.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:g.jsx(D1,{className:"w-8 h-8 text-red-500"})}),g.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Bir eyler Yanl Gitti"}),this.state.autoReload?g.jsxs("div",{className:"mb-6",children:[g.jsx("p",{className:"text-slate-600 mb-3",children:"Sayfa yklenirken beklenmeyen bir hata olutu."}),g.jsxs("div",{className:"flex items-center justify-center gap-2 text-brand-orange",children:[g.jsx(ig,{className:"w-5 h-5 animate-spin"}),g.jsxs("span",{className:"font-bold text-lg",children:[this.state.countdown," saniye iinde otomatik yenileniyor..."]})]}),g.jsx("button",{onClick:this.cancelAutoReload,className:"text-sm text-slate-500 hover:text-slate-700 underline mt-2",children:"Otomatik yenilemeyi iptal et"})]}):g.jsx("p",{className:"text-slate-600 mb-6",children:"Sayfa yklenirken beklenmeyen bir hata olutu. Ltfen sayfay yenileyin veya ana sayfaya dnn."}),!1,!this.state.autoReload&&g.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[g.jsxs("button",{onClick:this.handleReload,className:"flex items-center justify-center gap-2 px-6 py-3 bg-brand-orange text-white rounded-xl font-medium hover:bg-orange-600 transition-colors",children:[g.jsx(ig,{size:18}),"imdi Yenile"]}),g.jsxs("button",{onClick:this.handleGoHome,className:"flex items-center justify-center gap-2 px-6 py-3 bg-slate-600 text-white rounded-xl font-medium hover:bg-slate-700 transition-colors",children:[g.jsx(C1,{size:18}),"Ana Sayfa"]})]}),g.jsx("p",{className:"text-xs text-slate-400 mt-6",children:"Sorun devam ederse ltfen destek ekibimizle iletiime gein."})]})}):this.props.children}}const ov=typeof window<"u"&&window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1"),Vt={log:(...t)=>!ov&&console.log(...t),warn:(...t)=>!ov&&console.warn(...t),error:(...t)=>console.error(...t)};let Cr=null,il=0,sl=!0,Jh=0;function oR(){if(typeof window>"u")return;const t=()=>{const r=window.scrollY||document.documentElement.scrollTop,i=document.documentElement.scrollHeight-window.innerHeight,a=i>0?Math.round(r/i*100):0;a>il&&(il=Math.min(a,100),Cr&&(Cr.maxScrollDepth=il))};let e=null;window.addEventListener("scroll",()=>{e||(e=window.setTimeout(()=>{t(),e=null},100))},{passive:!0})}function lR(){if(typeof window>"u")return;const t=()=>{if(Cr){const e=Math.round((Date.now()-Cr.enterTime)/1e3),r={page_url:Cr.url,duration_seconds:e,scroll_depth:Cr.maxScrollDepth,is_exit_page:!0,is_bounce:Jh===1&&e<30,session_id:Qh(),user_id:W_().userId||null,activity_type:"page_exit"};navigator.sendBeacon&&new Blob([JSON.stringify(r)],{type:"application/json"}),Vt.log(" Page exit:",r)}};window.addEventListener("beforeunload",t),window.addEventListener("pagehide",t),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&t()})}function cR(){const t=document.referrer,e=new URLSearchParams(window.location.search),r=e.get("utm_source"),i=e.get("utm_medium"),a=e.get("utm_campaign"),o=e.get("utm_term"),c=e.get("utm_content");if(r)return{source:r,medium:i||"unknown",campaign:a||void 0,term:o||void 0,content:c||void 0};if(!t)return{source:"direct",medium:"none"};const d=new URL(t).hostname.toLowerCase(),p={google:"google",bing:"bing",yahoo:"yahoo",yandex:"yandex",duckduckgo:"duckduckgo",baidu:"baidu"};for(const[m,w]of Object.entries(p))if(d.includes(m))return{source:w,medium:"organic"};const y=["facebook","instagram","twitter","linkedin","pinterest","tiktok","youtube","reddit","whatsapp","t.co"];for(const m of y)if(d.includes(m))return{source:m,medium:"social"};return{source:d,medium:"referral"}}function uR(t){let e="Unknown",r="Unknown",i="desktop";if(t.includes("Chrome")&&!t.includes("Edg")&&!t.includes("OPR")){const a=t.match(/Chrome\/(\d+)/);e=a?`Chrome ${a[1]}`:"Chrome"}else if(t.includes("Firefox")){const a=t.match(/Firefox\/(\d+)/);e=a?`Firefox ${a[1]}`:"Firefox"}else if(t.includes("Safari")&&!t.includes("Chrome")){const a=t.match(/Version\/(\d+)/);e=a?`Safari ${a[1]}`:"Safari"}else if(t.includes("Edg")){const a=t.match(/Edg\/(\d+)/);e=a?`Edge ${a[1]}`:"Edge"}else(t.includes("OPR")||t.includes("Opera"))&&(e="Opera");if(t.includes("Windows NT 10"))r="Windows 10/11";else if(t.includes("Windows"))r="Windows";else if(t.includes("Mac OS X")){const a=t.match(/Mac OS X (\d+[._]\d+)/);r=a?`macOS ${a[1].replace("_",".")}`:"macOS"}else if(t.includes("Linux")&&!t.includes("Android"))r="Linux";else if(t.includes("Android")){const a=t.match(/Android (\d+)/);r=a?`Android ${a[1]}`:"Android",i="mobile"}else if(t.includes("iPhone")){const a=t.match(/iPhone OS (\d+)/);r=a?`iOS ${a[1]}`:"iOS",i="mobile"}else if(t.includes("iPad")){const a=t.match(/CPU OS (\d+)/);r=a?`iPadOS ${a[1]}`:"iPadOS",i="tablet"}return t.includes("Mobile")&&i==="desktop"?i="mobile":t.includes("Tablet")&&(i="tablet"),{browser:e,os:r,deviceType:i}}function dR(){return typeof window>"u"?{screenResolution:"unknown",viewportSize:"unknown"}:{screenResolution:`${screen.width}x${screen.height}`,viewportSize:`${window.innerWidth}x${window.innerHeight}`}}function hR(){if(typeof navigator>"u")return"unknown";const t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return t&&(t.effectiveType||t.type)||"unknown"}function Qh(){let t=sessionStorage.getItem("yolmov_session_id");return t||(t=qh(),sessionStorage.setItem("yolmov_session_id",t),sl=!0,Jh=0),t}function fR(){let t=localStorage.getItem("yolmov_anon_id");return t||(t=`anon_${qh()}`,localStorage.setItem("yolmov_anon_id",t)),t}let Jo=null;async function pR(){if(Jo)return Jo;try{return Jo=(await(await fetch("https://api.ipify.org?format=json",{method:"GET",cache:"force-cache"})).json()).ip,Jo}catch(t){return Vt.warn("IP adresi alnamad:",t),null}}function W_(){try{const t=localStorage.getItem("yolmov_admin");if(t){const a=JSON.parse(t);return{userId:a.id,userType:"admin",userEmail:a.email,userName:a.name}}const e=localStorage.getItem("yolmov_partner");if(e){const a=JSON.parse(e);return{userId:a.id,userType:"partner",userEmail:a.email,userName:a.name||a.company_name}}const r=localStorage.getItem("yolmov_customer");if(r){const a=JSON.parse(r);return{userId:a.id,userType:"customer",userEmail:a.email,userName:`${a.firstName||""} ${a.lastName||""}`.trim()}}const i=localStorage.getItem("yolmov-auth-session");if(i){const a=JSON.parse(i);if(a.user)return{userId:a.user.id,userType:"customer",userEmail:a.user.email}}}catch(t){Vt.warn("Error getting current user:",t)}return{userType:"anonymous",userId:fR()}}let ni=null;async function mR(){if(ni!==null)return ni;try{const{error:t}=await $.from("activity_logs").select("traffic_source").limit(1);return ni=!t,Vt.log(" V2 columns available:",ni),ni}catch{return ni=!1,!1}}async function H_(t,e){try{const r=navigator.userAgent,{browser:i,os:a,deviceType:o}=uR(r),{screenResolution:c,viewportSize:u}=dR(),d=cR(),p=W_(),y=Qh(),m=await pR(),w={user_id:p.userId||null,user_type:p.userType,user_email:p.userEmail||null,user_name:p.userName||null,activity_type:t,page_url:window.location.pathname+window.location.search,page_title:document.title,referrer:document.referrer||null,ip_address:m,user_agent:r,device_type:o,browser:i,os:a,metadata:e||{},session_id:y},b=await mR();b&&(w.traffic_source=d.source,w.traffic_medium=d.medium,w.utm_campaign=d.campaign||null,w.utm_source=new URLSearchParams(window.location.search).get("utm_source")||null,w.utm_medium=new URLSearchParams(window.location.search).get("utm_medium")||null,w.utm_term=new URLSearchParams(window.location.search).get("utm_term")||null,w.utm_content=new URLSearchParams(window.location.search).get("utm_content")||null,w.is_landing_page=sl,w.screen_resolution=c,w.viewport_size=u,w.language=navigator.language||"unknown",w.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone||"unknown",w.connection_type=hR());const{error:x}=await $.from("activity_logs").insert(w);if(x){if(Vt.warn(" Activity log insert failed:",x.message),x.message.includes("column")&&b)return ni=!1,Vt.warn(" V2 columns not found, retrying with V1..."),H_(t,e)}else Vt.log(` Activity tracked: ${t}`,{page:w.page_url,source:b?d.source:"v1-mode",isLanding:sl});t==="page_view"&&(sl=!1,Jh++)}catch(r){Vt.warn("Activity tracking failed:",r)}}function gR(t){if(Cr){const e=Math.round((Date.now()-Cr.enterTime)/1e3);yR(Cr.url,e,Cr.maxScrollDepth)}Cr={url:window.location.pathname+window.location.search,title:t||document.title,enterTime:Date.now(),maxScrollDepth:0},il=0,H_("page_view",{title:t||document.title})}async function yR(t,e,r){try{const{error:i}=await $.from("activity_logs").update({duration_seconds:e,scroll_depth:r}).eq("page_url",t).eq("session_id",Qh()).eq("activity_type","page_view").order("created_at",{ascending:!1}).limit(1);i?Vt.warn(" Page duration update failed:",i.message):Vt.log(` Page duration updated: ${t} - ${e}s, ${r}% scroll`)}catch(i){Vt.warn("Page duration update failed:",i)}}async function RO(t){try{Vt.log(" [ActivityTracker] Fetching activity logs with options:",t);let e=$.from("activity_logs").select("*").order("created_at",{ascending:!1});t!=null&&t.limit&&(e=e.limit(t.limit)),t!=null&&t.userType&&(e=e.eq("user_type",t.userType)),t!=null&&t.activityType&&(e=e.eq("activity_type",t.activityType)),t!=null&&t.startDate&&(e=e.gte("created_at",t.startDate)),t!=null&&t.endDate&&(e=e.lte("created_at",t.endDate)),t!=null&&t.trafficSource&&(e=e.eq("traffic_source",t.trafficSource));const{data:r,error:i}=await e;if(Vt.log(" [ActivityTracker] Query result:",{dataCount:(r==null?void 0:r.length)||0,error:(i==null?void 0:i.message)||null}),i)throw i;return(r||[]).map(a=>({id:a.id,userId:a.user_id,userType:a.user_type,userEmail:a.user_email,userName:a.user_name,activityType:a.activity_type,pageUrl:a.page_url,pageTitle:a.page_title,referrer:a.referrer,ipAddress:a.ip_address,userAgent:a.user_agent,deviceType:a.device_type,browser:a.browser,os:a.os,metadata:a.metadata,sessionId:a.session_id,createdAt:a.created_at,durationSeconds:a.duration_seconds,scrollDepth:a.scroll_depth,trafficSource:a.traffic_source,trafficMedium:a.traffic_medium,utmCampaign:a.utm_campaign,utmSource:a.utm_source,utmMedium:a.utm_medium,utmTerm:a.utm_term,utmContent:a.utm_content,isLandingPage:a.is_landing_page,isExitPage:a.is_exit_page,isBounce:a.is_bounce,screenResolution:a.screen_resolution,viewportSize:a.viewport_size,language:a.language,timezone:a.timezone,connectionType:a.connection_type}))}catch(e){return Vt.error(" Activity logs fetch failed:",e),[]}}async function OO(){try{const t=new Date().toISOString().split("T")[0],{count:e}=await $.from("activity_logs").select("*",{count:"exact",head:!0}).eq("activity_type","page_view"),{data:r}=await $.from("activity_logs").select("session_id").eq("activity_type","page_view"),i=new Set(r==null?void 0:r.map(O=>O.session_id)).size,{count:a}=await $.from("activity_logs").select("*",{count:"exact",head:!0}).eq("activity_type","page_view").gte("created_at",t),{data:o}=await $.from("activity_logs").select("session_id").eq("activity_type","page_view").gte("created_at",t),c=new Set(o==null?void 0:o.map(O=>O.session_id)).size,{data:u}=await $.from("activity_logs").select("duration_seconds, scroll_depth, is_bounce").eq("activity_type","page_view").not("duration_seconds","is",null),d=u!=null&&u.length?u.reduce((O,L)=>O+(L.duration_seconds||0),0)/u.length:0,p=u!=null&&u.length?u.reduce((O,L)=>O+(L.scroll_depth||0),0)/u.length:0,y=(u==null?void 0:u.filter(O=>O.is_bounce).length)||0,m=u!=null&&u.length?y/u.length*100:0,{data:w}=await $.from("activity_logs").select("page_url, duration_seconds").eq("activity_type","page_view").limit(1e3),b=new Map;w==null||w.forEach(O=>{const L=b.get(O.page_url)||{count:0,totalDuration:0};b.set(O.page_url,{count:L.count+1,totalDuration:L.totalDuration+(O.duration_seconds||0)})});const x=Array.from(b.entries()).map(([O,L])=>({pageUrl:O,count:L.count,avgDuration:Math.round(L.totalDuration/L.count)})).sort((O,L)=>L.count-O.count).slice(0,10),{data:E}=await $.from("activity_logs").select("traffic_source").eq("activity_type","page_view"),C=new Map;E==null||E.forEach(O=>{const L=O.traffic_source||"direct";C.set(L,(C.get(L)||0)+1)});const j=(E==null?void 0:E.length)||1,I=Array.from(C.entries()).map(([O,L])=>({source:O,count:L,percentage:Math.round(L/j*100)})).sort((O,L)=>L.count-O.count),{data:k}=await $.from("activity_logs").select("user_type").eq("activity_type","page_view"),P=Array.from((k||[]).reduce((O,L)=>(O.set(L.user_type,(O.get(L.user_type)||0)+1),O),new Map)).map(([O,L])=>({userType:O,count:L})),{data:R}=await $.from("activity_logs").select("device_type").eq("activity_type","page_view"),D=Array.from((R||[]).reduce((O,L)=>(O.set(L.device_type||"unknown",(O.get(L.device_type||"unknown")||0)+1),O),new Map)).map(([O,L])=>({deviceType:O,count:L}));return{totalPageViews:e||0,uniqueVisitors:i,todayPageViews:a||0,todayUniqueVisitors:c,avgSessionDuration:Math.round(d),avgScrollDepth:Math.round(p),bounceRate:Math.round(m),topPages:x,trafficSources:I,userTypeBreakdown:P,deviceBreakdown:D}}catch(t){return Vt.error(" Activity stats fetch failed:",t),{totalPageViews:0,uniqueVisitors:0,todayPageViews:0,todayUniqueVisitors:0,avgSessionDuration:0,avgScrollDepth:0,bounceRate:0,topPages:[],trafficSources:[],userTypeBreakdown:[],deviceBreakdown:[]}}}typeof window<"u"&&(oR(),lR());const vR=Me.lazy(()=>Ue(()=>import("./AboutPage-CY8GxFO9.js"),__vite__mapDeps([0,1,2,3,4,5]))),wR=Me.lazy(()=>Ue(()=>import("./ServicesPage-CIy2lEBU.js"),__vite__mapDeps([6,7,4,8]))),_R=Me.lazy(()=>Ue(()=>import("./FAQPage-4Xu0cBwv.js"),__vite__mapDeps([9,10]))),bR=Me.lazy(()=>Ue(()=>import("./ContactPage-Dm236l72.js"),__vite__mapDeps([11,12,13]))),xR=Me.lazy(()=>Ue(()=>import("./CareerPage-B4mhyLGh.js"),__vite__mapDeps([14,5,3,2,15,13]))),SR=Me.lazy(()=>Ue(()=>import("./BlogPage-2wlHKpsh.js"),__vite__mapDeps([16,17,18]))),kR=Me.lazy(()=>Ue(()=>import("./CampaignsPage-CfPAcyQY.js"),__vite__mapDeps([19,20,21,22,17]))),ER=Me.lazy(()=>Ue(()=>import("./CampaignDetailPage-CTOFtuqr.js"),__vite__mapDeps([23,21,20,22,24,17]))),lv=Me.lazy(()=>Ue(()=>import("./LoginPage-ByvMmk4C.js"),__vite__mapDeps([25,26,27,28,29,30]))),CR=Me.lazy(()=>Ue(()=>import("./AuthRequiredPage-CdXMkGUY.js"),__vite__mapDeps([31,28,32]))),TR=Me.lazy(()=>Ue(()=>import("./PartnerRegisterPage-jEG5jLtd.js"),__vite__mapDeps([33,34,35,36,28,37,5,38]))),AR=Me.lazy(()=>Ue(()=>import("./PartnerDashboard-Cm0B9TYS.js"),__vite__mapDeps([39,40,24,8,41,5,42,43,30,34,44,37,45,46,47,48,49,17,50,22,51,52,38,53,27,4,2,54,55,13,56,28,57,58,59,36,60]))),PR=Me.lazy(()=>Ue(()=>import("./CustomerProfilePage-CPug5HCz.js"),__vite__mapDeps([61,26,36,60,62,3,28,49,27,48,37,55,30,47,29]))),jR=Me.lazy(()=>Ue(()=>import("./OffersPanel-C5MPXd-o.js"),__vite__mapDeps([63,20,64,27,30,37,8]))),RR=Me.lazy(()=>Ue(()=>import("./QuotePage-riPmzMhw.js"),__vite__mapDeps([65,34,44,37,45,46,47,66,20,38,67,56]))),OR=Me.lazy(()=>Ue(()=>import("./ListingPage-BaGsCqcX.js"),__vite__mapDeps([68,59,37,27,58,17]))),NR=Me.lazy(()=>Ue(()=>import("./ProviderDetailPage-Jq66qN5G.js"),__vite__mapDeps([69,47,20,27,37,42,38]))),cv=Me.lazy(()=>Ue(()=>import("./AdminLoginPage-DokjcDVQ.js"),__vite__mapDeps([70,4,47,36,28,29,30]))),uv=Me.lazy(()=>Ue(()=>import("./AdminSignupPage-B9h4P4Uy.js"),__vite__mapDeps([71,37,36,28]))),Ze=Me.lazy(()=>Ue(()=>import("./AdminDashboard-CVIzmgAF.js").then(t=>t.a),__vite__mapDeps([72,67,18,52,42,30,27,60,40,17,8,24,73,4,32,74,48,36]))),IR=Me.lazy(()=>Ue(()=>import("./AdminSystemLogs-DnpbZaKD.js"),__vite__mapDeps([75,40,17,24,4,30,49,74,48])));Me.lazy(()=>Ue(()=>import("./AdminUserDetailPage-Du_sDdPW.js"),__vite__mapDeps([76,20,36,17,62,8,27])));Me.lazy(()=>Ue(()=>import("./AdminPartnerDetailPage-B-ugmdQR.js"),__vite__mapDeps([77,20,27,24,8,42,36,17])));Me.lazy(()=>Ue(()=>import("./AdminRequestDetailPage-CEJx-cyE.js"),__vite__mapDeps([78,20,24,62,17,8])));Me.lazy(()=>Ue(()=>import("./AdminOfferDetailPage-q7mjrVkc.js"),__vite__mapDeps([79,20,24,13,17])));Me.lazy(()=>Ue(()=>import("./AdminFleetDetailPage-BEAZn9hK.js"),__vite__mapDeps([80,73,20,17,30,24,8])));Me.lazy(()=>Ue(()=>import("./AdminReviewDetailPage-DCh9qXot.js"),__vite__mapDeps([81,20,50,30,29,27,24])));Me.lazy(()=>Ue(()=>import("./AdminLeadRequestDetailPage-BF8yEoz6.js"),__vite__mapDeps([82,20,42,17,24])));Me.lazy(()=>Ue(()=>import("./AdminAreaRequestDetailPage-B14xk0qF.js"),__vite__mapDeps([83,20,57,17,24])));Me.lazy(()=>Ue(()=>import("./AdminSupportRequestDetailPage-DbcHXat9.js"),__vite__mapDeps([84,20,40,24,17])));const DR=Me.lazy(()=>Ue(()=>import("./NotificationTestPage-EMsuoFpq.js"),__vite__mapDeps([85,47,13]))),LR=Me.lazy(()=>Ue(()=>import("./EmailConfirmationPage-vWw42Z69.js"),__vite__mapDeps([86,37]))),MR=Me.lazy(()=>Ue(()=>import("./PrivacyPolicyPage-Dy3OSD-5.js"),__vite__mapDeps([87,20,4]))),zR=Me.lazy(()=>Ue(()=>import("./TermsOfServicePage-j4o6PFej.js"),__vite__mapDeps([88,20,40]))),UR=Me.lazy(()=>Ue(()=>import("./NotFoundPage-TIxWhv9L.js"),__vite__mapDeps([89,47]))),BR=Me.lazy(()=>Ue(()=>import("./SEOServicePage-Doc-6GFD.js"),__vite__mapDeps([90,91,47,24,92,4,27,93,10,5,12]))),$R=Me.lazy(()=>Ue(()=>import("./SEOStatsPage-CktVONqK.js"),__vite__mapDeps([94,92,15,5,95]))),FR=Me.lazy(()=>Ue(()=>import("./SEOBrandPage-B7cTV51s.js"),__vite__mapDeps([96,92,91,47,24,2,38,4,7,27,93,10,5]))),VR=Me.lazy(()=>Ue(()=>import("./PartnerSEOPage-qJpcao66.js"),__vite__mapDeps([97,92,8,1,5,93,38,42,40,24,27,2]))),qR=Me.lazy(()=>Ue(()=>import("./PriceCalculatorWizard-D7Q51xRS.js"),__vite__mapDeps([98,99,93,37,66,46,5]))),KR=Me.lazy(()=>Ue(()=>import("./PasswordSetupPage-CVa1FwU7.js"),__vite__mapDeps([100,28]))),WR=Me.lazy(()=>Ue(()=>import("./PartnerReviewPendingPage-8idxVFOL.js"),__vite__mapDeps([101,4,36]))),HR=Me.lazy(()=>Ue(()=>import("./SpecialVehiclePage-BP2F4fiP.js"),__vite__mapDeps([102,91,47,24,4,27,62,10]))),GR=Me.lazy(()=>Ue(()=>import("./OnDutyPage-iWS19-oB.js"),__vite__mapDeps([103,91,47,24,38,4,27,10]))),YR=Me.lazy(()=>Ue(()=>import("./IntercityPage-CPjvD9BK.js"),__vite__mapDeps([104,91,47,24,59,4,93,58,27,10]))),JR=Me.lazy(()=>Ue(()=>import("./SpecialLocationPage-BMX8B0Br.js"),__vite__mapDeps([105,91,47,24,4,10]))),QR=Me.lazy(()=>Ue(()=>import("./PricingPage-GFOAVIi9.js"),__vite__mapDeps([106,91,47,24,93,46,5,27,10]))),XR=()=>g.jsx("div",{className:"flex items-center justify-center h-screen",children:g.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-brand-orange"})}),ZR=()=>{const t=ci(),e=(r,i,a)=>{t(`/liste?city=${encodeURIComponent(r)}&district=${encodeURIComponent(i)}&serviceId=${encodeURIComponent(a)}&fromHero=1`)};return g.jsxs(g.Fragment,{children:[g.jsx(Tj,{onSearch:e}),g.jsx(Aj,{}),g.jsx(Pj,{}),g.jsx(jj,{}),g.jsx(Rj,{})]})},e2=({children:t})=>{const e=Ar(),r=["/partner","/admin","/admin/giris","/admin/sistem-loglari"].some(i=>e.pathname===i||e.pathname.startsWith(i+"/"));return B.useEffect(()=>{window.scrollTo(0,0)},[e.pathname]),g.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 font-sans text-brand-dark selection:bg-brand-orange selection:text-white",children:[!r&&g.jsx(Sj,{}),g.jsx("main",{className:"flex-grow",children:t}),!r&&g.jsx(sR,{}),g.jsx(aR,{})]})},t2=()=>{const t=Ar();return B.useEffect(()=>{gR(document.title)},[t.pathname]),null};function r2(){const[t,e]=B.useState(!1);return g.jsxs(r1,{children:[g.jsxs(Mj,{children:[g.jsx(t2,{}),g.jsxs(av,{children:[g.jsx(e2,{children:g.jsx(B.Suspense,{fallback:g.jsx(XR,{}),children:g.jsx(av,{children:g.jsxs(GS,{children:[g.jsx(ve,{path:"/",element:g.jsx(ZR,{})}),g.jsx(ve,{path:"/hakkimizda",element:g.jsx(vR,{})}),g.jsx(ve,{path:"/hizmetler",element:g.jsx(wR,{})}),g.jsx(ve,{path:"/sss",element:g.jsx(_R,{})}),g.jsx(ve,{path:"/iletisim",element:g.jsx(bR,{})}),g.jsx(ve,{path:"/kariyer",element:g.jsx(xR,{})}),g.jsx(ve,{path:"/blog",element:g.jsx(SR,{})}),g.jsx(ve,{path:"/kampanyalar",element:g.jsx(kR,{})}),g.jsx(ve,{path:"/kampanya/:id",element:g.jsx(ER,{})}),g.jsx(ve,{path:"/giris-gerekli",element:g.jsx(CR,{})}),g.jsx(ve,{path:"/giris/musteri",element:g.jsx(lv,{userType:"customer"})}),g.jsx(ve,{path:"/giris/partner",element:g.jsx(lv,{userType:"partner"})}),g.jsx(ve,{path:"/partner/kayit",element:g.jsx(TR,{})}),g.jsx(ve,{path:"/email-dogrulama",element:g.jsx(LR,{})}),g.jsx(ve,{path:"/partner",element:g.jsx(AR,{})}),g.jsx(ve,{path:"/partner/inceleniyor",element:g.jsx(WR,{})}),g.jsx(ve,{path:"/sifre-olustur",element:g.jsx(KR,{})}),g.jsx(ve,{path:"/musteri/profil",element:g.jsx(Yo,{children:g.jsx(PR,{})})}),g.jsx(ve,{path:"/musteri/teklifler",element:g.jsx(Yo,{children:g.jsx(jR,{})})}),g.jsx(ve,{path:"/liste",element:g.jsx(OR,{})}),g.jsx(ve,{path:"/hizmet/:id",element:g.jsx(NR,{})}),g.jsx(ve,{path:"/teklif",element:g.jsx(Yo,{children:g.jsx(RR,{})})}),g.jsx(ve,{path:"/fiyat-hesapla",element:g.jsx(Yo,{children:g.jsx(qR,{})})}),g.jsx(ve,{path:"/admin/giris",element:g.jsx(cv,{})}),g.jsx(ve,{path:"/admin/kayit",element:g.jsx(uv,{})}),g.jsx(ve,{path:"/operasyon/kayit",element:g.jsx(uv,{})}),g.jsx(ve,{path:"/admin",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/kullanicilar",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/kullanicilar/:id",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/partnerler",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/partnerler/:id",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/partner-onay",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/talepler",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/musteri-talepleri",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/musteri-talepleri/:id",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/teklifler",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/teklifler/:id",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/raporlar",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/belgeler",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/filo",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/filo/:vehicleId",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/degerlendirmeler",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/degerlendirmeler/:id",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/finansal",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/krediler",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/is-gecmisi",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/admin-kullanicilari",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/partner-vitrin",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/hizmet-bolgeleri",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/kampanyalar",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/aktivite",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/cagri-merkezi",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/canli-gorusmeler",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/cagri-kayitlari",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/talepler/lead/:id",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/talepler/alan/:id",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/talepler/destek/:id",element:g.jsx(Qe,{children:g.jsx(Ze,{})})}),g.jsx(ve,{path:"/admin/sistem-loglari",element:g.jsx(Qe,{children:g.jsx(IR,{})})}),g.jsx(ve,{path:"/bildirim-test",element:g.jsx(DR,{})}),g.jsx(ve,{path:"/seo-istatistikler",element:g.jsx($R,{})}),g.jsx(ve,{path:"/gizlilik-politikasi",element:g.jsx(MR,{})}),g.jsx(ve,{path:"/kullanim-kosullari",element:g.jsx(zR,{})}),g.jsx(ve,{path:"/operasyon",element:g.jsx(cv,{})}),g.jsx(ve,{path:"/partner-ol/:service/:city/:district",element:g.jsx(VR,{})}),g.jsx(ve,{path:"/tasima/:vehicleType/:city/:district",element:g.jsx(HR,{})}),g.jsx(ve,{path:"/nobetci/:service/:city/:district",element:g.jsx(GR,{})}),g.jsx(ve,{path:"/sehirlerarasi/:from/:to",element:g.jsx(YR,{})}),g.jsx(ve,{path:"/lokasyon/:slug",element:g.jsx(JR,{})}),g.jsx(ve,{path:"/fiyat/:service/:city",element:g.jsx(QR,{})}),g.jsx(ve,{path:"/:service/:city/:district",element:g.jsx(BR,{})}),g.jsx(ve,{path:"/marka/:brandSlug",element:g.jsx(FR,{})}),g.jsx(ve,{path:"*",element:g.jsx(UR,{})})]})})})}),g.jsx(Bj,{}),g.jsx(Vj,{}),g.jsx($j,{minimized:t,onMinimize:()=>e(!0),onMaximize:()=>e(!1)}),g.jsx(qj,{onClick:()=>e(!1)})]})]}),g.jsx(m1,{})]})}function n2(){"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{const t=sessionStorage.getItem("sw-refreshed"),e=await navigator.serviceWorker.register("/sw.js",{updateViaCache:"none"});console.log(" PWA Service Worker registered:",e.scope),e.waiting&&!t&&e.waiting.postMessage({type:"SKIP_WAITING"}),document.visibilityState==="visible"&&e.update(),e.addEventListener("updatefound",()=>{const i=e.installing;i&&i.addEventListener("statechange",()=>{i.state==="installed"&&navigator.serviceWorker.controller&&(console.log(" New Service Worker available"),t||(console.log(" Reloading to activate new Service Worker..."),sessionStorage.setItem("sw-refreshed","true"),window.location.reload()))})});let r=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{if(r||t){console.log(" Service Worker controller changed (already refreshed)");return}console.log(" Service Worker controller changed - reloading..."),r=!0,sessionStorage.setItem("sw-refreshed","true"),window.location.reload()}),setTimeout(()=>{sessionStorage.removeItem("sw-refreshed")},5e3)}catch(t){console.error(" Service Worker registration failed:",t)}})}let ta=null;function i2(){window.addEventListener("beforeinstallprompt",t=>{console.log(" PWA install prompt available"),t.preventDefault(),ta=t,s2()}),window.addEventListener("appinstalled",()=>{console.log(" YOLMOV PWA has been installed"),localStorage.setItem("pwa-installed","true");const t=document.getElementById("pwa-install-banner");t&&t.remove()}),window.matchMedia("(display-mode: standalone)").matches&&(console.log(" Running as installed PWA"),document.documentElement.classList.add("pwa-mode"))}function s2(){if(sessionStorage.getItem("pwa-install-prompt-shown")||localStorage.getItem("pwa-install-dismissed")==="true"||localStorage.getItem("pwa-installed")==="true")return;const i=document.createElement("div");i.id="pwa-install-banner",i.style.cssText=`
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(to right, #FF7A00, #FF9A2A);
    color: white;
    padding: 1rem;
    box-shadow: 0 -4px 20px rgba(0,0,0,0.2);
    z-index: 9999;
    animation: slideUp 0.3s ease-out;
  `,i.innerHTML=`
    <style>
      @keyframes slideUp {
        from { transform: translateY(100%); }
        to { transform: translateY(0); }
      }
    </style>
    <div style="max-width: 1200px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; gap: 1rem; flex-wrap: wrap;">
      <div style="display: flex; align-items: center; gap: 1rem;">
        <div style="width: 48px; height: 48px; background: white; border-radius: 12px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
          <img 
            src="https://raw.githubusercontent.com/yosoyorhan/repo2/refs/heads/main/yolmov-logo-cutter.png" 
            alt="YOLMOV" 
            style="width: 32px; height: 32px; object-fit: contain;"
          />
        </div>
        <div>
          <p style="font-weight: 700; margin: 0; font-size: 1rem;">YOLMOV'u Telefonunuza Ekleyin</p>
          <p style="margin: 0; font-size: 0.875rem; opacity: 0.9;">Daha hzl eriim iin uygulamay ykleyin</p>
        </div>
      </div>
      <div style="display: flex; align-items: center; gap: 0.5rem; flex-shrink: 0;">
        <button 
          id="pwa-install-button" 
          style="padding: 0.5rem 1.5rem; background: white; color: #FF7A00; border: none; border-radius: 8px; font-weight: 700; font-size: 0.875rem; cursor: pointer; transition: all 0.2s;"
          onmouseover="this.style.background='#FFF5F0'"
          onmouseout="this.style.background='white'"
        >
          Ykle
        </button>
        <button 
          id="pwa-dismiss-button" 
          style="padding: 0.5rem 0.75rem; background: transparent; color: white; border: none; font-size: 1.5rem; cursor: pointer; opacity: 0.8; transition: opacity 0.2s;"
          onmouseover="this.style.opacity='1'"
          onmouseout="this.style.opacity='0.8'"
        >
          
        </button>
      </div>
    </div>
  `,document.body.appendChild(i),sessionStorage.setItem("pwa-install-prompt-shown","true");const a=document.getElementById("pwa-install-button");a&&a.addEventListener("click",async()=>{if(!ta)return;ta.prompt();const{outcome:c}=await ta.userChoice;console.log(`User response to install prompt: ${c}`),console.log(c==="accepted"?" User accepted the install prompt":" User dismissed the install prompt"),ta=null,i.remove()});const o=document.getElementById("pwa-dismiss-button");o&&o.addEventListener("click",()=>{i.remove(),localStorage.setItem("pwa-install-dismissed","true")}),setTimeout(()=>{const c=document.getElementById("pwa-install-banner");c&&c.remove()},15e3)}const G_=document.getElementById("root");if(!G_)throw new Error("Could not find root element to mount to");const a2=eS.createRoot(G_);a2.render(g.jsx(Me.StrictMode,{children:g.jsx(r2,{})}));n2();i2();export{Wd as $,Tr as A,rg as B,dd as C,Av as D,ol as E,Pv as F,N1 as G,E1 as H,Nu as I,C1 as J,T1 as K,Zd as L,eh as M,O1 as N,Kh as O,Mr as P,ng as Q,Me as R,hd as S,Al as T,L1 as U,ig as V,U1 as W,Yi as X,Tv as Y,u2 as Z,Ue as _,_1 as a,c2 as a0,Fk as a1,CO as a2,TO as a3,EO as a4,AO as a5,jO as a6,PO as a7,kl as a8,aa as a9,M1 as aa,j1 as ab,RO as ac,OO as ad,kO as ae,iR as b,qe as c,Pl as d,cd as e,B_ as f,l2 as g,ud as h,Ar as i,g as j,Cv as k,Ho as l,Ie as m,I1 as n,$ as o,ka as p,iv as q,B as r,Er as s,x1 as t,ci as u,S1 as v,D1 as w,b1 as x,A1 as y,jv as z};
