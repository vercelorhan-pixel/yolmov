import{c as Ee,u as Me,O as He,r as a,k as J,Q as ne,s as Ke,j as e,a as Q,A as $,m as l,K as Ce,N as Se,g as oe,L as Ue,S as ze,M as Le,o as We,C as Ve,l as Ge,t as le,I as Te,F as Je,D as Qe,i as Xe,T as Ye}from"./index-WlGrQmAx.js";import{R as ce}from"./route-Cdl58xr2.js";import{C as qe}from"./circle-check-BQgD4UH4.js";import{S as Ze}from"./star-DAzveIrP.js";import{M as et}from"./map-iCLX-So-.js";import{C as tt}from"./calendar-BjRHn0SU.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=Ee("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),at=({provider:r,index:g,onClick:v})=>{var A;const f=()=>{v(r)},c=r.matchType==="return_route";return e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},onClick:f,className:`bg-white rounded-2xl p-6 shadow-sm border transition-all cursor-pointer group flex flex-col md:flex-row items-center gap-6 md:gap-8 ${c?"border-green-200 hover:border-green-400 hover:shadow-green-100":"border-gray-100 hover:shadow-md hover:border-brand-orange/30"}`,children:[c&&e.jsx("div",{className:"absolute -top-2 -right-2 md:static md:absolute md:-top-3 md:-right-3",children:e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-500 text-white text-[10px] font-bold rounded-full shadow-sm",children:[e.jsx(ce,{size:12}),"Boş Dönüş",r.discountPercent&&r.discountPercent>0&&e.jsxs("span",{className:"ml-1",children:["%",r.discountPercent," İndirim"]})]})}),e.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto min-w-[240px]",children:[e.jsxs("div",{className:"relative shrink-0",children:[e.jsx("img",{src:r.image,alt:r.name,className:`w-16 h-16 rounded-full object-cover border transition-colors ${c?"border-green-200 group-hover:border-green-400":"border-gray-100 group-hover:border-brand-orange"}`}),r.isVerified&&e.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-0.5 shadow-sm",children:e.jsx(qe,{size:18,className:"text-blue-500 fill-white"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-bold transition-colors leading-tight mb-1 ${c?"text-gray-900 group-hover:text-green-600":"text-gray-900 group-hover:text-brand-orange"}`,children:r.name}),e.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[e.jsx(Ze,{size:14,className:"text-yellow-400 fill-yellow-400"}),e.jsx("span",{className:"text-sm font-bold text-gray-800",children:r.rating}),e.jsxs("span",{className:"text-xs text-gray-400",children:["(",r.reviewCount,")"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-block px-2 py-0.5 bg-gray-100 rounded text-[10px] font-bold text-gray-600 uppercase tracking-wide",children:r.serviceType}),c&&r.routeInfo&&e.jsxs("span",{className:"inline-block px-2 py-0.5 bg-green-50 rounded text-[10px] font-bold text-green-600",children:[r.routeInfo.origin," → ",r.routeInfo.destination]})]})]})]}),e.jsx("div",{className:"flex-1 w-full md:w-auto flex items-center md:border-l md:border-gray-100 md:pl-8 py-2",children:e.jsxs("div",{className:"flex flex-col justify-center w-full",children:[e.jsx("div",{className:"flex items-center gap-1.5 text-gray-400 text-xs font-bold mb-0.5",children:c?e.jsxs(e.Fragment,{children:[e.jsx(ce,{size:14})," Rota"]}):e.jsxs(e.Fragment,{children:[e.jsx(et,{size:14})," Konum"]})}),e.jsx("div",{className:"text-gray-800 font-semibold text-sm md:text-base truncate",children:c&&r.routeInfo?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{children:r.routeInfo.origin}),e.jsx(le,{size:14,className:"text-gray-400"}),e.jsx("span",{className:"text-green-600 font-bold",children:r.location}),e.jsx(le,{size:14,className:"text-gray-400"}),e.jsx("span",{children:r.routeInfo.destination})]}):r.location}),c&&((A=r.routeInfo)==null?void 0:A.departureDate)&&e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[e.jsx(tt,{size:12,className:"inline mr-1"}),new Date(r.routeInfo.departureDate).toLocaleDateString("tr-TR")]})]})}),e.jsx("div",{className:"w-full md:w-auto shrink-0",children:e.jsxs("button",{onClick:X=>{X.stopPropagation(),v(r)},className:`w-full px-6 py-3 rounded-xl font-bold transition-colors shadow-md flex items-center justify-center gap-2 ${c?"bg-green-500 text-white hover:bg-green-600 shadow-green-100":"bg-brand-orange text-white hover:bg-brand-lightOrange shadow-orange-100"}`,children:["Seç ",e.jsx(le,{size:18})]})})]})},mt=()=>{const r=Me(),[g,v]=He(),f=g.get("city")||"",c=g.get("district")||"",A=g.get("serviceId")||"",X=g.get("fromHero")==="1",[w,u]=a.useState(!1),[h,_]=a.useState("city"),[D,N]=a.useState(""),[Y,k]=a.useState(!1),[i,q]=a.useState(f),[d,Z]=a.useState(c),[C,O]=a.useState(!1),[x,Ie]=a.useState(A),[S,ee]=a.useState("eta"),[te,de]=a.useState(!1),[Pe,me]=a.useState(!1),[xe,b]=a.useState("Arama başlatılıyor..."),[T,F]=a.useState(null),[B,ue]=a.useState(!1),[z,he]=a.useState(!1),[p,E]=a.useState([]),[Re,ge]=a.useState(!1),[I,$e]=a.useState(!0),[fe,be]=a.useState(!1),M=a.useRef(null),H=a.useRef(null),P=a.useRef(null),K=a.useRef(null);a.useEffect(()=>{function t(s){M.current&&!M.current.contains(s.target)&&u(!1),H.current&&!H.current.contains(s.target)&&O(!1)}return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]);const Ae=Object.keys(J),_e=i?J[i]:[],se=h==="city"?Ae.filter(t=>t.toLocaleLowerCase("tr").includes(D.toLocaleLowerCase("tr"))):_e.filter(t=>t.toLocaleLowerCase("tr").includes(D.toLocaleLowerCase("tr"))),L=ne.find(t=>t.id===x),pe=t=>{Ie(t),O(!1)},ae=t=>{var s;q(t),_("district"),N(""),(s=P.current)==null||s.focus()},re=t=>{Z(t),N(""),u(!1)},De=t=>{var s;t==null||t.stopPropagation(),q(""),Z(""),_("city"),N(""),u(!0),(s=P.current)==null||s.focus()},ye=()=>{var t;_("city"),Z(""),q(""),N(""),(t=P.current)==null||t.focus()},je=()=>{if(!navigator.geolocation){alert("Tarayıcınız konum özelliğini desteklemiyor.");return}k(!0),u(!1),navigator.geolocation.getCurrentPosition(async t=>{const{latitude:s,longitude:o}=t.coords;try{const m=(await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${s}&lon=${o}&format=json&accept-language=tr`,{headers:{"User-Agent":"YOLMOV App"}})).json()).address||{};let y=m.province||m.state||m.city||m.town,j=m.county||m.district||m.suburb||m.neighbourhood;const G=Object.keys(J).find(R=>R.toLowerCase()===(y==null?void 0:y.toLowerCase()));if(G){ae(G);const Ne=J[G].find(ke=>ke.toLowerCase().includes(j==null?void 0:j.toLowerCase())||(j==null?void 0:j.toLowerCase().includes(ke.toLowerCase())));Ne?setTimeout(()=>{re(Ne),k(!1)},500):(_("district"),u(!0),k(!1))}else k(!1),u(!0)}catch{alert("Konum bilgisi alınamadı. Lütfen manuel olarak seçin."),k(!1),u(!0)}},t=>{alert("Konum erişimi reddedildi."),k(!1),u(!0)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},U=a.useCallback(async(t,s,o=!1)=>{if(!t){E([]),be(!0);return}ge(!0);try{const n=await Ke.partnerSearch.getAvailablePartners(t,s);E(n),console.log(`✅ Found ${n.length} available partners for ${t}${s?`, ${s}`:""}`)}catch(n){console.error("❌ Error fetching available partners:",n),E([])}finally{ge(!1),o&&be(!0)}},[]),ve=a.useRef(0);a.useEffect(()=>{if(f&&!z){if(X){he(!0);try{const o=sessionStorage.getItem("yolmov_search_results");if(o){const{partners:n,city:V,district:m,timestamp:y}=JSON.parse(o);if(Date.now()-y<3e4&&(V===f&&m===c)&&n){console.log("✅ Using cached partners from Hero:",n.length),E(n),sessionStorage.removeItem("yolmov_search_results");const R=new URLSearchParams(g);R.delete("fromHero"),v(R,{replace:!0});return}}}catch(o){console.warn("Cache read error:",o)}U(f,c,!1);const s=new URLSearchParams(g);s.delete("fromHero"),v(s,{replace:!0});return}ve.current=Date.now(),ue(!0),b("Konumunuz analiz ediliyor..."),F({top:window.innerHeight/2-25,left:window.innerWidth/2-75,width:150,height:50});const t=[setTimeout(()=>b("Bölgedeki uzmanlar taranıyor..."),800),setTimeout(()=>b("Müsaitlik durumları kontrol ediliyor..."),1800)];return U(f,c,!0),()=>t.forEach(clearTimeout)}},[]),a.useEffect(()=>{if(fe&&B&&!z){const s=Date.now()-ve.current,o=Math.max(0,2500-s),n=setTimeout(()=>{b("Sonuçlar hazır!"),setTimeout(()=>{ue(!1),he(!0),F(null)},500)},o);return()=>clearTimeout(n)}},[fe,B,z]),a.useEffect(()=>{i&&z&&U(i,d)},[i,d,U,z]);const W=a.useMemo(()=>p.map(t=>{const s=t.companyName||t.partnerName||"Partner",o=t.profilePhotoUrl||t.logoUrl||`https://ui-avatars.com/api/?name=${encodeURIComponent(s)}&background=FF6B35&color=fff&size=128`;return{id:t.partnerId,name:s,slug:t.partnerId,serviceType:"nakliyat",rating:t.rating||4.5,reviewCount:t.completedJobs||0,location:`${t.city||""}${t.district?`, ${t.district}`:""}`,eta:t.matchType==="return_route"?"1-3 saat (boş dönüş)":"30-60 dk",verified:!0,isVerified:!0,priceRange:t.matchType==="return_route"&&t.discountPercent?`%${t.discountPercent} indirimli`:"Standart",image:o,description:t.matchType==="return_route"?`Boş dönüş rotası: ${t.originCity||""} → ${t.destinationCity||""}`:t.notes||"",services:[],founded:"",fleetSize:"",specialties:[],serviceAreas:[],reviews:[],matchType:t.matchType,discountPercent:t.discountPercent,routeInfo:t.matchType==="return_route"?{origin:t.originCity,destination:t.destinationCity,departureDate:t.departureDate}:void 0}}),[p]),ie=a.useMemo(()=>{if(W.length>0){const t=I?W:W.filter(n=>n.matchType!=="return_route");return[...te?t.filter(n=>n.isVerified):t].sort((n,V)=>{const m=n.matchType,y=V.matchType;return m==="service_area"&&y==="return_route"?-1:m==="return_route"&&y==="service_area"?1:0})}return[]},[te,W,I]),Oe=()=>{if(!x)return e.jsx(Te,{size:64,className:"text-white",strokeWidth:1.5});switch(x){case"tow":return e.jsx(Ye,{size:64,className:"text-white",strokeWidth:1.5});case"battery":return e.jsx(Xe,{size:64,className:"text-white",strokeWidth:1.5});case"tire":return e.jsx(Qe,{size:64,className:"text-white",strokeWidth:1.5});case"fuel":return e.jsx(Je,{size:64,className:"text-white",strokeWidth:1.5});default:return e.jsx(Te,{size:64,className:"text-white",strokeWidth:1.5})}},we=()=>{if(!(!i||!d)){if(K.current){const t=K.current.getBoundingClientRect();F({top:t.top,left:t.left,width:t.width,height:t.height})}me(!0),b("Konumunuz analiz ediliyor..."),setTimeout(()=>{b("Bölgedeki uzmanlar taranıyor...")},800),setTimeout(()=>{b("Müsaitlik durumları kontrol ediliyor...")},1800),setTimeout(()=>{b("Sonuçlar hazır!")},2600),setTimeout(()=>{const t=new URLSearchParams;i&&t.set("city",i),d&&t.set("district",d),x&&t.set("serviceId",x),v(t),me(!1),F(null)},3e3)}},Fe=()=>e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-[80px] z-30 hidden md:block",children:e.jsx("div",{className:"container mx-auto px-4 md:px-8 lg:px-24 xl:px-32",children:e.jsxs("div",{className:"flex items-center gap-4 h-20",children:[e.jsxs("div",{ref:M,className:"flex-1 relative",children:[e.jsxs("div",{onClick:()=>u(!w),className:"flex items-center gap-3 cursor-pointer group",children:[e.jsx(Le,{className:"text-brand-orange shrink-0",size:20}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-gray-400 font-bold",children:"Neredesin?"}),e.jsx("div",{className:"text-gray-800 font-semibold truncate",children:i&&d?`${d}, ${i}`:i||"İl ara..."})]}),(i||d)&&e.jsx(We,{size:18,className:"text-gray-400 hover:text-red-500 cursor-pointer",onClick:De}),e.jsx(Q,{className:`text-gray-400 transition-transform ${w?"rotate-180":""}`,size:18})]}),e.jsx($,{children:w&&e.jsxs(l.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full mt-2 w-full bg-white rounded-xl shadow-2xl border border-gray-100 overflow-hidden z-50",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100",children:[h==="district"&&e.jsxs("button",{onClick:ye,className:"flex items-center gap-2 text-sm text-brand-orange hover:text-brand-lightOrange mb-3",children:[e.jsx(Ce,{size:16})," Şehir Seçimine Dön"]}),e.jsxs("button",{onClick:je,disabled:Y,className:"w-full flex items-center justify-center gap-2 bg-blue-50 hover:bg-blue-100 text-blue-600 py-2.5 px-4 rounded-lg font-semibold text-sm transition-colors disabled:opacity-50",children:[e.jsx(Se,{size:16}),Y?"Konum alınıyor...":"Mevcut Konumumu Kullan"]})]}),e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("input",{ref:P,type:"text",value:D,onChange:t=>N(t.target.value),placeholder:h==="city"?"İl ara...":"İlçe ara...",className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-orange focus:border-transparent outline-none"})}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:se.length>0?se.map(t=>e.jsxs("div",{onClick:()=>h==="city"?ae(t):re(t),className:"px-4 py-3 hover:bg-gray-50 cursor-pointer transition-colors flex items-center justify-between group",children:[e.jsx("span",{className:"text-gray-700 group-hover:text-brand-orange font-medium",children:t}),(h==="city"&&t===i||h==="district"&&t===d)&&e.jsx(oe,{size:16,className:"text-brand-orange"})]},t)):e.jsx("div",{className:"px-4 py-8 text-center text-gray-400",children:"Sonuç bulunamadı"})})]})})]}),e.jsx("div",{className:"h-8 w-px bg-gray-200"}),e.jsxs("div",{ref:H,className:"flex-1 relative",children:[e.jsxs("div",{onClick:()=>O(!C),className:"flex items-center gap-3 cursor-pointer group",children:[e.jsx(ze,{className:"text-brand-orange shrink-0",size:20}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-gray-400 font-bold",children:"İhtiyacın Nedir?"}),e.jsx("div",{className:"text-gray-800 font-semibold truncate",children:(L==null?void 0:L.title)||"Hizmet Seçin"})]}),e.jsx(Q,{className:`text-gray-400 transition-transform ${C?"rotate-180":""}`,size:18})]}),e.jsx($,{children:C&&e.jsx(l.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full mt-2 w-full bg-white rounded-xl shadow-2xl border border-gray-100 overflow-hidden z-50",children:ne.map(t=>{const s=t.icon;return e.jsxs("div",{onClick:()=>pe(t.id),className:`px-4 py-3 hover:bg-orange-50 cursor-pointer transition-colors flex items-center gap-3 group ${t.id===x?"bg-orange-50":""}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${t.id===x?"bg-brand-orange text-white":"bg-orange-50 text-brand-orange"}`,children:e.jsx(s,{size:20})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-semibold ${t.id===x?"text-brand-orange":"text-gray-800 group-hover:text-brand-orange"}`,children:t.title}),e.jsx("div",{className:"text-xs text-gray-400",children:t.description})]}),t.id===x&&e.jsx(oe,{size:16,className:"text-brand-orange"})]},t.id)})})})]}),e.jsx("button",{ref:K,onClick:we,disabled:!i||!d,className:"bg-brand-orange hover:bg-brand-lightOrange disabled:bg-gray-300 disabled:cursor-not-allowed text-white font-bold py-3 px-8 rounded-xl transition-colors shadow-md shadow-orange-100",children:"Hemen Bul"})]})})}),Be=()=>{const t=()=>{de(!1),ee("eta")};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-bold text-brand-dark text-lg",children:"Sırala"}),e.jsx("button",{onClick:t,className:"text-xs text-brand-orange font-semibold hover:underline",children:"Tümünü temizle"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${S==="eta"?"border-brand-orange":"border-gray-300 group-hover:border-brand-orange"}`,children:S==="eta"&&e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-brand-orange"})}),e.jsx("input",{type:"radio",name:"sort",className:"hidden",checked:S==="eta",onChange:()=>ee("eta")}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 group-hover:text-brand-dark",children:[e.jsx(Ve,{size:18}),e.jsx("span",{children:"En erken varış"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${S==="dist"?"border-brand-orange":"border-gray-300 group-hover:border-brand-orange"}`,children:S==="dist"&&e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-brand-orange"})}),e.jsx("input",{type:"radio",name:"sort",className:"hidden",checked:S==="dist",onChange:()=>ee("dist")}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 group-hover:text-brand-dark",children:[e.jsx(Le,{size:18}),e.jsx("span",{children:"Kalkış yerine yakın"})]})]})]})]}),e.jsx("div",{className:"w-full h-px bg-gray-200"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-brand-dark text-lg mb-4",children:"Güven ve Güvenlik"}),e.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:te,onChange:s=>de(s.target.checked),className:"w-5 h-5 rounded border-gray-300 text-brand-orange focus:ring-brand-orange"}),e.jsx("span",{className:"text-gray-600 group-hover:text-gray-900",children:"Doğrulanmış Profil"})]}),e.jsx(Ge,{size:18,className:"text-brand-orange"})]})]})]})};return e.jsxs("div",{className:"min-h-screen bg-[#F8FAFC]",children:[e.jsx(Fe,{}),e.jsx("div",{className:"md:hidden bg-white shadow-sm border-b border-gray-200 sticky top-[64px] z-30",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{ref:M,className:"relative",children:[e.jsx("label",{className:"text-xs text-gray-400 font-bold mb-1 block",children:"Neredesin?"}),e.jsxs("div",{onClick:()=>u(!w),className:"w-full text-sm font-semibold bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 flex items-center justify-between cursor-pointer",children:[e.jsx("span",{className:"truncate",children:i&&d?`${d}, ${i}`:i||"İl ara..."}),e.jsx(Q,{size:16,className:`transition-transform ${w?"rotate-180":""}`})]}),e.jsx($,{children:w&&e.jsxs(l.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full mt-2 w-full bg-white rounded-xl shadow-2xl border border-gray-100 overflow-hidden z-50",children:[e.jsxs("div",{className:"p-3 border-b border-gray-100",children:[h==="district"&&e.jsxs("button",{onClick:ye,className:"flex items-center gap-2 text-sm text-brand-orange mb-2",children:[e.jsx(Ce,{size:16})," Geri"]}),e.jsxs("button",{onClick:je,className:"w-full flex items-center justify-center gap-2 bg-blue-50 text-blue-600 py-2 px-3 rounded-lg font-semibold text-sm",children:[e.jsx(Se,{size:16}),Y?"Alınıyor...":"Konumumu Kullan"]})]}),e.jsx("div",{className:"p-3 border-b border-gray-100",children:e.jsx("input",{ref:P,type:"text",value:D,onChange:t=>N(t.target.value),placeholder:h==="city"?"İl ara...":"İlçe ara...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm"})}),e.jsx("div",{className:"max-h-48 overflow-y-auto",children:se.map(t=>e.jsx("div",{onClick:()=>h==="city"?ae(t):re(t),className:"px-3 py-2 hover:bg-gray-50 cursor-pointer text-sm",children:t},t))})]})})]}),e.jsxs("div",{ref:H,className:"relative",children:[e.jsx("label",{className:"text-xs text-gray-400 font-bold mb-1 block",children:"İhtiyacın Nedir?"}),e.jsxs("div",{onClick:()=>O(!C),className:"w-full text-sm font-semibold bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 flex items-center justify-between cursor-pointer",children:[e.jsx("span",{children:(L==null?void 0:L.title)||"Hizmet Seçin"}),e.jsx(Q,{size:16,className:`transition-transform ${C?"rotate-180":""}`})]}),e.jsx($,{children:C&&e.jsx(l.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full mt-2 w-full bg-white rounded-xl shadow-2xl border border-gray-100 overflow-hidden z-50 max-h-64 overflow-y-auto",children:ne.map(t=>{const s=t.icon;return e.jsxs("div",{onClick:()=>pe(t.id),className:`px-3 py-2 hover:bg-orange-50 cursor-pointer flex items-center gap-2 ${t.id===x?"bg-orange-50":""}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${t.id===x?"bg-brand-orange text-white":"bg-orange-50 text-brand-orange"}`,children:e.jsx(s,{size:16})}),e.jsx("div",{className:"flex-1 text-sm font-semibold",children:t.title}),t.id===x&&e.jsx(oe,{size:14,className:"text-brand-orange"})]},t.id)})})})]}),e.jsx("button",{ref:K,onClick:we,disabled:!i||!d,className:"w-full bg-brand-orange hover:bg-brand-lightOrange disabled:bg-gray-300 text-white font-bold py-3 rounded-xl transition-colors shadow-md shadow-orange-100",children:"Hemen Bul"})]})})}),e.jsxs("div",{className:"container mx-auto px-4 md:px-8 lg:px-24 xl:px-32 py-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-end gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm text-gray-400 mb-1",children:[f," bölgesinde"]}),e.jsxs("h1",{className:"text-xl font-bold text-brand-dark",children:[ie.length," hizmet veren mevcut"]}),p.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[p.filter(t=>t.matchType==="service_area").length>0&&e.jsxs("span",{className:"text-xs px-2 py-1 bg-orange-50 text-brand-orange rounded-full font-medium",children:[p.filter(t=>t.matchType==="service_area").length," bölge partneri"]}),p.filter(t=>t.matchType==="return_route").length>0&&e.jsxs("span",{className:"text-xs px-2 py-1 bg-green-50 text-green-600 rounded-full font-medium",children:[p.filter(t=>t.matchType==="return_route").length," boş dönüş aracı"]})]})]}),p.some(t=>t.matchType==="return_route")&&e.jsxs("div",{className:"flex items-center gap-3 bg-white px-4 py-2 rounded-xl border border-gray-100 shadow-sm",children:[e.jsx(ce,{size:18,className:"text-green-500"}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:I,onChange:t=>$e(t.target.checked),className:"sr-only"}),e.jsx("div",{className:`w-10 h-5 rounded-full transition-colors ${I?"bg-green-500":"bg-gray-300"}`,children:e.jsx("div",{className:`w-4 h-4 rounded-full bg-white shadow transform transition-transform mt-0.5 ${I?"translate-x-5 ml-0.5":"translate-x-0.5"}`})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Boş Dönüş Araçlarını Göster"})]})]})]}),Re&&z&&!B&&e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-xl flex items-center gap-3",children:[e.jsx(Ue,{className:"w-5 h-5 text-blue-500 animate-spin"}),e.jsx("span",{className:"text-sm text-blue-600 font-medium",children:"Bölgedeki partnerler aranıyor..."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[e.jsx("div",{className:"hidden lg:block lg:col-span-4 sticky top-32",children:e.jsx(Be,{})}),e.jsx("div",{className:"col-span-1 lg:col-span-8 space-y-4",children:ie.length>0?ie.map((t,s)=>e.jsx(at,{provider:t,index:s,onClick:o=>r(`/hizmet/${o.id}`,{state:{provider:o}})},t.id)):e.jsxs(l.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex flex-col items-center justify-center py-16 px-4 text-center bg-white rounded-3xl border border-gray-100 shadow-sm",children:[e.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 animate-pulse",children:e.jsx(ze,{size:40,className:"text-brand-orange"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Şu an müsait araç yok"}),e.jsx("p",{className:"text-gray-500 max-w-md mb-8 leading-relaxed text-sm",children:"Aradığınız kriterlere uygun hizmet veren şu anda bulunamadı. Ancak talep oluşturarak tüm firmalara bildirim gönderebilirsiniz."}),e.jsxs("button",{onClick:()=>{if(!localStorage.getItem("yolmov_customer")){r("/giris-gerekli",{state:{message:"Teklif talebi oluşturmak için üye girişi yapmanız gerekiyor.",returnUrl:"/teklif"}});return}r("/teklif")},className:"w-full md:w-auto px-8 py-4 bg-brand-orange text-white font-bold rounded-xl shadow-lg shadow-orange-200 hover:bg-brand-lightOrange transition-all hover:-translate-y-1 flex items-center justify-center gap-3",children:[e.jsx(st,{size:20})," Hemen Ücretsiz Teklif Al"]})]})})]})]}),(Pe||B)&&T&&e.jsx(l.div,{initial:{position:"fixed",top:T.top,left:T.left,width:T.width,height:T.height,borderRadius:"1.5rem",backgroundColor:"#FF7A00",zIndex:9999,opacity:1},animate:{top:0,left:0,width:"100vw",height:"100vh",borderRadius:0},transition:{duration:.6,ease:[.645,.045,.355,1]},className:"flex flex-col items-center justify-center overflow-hidden",children:e.jsxs(l.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3,duration:.4},className:"flex flex-col items-center text-white p-6 text-center w-full max-w-lg",children:[e.jsx(l.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-10",children:e.jsx("h1",{className:"yolmov-logo text-5xl font-bold text-white",children:"yolmov"})}),e.jsxs("div",{className:"relative w-full h-40 flex items-center justify-center mb-8 overflow-hidden",children:[e.jsx("div",{className:"absolute w-32 h-32 bg-white/10 rounded-full animate-ping opacity-20"}),e.jsx("div",{className:"absolute w-48 h-48 bg-white/5 rounded-full animate-ping opacity-10 delay-150"}),e.jsx("div",{className:"absolute bottom-10 w-[200%] flex gap-12 animate-move-left opacity-30",children:[1,2,3,4,5,6,7,8].map(t=>e.jsx("div",{className:"w-16 h-1 bg-white rounded-full"},t))}),e.jsxs(l.div,{animate:{y:[0,-4,0]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},className:"relative z-10 drop-shadow-[0_10px_20px_rgba(0,0,0,0.3)]",children:[Oe(),e.jsx("div",{className:"absolute -bottom-2 left-2 right-2 h-1.5 bg-black/20 rounded-[100%] blur-sm"})]}),e.jsx(l.div,{className:"absolute top-10 right-10 w-10 h-0.5 bg-white/40 rounded-full",animate:{x:[50,-100],opacity:[0,1,0]},transition:{repeat:1/0,duration:.8,delay:.2}}),e.jsx(l.div,{className:"absolute bottom-12 right-0 w-16 h-0.5 bg-white/30 rounded-full",animate:{x:[50,-100],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.1}})]}),e.jsx("div",{className:"h-20 flex flex-col items-center justify-center",children:e.jsx($,{mode:"wait",children:e.jsx(l.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"text-3xl md:text-4xl font-display font-bold tracking-tight leading-tight text-white",children:xe},xe)})}),e.jsx(l.div,{className:"w-64 h-1.5 bg-black/10 rounded-full mt-8 overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:e.jsx(l.div,{className:"h-full bg-white rounded-full",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:2.8,ease:"easeInOut"}})})]})})]})};export{mt as default};
