import{g as N,u as j,r as n,j as e,t as x,M as u,P as f,C as v,d as y,p as k}from"./index-BrwBfCHk.js";import{A as T}from"./arrow-left-yMlh3HP8.js";import{C as A}from"./credit-card-Cpn8JP9R.js";import{C as z}from"./calendar-B7qGfZT7.js";import{C}from"./circle-check-big-Brbjqb0Z.js";const X=[{id:"LREQ-001",partnerId:"PTR-001",partnerName:"Yılmaz Oto Kurtarma",requestType:"lead_purchase",serviceArea:"Kadıköy, İstanbul",serviceType:"cekici",creditCost:1,status:"approved",createdAt:"2024-11-26 14:30",resolvedAt:"2024-11-26 15:00",resolvedBy:"Admin User",adminNotes:"Onaylandı, 1 kredi düşüldü",customerInfo:{name:"Mehmet Demir",phone:"0532 111 22 33",location:"Kadıköy Moda Caddesi, İstanbul"}},{id:"LREQ-002",partnerId:"PTR-002",partnerName:"Hızlı Yol Yardım",requestType:"lead_purchase",serviceArea:"Beşiktaş, İstanbul",serviceType:"aku",creditCost:1,status:"pending",createdAt:"2024-11-27 09:15"},{id:"LREQ-003",partnerId:"PTR-003",partnerName:"Mega Çekici",requestType:"lead_purchase",serviceArea:"Bornova, İzmir",serviceType:"lastik",creditCost:1,status:"pending",createdAt:"2024-11-27 10:30"}],w=[{id:"PTR-001",name:"Yılmaz Oto Kurtarma",credits:25,email:"yilmaz@partner.com",phone:"0532 XXX XX 01"},{id:"PTR-002",name:"Hızlı Yol Yardım",credits:50,email:"hizli@partner.com",phone:"0533 XXX XX 02"},{id:"PTR-003",name:"Mega Çekici",credits:0,email:"mega@partner.com",phone:"0534 XXX XX 03"}],E=()=>{const{id:m}=N(),c=j(),[s,o]=n.useState(X.find(t=>t.id===m)||null),[r,p]=n.useState((s==null?void 0:s.adminNotes)||""),[d,i]=n.useState(!1);if(!s)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Lead Talebi Bulunamadı"}),e.jsx("button",{onClick:()=>c("/admin/talepler"),className:"text-blue-600 font-bold hover:underline",children:"Talep listesine dön"})]})});const a=w.find(t=>t.id===s.partnerId),l=a&&a.credits>=s.creditCost,b=t=>({cekici:"Çekici",aku:"Akü Takviyesi",lastik:"Lastik Değişimi",yakit:"Yakıt Desteği"})[t]||t,h=()=>{if(!l){alert("❌ Partner kredi bakiyesi yetersiz!");return}i(!0),setTimeout(()=>{o({...s,status:"approved",resolvedAt:new Date().toLocaleString("tr-TR"),resolvedBy:"Admin User",adminNotes:r||"Onaylandı, 1 kredi düşüldü",customerInfo:{name:"Ayşe Yılmaz",phone:"05XX XXX XX XX",location:`${s.serviceArea} - Test Mahallesi, No: 123`}}),i(!1),alert("✅ Lead talebi onaylandı! Kredi düşüldü, müşteri bilgisi partnere gönderildi.")},1500)},g=()=>{if(!r.trim()){alert("❌ Lütfen red sebebini belirtin.");return}i(!0),setTimeout(()=>{o({...s,status:"rejected",resolvedAt:new Date().toLocaleString("tr-TR"),resolvedBy:"Admin User",adminNotes:r}),i(!1),alert("❌ Lead talebi reddedildi.")},1500)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("button",{onClick:()=>c("/admin/talepler"),className:"p-3 bg-white rounded-xl hover:bg-slate-100 transition-all shadow-sm",children:e.jsx(T,{size:20})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl font-black text-slate-900",children:"Lead Satın Alma Talebi"}),e.jsx("p",{className:"text-slate-500",children:s.id})]}),e.jsx("div",{className:`px-4 py-2 rounded-xl font-bold ${s.status==="approved"?"bg-green-100 text-green-700":s.status==="rejected"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:s.status==="approved"?"Onaylandı":s.status==="rejected"?"Reddedildi":"Bekliyor"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-blue-700 flex items-center justify-center text-white text-xl font-bold",children:s.partnerName.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:s.partnerName}),e.jsx("p",{className:"text-sm text-slate-500",children:s.partnerId})]})]}),a&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Email"}),e.jsx("p",{className:"font-medium text-slate-900",children:a.email})]}),e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Telefon"}),e.jsx("p",{className:"font-medium text-slate-900",children:a.phone})]}),e.jsxs("div",{className:`rounded-xl p-4 ${l?"bg-green-50":"bg-red-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(A,{size:16,className:l?"text-green-600":"text-red-600"}),e.jsx("p",{className:"text-xs font-bold text-slate-500",children:"Kredi Bakiyesi"})]}),e.jsxs("p",{className:`text-2xl font-black ${l?"text-green-700":"text-red-700"}`,children:[a.credits," Kredi"]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(x,{size:16,className:"text-blue-600"}),e.jsx("p",{className:"text-xs font-bold text-slate-500",children:"Gerekli Kredi"})]}),e.jsxs("p",{className:"text-2xl font-black text-blue-700",children:[s.creditCost," Kredi"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Talep Detayları"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(u,{size:18,className:"text-slate-400"}),e.jsx("p",{className:"text-xs font-bold text-slate-500",children:"Hizmet Bölgesi"})]}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:s.serviceArea})]}),e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(f,{size:18,className:"text-slate-400"}),e.jsx("p",{className:"text-xs font-bold text-slate-500",children:"Hizmet Tipi"})]}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:b(s.serviceType)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(z,{size:18,className:"text-slate-400"}),e.jsx("p",{className:"text-xs font-bold text-slate-500",children:"Talep Tarihi"})]}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:s.createdAt})]}),s.resolvedAt&&e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(v,{size:18,className:"text-slate-400"}),e.jsx("p",{className:"text-xs font-bold text-slate-500",children:"Çözüm Tarihi"})]}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:s.resolvedAt})]})]})]})]}),s.status==="approved"&&s.customerInfo&&e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-2xl border-2 border-green-300 p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(y,{size:24,className:"text-green-700"}),e.jsx("h3",{className:"text-xl font-bold text-green-900",children:"Müşteri Bilgileri"}),e.jsx("span",{className:"ml-auto px-3 py-1 bg-green-200 text-green-800 rounded-full text-xs font-black",children:"Onaylı"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white/80 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-green-600 font-bold mb-1",children:"Ad Soyad"}),e.jsx("p",{className:"text-lg font-black text-green-900",children:s.customerInfo.name})]}),e.jsxs("div",{className:"bg-white/80 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-green-600 font-bold mb-1",children:"Telefon"}),e.jsx("p",{className:"text-lg font-black text-green-900",children:s.customerInfo.phone})]}),e.jsxs("div",{className:"bg-white/80 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-green-600 font-bold mb-1",children:"Konum"}),e.jsx("p",{className:"text-sm font-bold text-green-900",children:s.customerInfo.location})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[!l&&s.status==="pending"&&e.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(x,{size:20,className:"text-red-600"}),e.jsx("h4",{className:"font-bold text-red-900",children:"Yetersiz Kredi!"})]}),e.jsx("p",{className:"text-sm text-red-700",children:"Partner kredi bakiyesi yetersiz. Talep onaylanamaz."})]}),s.status==="pending"&&e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-3",children:"Admin Notları"}),e.jsx("textarea",{value:r,onChange:t=>p(t.target.value),placeholder:"İsteğe bağlı not ekleyin...",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none resize-none",rows:4})]}),s.status==="pending"&&e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-4",children:"İşlemler"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:h,disabled:!l||d,className:"w-full px-6 py-4 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 disabled:bg-slate-300 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-all",children:d?"İşleniyor...":e.jsxs(e.Fragment,{children:[e.jsx(C,{size:20}),"Onayla & Kredi Düş"]})}),e.jsx("button",{onClick:g,disabled:d,className:"w-full px-6 py-4 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 disabled:bg-slate-300 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-all",children:d?"İşleniyor...":e.jsxs(e.Fragment,{children:[e.jsx(k,{size:20}),"Reddet"]})})]})]}),s.status!=="pending"&&e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-4",children:"Çözüm Bilgileri"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-slate-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Çözümleyen"}),e.jsx("p",{className:"font-bold text-slate-900",children:s.resolvedBy||"-"})]}),e.jsxs("div",{className:"bg-slate-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Tarih"}),e.jsx("p",{className:"font-bold text-slate-900",children:s.resolvedAt||"-"})]}),s.adminNotes&&e.jsxs("div",{className:"bg-slate-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Admin Notları"}),e.jsx("p",{className:"text-sm text-slate-900",children:s.adminNotes})]})]})]})]})]})]})})};export{E as default};
