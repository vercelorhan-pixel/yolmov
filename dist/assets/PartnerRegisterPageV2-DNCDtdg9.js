const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DoxsAmQv.js","assets/index-BVYFysv6.css"])))=>i.map(i=>d[i]);
import{r as m,j as e,a as $,A as E,m as h,S as I,h as D,L,u as F,T as K,D as H,W as M,k as G,d as T,B as V,P as W,M as A,l as O,e as Y,_ as U,o as Q,p as q}from"./index-DoxsAmQv.js";import{L as J,v as X,a as Z,s as ee}from"./email-CQY5JhqC.js";import{E as te}from"./UIComponents-C3hxbmd8.js";import{A as R}from"./arrow-left-BnCCvzLd.js";import{C}from"./circle-check-B7IbKQCe.js";import{M as se}from"./mail-BtuBoa87.js";import{L as ae}from"./lock-Dv2n_PcV.js";const P=({value:u,onChange:r,options:d,placeholder:t="SeÃ§iniz",disabled:p=!1,icon:l,error:b,searchable:y=!0})=>{const[c,f]=m.useState(!1),[x,o]=m.useState(""),N=m.useRef(null),g=m.useRef(null);m.useEffect(()=>{const i=z=>{N.current&&!N.current.contains(z.target)&&(f(!1),o(""))};return c&&document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[c]),m.useEffect(()=>{c&&y&&g.current&&setTimeout(()=>{var i;return(i=g.current)==null?void 0:i.focus()},100)},[c,y]);const j=x?d.filter(i=>i.toLowerCase().includes(x.toLowerCase())):d,w=i=>{r(i),f(!1),o("")},k=()=>{p||(f(!c),c&&o(""))};return e.jsxs("div",{ref:N,className:"relative",children:[e.jsxs("button",{type:"button",onClick:k,disabled:p,className:`w-full flex items-center gap-3 pl-12 pr-4 py-4 bg-slate-50 border-2 rounded-2xl transition-all text-left ${p?"opacity-50 cursor-not-allowed border-slate-200":c?"border-brand-orange bg-white shadow-lg":"border-slate-200 hover:border-slate-300 focus:border-brand-orange focus:bg-white"} ${b?"border-red-300":""}`,children:[l&&e.jsx("span",{className:"absolute left-4 text-slate-400",children:l}),e.jsx("span",{className:`flex-1 ${u?"text-slate-900 font-medium":"text-slate-400"}`,children:u||t}),e.jsx($,{size:20,className:`text-slate-400 transition-transform duration-200 ${c?"rotate-180":""}`})]}),b&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:b}),e.jsx(E,{children:c&&e.jsxs(h.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:"absolute z-50 w-full mt-2 bg-white rounded-2xl shadow-2xl border border-slate-200 overflow-hidden",children:[y&&d.length>10&&e.jsx("div",{className:"p-3 border-b border-slate-100",children:e.jsxs("div",{className:"relative",children:[e.jsx(I,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{ref:g,type:"text",value:x,onChange:i=>o(i.target.value),placeholder:"Ara...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-brand-orange focus:bg-white outline-none transition-all"})]})}),e.jsx("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:j.length>0?e.jsx("div",{className:"py-2",children:j.map(i=>e.jsxs("button",{type:"button",onClick:()=>w(i),className:`w-full flex items-center justify-between px-4 py-3 text-left transition-colors ${u===i?"bg-orange-50 text-brand-orange font-semibold":"text-slate-700 hover:bg-slate-50"}`,children:[e.jsx("span",{className:"text-sm",children:i}),u===i&&e.jsx(D,{size:16,className:"text-brand-orange"})]},i))}):e.jsx("div",{className:"px-4 py-8 text-center text-sm text-slate-400",children:"SonuÃ§ bulunamadÄ±"})}),x&&j.length>0&&e.jsxs("div",{className:"px-4 py-2 bg-slate-50 border-t border-slate-100 text-xs text-slate-500 text-center",children:[j.length," sonuÃ§ bulundu"]})]})}),e.jsx("style",{jsx:!0,children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: #f1f5f9;
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #cbd5e1;
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #94a3b8;
        }
      `})]})},re=({showBackButton:u=!0})=>e.jsx("header",{className:"sticky top-0 z-50 w-full bg-white/80 backdrop-blur-xl border-b border-slate-200/50 shadow-sm",children:e.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:u&&e.jsxs(L,{to:"/",className:"flex items-center gap-2 text-slate-600 hover:text-brand-orange transition-colors group",children:[e.jsx(R,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{className:"hidden sm:inline font-medium",children:"Ana Sayfa"})]})}),e.jsx(L,{to:"/",className:"flex items-center absolute left-1/2 -translate-x-1/2",children:e.jsx("span",{className:"yolmov-logo text-2xl md:text-3xl font-bold text-brand-orange",children:"yolmov"})}),e.jsx("a",{href:"mailto:destek@yolmov.com",className:"text-sm font-medium text-slate-600 hover:text-brand-orange transition-colors",children:"YardÄ±m"})]})}),le=[{id:"tow",label:"Oto Ã‡ekici",icon:K},{id:"tire",label:"LastikÃ§i",icon:H},{id:"repair",label:"Oto Tamir",icon:M},{id:"battery",label:"AkÃ¼ Servisi",icon:G}],ue=()=>{const u=F(),[r,d]=m.useState("sector"),[t,p]=m.useState({firstName:"",lastName:"",companyName:"",sectors:[],city:"",district:"",phone:"",email:"",password:""}),[l,b]=m.useState({}),[y,c]=m.useState(!1),[f,x]=m.useState(""),o=(s,a)=>{p(n=>({...n,[s]:a})),l[s]&&b(n=>({...n,[s]:""}))},N=s=>{p(a=>{const n=a.sectors.includes(s);return{...a,sectors:n?a.sectors.filter(v=>v!==s):[...a.sectors,s]}}),l.sectors&&b(a=>({...a,sectors:""}))},g=s=>{const a={};return s==="sector"?t.sectors.length===0&&(a.sectors="En az bir hizmet seÃ§iniz"):s==="personal"?(t.firstName.trim()||(a.firstName="Ad gereklidir"),t.lastName.trim()||(a.lastName="Soyad gereklidir"),t.phone.trim()?X(t.phone)||(a.phone="GeÃ§erli bir telefon numarasÄ± giriniz"):a.phone="Telefon gereklidir",t.email.trim()&&!Z(t.email)&&(a.email="GeÃ§erli bir e-posta adresi giriniz"),t.password.trim()?t.password.length<6&&(a.password="Åžifre en az 6 karakter olmalÄ±dÄ±r"):a.password="Åžifre gereklidir"):s==="location"&&(t.city||(a.city="Åžehir seÃ§iniz"),t.district||(a.district="Ä°lÃ§e seÃ§iniz")),b(a),Object.keys(a).length===0},j=()=>{g(r)&&(r==="sector"?d("personal"):r==="personal"?d("location"):r==="location"&&i())},w=()=>{r==="personal"?d("sector"):r==="location"&&d("personal")},k=s=>{const a=s.map(n=>Q[n]).filter(Boolean);return a.length>0?a:[q.YARDIM]},i=async()=>{var s,a;if(g("location")){c(!0),d("submitting");try{const n=t.email.trim()||`${t.phone.replace(/\D/g,"")}@yolmov-temp.local`,v=await(await U(async()=>{const{default:S}=await import("./index-DoxsAmQv.js").then(B=>B.ai);return{default:S}},__vite__mapDeps([0,1]))).default.auth.signUpPartner(n.toLowerCase(),t.password,{first_name:t.firstName.trim(),last_name:t.lastName.trim(),company_name:t.companyName.trim()||`${t.firstName} ${t.lastName}`.trim(),sector:t.sectors[0]||"tow",city:t.city,district:t.district,phone:t.phone.replace(/\s/g,""),email:n.toLowerCase(),service_types:k(t.sectors)});if(!(v!=null&&v.partner)){x("KayÄ±t sÄ±rasÄ±nda bir hata oluÅŸtu. LÃ¼tfen tekrar deneyiniz."),d("location");return}if(u("/partner-kayit-basarili",{state:{credentials:{email:n.toLowerCase(),password:t.password,firstName:t.firstName.trim(),lastName:t.lastName.trim(),companyName:t.companyName.trim(),phone:t.phone}}}),t.email.trim())try{await ee(n.toLowerCase(),{firstName:t.firstName.trim(),lastName:t.lastName.trim(),companyName:t.companyName.trim()||`${t.firstName} ${t.lastName}`,sector:t.sectors.join(", "),city:t.city,district:t.district,phone:t.phone.replace(/\s/g,""),taxNumber:""})}catch(S){console.warn("âœ‰ï¸ E-posta bildirimi gÃ¶nderilemedi:",S)}}catch(n){console.error("ðŸ”´ Unexpected error:",n),(s=n.message)!=null&&s.includes("already registered")||(a=n.message)!=null&&a.includes("email")?x("Bu telefon/e-posta ile kayÄ±t zaten mevcut. LÃ¼tfen giriÅŸ yapÄ±n."):x("Beklenmeyen bir hata oluÅŸtu. LÃ¼tfen daha sonra tekrar deneyiniz."),d("location")}finally{c(!1)}}},z=()=>r==="sector"?1:r==="personal"?2:3,_=()=>r==="sector"?33:r==="personal"?66:100;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[e.jsx(E,{children:f&&e.jsx(te,{message:f,onClose:()=>x("")})}),e.jsx(re,{showBackButton:r==="sector"}),e.jsx("div",{className:"bg-gradient-to-br from-slate-50 via-white to-slate-50 border-b border-slate-100",children:e.jsx("div",{className:"container mx-auto px-6 py-8 relative z-10",children:e.jsxs(h.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto text-center",children:[e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-3",children:["Partner Ol,",e.jsx("span",{className:"text-brand-orange",children:"Kazanmaya BaÅŸla"})]}),e.jsx("p",{className:"text-slate-600 text-base md:text-lg",children:"3 adÄ±mda Ã¼cretsiz kayÄ±t ol, onay sonrasÄ± hemen iÅŸ almaya baÅŸla."})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-8 md:py-12",children:e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs("div",{children:[e.jsx("div",{children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-white px-6 py-4 border-b border-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-xs font-medium text-slate-500",children:["AdÄ±m ",z()," / 3"]}),e.jsxs("span",{className:"text-xs font-medium text-brand-orange",children:[_(),"%"]})]}),e.jsx("div",{className:"h-1.5 bg-slate-100 rounded-full overflow-hidden",children:e.jsx(h.div,{initial:{width:0},animate:{width:`${_()}%`},transition:{duration:.4,ease:"easeOut"},className:"h-full bg-brand-orange"})})]}),e.jsxs("div",{className:"p-6 md:p-8",children:[e.jsxs(E,{mode:"wait",children:[r==="sector"&&e.jsxs(h.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-slate-900 mb-1.5",children:"Hangi hizmeti veriyorsunuz?"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Birden fazla seÃ§im yapabilirsiniz"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:le.map(s=>e.jsx(h.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>N(s.id),className:`cursor-pointer relative overflow-hidden rounded-xl border-2 transition-all duration-200 ${t.sectors.includes(s.id)?"border-brand-orange bg-orange-50/50":"border-slate-200 hover:border-slate-300 bg-white"}`,children:e.jsxs("div",{className:"p-4 flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${t.sectors.includes(s.id)?"bg-brand-orange text-white":"bg-slate-100 text-slate-600"}`,children:e.jsx(s.icon,{size:20,strokeWidth:2})}),e.jsx("h3",{className:"font-semibold text-slate-900 text-sm",children:s.label}),t.sectors.includes(s.id)&&e.jsx(C,{size:18,className:"text-brand-orange ml-auto"})]})},s.id))}),l.sectors&&e.jsx("p",{className:"text-red-500 text-sm font-medium",children:l.sectors})]},"sector"),r==="personal"&&e.jsxs(h.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-slate-900 mb-1.5",children:"Sizi tanÄ±yalÄ±m"}),e.jsx("p",{className:"text-sm text-slate-500",children:"KiÅŸisel bilgilerinizi girin"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ad *"}),e.jsxs("div",{className:"relative",children:[e.jsx(T,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"AdÄ±nÄ±z",value:t.firstName,onChange:s=>o("firstName",s.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl focus:border-brand-orange focus:bg-white outline-none transition-all"})]}),l.firstName&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.firstName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Soyad *"}),e.jsxs("div",{className:"relative",children:[e.jsx(T,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"SoyadÄ±nÄ±z",value:t.lastName,onChange:s=>o("lastName",s.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl focus:border-brand-orange focus:bg-white outline-none transition-all"})]}),l.lastName&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.lastName})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Firma AdÄ± ",e.jsx("span",{className:"text-slate-400",children:"(Opsiyonel)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(V,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Firma / Ä°ÅŸletme adÄ±",value:t.companyName,onChange:s=>o("companyName",s.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl focus:border-brand-orange focus:bg-white outline-none transition-all"})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"ðŸ’¡ Bireysel Ã§alÄ±ÅŸÄ±yorsanÄ±z boÅŸ bÄ±rakabilirsiniz"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Telefon *"}),e.jsxs("div",{className:"relative",children:[e.jsx(W,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"tel",placeholder:"0532 123 45 67",value:t.phone,onChange:s=>o("phone",s.target.value),inputMode:"numeric",className:"w-full pl-12 pr-4 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl focus:border-brand-orange focus:bg-white outline-none transition-all"})]}),l.phone&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.phone})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["E-posta ",e.jsx("span",{className:"text-slate-400",children:"(Opsiyonel)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(se,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"email",placeholder:"ornek@email.com",value:t.email,onChange:s=>o("email",s.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl focus:border-brand-orange focus:bg-white outline-none transition-all"})]}),l.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.email}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"ðŸ’¡ E-posta yoksa sadece telefonla kayÄ±t olabilirsiniz"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Åžifre *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ae,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"password",placeholder:"En az 6 karakter",value:t.password,onChange:s=>o("password",s.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl focus:border-brand-orange focus:bg-white outline-none transition-all"})]}),l.password&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.password})]})]})]},"personal"),r==="location"&&e.jsxs(h.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-slate-900 mb-1.5",children:"Nerede hizmet veriyorsunuz?"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Hizmet vereceÄŸiniz bÃ¶lgeyi belirleyin"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ä°l *"}),e.jsx(P,{value:t.city,onChange:s=>o("city",s),options:Object.keys(O),placeholder:"Ä°l SeÃ§iniz",icon:e.jsx(A,{size:20}),error:l.city,searchable:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ä°lÃ§e *"}),e.jsx(P,{value:t.district,onChange:s=>o("district",s),options:t.city?O[t.city]:[],placeholder:"Ä°lÃ§e SeÃ§iniz",icon:e.jsx(A,{size:20}),error:l.district,disabled:!t.city,searchable:!0})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-6",children:[e.jsxs("h4",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[e.jsx(C,{size:18,className:"text-blue-600"}),"KayÄ±t SonrasÄ±"]}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1.5",children:[e.jsx("li",{children:"âœ“ Komisyon yok, aidat yok"}),e.jsx("li",{children:"âœ“ Belge yÃ¼kleme iÅŸlemini daha sonra yapabilirsiniz"}),e.jsx("li",{children:"âœ“ Admin onayÄ± sonrasÄ± hemen iÅŸ almaya baÅŸlayabilirsiniz"})]})]})]})]},"location"),r==="submitting"&&e.jsxs(h.div,{initial:{opacity:0},animate:{opacity:1},className:"py-12 text-center",children:[e.jsx(J,{size:48,className:"mx-auto text-brand-orange animate-spin mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"KaydÄ±nÄ±z oluÅŸturuluyor..."}),e.jsx("p",{className:"text-slate-600",children:"LÃ¼tfen bekleyin"})]},"submitting")]}),r!=="submitting"&&e.jsxs("div",{className:"flex items-center gap-4 mt-8 pt-8 border-t border-slate-100",children:[r!=="sector"&&e.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-6 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 font-semibold rounded-2xl transition-all",children:[e.jsx(R,{size:18}),"Geri"]}),e.jsx("button",{onClick:j,disabled:y,className:"flex-1 flex items-center justify-center gap-2 px-8 py-4 bg-gradient-to-r from-brand-orange to-orange-500 hover:from-orange-500 hover:to-brand-orange text-white font-bold rounded-2xl shadow-lg hover:shadow-xl transition-all transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:r==="location"?e.jsxs(e.Fragment,{children:["Ãœcretsiz KayÄ±t Ol",e.jsx(C,{size:20})]}):e.jsxs(e.Fragment,{children:["Devam Et",e.jsx(Y,{size:20})]})})]})]})]})}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-sm text-slate-500",children:[e.jsx("span",{className:"font-semibold text-slate-700",children:"Aktif Hizmet verenler"})," â€” GÃ¼venilir platform"]})})]})})})]})};export{ue as default};
