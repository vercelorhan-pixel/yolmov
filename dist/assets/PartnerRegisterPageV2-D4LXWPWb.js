const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CgBVxKrU.js","assets/index-BVYFysv6.css"])))=>i.map(i=>d[i]);
import{j as e,L as v,u as D,r as m,A as w,m as c,T as $,D as F,W as K,k as I,d as k,B as R,P as H,M as z,l as S,e as M,_ as G}from"./index-CgBVxKrU.js";import{L as W,v as U,a as V,s as Y}from"./email-DbVQ9Mae.js";import{E as q}from"./UIComponents-ih9bT04a.js";import{A as C}from"./arrow-left-CjgJegqO.js";import{C as u}from"./circle-check-DYa4kIAU.js";import{M as J}from"./mail-CSfClvm7.js";import{L as Q}from"./lock-04IGquMm.js";const X=({showBackButton:p=!0})=>e.jsx("header",{className:"sticky top-0 z-50 w-full bg-white/80 backdrop-blur-xl border-b border-slate-200/50 shadow-sm",children:e.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:p&&e.jsxs(v,{to:"/",className:"flex items-center gap-2 text-slate-600 hover:text-brand-orange transition-colors group",children:[e.jsx(C,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{className:"hidden sm:inline font-medium",children:"Ana Sayfa"})]})}),e.jsx(v,{to:"/",className:"flex items-center absolute left-1/2 -translate-x-1/2",children:e.jsx("span",{className:"yolmov-logo text-2xl md:text-3xl font-bold text-brand-orange",children:"yolmov"})}),e.jsx("a",{href:"mailto:destek@yolmov.com",className:"text-sm font-medium text-slate-600 hover:text-brand-orange transition-colors",children:"YardÄ±m"})]})}),Z=[{id:"tow",label:"Oto Ã‡ekici",icon:$},{id:"tire",label:"LastikÃ§i",icon:F},{id:"repair",label:"Oto Tamir",icon:K},{id:"battery",label:"AkÃ¼ Servisi",icon:I}],ne=()=>{const p=D(),[i,o]=m.useState("sector"),[t,f]=m.useState({firstName:"",lastName:"",companyName:"",sectors:[],city:"",district:"",phone:"",email:"",password:""}),[l,h]=m.useState({}),[E,N]=m.useState(!1),[j,x]=m.useState(""),n=(s,a)=>{f(r=>({...r,[s]:a})),l[s]&&h(r=>({...r,[s]:""}))},_=s=>{f(a=>{const r=a.sectors.includes(s);return{...a,sectors:r?a.sectors.filter(d=>d!==s):[...a.sectors,s]}}),l.sectors&&h(a=>({...a,sectors:""}))},g=s=>{const a={};return s==="sector"?t.sectors.length===0&&(a.sectors="En az bir hizmet seÃ§iniz"):s==="personal"?(t.firstName.trim()||(a.firstName="Ad gereklidir"),t.lastName.trim()||(a.lastName="Soyad gereklidir"),t.phone.trim()?U(t.phone)||(a.phone="GeÃ§erli bir telefon numarasÄ± giriniz"):a.phone="Telefon gereklidir",t.email.trim()&&!V(t.email)&&(a.email="GeÃ§erli bir e-posta adresi giriniz"),t.password.trim()?t.password.length<6&&(a.password="Åžifre en az 6 karakter olmalÄ±dÄ±r"):a.password="Åžifre gereklidir"):s==="location"&&(t.city||(a.city="Åžehir seÃ§iniz"),t.district||(a.district="Ä°lÃ§e seÃ§iniz")),h(a),Object.keys(a).length===0},L=()=>{g(i)&&(i==="sector"?o("personal"):i==="personal"?o("location"):i==="location"&&T())},A=()=>{i==="personal"?o("sector"):i==="location"&&o("personal")},P=s=>{const a={tow:"cekici",tire:"lastik",repair:"tamir",battery:"aku"};return s.map(r=>a[r]).filter(Boolean)},T=async()=>{var s,a;if(g("location")){N(!0),o("submitting");try{const r=t.email.trim()||`${t.phone.replace(/\D/g,"")}@yolmov-temp.local`,d=await(await G(async()=>{const{default:b}=await import("./index-CgBVxKrU.js").then(O=>O.ae);return{default:b}},__vite__mapDeps([0,1]))).default.auth.signUpPartner(r.toLowerCase(),t.password,{first_name:t.firstName.trim(),last_name:t.lastName.trim(),company_name:t.companyName.trim()||`${t.firstName} ${t.lastName}`.trim(),sector:t.sectors[0]||"tow",city:t.city,district:t.district,phone:t.phone.replace(/\s/g,""),email:r.toLowerCase(),service_types:P(t.sectors)});if(!(d!=null&&d.partner)){x("KayÄ±t sÄ±rasÄ±nda bir hata oluÅŸtu. LÃ¼tfen tekrar deneyiniz."),o("location");return}if(p("/partner-kayit-basarili",{state:{credentials:{email:r.toLowerCase(),password:t.password,firstName:t.firstName.trim(),lastName:t.lastName.trim(),companyName:t.companyName.trim(),phone:t.phone}}}),t.email.trim())try{await Y(r.toLowerCase(),{firstName:t.firstName.trim(),lastName:t.lastName.trim(),companyName:t.companyName.trim()||`${t.firstName} ${t.lastName}`,sector:t.sectors.join(", "),city:t.city,district:t.district,phone:t.phone.replace(/\s/g,""),taxNumber:""})}catch(b){console.warn("âœ‰ï¸ E-posta bildirimi gÃ¶nderilemedi:",b)}}catch(r){console.error("ðŸ”´ Unexpected error:",r),(s=r.message)!=null&&s.includes("already registered")||(a=r.message)!=null&&a.includes("email")?x("Bu telefon/e-posta ile kayÄ±t zaten mevcut. LÃ¼tfen giriÅŸ yapÄ±n."):x("Beklenmeyen bir hata oluÅŸtu. LÃ¼tfen daha sonra tekrar deneyiniz."),o("location")}finally{N(!1)}}},B=()=>i==="sector"?1:i==="personal"?2:3,y=()=>i==="sector"?33:i==="personal"?66:100;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[e.jsx(w,{children:j&&e.jsx(q,{message:j,onClose:()=>x("")})}),e.jsx(X,{showBackButton:i==="sector"}),e.jsx("div",{className:"bg-gradient-to-br from-slate-50 via-white to-slate-50 border-b border-slate-100",children:e.jsx("div",{className:"container mx-auto px-6 py-8 relative z-10",children:e.jsxs(c.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto text-center",children:[e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-3",children:["Partner Ol,",e.jsx("span",{className:"text-brand-orange",children:"Kazanmaya BaÅŸla"})]}),e.jsx("p",{className:"text-slate-600 text-base md:text-lg",children:"3 adÄ±mda Ã¼cretsiz kayÄ±t ol, onay sonrasÄ± hemen iÅŸ almaya baÅŸla."})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-8 md:py-12",children:e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs("div",{children:[e.jsx("div",{children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-white px-6 py-4 border-b border-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-xs font-medium text-slate-500",children:["AdÄ±m ",B()," / 3"]}),e.jsxs("span",{className:"text-xs font-medium text-brand-orange",children:[y(),"%"]})]}),e.jsx("div",{className:"h-1.5 bg-slate-100 rounded-full overflow-hidden",children:e.jsx(c.div,{initial:{width:0},animate:{width:`${y()}%`},transition:{duration:.4,ease:"easeOut"},className:"h-full bg-brand-orange"})})]}),e.jsxs("div",{className:"p-6 md:p-8",children:[e.jsxs(w,{mode:"wait",children:[i==="sector"&&e.jsxs(c.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-slate-900 mb-1.5",children:"Hangi hizmeti veriyorsunuz?"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Birden fazla seÃ§im yapabilirsiniz"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:Z.map(s=>e.jsx(c.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>_(s.id),className:`cursor-pointer relative overflow-hidden rounded-xl border-2 transition-all duration-200 ${t.sectors.includes(s.id)?"border-brand-orange bg-orange-50/50":"border-slate-200 hover:border-slate-300 bg-white"}`,children:e.jsxs("div",{className:"p-4 flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${t.sectors.includes(s.id)?"bg-brand-orange text-white":"bg-slate-100 text-slate-600"}`,children:e.jsx(s.icon,{size:20,strokeWidth:2})}),e.jsx("h3",{className:"font-semibold text-slate-900 text-sm",children:s.label}),t.sectors.includes(s.id)&&e.jsx(u,{size:18,className:"text-brand-orange ml-auto"})]})},s.id))}),l.sectors&&e.jsx("p",{className:"text-red-500 text-sm font-medium",children:l.sectors})]},"sector"),i==="personal"&&e.jsxs(c.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-slate-900 mb-1.5",children:"Sizi tanÄ±yalÄ±m"}),e.jsx("p",{className:"text-sm text-slate-500",children:"KiÅŸisel bilgilerinizi girin"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ad *"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"AdÄ±nÄ±z",value:t.firstName,onChange:s=>n("firstName",s.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl focus:border-brand-orange focus:bg-white outline-none transition-all"})]}),l.firstName&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.firstName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Soyad *"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"SoyadÄ±nÄ±z",value:t.lastName,onChange:s=>n("lastName",s.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl focus:border-brand-orange focus:bg-white outline-none transition-all"})]}),l.lastName&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.lastName})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Firma AdÄ± ",e.jsx("span",{className:"text-slate-400",children:"(Opsiyonel)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(R,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Firma / Ä°ÅŸletme adÄ±",value:t.companyName,onChange:s=>n("companyName",s.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl focus:border-brand-orange focus:bg-white outline-none transition-all"})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"ðŸ’¡ Bireysel Ã§alÄ±ÅŸÄ±yorsanÄ±z boÅŸ bÄ±rakabilirsiniz"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Telefon *"}),e.jsxs("div",{className:"relative",children:[e.jsx(H,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"tel",placeholder:"0532 123 45 67",value:t.phone,onChange:s=>n("phone",s.target.value),inputMode:"numeric",className:"w-full pl-12 pr-4 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl focus:border-brand-orange focus:bg-white outline-none transition-all"})]}),l.phone&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.phone})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["E-posta ",e.jsx("span",{className:"text-slate-400",children:"(Opsiyonel)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(J,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"email",placeholder:"ornek@email.com",value:t.email,onChange:s=>n("email",s.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl focus:border-brand-orange focus:bg-white outline-none transition-all"})]}),l.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.email}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"ðŸ’¡ E-posta yoksa sadece telefonla kayÄ±t olabilirsiniz"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Åžifre *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Q,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"password",placeholder:"En az 6 karakter",value:t.password,onChange:s=>n("password",s.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl focus:border-brand-orange focus:bg-white outline-none transition-all"})]}),l.password&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.password})]})]})]},"personal"),i==="location"&&e.jsxs(c.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-slate-900 mb-1.5",children:"Nerede hizmet veriyorsunuz?"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Hizmet vereceÄŸiniz bÃ¶lgeyi belirleyin"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ä°l *"}),e.jsxs("div",{className:"relative",children:[e.jsx(z,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsxs("select",{value:t.city,onChange:s=>n("city",s.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl focus:border-brand-orange focus:bg-white outline-none transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"Ä°l SeÃ§iniz"}),Object.keys(S).map(s=>e.jsx("option",{value:s,children:s},s))]})]}),l.city&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.city})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ä°lÃ§e *"}),e.jsxs("div",{className:"relative",children:[e.jsx(z,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsxs("select",{value:t.district,onChange:s=>n("district",s.target.value),disabled:!t.city,className:"w-full pl-12 pr-4 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl focus:border-brand-orange focus:bg-white outline-none transition-all appearance-none cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Ä°lÃ§e SeÃ§iniz"}),t.city&&S[t.city].map(s=>e.jsx("option",{value:s,children:s},s))]})]}),l.district&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.district})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-6",children:[e.jsxs("h4",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[e.jsx(u,{size:18,className:"text-blue-600"}),"KayÄ±t SonrasÄ±"]}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1.5",children:[e.jsx("li",{children:"âœ“ Komisyon yok, aidat yok"}),e.jsx("li",{children:"âœ“ Belge yÃ¼kleme iÅŸlemini daha sonra yapabilirsiniz"}),e.jsx("li",{children:"âœ“ Admin onayÄ± sonrasÄ± hemen iÅŸ almaya baÅŸlayabilirsiniz"})]})]})]})]},"location"),i==="submitting"&&e.jsxs(c.div,{initial:{opacity:0},animate:{opacity:1},className:"py-12 text-center",children:[e.jsx(W,{size:48,className:"mx-auto text-brand-orange animate-spin mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"KaydÄ±nÄ±z oluÅŸturuluyor..."}),e.jsx("p",{className:"text-slate-600",children:"LÃ¼tfen bekleyin"})]},"submitting")]}),i!=="submitting"&&e.jsxs("div",{className:"flex items-center gap-4 mt-8 pt-8 border-t border-slate-100",children:[i!=="sector"&&e.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-6 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 font-semibold rounded-2xl transition-all",children:[e.jsx(C,{size:18}),"Geri"]}),e.jsx("button",{onClick:L,disabled:E,className:"flex-1 flex items-center justify-center gap-2 px-8 py-4 bg-gradient-to-r from-brand-orange to-orange-500 hover:from-orange-500 hover:to-brand-orange text-white font-bold rounded-2xl shadow-lg hover:shadow-xl transition-all transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:i==="location"?e.jsxs(e.Fragment,{children:["Ãœcretsiz KayÄ±t Ol",e.jsx(u,{size:20})]}):e.jsxs(e.Fragment,{children:["Devam Et",e.jsx(M,{size:20})]})})]})]})]})}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-sm text-slate-500",children:[e.jsx("span",{className:"font-semibold text-slate-700",children:"1000+ Aktif Partner"})," â€” GÃ¼venilir platform"]})})]})})})]})};export{ne as default};
